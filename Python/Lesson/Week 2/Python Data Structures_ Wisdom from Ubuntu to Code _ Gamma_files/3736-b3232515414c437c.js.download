(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3736],{2318:(e,n,i)=>{"use strict";i.d(n,{Hz:()=>a});let s=e=>(n,i)=>n.id===e?1:i.id===e?-1:0,a=(e,n)=>[...e].sort(s(n))},6772:(e,n,i)=>{e.exports=i(85432)},8909:(e,n,i)=>{"use strict";i.d(n,{q:()=>I});var s=i(81278),a=i.n(s),t=i(55729),l=i(39892),r=i(15342),o=i(95889),d=i(82927),c=i(20939),x=i(68422),h=i(38944),u=i(6029),p=i(46898),j=i(26385),m=i(48810),b=i(49611),g=i(19564),v=i(88586),f=i(73616);let C=e=>{let{currentChannelId:n,activeChannel:i,workspaceId:s}=e,l=(0,p.d)(),r="channel-preview",{joinChannel:o}=(0,f.Z)(),{data:d,called:c,error:x,loading:C}=(0,v.pc2)({variables:{id:n,workspaceId:s},skip:i||!n||!s}),E=n&&!i&&(null==d?void 0:d.channel)?d.channel:null;return(0,t.useEffect)(()=>{x&&console.error("[useChannelsData] Error fetching channelPreview",x),(x||c&&E&&E.archived)&&a().replace("/#".concat(h.Jj))},[x,E,c,C]),(0,t.useEffect)(()=>{let e=n&&E;if(e||l.close(r),e){let e=E.name;l.isActive(r)||l({id:r,duration:null,position:"top",isClosable:!0,title:(0,u.jsxs)(j.B,{direction:"row",children:[(0,u.jsx)(m.E,{flex:1,children:(0,u.jsx)(g.x6,{id:"REl4b1",values:{channelName:e}})}),(0,u.jsx)(b.$,{size:"sm",width:"fit-content",display:"block",onClick:()=>{if(!n||!E)return void console.error("No active channel id");o({channel:{...E},workspaceId:s}).then(()=>{l.close(r)})},variant:"solid",children:(0,u.jsx)(g.x6,{id:"0wdd7X"})})]})})}return()=>{l.close(r)}},[n,E,o,l,s]),{channelPreview:E}},E=e=>{let{workspaceId:n,user:i}=e,{query:a}=(0,s.useRouter)(),l=Array.isArray(a.channelSlug)?a.channelSlug[0]:a.channelSlug,r=l?l.slice(-15):null,{data:o,loading:d,subscribeToMore:c}=(0,v.oXG)({variables:{workspaceId:n},skip:!i||!i.workspaceMemberships||!n,returnPartialData:!0});(0,t.useEffect)(()=>{if(c&&n)return c({document:v.U1V,variables:{workspaceId:n},onError:e=>{}})},[c,n]);let x=((null==o?void 0:o.channels)||[]).filter(e=>e.isMember&&!e.archived).sort((e,n)=>e.slug.localeCompare(n.slug,"en")),h=x.find(e=>e.id===r),{channelPreview:u}=C({currentChannelId:r,activeChannel:h,workspaceId:n});return{channelPreview:u,currentChannelId:r,channels:x,isChannelsLoading:d,activeChannel:h}},y=e=>{let{currentChannel:n,currentWorkspaceId:i}=e,{replace:a}=(0,s.useRouter)();(0,t.useEffect)(()=>{i&&n&&n.workspaceId!==i&&a("/")},[n,i,a])};var w=i(95975),S=i(70006);let T=e=>Object.values(x.n8).find(n=>n===e),I=()=>{let{user:e,currentWorkspace:n}=(0,d.ur)(),{isReady:i,route:u}=(0,s.useRouter)(),p=(0,l.Fd)(),j=!!(e&&0===e.workspaceMemberships.length),m=T((0,S.M$)()),{channelPreview:b,channels:g,activeChannel:v,currentChannelId:f,isChannelsLoading:C}=E({workspaceId:null==n?void 0:n.id,user:e});y({currentChannel:b||v,currentWorkspaceId:null==n?void 0:n.id});let{state:I,dispatch:A}=(0,c.YR)(),_=I.activeTab,k=(0,r.jL)(),R=(0,r.GV)(w.kx),O=(0,t.useCallback)(e=>{k((0,w.aL)({isSidebarVisible:e}))},[k]);return(0,t.useEffect)(()=>{let e=f?x.n8.CHANNEL:m||("/settings"===u?"settings":void 0)||h.Jj;e!==_&&A({type:"SET_ACTIVE_TAB",payload:e})},[_,f,A,u,m]),(0,t.useEffect)(()=>{p||"sites"!==_||a().replace("/")},[p,_]),(0,t.useEffect)(()=>{O(!1)},[]),(0,t.useEffect)(()=>{i&&(j?a().replace("/#".concat(x.n8.SHARED_WITH_YOU)):setTimeout(()=>{k((0,w.aL)({isSidebarVisible:!1}))},150))},[k,m,f,j,i]),(0,o.JQ)(e=>{e.track(o.VV.HOME_TAB_VIEWED,{tab:_})},[_]),{channelPreview:b,channels:g,activeChannel:v,currentChannelId:f,isChannelsLoading:C,activeTab:_,isSidebarVisible:R,setIsSidebarVisible:O,sitesEnabled:p,userHasNoWorkspaces:j,user:e,currentWorkspace:n}}},20939:(e,n,i)=>{"use strict";i.d(n,{Je:()=>c,TQ:()=>d,YR:()=>o});var s=i(6029),a=i(55729);let t={activeTab:i(68422).n8.ALL,activeTabBgColor:void 0},l=(0,a.createContext)({state:t,dispatch:()=>{throw Error("dispatch function must be overridden")}}),r=(e,n)=>{switch(n.type){case"SET_ACTIVE_TAB":return{...e,activeTab:n.payload,activeTabBgColor:void 0};case"SET_ACTIVE_TAB_BG_COLOR":return{...e,activeTabBgColor:n.color};default:return e}},o=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useActiveTabContext must be used within a ActiveTabProvider");return e},d=e=>{let{children:n}=e,[i,o]=(0,a.useReducer)(r,t);return(0,s.jsx)(l.Provider,{value:{state:i,dispatch:o},children:n})},c=()=>{let{state:e,dispatch:n}=o(),i=(0,a.useCallback)(e=>n({type:"SET_ACTIVE_TAB_BG_COLOR",color:e}),[n]);return[e.activeTabBgColor,i]}},26545:(e,n,i)=>{"use strict";i.d(n,{e:()=>s.e});var s=i(65100)},34989:(e,n,i)=>{"use strict";i.d(n,{M:()=>ni});var s=i(6029),a=i(40452),t=i(83004),l=i(17206),r=i(55729),o=i(29608),d=i(28615),c=i(11403),x=i(85732),h=i(68301),u=i(6807),p=i(68986);let j=e=>{let{definition:n,onClose:i}=e,{key:a,dismissKey:t="modal-dismiss-".concat(a),ttl:l,conditions:o,featureFlag:d,Modal:c}=n,[x,j]=(0,u.M)(t,!1);(0,r.useEffect)(()=>{if(l&&x)new Date().getTime()-new Date(x).getTime()>1e3*l&&p.x.removeItem(t)},[t,x,l]);let m=(0,r.useCallback)(()=>{j(String(new Date)),null==i||i()},[i,j]);return!(0,h.WK)(d)||o&&!o()||x?null:(0,s.jsx)(c,{onClose:m})};var m=i(67909),b=i(36071),g=i(54731),v=i(3674),f=i(40691),C=i(57405),E=i(23293),y=i(33787),w=i(48810),S=i(49611),T=i(19564);let I=[{key:"rebrand-announcement",Modal:e=>{let{onClose:n}=e;return(0,s.jsxs)(m.aF,{isOpen:!0,onClose:n,isCentered:!0,size:"3xl",children:[(0,s.jsx)(b.m,{backdropFilter:"blur(10px)",bg:"whiteAlpha.800"}),(0,s.jsxs)(g.$,{overflow:"hidden",backgroundColor:"transparent",children:[(0,s.jsx)(v.s,{color:"white",_hover:{backgroundColor:"whiteAlpha.200"}}),(0,s.jsx)(f.c,{p:0,m:0,bgImage:'url("https://cdn.gamma.app/zc87vhr30n8uf3n/131a545a28d849a68b996324291ba114/original/rebrand-modal-bg.png")',bgSize:"cover",bgPosition:"top center",bgRepeat:"no-repeat",children:(0,s.jsxs)(C.T,{flex:1.618,h:"100%",p:12,spacing:8,color:"white",children:[(0,s.jsx)(E.D,{size:"lg",color:"white",fontWeight:"regular",children:(0,s.jsx)(T.x6,{id:"Y1sJ8Q"})}),(0,s.jsx)(y._,{src:"https://cdn.gamma.app/zc87vhr30n8uf3n/e4c93febd19a4043b4fc86acb7a21581/optimized/announcement-logo-final.svg",w:"30em"}),(0,s.jsx)(w.E,{textAlign:"center",color:"white",children:(0,s.jsx)(T.x6,{id:"7TTkKB",components:{0:(0,s.jsx)("br",{})}})}),(0,s.jsx)(S.$,{variant:"plain",size:"lg",onClick:n,children:(0,s.jsx)(T.x6,{id:"0ugVVL"})})]})})]})]})},dismissKey:i(65148).E.lastDismissedRebrandModal,featureFlag:"gammaRebrandModal"}],A=e=>{let{isViewOnly:n}=e,i=(0,c.En)(),[a,t]=(0,r.useState)(0);return n||!i||(0,o.rA)()||d.D1||(0,x.NF)()||a>=I.length?null:(0,s.jsx)(j,{definition:I[a],onClose:()=>{t(e=>e+1)}})};var _=i(20939),k=i(27828),R=i(95669),O=i.n(R),L=i(81061),N=i(58853),D=i(82328),P=i(81043),M=i(85328),z=i(99038),B=i(24573),U=i(82062),H=i(50979),V=i(72104),W=i(26420),G=i(96500),Q=i(29810),F=i(26385),K=i(41781);let Y=({size:e="2rem",...n})=>(0,s.jsx)(K.E,{borderRadius:"full",boxSize:e,...n});Y.displayName="SkeletonCircle";var $=i(16936),Z=i(99492),X=i(91106),J=i(77650),q=i(19783),ee=i(55597),en=i(48621),ei=i(74003),es=i(95889),ea=i(73);let et=()=>{let{hasUnlimitedCredits:e,onAICreditsModalOpen:n,onAICreditsModalClose:i}=(0,ea.x)(),{openUpsellModal:a,product:t}=(0,ei.I)();return e&&null!==t?null:(0,s.jsx)(S.$,{variant:"ghost",size:"sm",width:"fit-content",onClick:()=>{a({onOpenCallback:n,onCloseCallback:i,segmentEvent:es.VV.GAMMA_PRO_UPSELL_CALLOUT_UNLIMITED_AI})},leftIcon:(0,s.jsx)(en.g,{icon:ee._$C,size:"sm"}),children:(0,s.jsx)(T.x6,{id:"WF3ztB"})})};var el=i(1079),er=i(5061),eo=i(49337),ed=i(89942),ec=i(75748),ex=i(80812),eh=i(21490);let eu=e=>{let{isDisabled:n}=e,i=(0,er.fW)();return(0,r.useEffect)(()=>{(0,eh.a)({align:i?"left":"right"})},[i]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.mL,{styles:{".Canny_BadgeContainer .Canny_Badge":{position:"absolute",top:"4px",right:"4px",borderRadius:"100%",backgroundColor:"var(--chakra-colors-red-500)",padding:"4px",border:"1px solid white"}}}),(0,s.jsx)(X.Tz,{label:(0,s.jsx)(T.x6,{id:"2C1hVA",values:{GAMMA_PROPER_NOUN:z.On}}),placement:"top",children:(0,s.jsx)($.K,{isDisabled:n,shadow:"none",icon:(0,s.jsx)(en.g,{icon:Z.z$e}),height:"40px",width:"40px","aria-label":J.Ru._({id:"2C1hVA",values:{GAMMA_PROPER_NOUN:z.On}}),variant:"ghost",sx:{borderWidth:"1px",borderColor:{base:"gray.200",md:"transparent"}},"data-canny-changelog":!0})})]})};var ep=i(41974),ej=i(41273),em=i(18833),eb=i(88586),eg=i(90456),ev=i(11390),ef=i(41246);let eC=(0,em.P)(y._),eE=()=>{var e,n,i,a;let t=(0,es.st)(),l=(0,eg.U)(),o=null==l?void 0:l.showSubscriptionUpgradeModal,[d,c]=(0,u.M)("upgradeToAnnualBannerDismissed",!1),x=(0,ef.CX)(),{subscription:h,product:p}=(0,ei.I)(),j=(null!=(a=null==h||null==(i=h.products)||null==(n=i[0])||null==(e=n.productPrice)?void 0:e.frequencyUnit)?a:null)===eb.Vd7.Month,m="pro"===p?z.Ol:z.Ft,b=(0,r.useCallback)(()=>{let e=h?(0,ex.tq)(h):null,n=e?Math.round((new Date().getTime()-new Date(e).getTime())/864e5):null;p&&(null==t||t.track(es.VV.UPGRADE_TARGET_POPUP_CLICK,{current_plan:(0,ev.cE)(p,"monthly"),source:"workspace_settings",subscription_tenure_days:n}),null==t||t.track(es.VV.UPGRADE_MODAL_VIEW,{current_plan:(0,ev.cE)(p,"monthly"),modal_source:"dashboard_sidebar"}))},[t,p,h]),g=e=>{e.stopPropagation(),c(!0),b(),p&&(null==o||o({newPlan:p,newFrequency:eb.Vd7.Year}))},v=null==h?void 0:h.createdTime,f=v?(0,ej.A)(new Date,new Date(v)):0,C=!d&&j&&l&&f>=35&&o&&x;if((0,r.useEffect)(()=>{C&&p&&(null==t||t.track(es.VV.UPGRADE_TARGET_POPUP_VIEW,{current_plan:(0,ev.cE)(p,"monthly"),popup_location:"dashboard_sidebar"}))},[t,p,C]),!C)return null;let{savingsPercentage:y}=l;return(0,s.jsx)(W.a,{position:"absolute",bottom:2,me:5,mb:2,onClick:g,cursor:"pointer",bgGradient:"linear(to-l, purple.400, purple.500)",p:"1px",borderRadius:"md",children:(0,s.jsxs)(W.a,{position:"relative",children:[(0,s.jsx)(eC,{src:"https://static.gamma.app/images/mr-peepers-681d3fc7.webp",animate:{top:["0px","-32px"]},transition:{delay:.5,duration:.7,ease:"easeOut"},alt:"Banner",zIndex:99,w:14,insetEnd:3,position:"absolute"}),(0,s.jsx)(ep.Z,{px:4,pt:6,pb:2,bg:"purple.100",shadow:"sm",zIndex:100,_hover:{bgGradient:"linear(-45deg, purple.100, purple.50)"},children:(0,s.jsxs)(F.B,{spacing:4,children:[(0,s.jsxs)(F.B,{spacing:2,children:[(0,s.jsx)(E.D,{fontWeight:"bold",size:"sm",color:"purple.700",children:(0,s.jsx)(T.x6,{id:"LoeKh9"})}),(0,s.jsx)(w.E,{fontSize:"sm",children:(0,s.jsx)(T.x6,{id:"k+KViP",values:{savingsPercentage:y,currentPlanName:m}})})]}),(0,s.jsxs)(F.B,{children:[(0,s.jsx)(S.$,{size:"sm",onClick:g,borderColor:"purple.300",bg:"purple.600",color:"white",_hover:{bg:"purple.700"},children:(0,s.jsx)(T.x6,{id:"v1ql9/"})}),(0,s.jsx)(S.$,{size:"sm",variant:"ghost",onClick:e=>{e.stopPropagation(),c(!0),p&&(null==t||t.track(es.VV.UPGRADE_TARGET_POPUP_DISMISS,{current_plan:(0,ev.cE)(p,"monthly"),modal_source:"dashboard_sidebar"}))},color:"purple.800",_hover:{bg:"purple.200"},children:(0,s.jsx)(T.x6,{id:"1QfxQT"})})]})]})})]})})};var ey=i(82203),ew=i.n(ey);let eS=r.forwardRef((e,n)=>{let{children:i,dataTestId:a,isDisabled:t=!1,isSelected:l,isDropActive:r,href:o,target:d,...c}=e;return(0,s.jsx)(S.$,{ref:n,textDecoration:"none",w:"100%",size:"sm",justifyContent:"flex-start","data-testid":a,py:1.5,mb:1,px:2,fontWeight:l?"bold":"regular",target:d,isDisabled:t,pointerEvents:t?"none":"auto",variant:l||r?"secondarySelected":"secondary",...o?{href:o,as:ew()}:{},...c,children:i})});eS.displayName="SidebarButton";var eT=i(27229),eI=i(58959),eA=i(80314),e_=i(831),ek=i.n(e_),eR=i(8384),eO=i(88033),eL=i(24729),eN=i(82927),eD=i(2318),eP=i(70006),eM=i(98694),ez=i(96833);let eB=r.forwardRef((e,n)=>{let{tabKey:i,isSelected:a,isDropActive:t=!1,isDisabled:l,href:r,target:o,children:d,...c}=e;return(0,s.jsx)(eS,{ref:n,isSelected:a,isDropActive:t,dataTestId:"sidebar-".concat(i,"-tab").concat(a?"--selected":""),target:o,isDisabled:l,href:r,...c,children:d})});eB.displayName="SidebarItem";var eU=i(55765);let eH=i.n(eU)()(e=>{let[n,i,s,a,t]=e.icon,l=encodeURIComponent('\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '.concat(n," ").concat(i,'">\n      <path d="').concat(t,'" />\n    </svg>\n  ').trim()).replace(/'/g,"%27").replace(/"/g,"%22");return"data:image/svg+xml,".concat(l)}),eV=e=>{let{icon:n,title:i,faClassName:a,badge:t,allowGradient:l,iconGap:r=2,fontColor:o}=e;return(0,s.jsxs)(eI.z,{spacing:1.5,justify:"flex-start",w:"100%",paddingInlineEnd:t?3:void 0,color:o,children:[n?l?(0,s.jsx)(W.a,{bg:"gradient.brand.bg",as:"span",display:"inline-block",sx:{marginInlineStart:"2px",width:"var(--fa-fw-width, 1.1em)",height:"var(--fa-fw-width, 1.1em)",maskImage:"url(".concat(eH(n),")"),maskSize:"contain",maskRepeat:"no-repeat"}}):(0,s.jsx)(en.g,{icon:n,fixedWidth:!0,className:a||void 0,size:"1x",style:{color:"inherit"}}):null,(0,s.jsx)(w.E,{flex:1,textOverflow:"ellipsis",overflow:"hidden",ms:r,w:"100%",textAlign:"start",fontWeight:"medium",style:{color:"inherit"},children:i}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Q.h,{}),t]})]})};var eW=i(68422);let eG=e=>{let{isSelected:n,hasActivity:i}=e;return i&&Z.qAe,n?eL.oQ:eL.$Q},eQ=e=>{let{activity:n,user:i}=e;if(!(null==n?void 0:n.activeUsers))return(0,s.jsx)(s.Fragment,{});let a=ek()(n.activeUsers,"id"),t=(0,eD.Hz)(a,null==i?void 0:i.id);return(0,s.jsx)(X.KZ,{overflowTooltipLabel:J.Ru._({id:"25VyZX"}),position:"absolute",right:2,size:"xs",max:3,avatars:t.map(e=>{let{displayName:n,profileImageUrl:i,id:s}=e;return{name:n||"",id:s,profileImageUrl:i,color:"white",badge:{color:"green.500",size:"1em"}}}),onClick:e=>{e.preventDefault(),e.stopPropagation()}})},eF=e=>{var n,i;let{isPreview:a,channel:t,activeTab:l,currentChannelId:r,addDocToChannel:o,user:d,isDisabled:c}=e,x=(0,h.u)("channelActivity"),[{canDrop:u,isOver:p},j]=(0,eR.H)(()=>({accept:eM.v,drop:e=>{o(e,t)},collect:e=>({isOver:e.isOver(),canDrop:e.canDrop()})})),m=l===eW.uL.CHANNEL&&t.id===r,b=x&&!!((null==t||null==(n=t.activity)?void 0:n.activeUsers)&&(null==t||null==(i=t.activity)?void 0:i.activeUsers.length)>0),g=eG({isSelected:m,hasActivity:b});return(0,s.jsxs)(eB,{ref:j,"data-testid":"sidebar-item",tabKey:"".concat(eW.uL.CHANNEL,"-").concat(t.id),isDropActive:p&&u,isSelected:m,href:(0,eP.gU)({id:t.id,slug:t.slug}),opacity:a?"0.5":void 0,justifyContent:"space-between",w:"100%",isDisabled:c,children:[(0,s.jsx)(eV,{icon:g,title:t.name,faClassName:m&&b?"fa-beat-fade":void 0}),b&&(0,s.jsx)(eQ,{activity:null==t?void 0:t.activity,user:d})]},t.id)},eK=e=>{let{channelPreview:n,channels:i,activeTab:a,currentChannelId:t,isChannelsLoading:l,isOffline:r}=e,{user:o,currentWorkspace:d}=(0,eN.ur)(),{isOpen:c,onClose:x,doc:h,handleAddDocToChannel:u,updateWorkspacePermissionThenAddToChannel:p}=(0,eO.j$)(),{isOpen:j,onOpen:m,onClose:b}=(0,eT.j)({id:"manageChannelsModalDisclosure"});return l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(K.E,{h:"30px",w:"100%"}),(0,s.jsx)(K.E,{h:"30px",w:"100%"}),(0,s.jsx)(K.E,{h:"30px",w:"100%"})]}):(0,s.jsxs)(W.a,{"data-testid":"sidebar-channels",w:"100%",children:[(0,s.jsxs)(eI.z,{justify:"space-between",children:[(0,s.jsx)(X._x,{textAlign:"left",mt:4,mb:3,paddingInlineStart:1,children:(0,s.jsx)(T.x6,{id:"HSh8u/"})}),(0,s.jsx)(X.Tz,{label:(0,s.jsx)(T.x6,{id:"Mxy55o"}),children:(0,s.jsx)($.K,{"aria-label":J.Ru._({id:"Mxy55o"}),size:"xs",isRound:!0,variant:"plain",icon:(0,s.jsx)(en.g,{icon:Z.QLR}),onClick:m,isDisabled:r})})]}),n&&!r&&(0,s.jsx)(eF,{isPreview:!0,channel:n,activeTab:a,currentChannelId:t,addDocToChannel:u,user:o,isDisabled:!1},n.id),i.map(e=>(0,s.jsx)(eF,{channel:e,activeTab:a,currentChannelId:t,addDocToChannel:u,user:o,isDisabled:r},e.id)),!r&&0===i.length&&(0,s.jsxs)(W.a,{bgColor:"gray.50",textAlign:"center",p:4,mb:2,borderRadius:"md",children:[(0,s.jsx)(w.E,{fontSize:"sm",children:(0,s.jsx)(T.x6,{id:"4G3U4C",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:z.Ix}})}),(0,s.jsx)(w.E,{fontSize:"sm",mt:2,fontWeight:"bold",children:(0,s.jsx)(eA.N,{color:"trueblue.600",href:"#",onClick:m,children:(0,s.jsx)(T.x6,{id:"Mxy55o"})})})]}),j&&(0,s.jsx)(ez.z,{isOpen:j,onClose:b,workspaceId:null==d?void 0:d.id}),c&&(0,s.jsx)(eO.uC,{doc:h,onSubmit:p,onClose:x})]})},eY=e=>{let{setIsSidebarVisible:n}=e,i=(0,c.En)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(F.B,{spacing:2,children:[(0,s.jsx)(F.B,{pt:2,children:(0,s.jsx)(W.a,{display:{sm:"lg",md:"none"},children:(0,s.jsx)($.K,{"aria-label":"Close Sidebar",size:"sm",variant:"ghost",icon:(0,s.jsx)(en.g,{icon:Z.GRI}),onClick:()=>n(!1)})})}),(0,s.jsxs)(F.B,{spacing:2,children:[(0,s.jsx)(K.E,{w:"100%",height:"32px",borderRadius:"md"}),(0,s.jsx)(K.E,{w:"100%",height:"32px",borderRadius:"md"}),(0,s.jsx)(K.E,{w:"100%",height:"32px",borderRadius:"md"}),(0,s.jsx)(K.E,{w:"100%",height:"32px",borderRadius:"md"})]})]}),(0,s.jsx)(Q.h,{}),(0,s.jsx)(a.s,{justify:"center",align:"flex-end",children:i&&(0,s.jsx)(X.uh,{w:"30px"})})]})},e$=e=>{let{channelPreview:n,isSidebarVisible:i,setIsSidebarVisible:t,isReady:l,activeTab:r,currentChannelId:o,channels:d,isChannelsLoading:c,isOffline:x}=e,u=(0,er.fW)(),p=(0,h.u)("changelog"),j=(0,h.u)("intercom"),m=(0,h.u)("shareFeedback"),b=(0,eo.k)({initializeViaQuery:!0});return(0,s.jsxs)(a.s,{direction:"column",zIndex:"overlay",h:"var(--100vh)",position:{base:"fixed",md:"sticky"},top:0,w:"300px",minW:"300px",bg:"white",shadow:{base:i?"xl":"none",md:"none"},transform:i?{base:"translate(0,0px)",md:"translate(0,0)"}:{base:"translate(".concat(u?"100%":"-100%",",0px)"),md:"translate(0,0)"},transition:"transform .2s ease",children:[(0,s.jsx)(W.a,{display:{base:"none",md:"block"},children:(0,s.jsx)(eX,{isOffline:x,isChangelogEnabled:p,setIsSidebarVisible:t,isReady:l})}),(0,s.jsx)(a.s,{overflowY:"auto",h:"100vh",p:5,pt:0,pb:4,direction:"column",alignContent:"space-between",children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(W.a,{display:{base:"block",md:"none"},children:(0,s.jsx)(eX,{isOffline:x,isChangelogEnabled:p,setIsSidebarVisible:t,isReady:l})}),(0,s.jsx)(eJ,{channelPreview:n,activeTab:r,currentChannelId:o,channels:d,isChannelsLoading:c,isOffline:x}),(0,s.jsx)(W.a,{w:"100%",pt:1,pb:3,children:(0,s.jsx)(G.c,{})}),(0,s.jsx)(eB,{tabKey:eW.n8.SETTINGS,isSelected:r===eW.n8.SETTINGS,href:"/".concat(eW.n8.SETTINGS),children:(0,s.jsx)(eV,{icon:eW.mQ[eW.n8.SETTINGS].icon,title:eW.mQ[eW.n8.SETTINGS].displayName})}),j&&(0,s.jsx)(eS,{dataTestId:"contact-button",onClick:b,isDisabled:x,children:(0,s.jsx)(eV,{icon:Z.gSF,title:(0,s.jsx)(T.x6,{id:"mpby9d"})})}),!j&&(0,s.jsx)(eS,{dataTestId:"contact-button",href:"mailto:".concat(el.J),isDisabled:x,children:(0,s.jsx)(eV,{icon:Z.y_8,title:(0,s.jsx)(T.x6,{id:"A0C9La"})})}),m&&(0,s.jsx)(eS,{dataTestId:"feedback-button",href:"https://ideas.gamma.app/ideas",target:"_blank","data-canny-link":!0,isDisabled:x,children:(0,s.jsx)(eV,{icon:Z.O3E,title:(0,s.jsx)(T.x6,{id:"u5hSeG"})})}),(0,s.jsx)(Q.h,{}),(0,s.jsx)(a.s,{justify:"center",align:"flex-end",width:"100%",my:6,children:(0,s.jsx)(X.uh,{w:"30px"})}),(0,s.jsx)(eE,{})]}):(0,s.jsx)(eY,{setIsSidebarVisible:t})})]})},eZ=()=>(0,s.jsxs)(F.B,{pt:4,spacing:4,children:[(0,s.jsxs)(F.B,{w:"100%",px:2,pb:1,direction:"row",alignItems:"center",children:[(0,s.jsx)(Y,{size:"36px"}),(0,s.jsxs)(F.B,{spacing:2,flex:1,children:[(0,s.jsx)(K.E,{width:"100%",height:"20px"}),(0,s.jsx)(K.E,{width:"60%",height:"16px"})]})]}),(0,s.jsx)(K.E,{width:"100%",height:"42px",borderRadius:"md"})]}),eX=e=>{let{isOffline:n,isChangelogEnabled:i,setIsSidebarVisible:t,isReady:l}=e,r=(0,c.En)();return(0,s.jsx)(F.B,{overflowY:"auto",px:{base:0,md:5},pt:2,pb:{base:4,md:4},direction:"column",alignContent:"space-between",overflow:"hidden",children:l&&r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.s,{alignItems:"flex-start",justify:"flex-end",children:(0,s.jsx)(W.a,{display:{base:"block",md:"none"},children:(0,s.jsx)($.K,{size:"sm","aria-label":J.Ru._({id:"62Ciis"}),variant:"ghost",icon:(0,s.jsx)(V.U,{w:3}),onClick:()=>t(!1),isRound:!0})})}),(0,s.jsx)(ex.bx,{}),!n&&(0,s.jsxs)(W.a,{flexDirection:"column",alignItems:"flex-start",borderRadius:"xl",ms:-2,mt:2,display:{base:"flex",lg:"none"},gap:0,children:[(0,s.jsx)(et,{}),(0,s.jsx)(q.f,{segmentEvent:es.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_DASHBOARD_CREDITS_COUNT})]}),(0,s.jsx)(ec.r,{size:"sm",description:(0,s.jsx)(T.x6,{id:"+QNhGE"}),isConnected:!n,maxWidth:"300px",mt:3}),(0,s.jsxs)(F.B,{direction:"row",justifyContent:"center",alignItems:"center",mt:4,children:[(0,s.jsx)(B.Vb,{isDisabled:n}),i&&(0,s.jsx)(W.a,{display:{base:"block",md:"none"},children:(0,s.jsx)(eu,{isDisabled:n})})]})]}):(0,s.jsx)(eZ,{})})},eJ=e=>{let{channelPreview:n,activeTab:i,currentChannelId:a,channels:t,isChannelsLoading:l,isOffline:r}=e,d=(0,ed.Fd)();return(0,s.jsxs)(F.B,{my:{base:0,md:2},"data-testid":"sidebar-tablist",w:"100%",spacing:1,children:[(0,s.jsxs)(F.B,{spacing:0,w:"100%",children:[(0,s.jsx)(eB,{tabKey:eW.n8.ALL,isSelected:i===eW.n8.ALL,href:"/#".concat(eW.n8.ALL),children:(0,s.jsx)(eV,{icon:eW.mQ[eW.n8.ALL].icon,title:eW.mQ[eW.n8.ALL].displayName})}),(0,s.jsx)(eB,{tabKey:eW.n8.SHARED_WITH_YOU,isSelected:i===eW.n8.SHARED_WITH_YOU,href:"/#".concat(eW.n8.SHARED_WITH_YOU),isDisabled:r,children:(0,s.jsx)(eV,{icon:eW.mQ[eW.n8.SHARED_WITH_YOU].icon,title:eW.mQ[eW.n8.SHARED_WITH_YOU].displayName})}),d&&(0,s.jsx)(eB,{paddingInlineEnd:-1,tabKey:eW.n8.SITES,isSelected:i===eW.n8.SITES,href:"/#".concat(eW.n8.SITES),isDisabled:r,children:(0,s.jsx)(eV,{icon:eW.mQ[eW.n8.SITES].icon,title:eW.mQ[eW.n8.SITES].displayName})}),(0,s.jsx)(eB,{paddingInlineEnd:-1,tabKey:eW.n8.IMAGES,isSelected:i===eW.n8.IMAGES,href:"/#".concat(eW.n8.IMAGES),isDisabled:r,children:(0,s.jsx)(eV,{icon:eW.mQ[eW.n8.IMAGES].icon,title:eW.mQ[eW.n8.IMAGES].displayName})})]}),(0,s.jsx)(eK,{channelPreview:n,isChannelsLoading:l,channels:t,currentChannelId:a,activeTab:i,isOffline:r}),(0,s.jsx)(W.a,{w:"100%",pt:1,pb:2,children:(0,s.jsx)(G.c,{})}),(0,s.jsxs)(F.B,{spacing:0,w:"100%",children:[!(0,o.Xb)()&&(0,s.jsx)(eB,{tabKey:eW.n8.TEMPLATES,isSelected:i===eW.n8.TEMPLATES,href:"/#".concat(eW.n8.TEMPLATES),isDisabled:r,children:(0,s.jsx)(eV,{icon:eW.mQ[eW.n8.TEMPLATES].icon,title:eW.mQ[eW.n8.TEMPLATES].displayName})}),(0,s.jsx)(eB,{tabKey:eW.n8.INSPIRATION,isSelected:i===eW.n8.INSPIRATION,href:"/#".concat(eW.n8.INSPIRATION),isDisabled:r,children:(0,s.jsx)(eV,{icon:eW.mQ[eW.n8.INSPIRATION].icon,title:eW.mQ[eW.n8.INSPIRATION].displayName})}),!(0,o.Xb)()&&(0,s.jsx)(eB,{tabKey:eW.n8.THEMES,isSelected:i===eW.n8.THEMES,href:"/#".concat(eW.n8.THEMES),isDisabled:r,children:(0,s.jsx)(eV,{icon:eW.mQ[eW.n8.THEMES].icon,title:eW.mQ[eW.n8.THEMES].displayName})}),!(0,o.Xb)()&&(0,s.jsx)(eB,{tabKey:eW.n8.FONTS,isSelected:i===eW.n8.FONTS,href:"/#".concat(eW.n8.FONTS),isDisabled:r,children:(0,s.jsx)(eV,{icon:eW.mQ[eW.n8.FONTS].icon,title:eW.mQ[eW.n8.FONTS].displayName})}),(0,s.jsx)(eB,{tabKey:eW.n8.TRASH,isSelected:i===eW.n8.TRASH,href:"/#".concat(eW.n8.TRASH),children:(0,s.jsx)(eV,{icon:eW.mQ[eW.n8.TRASH].icon,title:eW.mQ[eW.n8.TRASH].displayName})})]})]})};var eq=i(91938);let e0={fontWeight:"bold",backgroundImage:"linear-gradient(50deg, #F658A8, #ff5b8a 49%, #ff5b8a 53%, #ff5b8a 55%, #fba64b 77%, #f99b52)",backgroundClip:"text",color:"transparent"},e1=()=>(0,s.jsx)(a.s,{bg:"#1A013F",direction:"column",mb:4,children:(0,s.jsxs)(a.s,{py:4,px:8,direction:["column","row"],children:[(0,s.jsxs)(F.B,{mr:[0,4],children:[(0,s.jsx)(w.E,{fontSize:"xl",sx:e0,children:"Meet Gamma, the fast alternative to slides"}),(0,s.jsx)(w.E,{color:"gray.200",children:"Write like a doc, present like a deck."})]}),(0,s.jsx)(Q.h,{}),(0,s.jsxs)(eI.z,{mt:[2,0],children:[(0,s.jsx)(S.$,{as:"a",href:"/signup",children:"Make your own"}),(0,s.jsx)(S.$,{as:"a",cursor:"pointer",variant:"ghost",colorScheme:"whiteAlpha",onClick:()=>{window.location.href="".concat(eq.$.API_HOST,"/logout")},children:"Sign out"})]})]})});var e8=i(96441),e6=i(26814),e2=i(8909);let e5=e=>{let{ariaLabel:n,displayName:i,icon:a,channel:t,containerPadding:l}=e,r=(null==t?void 0:t.name)||i;return(0,s.jsxs)(eI.z,{h:"1.5em",ps:l,ms:2,children:[(0,s.jsxs)(E.D,{size:"sm","data-testid":"sticky-topbar-header",children:[a&&(0,s.jsx)(en.g,{icon:a,"aria-label":n()}),(0,s.jsx)(w.E,{as:"span",ms:2,children:r})]}),(0,s.jsx)(Q.h,{})]})},e9="50px",e3=e=>{let{containerPadding:n,isOffline:i,hasScrolledBeyondThreshold:t}=e,l=(0,h.u)("changelog"),r=(0,ed.ez)("unlimited_credits"),{isCreditsReady:o}=(0,e6.B9)(),{activeTab:d,channelPreview:c,activeChannel:x}=(0,e2.q)(),{displayName:u,ariaLabel:p,icon:j}=eW.mQ[d];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e4,{hasScrolled:t,containerPadding:n,width:t?"auto":"fit-content",children:t&&(0,s.jsx)(e5,{ariaLabel:p,displayName:u,icon:j,channel:c||x,containerPadding:n})}),(0,s.jsxs)(e7,{containerPadding:n,width:t?"100%":"fit-content",alignSelf:"flex-end",children:[(0,s.jsx)(X.Tz,{label:i?J.Ru._({id:"ysdDIA"}):"","aria-label":i?J.Ru._({id:"ysdDIA"}):"",placement:"bottom",children:(0,s.jsxs)(W.a,{display:"flex",flexDirection:"row",alignItems:"center",children:[o&&!r&&(0,s.jsxs)(a.s,{display:{base:"none",lg:"flex"},cursor:i?"not-allowed":"pointer",flexDirection:"row",children:[(0,s.jsx)(et,{}),(0,s.jsx)(q.f,{segmentEvent:es.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_DASHBOARD_CREDITS_COUNT})]}),l&&(0,s.jsx)(eu,{isDisabled:i})]})}),(0,s.jsx)(e8.X,{showCreditsBadge:!1})]})]})},e4=e=>{let{children:n,containerPadding:i,hasScrolled:a,...t}=e,l=(0,er.fW)();return(0,s.jsx)(eI.z,{bg:a?"white":"transparent",borderBottomWidth:a?"1px":"0px",borderBottomColor:a?"gray.50":"transparent",borderTopWidth:"0px",borderTopColor:a?"transparent":"gray.200",borderInlineStartWidth:"0px",borderInlineStartColor:"gray.50",zIndex:"sticky",top:0,right:l?-5:0,left:l?0:-5,alignItems:"center",p:2,py:1.5,paddingInlineEnd:6,gap:2,h:e9,transitionProperty:"common",transitionDuration:"normal","data-print-hidden":!0,justifyContent:"flex-start",position:"sticky",display:{base:"none",md:"flex"},m:-i,"data-sticky-topbar-wrapper":!0,...t,children:n})},e7=e=>{let{children:n,containerPadding:i,...a}=e;return(0,s.jsx)(eI.z,{justifyContent:"flex-end","data-topbar-wrapper":!0,zIndex:"sticky",position:"sticky",top:0,insetStart:0,insetEnd:0,py:1.5,alignItems:"center",gap:2,my:-i,display:{base:"none",md:"flex"},...a,children:n})},ne=e=>{let{children:n}=e,{isInOfflineMode:i,isConnected:t}=(0,D.u)(),l=(0,h.u)("onboardingV3")?H.P:U.P,{user:d,activeChannel:x,activeTab:u,userHasNoWorkspaces:p,currentChannelId:j,channelPreview:m,channels:b,isChannelsLoading:g,isSidebarVisible:v,setIsSidebarVisible:f}=(0,e2.q)(),C=(0,c.En)(),E=C&&(0,o.Xb)()?4:6,y=C&&(0,o.Xb)()?2:void 0,[w,S]=(0,r.useState)(!1),T=(0,r.useCallback)(()=>{S(window.scrollY>50)},[]),I=(0,c.wb)(T,100);(0,r.useEffect)(()=>{if(!(0,o.Xb)())return window.addEventListener("scroll",I),()=>window.removeEventListener("scroll",I)},[I]);let A=u?u===eW.uL.CHANNEL&&(null==x?void 0:x.name)?"".concat(null==x?void 0:x.name," - ").concat(z.On):"".concat(eW.mQ[u].ariaLabel()," - ").concat(z.On):"".concat(z.On),[R]=(0,_.Je)();return(0,s.jsxs)(L.Q,{backend:N.t2,children:[(0,s.jsxs)(a.s,{"data-testid":"home",width:"100%",height:"100%",position:"relative",children:[(0,s.jsx)(O(),{children:(0,s.jsx)("title",{children:A})}),(0,s.jsx)(B.X2,{}),p?null:(0,s.jsx)(e$,{channelPreview:m,isSidebarVisible:v,setIsSidebarVisible:f,user:d,isReady:!!d,activeTab:u,currentChannelId:j,channels:b,isChannelsLoading:g,isOffline:i}),(0,s.jsx)(a.s,{transition:"margin .2s ease",width:"100%",bg:"gray.200",sx:{"&::before":{content:'""',position:"absolute",left:0,top:w&&C?e9:0,bottom:0,width:"1px",background:"var(--chakra-colors-gray-50)",transition:"top 0.2s ease"}},position:"relative",children:(0,s.jsxs)(a.s,{"data-testid":"doc-root-main",flex:"1",px:E,py:E,w:"100%",bg:null!=R?R:"gray.50",direction:"column",marginInlineStart:{base:"0"},minH:"var(--100vh)",pb:"10em",transition:"margin .2s ease, background-color .5s ease",children:[C&&!(0,o.Xb)()&&(0,s.jsx)(e3,{containerPadding:E,isOffline:!t,hasScrolledBeyondThreshold:w}),p&&(0,s.jsx)(e1,{}),(0,s.jsx)(k.m,{maxW:"80em",p:y,h:"100%",children:n})]})})]}),(0,s.jsx)(M.x,{children:(0,s.jsx)(P.P,{showShortcuts:!1})}),!i&&(0,s.jsx)(l,{})]})},nn=e=>{let{children:n}=e;return(0,s.jsxs)(a.s,{width:"100%",height:"100%",direction:"column",minHeight:"var(--100vh)",bgColor:"gray.50",color:"gray.700",p:0,children:[(0,s.jsx)(t.mL,{styles:{body:{overflowY:"scroll"}}}),(0,s.jsx)(l.n,{}),(0,s.jsx)(A,{}),(0,s.jsx)(_.TQ,{children:(0,s.jsx)(ne,{children:n})})]})};function ni(e){let n=n=>(0,s.jsx)(nn,{children:(0,s.jsx)(e,{...n})});return"getInitialProps"in e&&(n.getInitialProps=e.getInitialProps),n}},38944:(e,n,i)=>{"use strict";i.d(n,{CW:()=>o,Hd:()=>x,Jj:()=>d,Zv:()=>r,eT:()=>c});var s=i(6029),a=i(19564),t=i(88586),l=i(68422);let r=[{key:t.vY2.EditedTime,label:(0,s.jsx)(a.x6,{id:"acZeX2"})},{key:t.vY2.CreatedTime,label:(0,s.jsx)(a.x6,{id:"u46WEi"})}],o=[{key:t.vY2.LastViewed,label:(0,s.jsx)(a.x6,{id:"UOgIR2"})},{key:t.vY2.LastEdited,label:(0,s.jsx)(a.x6,{id:"acZeX2"})},{key:t.vY2.Favorited,label:(0,s.jsx)(a.x6,{id:"2TANrw"})}],d=l.n8.ALL,c=t.vY2.EditedTime,x=[t.vY2.LastViewed,t.vY2.LastEdited,t.vY2.Favorited]},65100:(e,n,i)=>{"use strict";i.d(n,{e:()=>p});var s=i(6029),a=i(26420),t=i(40452),l=i(16936),r=i(48810),o=i(29810),d=i(96500),c=i(99492),x=i(48621),h=i(96441),u=i(82927);let p=e=>{let{setIsSidebarVisible:n,isSidebarVisible:i,children:p}=e,{currentWorkspace:j}=(0,u.ur)();return(0,s.jsxs)(a.a,{w:"100%",mb:6,maxW:"100%",children:[(0,s.jsxs)(a.a,{w:"100%",display:{sm:"block",md:"none"},mb:4,children:[(0,s.jsxs)(t.s,{align:"center",w:"100%",mb:2,justify:"space-between",children:[(0,s.jsx)(l.K,{"aria-label":"Open Sidebar",variant:"ghost",icon:(0,s.jsx)(x.g,{icon:c.ckx}),size:"sm",marginInlineEnd:2,marginInlineStart:-2,onClick:()=>n(!i),isRound:!0}),(0,s.jsxs)(t.s,{flex:"1",w:"100%",justify:"space-between",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:[(0,s.jsx)(r.E,{fontSize:"lg",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:null==j?void 0:j.name}),(0,s.jsx)(o.h,{}),(0,s.jsx)(h.X,{})]})]}),(0,s.jsx)(d.c,{})]}),p]})}},68422:(e,n,i)=>{"use strict";i.d(n,{mQ:()=>p,n8:()=>u,uL:()=>h});var s=i(6029),a=i(99492),t=i(55597),l=i(19564),r=i(77650),o=i(21157),d=i.n(o),c=i(99038),x=i(24729);let h={ALL:"all",SHARED_WITH_YOU:"shared-with-you",CHANNEL:"channel",TRASH:"trash",TEMPLATES:"templates",INSPIRATION:"inspiration",THEMES:"themes",FONTS:"fonts",SITES:"sites",SETTINGS:"settings",IMAGES:"images"},u={...h},p={[h.ALL]:{displayName:d()(c.Ix),ariaLabel:()=>d()(c.Ix),icon:a.vGi,showCreateButton:!0},[h.SHARED_WITH_YOU]:{displayName:(0,s.jsx)(l.x6,{id:"z/ZgK/"}),ariaLabel:()=>r.Ru._({id:"z/ZgK/"}),icon:a.USd,showCreateButton:!1},[h.SITES]:{displayName:(0,s.jsx)(l.x6,{id:"QHZRmq"}),ariaLabel:()=>r.Ru._({id:"QHZRmq"}),icon:a.Bwz,showCreateButton:!0},[h.IMAGES]:{displayName:(0,s.jsx)(l.x6,{id:"Q+Vsar"}),ariaLabel:()=>r.Ru._({id:"lv+fWg"}),icon:t._$C,showCreateButton:!0},[h.CHANNEL]:{displayName:(0,s.jsx)(l.x6,{id:"HSh8u/"}),ariaLabel:()=>r.Ru._({id:"HSh8u/"}),icon:x.$Q,showCreateButton:!0},[h.TRASH]:{displayName:(0,s.jsx)(l.x6,{id:"GQ3O42"}),ariaLabel:()=>r.Ru._({id:"GQ3O42"}),icon:a.yLS,showCreateButton:!1},[h.TEMPLATES]:{displayName:(0,s.jsx)(l.x6,{id:"iTylMl"}),ariaLabel:()=>r.Ru._({id:"iTylMl"}),icon:a.zm_,showCreateButton:!1},[h.INSPIRATION]:{displayName:(0,s.jsx)(l.x6,{id:"K2fjhl"}),ariaLabel:()=>r.Ru._({id:"K2fjhl"}),icon:a.ReK,showCreateButton:!1},[h.THEMES]:{displayName:(0,s.jsx)(l.x6,{id:"fJ3EbT"}),ariaLabel:()=>r.Ru._({id:"fJ3EbT"}),icon:a.fyG,showCreateButton:!1,description:(0,s.jsx)(l.x6,{id:"VLAmF4",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:c.Ix}})},[h.FONTS]:{displayName:(0,s.jsx)(l.x6,{id:"E3KfxC"}),ariaLabel:()=>r.Ru._({id:"E3KfxC"}),icon:a.A1G,showCreateButton:!1,description:(0,s.jsx)(l.x6,{id:"b73++j",values:{GAMMA_PROPER_NOUN:c.On},components:{0:(0,s.jsx)("b",{})}})},[h.SETTINGS]:{displayName:(0,s.jsx)(l.x6,{id:"0dbeO4"}),ariaLabel:()=>r.Ru._({id:"0dbeO4"}),icon:a.Ubc,showCreateButton:!1}}},73616:(e,n,i)=>{"use strict";i.d(n,{Z:()=>x});var s=i(6029),a=i(46898),t=i(19564),l=i(81278),r=i.n(l),o=i(55729),d=i(88586),c=i(70006);let x=()=>{let e=(0,a.d)(),[n]=(0,d.nbV)(),[i]=(0,d.WYu)(),[l,{loading:x,error:h}]=(0,d.ugr)(),u=(0,o.useCallback)(i=>{let{channel:a}=i;return n({variables:{channelId:a.id}}).then(()=>{e({title:(0,s.jsx)(t.x6,{id:"GCUxja",values:{0:null==a?void 0:a.name}}),description:(0,s.jsx)(t.x6,{id:"SQY08b",values:{0:null==a?void 0:a.name}}),status:"success",duration:3e3,isClosable:!0,position:"top"})})},[n,e]);return{joinChannel:(0,o.useCallback)(n=>{let{channel:a,workspaceId:l}=n,{name:r}=a;return i({variables:{channelId:a.id},update:(e,n)=>{let{data:i}=n;(null==i?void 0:i.joinChannel)&&e.writeQuery({query:d.SlU,variables:{workspaceId:l},data:{channels:[i.joinChannel]}})},optimisticResponse:{joinChannel:{...a}}}).then(()=>{e({title:(0,s.jsx)(t.x6,{id:"WpOdvg",values:{name:r}}),description:(0,s.jsx)(t.x6,{id:"/IOSvX",values:{name:r}}),status:"success",duration:3e3,isClosable:!0,position:"top"})}).catch(n=>{e({title:(0,s.jsx)(t.x6,{id:"bLRa0l",values:{name:r}}),description:n.message,status:"error",duration:3e3,isClosable:!0,position:"top"})})},[i,e]),leaveChannel:u,createChannel:(0,o.useCallback)(n=>{let{input:i}=n;return l({variables:{input:i},update:(e,n)=>{let{data:s}=n;(null==s?void 0:s.createChannel)&&e.writeQuery({query:d.SlU,variables:{workspaceId:i.workspaceId},data:{channels:[s.createChannel]}})}}).then(n=>{var i;let a=null==n||null==(i=n.data)?void 0:i.createChannel;(null==a?void 0:a.name)&&e({title:(0,s.jsx)(t.x6,{id:"EbT81q",values:{0:a.name}}),status:"success",duration:3e3,isClosable:!0,position:"top"}),(null==a?void 0:a.id)&&(null==a?void 0:a.slug)?r().push((0,c.gU)({id:a.id,slug:a.slug})):console.error('[CreateChannelModal] Error generating channel URL. ID: "'.concat(null==a?void 0:a.id,'". Slug: "').concat(null==a?void 0:a.slug,'"'))}).catch(n=>{e({title:(0,s.jsx)(t.x6,{id:"YeikaQ"}),description:n.message,status:"error",duration:3e3,isClosable:!0,position:"top"})})},[l,e]),createChannelLoading:x,createChannelError:h}}},96833:(e,n,i)=>{"use strict";i.d(n,{S:()=>es,z:()=>U});var s=i(6029),a=i(78686),t=i(26385),l=i(40452),r=i(58959),o=i(26420),d=i(48810),c=i(29810),x=i(49611),h=i(67909),u=i(36071),p=i(54731),j=i(17920),m=i(3674),b=i(40691),g=i(83638),v=i(72470),f=i(77979),C=i(38036),E=i(3276),y=i(5091),w=i(41781),S=i(53996),T=i(16426),I=i(99492),A=i(48621),_=i(91106),k=i(19564),R=i(77650),O=i(55729),L=i(24351),N=i(88586),D=i(99038),P=i(24729),M=i(73616);let z=e=>{let{channelName:n,onCreateClick:i}=e;return(0,s.jsx)(S.o,{minH:"sm",children:(0,s.jsx)(l.s,{direction:"column",justify:"center",align:"center",w:["100%","80%"],children:(0,s.jsx)(L.p,{size:"md",title:(0,s.jsx)(k.x6,{id:"aywdyd"}),description:(0,s.jsx)(k.x6,{id:"RHyKK4",values:{channelName:n}}),primaryActionLabel:(0,s.jsx)(k.x6,{id:"Oo7YVo"}),onPrimaryAction:i})})})},B=e=>{let{channels:n,workspaceId:i}=e,{leaveChannel:a,joinChannel:h}=(0,M.Z)(),u=(0,O.useCallback)((e,n)=>{e?h({channel:n,workspaceId:i}):a({channel:n})},[h,a,i]);return(0,s.jsxs)(t.B,{spacing:0,children:[0===n.length&&(0,s.jsx)(l.s,{direction:"column",justify:"center",align:"center",w:"100%",my:6,children:(0,s.jsx)(L.p,{size:"md",title:(0,s.jsx)(k.x6,{id:"4sY+E7"}),description:(0,s.jsx)(k.x6,{id:"F4lcOJ",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:D.Ix}})})}),n.length>0&&n.map(e=>{let{members:n,isMember:i,memberCount:a,name:l}=e;return(0,s.jsxs)(r.z,{spacing:4,px:4,py:2,_hover:{bg:"gray.50"},borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",children:[(0,s.jsx)(o.a,{p:2,color:i?"":"gray.400",children:(0,s.jsx)(A.g,{icon:i?I.QRE:P.$Q})}),(0,s.jsxs)(r.z,{flex:1,children:[(0,s.jsxs)(t.B,{spacing:0,children:[(0,s.jsx)(d.E,{children:l}),(0,s.jsx)(d.E,{fontSize:"sm",color:"gray.400",children:e.isMember?(0,s.jsx)(k.x6,{id:"tWPlLK",values:{0:a||0}}):(0,s.jsx)(k.x6,{id:"pkIIls",values:{0:a||0}})})]}),(0,s.jsx)(c.h,{}),(0,s.jsx)(_.KZ,{size:"xs",overflowTooltipLabel:R.Ru._({id:"25VyZX"}),avatars:n||[],max:3})]}),(0,s.jsx)(x.$,{w:20,variant:i?"ghost":"plain",size:"sm",onClick:()=>{u(!i,e)},children:i?(0,s.jsx)(k.x6,{id:"Mv8CyJ"}):(0,s.jsx)(k.x6,{id:"0wdd7X"})})]},e.id)})]})},U=e=>{var n;let{isOpen:i,onClose:l,workspaceId:o}=e,[c,I]=(0,O.useState)(""),[A,L]=(0,O.useState)(!1),[D,P]=(0,O.useState)(!1),U=(0,O.useRef)(null),{createChannel:H,createChannelLoading:V,createChannelError:W}=(0,M.Z)(),[G,Q]=(0,O.useState)(null),[F,K]=(0,O.useState)(!1),[Y,$]=(0,O.useState)(!1),{data:Z,loading:X,called:J,fetchMore:q}=(0,N.NVU)({variables:{workspaceId:o,first:20,sortBy:{field:N.ei5.MemberCount,direction:N.UEL.Desc},query:c},skip:!o}),ee=(0,O.useCallback)(e=>{let{value:n}=e.target;K(!1),Q(null),n?I(n):I("")},[]),en=!!(c&&(null==Z?void 0:Z.workspaceChannels.edges.length)===0),ei=()=>{if(o){if(!c)return void K(!0);H({input:{name:c,workspaceId:o}}).then(()=>{l()}).catch(e=>{Q(e.message)})}};(0,O.useEffect)(()=>{X||L(en)},[X,en]),(0,O.useEffect)(()=>{!J||X||D||P(!0)},[J,X,D]);let es=A&&en,ea=(null==Z?void 0:Z.workspaceChannels.edges.map(e=>e.node))||[],et=!c,el=null==Z||null==(n=Z.workspaceChannels)?void 0:n.pageInfo,er=D&&(null==el?void 0:el.hasNextPage)&&(null==el?void 0:el.endCursor);return(0,s.jsxs)(h.aF,{isOpen:i,onClose:l,lockFocusAcrossFrames:!1,returnFocusOnClose:!1,size:"2xl",initialFocusRef:U,children:[(0,s.jsx)(u.m,{}),(0,s.jsxs)(p.$,{children:[(0,s.jsx)(j.r,{pb:0,children:(0,s.jsx)(k.x6,{id:"Mxy55o"})}),(0,s.jsxs)(d.E,{px:6,color:"gray.500",mb:2,children:[(0,s.jsx)(k.x6,{id:"/eBcp2"}),"."]}),(0,s.jsx)(m.s,{}),(0,s.jsx)(b.c,{children:(0,s.jsxs)(t.B,{spacing:5,children:[(0,s.jsxs)(r.z,{align:"flex-start",children:[(0,s.jsxs)(g.MJ,{isInvalid:!!W&&c.length>0||!!G||F,children:[(0,s.jsxs)(v.M,{size:"md",children:[(0,s.jsx)(f.W,{pointerEvents:"none",color:"gray.300",children:(0,s.jsx)(a.W,{})}),(0,s.jsx)(C.p,{value:c,onChange:ee,placeholder:R.Ru._({id:"iwm5Y3"}),_placeholder:{opacity:1},ref:U}),X&&(0,s.jsx)(f.t,{pointerEvents:"none",color:"gray.500",transitionProperty:"common",transitionDuration:"normal",children:(0,s.jsx)(E.y,{size:"sm"})})]}),G&&(0,s.jsx)(y.Wt,{children:G}),F&&(0,s.jsx)(y.Wt,{children:(0,s.jsx)(k.x6,{id:"/Lrnb5"})})]}),(0,s.jsx)(x.$,{w:"300px",variant:"plain",onClick:ei,isLoading:V,children:(0,s.jsx)(k.x6,{id:"Oo7YVo"})})]}),(0,s.jsxs)(_._x,{children:[et&&(0,s.jsx)(k.x6,{id:"LOzhoI"}),c&&(0,s.jsx)(k.x6,{id:"mjEyky",values:{0:ea.length}})]}),es&&(0,s.jsx)(z,{channelName:c,onCreateClick:ei}),!D&&(0,s.jsxs)(t.B,{children:[(0,s.jsx)(w.E,{height:"55px"}),(0,s.jsx)(w.E,{height:"55px"}),(0,s.jsx)(w.E,{height:"55px"}),(0,s.jsx)(w.E,{height:"55px"}),(0,s.jsx)(w.E,{height:"55px"})]}),D&&o&&!es&&(0,s.jsx)(B,{channels:ea,workspaceId:o}),er&&(0,s.jsx)(S.o,{p:6,children:(0,s.jsx)(x.$,{isLoading:Y,onClick:()=>{$(!0),q({variables:{...0===c.length?{first:50}:{},after:null==el?void 0:el.endCursor}}).finally(()=>{$(!1)})},size:"sm",children:(0,s.jsx)(k.x6,{id:"yQ2kGp"})})})]})}),(0,s.jsx)(T.j,{children:(0,s.jsx)(x.$,{variant:"solid",onClick:l,children:(0,s.jsx)(k.x6,{id:"DPfwMq"})})})]})]})};var H=i(27229),V=i(46898),W=i(90394),G=i(78140),Q=i(36999),F=i(16936),K=i(41283),Y=i(85595),$=i(6760),Z=i(81278),X=i.n(Z),J=i(82328),q=i(70006),ee=i(61204);let en=e=>{let{channel:n,workspaceId:i,onClose:a}=e,[t]=(0,N.YYU)(),l=(0,V.d)(),r=(0,O.useCallback)(()=>{if(!i||!(null==n?void 0:n.id))return void console.error('[onDeleteChannelClick] Cannot delete channel. OrgId: "'.concat(i,'" channelId: "').concat(null==n?void 0:n.id,'"'));t({variables:{channelId:n.id,workspaceId:i}}).then(()=>{l({title:(0,s.jsx)(k.x6,{id:"j4JrT0"}),status:"success",duration:3e3,position:"top"})})},[n,l,t,i]);return(0,s.jsxs)(h.aF,{closeOnOverlayClick:!1,isOpen:!0,onClose:a,size:"lg",children:[(0,s.jsx)(u.m,{}),(0,s.jsxs)(p.$,{children:[(0,s.jsxs)(j.r,{children:["Delete ",n.name,"?"]}),(0,s.jsx)(m.s,{}),(0,s.jsxs)(b.c,{children:[(0,s.jsx)(d.E,{mb:2,children:(0,s.jsx)(k.x6,{id:"IkJ0gO"})}),(0,s.jsx)(d.E,{mb:2,children:(0,s.jsx)(k.x6,{id:"r5GL8F",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:D.Ix}})}),(0,s.jsx)(d.E,{color:"red.500",children:(0,s.jsx)(k.x6,{id:"2xOCJW"})})]}),(0,s.jsx)(T.j,{children:(0,s.jsxs)(ee.e,{children:[(0,s.jsx)(x.$,{variant:"ghost",onClick:a,children:(0,s.jsx)(k.x6,{id:"dEgA5A"})}),(0,s.jsx)(x.$,{variant:"hazardous",onClick:()=>{r(),a()},children:(0,s.jsx)(k.x6,{id:"NbFtQm"})})]})})]})]})},ei=e=>{let{channel:n,workspaceId:i,onClose:a}=e,t=(0,V.d)(),[r,o]=(0,O.useState)(()=>null==n?void 0:n.name),[d,{loading:c}]=(0,N.t1M)(),[v,f]=(0,O.useState)(null),E=(0,O.useCallback)(e=>{o(e.target.value)},[]),w=(0,O.useRef)(null),S=!!v,I=(0,O.useCallback)(()=>{if(!i||!(null==n?void 0:n.id))return void console.error('[onRenameChannel] Cannot rename channel. OrgId: "'.concat(i,'" channelId: "').concat(null==n?void 0:n.id,'"'));d({variables:{input:{id:null==n?void 0:n.id,workspaceId:i,name:r}}}).then(e=>{var i;let{data:l}=e;X().replace((0,q.gU)({id:null==n?void 0:n.id,slug:null==l?void 0:l.updateChannel.slug})),t({title:(0,s.jsx)(k.x6,{id:"QJd4OZ",values:{0:null==l||null==(i=l.updateChannel)?void 0:i.name}}),status:"success",duration:3e3,position:"top",isClosable:!0}),a()}).catch(e=>{f(e.message)})},[i,null==n?void 0:n.id,d,r,t,a]);return(0,s.jsxs)(h.aF,{closeOnOverlayClick:!1,isOpen:!0,initialFocusRef:w,onClose:a,children:[(0,s.jsx)(u.m,{}),(0,s.jsxs)(p.$,{children:[(0,s.jsx)(j.r,{children:(0,s.jsx)(k.x6,{id:"NZgZhv"})}),(0,s.jsx)(m.s,{}),(0,s.jsx)(b.c,{children:(0,s.jsx)(l.s,{mt:4,w:"100%",direction:"column",children:(0,s.jsxs)(g.MJ,{isInvalid:S,children:[(0,s.jsx)(C.p,{value:r,ref:w,onChange:E,onKeyDown:e=>{"Enter"===e.key&&I()}}),S&&(0,s.jsx)(y.Wt,{children:v})]})})}),(0,s.jsx)(T.j,{children:(0,s.jsxs)(ee.e,{children:[(0,s.jsx)(x.$,{variant:"ghost",onClick:a,children:(0,s.jsx)(k.x6,{id:"dEgA5A"})}),(0,s.jsx)(x.$,{isLoading:c,variant:"solid",onClick:I,children:(0,s.jsx)(k.x6,{id:"2wxgft"})})]})})]})]})},es=e=>{let{channel:n,workspaceId:i}=e,{isOpen:a,onOpen:t,onClose:l}=(0,H.j)({id:"deleteChannelModalDisclosure"}),{isOpen:r,onOpen:o,onClose:d}=(0,H.j)({id:"renameChannelModalDisclosure"}),{push:c}=(0,Z.useRouter)(),{leaveChannel:x}=(0,M.Z)(),h=(0,V.d)(),{onCopy:u}=(0,W.i)((0,q.gU)({id:null==n?void 0:n.id,slug:null==n?void 0:n.slug},!1)),{isInOfflineMode:p}=(0,J.u)();return(0,s.jsxs)(G.W,{closeOnSelect:!1,isLazy:!0,children:[(0,s.jsx)(Q.I,{as:F.K,variant:"ghost",fontWeight:"600",color:"gray.600",icon:(0,s.jsx)(A.g,{icon:I.Dwc})}),(0,s.jsxs)(K.c,{zIndex:"popover",children:[(0,s.jsx)(Y.D,{icon:(0,s.jsx)(A.g,{fixedWidth:!0,icon:I.tAZ}),onClick:o,isDisabled:p,children:(0,s.jsx)(k.x6,{id:"NZgZhv"})}),(0,s.jsx)($.N,{}),(0,s.jsx)(Y.D,{onClick:()=>{u(),h({title:(0,s.jsx)(k.x6,{id:"h5GS+N"}),status:"success",duration:3e3,position:"top"})},icon:(0,s.jsx)(A.g,{fixedWidth:!0,icon:I.Exz}),children:(0,s.jsx)(k.x6,{id:"alYpud"})}),(0,s.jsx)(Y.D,{icon:(0,s.jsx)(A.g,{fixedWidth:!0,icon:I._S}),onClick:()=>{x({channel:n}).then(()=>{c("/")})},isDisabled:p,children:(0,s.jsx)(k.x6,{id:"jC8TAY"})}),(0,s.jsx)($.N,{}),(0,s.jsx)(Y.D,{color:"red.500",onClick:t,icon:(0,s.jsx)(A.g,{fixedWidth:!0,icon:I.yLS}),isDisabled:p,children:(0,s.jsx)(k.x6,{id:"NbFtQm"})})]}),r&&(0,s.jsx)(ei,{channel:n,workspaceId:i,onClose:d}),a&&(0,s.jsx)(en,{channel:n,workspaceId:i,onClose:l})]})}},98694:(e,n,i)=>{"use strict";i.d(n,{v:()=>s});let s="ChannelDocDragItemType"}}]);
//# sourceMappingURL=3736-b3232515414c437c.js.map