(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5129],{41:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});let a=new(n(83747)).b},73:(e,t,n)=>{"use strict";n.d(t,{x:()=>l});var a=n(27229),i=n(26814),r=n(39892);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ai-credits-modal",t=(0,r.ez)("unlimited_credits"),{lowCreditStatus:n,credits:l,isCreditsReady:o}=(0,i.B9)(),{onOpen:s,onClose:d,isOpen:c}=(0,a.j)({id:e});return{hasUnlimitedCredits:t,lowCreditStatus:n,credits:l,onAICreditsModalOpen:s,onAICreditsModalClose:d,isAICreditsModalOpen:c,isCreditsReady:o}}},216:(e,t,n)=>{"use strict";n.d(t,{M:()=>s,u:()=>d});var a=n(6029),i=n(53996),r=n(91106),l=n(55729),o=n(26053);let s={width:"16px",height:"22px"},d=(0,l.forwardRef)((e,t)=>{let{icon:n="⋮",isVisible:l,isSelected:d,label:c,onClick:u,onDragStart:p,...h}=e,{color:g,bg:m,hoverColor:x,hoverBg:f,borderColor:b}=(0,o.Nb)(d);return(0,a.jsx)(r.Tz,{placement:"top",label:d?void 0:c,children:(0,a.jsx)(i.o,{ref:t,position:"absolute",width:s.width,height:s.height,fontWeight:"900",fontFamily:"body",background:m,backdropFilter:"blur(8px)",border:"1px solid",borderColor:b,color:g,borderRadius:"sm",boxShadow:"sm",fontSize:"16px",cursor:"pointer",opacity:d||l?1:0,_hover:{color:x,background:f,opacity:1},...h,className:"drag-handle",onClick:u,onDragStart:p,draggable:!0,contentEditable:!1,_after:{position:"absolute",content:'""',inset:-2},children:n})})});d.displayName="BaseDragHandle"},404:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var a=n(6029),i=n(24302),r=n(40452),l=n(49611),o=n(26420);let s=e=>{let{badge:t,label:n,leftIcon:s,isSticky:d,onClick:c,isDisabled:u}=e,p=(0,i.dU)("gray.50","gray.700");return(0,a.jsx)(r.s,{mt:2,bg:p,mx:-2,mb:-2,position:d?"sticky":"static",bottom:d?-2:"auto",children:(0,a.jsxs)(l.$,{colorScheme:"gray",variant:"link",size:"sm",mx:"auto",leftIcon:s,onClick:c,isDisabled:u,w:"100%",py:3,children:[n,t&&(0,a.jsx)(o.a,{ms:2,children:t})]})})}},1079:(e,t,n)=>{"use strict";n.d(t,{C:()=>i,J:()=>a});let a="support@gamma.app",i={CREATE_NEW_GAMMA:"https://help.gamma.app/en/articles/7838093-how-to-create-a-new-presentation-document-or-webpage-with-gamma-ai",ADD_BLOCKS:"https://help.gamma.app/en/articles/7898153-how-to-add-blocks-and-content",CHANGE_THEME:"https://help.gamma.app/en/articles/10262646-how-to-change-the-theme-in-gamma",EDIT_WITH_AI:"https://help.gamma.app/en/articles/8033284-how-to-edit-content-using-ai",PRESENT_MODE:"https://help.gamma.app/en/articles/8032935-how-to-present-your-gamma",EXPORT:"https://help.gamma.app/en/articles/8022861-how-to-export-gammas",AI_CREDITS:"https://help.gamma.app/en/articles/7834324-about-how-ai-credits-work",EARN_CREDITS_WITH_REFERRALS:"https://help.gamma.app/en/articles/7834324-about-how-ai-credits-work",UPGRADE_TO_PAID:"https://help.gamma.app/en/articles/8077107-about-upgrading-your-workspace-to-gamma-s-paid-plans",CANCELLATION:"https://help.gamma.app/en/articles/8568920-how-to-manage-or-cancel-your-gamma-subscription",CREATE_SITE:"https://help.gamma.app/en/articles/8429268-how-to-create-a-site"}},1636:(e,t,n)=>{"use strict";n.d(t,{o:()=>U});var a=n(22905),i=n(63867),r=n(71029),l=n(41896),o=n(15607),s=n(38934),d=n(92938),c=n(46957),u=n(3298),p=n(55424),h=n(28700),g=n(53138),m=n(36145),x=n(55847),f=n(90278);class b{constructor(e=null){this.dragging=e}}let v=new i.hs("smartLayoutPlugin"),y=e=>new i.k_({key:v,state:{init:()=>new b,apply:(e,t)=>t},props:{decorations:e=>(0,x.r$)(e),handleDOMEvents:{drop(e){var t;let n=null==(t=e.dragging)?void 0:t.annotations,a=v.getState(e.state);if(!a)return!1;a.dragging=n}},handleDrop:(t,n,a)=>{let i=v.getState(t.state),r=null==i?void 0:i.dragging;return i&&(i.dragging=null),!!(C(e,t,n,a)||A(e,t,n,a,r)||w(e,t,n,a))},handlePaste:(t,n,a)=>{let{selection:r}=t.state;if(!(r instanceof i.nh&&(0,p.q)(r.node)))return!1;let l=(0,m.bC)(e,n,a),o=(0,h.H)(a);if(o&&"image"!==o.type.name&&!l)return!1;let s=l?l.attrs:null==o?void 0:o.attrs;return e.commands.updateNestedAttributesAtPos(r.from,{image:s}),l&&l.upload(),!0}}}),w=(e,t,n,a)=>{let i=(0,f.fc)(t,n,a);if(!i)return!1;let r=(0,f.oO)(n),l=null,o=i.image;r&&(o=(l=(0,g.YC)(r,e)).content.attrs);let s=t.state.tr;return s.setNodeAttribute(i.pos,"image",o),null==l||l.upload(),s.deleteSelection(),t.dispatch(s),!0},C=(e,t,n,a)=>{let i=(0,f.TS)(t,n,a);if(!i)return!1;let r=t.state.tr;return r.setNodeAttribute(i.pos,"variantKey",i.variantKey),t.dispatch(r),e.commands.selectNodeAtPos(i.pos),!0},A=(e,t,n,a,i)=>{let r=null;try{if(!(r=(0,f.eL)(t,n,a)))return!1}catch(e){return!1}try{let{selection:n}=t.state,l=!n.empty,{node:o,pos:s,side:d}=r;if(s>n.from&&s<n.to)return!0;let c=a.content.toJSON(),u="left"===d||"top"===d?s:s+o.nodeSize;e.chain().insertContentAt({from:u,to:u},c,{updateSelection:!1}).command(e=>{let{tr:t}=e;return l&&t.deleteSelection(),i&&t.setMeta("annotationEvent",{type:"drop",dragging:i,droppedBlockPos:u+1}),!0}).focusMapped(u,1).run()}catch(e){console.error("(caught) [SmartLayoutPlugin] handleDrop error:",e)}return!0};var j=n(6029),k=n(21938),S=n(77650),I=n(55729),E=n(22115),R=n(15342),L=n(78893),D=n(43634),M=n(84886),_=n(43216);n(66082);var T=n(10500),N=n(51684),z=n(99492),P=n(19564),O=n(95889),F=n(70015),H=n(86687),B=n(23144);let V=e=>{let{editor:t,node:n,getPos:a,options:i}=e,{variantKey:r}=n.attrs,l=(0,B.BJ)(r),o=(0,I.useCallback)(e=>{t.commands.updateNestedAttributesAtPos(a(),e)},[t,a]),s=(0,I.useCallback)(e=>{O.zS.track(O.VV.SMART_LAYOUT_VARIANT_CHANGED,{previousVariant:r,newVariant:e,method:"context-menu"}),o({variantKey:e})},[o,r]),d=(0,I.useCallback)(()=>{t.chain().deleteSelectionAndSelectNear().run()},[t]),c=(0,I.useMemo)(()=>{let e=n.attrs;return l.options.map(l=>{var s,d;if(l.checkEnabled&&!l.checkEnabled({options:i,attrs:e,node:n}))return null;let c=null!=(d=i[l.key])?d:null==(s=l.defaultValue)?void 0:s.call(l,{ctx:"menu"});return l.ControlMenu?l.ControlMenu(c,(e,s)=>{o({options:{...i,[l.key]:e}}),O.zS.track(O.VV.SMART_LAYOUT_OPTION_UPDATED,{variantKey:r,optionKey:l.key,previousValue:c,newValue:e,updateChildren:s,method:"context-menu"}),s&&n.forEach((n,i)=>{t.commands.updateNestedAttributesAtPos(a()+i+1,{options:{...n.attrs.options,[l.key]:e}})})},l):null}).filter(e=>null!==e)},[l.options,n,i,o,t.commands,a]),u=(0,F.d)({editor:t,getPos:a,node:n,includeCut:!1}),p=(0,I.useMemo)(()=>(0,H.ML)().map(e=>({key:"family-".concat(e.family.key),label:e.family.name(),icon:e.family.icon,items:e.variants.map(e=>{let t=e.variant,n=r===t.key;return{key:"variant-".concat(t.key),label:t.name(),icon:n?(0,j.jsx)(T.S,{}):void 0,onClick:()=>s(t.key)}})})),[r,s]);return{contextMenuItems:[{key:"title",title:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(P.x6,{id:"kLxOTV"}),"\xa0",l.name()]})},{divider:!0},...u,{divider:!0},...c.length?[...c,{key:"divider",divider:!0}]:[],{key:"switch-layout",label:(0,j.jsx)(P.x6,{id:"FRoFGK"}),icon:N.swh,items:p},{divider:!0},{key:"delete",label:(0,j.jsx)(P.x6,{id:"cnGeoo"}),icon:z.yLS,onClick:d,color:"red.500"}]}},W=e=>{let{node:t,decorations:n,editor:a,getPos:i}=e,r=t.attrs,o=(0,B.BJ)(r.variantKey),{Wrapper:s}=o,d=(0,x.Rv)(n),c=(0,f.aG)(r,d.direction),u=(0,R.GV)(D.nD),p=(0,R.GV)(D.SJ),{onOpenContextMenu:h,onCloseContextMenu:g,menuProps:m}=(0,L.$)({editor:a,getPos:i}),{contextMenuItems:b}=V({editor:a,node:t,getPos:i,options:c}),v=(0,I.useMemo)(()=>({onClick:e=>{e.currentTarget===e.target&&a.commands.selectNodeAtPos(i())},cursor:u?"pointer":"default"}),[a,i,u]);return(0,j.jsxs)(M.u,{...e,dir:d.direction,className:(0,k.cx)(u&&"is-editable"),style:{position:"relative",display:"grid",gridTemplateColumns:"100%"},children:[(0,j.jsx)(s,{...d,onContextMenu:h,options:c,theme:p,variant:o,node:t,selectLayoutForElementProps:v,children:(0,j.jsx)(l.$p,{"data-node-view-content-outer":"smartLayout"})}),(0,j.jsx)(_.A,{...e,handlePlacement:"outside",label:S.Ru._({id:"Szg6OU"}),"data-testid":"smart-layout-drag-handle"}),(0,j.jsx)(E.tz,{isOpen:m.isOpen,onClose:g,menuItems:b,position:m.position,size:"small"})]})},U=a.bP.create({name:"smartLayout",group:"cardBlock layoutBlock",content:"smartLayoutCell+",isolating:!0,containerHandle:!0,defining:!0,priority:s.y.SmartLayout,addAttributes:()=>({variantKey:{default:void 0},options:{default:{},...(0,o.tb)("options")},fullWidthBlock:{default:!1}}),parseHTML:()=>[{tag:"div[class=smart-layout]"},...Object.values((0,B.aQ)()).map(e=>({tag:[e.htmlTag].filter(Boolean).join(", "),getAttrs:t=>({variantKey:e.key,options:G(t,e)})})),{tag:"smart-layout[variant]",getAttrs:e=>{let t=e.getAttribute("variant"),n=(0,B.BJ)(t);return{variantKey:n.key,options:G(e,n)}}}],renderHTMLforAI(e){let{node:t}=e,n=(0,B.BJ)(t.attrs.variantKey),a={};return n.options.forEach(e=>{var n,i;let r=null!=(i=t.attrs.options[e.key])?i:null==(n=e.defaultValue)?void 0:n.call(e);a[e.key]=null===r?void 0:"string"==typeof r?r:JSON.stringify(r)}),["smart-layout",{...a,variant:n.key},0]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,a.KV)(t,{class:"smart-layout"}),0]},addNodeView:()=>(0,l.gu)(W,{update:c.z0,ignoreMutation:r.I}),addProseMirrorPlugins(){return[y(this.editor)]},addCommands:()=>({insertSmartLayoutCell:e=>t=>{var n,i;let{chain:r,state:l}=t,o=l.doc.resolve(e),s=(0,a.eL)(o,e=>"smartLayout"===e.type.name),d=null==s?void 0:s.node.lastChild;if(!s||!d)return!1;let c=d.attrs,p=(0,u.Hg)(null==(n=d.firstChild)?void 0:n.attrs.level);return r().insertContentAt(e,{type:"smartLayoutCell",content:p,attrs:{image:{source:null==(i=c.image)?void 0:i.source}}}).selectInsertedNode().run(),!0},handleSmartLayoutDelete:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return n=>{let{dispatch:r,state:l,tr:o,chain:s}=n;if(!r)return!0;let{selection:c}=l,u=c instanceof i.nh&&(0,p.q)(c.node)?{node:c.node,pos:c.from}:(0,a.KP)(e=>"smartLayoutCell"===e.type.name)(l.selection);if(e&&u&&u.pos!==c.from)return!1;let h=(0,a.KP)(e=>"smartLayout"===e.type.name)(l.selection);if(!u||!h)return!1;if(1==h.node.childCount)s().selectNodeAtPos(h.pos).deleteSelectionAndSelectNear(t?1:-1).run();else{let e=o.doc.resolve(u.pos);(0,d.K)(o,e,t)}return!0}},handleEmphasizeCell:(e,t)=>n=>{let{chain:i,state:r}=n,l=r.doc.resolve(e),o=(0,a.eL)(l,e=>"smartLayout"===e.type.name),s=null==o?void 0:o.pos;return null==o||o.node.forEach((n,a)=>{if(!s)return!1;let r=n.attrs.options,l=s+1+a;return i().updateNestedAttributesAtPos(l,{options:{...r,isEmphasized:l===e&&t}}).run(),!0}),!0}})}),G=(e,t)=>{let n=t.defaultOptions||{};return t.options.forEach(t=>{let a=e.getAttribute(t.key);if(a){let i;try{i=JSON.parse(a)}catch(e){i=a}return t.validator&&!t.validator(i)?void console.error("Invalid value for ".concat(t.key,": ").concat(i),e.outerHTML):void(n[t.key]=i)}if(t.getDefaultOnParse&&void 0===n[t.key]){n[t.key]=t.getDefaultOnParse(e);return}}),n}},1739:(e,t,n)=>{"use strict";n.d(t,{Hf:()=>C,mk:()=>A});var a=n(6029),i=n(22905),r=n(63867),l=n(55729),o=n(72751),s=n(15607),d=n(38934),c=n(59712);let u=(e,t)=>(n,a)=>{let i={...n.getState(e.view.state)};i.active=!0,i.key=a,i.query="",t.setMeta(n,i)};var p=n(58809),h=n(15342),g=n(82927),m=n(80180);let x=e=>{let{ref:t,pickerInstance:n}=e;(0,l.useImperativeHandle)(t,()=>{let e=e=>{var t,a,i;let r=null==(i=n.component)||null==(a=i.refs)||null==(t=a.searchInput)?void 0:t.current;if(r){let{key:t,code:n}=e;r.dispatchEvent(new KeyboardEvent("keydown",{key:t,code:n}))}return e.stopPropagation(),e.preventDefault(),!0};return{onKeyDown:t=>{let{event:n}=t;return!!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter"].includes(n.key)&&e(n)}}})},f=(0,l.forwardRef)((e,t)=>{let{query:n,onSelect:i}=e,r=(0,h.GV)(p.Jo),s=(0,g.Iy)("edit",r),[d,c]=(0,l.useState)(null),u=(0,l.useCallback)(e=>{if(c(e),e.shadowRoot){let t=document.createElement("style");t.innerHTML="nav + div.padding-lr { display: none }",e.shadowRoot.appendChild(t)}e.addEventListener("mousedown",m.Fw)},[]);x({ref:t,pickerInstance:d}),(0,l.useEffect)(()=>{var e,t,a;if(!d)return;let i=null==(a=d.component)||null==(t=a.refs)||null==(e=t.searchInput)?void 0:e.current;i&&(i.value=n,i.dispatchEvent(new Event("input",{bubbles:!0})))},[d,n]);let f=(0,l.useCallback)(e=>{let t=(0,o.F8)(e.id);t&&i(t)},[i]);return s?(0,a.jsx)(o.pP,{onCreate:u,perLine:9,searchPosition:"sticky",handlePick:f,shouldFocusSearch:!1,dataTargetName:"emoji-list"}):(0,a.jsx)(a.Fragment,{})});var b=n(28603);let v=/:([a-zA-Z0-9_+-]+):$/,y=new r.hs("EmojiMenu"),w=e=>{let t=(0,o.$n)(e);return{id:e.id,native:t}},C=i.bP.create({name:"emoji",group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes:()=>({id:{},native:{}}),addStorage:()=>({hasMigrated:!1,isMigrationScheduled:!1}),parseHTML:()=>[{tag:"span.emoji:not([id])",skip:!0},{tag:"span[class=emoji]"}],addCommands(){return{openEmojiPicker:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return t=>{let{commands:n,tr:a,editor:i}=t;return u(i,a)(y,":"),!e||n.insertContent(":")}},migrateNativeEmojis:()=>e=>{let{editor:t}=e;return!this.storage.hasMigrated&&!this.storage.isMigrationScheduled&&(this.storage.isMigrationScheduled=!0,o.eX.then(()=>{t.commands.command(e=>{let{tr:t,state:n}=e,{doc:a,schema:i}=n;return a.descendants((e,n,a)=>{j({node:e,pos:n,parent:a,tr:t,schema:i})}),this.storage.hasMigrated=!0,this.storage.isMigrationScheduled=!1,!0})}),!0)}}},addInputRules:()=>[new i.fV({find:v,handler:e=>{let{range:t,match:n,commands:a}=e,i=n[1],r=(0,o.F8)(i);if(!r)return;let l=w(r);a.insertContentAt(t,{type:"emoji",attrs:l})}})],renderHTML(e){let{HTMLAttributes:t,node:n}=e;return["span",(0,i.KV)(t,{class:"emoji"}),"".concat(n.attrs.native||"�")]},renderHTMLforAI(e){let{node:t}=e;return t.attrs.native||""},renderText(e){let{node:t}=e;return"".concat(t.attrs.native||"�")},addProseMirrorPlugins:()=>[new r.k_({key:new r.hs("emojiTransform"),appendTransaction:(e,t,n)=>(0,s.g4)(e,n,j)})]}),A=(0,c.e$)({name:"emojiShortcuts",char:":",pluginKey:y,MenuComponent:(0,l.forwardRef)((e,t)=>{let{query:n,editor:i}=e;return i.isEditable?(0,a.jsx)(f,{ref:t,query:n,onSelect:e=>{let{id:t}=e,a=(0,o.$n)(e),r=i.state.selection;i.chain().deleteRange({from:r.from-n.length-1,to:r.to}).insertContent({type:"emoji",attrs:{id:t,native:a}}).insertContent(" ").run()}}):null}),priority:d.y.EmojiShortcuts}),j=e=>{let{node:t,pos:n,tr:a,schema:i}=e;if(!(0,o.Gm)())return!1;if(!t.isText||!t.text)return!0;let r=t.marks.map(e=>e.toJSON()),{replaced:l,nodes:s}=(0,b.Z)(t.text,r);try{l&&a.replaceWith(a.mapping.map(n),a.mapping.map(n+t.nodeSize),s.map(e=>i.nodeFromJSON(e)))}catch(e){console.error("[migratePlugin] Error migrating emoji",{err:e,pos:n,text:t.text,node:t,nodes:s})}return!0}},2002:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var a=n(6029),i=n(19564);let r={originalTitle:(0,a.jsx)(i.x6,{id:"0oUc2U"}),title:(0,a.jsx)(i.x6,{id:"0MyRmc"}),description:(0,a.jsx)(i.x6,{id:"s3XYLh"}),image:"https://cdn.gamma.app/zc87vhr30n8uf3n/9f0b4d71d10f4d388e50febe89bb1853/optimized/Sal-Chill-Cloud.svg"}},2067:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});let a={".is-selecting-node, .sal-selection-node, .sal-selection-card":{"[data-selection-ring]":{_before:{content:'""',position:"absolute",inset:0,borderRadius:"inherit",outline:"2px solid",outlineColor:"trueblue.300",pointerEvents:"none",zIndex:1}},'[data-selection-ring="inside"]':{_before:{zIndex:10,outlineOffset:"-2px"}},'[data-selection-ring="padded"]':{_before:{outlineOffset:"0.25em"}},".react-renderer [data-selection-ring]":{_before:{content:"none"}}},".is-selecting-around":{"[data-selection-background]":{_after:{content:'""',position:"absolute",inset:0,backgroundColor:"var(--chakra-ring-color)",borderRadius:"inherit",opacity:.75}},".react-renderer:not(.is-selecting-around) [data-selection-ring]":{_after:{content:"none"}}}}},2196:(e,t,n)=>{"use strict";n.d(t,{q:()=>x});var a=n(6029),i=n(10500),r=n(83743),l=n(26420),o=n(33787),s=n(58959),d=n(48810),c=n(91106),u=n(12364),p=n.n(u),h=n(55729),g=n(88134),m=n(13080);let x=(0,h.memo)(e=>{let{selectedPreset:t,onSelectPreset:n,columns:i}=e,{artStylePreset:l}=(0,g.k)(),o=(0,h.useRef)(function(e){return[[e,m.ll[e]],...Object.entries(m.ll).filter(t=>{let[n]=t;return n!==e})]}(l));return(0,a.jsx)(r.r,{columns:null!=i?i:{base:3,md:5},spacing:1,children:o.current.map(e=>{let[i,{label:r,imageUrl:l}]=e;return(0,a.jsx)(f,{stylePreset:i,label:r,imageUrl:l,isSelected:i===t,onSelectPreset:n},i)})})});x.displayName="ImageArtStyleGrid";let f=e=>{let{stylePreset:t,label:n,imageUrl:r,isSelected:u,onSelectPreset:g}=e,[m,x]=(0,h.useState)(!0),f=(0,h.useRef)(null);return(0,h.useEffect)(()=>{let e=p()(()=>{f.current&&x(f.current.scrollWidth>f.current.clientWidth)},200,{leading:!1,trailing:!0});return e(),window.addEventListener("resize",e),()=>{e.cancel(),window.removeEventListener("resize",e)}},[]),(0,a.jsx)(c.Tz,{label:n(),hasArrow:!0,placement:"bottom",isDisabled:!m,children:(0,a.jsx)(l.a,{position:"relative",cursor:"pointer",onClick:()=>g(t),borderRadius:"md",borderColor:u?"deepocean.600":"transparent",borderWidth:2,overflow:"hidden",aspectRatio:"1/1",_hover:{"& img":{filter:"brightness(60%)",transition:"filter 0.3s ease-in-out"}},children:(0,a.jsxs)(l.a,{children:[(0,a.jsxs)(l.a,{position:"relative",children:[(0,a.jsx)(o._,{src:r,alt:n(),width:"100%",height:"100%",objectFit:"cover",draggable:!1}),(0,a.jsx)(l.a,{position:"absolute",top:0,insetStart:0,insetEnd:0,bottom:0,background:"linear-gradient(to bottom, transparent 60%, rgba(0, 0, 0, 0.2) 70%, rgba(0, 0, 0, 0.55) 80%, rgba(0, 0, 0, 0.6) 100%)",pointerEvents:"none"})]}),(0,a.jsxs)(s.z,{position:"absolute",bottom:1,insetStart:2,insetEnd:2,spacing:1,children:[u&&(0,a.jsx)(i.S,{w:2,color:"white"}),(0,a.jsx)(d.E,{fontSize:"2xs",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"white",ref:f,children:n()})]})]})},t)})}},2320:(e,t,n)=>{"use strict";n.d(t,{A:()=>U,c:()=>G});var a=n(63867),i=n(6029),r=n(48810),l=n(58959),o=n(96990),s=n(40452),d=n(3276),c=n(99492),u=n(55597),p=n(48621),h=n(91106),g=n(19564),m=n(97139),x=n.n(m),f=n(21157),b=n.n(f),v=n(55729),y=n(88586),w=n(39247),C=n(58809),A=n(99038),j=n(75748),k=n(15342),S=n(24573),I=n(59712),E=n(82927),R=n(80180),L=n(82328);let D=(e,t,n)=>RegExp(t?e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):e,n?"gu":"gui"),M=()=>(0,i.jsx)(g.x6,{id:"eZHH8X",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP}}),_=e=>{let{html:t}=e;return(0,i.jsx)(r.E,{paddingInlineStart:"0.2rem",wordBreak:"break-word",noOfLines:1,maxW:300,lineHeight:"1.5",dangerouslySetInnerHTML:{__html:t?x().sanitize(t):""}})},T=e=>e.replace(/(<em>|<\/em>)/g,""),N=e=>{let{result:t}=e,{__typename:n}=t;return"User"===n?(0,i.jsxs)(l.z,{children:[(0,i.jsx)(o.e,{size:"2xs",minWidth:4,m:0,name:t.displayName&&T(t.displayName),src:t.profileImageUrl}),(0,i.jsx)(_,{html:t.displayName})]}):"Card"===n?(0,i.jsxs)(l.z,{children:[(0,i.jsx)(s.s,{color:"gray.600",minWidth:4,justifyContent:"flex-end",children:(0,i.jsx)(p.g,{icon:u.ZPt,transform:{size:6}})}),(0,i.jsx)(_,{html:t.title})]}):"DocResult"===n?(0,i.jsx)(S.xT,{result:t,context:"mentionsList"}):(console.warn("[MentionList] Invalid __typename for search result:",t.__typename),null)},z=(0,v.forwardRef)((e,t)=>{let{result:n,index:a,selectedIndex:r,selectItem:l,...o}=e;return(0,i.jsx)(h.nh,{ref:t,tabIndex:a===r?0:-1,onClick:()=>l(a),onMouseDown:R.Fw,...o,children:(0,i.jsx)(N,{result:n})},a)}),P=(0,i.jsx)(p.g,{icon:c.vti}),O=(0,i.jsx)(p.g,{icon:c.vGi}),F=(0,i.jsx)(p.g,{icon:c.hP6}),H={Card:{title:(0,i.jsx)(g.x6,{id:"gXnPmp",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP}}),iconComponent:P},DocResult:{title:b()(A.Ix),iconComponent:O},User:{title:(0,i.jsx)(g.x6,{id:"1wdjme"}),iconComponent:F}},B=(0,v.forwardRef)((e,t)=>{var n,a,o;let{editor:c,query:u,command:p}=e,{isConnected:m}=(0,y.utY)(),x=(0,k.GV)(C.Jo),f=(0,v.useMemo)(()=>{let e=null==x?void 0:x.collaborators;return(null==e?void 0:e.map(e=>e.user))||[]},[x]),{user:b,currentWorkspace:A}=(0,E.ur)(),{data:S,previousData:R,loading:_}=function(e,t){let{isConnected:n}=(0,L.u)(),a=!e||!t||!n;var i=[(0,y.SzF)({variables:{workspaceId:t,types:[y.nXf.User],query:e},skip:a}),(0,y.SzF)({variables:{workspaceId:t,types:[y.nXf.Doc],query:e},skip:a})];function r(e,t,n){n&&(e[t]||(e[t]={search:[]}),e[t].search=[...e[t].search,...n.search])}return i.reduce((e,t)=>{let{data:n,previousData:a,error:i,loading:l}=t;return!n&&l&&a&&(n=a),r(e,"data",n),r(e,"previousData",a),l&&(e.loading=!0),i&&(e.error=i),e},{})}(u,(null==b||null==(o=b.workspaceMemberships)||null==(a=o.find(e=>{var t;return(null==(t=e.workspace)?void 0:t.id)===c.gammaOrgId}))||null==(n=a.workspace)?void 0:n.id)||(null==A?void 0:A.id)),{searchDocs:N,searchUsers:P}=(0,v.useMemo)(()=>{let e=D(u,!0,!1),t=(S?S.search:R?R.search:[]).filter(e=>"User"===e.__typename),n=(S?S.search:R?R.search:[]).filter(e=>"DocResult"===e.__typename),a=f.filter(e=>!t.find(t=>t.id===e.id)).filter(e=>{var t,n;return(null==(t=e.email)?void 0:t.startsWith(u.toLowerCase()))||(null==(n=e.displayName)?void 0:n.toLowerCase().includes(u.toLowerCase()))}),i=[...t,...a].map(t=>{var n;return{...t,displayName:null==(n=t.displayName)?void 0:n.replace(e,"<em>$&</em>")}});return{searchDocs:u?[...n]:[],searchUsers:u?i:[]}},[S,R,u,f]),O=(0,k.GV)(w.rZ),F=[...P,...(0,v.useMemo)(()=>{let e=D(u,!0,!1);return u?O.map(t=>{let n=t.title||"";if(n.match(e)){let a=n.replace(e,"<em>$&</em>");return{...t,title:a,__typename:"Card"}}return null}).filter(Boolean):[]},[O,u]),...N],B=e=>{let t=F[e]?{...F[e]}:null;t&&("User"===t.__typename&&t.displayName&&(t.displayName=T(t.displayName)),"Card"===t.__typename&&(t.docId=c.gammaDocId),p({item:t,user:b}))},{selectedIndex:V,selectedItemEl:W}=(0,I.Rj)({ref:t,selectItem:B,options:F}),G=c.state.selection,K=!G.$anchor.parent.isLeaf&&G.$anchor.parent.textContent===U;return 0===u.length&&K?(0,i.jsx)(s.s,{w:"100%",p:1,align:"flex-start",justify:"flex-start",flex:"1",mt:-9,marginStart:3,"data-testid":"mention-list-empty",children:(0,i.jsx)(r.E,{fontSize:"md",color:"gray.400",children:(0,i.jsx)(M,{})})}):(0,i.jsx)(h.qF,{"data-testid":"mention-list",children:(0,i.jsxs)(h.QE,{"data-target-name":"mention-list",w:"540px",maxW:"90vw",overflowY:"auto",maxH:"65vh",sx:{em:{bg:"var(--chakra-colors-trueblue-100)",fontStyle:"normal",borderRadius:"base",display:"inline-block",padding:"0px 2px",margin:"0px -2px"}},children:[(0,i.jsx)(j.r,{isConnected:m,description:(0,i.jsx)(g.x6,{id:"KnLL/m"})}),0===u.length?(0,i.jsx)(s.s,{p:1,align:"center",justify:"center",flex:"1",minH:12,"data-testid":"mention-list-empty",children:(0,i.jsx)(r.E,{fontSize:"md",color:"gray.400",children:(0,i.jsx)(M,{})})}):!_&&u.length>1&&0===F.length?(0,i.jsx)(s.s,{p:1,align:"center",justify:"center",flex:"1",minH:12,children:(0,i.jsx)(r.E,{fontSize:"sm",color:"gray.500",children:(0,i.jsx)(g.x6,{id:"0+jt9a"})})}):null,F.map((e,t)=>{let n=F.findIndex(t=>t.__typename===e.__typename)===t&&e.__typename?H[e.__typename]:null;return(0,i.jsxs)(v.Fragment,{children:[n&&(0,i.jsxs)(l.z,{mt:4,mb:2,color:"gray.500",children:[n.iconComponent,(0,i.jsx)(h._x,{children:n.title})]}),(0,i.jsx)(z,{"data-testid":"mention-list-item-".concat(e.id),ref:t===V?W:null,result:e,index:t,selectedIndex:V,selectItem:B},t)]},e.id)}),_&&(0,i.jsx)(s.s,{p:1,align:"center",justify:"center",flex:"1",minH:12,children:(0,i.jsx)(d.y,{opacity:"0.8",size:"xs"})})]})})});var V=n(38934);let W=new a.hs("MentionGamma"),U="@",G=(0,I.e$)({name:"GammaMention",char:U,pluginKey:W,allowSpaces:!0,MenuComponent:B,priority:V.y.MentionSuggestionMenu,command:e=>{let{editor:t,range:n,props:a}=e,{item:i,user:r}=a;if("User"===i.__typename){let{id:e,displayName:a,profileImageUrl:l}=i,{id:o}=r;t.commands.addUserMention({id:e,label:a,profileImageUrl:l,mentionedById:o},n)}else if("Card"===i.__typename){let{id:e,docId:a}=i,{id:l}=r;t.commands.addCardMention({id:e,docId:a,mentionedById:l},n)}else if("DocResult"===i.__typename){let{id:e}=i,{id:a}=r;t.commands.addDocMention({id:e,mentionedById:a},n)}}})},2362:(e,t,n)=>{"use strict";n.d(t,{X:()=>g});var a=n(6029),i=n(90394),r=n(46898),l=n(34807),o=n(49611),s=n(38036),d=n(26385),c=n(72470),u=n(77979),p=n(19564),h=n(55729);let g=e=>{let{url:t,placeholder:n,isDisabled:g=!1,variant:m="plain",customLabel:x,onClick:f,paddingLeft:b=4,...v}=e,[y,w]=(0,h.useState)(!1),{hasCopied:C,onCopy:A}=(0,i.i)(t),j=(0,h.useRef)(null),k=(0,r.d)(),S="link-copied-toast",I=(0,l.A)({base:!0,sm:!1},{fallback:"sm"});(0,h.useEffect)(()=>{j.current&&y&&(j.current.focus(),j.current.select())},[y]);let E=(0,h.useCallback)(()=>w(!0),[]),R=(0,h.useCallback)(()=>w(!1),[]),L=(0,h.useCallback)(()=>{A(),k.isActive(S)||k({id:S,title:(0,a.jsx)(p.x6,{id:"pQjjYo"}),status:"success",duration:5e3}),null==f||f()},[f,A,k]),D=x||(0,a.jsx)(p.x6,{id:"he3ygx"}),M=!!(I&&void 0!==x),_=(0,a.jsx)(o.$,{isDisabled:g,onClick:L,variant:m,w:"100%",...M?{}:{height:"2rem",margin:2},...g?{opacity:"1 !important",color:"gray.400",_hover:{opacity:"1"},_active:{boxShadow:"0 none"}}:{},children:C?(0,a.jsx)(p.x6,{id:"6V3Ea3"}):D}),T=(0,a.jsx)(s.p,{ref:j,type:"text",variant:"filled",paddingLeft:b,direction:"ltr",value:t,isReadOnly:!0,isDisabled:g,placeholder:n||void 0,onClick:E,onBlur:R,pointerEvents:g?"none":void 0,h:"3rem",...v});return M?(0,a.jsxs)(d.B,{w:"100%",children:[T,_]}):(0,a.jsxs)(c.M,{dir:"ltr",children:[T,(0,a.jsx)(u.t,{h:"3rem",zIndex:1,w:"unset",children:_})]})}},2426:(e,t,n)=>{"use strict";n.d(t,{bY:()=>u,dX:()=>d});var a=n(22905),i=n(63867),r=n(67733),l=n(23460),o=n(15607),s=n(8098);let d=new i.hs("menuFormattingBubble");class c{initialize(e){let{element:t,tippyOptions:n,panelLifecycle:a,onHide:i,targetElement:r}=e;if(!t)return void console.warn("[FormattingBubbleMenuView] initialize. No element provided");this.onHide=i,this.element=t,this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.view.dom.addEventListener("dragend",this.dragendHandler),this.view.dom.addEventListener("drop",this.dragendHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.createTooltip(n,r),this.element.style.visibility="visible",document.addEventListener("mousedown",this.mousedownDocumentHandler,!0),document.addEventListener("mouseup",this.mouseupDocumentHandler,!0),this.boundHideHandler=this.hide.bind(this),s.q.on("hide",this.boundHideHandler),a&&(this.cleanupPanelLifecycle=a.on("resize",()=>{var e;null==(e=this.tippy.popperInstance)||e.update()}))}createTooltip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t||this.view.dom.parentElement;this.tippy=(0,r.Ay)(n,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...e}),this.editor.commands.command(e=>{let{tr:t}=e;return t.setMeta(d,{tippyInstance:this.tippy}),!0})}update(e,t){let n=t&&d.getState(t),i=d.getState(e.state),{state:r,composing:s}=e,{doc:c,selection:u}=r,h=t&&t.doc.eq(c)&&t.selection.eq(u)&&this.isEditable===this.editor.isEditable&&(null==n?void 0:n.forceHide)===i.forceHide;if(!this.element){if(!i.element)return;this.initialize(i)}if(this.isEditable=this.editor.isEditable,!this.editor.isEditable||!0===i.forceHide)return void this.hide();if(s||h)return;let{empty:g,ranges:m}=u,x=Math.min(...m.map(e=>e.$from.pos)),f=Math.max(...m.map(e=>e.$to.pos)),b=!c.textBetween(x,f).length&&(0,a.eE)(e.state.selection);if(g||b){let e=u.$anchor.marks().some(e=>"link"===e.type.name)||"button"===u.$anchor.parent.type.name,t=(0,a.Nx)(c,{from:x,to:f},e=>"emoji"===e.type.name);if(!e&&(null==t?void 0:t.length)===0)return void this.hide()}this.tippy.setProps({getReferenceClientRect:()=>{if(!(0,a.BQ)(e.state.selection))return(0,a.MG)(e,x,f);let t=e.nodeDOM(x);return t&&(0,l.sb)(t)?(p(t,".drag-handle")||p(t,"[data-content-reference]")||t).getBoundingClientRect():(0,a.MG)(e,x,f)}}),!this.isMouseDownOutsideMenu&&(0,o.We)(this.editor)&&this.show()}show(){this.tippy.show(),document.body.classList.add("formatting-menu-open")}hide(){this.onHide&&"function"==typeof this.onHide&&this.onHide(),this.tippy.hide(),document.body.classList.remove("formatting-menu-open")}destroy(){var e,t;null==(e=this.tippy)||e.destroy(),null==(t=this.element)||t.removeEventListener("mousedown",this.mousedownHandler),document.removeEventListener("mousedown",this.mousedownDocumentHandler,!0),document.removeEventListener("mouseup",this.mouseupDocumentHandler,!0),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler),this.boundHideHandler&&s.q.off("hide",this.boundHideHandler),this.cleanupPanelLifecycle&&this.cleanupPanelLifecycle()}constructor({editor:e,view:t}){this.preventHide=!1,this.mousedownDocumentHandler=e=>{this.element.contains(e.target)?this.isMouseDownOutsideMenu=!1:this.isMouseDownOutsideMenu=!0},this.mouseupDocumentHandler=()=>{this.isMouseDownOutsideMenu=!1,this.update(this.editor.view)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.dragendHandler=()=>{this.isMouseDownOutsideMenu=!1,setTimeout(()=>this.update(this.editor.view))},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=e=>{var t;let{event:n}=e;if(this.preventHide){this.preventHide=!1;return}(null==n?void 0:n.relatedTarget)&&(null==(t=this.element.parentNode)?void 0:t.contains(n.relatedTarget))||this.hide()},this.editor=e,this.isEditable=e.isEditable,this.view=t}}let u=a.YY.create({name:"formattingBubbleMenu",addCommands:()=>({forceHideBubbleMenu:e=>t=>{let{tr:n}=t;return n.setMeta(d,{forceHide:e}),!0},refreshBubbleMenu:()=>e=>{var t;let{state:n}=e,{tippyInstance:a}=d.getState(n);return null==a||null==(t=a.popperInstance)||t.forceUpdate(),!0}}),addProseMirrorPlugins(){let{editor:e}=this;return[new i.k_({key:d,state:{init:()=>({element:null,forceHide:!1,onHide:()=>{},tippyOptions:{},tippyInstance:null}),apply(e,t){let n=e.getMeta(d);return n?{...t,...n}:t}},view:t=>new c({view:t,editor:e})})]}}),p=(e,t)=>{let n=e.querySelector(t),a=e.querySelector("[data-node-view-wrapper]");return n&&a&&(0,l.xX)(n,e,e=>e.hasAttribute("data-node-view-wrapper"))===a?n:null}},2681:(e,t,n)=>{"use strict";n.d(t,{Q5:()=>v,gf:()=>b,ms:()=>f,tJ:()=>y});var a=n(6029),i=n(27229),r=n(8527),l=n(21152),o=n(49611),s=n(2241),d=n(54578),c=n(87613),u=n(91106),p=n(55729);let[h,g]=(0,d.q)({strict:!1,name:"DropdownContext"}),[m,x]=(0,d.q)({name:"DropdownStylesContext",errorMessage:"useDropdownStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Dropdown />\" "}),f=e=>{let{isOpen:t,onClose:n,onToggle:o}=(0,i.j)(),s=(0,r.o)("Dropdown",e),d=(0,l.E)({placement:"bottom-start"}),c=(0,p.useMemo)(()=>({isOpen:t,onClose:n,onToggle:o,popper:d}),[t,n,o,d]);return(0,a.jsx)(h,{value:c,children:(0,a.jsx)(m,{value:s,children:(0,a.jsx)(u.qF,{...e})})})},b=e=>{let{children:t,as:n,...i}=e,{popper:r,onToggle:l}=g(),d=n||o.$;return(0,a.jsx)(d,{...i,ref:r.referenceRef,onClick:(0,c.H)(e.onClick,l),children:(0,a.jsx)(s.B.span,{__css:{pointerEvents:"none",flex:"1 1 auto",justifyContent:"flex-start",display:"flex",minW:0},children:t})})},v=e=>{var t,n;let{children:i,...r}=e,{isOpen:l,popper:o}=g(),d=x();if(!l)return null;let c=o.getPopperProps({...e,style:{visibility:l?"visible":"hidden",...e.style}});return(0,a.jsx)(s.B.div,{...r,mt:2,minWidth:"var(--chakra-sizes-48)",ref:o.popperRef,...c,__css:{zIndex:null!=(n=e.zIndex)?n:null==(t=d.list)?void 0:t.zIndex},children:(0,a.jsx)(u.QE,{children:i})})},y=e=>{let{onToggle:t}=g();return(0,a.jsx)(u.nh,{...e,onClick:(0,c.H)(e.onClick,t)})}},3239:(e,t,n)=>{"use strict";n.d(t,{s:()=>p,u:()=>h});var a=n(63867),i=n(80116),r=n(39247),l=n(43634),o=n(15607),s=n(56603),d=n(92397),c=n(47665);let u=(e,t)=>{let{content:n}=e.state.doc.slice(t.from,t.to);return(0,i.KC)(e,n)},p=(e,t)=>{let{selection:n}=e.state,i=(0,o.IV)(n.$from,c.jg)[0],r=i&&(0,d.Ub)(i.node,i.pos);if(!i||!r)throw Error("Cant find parent card for selection ".concat(n));let p={from:i.pos,to:i.pos+i.node.nodeSize},g={from:r.pos+1,to:r.pos+r.node.nodeSize-1},m=n.$from.blockRange(n.$to),x={from:m.start,to:m.end},f={range:(0,s.w8)(e.state,g),html:u(e,g)},b={range:(0,s.w8)(e.state,n),html:u(e,n)},v={range:(0,s.w8)(e.state,x),html:u(e,x)},y=n instanceof a.nh&&(0,c.jg)(n.node)||n.empty||0===b.html.trim().length||n instanceof a.nh&&n.node.isAtom,w=!n.$from.parent.eq(n.$to.parent)||0===m.$from.parentOffset&&m.$to.parentOffset===m.$to.parent.content.size,C=b,A="selectionRange";y?(C=f,A="cardContent"):w&&(C=v,A="blockRange");let j=h(t),k=(0,l.SJ)(t.getState());return{card:{cardId:i.node.attrs.id,range:(0,s.w8)(e.state,p),html:u(e,p),attrs:i.node.attrs},cardContent:f,blockRange:v,selectionRange:b,defaultRange:C,selection:n,outline:j,selectedDefaultRange:A,theme:k}},h=e=>{let t=e.getState(),n=(0,l.Ev)(t),a=(0,r.ow)(t);return Object.keys(n.tree).map(e=>{var t;return null==(t=a[e])?void 0:t.title}).filter(e=>!!e).join("\n")}},3298:(e,t,n)=>{"use strict";n.d(t,{Ab:()=>s,Hg:()=>l,xb:()=>o});var a=n(99492),i=n(77650),r=n(17633);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return[r.w.heading(i.Ru._({id:"HX5SVx"}),{level:e}),r.w.paragraph(i.Ru._({id:"Nu4oKW"}))]},o="1em",s={boxes:{name:()=>i.Ru._({id:"61H/21"}),icon:a.n2$},bullets:{name:()=>i.Ru._({id:"RYtHky"}),icon:a.ITF},sequence:{name:()=>i.Ru._({id:"ipQKNM"}),icon:a.dmS},images:{name:()=>i.Ru._({id:"an5hVd"}),icon:a.Cyq},numbers:{name:()=>i.Ru._({id:"3xKsW7"}),icon:a.Bi7},circles:{name:()=>i.Ru._({id:"pzzFVX"}),icon:a.yNr},quotes:{name:()=>i.Ru._({id:"eWLklq"}),icon:a.$7g},steps:{name:()=>i.Ru._({id:"A9onc2"}),icon:a.UER}}},3383:(e,t,n)=>{"use strict";n.d(t,{ay:()=>S,ds:()=>k,ze:()=>I});var a=n(22905),i=n(55729),r=n(81807),l=n(92613),o=n(34832),s=n(40240),d=n(83605),c=n(82592),u=n(13559),p=n(9118),h=n(82328),g=n(6018),m=n(58809),x=n(66380),f=n(11390),b=n(15342),v=n(3239),y=n(90010),w=n(22529),C=n(47665),A=n(22539);let j={language:"English (US)",textAmount:"md",tone:"",audience:"",format:"deck",imageProvider:"aiGenerated"},k=e=>{var t,n;let{editor:l,getPos:h,theme:v,input:k}=e,S=(0,b.GV)(m.Jo),E=S.organization.id,R=(0,b.GV)((0,w.$E)(E)),[L,D]=(0,i.useState)(!1),M=(0,b.CU)(),{imageProvider:_,imageOptions:T}=(0,x.V)(),{template:N,settings:z}=k,P=(0,i.useCallback)(async e=>{if(!S||!S.organization)throw Error("Doc or organization not found");let{templateText:t,input:n="",interactionId:a}=e,i=performance.now(),c=(0,u.h)(l,M),p={...j,...c,...e.settings,input:n,templateText:t,previous:e.previous,textMode:"generate",imageOptions:T,imageProvider:_},h={interface:"add-card",interactionId:a,inputContent:n,inputData:{...e.settings,template:N},product:(0,f.A4)(S.organization),docId:S.id};(0,s.rl)(h);let m=await (0,o.K8)({promptKey:"GenerateCardWithLayout",variables:p,workspaceId:R.id,interactionId:a}),x=(0,r.DB)(m),b=(0,d.dE)(x);return(0,s.Yh)({...h,outputContent:x,latency:performance.now()-i}),(0,g.w)("generateCard",R,a),b},[S,M,R,_,T,N,l]),O=(0,p.xt)(z.locale||(0,y.nM)(l.state.doc)||(null==S||null==(n=S.docGenerateInput)||null==(t=n.settings)?void 0:t.locale)||"en");return{isGenerating:L,getContextAndGenerate:(0,i.useCallback)(async e=>{if(!l)return;let t=h(),n=l.view.state.doc.nodeAt(t);if(!n)return void console.error("[AICard] Cannot append card. Node unknown");let i=I(l,t);D(!0);try{var r;let o=(0,s.$F)(),d=null==(r=(0,A.W)().find(e=>e.key===N))?void 0:r.aiDescription,u=await P({input:e,templateText:d,previous:i,settings:{language:O.englishName},interactionId:o});u.attrs={...n.attrs,...u.attrs,container:{...n.attrs.container,...u.attrs.container},generatorInput:{...n.attrs.generatorInput,prompt:e,template:N,settings:z,status:"done",interactionId:o}};let p=(0,a.xe)(l.state.doc,e=>(0,C.jg)(e)&&e.attrs.id===n.attrs.id)[0];if(!p)return void console.warn("[useGenerateCard] Card not found. It may have been deleted while generating.");l.chain().insertContentAt({from:p.pos,to:p.pos+p.node.nodeSize},u).setMeta("isGenerateCard",!0).selectInsideCardBody(t).run(),(0,c.Sg)({editor:l,content:u,theme:v,interactionId:o})}catch(e){console.error("[GenerateCard] Error generating card",e)}D(!1)},[l,h,P,N,O.englishName,z,v]),updateInput:(0,i.useCallback)(e=>{let t=h(),n=l.view.state.doc.nodeAt(t);(null==n?void 0:n.attrs.generatorInput)&&l.commands.updateNestedAttributesAtPos(t,{generatorInput:e})},[l,h]),locale:O}},S=(e,t)=>{let{isInOfflineMode:n}=(0,h.u)(),[a,r]=(0,i.useState)([]),[l,s]=(0,i.useState)("ready"),{generate:d}=(0,o.pt)("SuggestCardTopics",{onStart(){s("generating"),r([])},onContent(e){r(e.split("\n").filter(Boolean))},onComplete(e){r(e.split("\n").filter(Boolean)),s("done")},onError(e){console.error("Error generating suggestions",e),s("error")},timeout:3e4}),c=(0,b.GV)(m.Jo),u=c.organization.id,p=(0,b.GV)((0,w.$E)(u)),g=(0,y.lI)(e),x=(0,y.zK)(g),f=(0,b.CU)();return(0,i.useEffect)(()=>{if(!n&&t&&"ready"===l){let e=(0,v.u)(f);e.trim().split("\n").length<3||d({variables:{outline:e,format:x},workspaceId:p.id})}},[l,d,n,t,f,x,c,p]),{suggestions:a,generateSuggestionsStatus:l}},I=(e,t)=>(0,l._)(e,Math.max(t-5e3,0),t)},3487:(e,t,n)=>{"use strict";n.d(t,{Cg:()=>r,ST:()=>l,Zq:()=>s,t:()=>o});var a=n(68301),i=n(89942);let r=10,l=20,o=60,s=()=>{let e=(0,i.ez)("ai_card_count_plus"),t=(0,i.ez)("ai_card_count_pro"),n=(0,a.u)("generateDeckMaxCards");return{maxCards:t?n:e?l:r,canUpgrade:!t}}},3864:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});var a=n(45143);let i={base:"md","2xl":"lg"},r=()=>(0,a.h5)(i)},4097:(e,t,n)=>{"use strict";n.d(t,{c:()=>r,e:()=>i});var a=n(55729);let i=(0,a.createContext)({onDragStart:void 0}),r=()=>(0,a.useContext)(i)},4522:(e,t,n)=>{"use strict";n.d(t,{Ud:()=>I,VM:()=>S,Hy:()=>A.Hy,Pf:()=>A.Pf,Td:()=>A.Td});var a=n(22905),i=n(63867),r=n(89703),l=n(55978),o=n(41896),s=n(38934),d=n(98088),c=n(50861),u=n(6029),p=n(40452),h=n(51684),g=n(55729),m=n(59230),x=n(15342),f=n(43634),b=n(84886),v=n(28647),y=n(66082),w=n(98968),C=n(66079),A=n(21982),j=n(62917);let k=e=>(0,u.jsx)(b.u,{...e,as:"div",children:(0,u.jsx)(S,{...e})}),S=e=>{var t;let{node:n,decorations:a,editor:i}=e,{source:l,horizontalAlign:o,uploadStatus:s,loadImageParams:d,loadImageStatus:c}=n.attrs,{getPos:b}=e,{isFullWidth:k}=(0,v.D)(a),S=(null==(t=C.Fn[l])?void 0:t.icon)||h.Cyq,I=(0,w.NZ)(e),E=(0,j.j8)(i,b),R=(0,x.GV)(f.nD),L=(0,r.f)(),D=(0,g.useCallback)(()=>{L({isOpen:!0})},[L]);return(0,u.jsx)(p.s,{w:"100%",h:"100%",dir:(0,y.fZ)(a,o),direction:"column",sx:(0,y.yp)(o),children:(0,u.jsx)(A.Pf,{hasUploadError:s===m.A.Error&&!i.isThumbnail,isUploading:s===m.A.Uploading,isLoading:"queued"===c&&!i.isThumbnail,loadingProvider:null==d?void 0:d.provider,"data-content-reference":!0,icon:S,width:k||I?"100%":"18em",maxW:"100%",h:I?"100%":"10em",maxH:"100%",onSelectAndFocus:E,defaultSource:l,"data-drag-handle":!0,"data-selection-ring":!0,"data-selection-background":!0,borderRadius:"var(--box-border-radius)",hasQuickActions:!i.isThumbnail,handleDoubleClick:R?D:void 0})})},I=a.bP.create({name:"mediaPlaceholder",group:"block media",atom:!0,selectable:!0,draggable:!0,priority:s.y.MediaPlaceholder,addNodeView:()=>(0,o.gu)(k),addAttributes:()=>({id:(0,l.e)(d.z),source:{},fullWidthBlock:{default:!1}}),addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e,n=t.state.selection;return!!(n instanceof i.nh&&(0,c.Bv)(n.node))&&((0,r.G)(),!0)}}),addCommands:()=>({insertMediaBlock:e=>t=>{let{commands:n}=t;return n.insertContentAndSelect({type:"mediaPlaceholder",attrs:{source:e}}),requestAnimationFrame(()=>{(0,r.G)()}),!0}}),parseHTML:()=>[{tag:"img[placeholder=true]",priority:60}],renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,a.KV)(t,{placeholder:"true"})]}})},4913:(e,t,n)=>{"use strict";n.d(t,{I6:()=>u,JP:()=>p,hn:()=>m,lX:()=>h,mE:()=>g});var a=n(33750),i=n.n(a),r=n(50333),l=n.n(r),o=n(95197),s=n(19705);let d=e=>{let t={min:1,max:4.5},n={min:.6,max:1},a=(i()(e,t.min,t.max)-t.min)/(t.max-t.min);return n.max-a*(n.max-n.min)},c=e=>{let t;return t=((null==e?void 0:e.type)==="image"||(null==e?void 0:e.type)==="themeLogo")&&e.imageSize||"md",s.rP[t].height},u=(e,t)=>e?c(e)*d(null!=t?t:1):s.rP.md.height,p=(e,t)=>{let n=s.KU[e||"md"],a=(t-s.S2)*.2;return l()(n+Math.max(0,a),2)},h=(e,t,n,a,i)=>{if(!t)return{start:0,end:0};let r=(null==t?void 0:t.type)==="image"||(null==t?void 0:t.type)==="themeLogo",o=(null==t?void 0:t.type)==="text"||(null==t?void 0:t.type)==="cardNumbers",d=p(n,e),h=r?u(t,a):s.Vn,g=r?c(t):s.Vn,m=(e-h)*d/2,x=Math.max(0,(1-h/g)*d)+Math.max(0,m);return{start:l()(x+("flex-start"===i&&o?.3:0),2),end:l()(x+("flex-end"===i&&o?.3:0),2)}},g=e=>{let{hideFromFirst:t,hideFromLast:n,...a}=e,i=s.S2;return Object.values(a).forEach(e=>{if(e&&("image"===e.type||"themeLogo"===e.type)&&!(0,o.M3)(e)){let t=c(e);t>i&&(i=t)}}),i},m=(e,t)=>{let n=g(e),a=p(t,n);return n+2*a}},4950:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});let a=new(n(83747)).b},4967:(e,t,n)=>{"use strict";n.d(t,{_:()=>x,n:()=>g});var a=n(21938),i=n(63867),r=n(97255),l=n(15342),o=n(17928),s=n(43634),d=n(33201),c=n(67200),u=n(15607),p=n(21699),h=n(60300);let g=new i.hs("spotlight"),m=(e,t,n)=>{if(null===t.pos)return r.zF.create(e.doc,[]);let i=[],l=e.doc.nodeAt(t.pos);l&&(0,d.jg)(l)&&!n(l,t.cardId)?i.push(r.NZ.node(t.pos,t.pos+l.nodeSize,{class:"presenting-card"})):l&&n(l,t.cardId)&&i.push(r.NZ.node(t.pos,t.pos+l.nodeSize,{class:"spotlight-block"}));let o=t.pos;return e.doc.descendants((e,l)=>(n(e,t.cardId)&&i.push(r.NZ.node(l,l+e.nodeSize,{class:(0,a.cx)("spotlightable",l>o&&"after-spotlight")})),(0,h.I2)(e)||(0,d.jg)(e))),r.zF.create(e.doc,i)},x=(e,t)=>new i.k_({key:g,state:{init:(t,n)=>{let a={pos:null,cardId:""};return{...a,decorations:m(n,a,e)}},apply(t,n,a,i){let r=t.getMeta(g),l=(0,c.he)(t);if(r||l){let t=r||n;return{...t,decorations:m(i,t,e)}}let o=n.decorations.map(t.mapping,t.doc);return{...n,decorations:o}}},props:{attributes:t=>{let n=g.getState(t);if(!n||null===n.pos)return{class:""};let a=t.doc.nodeAt(n.pos);return a&&e(a,n.cardId)?{class:"spotlight-active"}:{class:""}},decorations:e=>{let t=g.getState(e);return t?t.decorations:null},handleDOMEvents:{click(e,n){if(n.detail>1||(0,p.Qj)(e))return;let a=(0,l.KA)(),i=a.getState(),r=(0,s.FI)(i);if(!(r&&(0,h.UE)(t,r))||(0,s.QF)(i))return;if((0,s.YL)(i))return void a.dispatch((0,s.tB)());let o=g.getState(e.state);if(!(null==o?void 0:o.cardId))return;let d=e.posAtDOM(n.target,0);if(null===d||d<1)return;if(!e.state.doc.nodeAt(d))return void t.commands.turnOffSpotlight();let[c]=(0,u.TK)(e.state.doc.resolve(d),e=>(0,h.Rj)(e));c?t.commands.spotlightNodeAtPos(d):t.commands.turnOffSpotlight()},contextmenu(e,n){let a=g.getState(e.state);if(!(null==a?void 0:a.cardId))return;let i=(0,l.KA)().getState();if((0,s.QF)(i))return;let r=e.posAtDOM(n.target,0),d=t.state.doc.resolve(r),c=e.state.doc.nodeAt(r),[p]=c&&(0,h.Rj)(c)?[{pos:r,start:d.start(d.depth+1)}]:(0,u.TK)(t.state.doc.resolve(r),e=>(0,h.Rj)(e));o.LF.emit(o.DN.OPEN_PRESENT_MODE_CONTEXT_MENU,{e:n,cardId:a.cardId,pos:p?p.start:null})}}}})},5061:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,D8:()=>r,fW:()=>l,ix:()=>o});var a=n(99767),i=n(73110);let r=e=>{var t;return(null==(t=a.zd[e])?void 0:t.rtl)===!0},l=()=>r((0,i.O)()),o=()=>r((0,i.j)()),s=()=>r((0,i.j)())?"rtl":"ltr"},5063:(e,t,n)=>{"use strict";n.d(t,{l:()=>j});var a=n(6029),i=n(46898),r=n(67909),l=n(36071),o=n(54731),s=n(17920),d=n(3674),c=n(40691),u=n(83638),p=n(25223),h=n(16426),g=n(61204),m=n(49611),x=n(91106),f=n(19564),b=n(55729),v=n(79138),y=n(99767),w=n(82927),C=n(73110),A=n(47880);let j=e=>{var t;let{onClose:n}=e,j=(0,i.d)(),{user:k}=(0,w.ur)(),[S,I]=(0,b.useState)(!1),{setSettings:E}=(0,w.ur)(),R=(0,C.O)(),L=(0,b.useMemo)(()=>R,[]),[D,M]=(0,b.useState)(L);(0,A.O)(D);let _=(0,b.useCallback)(async()=>{I(!0);try{await (null==E?void 0:E({set:{locale:D}})),j({title:(0,a.jsx)(f.x6,{id:"RRo9kN"}),position:"top",status:"success",isClosable:!0,duration:3e3}),n()}catch(e){console.error('[StandaloneLocaleModal.onSave] Error updating language for user with id "'.concat(null==k?void 0:k.id,'"'),e.message)}I(!1)},[D,n,E,j,null==k?void 0:k.id]),T=D!==(null==k||null==(t=k.settings)?void 0:t.locale);return(0,a.jsx)(x.L8,{isDark:!1,children:(0,a.jsxs)(r.aF,{isOpen:!0,onClose:n,children:[(0,a.jsx)(l.m,{}),(0,a.jsxs)(o.$,{children:[(0,a.jsx)(s.r,{children:(0,a.jsx)(f.x6,{id:"+DEogc"})}),(0,a.jsx)(d.s,{}),(0,a.jsx)(c.c,{children:(0,a.jsxs)(u.MJ,{children:[(0,a.jsx)(p.l,{children:(0,a.jsx)(f.x6,{id:"M3JKNC"})}),(0,a.jsx)(v.m,{selectedLocale:y.zd[D],onLocaleSelect:M})]})}),(0,a.jsx)(h.j,{children:T?(0,a.jsxs)(g.e,{children:[(0,a.jsx)(m.$,{variant:"ghost",onClick:n,children:(0,a.jsx)(f.x6,{id:"dEgA5A"})}),(0,a.jsx)(m.$,{variant:"solid",onClick:_,isLoading:S,children:(0,a.jsx)(f.x6,{id:"tfDRzk"})})]}):(0,a.jsx)(m.$,{variant:"plain",onClick:n,children:(0,a.jsx)(f.x6,{id:"yz7wBu"})})})]})]})})}},5380:(e,t,n)=>{"use strict";n.d(t,{c:()=>p,m:()=>h});var a=n(55729),i=n(35292),r=n(15342),l=n(12354),o=n(49249),s=n(90278),d=n(23144),c=n(60908),u=n(89703);let p=e=>{let{editor:t,getPos:n,backgroundRemovalId:i}=e,s=(0,r.jL)(),d=(0,u.f)(),c=(0,a.useCallback)(e=>{t.view.focus(),d({isOpen:!0}),e.stopPropagation()},[t,d]),{startRemoveBg:p,isRemovingBg:h}=(0,o.D)({editor:t,id:i});return{changeFocalPoint:(0,a.useCallback)(e=>{t.commands.selectNodeAtPos(n()),s((0,l.sI)({id:e}))},[t,n,s]),editImage:c,startRemoveBg:p,isRemovingBg:h}},h=e=>{let{editor:t,node:n,parentNode:r}=e,l=(0,a.useCallback)(e=>{t.chain().insertSmartLayoutCell(e).run()},[t]),o=(0,a.useCallback)(e=>{t.chain().insertSmartLayoutCell(e).run()},[t]),u=(0,a.useCallback)(e=>{t.chain().insertContentAt(e,n.toJSON()).selectInsertedNode().run()},[t,n]),p=(0,a.useCallback)(()=>{t.chain().handleSmartLayoutDelete().run()},[t]),h=(0,a.useCallback)((e,n)=>{t.commands.updateNestedAttributesAtPos(e,n)},[t]),g=(0,a.useCallback)(e=>{t.chain().updateNestedAttributesAtPos(e,{image:null}).run()},[t]),m=n.attrs.options,x=n.attrs.image,f=r&&(0,s.$o)(r.attrs),b=r?(0,d.BJ)(r.attrs.variantKey):null,{imageSlot:v,imageType:y}=null!=b?b:{},w=v&&!!(null==x?void 0:x.src),C=(0,c.SV)((null==x?void 0:x.src)||(null==x?void 0:x.tempUrl)),A=(0,c.v7)(null==x?void 0:x.src);return{addColumnBefore:l,addColumnAfter:o,canChangeFocusPointAndRemoveBackground:"image"===y&&!C&&(null==x?void 0:x.src)&&!A,canEditImageWithAI:(0,i.l)(x)&&w&&"image"===y,hasImage:w,imageSlot:v,imageType:y,addDirection:f,parentVariant:b,cellOptions:m,handleDelete:p,selectParent:e=>{t.commands.selectNodeAtPos(e),t.chain().selectParentNode().run()},duplicateNode:u,updateAttributes:h,resetImage:g}}},5541:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var a=n(60829),i=n(46137),r=n(28615),l=n(29143);let o=async(e,t)=>{if((0,r.fL)()){if(!l.env.SYSTEM_TO_SYSTEM_SECRET)throw Error("[vercelIsomorphicFetch] SYSTEM_TO_SYSTEM_SECRET is not set on the server.");let{buildSystemToSystemToken:e}=await Promise.all([n.e(2966),n.e(5320),n.e(5905)]).then(n.bind(n,15905)),r=e("gamma-api"),o=(null==t?void 0:t.headers)||{};a.$.inject(i._.active(),o),t={...t,credentials:"omit",headers:{...o,Authorization:"Bearer ".concat(r),"User-Agent":"gamma/vercel-api"}}}return fetch(e,t)}},5872:(e,t,n)=>{"use strict";n.d(t,{E:()=>l,S:()=>r});var a=n(33170),i=n(45002);let r="gamma-moveable-wrapper",l={...a.BT,...i.X0}},6018:(e,t,n)=>{"use strict";n.d(t,{R:()=>p,w:()=>u});var a=n(88586),i=n(68301),r=n(89942),l=n(15342),o=n(95889),s=n(42721),d=n(779),c=n(62826);let u=async(e,t,n)=>{var u,h;let g=(0,r.vT)("unlimited_credits",t),m=null!=(h=i.of.get("aiDebits")[e])?h:d.rA[e];if(p(e,t,n),0===m||g)return;let x=(null==t?void 0:t.id)||(0,s.gx)();if(!x)return;let f=(0,a.H4n)(),b=null==(u=(await f.mutate({mutation:a.lgx,variables:{value:m,workspaceId:x}})).data)?void 0:u.deductCredits;return b?(o.zS.track(o.VV.AI_CREDITS_DEDUCTED,{operation:e,used:m,remaining:b.credits,interactionId:n}),(0,l.KA)().dispatch((0,c.z0)({availableCredits:b.credits})),b.credits):null},p=(e,t,n)=>{var a;let l=(0,r.vT)("unlimited_credits",t),s=null!=(a=i.of.get("aiDebits")[e])?a:d.rA[e];o.zS.track(o.VV.AI_CREDITS_USED,{operation:e,used:s,has_unlimited_ai:l,interactionId:n})}},6046:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var a=n(6029),i=n(55729),r=n(56760);let l=e=>{let{renderers:t}=e;return(0,a.jsx)(a.Fragment,{children:Object.entries(t).map(e=>{let[t,n]=e;return r.createPortal(n.reactElement,n.element,t)})})};class o extends i.Component{componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;let t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?(0,r.flushSync)(e):e()}setRenderer(e,t){this.maybeFlushSync(()=>{this.setState(n=>{let{renderers:a}=n;return{renderers:{...a,[e]:t}}})})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(t=>{let{renderers:n}=t,a={...n};return delete a[e],{renderers:a}})})}componentWillUnmount(){let{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;let t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){let{editor:e,portalComponent:t,...n}=this.props;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{ref:this.editorContentRef,...n}),(0,a.jsx)(this.portalComponent,{renderers:this.state.renderers})]})}constructor(e){super(e),this.editorContentRef=i.createRef(),this.initialized=!1,this.portalComponent=e.portalComponent||l,this.state={renderers:{}}}}let s=i.memo(o)},6272:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var a=n(58929);let i=e=>"AbortError"===e.name||e instanceof a.f&&"aborted"===e.type},6700:(e,t,n)=>{"use strict";var a=Object.create?function(e,t,n,a){void 0===a&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]};Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)}(n(84169),t)},6845:(e,t,n)=>{"use strict";n.d(t,{Wq:()=>g,iM:()=>p,jL:()=>h,nO:()=>x,wE:()=>m,wV:()=>f});var a=n(22905),i=n(38822),r=n.n(i),l=n(63867),o=n(15342),s=n(43634),d=n(85235),c=n(33201),u=n(61385);let p=a.YY.create({name:"cardCollapse",addKeyboardShortcuts:()=>({Escape:e=>{let{editor:t}=e,n=(0,o.KA)();if((0,s.wC)(n.getState())===d.w.SLIDE_VIEW)return!1;let{selection:i}=t.state;if(!i.empty)return!1;let r=(0,a.KP)(c.jg)(i);return!(!r||!(r.depth>u.$x)||g(r.node))&&(m(r.node.attrs.id,!0),!0)}}),addProseMirrorPlugins:()=>[new l.k_({key:new l.hs("cardCollapse"),appendTransaction:(e,t,n)=>{if(n.selection.eq(t.selection)||!n.selection.empty)return;let i=(0,a.KP)(c.jg)(n.selection);if(!i)return;let{node:r,pos:o}=i;if(g(r))try{let{tr:e}=n,t=l.nh.create(e.doc,o);if(!t)return;return e.setSelection(t)}catch(e){console.error("Error moving selection out of collapsed card",{node:r,pos:o},e)}}})]}),h=(e,t)=>{let n=[],a=[];e.descendants((e,t,i)=>{if(!(0,c.jg)(e))return;let{id:r}=e.attrs;i&&"document"===i.type.name?n.push(r):a.push(r)}),t((0,s.ln)({cardIds:n,isCollapsed:!1})),t((0,s.ln)({cardIds:a,isCollapsed:!0}))},g=e=>{let t="string"==typeof e?e:e.attrs.id;if(!t)return;let n=(0,o.KA)().getState();return(0,s.WS)(t)(n)},m=(e,t)=>{if(r()(e))return void console.error("[setCardCollapsed] Input is unexpectedly not string | string[]: ",e);let n=Array.isArray(e)?e:[e],a=(0,o.KA)();(1!==n.length||(0,s.WS)(n[0])(a.getState())!==t)&&a.dispatch((0,s.ln)({cardIds:n,isCollapsed:t}))},x=e=>{let t=[];e.state.doc.descendants(e=>{if(!(0,c.jg)(e))return;let{id:n}=e.attrs;t.push(n)}),m(t,!1)},f=e=>{let t=(0,o.KA)();void 0===t.getState().TipTap.memoState.expandedCards[e]&&t.dispatch((0,s.ln)({cardIds:[e],isCollapsed:!1}))}},6956:(e,t,n)=>{"use strict";n.d(t,{j:()=>k,B:()=>j});var a=n(22905),i=n(63867),r=n(34832),l=n(93298),o=n(40240),s=n(6018),d=n(69551),c=n(68301),u=n(58809),p=n(15342),h=n(56603),g=n(23513),m=n(42721),x=n(47665),f=n(53615),b=n(97255),v=n(67200),y=n(23050),w=n(46609);let C=e=>new i.k_({key:y.nD,state:{init:()=>({loading:!1,insertedRange:null,interactionId:null}),apply(e,t){let n=e.getMeta("autocompleteEvent");return(null==n?void 0:n.type)==="reset"?{loading:!1,insertedRange:null,interactionId:null}:(null==n?void 0:n.type)==="load"?{loading:!0,insertedRange:null,interactionId:null}:(null==n?void 0:n.type)==="insert"?{loading:!1,insertedRange:n.range,interactionId:n.interactionId}:(0,v.Xq)(e)?{loading:!1,insertedRange:null,interactionId:null}:t}},props:{handleKeyDown(t,n){var a,i;if("Tab"!==n.key){let n=y.nD.getState(t.state);return(null==n?void 0:n.insertedRange)&&e.commands.setMeta("autocompleteEvent",{type:"reset"}),!1}let{state:r}=t,l=c.of.get("arrowAutocomplete");return!!(0,w.B)({view:t,state:r,isFlagEnabled:l,editor:e})&&(n.preventDefault(),(0,o.TS)(),e.commands.autoComplete(),null==(a=(i=e.commands).forceHideAutocompleteButton)||a.call(i,!0),!0)},decorations(e){let t=[],n=y.nD.getState(e),{selection:i,doc:r}=e,{loading:l,insertedRange:o}=n||{};if(l){let e=b.NZ.widget(i.from,()=>{let e=document.createElement("span");return e.className="autocomplete-loading",e});t.push(e)}if(o){let e;try{e=(0,a.Nx)(r,o,e=>e.isTextblock)}catch(t){e=[]}e.forEach(e=>{let{node:n,pos:a}=e,i=Math.max(a+1,o.from),r=Math.min(a+n.nodeSize-1,o.to),l=b.NZ.inline(i,r,{class:"autocomplete-inserted autocomplete-highlight"});t.push(l)})}return t.length?b.zF.create(r,t):b.zF.empty}}}),A=/(\+\+\+)/,j=1500,k=a.YY.create({name:"autocomplete",addProseMirrorPlugins(){return[C(this.editor)]},addCommands:()=>({autoOutline:()=>e=>{let{editor:t,state:n,tr:i}=e,{selection:r,doc:l}=n,{$from:o,from:s}=r,d=(0,h.JO)(n,o.after()),c=(0,a.KP)(x.jg)(r);return!!c&&!!d&&((0,f.s6)(l,c.pos,s),i.setMeta("autocompleteEvent",{type:"load"}),!0)},autoComplete:()=>e=>{var t;let{editor:n,state:a,tr:x}=e,{selection:b,doc:v}=a,{from:y}=b,w=(0,h.JO)(a,y);if(!(c.of.get("aiAutocomplete")&&b.empty&&b instanceof i.U3&&w))return!1;let C=(0,p.KA)().getState(),A=null==(t=(0,u.Jo)(C))?void 0:t.organization;if(!(0,d.ny)("autocomplete",A))return!1;let j=(0,f.s6)(v,Math.max(b.from-1e3,0),b.from),k=(0,l.p9)(j).slice(-200),S=(0,l.$0)(k),I=v.textBetween(b.from-10,b.to);x.setMeta("autocompleteEvent",{type:"load"});let E=(0,o.$F)(),R=performance.now(),L={interactionId:E,interface:"autocomplete",inputContent:j};return(0,o.rl)(L),(0,r.K8)({promptKey:"Autocomplete",variables:{text:S},interactionId:E,workspaceId:(0,m.gx)()}).then(e=>{var t,r,l;let d=(0,h.d_)(a,w);if(!e||!d)throw Error("No completion or insertPos");e=e.trim();let c={from:d,to:d},u=n.chain().insertMarkdownAt(c,e).command(e=>{let{tr:t}=e,n=(0,g.i)(t);return!n||(c.to=n.to,t.setSelection(n).scrollIntoView(),!0)});(null==(t=a.doc.resolve(d).nodeBefore)?void 0:t.isText)&&!(I.endsWith(" ")||I.endsWith("\n"))&&u.insertContentAt(d," ",{updateSelection:!1}).command(e=>{let{tr:t}=e;return c.to+=1,t.setSelection(new i.U3(t.doc.resolve(c.to))),!0}),u.setMeta("autocompleteEvent",{range:c,interactionId:E,type:"insert"}).run(),(0,o.UL)({...L,outputContent:e,latency:performance.now()-R,timeToComplete:performance.now()-R}),null==(r=(l=n.commands).forceHideAutocompleteButton)||r.call(l,!1),n.commands.focus(),(0,s.w)("autocomplete",A,E)}).catch(e=>{console.warn("Error fetching autocomplete",e),n.commands.setMeta("autocompleteEvent",{type:"reset"})}),!0}}),addInputRules:()=>[new a.fV({find:A,handler:e=>{let{range:t,chain:n}=e;(0,o.kD)(),n().setTextSelection(t).deleteSelection().autoComplete().run()}})]})},7158:(e,t,n)=>{"use strict";n.d(t,{V1:()=>p,wo:()=>c});var a=n(59684),i=n(88586),r=n(38907),l=n(73287),o=n(42721);let s=e=>!(0,r.vI)(e).some(e=>["BAD_USER_INPUT"].includes(e)),d=async e=>{let{fn:t,retries:n,backoff:a=1e3,timeout:i}=e;try{return await Promise.race([t(),new Promise((e,t)=>{setTimeout(()=>t(Error("Request timeout (".concat(i,"ms)"))),i)})])}catch(o){var r;let e=null==(r=o.message)?void 0:r.startsWith("Request timeout");e&&console.debug("[AI] Request timeout. Not retrying");let l=s(o)&&!e;if(n>0&&l)return await new Promise(e=>setTimeout(e,a)),d({fn:t,retries:n-1,backoff:2*a,timeout:i});throw o}},c=async e=>{var t;let n=await u({messages:e.messages,maxTokens:null!=(t=e.params.maxTokens)?t:null,models:["gpt-3.5-turbo","gpt-3.5-turbo-16k"]});return{...e,params:{...e.params,model:n}}},u=async e=>{var t;let{messages:n,maxTokens:r,models:o}=e,{data:s}=await (0,i.H4n)().query({query:l.l3I,returnPartialData:!1,variables:{input:{messages:n,maxTokens:r,models:o}}}),d=null==s?void 0:s.canRunChatCompletion;if(!d||0===d.length)throw Error("No response received");let c=null==(t=d.find(e=>!!e.canRun))?void 0:t.model;if(!c)throw new a.tq("Input too long for models: "+JSON.stringify(o));return c},p=async function(e){var t,n;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeout:6e4,retries:0};return console.debug("[AI][fetchChatCompletion]",e.messages,e.params),d({fn:()=>(0,i.H4n)().mutate({mutation:l.aA3,variables:{input:{...e,workspaceId:(0,o.gx)()}}}).then(e=>{let{data:t}=e,n=null==t?void 0:t.chatCompletion;if(!n||0===n.length)throw Error("No response received");return console.debug("[AI] Got chat completion",n),t}),timeout:null!=(t=a.timeout)?t:6e4,retries:null!=(n=a.retries)?n:0})}},7270:(e,t,n)=>{"use strict";n.d(t,{W:()=>l});var a=n(6029),i=n(96500),r=n(88055);let l=e=>{let{accessLink:t,doc:n,className:l,showDivider:o=!0}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.jI,{accessLink:t,doc:n,p:6,spacing:4,className:l}),o&&(0,a.jsx)(i.c,{})]})}},7631:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var a=n(22905),i=n(63867),r=n(91242),l=n(23513);let o=a.YY.create({name:"focusHelpers",addCommands:()=>({focusDelayed:()=>e=>{let{editor:t}=e;return requestAnimationFrame(()=>t.commands.focus()),!0},insertContentAndSelect:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n=>{let{chain:a,state:i}=n,{from:r,$from:l}=i.selection;return 0===l.parentOffset?a().insertContentAt({from:r-1,to:r},e,{updateSelection:!1}).selectInsertedNode(t).run():a().insertContent(e,{updateSelection:!1}).selectInsertedNode(t).run()}},focusMapped:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return a=>{let{tr:i,view:l}=a,o=i.mapping.map(e,n)+t;try{let e=(0,r.s)(i.doc.resolve(o));e&&i.setSelection(e),l.focus()}catch(e){console.error("[focusMapped] error selecting pos",o,e)}return!0}},selectInsertedNode:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t=>{let{tr:n,view:a}=t,i=(0,r.t)(n);if(!i)return!1;let l=(0,r.s)(i,e);return!!l&&(n.setSelection(l),a.focus(),!0)}},selectNodeAtPos:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let{state:a,tr:r,view:l}=n;try{r.setSelection(i.nh.create(a.doc,e)),t&&r.scrollIntoView(),l.focus()}catch(t){console.warn("[selectNodeAtPos] Error selecting node",e,t)}return!0}},selectInsideNodeAtPos:(e,t)=>n=>{let{tr:a,state:i}=n,l=i.doc.resolve(e),o=(0,r.s)(l,t);return!!o&&(a.setSelection(o),!0)},deleteSelectionAndSelectNear:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t=>{let{tr:n,state:a}=t,{selection:i}=a;if(i.empty)return!1;n.deleteSelection().scrollIntoView();let r=(0,l.n)(n.doc.resolve(i.from),e);return r&&n.setSelection(r),!0}}})})},7915:(e,t,n)=>{"use strict";n.d(t,{l:()=>v,y:()=>x});var a=n(22905),i=n(63867),r=n(5061),l=n(15342),o=n(70703),s=n(91242),d=n(23460),c=n(87379),u=n(39822),p=n(39385),h=n(61250),g=n(8376),m=n(16264);let x="data-drag-handle-hovering";class f{constructor(e=null){this.dragging=e}}let b=new i.hs("globalDragHandle"),v=e=>{let t,n,v,y,w=document.querySelector(e.scrollerSelector),C=e.editor,A=()=>{I()},j=()=>{if(!v||!v.el)return;let{pos:e,node:t}=v;"table"===t.type.name?C.chain().focus(void 0,{scrollIntoView:!1}).selectTable(e+2).run():t.isTextblock&&!(0,p.J)(t)?C.chain().focus(void 0,{scrollIntoView:!1}).setTextSelection({from:e+1,to:e+t.nodeSize-1}).run():C.chain().focus(void 0,{scrollIntoView:!1}).command(t=>{let{tr:n,state:a}=t,r=a.doc.resolve(e),l=new i.nh(r);return n.setSelection(l),!0}).run()},k=e=>{if(!v||!v.el)return;let{el:t,pos:n}=v;(0,o.b)(C,e,n,t)},S=()=>{},I=()=>{document.querySelectorAll("[".concat(x,"]")).forEach(e=>e.removeAttribute(x)),t&&(t.style.display="none")},E=()=>{t&&(t.style.display="block")},R=n=>{if(!C.isEditable||!y||!t||!e.storage.enabled||!(v=(0,m.lA)(y,n))||!v.el)return void I();if("image"===v.node.type.name){let e=(0,l.KA)().getState();if((0,h.iZ)(v.node.attrs.id)(e))return void I()}document.querySelectorAll("[".concat(x,"]")).forEach(e=>e.removeAttribute(x));let{el:i,node:o}=v,s=(0,m.uf)(o,i),d=i.closest(".block-gridLayout, .block-gallery, .block-smartLayout");d&&d.setAttribute(x,"true");let c=C.state.doc.resolve(v.pos),u=(0,a.eL)(c,e=>!!e.type.spec.isolating),p=(null==u?void 0:u.node.type.name)||"";try{let{top:e,left:n,right:a}=i.getBoundingClientRect();e+=window.pageYOffset+s.top,n+=window.pageXOffset+s.left,a+=window.pageXOffset+s.right,t.setAttribute("data-isolating-parent",p),("tableCell"===p||"gridCell"===p)&&(n+=12,a-=12),t.style.top="".concat(e,"px"),(0,r.ix)()?(t.style.left="",t.style.right="".concat(-m.sn+window.innerWidth-a,"px")):(t.style.right="",t.style.left="".concat(-m.sn+n,"px")),E()}catch(e){console.warn("[GlobalDragHandle] Error showing drag handle",e),I()}};return new i.k_({key:b,state:{init:()=>new f,apply:(e,t)=>t},view(){let e;return(0,d._1)("#editor-core-root").then(a=>{n=a,t=document.createElement("div"),null==n||n.appendChild(t),t.draggable=!0,t.classList.add("global-drag-handle"),t.addEventListener("dragstart",k),t.addEventListener("dragend",S),t.addEventListener("click",j),null==w||w.addEventListener("scroll",A),e=e=>{y={left:e.clientX,top:e.clientY},(0,c.b)().push(()=>{R(C.view)},"moveDragHandle")},document.addEventListener("mousemove",e)}).catch(()=>{console.error("[GlobalDragHandlePlugin.view] Could not find editor-core-root element. This is highly unexpected.")}),{update(e){(0,c.b)().push(()=>{R(e)},"moveDragHandle")},destroy(){var a;n=null==(a=document)?void 0:a.querySelector("#editor-core-root"),e&&t&&(null==w||w.removeEventListener("scroll",A),null==n||n.removeChild(t),t.removeEventListener("dragstart",k),t.removeEventListener("dragend",S),t.removeEventListener("click",j),t=void 0,document.removeEventListener("mousemove",e))}}},props:{handleDOMEvents:{drop(e){var t;let n=null==(t=e.dragging)?void 0:t.annotations,a=b.getState(e.state);if(!a)return!1;a.dragging=n}},handleDrop(e,t,n,a){let r=b.getState(e.state),l=null==r?void 0:r.dragging;r&&(r.dragging=null),t.preventDefault();let o=(0,g.M)(e,t,n);if(!o)return!0;let d=e.state.tr;a&&d.deleteSelection();let c=d.mapping.map(o),p=0==n.openStart&&0==n.openEnd&&1==n.content.childCount,h=d.doc;if(p?d.replaceRangeWith(c,c,n.content.firstChild):d.replaceRange(c,c,n),d.doc.eq(h))return!0;let m=d.doc.resolve(c);if(p&&m.nodeAfter&&m.nodeAfter.sameMarkup(n.content.firstChild)){let e=(0,s.s)(m);e&&d.setSelection(e)}else{let e=d.mapping.map(o);d.mapping.maps[d.mapping.maps.length-1].forEach((t,n,a,i)=>e=i);let t=i.U3.between(m,d.doc.resolve(e));d.setSelection(t)}return(0,u.zZ)(C,d),e.focus(),l&&d.setMeta("annotationEvent",{type:"drop",dragging:l,droppedBlockPos:c}),e.dispatch(d.setMeta("uiEvent","drop")),!0}}})}},7957:(e,t,n)=>{"use strict";n.d(t,{A3:()=>o,Tg:()=>l,_w:()=>r,i:()=>s});var a=n(99492),i=n(77650);let r=()=>({note:{name:i.Ru._({id:"KiJn9B"}),commandName:()=>i.Ru._({id:"Cq+sLh"}),description:i.Ru._({id:"ooy/OF"}),icon:a.jyJ,colors:"accent"},info:{name:i.Ru._({id:"CE+M2e"}),commandName:()=>i.Ru._({id:"1E4ojF"}),description:i.Ru._({id:"NfbNtV"}),icon:a.iW_,colors:{light:{backgroundColor:"#b6d6fc",iconColor:"#006ED6"},dark:{backgroundColor:"#022349",iconColor:"#8DD4FB"}}},warning:{name:i.Ru._({id:"r6y+jM"}),commandName:()=>i.Ru._({id:"xb1fsI"}),icon:a.JAe,description:i.Ru._({id:"tpYgEx"}),colors:{light:{backgroundColor:"#fcf2b5",iconColor:"#B29500"},dark:{backgroundColor:"#4b3f02",iconColor:"#F5F380"}}},caution:{name:i.Ru._({id:"VvjZ7K"}),commandName:()=>i.Ru._({id:"tC/T1p"}),description:i.Ru._({id:"nbib7S"}),icon:a.rfe,colors:{light:{backgroundColor:"#ffb3b4",iconColor:"#EB0000"},dark:{backgroundColor:"#450707",iconColor:"#EF8784"}}},success:{name:i.Ru._({id:"zzDlyQ"}),commandName:()=>i.Ru._({id:"Vv+D/T"}),description:i.Ru._({id:"pqvop4"}),icon:a.SGM,colors:{light:{backgroundColor:"#b6fcb8",iconColor:"#008545"},dark:{backgroundColor:"#183a13",iconColor:"#8CE29F"}}},question:{name:i.Ru._({id:"bfgr/e"}),commandName:()=>i.Ru._({id:"Ev0Vqt"}),description:i.Ru._({id:"IsUqRH"}),icon:a.wRm,colors:{light:{backgroundColor:"#d9d9d9",iconColor:"#7A7A7A"},dark:{backgroundColor:"#262626",iconColor:"#AFAFAF"}}}}),l=e=>r()[e]||r().note,o=()=>Object.entries(r()).map(e=>{let[t,{commandName:n,icon:a}]=e;return{key:"calloutBox-".concat(t),name:n,nodeName:"calloutBox",icon:a,shortcut:"/".concat(t),keywords:["callout","box"],execute:e=>e.chain().focus().insertContent([{type:"calloutBox",attrs:{variant:t},content:[{type:"paragraph"}]}]).run()}}),s=()=>Object.fromEntries(Object.keys(r()).map(e=>["calloutBox-".concat(e),{type:"calloutBox",attrs:{variant:e},content:[{type:"paragraph"}]}]))},8064:(e,t,n)=>{"use strict";n.d(t,{o:()=>e1});var a=n(6029),i=n(10945),r=n(57405),l=n(64268),o=n(51504),s=n(99745),d=n(58959),c=n(48810),u=n(26420),p=n(36218),h=n(61491),g=n(25223),m=n(80314),x=n(49611),f=n(99492),b=n(48621),v=n(91106),y=n(19564),w=n(77650),C=n(55729),A=n(57963),j=n(2196),k=n(40240),S=n(88586),I=n(19783),E=n(90184),R=n(26814),L=n(68301),D=n(58809),M=n(65421),_=n(83638),T=n(78140),N=n(36999),z=n(40452),P=n(41283),O=n(37930),F=n(48478),H=n(28630);let B={square:f.Nfw,portrait:f.b0A,landscape:f.Cpz},V={square:()=>w.Ru._({id:"1DA6ap"}),portrait:()=>w.Ru._({id:"3bV9gD"}),landscape:()=>w.Ru._({id:"XxIeKn"})},W=(0,C.memo)(e=>{let{value:t,setValue:n,isDisabled:i,model:r}=e,l=(0,H.pH)(r);return(0,a.jsx)(_.MJ,{children:(0,a.jsxs)(T.W,{isLazy:!0,children:[(0,a.jsx)(N.I,{as:x.$,variant:"plain",isDisabled:i,w:"100%",textAlign:"start",justifyContent:"space-between",rightIcon:(0,a.jsx)(b.g,{icon:f.Jt$}),boxShadow:"none",size:"sm",children:(0,a.jsxs)(d.z,{spacing:2,children:[(0,a.jsx)(z.s,{width:"24px",height:"24px",align:"center",justify:"center",children:(0,a.jsx)(b.g,{icon:B[t],fixedWidth:!0})}),(0,a.jsx)(c.E,{as:"span",flex:1,children:V[t]()})]})}),(0,a.jsx)(P.c,{minWidth:"240px",maxH:"290px",overflowY:"auto",overflowX:"hidden",children:(0,a.jsx)(O.i,{value:t,type:"radio",onChange:e=>{n(e)},children:Object.values(l).map(e=>(0,a.jsx)(F.k,{value:e,children:(0,a.jsxs)(d.z,{spacing:2,children:[(0,a.jsx)(z.s,{width:"24px",height:"24px",align:"center",justify:"center",children:(0,a.jsx)(b.g,{icon:B[e],fixedWidth:!0})}),(0,a.jsx)(c.E,{as:"span",flex:1,children:V[e]()})]})},e))})})]})})});W.displayName="AspectRatioSelect";var U=n(44798),G=n(38062),K=n(42938),Q=n(24142),Z=n(15342),q=n(37605),J=n(99552),$=n(17928),Y=n(26006),X=n(22529),ee=n(11403),et=n(60908),en=n(41781),ea=n(33787);let ei={src:"/_next/static/media/polar-bear.fcdec9ca.webp"};var er=n(70967),el=n(82927),eo=n(58568),es=n(72104),ed=n(46898),ec=n(27229),eu=n(61204),ep=n(16936),eh=n(67909),eg=n(36071),em=n(54731),ex=n(83143),ef=n(80180);let eb=e=>{var t;let{currentAttributes:n,deleteImage:i,showDelete:r=!0,...l}=e;(0,ed.d)();let o=w.Ru._({id:"cnGeoo"}),{isOpen:s,onOpen:d,onClose:c}=(0,ec.j)();return(0,a.jsxs)(eu.e,{size:"sm",...l,children:[(0,a.jsx)(v.Tz,{label:(0,a.jsx)(y.x6,{id:"niRN2H"}),placement:"top",children:(0,a.jsx)(ep.K,{"aria-label":"download image",borderWidth:"1px",icon:(0,a.jsx)(b.g,{icon:f.a_I}),onClick:()=>{var e;return(0,ex.lE)(null!=(e=n.src)?e:"")}})}),(0,a.jsx)(v.Tz,{label:(0,a.jsx)(y.x6,{id:"GpbSs9"}),placement:"top",children:(0,a.jsx)(ep.K,{"aria-label":"zoom in",borderWidth:"1px",icon:(0,a.jsx)(b.g,{icon:f.bMI}),onClick:e=>{e.stopPropagation(),d()}})}),s&&(0,a.jsxs)(eh.aF,{isOpen:s,size:"6xl",onClose:c,isCentered:!0,children:[(0,a.jsx)(eg.m,{bg:"blackAlpha.900"}),(0,a.jsxs)(em.$,{width:"fit-content",children:[(0,a.jsx)(u.a,{position:"absolute",right:2,top:2,zIndex:"toast",contentEditable:!1,suppressContentEditableWarning:!0,children:(0,a.jsx)(ep.K,{"aria-label":w.Ru._({id:"8qZ5De"}),colorScheme:"gray",size:"md",onClick:c,onMouseDown:ef.Fw,icon:(0,a.jsx)(es.U,{})})}),(0,a.jsx)(ea._,{src:null!=(t=n.src)?t:"",objectFit:"contain",rounded:"lg",maxH:"90vh",maxW:"90vw"})]})]}),r&&i&&(0,a.jsx)(v.Tz,{label:o,placement:"top",children:(0,a.jsx)(ep.K,{"aria-label":o,color:"red.500",borderWidth:"1px",icon:(0,a.jsx)(b.g,{icon:f.yLS}),onClick:async e=>{var t;e.stopPropagation(),await i(null!=(t=n.savedMediaId)?t:"")}})})]})};var ev=n(69388),ey=n(1139),ew=n(53996),eC=n(96990),eA=n(43634);let ej=(0,C.memo)(e=>{let{image:t,currentAttributes:n,onImageClick:i,resizeThumbnail:r,h:l,deleteImage:o,isDeleting:s,showQuickActions:d=!0,showAvatar:c=!0}=e,[p,h]=(0,C.useState)(!0),{user:g}=(0,el.ur)(),m=(0,Z.GV)(eA.zB),w=null==m?void 0:m.find(e=>e.user.id===t.userId),A=(0,C.useMemo)(()=>(null==g?void 0:g.id)===t.userId,[null==g?void 0:g.id,t.userId]),j=(0,C.useMemo)(()=>(null==n?void 0:n.savedMediaId)===t.id,[null==n?void 0:n.savedMediaId,t.id]),k=r?(0,et.Ub)(t.attrs.src,et.p7,t.attrs.meta):t.attrs.src,{ref:S,width:I}=(0,eo.Lh)(),E=w&&m&&m.length>1&&c;return(0,a.jsx)(ev.E,{children:(0,a.jsxs)(x.$,{borderRadius:"base",display:"block",variant:"ghost",opacity:1,width:"100%",ref:S,height:"100%",minHeight:"0",textAlign:"left",pos:"relative",overflow:"hidden",p:0,_hover:{shadow:"outline"},_active:{shadow:"outline"},transition:"box-shadow .2s ease",cursor:"pointer",onClick:()=>i(t),sx:{_focusVisible:{".attribution-container":{opacity:1}},_hover:{".attribution-container":{opacity:1}}},isDisabled:s,"data-testid":"image-search-grid-item",role:"group",children:[(0,a.jsx)(ea._,{w:"100%",h:l||"100%",src:k,borderRadius:"base",objectFit:"cover",onLoad:()=>h(!1)}),!p&&(0,a.jsx)(ey.z,{in:j,children:(0,a.jsx)(u.a,{pointerEvents:"none",color:"white",pos:"absolute",inset:0,bg:"rgba(0,0,0,.5)",borderRadius:"base",children:(0,a.jsx)(ew.o,{h:"100%",w:"100%",children:(0,a.jsx)(b.g,{icon:f.e68})})})}),I>=125&&d&&(0,a.jsx)(u.a,{position:"absolute",bottom:-2,left:"50%",transform:"translate(-50%, -50%)",display:"none",_groupHover:{display:"block"},children:(0,a.jsx)(eb,{showDelete:A,currentAttributes:t.attrs,deleteImage:o})}),E&&(0,a.jsx)(v.Tz,{label:(0,a.jsx)(y.x6,{id:"RMBnNX",values:{0:w.user.displayName,1:A?"(You)":""}}),placement:"top",children:(0,a.jsx)(eC.e,{size:"sm",src:w.user.profileImageUrl,name:w.user.displayName,position:"absolute",top:2.5,right:2.5,borderWidth:"2px",borderColor:"gray.200",_hover:{cursor:"pointer"}})}),!t.attrs.src&&(0,a.jsx)(ev.E,{width:"100%",children:(0,a.jsx)(en.E,{height:"80px",borderRadius:"base"})})]})},t.id)});ej.displayName="AIImageHistoryItem";var ek=n(12417);let eS=(0,C.memo)(e=>{var t;let{attrs:n,onRateImage:i}=e,r=null==(t=n.aiParams)?void 0:t.interactionId,[l,o]=(0,C.useState)(null);(0,C.useEffect)(()=>{n.savedMediaId&&o(null)},[n.savedMediaId]);let s=(0,C.useCallback)((e,t,a)=>{var i;(null==(i=n.aiParams)?void 0:i.interactionId)&&(0,k.XD)({feedback:t,rating:e,tags:a,aiParams:n.aiParams,imageUrl:n.src,interactionId:n.aiParams.interactionId})},[n]),d=(0,C.useCallback)(e=>{o(e),i(e)},[i]);return r?(0,a.jsx)(u.a,{position:"absolute",bottom:2,zIndex:"sticky",right:2,children:(0,a.jsx)(ek.f3,{trackFeedback:s,rating:l||void 0,setRating:d,RatingButtons:ek.Ep,feedbackTags:eI},n.savedMediaId)}):null});eS.displayName="AIImageRating";let eI=[{key:"bad-people",label:(0,a.jsx)(y.x6,{id:"eft1Pc"})},{key:"bad-text",label:(0,a.jsx)(y.x6,{id:"BNmAIN"})},{key:"didnt-follow-prompt",label:(0,a.jsx)(y.x6,{id:"Tq32Jp"})},{key:"wrong-colors",label:(0,a.jsx)(y.x6,{id:"Lx0mWG"})},{key:"wrong-style",label:(0,a.jsx)(y.x6,{id:"HG712W"})},{key:"low-res",label:(0,a.jsx)(y.x6,{id:"i6Gj9B"})},{key:"inappropriate",label:(0,a.jsx)(y.x6,{id:"i/9pR4"})}];var eE=n(13080);let eR=e=>{let t,{imagesMatchingInteractionId:n,currentAttributes:i,isGenerating:r,isDeleting:l,selectedSavedMediaId:o,selectImage:s,onRateImage:d,deleteImage:c,canShowEmptyState:u}=e,{user:p}=(0,el.ur)(),[h,g]=(0,C.useState)({wA:0,hA:0,wBCD:0,hBCD:0}),m=(0,C.useMemo)(()=>(0,er.X)(),[]),{ref:x,width:f}=(0,eo.Lh)(),b=(0,C.useMemo)(()=>!!r||!!n&&!(n.length<=1)&&!eD([...n.map(e=>e.attrs),i]),[r,n,i]),v=(0,C.useMemo)(()=>{let e=(null==n?void 0:n.length)>0,t=e?n.find(e=>e.id===o):null,a=(null==t?void 0:t.userId)===(null==p?void 0:p.id);return e&&a},[n,o,p]),y=b?100/3:0;(0,ee.Vg)(()=>{var e,t,a,l;if(r||u||(null==i||null==(e=i.meta)?void 0:e.width)&&(null==i||null==(t=i.meta)?void 0:t.height)){let e=eL({vpWidth:f||624,gap:8,ratioW:(null==i||null==(a=i.meta)?void 0:a.width)||1024,ratioH:(null==i||null==(l=i.meta)?void 0:l.height)||1024,thumbCount:(null==n?void 0:n.length)||3});(Math.abs(e.wA-h.wA)>=m||Math.abs(e.hA-h.hA)>=m||Math.abs(e.wBCD-h.wBCD)>=m||Math.abs(e.hBCD-h.hBCD)>=m)&&g(e)}},[i,n,f,h,m,r,u],[i,n,f,r]);let w=r||!!i.src||u;return r?t=(0,a.jsx)(en.E,{w:"100%",h:h.hA}):i.src&&"image.ai-generated"===i.source?t=(0,a.jsx)(ea._,{h:h.hA,w:"100%",objectFit:b?"cover":"contain",src:i.src||void 0,fallbackSrc:i.tempUrl||void 0,alt:"",borderRadius:"md"}):u&&(t=(0,a.jsx)(e_,{height:h.hA})),(0,a.jsx)(z.s,{dir:"row",w:"100%",ref:x,overflow:"hidden",alignItems:"center",justifyContent:"center",gap:"".concat(8,"px"),children:w&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(z.s,{justifyContent:"center",position:"relative",overflow:"hidden",h:h.hA,w:"".concat(100-y,"%"),children:[t,!r&&i.src&&(0,a.jsx)(eb,{currentAttributes:i,position:"absolute",bottom:2,zIndex:"sticky",left:2,deleteImage:c,showDelete:v}),!r&&i.src&&(0,a.jsx)(eS,{attrs:i,onRateImage:d})]}),b&&(0,a.jsx)(z.s,{alignItems:"center",justifyContent:"center",direction:"column",overflow:"hidden",gap:"".concat(8,"px"),h:h.hA,borderRadius:"base",children:r?Array.from({length:3},(e,t)=>(0,a.jsx)(en.E,{w:h.wBCD,h:h.hBCD},t)):(0,a.jsx)(a.Fragment,{children:n.slice(0,3).map(e=>(0,a.jsx)(ej,{image:e,currentAttributes:i,onImageClick:s,resizeThumbnail:!0,deleteImage:c,isDeleting:l,h:"".concat(h.hBCD,"px"),showQuickActions:!1,showAvatar:!1},e.id))})})]})})},eL=e=>{let{vpWidth:t,gap:n,ratioW:a,ratioH:i,thumbCount:r}=e,l=a/i,o=l>eE.C1.square?eE.C1.landscape:l<eE.C1.square?eE.C1.portrait:eE.C1.square,s=t*(o===eE.C1.portrait?.6:.7),d=s/o;return{wA:Math.floor(s),hA:Math.floor(d),wBCD:Math.floor(t-s-n),hBCD:Math.floor((d-n*(r-1))/r)}},eD=e=>{if(e.length<=1)return!1;let t=eM(e[0]);return e.some(e=>eM(e)!==t)},eM=e=>{var t,n,a,i;let r=null!=(a=null==e||null==(t=e.meta)?void 0:t.width)?a:1,l=null!=(i=null==e||null==(n=e.meta)?void 0:n.height)?i:1;return r>l?"landscape":l>r?"portrait":"square"},e_=(0,C.memo)(e=>{let{height:t}=e;return(0,a.jsx)(u.a,{bg:"gray.50",w:"100%",h:t,borderRadius:"md",display:"flex",alignItems:"center",justifyContent:"center",children:(0,a.jsxs)(z.s,{alignItems:"center",justifyContent:"center",w:"50%",direction:"column",textAlign:"center",children:[(0,a.jsx)(ea._,{alt:"",src:ei.src,height:"160px",mb:4}),(0,a.jsx)(c.E,{fontSize:"2xl",fontWeight:"bold",mb:2,color:"deepocean.950",children:(0,a.jsx)(y.x6,{id:"MK/c3O"})}),(0,a.jsx)(c.E,{fontSize:"md",color:"gray.600",children:(0,a.jsx)(y.x6,{id:"ztxdaf"})})]})})});e_.displayName="EmptyState";var eT=n(3276),eN=n(99038);let ez=e=>{let{isEnhancingPrompt:t,isGenerating:n,runEnhancePrompt:i}=e;return(0,a.jsx)(d.z,{position:"absolute",bottom:2,right:2,children:(0,a.jsx)(v.Tz,{placement:"top",label:(0,a.jsx)(y.x6,{id:"LwcIt2",values:{GAMMA_PROPER_NOUN:eN.On}}),children:(0,a.jsx)(x.$,{variant:"ghost",rightIcon:(0,a.jsx)(b.g,{icon:f.uts}),isLoading:t,isDisabled:n,"aria-label":w.Ru._({id:"eoAiXB"}),onClick:i,zIndex:"sticky",size:"sm",loadingText:w.Ru._({id:"6xU0OU"}),spinner:(0,a.jsx)(eT.y,{size:"sm",right:2,alignSelf:"flex-end"}),spinnerPlacement:"end",children:(0,a.jsx)(y.x6,{id:"Uehxdq"})})})})};var eP=n(38420);let eO=e=>{let{onSelectImage:t,currentAttributes:n,resizeThumbnails:i,history:r,canLoadMore:l,loadMore:o,isLoadingMore:s,isDeleting:d,deleteImage:p,helpText:h}=e,g=C.useMemo(()=>r.map(e=>e.attrs?(0,a.jsx)(u.a,{position:"relative",children:(0,a.jsx)(ej,{image:e,deleteImage:p,isDeleting:d,currentAttributes:n,onImageClick:t,resizeThumbnail:i,showQuickActions:!0})},e.id):(console.log("Image is missing attrs",e),null)),[r,p,d,n,t,i]);return(0,a.jsxs)(z.s,{direction:"column",align:"stretch",children:[h&&(0,a.jsx)(c.E,{fontSize:"xs",color:"gray.500",mb:4,children:h}),(0,a.jsx)(eP.A,{columnsCount:3,gutter:"0.5rem",children:g}),l&&(0,a.jsx)(x.$,{variant:"plain",onClick:o,mt:4,isLoading:s,children:(0,a.jsx)(y.x6,{id:"yQ2kGp"})})]})};var eF=n(49146),eH=n(23908),eB=n(36693),eV=n(20061),eW=n(3448),eU=n(24351),eG=n(2002);let eK=e=>{let{onSelectImage:t,savedMediaId:n,currentAttributes:i,scope:r,setScope:l,canLoadMore:o,loadMore:s,isLoading:d,isLoadingMore:p,history:h,deleteImage:g,isDeleting:m}=e,x=()=>d?(0,a.jsx)(eZ,{}):0===h.length?(0,a.jsx)(u.a,{mt:10,children:(0,a.jsx)(eQ,{})}):(0,a.jsx)(eO,{onSelectImage:t,currentAttributes:i,savedMediaId:n,canLoadMore:o,loadMore:s,isLoadingMore:p,history:h,deleteImage:g,isDeleting:m,helpText:"doc"===r?(0,a.jsx)(y.x6,{id:"uNPCE+",values:{GAMMA_ARTIFACT_PROPER_NOUN:eN.TP}}):(0,a.jsx)(y.x6,{id:"+MrfBb"}),resizeThumbnails:!0});return(0,a.jsxs)(eF.t,{size:"sm",variant:"soft-rounded",onChange:e=>{l&&l(1===e?"user":"doc")},isFitted:!0,children:[(0,a.jsxs)(eH.w,{children:[(0,a.jsx)(eB.o,{children:(0,a.jsx)(c.E,{children:(0,a.jsx)(y.x6,{id:"emHsgB",values:{GAMMA_ARTIFACT_PROPER_NOUN:eN.TP}})})}),(0,a.jsx)(eB.o,{children:(0,a.jsx)(c.E,{children:(0,a.jsx)(y.x6,{id:"4FBm2s"})})})]}),(0,a.jsxs)(eV.T,{children:[(0,a.jsx)(eW.K,{children:x()}),(0,a.jsx)(eW.K,{children:x()})]})]})},eQ=()=>(0,a.jsx)(r.T,{spacing:6,children:(0,a.jsx)(eU.p,{size:"md",title:eG.G.title,description:eG.G.description})}),eZ=C.memo(()=>(0,a.jsx)(d.z,{spacing:"4",children:(0,a.jsx)(eP.A,{columnsCount:3,gutter:"0.5rem",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(en.E,{height:{base:"125px",lg:"200px"},width:"100%"},t))})}));eZ.displayName="AIImageHistorySkeleton";var eq=n(53756),eJ=n(6018),e$=n(91264),eY=n(82960);let eX=e=>{let t,{selectImage:n,savedMediaContext:a}=e,i=(0,Z.GV)(eA.sX),r=(0,Z.GV)(e$.TJ),l=(0,eY.x)(a);"new"===r&&(r=void 0,t=S.rWX.Theme);let[o,s]=(0,C.useState)(""),[d,c]=(0,C.useState)(!1),[u,p]=(0,C.useState)(!1),[h,g]=(0,C.useState)("");return{generate:(0,C.useCallback)(async e=>{let a=(0,k.$F)();s(e.prompt),c(!0),p(!1),g("");let o={...e,stylePreset:e.stylePreset||eE.nv.Theme,stylePrompt:e.stylePrompt||"",docId:e.docId||i,themeId:e.themeId||r,context:e.context||t};try{let e=await (0,H.hU)({interactionId:a,workspaceId:l,...o});if(c(!1),0===e.length)throw Error("No images generated");e.length>0&&n(e[0]),(0,eJ.w)("generateImage",void 0,a)}catch(e){p(!0),g((0,H.yC)(e)),c(!1)}c(!1)},[i,r,t,l,n]),isGenerating:d,hasError:u,errorMessage:h,searchQuery:o}};var e0=n(66048);let e1=e=>(0,a.jsx)(e2,{...e}),e2=e=>{var t,n,_,T;let{currentAttributes:N,updateAttributes:z,editor:P,contextualTheme:O,savedMediaContext:F,closeDrawer:H,canShowEmptyState:B=!1}=e,V=(0,C.useRef)(null),en=(0,Z.GV)(J.Gd),ea=(0,Z.GV)(D.Jo),ei=null==ea?void 0:ea.id,{isInOfflineMode:er}=(0,S.utY)(),el=(0,Z.GV)((0,X.A1)(null==ea||null==(t=ea.organization)?void 0:t.id)),eo=(0,L.u)("visualsMenuEnabled"),es=(0,C.useMemo)(()=>P?"doc":"user",[P]),[ed,ec]=(0,C.useState)(es),eu=null==P||null==(_=P.getAttributes("document"))||null==(n=_.aiOptions)?void 0:n.imageOptions,{prompt:ep,addPrompt:eh,promptPageInfo:eg,nextPrompt:em,prevPrompt:ex,model:ef,setModel:eb,stylePreset:ev,setStylePreset:ey,stylePrompt:ew,setStylePrompt:eC,aspectRatio:eA,setAspectRatio:ej,getStylePromptFromPreset:ek,stylePresetOptions:eS,getPresetDisplayMetadata:eI,getThemeNameFromStylePrompt:eL,imageGenerateConfig:eD,loadImageAiParams:eM,resetImageAiParams:e_,isPromptDirty:eT,artStylePreset:eN,setArtStylePreset:eP,artStylePrompt:eF,setCustomArtStylePrompt:eH,shouldUseThemeColors:eB,setShouldUseThemeColors:eV,modelAutoselect:eW,enableModelAutoselect:eU}=(0,G.S6)({contextualTheme:O,lastUsedImageGenerationSettingsInDoc:eu,aiParams:null==N?void 0:N.aiParams,savedMediaContext:F,visualsMenuEnabled:eo}),eG=eT(N),eQ=(0,Y.M)(P),{isEnhancing:eZ,setIsEnhancing:eJ,runEnhanceImagePrompt:e$}=(0,U.Z8)({editor:(null==P?void 0:P.parentEditor)||P,prompt:(null==P?void 0:P.isSiteNavbarEditor)?"Logo for ".concat(null==en?void 0:en.name):ep,stylePrompt:ew,addPrompt:eh}),{history:eY,loadMore:e1,canLoadMore:e2,isLoading:e4,isLoadingMore:e6,deleteImage:e5,isDeleting:e3}=(0,eq.X)({docId:ei,scope:ed,savedMediaContext:F}),e9=(0,C.useCallback)(e=>{e.attrs.src&&(0,k.Sf)({imageUrl:e.attrs.src,interactionId:e.interactionId,image:e.attrs})},[]),e7=(0,ee.lW)(e9,2e3),e8=(0,C.useCallback)(e=>{eM(e.attrs,"select"),z({tempUrl:(0,et.Ub)(e.attrs.src,et.p7,e.attrs.meta),showPlaceholder:!1,...e.attrs}),P&&eQ(P.state.selection.from),e7(e)},[P,eM,eQ,z,e7]),{generate:te,isGenerating:tt,hasError:tn,errorMessage:ta}=eX({selectImage:e8,savedMediaContext:F}),ti=(0,i.m)(),tr=(null==N?void 0:N.source)==="image.ai-generated"&&!!(null==N?void 0:N.src),tl=null==N?void 0:N.savedMediaId;(0,ee.Vg)(()=>{var e;!tt&&(tr&&(null==N||null==(e=N.aiParams)?void 0:e.prompt)?eM(N,"load"):!tr&&(null==N?void 0:N.query)&&eh(N.query,"load"))},[eh,N,tr,eM,tt],[N]),(0,C.useEffect)(()=>{setTimeout(()=>{var e;er||null==(e=V.current)||e.focus()},200)},[]);let to=(0,C.useMemo)(()=>{var e;return(null==N||null==(e=N.aiParams)?void 0:e.interactionId)||""},[N]),{savedMedia:ts}=(0,U.B7)(to,(null==N||null==(T=N.aiParams)?void 0:T.prompt)||""),td=(0,C.useCallback)(()=>{var e,t,n;if(!P)return null;let{stylePreset:a,model:i,stylePrompt:r,modelAutoselect:l,artStylePreset:o,artStylePrompt:s}=eD,d=P.getAttributes("document"),c={stylePreset:a,model:i,stylePrompt:a===eE.nv.Custom?r:null!=(n=null==(t=d.aiOptions)||null==(e=t.imageOptions)?void 0:e.stylePrompt)?n:"",artStylePreset:o,artStylePrompt:s,modelAutoselect:l};P.commands.updateNestedAttributesAtPos(0,{aiOptions:{imageOptions:c}})},[P,eD]);(0,C.useEffect)(()=>{tt&&!(null==N?void 0:N.showPlaceholder)&&(null==N?void 0:N.src)?z({showPlaceholder:!0,loadImageStatus:"queued",loadImageParams:{provider:"aiGenerated",query:ep,options:eD}}):!tt&&(null==N?void 0:N.loadImageStatus)==="queued"&&(null==N?void 0:N.src)&&z({...N,loadImageStatus:"done"})},[tt]);let tc=(0,C.useCallback)(async()=>{if(!eZ&&!tt)try{let e={...eD,prompt:ep};if(eW&&(e.model=(0,M._)()),0===ep.trim().length){let t=await e$();t&&(e.prompt=t)}await te(e),td()}catch(e){console.error("Error generating AI image",e)}finally{ti.refetchQueries({include:["GetSavedMedia","GetWorkspaceSavedMedia","GetUserSavedMedia"]}),eJ(!1)}},[eZ,tt,ep,td,e$,te,eD,ti,eJ,eW]);(0,C.useEffect)(()=>{(null==N?void 0:N.query)||eZ||e$()},[]);let tu=(0,R.tO)(tc,"generateImage",q.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGES),tp=(0,C.useCallback)(e=>{"Enter"===e.key&&e.metaKey&&(e.preventDefault(),tu()),e.stopPropagation()},[tu]),{saveImageRating:th}=(0,U.RM)(),tg=(0,C.useCallback)(e=>{var t;(null==N||null==(t=N.aiParams)?void 0:t.interactionId)&&((0,k.WN)({rating:e,aiParams:N.aiParams,imageUrl:N.src,interactionId:N.aiParams.interactionId}),th(N,e))},[N,th]),tm=(0,C.useCallback)(async e=>{if(await e5(e),e===tl){let t=ts.filter(t=>t.id!==e);t.length>0?e8(t[0]):z({...N,savedMediaId:"",src:"",tempUrl:""})}},[e5,N,ts,e8,tl,z]),tx=(null==N?void 0:N.source)==="image.ai-generated";return(0,a.jsxs)(r.T,{spacing:4,align:"stretch",translate:"no",children:[(tx||tt||B)&&(0,a.jsx)(eR,{imagesMatchingInteractionId:to?ts:[],currentAttributes:N,isGenerating:tt,isDeleting:e3,selectedSavedMediaId:null!=tl?tl:"",selectImage:e8,onRateImage:tg,deleteImage:tm,canShowEmptyState:B}),tn&&(0,a.jsxs)(l.F,{status:"error",flexDirection:"row",alignItems:"start",justifyContent:"start",borderRadius:"md",children:[(0,a.jsx)(o._,{}),(0,a.jsx)(s.T,{children:ta})]}),(0,a.jsxs)(r.T,{align:"stretch",spacing:4,children:[(0,a.jsxs)(r.T,{align:"stretch",spacing:1,children:[(0,a.jsx)(d.z,{position:"relative",align:"center",justify:"space-between",children:(0,a.jsx)(c.E,{fontSize:"sm",fontWeight:"semibold",color:tt?"gray.500":"",children:(0,a.jsx)(y.x6,{id:"sU1/3l"})})}),(0,a.jsxs)(u.a,{position:"relative",children:[(0,a.jsx)(A._,{ref:V,isDisabled:tt,placeholder:eZ||F===S.rWX.Theme?"":F===S.rWX.Dashboard?w.Ru._({id:"+VHqP0"}):w.Ru._({id:"6RfNWb"}),onKeyDown:tp,value:ep,onChange:e=>eh(e.target.value,"update"),"data-testid":"image-search-input",rows:5,initialHeight:"65px",bottomSpacing:35}),P&&(0,a.jsx)(ez,{isEnhancingPrompt:eZ,isGenerating:tt,runEnhancePrompt:e$})]}),eg.total>1&&(0,a.jsx)(K.M,{alignSelf:"end",promptPageInfo:eg,nextPrompt:em,prevPrompt:ex,isDisabled:tt||eZ})]}),(0,a.jsxs)(r.T,{align:"stretch",gap:4,children:[(0,a.jsx)(r.T,{align:"stretch",children:eo?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.E,{fontSize:"sm",fontWeight:"semibold",color:tt?"gray.500":"",children:(0,a.jsx)(y.x6,{id:"WpXFiB"})}),(0,a.jsx)(j.q,{selectedPreset:eN,onSelectPreset:eP}),"custom"===eN&&(0,a.jsx)(p.T,{value:eF,onChange:e=>eH(e.target.value),placeholder:w.Ru._({id:"zPao75"}),fontSize:"sm",rows:2,resize:"none"}),P&&(0,a.jsxs)(d.z,{spacing:2,align:"start",alignItems:"center",gap:2,children:[(0,a.jsx)(h.S,{id:"use-theme-colors",isChecked:eB,onChange:e=>eV(e.target.checked)}),(0,a.jsx)(g.l,{htmlFor:"use-theme-colors",mb:0,me:0,children:(0,a.jsx)(c.E,{fontSize:"xs",children:(0,a.jsx)(y.x6,{id:"ge5rTg"})})}),(0,a.jsx)(v.Tz,{label:w.Ru._({id:"DOIHaY"}),children:(0,a.jsx)(b.g,{size:"xs",icon:f.mEO})}),(0,a.jsx)(c.E,{fontSize:"xs",children:(0,a.jsx)(m.N,{color:"deepocean.600",onClick:()=>{null==H||H(),$.LF.emit($.DN.OPEN_THEME_DRAWER,{})},children:(0,a.jsx)(y.x6,{id:"dIM+cw"})})})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.E,{fontSize:"sm",fontWeight:"semibold",color:tt?"gray.500":"",children:(0,a.jsx)(y.x6,{id:"0P2jsg"})}),(0,a.jsx)(Q.y,{stylePreset:ev,stylePrompt:ew,setStylePrompt:eC,setStylePreset:ey,presetOptions:eS,isDisabled:tt,contextualTheme:O,getThemeNameFromStylePrompt:eL,getPresetDisplayMetadata:eI,onKeyDown:tp,getStylePromptFromPreset:ek})]})}),(0,a.jsxs)(d.z,{w:"100%",children:[(0,a.jsxs)(r.T,{w:"100%",align:"stretch",children:[(0,a.jsx)(c.E,{fontSize:"sm",fontWeight:"semibold",color:tt?"gray.500":"",children:(0,a.jsx)(y.x6,{id:"iKM2jY"})}),(0,a.jsx)(W,{value:eA,setValue:ej,model:ef,isDisabled:tt})]}),(0,a.jsxs)(r.T,{w:"100%",align:"stretch",children:[(0,a.jsx)(c.E,{fontSize:"sm",fontWeight:"semibold",color:tt?"gray.500":"",children:(0,a.jsx)(y.x6,{id:"scu3wk"})}),ef&&(0,a.jsx)(e0.o,{value:ef,setValue:eb,isDisabled:tt,autoselect:eo?{isActive:eW,onChooseAutoselect:eU}:void 0})]})]})]}),(0,a.jsxs)(r.T,{spacing:1,align:"stretch",children:[(0,a.jsxs)(x.$,{variant:"solid",isLoading:tt,isDisabled:eZ,onClick:tu,px:12,children:[(0,a.jsx)(y.x6,{id:"OSaxlZ"}),(0,a.jsx)(E.G,{type:"generateImage",position:"absolute",insetEnd:4})]}),P&&(0,a.jsx)(x.$,{onClick:()=>e_(N),leftIcon:(0,a.jsx)(b.g,{icon:f.ub2}),isDisabled:!eG||tt,sx:{opacity:eG?1:.5,transition:"opacity 0.2s ease-in-out",_hover:{color:eG?"trueblue.500":""}},children:(0,a.jsx)(y.x6,{id:"L+rMC9"})}),(0,a.jsx)(I.f,{modalId:"ai-credits-modal-message-list",variant:"ghost",justify:"flex-end",segmentEvent:q.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGES})]})]}),P&&(el?(0,a.jsx)(eK,{onSelectImage:e8,savedMediaId:tl,currentAttributes:N,scope:ed,setScope:ec,canLoadMore:e2,loadMore:e1,isLoading:e4,isLoadingMore:e6,history:eY,deleteImage:tm,isDeleting:e3,resizeThumbnails:!0}):(0,a.jsx)(eO,{onSelectImage:e8,savedMediaId:tl,currentAttributes:N,scope:ed,setScope:ec,canLoadMore:e2,loadMore:e1,isLoading:e4,isLoadingMore:e6,history:eY,deleteImage:tm,isDeleting:e3,resizeThumbnails:!0}))]})};e1.key="image.ai-generated"},8075:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});let a={generate:(0,n(58495).d_)("0123456789abcdefghijklmnopqrstuvwxyz",15)}},8098:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});let a=new(n(83747)).b},8255:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});let a=new(n(83747)).b},8327:(e,t,n)=>{"use strict";n.d(t,{KD:()=>l,P6:()=>o,TF:()=>s,ve:()=>r});var a=n(40782),i=n(20775);let r=e=>{var t,n,a,i,r,l,o;return("image.ai-generated"===e.source?null==(t=e.aiParams)?void 0:t.prompt:e.query)||(null==(n=e.meta)?void 0:n.description)||(null==(a=e.meta)?void 0:a.alt_description)||(null==(i=e.meta)?void 0:i.title)||(null==(r=e.meta)?void 0:r.snippet)||(null==(o=e.meta)||null==(l=o.tags)?void 0:l.join(", "))},l=e=>e.height>e.width?"portrait":e.height<e.width?"landscape":"square",o=e=>{if(e.meta&&e.meta.width&&e.meta.height)return l(e.meta);if(e.aiParams){let t=e.aiParams;if(t.aspectRatio)return t.aspectRatio;if(t.width&&t.height)return l({width:t.width,height:t.height})}return i.X},s=(e,t,n)=>{let i={src:e.imageUrl,tempUrl:e.thumbnailUrl,meta:{height:e.height,width:e.width,description:e.description,alt_description:e.altDescription,title:e.title,snippet:e.snippet},query:t,source:a.j[n]};return"aiGenerated"===n&&(i.aiParams={prompt:e.aiPrompt,height:e.height,width:e.width,model:e.aiModel,stylePreset:e.aiStylePreset}),i}},8376:(e,t,n)=>{"use strict";n.d(t,{M:()=>c});var a=n(62040),i=n(15607),r=n(55424),l=n(94922),o=n(47665);let s=(e,t)=>!!d(e),d=e=>{if(!(e.parent&&(0,o.jg)(e.parent)))return!0;let t=(0,i.TK)(e,o.jg)[0];if(!t)return!0;let n=e.doc.resolve(t.pos);return 0===Object.keys((0,l.l0)(n)).length},c=(e,t,n)=>{var l;let o=e.posAtCoords({left:t.clientX,top:t.clientY});if(!o||o.inside<0||!e.state.doc.resolve(o.pos))return null;let d=o.pos,c=e.state.doc.resolve(o.inside),u=e.state.doc.nodeAt(o.inside),p=e.state.doc.nodeAt(o.pos);if((null==u?void 0:u.type.name)==="smartLayout"&&(null==p?void 0:p.type.name)==="smartLayoutCell")return null;let h=(0,i.IV)(c,r.q)[0];return h&&(d=o.inside,h.pos===d)||!d||n&&null==(d=(0,a.Um)(e.state.doc,d,n))?null:s(e.state.doc.resolve(d),null==(l=e.dragging)?void 0:l.slice)?d:null}},8584:(e,t,n)=>{"use strict";n.d(t,{m:()=>c});var a=n(9922),i=n.n(a),r=n(63867),l=n(92397),o=n(15607),s=n(33201),d=n(63562);class c{isApplied(e){let t=e.state.tr,n=null;try{n=this.transact(e,t,!1)}catch(e){return console.error("[isModificationActive] Could not transact modificatioon, returning false",e.message),!1}if(!n)return!1;let a=(0,d.oR)(e,this.rangeId);if(!a)return!1;try{let i=e.state.doc.slice(a.from,a.to),r=t.doc.slice(a.from,a.to),l=n.from===a.from&&n.to===a.to;return i.eq(r)&&l}catch(e){}return!1}getPreviewJson(e){let t=e.state.tr;this.transact(e,t);let n=this.getParentCardId(e,t),a=i()(t.doc.toJSON());return(0,d.sT)(a,n)}getParentCardId(e,t){let n=(0,d.oR)(e,this.rangeId);if(!n)return null;let a=t.doc.resolve(n.from),i=(0,o.IV)(a,s.jg)[0];if(!i)return null;let r=i.node.attrs.id;return r||null}apply(e){let t=e.state.tr;this.transact(e,t),console.debug("[ReplaceContentModification] Applying modification",{modification:this,range:(0,d.oR)(e,this.rangeId)}),e.view.dispatch(t);let n=this.getParentCardId(e,t);(0,l.OM)({editor:e,cardId:n})}transact(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=(0,d.oR)(e,this.rangeId);if(!a)return null;let{state:i}=e;t.replace(a.from,a.to,this.slice).setMeta("applyingAiModification",{rangeId:this.rangeId});let l=t.mapping.map(a.to),o={from:a.from,to:l};if(n){if(i.selection.empty)return t.setSelection(r.LN.near(t.doc.resolve(a.from))),o;if(i.selection instanceof r.nh)return t.setSelection(r.nh.create(t.doc,a.from)),o;let e=r.U3.between(t.doc.resolve(a.from),t.doc.resolve(l));t.setSelection(e)}return o}getContentForTracking(){return this.content}constructor(e,t){this.type="replace-content",this.description=t.description,this.rangeId=t.rangeId,this.content=t.content,this.slice=(0,d.ni)(e,t.content)}}},8763:(e,t,n)=>{"use strict";n.d(t,{C:()=>E,D:()=>I});var a=n(6029),i=n(26420),r=n(41885),l=n(76931),o=n(70375),s=n(28548),d=n(91892),c=n(58497),u=n(99696),p=n(55729),h=n(40077),g=n(36464),m=n(87140),x=n(1739),f=n(12117),b=n(2426),v=n(24392),y=n(70815),w=n(66082),C=n(9893),A=n(22004),j=n(95663),k=n(97984),S=n(41896);let I=()=>[o.y.extend({content:"block+"}),s.B,m.a,A.f,c.E,x.Hf,y.DZ.configure({HTMLAttributes:{class:h.U6}}),v.B,f.Z4,r.yN,u.z,d.J2,k.r,k.f,w.wq,j.n,C.N.extend({excludes:"underline link",renderHTML(e){let{HTMLAttributes:t}=e,{href:n}=t;return["a",{...this.options.HTMLAttributes,href:n,class:"link"},0]}}).configure({openOnClick:!1}),l.Cy,b.bY,x.mk],E=e=>{let{isEditing:t,disableGradients:n,...r}=e,l=(0,p.useMemo)(()=>I(),[]),o=(0,S.hG)({extensions:l,parseOptions:{preserveWhitespace:"full"},...r,editable:!0});return(0,p.useEffect)(()=>{t?(null==o||o.commands.focus(),o.setEditable(!0)):(null==o||o.commands.blur(),o.setEditable(!1))},[t,o]),o.isThumbnail=!0,o.shouldUseLiteMenus=!0,(0,a.jsxs)(i.a,{sx:{width:"100%"},className:n?h.Dv:void 0,children:[(0,a.jsx)(S.$Z,{style:{width:"100%"},className:"text",editor:o}),(0,a.jsx)(g.Ht,{editor:o,appendToSelector:"[data-tldraw-menu-root]"})]})}},8859:(e,t,n)=>{"use strict";n.d(t,{j:()=>p});var a=n(6029),i=n(57405),r=n(40452),l=n(64268),o=n(51504),s=n(51684),d=n(48621),c=n(77650),u=n(68364);n(7929),n(1136),n(51650);let p=(0,n(46091).A)(e=>{let{uppyInstance:t,dropHereText:n=c.Ru._({id:"mgPDos",values:{0:"%{browse}"}}),tipText:p,customHeight:h,errorMessage:g,...m}=e;return(0,a.jsxs)(i.T,{align:"stretch",spacing:4,pos:"relative",...m,children:[(0,a.jsx)(r.s,{pos:"absolute",inset:0,justify:"center",align:"center",zIndex:1,pointerEvents:"none",mt:-14,color:"gray.600",children:(0,a.jsx)(d.g,{icon:s.vMo,size:"3x"})}),(0,a.jsx)(u.OX,{width:"100%",height:h||"100%",note:p||void 0,uppy:t,locale:{strings:{dropHereOr:n,browse:c.Ru._({id:"wZ9s+A"})}}}),g&&(0,a.jsxs)(l.F,{status:"error",children:[(0,a.jsx)(o._,{}),g]})]})})},9100:(e,t,n)=>{"use strict";n.d(t,{Dn:()=>s,r4:()=>l,vf:()=>o});var a=n(99492),i=n(55597),r=n(77650);let l=3,o=()=>[{name:r.Ru._({id:"bjuYAW"}),key:"solid",icon:i.Cpz},{name:r.Ru._({id:"bCuf07"}),key:"outline",icon:a.Cpz},{name:r.Ru._({id:"1lWK8g"}),key:"link",icon:a.CQO}],s={buttonGroup:{alignEnabled:!0,colorEnabled:!0,linkDropdownEnabled:!0,variants:["solid","outline"],defaultVariant:"solid"},navbarButtons:{alignEnabled:!1,colorEnabled:!0,linkDropdownEnabled:!1,variants:["solid","outline"],defaultVariant:"solid"},navbarLinks:{alignEnabled:!0,colorEnabled:!1,linkDropdownEnabled:!1,variants:["link"],defaultVariant:"link"}}},9118:(e,t,n)=>{"use strict";n.d(t,{Mo:()=>x,ZD:()=>c,xt:()=>h});var a=n(50729),i=n(77650),r=n(26194),l=n.n(r),o=n(99767),s=n(73247);let d={en:{displayName:"English (US)",displayNameLocalized:()=>i.Ru._({id:"cJWHou"})},"en-gb":{displayName:"English (UK)",displayNameLocalized:()=>i.Ru._({id:"KDEMVl"})},"en-in":{displayName:"English (India)",displayNameLocalized:()=>i.Ru._({id:"mqnttg"})},es:{displayName:"Espa\xf1ol",displayNameLocalized:()=>i.Ru._({id:"65A04M"})},"es-es":{displayName:"Espa\xf1ol (Espa\xf1a)",displayNameLocalized:()=>i.Ru._({id:"UYPXPZ"})},"es-mx":{displayName:"Espa\xf1ol (M\xe9xico)",displayNameLocalized:()=>i.Ru._({id:"CdooNf"})},"es-419":{displayName:"Espa\xf1ol (Latinoam\xe9rica)",displayNameLocalized:()=>i.Ru._({id:"Ni47Oh"})},ca:{displayName:"Catal\xe0",displayNameLocalized:()=>i.Ru._({id:"M1RLfx"})},fr:{displayName:"Fran\xe7ais",displayNameLocalized:()=>i.Ru._({id:"nLC6tu"})},"zh-cn":{displayName:"简体中文",displayNameLocalized:()=>i.Ru._({id:"QBySSi"})},"zh-tw":{displayName:"繁體中文",displayNameLocalized:()=>i.Ru._({id:"Mpms0p"})},ko:{displayName:"한국어",displayNameLocalized:()=>i.Ru._({id:"h6S9Yz"})},ja:{displayName:"日本語 (です/ます体)",displayNameLocalized:()=>i.Ru._({id:"I9nscg"})},"ja-da":{displayName:"日本語 (だ/である体)",displayNameLocalized:()=>i.Ru._({id:"GMG8Tf"})},"pt-br":{displayName:"Portugu\xeas (Brasil)",displayNameLocalized:()=>i.Ru._({id:"R7+D0/"})},"pt-pt":{displayName:"Portugu\xeas (Portugal)",displayNameLocalized:()=>i.Ru._({id:"512Uma"})},de:{displayName:"Deutsch",displayNameLocalized:()=>i.Ru._({id:"DDcvSo"})},it:{displayName:"Italiano",displayNameLocalized:()=>i.Ru._({id:"Lj7sBL"})},ru:{displayName:"Русский",displayNameLocalized:()=>i.Ru._({id:"nji0/X"})},pl:{displayName:"Polski",displayNameLocalized:()=>i.Ru._({id:"trnWaw"})},uk:{displayName:"Українська",displayNameLocalized:()=>i.Ru._({id:"V9+2pH"})},ro:{displayName:"Rom\xe2nă",displayNameLocalized:()=>i.Ru._({id:"uJc01W"})},hu:{displayName:"Magyar",displayNameLocalized:()=>i.Ru._({id:"mkWad2"})},cs:{displayName:"Čeština",displayNameLocalized:()=>i.Ru._({id:"w9VTXG"})},el:{displayName:"Ελληνικά",displayNameLocalized:()=>i.Ru._({id:"CZXzs4"})},tr:{displayName:"T\xfcrk\xe7e",displayNameLocalized:()=>i.Ru._({id:"Kz91g/"})},ar:{displayName:"العربية",displayNameLocalized:()=>i.Ru._({id:"8HV3WN"})},"ar-sa":{displayName:"العربية (السعودية)",displayNameLocalized:()=>i.Ru._({id:"9E6cqp"})},he:{displayName:"עברית",displayNameLocalized:()=>i.Ru._({id:"3oTCgM"})},fa:{displayName:"فارسی",displayNameLocalized:()=>i.Ru._({id:"JFI3iH"})},nl:{displayName:"Nederlands",displayNameLocalized:()=>i.Ru._({id:"KIjvtr"})},sv:{displayName:"Svenska",displayNameLocalized:()=>i.Ru._({id:"UaISq3"})},da:{displayName:"Dansk",displayNameLocalized:()=>i.Ru._({id:"Fo2vDn"})},nb:{displayName:"Norsk",displayNameLocalized:()=>i.Ru._({id:"1IipHp"})},fi:{displayName:"Suomi",displayNameLocalized:()=>i.Ru._({id:"USZ2N6"})},id:{displayName:"Bahasa Indonesia",displayNameLocalized:()=>i.Ru._({id:"BQukYF"})},vi:{displayName:"Tiếng Việt",displayNameLocalized:()=>i.Ru._({id:"fROFIL"})},hi:{displayName:"हिन्दी",displayNameLocalized:()=>i.Ru._({id:"tGjibo"})},gu:{displayName:"ગુજરાતી",displayNameLocalized:()=>i.Ru._({id:"sGpqyx"})},mr:{displayName:"मराठी",displayNameLocalized:()=>i.Ru._({id:"vKSpmV"})},te:{displayName:"తెలుగు",displayNameLocalized:()=>i.Ru._({id:"2SnOmG"})},bn:{displayName:"বাংলা",displayNameLocalized:()=>i.Ru._({id:"Hds3Bq"})},ta:{displayName:"தமிழ்",displayNameLocalized:()=>i.Ru._({id:"fb427h"})},ur:{displayName:"اردو",displayNameLocalized:()=>i.Ru._({id:"tmwuH9"})},kn:{displayName:"ಕನ್ನಡ",displayNameLocalized:()=>i.Ru._({id:"ffJEXe"})},ml:{displayName:"മലയാളം",displayNameLocalized:()=>i.Ru._({id:"WQrafy"})},th:{displayName:"ภาษาไทย",displayNameLocalized:()=>i.Ru._({id:"SUr44j"})},sr:{displayName:"Српски",displayNameLocalized:()=>i.Ru._({id:"9aBtdW"})},hr:{displayName:"Hrvatski",displayNameLocalized:()=>i.Ru._({id:"0aMWde"})},sq:{displayName:"Shqip",displayNameLocalized:()=>i.Ru._({id:"pVxf7b"})},bg:{displayName:"Български",displayNameLocalized:()=>i.Ru._({id:"KhEBDR"})},sl:{displayName:"Slovenščina",displayNameLocalized:()=>i.Ru._({id:"LSdcWW"})},bs:{displayName:"Bosanski",displayNameLocalized:()=>i.Ru._({id:"oI7LTM"})},mk:{displayName:"Македонски",displayNameLocalized:()=>i.Ru._({id:"0MMlCU"})},sw:{displayName:"Kiswahili",displayNameLocalized:()=>i.Ru._({id:"Yz+oFV"})},ha:{displayName:"Hausa",displayNameLocalized:()=>i.Ru._({id:"MvvYTW"})},yo:{displayName:"Yor\xf9b\xe1",displayNameLocalized:()=>i.Ru._({id:"FcCBes"})},tl:{displayName:"Tagalog",displayNameLocalized:()=>i.Ru._({id:"ISVD3+"})},ms:{displayName:"Bahasa Melayu",displayNameLocalized:()=>i.Ru._({id:"tF97tn"})},kk:{displayName:"Қазақ тілі",displayNameLocalized:()=>i.Ru._({id:"F/vx72"})},uz:{displayName:"O'zbek tili",displayNameLocalized:()=>i.Ru._({id:"b1dG47"})},af:{displayName:"Afrikaans",displayNameLocalized:()=>i.Ru._({id:"1Cox/a"})},lv:{displayName:"Latviešu",displayNameLocalized:()=>i.Ru._({id:"/0YsGP"})},lt:{displayName:"Lietuvių",displayNameLocalized:()=>i.Ru._({id:"Ot2qtY"})},et:{displayName:"Eesti",displayNameLocalized:()=>i.Ru._({id:"l2pzUk"})},is:{displayName:"\xcdslenska",displayNameLocalized:()=>i.Ru._({id:"rJl8hp"})},cy:{displayName:"Cymraeg",displayNameLocalized:()=>i.Ru._({id:"4w9b2x"})}},c=Object.keys(a.AI_LOCALES).map(e=>{let t=d[e];return{key:e,englishName:a.AI_LOCALES[e].englishName,displayName:t.displayName,displayNameLocalized:t.displayNameLocalized}}),u=e=>{let t=null==e?void 0:e.toLowerCase();return c.find(e=>e.key.toLowerCase()===t)||null},p=e=>{let t=u(e);if(t)return t;let n=o.tF[e],a=n&&u(n);if(a)return a;let[i]=e?e.toLowerCase().split("-"):[],r=i&&u(i);return r||null},h=e=>{let t=p(e);if(t)return t;let n=m(e);if(n)return n;let a=p((0,s.J)());return a||g},g={key:"en",englishName:"English (US)",displayName:"English (US)",displayNameLocalized:()=>i.Ru._({id:"cJWHou"})},m=e=>{let t=(0,s.J)();try{let n=new Intl.DisplayNames([t],{type:"language",fallback:"none"}),a=new Intl.DisplayNames(["en"],{type:"language",fallback:"none"}).of(e),i=n.of(e);if(!a||!i)return null;return{key:e.toLowerCase(),englishName:a,displayName:i,displayNameLocalized:()=>i}}catch(e){return null}},x=()=>l()(c,e=>e.displayNameLocalized())},9131:(e,t,n)=>{"use strict";n.d(t,{UU:()=>s,bX:()=>d});var a=n(6029),i=n(55729),r=n(56711);let l=(0,i.createContext)({}),o=e=>{window.open(e,"_blank","noopener")},s=e=>{let{children:t}=e,[n,s]=(0,i.useState)(!1),[d,c]=(0,i.useState)(""),[u,p]=(0,i.useState)(()=>o),h=(0,i.useCallback)((e,t)=>{c(e),t&&p(()=>()=>t(e)),s(!0)},[]),g=(0,i.useCallback)(()=>{c(""),p(()=>o),s(!1)},[]),[m,x]=(0,i.useState)({showLinkInterstitial:h,hideLinkInterstitial:g});return(0,a.jsxs)(l.Provider,{value:m,children:[n&&(0,a.jsx)(r.M,{link:d,confirmFunction:u,onClose:g}),t]})},d=()=>(0,i.useContext)(l)},9343:(e,t,n)=>{"use strict";n.d(t,{J:()=>p,r:()=>u});var a=n(6029),i=n(40452),r=n(43607),l=n(41896),o=n(84886),s=n(66082),d=n(43828),c=n(9100);let u=e=>{let{decorations:t,node:n}=e,{horizontalAlign:u}=n.attrs,h=(0,r.FX)(),g=h?"column":"row";return(0,a.jsx)(o.u,{...e,children:(0,a.jsxs)(i.s,{dir:(0,s.fZ)(t,u),w:"100%","data-selection-ring":"padded",borderRadius:"var(--box-border-radius)",direction:g,justify:(0,s.lI)(u)||"var(--flex-align)",sx:p(h),gap:"0.5em",alignItems:"center",children:[(0,a.jsx)(l.$p,{}),(0,a.jsx)(d.k,{...e,direction:g,maxButtons:c.r4})]})})},p=e=>({"> [data-node-view-content]":{display:"contents","> [data-node-view-content-inner]":{display:"contents"}},"--button-width":e?"100%":"auto",".node-button":{width:"var(--button-width)",".button":{width:"100%"}},_hover:{".add-button":{opacity:1}}})},9455:(e,t,n)=>{"use strict";n.d(t,{dG:()=>J,LK:()=>Y});var a=n(6029),i=n(26420),r=n(55729);let l=function(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!t||!t.type)return(0,a.jsx)(r.Fragment,{},s);if("text"===t.type)return(0,a.jsx)(r.Fragment,{},"text-".concat(s));let d=e.nodes[t.type];if(!d)return(0,a.jsx)(r.Fragment,{});let c=null==(n=t.content)?void 0:n.map((n,a)=>l(e,n,t,o+1,a));return r.createElement(d.component,{key:"".concat(d.type,"-").concat(s),node:t,depth:o,parent:i,index:s},c)};var o=n(58297),s=n(26385),d=n(58959);let c=e=>{let{children:t,orientation:n="vertical",...i}=e,r="vertical"===n?s.B:d.z;return(0,a.jsx)(r,{spacing:"var(--block-spacing)",...i,children:t})},u=e=>(0,a.jsx)(i.a,{bg:"var(--main-color)",h:"var(--paragraph-height)",w:"100%",borderRadius:"var(--text-border-radius)",...e}),p=e=>{let{style:t="solid",children:n,...i}=e;return(0,a.jsx)(c,{w:"100%",bg:"solid"===t?"var(--main-color)":"transparent",minH:"2em",borderRadius:"var(--box-border-radius)",border:"outline"===t?"var(--border-width) solid var(--main-color)":"none",...i,children:n&&n})};var h=n(40452),g=n(53996),m=n(99492),x=n(48621);let f=e=>{let{iconSize:t="2x",icon:n,...i}=e;return(0,a.jsx)(g.o,{minH:"4em",bg:"var(--box-background-color)",color:"var(--accent-color)",borderRadius:"var(--box-border-radius)",...i,children:n||(0,a.jsx)(x.g,{icon:m.Cyq,size:t})})},b={top:{grid:{gridTemplateColumns:"1fr",gridTemplateRows:"auto 1fr",gridTemplateAreas:'"accent" "body"'},items:{accent:{type:"accent"},body:{type:"body"}},allowFit:!1},behind:{grid:{gridTemplateColumns:"1fr",gridTemplateRows:"auto"},items:{accent:{type:"accent",style:{gridArea:"1 / 1"}},body:{type:"body",style:{gridArea:"1 / 1",zIndex:1}}},allowFit:!1},blank:{grid:{gridTemplateColumns:"1fr",gridTemplateRows:"1fr",gridTemplateAreas:'"body"'},items:{body:{type:"body"}},allowFit:!1},left:{grid:{gridTemplateColumns:"".concat(37.5,"% ").concat(62.5,"%"),gridTemplateRows:"auto ",gridTemplateAreas:'"accent body"'},items:{accent:{type:"accent"},body:{type:"body"}},allowFit:!0},right:{grid:{gridTemplateColumns:"".concat(62.5,"% ").concat(37.5,"%"),gridTemplateRows:"auto",gridTemplateAreas:'"body accent"'},items:{accent:{type:"accent"},body:{type:"body"}},allowFit:!0}},v=e=>b[null!=e?e:"blank"]||b.blank,y=e=>{var t;let{node:n}=e;return(null==(t=n.attrs)?void 0:t.itemId)==="accent"?(0,a.jsx)(C,{...e}):(0,a.jsx)(w,{...e})},w=e=>{let{node:t,children:n}=e;return(0,a.jsx)(c,{className:"thumbnail-node-".concat(t.type),spacing:"1em",p:"1em",alignSelf:"center","data-testid":"card-layout-thumbnail",children:n})},C=e=>{var t;let{node:n,parent:i}=e,r=n.attrs,l=null==i?void 0:i.attrs,o=v(null!=(t=null==l?void 0:l.layout)?t:"blank");if(!((null==r?void 0:r.itemId)&&o.items[r.itemId]))return null;let s=o.allowFit&&(null==r?void 0:r.fitType)==="fit";return(0,a.jsx)(h.s,{className:"thumbnail-node-".concat(n.type),children:s?(0,a.jsx)(h.s,{flexDirection:"column",justifyContent:"center",alignItems:"center",bg:"var(--box-background-color)",flex:1,h:"100%",children:(0,a.jsx)(f,{w:"70%",minH:"55%",bg:"var(--main-color)"})}):(0,a.jsx)(f,{w:"100%",h:"auto",borderRadius:"none"})})};var A=n(21938);let j=e=>{var t,n,r,l,o;let{node:s,isCollapsed:d=!1,children:c}=e,p=s.attrs,g=v(null!=(r=null==p?void 0:p.layout)?r:"blank"),m=g.items;return(0,a.jsx)(h.s,{className:(0,A.cx)("thumbnail-node-".concat(s.type),d&&"collapsed"),"data-testid":"card-thumbnail",minH:d?"2.5em":"var(--card-template-min-height)",w:d?"100%":"var(--card-template-width)",h:"auto",border:"2px solid",borderColor:"var(--main-color)",borderRadius:"base",flexDirection:"column",overflow:"hidden",children:(0,a.jsxs)(h.s,{flexDirection:"column",fontSize:"".concat(.375,"em"),flex:1,justifyContent:"center",children:[!d&&(0,a.jsx)(i.a,{display:"grid",flex:1,sx:{...g.grid,...m.body?{"> .thumbnail-node-cardLayoutItem":null!=(l=null==(t=m.body)?void 0:t.style)?l:{gridArea:"body"}}:{},...m.accent?{"> .thumbnail-node-cardAccentLayoutItem":null!=(o=null==(n=m.accent)?void 0:n.style)?o:{gridArea:"accent"}}:{}},children:c}),d&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u,{w:"50%",mx:"1em",h:"2em",borderRadius:"calc(var(--text-border-radius) * 2)"})})]})})},k={bar:m.s67,pie:m.W1p,line:m.gK3,donut:m.oDg,"horizontal-bar":m.Mkm};var S=n(56570),I=n(80274),E=n(58964),R=n(83743),L=n(66082);let D=e=>({"--flex-align":(0,L.lI)(e)}),M=e=>({["& .thumbnail-node-paragraph > div:nth-of-type(1n+".concat(e+1,")")]:{display:"none"}});var _=n(79018);let T=e=>{let{children:t,...n}=e;return(0,a.jsx)(i.a,{boxSize:"var(--bullet-size)",borderRadius:"0.25em",bg:"var(--main-color)",...n,children:t})},N="0.5em";var z=n(55597),P=n(17485);let O={xs:"sm",sm:"sm",md:"lg",lg:"xl",xl:"2x",full:"2x"},F=e=>{var t,n,i,r,l,o,s,d,u;let{node:p,parent:g,children:m}=e,b=D(null!=(d=null==g||null==(n=g.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)?d:"center"),v=null!=(u=null==g||null==(r=g.attrs)||null==(i=r.options)?void 0:i.imageShape)?u:"square",y=P.zF[v],w=(null==g||null==(l=g.attrs)?void 0:l.variantKey)==="iconsText",C=(null==g||null==(s=g.attrs)||null==(o=s.options)?void 0:o.shapeSize)||"lg",A=M(2);return(0,a.jsxs)(h.s,{className:"thumbnail-node-".concat(p.type),gap:"var(--block-spacing)",flexDirection:"column",children:[w?(0,a.jsx)(f,{minH:"0",icon:(0,a.jsx)(x.g,{icon:z.yy,size:O[C]||"lg"}),bg:w?"none":void 0}):(0,a.jsx)(f,{minH:"2em",minW:"2em",sx:y}),(0,a.jsx)(c,{css:b,sx:w?void 0:A,children:m})]})},H=e=>{var t;let{node:n,children:i}=e,r=(null==(t=n.attrs)?void 0:t.variantKey)==="iconsText";return(0,a.jsx)(R.r,{rowGap:"1.5em",columnGap:"1.5em",columns:r?4:3,children:i})};var B=n(48810);let V="0.25em",W=e=>{let{node:t}=e;return(0,a.jsx)(h.s,{className:"thumbnail-node-".concat(t.type),bg:"var(--main-color)",h:"1.25em"})},U=e=>{let{isFunnel:t=!1,children:n}=e;return(0,a.jsx)(R.r,{columns:1,autoRows:"1fr",gap:V,pos:"relative",mx:"auto",w:"min(100%, calc((var(--card-template-width) * 0.5) / ".concat(.375,"))"),clipPath:t?"polygon(50% 100%, 0 0, 100% 0)":"polygon(50% 0%, 0% 100%, 100% 100%)",children:n})},G=(e,t)=>Math.floor(33+67/(t-1)*e),K={bullets:{Cell:e=>{let{node:t,children:n}=e;return(0,a.jsxs)(h.s,{className:"thumbnail-node-".concat(t.type),pos:"relative",align:"flex-start",gap:"1em",flex:"1 1 auto",w:"calc(".concat(50,"% - ").concat("1em",")"),children:[(0,a.jsx)(T,{}),(0,a.jsx)(c,{flex:"1",children:n})]})},Wrapper:e=>{let{children:t}=e;return(0,a.jsx)(h.s,{gap:"1em",wrap:"wrap",children:t})}},timeline:{Cell:e=>{var t,n;let{node:r,parent:l,children:o}=e,s=(null==l||null==(n=l.attrs)||null==(t=n.options)?void 0:t.orientation)==="horizontal",d="".concat(2,"em");return(0,a.jsxs)(h.s,{className:"thumbnail-node-".concat(r.type),pos:"relative",...s?{gridColumn:"span 2",gridRow:3,align:"flex-start",justify:"center",pt:d}:{gridRow:"span 2",gridColumn:3,align:"flex-start",pl:d},orientation:"horizontal",align:"start",children:[(0,a.jsx)(T,{pos:"absolute",...s?{top:0,transform:"translateY(-50%)"}:{left:0,transform:"translateX(-50%)"},children:(0,a.jsx)(i.a,{position:"absolute",zIndex:"-1",bg:"var(--main-color)",...s?{height:"".concat(1,"em"),width:"var(--border-width)",left:"50%",top:"100%",transform:"translateX(-50%)"}:{width:"".concat(1,"em"),height:"var(--border-width)",top:"50%",transform:"translateY(-50%)",left:"100%"}})}),(0,a.jsx)(c,{flex:"1",children:o})]})},Wrapper:e=>{var t,n;let{children:r,node:l}=e,o=(null==(n=l.attrs)||null==(t=n.options)?void 0:t.orientation)==="horizontal",s=o?(0,a.jsx)(i.a,{gridRow:2,gridColumn:1,children:(0,a.jsx)(i.a,{position:"absolute",height:"var(--border-width)",width:"100%",left:"0",right:"0",bg:"var(--main-color)"})}):(0,a.jsx)(g.o,{gridColumn:2,gridRow:1,children:(0,a.jsx)(i.a,{position:"absolute",width:"var(--border-width)",top:"0",bottom:"0",bg:"var(--main-color)"})});return(0,a.jsxs)(S.x,{...o?{templateRows:"auto 0px auto",autoColumns:"1fr",justifyContent:"center",columnGap:"1em",mt:"var(--bullet-size)"}:{templateColumns:"0px 0px 1fr",autoRows:"auto",justifyContent:"center",rowGap:"1em",ml:"var(--bullet-size)"},pos:"relative","data-testid":"timeline-thumbnail",children:[s,r]})}},imagesText:{Cell:F,Wrapper:H},textBoxes:{Cell:e=>{var t,n;let{node:i,parent:r,children:l}=e,o=D((null==r||null==(n=r.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)||"center");return(0,a.jsx)(p,{className:"thumbnail-node-".concat(i.type),bg:"var(--box-background-color)",p:"var(--box-padding)",css:o,children:l})},Wrapper:e=>{let{children:t}=e;return(0,a.jsx)(h.s,{gap:"var(--block-spacing)",children:t})}},stats:{Cell:e=>{var t,n,i;let{children:r,node:l,parent:o}=e,s=D((null==o||null==(n=o.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)||"center");return(0,a.jsxs)(c,{className:"thumbnail-node-".concat(l.type),align:"center",justify:"start",children:[(0,a.jsx)(B.E,{color:"var(--accent-color)",fontSize:"1.5em",children:(null==(i=l.attrs)?void 0:i.label)||"X%"}),(0,a.jsx)(c,{w:"100%",css:s,children:r})]})},Wrapper:e=>{let{children:t,parent:n}=e,i=(null==n?void 0:n.type)==="gridCell"?1:3;return(0,a.jsx)(R.r,{columns:i,columnGap:"1.5em",rowGap:"1.5em",children:t})}},barStats:{Cell:e=>{var t,n,r;let{node:l,parent:o,children:s}=e,d=(0,_.dD)({label:(null==(t=l.attrs)?void 0:t.label)||null}),u=D((null==o||null==(r=o.attrs)||null==(n=r.options)?void 0:n.horizontalAlign)||"center");return(0,a.jsxs)(c,{className:"thumbnail-node-".concat(l.type),align:"center",justify:"start",children:[(0,a.jsxs)(c,{borderRadius:"calc(var(--box-border-radius) / 2)",overflow:"hidden",orientation:"horizontal",flex:1,w:"100%",bg:"var(--main-color)",children:[(0,a.jsx)(i.a,{w:"100%",bg:"var(--accent-color)",pos:"relative",h:"1.25em",children:(0,a.jsx)(i.a,{pos:"absolute",inset:0})}),(0,a.jsx)(i.a,{w:"".concat(100*d,"%"),pos:"relative"})]}),(0,a.jsx)(c,{w:"100%",css:u,children:s})]})},Wrapper:e=>{let{children:t,parent:n}=e,i=(null==n?void 0:n.type)==="gridCell"?1:2;return(0,a.jsx)(R.r,{columns:i,columnGap:"1.5em",rowGap:"1em",children:t})}},staircase:{Cell:e=>{var t,n;let{node:i,parent:r,index:l}=e,o=G(l,null!=(n=null==r||null==(t=r.content)?void 0:t.length)?n:1);return(0,a.jsx)(h.s,{className:"thumbnail-node-".concat(i.type),borderRadius:"2px",bg:"var(--main-color)",h:"1.25em",w:"".concat(o,"%")})},Wrapper:e=>{var t,n,i;let{node:r,children:l}=e,o=null!=(i=null==r||null==(n=r.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)?i:"center",s=(0,L.lI)(o);return(0,a.jsx)(c,{align:s,gap:V,mx:"auto",w:"min(100%, calc((var(--card-template-width) * 0.5) / ".concat(.375,"))"),children:l})}},pyramid:{Cell:W,Wrapper:U},funnel:{Cell:e=>(0,a.jsx)(W,{...e}),Wrapper:e=>{let{children:t,...n}=e;return(0,a.jsx)(U,{isFunnel:!0,...n,children:t})}},circleStats:{Cell:e=>{var t,n,r,l;let{node:o,parent:s,children:d}=e,u=(0,L.lI)((null==s||null==(n=s.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)||"center"),p=(0,_.dD)({label:null!=(l=null==(r=o.attrs)?void 0:r.label)?l:"50"});return(0,a.jsxs)(h.s,{className:"thumbnail-node-".concat(o.type),gap:"var(--block-spacing)",flexDirection:"column",children:[(0,a.jsx)(i.a,{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",w:"80%",alignSelf:"center",aspectRatio:"1 / 1",_before:{content:'""',position:"absolute",top:"0",left:"0",right:"0",bottom:"0",borderRadius:"50%",background:"conic-gradient(var(--accent-color) ".concat(100*p,"%, var(--main-color) 0 ").concat((100-p)*100,"%)"),zIndex:1},_after:{content:'""',position:"absolute",top:N,left:N,right:N,bottom:N,background:"var(--card-background)",borderRadius:"50%",zIndex:2},children:(0,a.jsx)(i.a,{zIndex:"100",bg:"var(--main-color)",h:"0.5em",pos:"absolute",borderRadius:"var(--text-border-radius)",w:"40%"})}),(0,a.jsx)(c,{css:u,children:d})]})},Wrapper:e=>{let{children:t}=e;return(0,a.jsx)(R.r,{gap:"1.5em",columns:3,children:t})}},arrows:{Cell:e=>{var t,n,r,l;let{node:o,parent:s,children:d}=e,u=D((null==s||null==(n=s.attrs)||null==(t=n.options)?void 0:t.horizontalAlign)||"left"),p=(null==s||null==(l=s.attrs)||null==(r=l.options)?void 0:r.orientation)==="vertical";return(0,a.jsxs)(h.s,{className:"thumbnail-node-".concat(o.type),gap:"var(--block-spacing)",flexDirection:p?"row":"column",children:[(0,a.jsx)(i.a,{width:p?"1.5em":"100%",height:p?"100%":"1.25em",bg:"var(--accent-color)",clipPath:p?"polygon(50% 10%, 100% 0, 100% 90%, 50% 100%, 0 90%, 0% 0%)":"polygon(90% 0, 100% 50%, 90% 100%, 0% 100%, 10% 50%, 0% 0%)"}),(0,a.jsx)(c,{flex:1,css:u,p:"0.5em",px:p?0:"0.5em",pt:p?void 0:0,children:d})]})},Wrapper:e=>{var t,n;let{node:i,children:r}=e,l=(null==(n=i.attrs)||null==(t=n.options)?void 0:t.orientation)==="vertical";return(0,a.jsx)(R.r,{columns:l?1:3,rowGap:l?void 0:"1.5em",children:r})}},iconsText:{Cell:F,Wrapper:H}},Q=e=>{let{children:t}=e;return(0,a.jsx)(p,{p:"var(--box-padding)",bg:"var(--box-background-color)",w:"100%",children:t})},Z=e=>{let{children:t}=e;return(0,a.jsx)(p,{p:"var(--box-padding)",bg:"var(--box-background-color)",w:"100%",children:t})},q={nodes:{card:{type:"card",component:e=>{let{depth:t,...n}=e;return t>2?(0,a.jsx)(a.Fragment,{}):t>1?(0,a.jsx)(j,{...n,isCollapsed:!0}):(0,a.jsx)(j,{...n})}},cardLayoutItem:{type:"cardLayoutItem",component:y},cardAccentLayoutItem:{type:"cardAccentLayoutItem",component:y},title:{type:"title",component:e=>{let{node:t}=e;return(0,a.jsx)(i.a,{className:"thumbnail-node-".concat(t.type),w:"50%",bg:"var(--main-color)",h:"".concat((0,I.o)("title").size/2,"em"),borderRadius:"var(--text-border-radius)"})}},paragraph:{type:"paragraph",component:e=>{let{node:t}=e;return(0,a.jsxs)(s.B,{className:"thumbnail-node-".concat(t.type),"data-testid":"paragraph-thumbnail",spacing:"var(--line-spacing)",align:"var(--flex-align)",children:[(0,a.jsx)(u,{}),(0,a.jsx)(u,{}),(0,a.jsx)(u,{w:"85%"})]})}},heading:{type:"heading",component:e=>{var t;let{node:n}=e;return(0,a.jsx)(i.a,{className:"thumbnail-node-".concat(n.type),"data-testid":"heading-thumbnail",bg:"var(--main-color)",h:"".concat((0,I.o)((0,I.bZ)(null==(t=n.attrs)?void 0:t.level)).size/2,"em"),borderRadius:"var(--text-border-radius)"})}},bullet:{type:"bullet",component:e=>{let{node:t}=e;return(0,a.jsxs)(c,{className:"thumbnail-node-".concat(t.type),orientation:"horizontal",align:"start",pl:"0.5em",color:"var(--main-color)",children:[(0,a.jsx)(o.j,{size:"var(--block-spacing)",bg:"var(--main-color)"}),(0,a.jsx)(c,{orientation:"horizontal",flex:"1",children:(0,a.jsx)(u,{w:"75%"})})]})}},gridLayout:{type:"gridLayout",component:e=>{var t,n;let{node:i,children:r}=e;return(0,a.jsx)(S.x,{className:"thumbnail-node-".concat(i.type),templateColumns:"repeat(".concat((null==(n=i.attrs)||null==(t=n.colWidths)?void 0:t.length)||2,", 1fr)"),gap:"var(--block-spacing)",children:r})}},gridCell:{type:"gridCell",component:e=>{var t;let{node:n,children:i}=e,r=null==(t=n.attrs)?void 0:t.verticalAlign;return(0,a.jsx)(c,{className:"thumbnail-node-".concat(n.type),justifyContent:r,flex:1,children:i})}},image:{type:"image",component:e=>{let{node:t}=e;return(0,a.jsx)(f,{className:"thumbnail-node-".concat(t.type)})}},mediaPlaceholder:{type:"mediaPlaceholder",component:e=>{var t;let{node:n}=e,i=n.attrs,r=null==i?void 0:i.source,l=r&&(null==(t=E.Dc[r])?void 0:t.icon)||null;return(0,a.jsx)(f,{className:"thumbnail-node-".concat(n.type),icon:l?(0,a.jsx)(x.g,{icon:l,size:"2x"}):void 0})}},buttonGroup:{type:"buttonGroup",component:e=>{let{node:t,children:n}=e;return(0,a.jsx)(c,{className:"thumbnail-node-".concat(t.type),orientation:"horizontal",children:n})}},button:{type:"button",component:e=>{var t;let{node:n}=e,i=(null==(t=n.attrs)?void 0:t.variant)||"solid";return(0,a.jsx)(p,{className:"thumbnail-node-".concat(n.type),minH:"1.5em",w:"25%",style:i})}},gallery:{type:"gallery",component:e=>{let{node:t}=e;return(0,a.jsxs)(p,{className:"thumbnail-node-".concat(t.type),display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",bg:"var(--box-background-color)",p:"0.5em",children:[(0,a.jsx)(f,{flex:2,minH:"3.5em",bg:"var(--main-color)",iconSize:"xl"}),(0,a.jsx)(f,{flex:1,minH:"3.5em",bg:"var(--main-color)",iconSize:"xl"}),(0,a.jsx)(f,{flex:2,minH:"3.5em",bg:"var(--main-color)",iconSize:"xl"})]})}},toggle:{type:"toggle",component:e=>{let{node:t,children:n}=e;return(0,a.jsx)(i.a,{className:"thumbnail-node-".concat(t.type),pl:"0.5em","data-open":"false",sx:{'&[data-open="false"]':{"> :not(:first-of-type)":{display:"none"}}},children:n})}},toggleSummary:{type:"toggleSummary",component:e=>{let{node:t}=e;return(0,a.jsxs)(c,{className:"thumbnail-node-".concat(t.type),orientation:"horizontal",color:"var(--main-color)",maxH:"1em",children:[(0,a.jsx)(x.g,{icon:z.fU5,size:"xl"}),(0,a.jsx)(u,{w:"75%"})]})}},smartLayout:{type:"smartLayout",component:e=>{var t,n;let{node:i,children:r,...l}=e,o=Z;if(null==(t=i.attrs)?void 0:t.variantKey){let e=null==(n=K[i.attrs.variantKey])?void 0:n.Wrapper;e&&(o=e)}return(0,a.jsx)(S.x,{className:"thumbnail-node-".concat(i.type),gridTemplateColumns:"100%",children:(0,a.jsx)(o,{node:i,...l,children:r})})}},smartLayoutCell:{type:"smartLayoutCell",component:e=>{var t,n;let{children:i,parent:r,...l}=e,o=Q;if(r&&(null==(t=r.attrs)?void 0:t.variantKey)){let e=null==(n=K[r.attrs.variantKey])?void 0:n.Cell;e&&(o=e)}return(0,a.jsx)(o,{parent:r,...l,children:i})}},diagram:{type:"diagram",component:e=>{let{node:t}=e;return(0,a.jsx)(f,{className:"thumbnail-node-".concat(t.type),icon:(0,a.jsx)(x.g,{icon:m.qTS,size:"2x"})})}},chart:{type:"chart",component:e=>{var t;let{node:n}=e;return(0,a.jsx)(f,{className:"thumbnail-node-".concat(n.type),icon:(0,a.jsx)(x.g,{icon:k[(null==(t=n.attrs)?void 0:t.chartType)||"bar"],size:"2x"})})}},table:{type:"table",component:e=>{let{node:t,children:n}=e;return(0,a.jsx)(i.a,{flex:1,className:"thumbnail-node-".concat(t.type),bg:"var(--box-background-color)",borderRadius:"var(--text-border-radius)",p:"0.25em",children:(0,a.jsx)(i.a,{border:"1px solid var(--main-color)",borderRadius:"var(--text-border-radius)",children:n})})}},tableRow:{type:"tableRow",component:e=>{let{node:t,children:n}=e;return(0,a.jsx)(h.s,{className:"thumbnail-node-".concat(t.type),borderBottom:"1px solid var(--main-color)",sx:{"&:last-of-type  ":{borderBottom:"none"}},children:n})}},tableCell:{type:"tableCell",component:e=>{let{node:t}=e;return(0,a.jsx)(i.a,{flex:1,className:"thumbnail-node-".concat(t.type),height:"1em",borderRight:"1px solid var(--main-color)",sx:{"&:last-of-type":{borderRight:"none"}}})}}}},J={md:"6em",lg:"8em"},$={md:"4em",lg:"5em"},Y=e=>{let{content:t,isDark:n,size:r="md",...o}=e;return(0,a.jsx)(i.a,{css:{"--box-background-color":n?"var(--chakra-colors-gray-600)":"var(--chakra-colors-gray-50)","--main-color":n?"var(--chakra-colors-gray-500)":"var(--chakra-colors-gray-200)","--accent-color":n?"var(--chakra-colors-gray-300)":"var(--chakra-colors-gray-400)","--box-border-radius":"0.5em","--box-padding":"0.75em","--text-border-radius":"0.25em","--block-spacing":"0.75em","--bullet-size":"1em","--line-spacing":"calc(1 / 3 * 1em)","--paragraph-height":"0.5em","--border-width":"0.25em","--card-template-width":J[r],"--card-template-min-height":$[r],"--card-background":n?"var(--chakra-colors-gray-600)":"white"},bg:"var(--card-background)",h:"auto",...o,children:l(q,t)})}},9893:(e,t,n)=>{"use strict";n.d(t,{N:()=>G});var a=n(22905),i=n(70787),r=n(94289),l=n(63867),o=n(15342),s=n(76083),d=n(71753),c=n(43634),u=n(15607),p=n(22529),h=n(28615),g=n(65674),m=n(38194),x=n(38934),f=n(66079),b=n(50861),v=n(64811),y=n(19546);let w=e=>new l.k_({key:new l.hs("handleCmdClickLink"),props:{handleDOMEvents:{click:(t,n)=>{var a;let i=(0,o.KA)(),r=(0,c.nD)(i.getState()),l=null==(a=n.target)?void 0:a.closest("a"),s=null==l?void 0:l.href;if(!s||(null==l?void 0:l.closest("[data-comments-wrapper]")))return!1;n.preventDefault();let d=n.ctrlKey||n.metaKey,p=(0,u.Ww)(s),h=(0,c.bO)(i.getState()),g=(0,u.Cf)(s,h);if(r){if(!d)return!1;if(g)return(0,y.T)(e,n,p),!1}else if(!d&&g)return(0,y.T)(e,n,p),!1;return window.open(s,"_blank"),!1}}}}),C=new l.hs("linkKeyboardNav"),A=()=>new l.k_({key:C,props:{handleKeyDown(e,t){let n,a;if("ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return!1;let{state:i}=e,{selection:r}=i;if(!(r instanceof l.U3))return!1;let o="ArrowLeft"===t.key?-1:1,s=t.metaKey||t.ctrlKey,d=t.shiftKey,c=t.altKey,u=i.schema.marks.link,p=r.head,h=j(i,p,u),g=j(i,p-o,u),m=j(i,p+o,u);if(!(h||g||m))return!1;if(s)n=function(e,t,n){let a=e.resolve(t);return n>0?a.end(a.depth):a.start(a.depth)}(i.doc,p,o);else if(c){let e="ArrowLeft"===t.key?p-1:p+1,a=function(e,t,n){let a=e.resolve(t).marks().find(e=>e.type===n);if(!a)return null;let i=t-1,r=t+1;for(let r=t-1;r>=0;r--)try{if(!e.resolve(r).marks().some(e=>e.type===n&&e.eq(a))){i=r;break}0===r&&(i=0)}catch(e){break}for(let i=t;i<=e.content.size;i++)try{if(!e.resolve(i).marks().some(e=>e.type===n&&e.eq(a))){r=i;break}i===e.content.size&&(r=e.content.size)}catch(e){r=i;break}return{from:i,to:r}}(i.doc,e,u);if(!a)return!1;n="ArrowLeft"===t.key?a.from:a.to}else n=p+o;return n=Math.max(0,Math.min(n,i.doc.content.size)),a=d?l.U3.create(i.doc,r.anchor,n):l.U3.create(i.doc,n),e.dispatch(i.tr.setSelection(a).scrollIntoView()),!0}}});function j(e,t,n){if(t<0||t>e.doc.content.size)return!1;let a=e.doc.resolve(t);return!!n.isInSet(a.marks())}var k=n(6029),S=n(26420),I=n(48810),E=n(12514),R=n(36062),L=n(19564),D=n(18833),M=n(42328),_=n(55729),T=n(91938),N=n(92739),z=n(48932),P=n(63902),O=n(41896),F=n(29608),H=n(11403),B=n(42276);let V=(0,D.P)(S.a),W=e=>{let{node:t,children:n}=e,{href:a,meta:i}=t.attrs,r=(0,P.oR)(),{linkUrl:l,handleClick:o}=(0,z.c)({url:a||""}),{interceptLinkClick:s,linkUrlSafe:d,isUntrusted:c,linkInterceptEnabled:u}=(0,N.i)(l),p=(0,_.useCallback)(e=>{if(null==o||o(e),u)return s(e)},[o,s,u]),{popperRef:h,referenceRef:g,isHovering:m,onMouseOver:x,onMouseOut:f,getPopperProps:b}=(0,H.bf)({disabled:(0,F.mG)()}),v=!r&&!T.$.GAMMA_CYPRESS_TEST&&(0,F.H8)();return(0,k.jsxs)(O.VR,{as:"span",children:[c?(0,k.jsx)(I.E,{as:"span",textDecoration:"underline",color:"gray.500",children:(0,k.jsx)(L.x6,{id:"b7jHrl"})}):(0,k.jsxs)(I.E,{as:"a",className:"link",rel:"noopener nofollow",href:u?d||"":l,onClick:p,onMouseOver:x,onMouseOut:f,ref:g,children:[v&&(0,k.jsx)("span",{contentEditable:!1,children:"​"}),r?n:(0,k.jsx)(O.$p,{as:"span"}),v&&(0,k.jsx)("span",{contentEditable:!1,children:"​"})]}),!1===r&&m&&l&&i?(0,k.jsx)(E.Z,{children:(0,k.jsx)(M.N,{children:(0,k.jsx)(V,{position:"relative",zIndex:"popover",ref:h,onMouseOver:x,onMouseOut:f,className:"link-preview-hover",...b(),...H._w,w:"min(500px, 80vw)",minW:"auto !important",children:(0,k.jsxs)(R.Q,{backgroundColor:"white",border:"1px solid",borderColor:"gray.200",shadow:"lg",borderRadius:"lg",_hover:{backgroundColor:"trueblue.50"},children:[(0,k.jsx)(B.Ch,{node:t}),(0,k.jsx)(R.r,{href:l,target:"_blank",rel:"noopener nofollow",onClick:p})]})})})}):null]})};var U=n(37327);let G=i.Ay.extend({priority:x.y.Link,inclusive:!1,excludes:"underline footnoteLabel link",addAttributes:()=>({href:{default:""},source:{},thumbnail:{...(0,u.tb)("thumbnail")},embed:{...(0,u.tb)("embed")},meta:{...(0,u.tb)("meta")}}),onCreate(){let e=(0,o.KA)().getState(),t=(0,c.nD)(e),n=(0,p.mB)(e);if(!(t&&n))return;let{view:a,state:i}=this.editor,{doc:r,schema:l,tr:s}=i;try{let e=!1;(0,d.Zo)(r,l.marks.link).forEach(t=>{let{node:n,pos:a}=t,i=n.marks.find(e=>"link"===e.type.name);i&&"string"!=typeof i.attrs.href&&(e=!0,s.removeMark(a,a+n.nodeSize,i).addMark(a,a+n.nodeSize,l.marks.link.create({...i.attrs,href:String(i.attrs.href)})))}),e&&a.dispatch(s)}catch(e){console.error("[Link.onCreate] error",e)}},renderHTML(e){var t;let{HTMLAttributes:n}=e;return"string"==typeof n.href&&(null==(t=n.href)?void 0:t.startsWith("javascript:"))?["a",(0,a.KV)(this.options.HTMLAttributes,{...n,href:""}),0]:n.href?["a",(0,a.KV)(this.options.HTMLAttributes,n),0]:["a",(0,a.KV)(this.options.HTMLAttributes,{...n,href:null}),0]},renderHTMLforAI(e){let{mark:t,disableBookmarks:n}=e,a=t.attrs.href;return n?["a",{href:t.attrs.href},0]:["a",{bookmark:(0,m.vL)(t),href:a},0]},parseHTML:()=>[{tag:'a[href]:not([href *= "javascript:" i])'},{tag:"a[bookmark]",getAttrs:m.Ll}],addCommands(){var e;return{...null==(e=this.parent)?void 0:e.call(this),convertLinkToMedia:e=>t=>{let{chain:n,editor:a}=t,{href:i,...r}=a.getAttributes("link");if(!i||(0,U.hc)(i))return!1;if(!r.source)return n().extendMarkRange("link").insertEmbedAndFetchMetadata(i,e,!1).run(),!0;let l=f.Fn[r.source],o=(null==l?void 0:l.nodeName)||"embed";return n().extendMarkRange("link").insertContent({type:o,attrs:{...r,sourceUrl:i,url:i,displayStyle:e}}).selectInsertedNode().run(),!0},convertMediaToLink:()=>e=>{let{state:t,chain:n}=e;if(!(t.selection instanceof l.nh))return!1;let{from:a,to:i,node:r}=t.selection;if(!(0,b._Y)(r))return!1;let{sourceUrl:o,meta:s}=r.attrs,d=(null==s?void 0:s.title)||o||"link",c={from:a+1,to:a+1+d.length};return n().insertContentAt({from:a,to:i},[{type:"paragraph",attrs:{},content:[{type:"text",text:d}]}],{updateSelection:!0}).setTextSelection(c).setMark(G.name,{...r.attrs,href:o}).run(),!0},convertLinkToButton:()=>e=>{let{editor:t,chain:n}=e,{href:a=""}=t.getAttributes("link");return n().extendMarkRange("link").deleteSelection().insertContentAndSelect((0,s.GO)().buttonGroup).updateAttributes("button",{href:a}).run(),!0},convertButtonToLink:()=>e=>{let{chain:t,state:n,editor:i}=e,{selection:l}=n,o=(0,a.KP)(e=>"button"===e.type.name)(l),s=(0,a.KP)(e=>"buttonGroup"===e.type.name)(l);if(!s||!o)return!1;let{node:d,pos:c}=o,{node:u,pos:p}=s;if(!d)return!1;let h={type:"paragraph",content:d.content.toJSON()},g=u.maybeChild(0)===d,m=g?p:c,x=m+(g?1:2),f=x+r.bP.fromJSON(i.schema,h).content.size,b=t();return 1===u.childCount?b.deleteNode("buttonGroup"):b.deleteNode("button"),b.insertContentAt(m,h,{updateSelection:!1}).setTextSelection({from:x,to:f}).setMark(G.name,{href:d.attrs.href}).focus().run(),!0},convertButtonToMedia:e=>t=>{let{chain:n,state:i}=t,{selection:r}=i,l=(0,a.KP)(e=>"button"===e.type.name)(r),o=(0,a.KP)(e=>"buttonGroup"===e.type.name)(r);if(!l||!o)return!1;let{node:s,pos:d}=l,{node:c,pos:u}=o;if(!s||!c)return!1;let{href:p}=s.attrs;if(!p||(0,U.hc)(p))return!1;if(c.maybeChild(0)===s){let t=[];c.forEach(e=>{"button"===e.type.name&&e!==s&&t.push(e.toJSON())});let a=n();a.setNodeSelection(u).deleteNode("buttonGroup").insertEmbedAndFetchMetadata(p,e,!1),1!==c.childCount&&t.length>0&&a.insertContentAt(u+1,{type:"buttonGroup",content:t},{updateSelection:!1}),a.focus().run()}else n().setNodeSelection(d).insertEmbedAndFetchMetadata(p,e,!1).selectInsertedNode().focus().run();return!0},convertMediaToButton:()=>e=>{let{chain:t,state:n}=e;if(!(n.selection instanceof l.nh))return!1;let{node:a}=n.selection;if(!(0,b._Y)(a))return!1;let{sourceUrl:i=""}=a.attrs;return t().deleteSelection().insertContentAt(n.selection.from,(0,s.GO)().buttonGroup).updateAttributes("button",{href:i}).focus().run(),!0},updateSurroundingLink:e=>t=>{let{state:n,chain:a,editor:i}=t,{from:r,to:l}=n.selection;return(0,U.uI)(e,i),a().extendMarkRange(G.name).unsetMark(G.name).setMark(G.name,{href:e}).setMeta("preventAutolink",!0).setTextSelection({from:r,to:l}),!0},removeSurroundingLink:()=>e=>{let{state:t,chain:n}=e,{from:a,to:i}=t.selection;return n().extendMarkRange("link").unsetMark("link").setMeta("preventAutolink",!0).setTextSelection({from:a,to:i}).focus(),!0}}},addKeyboardShortcuts(){return{"Mod-k":e=>{let{editor:t}=e,{selection:n}=t.state;return!n.empty&&t.commands.toggleMark(this.name)}}},addProseMirrorPlugins(){var e;let t=(null==(e=this.parent)?void 0:e.call(this))||[];return h.D1||t.push((0,g.f)(this,W)),t.push(w(this.editor)),t.push(A()),t}}).configure({HTMLAttributes:{target:void 0,rel:"noopener noreferrer",class:"link"},validate:U.KB,protocols:v.r,linkOnPaste:!1})},10139:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AI_LOCALES=t.AI_LOCALE_KEYS=void 0,t.AI_LOCALE_KEYS=["en","en-gb","en-in","es","es-es","es-mx","es-419","ca","fr","zh-cn","zh-tw","ko","ja","ja-da","pt-br","pt-pt","de","it","ru","pl","uk","ro","hu","cs","el","tr","ar","ar-sa","he","fa","nl","sv","da","nb","fi","id","vi","hi","gu","mr","te","bn","ta","ur","kn","ml","th","sr","hr","sq","bg","sl","bs","mk","sw","ha","yo","tl","ms","kk","uz","af","lv","lt","et","is","cy"],t.AI_LOCALES={en:{englishName:"English (US)"},"en-gb":{englishName:"English (UK)"},"en-in":{englishName:"English (India)"},es:{englishName:"Spanish"},"es-es":{englishName:"Spanish (Spain)"},"es-mx":{englishName:"Spanish (Mexico)"},"es-419":{englishName:"Spanish (Latin America)"},ca:{englishName:"Catalan"},fr:{englishName:"French"},"zh-cn":{englishName:"Simplified Chinese"},"zh-tw":{englishName:"Traditional Chinese"},ko:{englishName:"Korean"},ja:{englishName:"Japanese (です/ます style)"},"ja-da":{englishName:"Japanese (だ/である style)"},"pt-br":{englishName:"Portuguese (Brazil)"},"pt-pt":{englishName:"Portuguese (Portugal)"},de:{englishName:"German"},it:{englishName:"Italian"},ru:{englishName:"Russian"},pl:{englishName:"Polish"},uk:{englishName:"Ukrainian"},ro:{englishName:"Romanian"},hu:{englishName:"Hungarian"},cs:{englishName:"Czech"},el:{englishName:"Greek"},tr:{englishName:"Turkish"},ar:{englishName:"Arabic"},"ar-sa":{englishName:"Arabic (Saudi Arabia)"},he:{englishName:"Hebrew"},fa:{englishName:"Persian"},nl:{englishName:"Dutch"},sv:{englishName:"Swedish"},da:{englishName:"Danish"},nb:{englishName:"Norwegian"},fi:{englishName:"Finnish"},id:{englishName:"Indonesian"},vi:{englishName:"Vietnamese"},hi:{englishName:"Hindi"},gu:{englishName:"Gujarati"},mr:{englishName:"Marathi"},te:{englishName:"Telugu"},bn:{englishName:"Bengali"},ta:{englishName:"Tamil"},ur:{englishName:"Urdu"},kn:{englishName:"Kannada"},ml:{englishName:"Malayalam"},th:{englishName:"Thai"},sr:{englishName:"Serbian"},hr:{englishName:"Croatian"},sq:{englishName:"Albanian"},bg:{englishName:"Bulgarian"},sl:{englishName:"Slovenian"},bs:{englishName:"Bosnian"},mk:{englishName:"Macedonian"},sw:{englishName:"Swahili"},ha:{englishName:"Hausa"},yo:{englishName:"Yoruba"},tl:{englishName:"Tagalog"},ms:{englishName:"Malay"},kk:{englishName:"Kazakh"},uz:{englishName:"Uzbek"},af:{englishName:"Afrikaans"},lv:{englishName:"Latvian"},lt:{englishName:"Lithuanian"},et:{englishName:"Estonian"},is:{englishName:"Icelandic"},cy:{englishName:"Welsh"}}},11215:(e,t,n)=>{"use strict";n.d(t,{KF:()=>m,P3:()=>g,WP:()=>h});var a=n(13731),i=n.n(a),r=n(29452),l=n.n(r),o=n(76083),s=n(82172),d=n(3298),c=n(90278),u=n(23144);let p=()=>(0,u.aQ)().filter(e=>!e.disabled),h=()=>p().map(e=>{let{key:t,name:n,description:a,icon:i,keywords:r=[],defaultAttrs:s,defaultOptions:u,featureFlag:p,family:h}=e,g={type:"smartLayout",attrs:{variantKey:t,options:u},content:l()(3).map(()=>({type:"smartLayoutCell",content:(0,d.Hg)(),attrs:s}))};return{key:"smartLayout-".concat(t),name:n,keywords:[...r,"layout","smart"],description:a,nodeName:"smartLayout",icon:i,execute:e=>{e.chain().focus().insertContentAndSelect(g).run()},dragStartFn:e=>(0,o.fS)(e,g),dragEndFn:e=>{(0,c.tN)(e,e.state.selection.$from)},featureFlag:p,family:h}}),g=()=>p().map(e=>{let{key:t,name:n,description:a,icon:i,featureFlag:r}=e;return{key:"listToSmartLayout-".concat(t),name:n,icon:i,description:a,group:"list",apply:e=>e.commands.listToSmartLayout(t),checkDisabled:e=>!(0,s.Jx)(e),featureFlag:r}}),m=()=>{let e=i()(h(),"family");return Object.keys(d.Ab).filter(t=>e[t]&&e[t].length>0).map(t=>({subcategory:d.Ab[t].name(),items:e[t]}))}},11230:(e,t,n)=>{"use strict";window.requestIdleCallback=window.requestIdleCallback||function(e){let t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)},"undefined"!=typeof AbortSignal&&("any"in AbortSignal||(AbortSignal.any=function(e){let t=new AbortController,n=e.find(e=>e.aborted);if(n)return t.abort(n.reason),t.signal;let a=e.map(e=>{let n=()=>{t.abort(e.reason),a.forEach(e=>e())};return e.addEventListener("abort",n),()=>e.removeEventListener("abort",n)});return t.signal}),"timeout"in AbortSignal||(AbortSignal.timeout=function(e){let t=new AbortController;return setTimeout(()=>{t.abort(Error("signal timed out"))},e),t.signal})),n(36738)},11235:(e,t,n)=>{"use strict";n.d(t,{f:()=>m});var a=n(15342),i=n(63902),r=n(43607),l=n(43634),o=n(85235),s=n(90010),d=n(86932),c=n(21699),u=n(59824),p=n(16309),h=n(58082),g=n(54604);let m=e=>{var t;let{node:n,decorations:s,editor:m}=e,f=n.attrs,{id:b,previewContent:v}=f,y=(0,r.FX)(),w=(0,i.oR)(),C=m.isThumbnail,A=(0,a.GV)(l.jO),[j,k]=(0,g.E)(b),S=(0,a.GV)(l.mA)?o.w.DOC_PREVIEW:"doc"===j?o.w.DOC_VIEW:o.w.SLIDE_VIEW,I=(0,a.GV)(e=>(0,l.nD)(e,S)),E=S===o.w.SLIDE_VIEW,R=(0,a.GV)(l.eo),L=(0,a.GV)(l.We),D=(0,a.GV)(l.yh),M=(0,a.GV)((0,l.tC)(b)),_=(0,c.Ms)(s),T=(0,a.GV)((0,l.WS)(b)),N=(0,d.A3)(s),{isNested:z,nestedDepth:P,isFirstCard:O,isLastCard:F,inheritContainerWidth:H,displayLayout:B,insideSideLayout:V,cardAccentBackgroundMaskEffect:W,cardAccentBackgroundMaskIntensity:U,hasLayoutItem:G,cardContentType:K,hasNonEmptyCardNotes:Q}=(0,p.tg)(s),{theme:Z,isDark:q}=(0,h.a)(s),{cardDimensions:J,defaultFullBleed:$,defaultContentWidth:Y,presentBackdrop:X=!1,verticalAlign:ee,fontSize:et,scaleContentToFit:en}=x(m),ea=(0,u.iI)(J),ei="default"===f.cardSize?"full"===$:"full"===f.cardSize,er=f.verticalAlign||ee||ea.defaultVerticalAlign,el=E&&!z&&!!ea.aspectRatio&&!X,eo=null!=(t=f.container.width)?t:H;return{hasNonEmptyCardNotes:Q,isCollapsed:T,isEditable:I,isFirstCard:O,isFocused:_,isExpandableSelected:N,isLastCard:F,isLetterboxed:el,isMobileDevice:y,isNested:z,isPresenting:"doc"!==j&&"presentCollapsed"!==j,isPresentingCurrent:"presentCurrent"===j,isPresentingParent:"presentParent"===j,isPresentMode:E,isPublished:w,isStatic:A,isDark:q,isThumbnail:C,mode:S,nestedDepth:P,presentVariant:j,prevPresentVariant:k,previewContent:v,theme:Z,attrs:f,cardId:b,isFullBleed:ei,displayFullBleed:C||!z&&(ei||E&&!X),defaultContentWidth:Y,contentWidth:eo,verticalAlign:er,isWideContent:(null!=eo?eo:Y)==="lg",displayLayout:B,insideSideLayout:V,cardAccentBackgroundMaskEffect:W,cardAccentBackgroundMaskIntensity:U,cardDimensions:ea,cardDimensionsKey:J,showPresentBackdrop:X,hasLayoutItem:G,cardContentType:K,userZoomLevel:R,docZoomLevel:L,fontSize:et,docZoomToFit:D,scaleContentToFit:en,isCommentOpenOnCard:M}},x=e=>{let t=(0,a.GV)(l.Uu);if(e.isStatic)try{return(0,s.lI)(e).settings}catch(e){console.error("[caught] useDocSettings: ".concat(e))}return t}},11324:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});let a=new(n(83747)).b},11618:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var a=n(6029),i=n(26420),r=n(99492),l=n(55597),o=n(48621);let s=(0,n(55729).memo)(e=>{let{isLocked:t,isDark:n=!1}=e;return(0,a.jsxs)(i.a,{as:"span",className:"fa-layers fa-fw",children:[(0,a.jsx)(o.g,{icon:r.CQO}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.g,{icon:l.GEE,color:n?"var(--chakra-colors-gray-800)":"var(--chakra-colors-gray-50)",transform:"shrink-3 right-6 down-6"}),(0,a.jsx)(o.g,{icon:l.DW4,transform:"shrink-8 right-6 down-6"})]})]})});s.displayName="CardLinkIcon"},11916:(e,t,n)=>{"use strict";n.d(t,{Is:()=>j,QH:()=>C,Up:()=>A});var a=n(6029),i=n(46898),r=n(80314),l=n(48810),o=n(24926),s=n(19564),d=n(77650),c=n(55452),u=n(59018),p=n.n(u),h=n(55729),g=n(91938),m=n(15342),x=n(95889),f=n(43634),b=n(29608),v=n(56801);let y=(e,t)=>"".concat(g.$.API_HOST||"","/export/docs/").concat(e,"/").concat(t),w=(e,t)=>"".concat(g.$.API_HOST||"","/share/docs/").concat(e,"/").concat(t),C=async function(e,t,n,a,i,r,l,o){let s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],d=arguments.length>9?arguments[9]:void 0,c=arguments.length>10?arguments[10]:void 0,u=s?w(e,c):y(e,n),p=new AbortController;return setTimeout(()=>p.abort(),6e4),fetch(u,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":g.$.SHARE_TOKEN||""},body:JSON.stringify({docContent:t,fileName:i,cardIds:r,cardRanges:l,isCardExport:a,shareMessage:d,googleOauthToken:"google_slides"===n?o:void 0}),signal:p.signal})},A=e=>{let{doc:t,source:n,editor:u,format:p="pdf",formatLabel:g,fileName:m,cardIds:f,cardRanges:y,socialPost:w=!1,socialPlatform:A,shareMessage:j,interceptFileExport:k}=e,S=(0,i.d)(),I=(0,h.useRef)(null),E=(0,x.st)(),[R,L]=(0,h.useState)(!1);if(w&&!A)throw console.error("Unable to export since no social platform provided for the post"),Error("Unable to share post");let D=(0,h.useCallback)(()=>{I.current=S({id:"export-toast-".concat(t.id,"-").concat(p),isClosable:!1,position:"top",duration:null,status:"loading",colorScheme:"gray",title:w?(0,a.jsx)(s.x6,{id:"jQGAZQ",values:{formatLabel:g}}):(0,a.jsx)(s.x6,{id:"eWt/TT",values:{formatLabel:g}})})},[null==t?void 0:t.id,S,p,g,w]),M=(0,h.useCallback)(()=>{I.current&&S.update(I.current,{status:"loading",colorScheme:"gray",title:w?(0,a.jsx)(s.x6,{id:"iPHeYN"}):(0,a.jsx)(s.x6,{id:"eJOEBy"}),description:(0,a.jsx)(s.x6,{id:"3xBuWT"}),isClosable:!0})},[S,w]),_=(0,h.useCallback)(()=>{I.current&&S.update(I.current,{status:"info",colorScheme:"gray",title:(0,a.jsx)(s.x6,{id:"eJOEBy"}),description:w?(0,a.jsx)(s.x6,{id:"c5plBG"}):"google_slides"===p?(0,a.jsx)(s.x6,{id:"/CtF0l"}):(0,a.jsx)(s.x6,{id:"W4zgCP"}),isClosable:!0})},[S,w,p]),T=(0,h.useCallback)(e=>{if(I.current){let t;t=w?"REVOKED_ACCESS_TOKEN"===e?(0,a.jsx)(s.x6,{id:"zK8Tsy",values:{formatLabel:g}}):(0,a.jsx)(s.x6,{id:"sBE71M",values:{formatLabel:g}}):"INSUFFICIENT_SPACE"===e?(0,a.jsx)(s.x6,{id:"+ope9f",values:{formatLabel:g}}):(0,a.jsx)(s.x6,{id:"walT1X"}),S.update(I.current,{title:t,status:"error",duration:null,isClosable:!0})}},[S,g,w]),N=(0,h.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"download";if(I.current){let i,o;switch(n){case"download":i=d.Ru._({id:"aVmJex",values:{formatLabel:g}}),o=(0,a.jsx)(s.x6,{id:"VkeGn4",components:{0:(0,a.jsx)(r.N,{textDecoration:"underline",target:"_blank",href:e||void 0,onClick:()=>I.current&&S.close(I.current)})}});break;case"social":i=d.Ru._({id:"027pS1",values:{formatLabel:g,0:t.title}}),o=(0,a.jsx)(s.x6,{id:"nManvG",components:{0:(0,a.jsx)(r.N,{textDecoration:"underline",target:"_blank",href:e||void 0,onClick:()=>I.current&&S.close(I.current)})}});break;case"web":i=d.Ru._({id:"eLTtkg"}),o=(0,a.jsx)(s.x6,{id:"8hY871",values:{formatLabel:g},components:{0:(0,a.jsx)(r.N,{textDecoration:"underline",target:"_blank",href:e||void 0})}})}S.update(I.current,{status:"success",title:i,description:(0,a.jsx)(l.E,{children:o}),isClosable:!0})}},[t,g,S]);return{handleExport:(0,h.useCallback)(()=>{let e=null==u?void 0:u.getJSON();L(!0),D();let a=setTimeout(M,3e4);null!=k&&k({format:p,exportWaitWarnTimeout:a,showErrorToast:T,showEmailToast:_,showSuccessToast:N,setExportInProgress:L})||C(t.id,e,p,"card_export_menu"===n,m,f,y,void 0,w,j,A).then(async e=>{var a;if(!e.ok){let t=await e.json();if(console.error("Export failed:",{status:e.status,statusText:e.statusText}),"REVOKED_ACCESS_TOKEN"===t.error)throw new v.P("Posting to LinkedIn failed due to revoked access token",t.error);throw Error("Fetching export failed: ".concat(e.status," ").concat(e.statusText))}let i="linkedin"===A?x.VV.LINKEDIN_POST:"pdf"===p?x.VV.PDF_EXPORTED:"pptx"===p?x.VV.PPTX_EXPORTED:"image"===p?x.VV.PNG_EXPORTED:void 0,r=decodeURIComponent(e.headers.get("x-gamma-download-url")||"")||void 0;if(w&&(r=(await e.json()).url),i&&(null==E||E.track(i,{doc_id:t.id,source:n,device:(0,b.ZI)(),...w&&{postUrl:r}})),N(r,w?"social":"download"),w)return;let l=await e.blob(),o=window.URL.createObjectURL(l),s=document.createElement("a");s.download=decodeURIComponent((null==(a=(e.headers.get("Content-Disposition")||"").split(";").find(e=>e.includes("filename=")))?void 0:a.replace("filename=","").trim())||"".concat(t.id,".").concat(p)),s.href=o,s.style.display="none",document.body.appendChild(s),s.click(),s.remove()}).catch(e=>{"AbortError"===e.name?_():(c.Cp(e,{extra:{docId:t.id,format:p,source:n}}),o.yf.logger.error("[useHandleExport] Error exporting doc",{docId:t.id,format:p,source:n},e),T(null==e?void 0:e.code))}).finally(()=>{L(!1),clearTimeout(a)})},[E,null==t?void 0:t.id,u,n,p,m,k,f,y,j,T,D,M,_,N,A,w]),exportInProgress:R}},j=e=>{let t=(0,m.GV)(f.SJ),n=e.theme||t;return(0,h.useMemo)(()=>{let e=n.fonts?[...n.fonts]:[];return e.length<2&&e.push({id:"Inter",name:"Inter",url:"https://fonts.googleapis.com/css2?family=Inter"}),p()(e).map(e=>{var t;return(null==(t=e.url)?void 0:t.includes("fonts.googleapis.com"))?{name:e.name,url:"https://fonts.google.com/specimen/".concat(e.name)}:{name:e.name}}).filter(e=>!!e)},[n])}},12180:(e,t,n)=>{"use strict";n.d(t,{PH:()=>c,UG:()=>d,XD:()=>h,fA:()=>u,gb:()=>p});var a=n(6029),i=n(2241),r=n(99492),l=n(55597),o=n(48621),s=n(77650);let d=.25*!n(28615).D1,c={top:0,right:0,bottom:0,left:0},u={monochrome:{label:()=>s.Ru._({id:"VvdC4u"})},spin:{label:()=>s.Ru._({id:"0LFzg9"})},complement:{label:()=>s.Ru._({id:"2HDXEj"})},complement2:{label:()=>s.Ru._({id:"XTxqsS"})},alternating:{label:()=>s.Ru._({id:"K+2OGd"})}},p="monochrome",h=Object.freeze({pie:{icon:(0,a.jsx)(o.g,{icon:r.W1p}),selectedIcon:(0,a.jsx)(o.g,{icon:l.W1p}),label:()=>s.Ru._({id:"RT6aCN"})},donut:{icon:(0,a.jsxs)(i.B.span,{className:"fa-layers fa-fw",children:[(0,a.jsx)(o.g,{icon:r.xD0}),(0,a.jsx)(o.g,{icon:r.ZPt})]}),selectedIcon:(0,a.jsxs)(i.B.span,{className:"fa-layers fa-fw",children:[(0,a.jsx)(o.g,{icon:l.xD0}),(0,a.jsx)(o.g,{icon:r.ZPt})]}),label:()=>s.Ru._({id:"Cn5cfQ"})},line:{icon:(0,a.jsx)(o.g,{icon:r.gK3}),selectedIcon:(0,a.jsx)(o.g,{icon:l.gK3}),label:()=>s.Ru._({id:"MZW+2G"})},bar:{icon:(0,a.jsx)(o.g,{icon:r.s67}),selectedIcon:(0,a.jsx)(o.g,{icon:l.s67}),label:()=>s.Ru._({id:"EzalDc"})},"horizontal-bar":{icon:(0,a.jsx)(o.g,{icon:r.Mkm}),selectedIcon:(0,a.jsx)(o.g,{icon:l.Mkm}),label:()=>s.Ru._({id:"CeeoKy"})}})},12258:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a={src:"/_next/static/media/empty-state.1b05b2ca.png",height:374,width:400,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAbFBMVEWBcJMWe74Adr2xtNuzxu0Jdr0Peb4Acr/CvOSHo8+OsOu4xvDisZ70f3c3cbjhfHUGesLOzur/uYJskKqRVWjylI28x+qYpanyzLrlw66fuvDqnJUCeMMnf78AestFlNH/pXbqxrNypMH/0aDe9pQ0AAAAHHRSTlMC/Tr87Vyf/f38/v79etP8xiX8/f6S0vvQvf/+8rlLWgAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEFJREFUeJwFwQcCgCAMBLBTgRYX7tECrv//0QQAxrUDUFq76dIPiPFqNKQMKirReyaQ57qddkJiked7Mzwbc5zO/WPeA3VDv5HzAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:7}},12354:(e,t,n)=>{"use strict";n.d(t,{FQ:()=>q.F,_V:()=>eR,zs:()=>ed.zs,uy:()=>ed.uy,N2:()=>ed.N2,RR:()=>C.R,$k:()=>ed.$k,CU:()=>ed.CU,iZ:()=>ed.iZ,No:()=>ed.No,F8:()=>ed.F8,GP:()=>ed.GP,BS:()=>ed.BS,sI:()=>ed.sI,Zu:()=>ed.Zu,WE:()=>ed.WE});var a=n(22905),i=n(59275),r=n(63867),l=n(29614),o=n(45611),s=n(8327),d=n(15342),c=n(55978),u=n(41896),p=n(15607),h=n(38194),g=n(38934),m=n(46957),x=n(97255);let f=new r.hs("convertToGridLayout"),b=()=>new r.k_({key:f,props:{decorations:e=>{let{doc:t}=e,n=[];return t.descendants((e,t,a)=>{"image"===e.type.name&&"cardLayoutItem"===a.type.name&&n.push(x.NZ.node(t,t+e.nodeSize,{},{isTopLevel:!0}))}),x.zF.create(t,n)}}});var v=n(98088),y=n(50861),w=n(84979),C=n(86364),A=n(6029),j=n(26420),k=n(74676),S=n(48810),I=n(97481),E=n.n(I),R=n(55729),L=n(68301),D=n(59230),M=n(14122),_=n(89703),T=n(43634),N=n(11403),z=n(60908),P=n(84886),O=n(28647),F=n(58082),H=n(24903),B=n(66082),V=n(25600),W=n(14389),U=n(98968),G=n(4522),K=n(45002),Q=n(71093),Z=n(33170),q=n(38636),J=n(66824),$=n(26006),Y=n(45460),X=n(40452),ee=n(19564),et=n(77650),en=n(22115),ea=n(5061),ei=n(78893),er=n(33201),el=n(5872),eo=n(46510),es=n(64056),ed=n(61250),ec=n(99492),eu=n(55597),ep=n(84130),eh=n(35292),eg=n(92137),em=n(90184),ex=n(70015),ef=n(49249),eb=n(83143);let ev=e=>{let{editor:t,node:n,getPos:i}=e,r=(0,a.eL)(t.state.doc.resolve(i()),U.Pb),l=!!r,{resize:o,fullWidthBlock:s,id:d,clickBehavior:c}=n.attrs,{startRemoveBg:u,isRemovingBg:p}=(0,ef.D)({editor:t,id:d}),h=(0,y.gk)(c),{startCrop:g}=(0,J.E)(t),m=(0,R.useCallback)(()=>{t.commands.selectNodeAtPos(i()),p&&C.R.emit("cancelRemoveBg",{id:d}),t.chain().deleteSelectionAndSelectNear().run()},[t,d,p,i]),x=(0,_.f)(),f=(0,R.useCallback)(e=>{t.commands.updateAttributes(eR.name,{clickBehavior:e})},[t]),b=(0,ex.d)({editor:t,node:n,getPos:i,imageSrc:n.attrs.src}),v=(0,L.u)("disableRemoveBackground"),w=(0,eh.l)(n.attrs),{toggleBuddyChatPanel:j,isBuddyChatPanelOpen:k}=(0,eg.n)();return{contextMenuItems:[...b,{divider:!0},{key:"edit-image",label:(0,A.jsx)(ee.x6,{id:"9IrgTy"}),icon:ec.MT7,onClick:()=>{t.view.focus(),x({isOpen:!0})}},...w?[{key:"ask-ai",label:(0,A.jsx)(ee.x6,{id:"vKZEFh"}),icon:eu.p7g,onClick:()=>{k||j(),setTimeout(()=>{ep.W.emit("prefillMessage",{message:""})},200)}}]:[],...v?[]:[{key:"remove-background",label:p?(0,A.jsx)(ee.x6,{id:"RdqLb7"}):(0,A.jsx)(ee.x6,{id:"ylbfBl"}),icon:p?ec.z1G:ec.sAw,rightIcon:p?void 0:(0,A.jsx)(em.G,{type:"removeBackground",ms:2,color:"gray.400"}),disabled:p,onClick:u}],...l?[]:[{key:"crop",label:(0,A.jsx)(ee.x6,{id:"qKx+US"}),icon:ec.K1P,onClick:()=>{t.commands.selectNodeAtPos(i()),g({id:d,clipType:null==o?void 0:o.clipType})}}],...(0,eb.bT)(n)?[{key:"reset-formatting",label:(0,A.jsx)(ee.x6,{id:"5eaf8Z"}),icon:ec.U23,onClick:()=>(0,eb.LQ)(t)}]:[],{divider:!0},{key:"add-comment",label:(0,A.jsx)(ee.x6,{id:"oFsfkI"}),icon:ec.DN2,onClick:()=>{t.commands.selectNodeAtPos(i()),(0,U.wG)(t.state.selection)}},{divider:!0},...l?[]:[{key:"align",label:(0,A.jsx)(ee.x6,{id:"9ms+e0"}),icon:ec.ecg,disabled:s,items:B.gj.map(e=>{let{name:n,key:a,icon:i,checkActive:r,apply:l}=e;return{key:a,icon:r&&r(t)?ec.e68:i,label:n(),onClick:()=>{l&&l(t),s&&t.commands.updateAttributes(eR.name,{fullWidthBlock:!1,resize:{...o,width:null}})}}})}],{key:"click-action",label:(0,A.jsx)(ee.x6,{id:"PWv7TI"}),icon:ec.ii0,items:[{key:"do-nothing",icon:"none"===h?ec.e68:void 0,label:(0,A.jsx)(ee.x6,{id:"gIjBW2"}),onClick:()=>f("none")},{key:"expand",icon:"expand"===h?ec.e68:void 0,label:(0,A.jsx)(ee.x6,{id:"1A3EXy"}),onClick:()=>f("expand")},{key:"new-tab",icon:"newTab"===h?ec.e68:void 0,label:(0,A.jsx)(ee.x6,{id:"Alx2/L"}),onClick:()=>{t.commands.selectNodeAtPos(i()),f("newTab")}}]},...l?[{divider:!0},{key:"edit-gallery",icon:ec.Qyz,label:(0,A.jsx)(ee.x6,{id:"uv9eFb"}),onClick:()=>{t.commands.selectNodeAtPos(r.pos)}}]:[],{divider:!0},{key:"delete",label:(0,A.jsx)(ee.x6,{id:"cnGeoo"}),icon:ec.yLS,onClick:m,color:"red.500"}]}},ey=e=>e.some(e=>e.spec.isTopLevel),ew=(e,t)=>ey((0,er.j5)(e,t)),eC=e=>{let{node:t}=e;return(0,a.BQ)(e)&&(null==t?void 0:t.type.name)==="image"},eA=e=>{let{editor:t,event:n,isCropping:a}=e,i=t.view,{selection:l}=i.state;if(!(l instanceof r.nh)||!t.isEditable)return!1;let{node:o}=l,s=l.from,d=l.to;if(!eC(l))return!1;let c=n.target,u=c.getAttribute("data-media-add-text"),p=ew(t,s);if(!u||!p||a)return!1;let h=(0,es.eq)({view:i,from:s,to:d,node:o}),g=(0,es.Sm)({horizontalAlign:h,eventTarget:c,node:o,editor:t}),m=(0,es.Cn)({eventTarget:c,horizontalAlign:h,nodeSize:o.nodeSize,editor:t}),x=(0,es.I4)({horizontalAlign:h,prevPos:s});return t.chain().insertContentAt({from:s,to:d},g,{updateSelection:!1}).setMeta("annotationEvent",{type:"move",insertPos:x,insertPosRaw:x,pos:s,end:d}).focusMapped(s,m).run(),!1},ej=(0,Y.R)((e,t)=>{let{children:n,resizeableSx:a,alignStyles:i,horizontalAlign:r,decorations:l,editor:o,node:s,isDark:c,isResizing:u,getPos:p}=e,h=s.attrs.id,g=(0,d.GV)((0,ed.iZ)(h)),m=ey(l),x=(0,d.GV)(T.Cl),f=x&&m&&!g&&("right"===r||"center"===r),b=x&&m&&!g&&(!r||"left"===r||"center"===r),[v,y]=(0,R.useState)({side:null,id:null}),{onOpenContextMenu:w,onCloseContextMenu:C,menuProps:k}=(0,ei.$)({editor:o,getPos:p}),{contextMenuItems:S}=ev({editor:o,node:s,getPos:p});return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(X.s,{dir:(0,B.fZ)(l,r),"data-media-node-wrapper":!0,"data-testid":"image-node-wrapper",onContextMenu:w,ref:t,h:"100%",w:"100%",direction:f||b?"row":"column",className:el.S,sx:{...a},onClick:e=>{eA({editor:o,event:e,isCropping:g})},css:{...i,...f||b?{alignItems:"stretch"}:{}},onDragOver:e=>{if(e.preventDefault(),!v){var t;let n=(0,eo.Vk)(o.view,e,null==(t=o.view.dragging)?void 0:t.slice),a=(0,eo.rj)(e.target,o.view),i=null==n?void 0:n.node.attrs.id;n&&a&&i&&(y({side:a,id:i}),setTimeout(()=>{y(null)},5e3))}},onDragEnd:e=>{e.preventDefault(),v&&y(null)},onDragLeave:e=>{e.preventDefault(),y(null)},children:[f&&(0,A.jsx)(j.a,{"data-media-add-side":"left",flex:"1",pos:"relative",css:{containerType:"size"},children:(null==v?void 0:v.side)==="left"&&(null==v?void 0:v.id)===s.attrs.id?(0,A.jsx)(eS,{me:4}):(0,A.jsx)(ek,{side:"left",me:4,isDark:c,isResizing:u})}),n,b&&(0,A.jsx)(j.a,{"data-media-add-side":"right",flex:"1",pos:"relative",css:{containerType:"size"},children:(null==v?void 0:v.side)==="right"&&(null==v?void 0:v.id)===s.attrs.id?(0,A.jsx)(eS,{ms:4}):(0,A.jsx)(ek,{side:"right",ms:4,isDark:c,isResizing:u})})]}),(0,A.jsx)(en.tz,{menuItems:S,isOpen:k.isOpen,position:k.position,onClose:C,size:"small"})]})}),ek=e=>{let{side:t,isDark:n,isResizing:a,...i}=e,r=(0,ea.fW)();return(0,A.jsx)(j.a,{p:2,flex:"1",borderRadius:"lg","data-media-add-text":!0,opacity:0,height:"100%",transitionProperty:"common",transitionDuration:"normal",...i,cursor:"text",css:{"@container (width < 150px)":{display:"none"},"&:after":{position:"absolute",top:0,..."left"===t?{right:"var(--chakra-space-4)"}:{left:"var(--chakra-space-4)"},backgroundColor:n?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.1)",color:n?"var(--chakra-colors-whiteAlpha-700)":"var(--chakra-colors-gray-600)",zIndex:1,borderRadius:"var(--chakra-radii-lg)",content:'"'.concat(et.Ru._({id:"HpUrSQ"}),'"'),textAlign:r?"right":"left",fontSize:"var(--chakra-fontSizes-sm)",padding:"var(--chakra-space-2)",width:"calc(100% - var(--chakra-space-4) - var(--chakra-space-2) - var(--chakra-space-2))",height:"calc(100% - var(--chakra-space-2) - var(--chakra-space-2))"},"&:hover":{opacity:+!a}}})},eS=e=>(0,A.jsx)(j.a,{p:2,flex:"1",height:"100%",borderRadius:"lg",transitionProperty:"common",transitionDuration:"normal",background:"var(--chakra-ring-color)",color:"var(--chakra-colors-whiteAlpha-900)",display:"flex",alignItems:"center",justifyContent:"center",...e,css:{"@container (width < 150px)":{display:"none"}},children:(0,A.jsx)(S.E,{fontSize:"sm",fontWeight:"medium",children:(0,A.jsx)(ee.x6,{id:"Wv5uRs"})})}),eI=e=>{let{...t}=e,n=(0,d.jL)(),{node:a,editor:i,updateAttributes:r,selected:l,decorations:o,getPos:s}=t,{src:c,tempUrl:u,uploadStatus:p,meta:h,showPlaceholder:g,horizontalAlign:m,resize:x,id:f,href:b,clickBehavior:v,source:k}=a.attrs,S=(null==x?void 0:x.width)||(null==h?void 0:h.width),I=(0,z.SV)(c||u),Y=(0,z.y9)(c||u)||(null==h?void 0:h.frame_count)&&h.frame_count>1,X=null==h?void 0:h.has_transparency,{isFullWidth:ee}=(0,O.D)(o),et=(0,B.yp)(ee?"center":m),en=(0,U.NZ)(t),ea=(0,U.ni)(t),ei=(0,U.Im)(t),er=(0,V.DM)(o),el=(0,d.GV)(T.nD),eo=(0,H.Q)(i),{cardColor:es,bodyColor:ec,isDark:eu}=(0,F.a)(t.decorations),ep=p===D.A.Uploading,eh=el?"expand":(0,y.gk)(v),eg="newTab"===eh&&!!b,em=(0,d.GV)(L.Gm),{isZoomed:ex,enterZoom:eb,exitZoom:ev}=(0,Q.RL)(f),{width:ey,height:ew,aspectRatio:eC,containerWrapperRef:eA,imageRef:ek,setSize:eS}=(0,$.j)();(0,R.useEffect)(()=>C.R.on("startCrop",e=>{let{id:t}=e;f===t&&(eS(),requestAnimationFrame(()=>{var e,t;null==(e=(t=i.commands).refreshBubbleMenu)||e.call(t)}))}),[f,eS,i]);let eI=(0,R.useCallback)(e=>{r(E()({},a.attrs,e,{meta:{has_transparency:!0}}))},[r,a.attrs]),{bgRemovalInProgress:eR,removeBgUrl:eL}=(0,ef._)({editor:i,id:a.attrs.id,src:a.attrs.src,updateAttributes:eI}),{ref:eD,isResizing:eM,setIsResizing:e_,resizeableSx:eT}=(0,K.Y3)(i),eN=eD.current&&er&&!en&&!eo,ez=eD.current&&!en&&!eo,eP=(0,R.useCallback)((e,t)=>{r({...a.attrs,fullWidthBlock:void 0===t?a.attrs.fullWidthBlock:t,resize:{...a.attrs.resize,...e}})},[a.attrs,r]),eO=(0,N.jm)(),eF=(0,d.GV)((0,ed.iZ)(f)),{confirmCrop:eH}=(0,J.E)(i);(0,N.Vg)(()=>{if(eF&&!l&&eH({id:f}),!l){var e,t;e_(!1),null==(e=(t=i.commands).forceHideBubbleMenu)||e.call(t,!1)}},[i,n,l,eF,f,eH,e_],[l]);let eB=!eF&&!eM&&!en&&!i.isThumbnail,eV=!i.isThumbnail&&"expand"===eh,eW=(0,R.useCallback)(()=>{eF||eM||eb()},[eb,eF,eM]),eU=(0,_.f)(),eG=(0,R.useMemo)(()=>{if(!en&&el)return()=>{eU({isOpen:!0})}},[en,el,eU]),eK=(0,R.useCallback)(()=>{if(l){var e,t;null==(e=(t=i.commands).refreshBubbleMenu)||e.call(t)}},[l,i]),eQ=eL?{...a.attrs,src:eL,tempUrl:a.attrs.src}:a.attrs,eZ=ei?{height:(0,U.w5)((0,U.IG)(t),(0,U.yL)(t)),padding:"".concat((0,U.yL)(t)/2,"em ").concat((0,U.yL)(t),"em")}:{};return(0,A.jsxs)(P.u,{...t,as:"div",className:el||"none"!==eh?void 0:w.T,style:{height:en?"100%":void 0},children:[(g||!c&&!u)&&(0,A.jsx)(G.VM,{...t}),!g&&(c||u)&&(0,A.jsxs)(ej,{ref:eA,resizeableSx:eT,alignStyles:et,horizontalAlign:m,editor:i,decorations:o,node:a,isDark:eu,isResizing:eM,getPos:s,children:[ez&&eF&&(0,A.jsx)(Z.Ft,{imageWrapperRef:eD,updateResizeAttrs:eP,refreshDeps:[eO],currentWidth:ey,currentHeight:ew,clipPath:null==x?void 0:x.clipPath,clipAspectRatio:null==x?void 0:x.clipAspectRatio,onFinishCrop:()=>{requestAnimationFrame(()=>{var e,t;null==(e=(t=i.commands).refreshBubbleMenu)||e.call(t)})}}),eN&&!eF&&l&&!ee&&(0,A.jsx)(K.u4,{imageWrapperRef:eD,setIsResizing:e_,updateResizeAttrs:eP,refreshDeps:[a.attrs,eO]}),(0,A.jsxs)(j.a,{ref:eD,css:{mask:eF?"":"none !important","--media-maxH":!ep||eM||(null==x?void 0:x.width)||en?void 0:"".concat(100*W.Mg,"vh")},sx:X?void 0:M.z,"data-drag-handle":!0,"data-image-node-element":!0,"data-selection-ring":"inside","data-selection-background":!0,"data-node-image-testid":f,w:en?"100%":S?"calc(".concat(S," * var(--font-size) / 16)"):"fit-content",maxW:"100%",position:"relative",overflow:"hidden",...en?{h:ea?"100%":void 0,display:"flex",justifyContent:"center",alignContent:"center"}:{},children:[eV&&(0,A.jsx)(Q.Kc,{enterZoom:eW,doubleClickNonZoomHandler:eG}),em&&(0,A.jsx)(eE,{imageAttrs:eQ}),(0,A.jsx)(q.F,{containerWidth:ey,intrinsicAspectRatio:eC||void 0,isCroppingThisImage:eF,imageAttrs:eQ,onLoad:eK,linkHref:eg?b||"":void 0,filter:"image.icon"===k?"url(#theme-body-color-fill)":void 0,ref:ek,width:en?"auto":S||eM||ee||I?"100%":null==h?void 0:h.width,minW:en?"100%":void 0,objectFit:en?"cover":"contain",isThumbnail:en||i.isThumbnail,flex:ea?1:void 0,containerProps:{display:ea?"flex":"block"},shouldUseImgProxyCrop:ea&&!Y&&!I,bodyColor:ec,...eZ}),eB&&(0,A.jsx)(Q.Gx,{isZoomed:ex,exitZoom:ev,editor:i,children:(0,A.jsx)(q.F,{imageAttrs:a.attrs,backgroundColor:es,bodyColor:ec,w:I?"80vw":void 0,isZoomed:!0})}),(ep||eR)&&el&&(0,A.jsx)(G.Td,{removeBackground:eR}),p==D.A.Error&&(0,A.jsx)(G.Hy,{})]})]})]})},eE=e=>{let{imageAttrs:t}=e;return(0,A.jsxs)(j.a,{position:"absolute",as:"span",maxW:"95%",zIndex:1,bottom:0,m:1,children:[(0,A.jsx)(k.E,{maxW:"100%",colorScheme:"green",m:0,children:(0,A.jsxs)(S.E,{isTruncated:!0,whiteSpace:"nowrap",textOverflow:"ellipsis",fontSize:"10px",maxW:"100%",children:["url: ",t.src]})}),(0,A.jsx)(k.E,{maxW:"100%",colorScheme:"yellow",children:(0,A.jsxs)(S.E,{isTruncated:!0,whiteSpace:"nowrap",textOverflow:"ellipsis",fontSize:"10px",maxW:"100%",children:["tempUrl: ",t.tempUrl]})})]})},eR=i.Ay.extend({selectable:!0,draggable:!0,group:"block media",priority:g.y.Image,expandable:!0,addOptions(){var e;return{...null==(e=this.parent)?void 0:e.call(this),placeholders:{}}},addNodeView:()=>(0,u.gu)(eI,{update:m.z0}),extendNodeSchema(e){var t;return{accessoryImageKey:(0,a.gk)((0,a.iI)(e,"accessoryImageKey",e)),imageKeyPath:null!=(t=(0,a.gk)((0,a.iI)(e,"imageKeyPath",e)))?t:""}},parseHTML:()=>[{tag:"img[".concat(l.A,"]"),getAttrs:o.K},{tag:"img[src], img[tempUrl]"},{tag:"img[bookmark]",getAttrs:h.Ll},{tag:"div[class=card-accent-layout-item]",context:"cardLayoutItem//",getAttrs:e=>{try{let t=JSON.parse(e.getAttribute("data-background")||"{}");if("image"!==t.type||!t.image)return!1;let n={...t.image,source:t.source};return(0,y.Ez)(n)}catch(t){return console.error("[Image] Error parsing accent image background",e,t),!1}}}],renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,a.KV)(this.options.HTMLAttributes,t,{loading:"lazy"})]},renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e;return n?["img",{src:t.attrs.src,alt:(0,s.ve)(t.attrs)}]:["img",{bookmark:(0,h.vL)(t),alt:(0,s.ve)(t.attrs)}]},addAttributes:()=>({id:(0,c.e)(v.z),savedMediaId:{},src:{},tempUrl:{},uploadStatus:{},meta:{...(0,p.tb)("meta")},providerMeta:{...(0,p.tb)("providerMeta")},aiParams:{...(0,p.tb)("aiParams")},loadImageParams:{...(0,p.tb)("loadImageParams")},loadImageStatus:{},loadImageId:{},name:{},query:{},source:{},showPlaceholder:{},fullWidthBlock:{default:!1},resize:{...(0,p.tb)("resize"),default:w.P},clickBehavior:{default:null},href:{default:null}}),addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e,n=t.state.selection;if(n instanceof r.nh&&n.node.type.name===i.Ay.name){let e=(0,ed.Hu)((0,d.KA)().getState()),{id:t}=n.node.attrs;if(e)return C.R.emit("endClip",{id:t,confirm:!0}),!0}return!1}}),addProseMirrorPlugins:()=>[new r.k_({key:new r.hs("imageDrag"),props:{handleDOMEvents:{dragstart:(e,t)=>{var n;let{selection:i}=e.state,r=(0,a.BQ)(i)&&(null==(n=i.node)?void 0:n.type.name)==="image"?i.node.attrs.id:null;if(r){let e=(0,d.KA)().getState();if((0,ed.iZ)(r)(e))return t.preventDefault(),!0}return!1}}}}),b()],addCommands(){let e=this.name,t=t=>{let{selection:n}=t;return n instanceof r.nh&&n.node.type.name===e?n.node:void 0};return{resetImageClip:()=>n=>{let{chain:a,state:i}=n,r=t(i);if(!r)return console.warn("[resetImageClip] Selected node is not an image: ",i.selection),!0;let{clipPath:l,clipType:o,clipAspectRatio:s}=w.P;return a().updateAttributes(e,{resize:{...r.attrs.resize,clipPath:l,clipType:o,clipAspectRatio:s}}).run()},resetImageScale:()=>n=>{let{chain:a,state:i}=n,r=t(i);return r?a().updateAttributes(e,{resize:{...r.attrs.resize,width:null,isAuto:null}}).run():(console.warn("[resetImageClip] Selected node is not an image: ",i.selection),!0)}}}});n(58617),n(58638)},12417:(e,t,n)=>{"use strict";n.d(t,{Ep:()=>_,LW:()=>M,f3:()=>D});var a=n(6029),i=n(27229),r=n(46898),l=n(94740),o=n(66199),s=n(12514),d=n(18078),c=n(96430),u=n(26385),p=n(48810),h=n(40162),g=n(61204),m=n(49611),x=n(45460),f=n(16936),b=n(99492),v=n(48621),y=n(91106),w=n(19564),C=n(77650),A=n(97139),j=n.n(A),k=n(55729),S=n(57963),I=n(26053),E=n(56143);let R={bg:"red.100",_hover:{bg:"red.200"},borderColor:"red.600",color:"red.600"},L={bg:"green.100",_hover:{bg:"green.200"},borderColor:"green.600",color:"green.600"},D=e=>{let{rating:t,setRating:n,RatingButtons:x,trackFeedback:f,feedbackTags:b,size:v}=e,{isOpen:y,onOpen:A,onClose:I}=(0,i.j)(),R=(0,k.useCallback)(e=>{n(e),A()},[n,A]),[L,D]=(0,k.useState)(""),[M,_]=(0,k.useState)(new Set),T=(0,k.useCallback)(()=>{D(""),_(new Set),I()},[I]),N=(0,r.d)(),z=(0,k.useCallback)(()=>{null==f||f(t,j().sanitize(L),Array.from(M)),N({title:(0,a.jsx)(w.x6,{id:"+Rq0s/"}),status:"success",position:"top",duration:2e3,isClosable:!0}),T()},[L,M,t,f,N,T]);return(0,a.jsxs)(l.A,{isOpen:y,onOpen:A,onClose:T,placement:"top",closeOnBlur:!0,isLazy:!0,variant:"modal",children:[(0,a.jsx)(o.W,{children:(0,a.jsx)(x,{rating:t,setRating:R,size:v})}),(0,a.jsx)(s.Z,{children:(0,a.jsxs)(d.h,{borderRadius:"lg",borderWidth:"1px",borderColor:"gray.200",shadow:"xl",p:3,"data-rating-popover":!0,children:[(0,a.jsx)(c.q,{}),(0,a.jsxs)(u.B,{alignItems:"flex-end",children:[(0,a.jsx)(p.E,{alignSelf:"flex-start",fontSize:"sm",color:"gray.500",children:"good"===t?(0,a.jsx)(w.x6,{id:"uA8iBc"}):(0,a.jsx)(w.x6,{id:"tq89gP"})}),t&&"good"!==t&&b&&b.length>0&&(0,a.jsx)(h.B,{children:b.map(e=>{let{key:t,label:n}=e;return(0,a.jsx)(h.Q,{onClick:()=>{_(e=>{let n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n})},children:(0,a.jsx)(E.YI,{label:n,isSelected:M.has(t)})},t)})}),(0,a.jsx)(S._,{initialHeight:"4em",value:L,onChange:e=>D(e.target.value),fontSize:"sm",placeholder:C.Ru._({id:"eYeGuP"}),p:1,px:2,borderRadius:"0"}),(0,a.jsxs)(g.e,{size:"sm",children:[(0,a.jsx)(m.$,{variant:"ghost",onClick:T,children:(0,a.jsx)(w.x6,{id:"6Uau97"})}),(0,a.jsx)(m.$,{variant:"solid",onClick:z,children:(0,a.jsx)(w.x6,{id:"1m41/U"})})]})]})]})})]})},M=(0,x.R)((e,t)=>{let{rating:n,setRating:i,size:r}=e,l=(0,I.wP)();return(0,a.jsxs)(g.e,{spacing:0,p:0,isAttached:!0,ref:t,size:r,children:[(0,a.jsx)(y.Tz,{label:(0,a.jsx)(w.x6,{id:"kR82DG"}),placement:"top",children:(0,a.jsx)(f.K,{...l,icon:(0,a.jsx)(v.g,{icon:b.lS9}),"aria-label":C.Ru._({id:"kqV4i0"}),..."poor"===n?R:{},onClick:()=>i("poor"),position:"relative",zIndex:+("poor"===n)})}),(0,a.jsx)(y.Tz,{label:(0,a.jsx)(w.x6,{id:"y1GvbS"}),placement:"top",children:(0,a.jsx)(f.K,{...l,icon:(0,a.jsx)(v.g,{icon:b.Wcv}),"aria-label":C.Ru._({id:"nnIO9F"}),position:"relative",insetStart:"-1px",..."good"===n?L:{},onClick:()=>i("good")})})]})});M.displayName="CardRatingButtons";let _=(0,x.R)((e,t)=>{let{rating:n,setRating:i,size:r="sm"}=e;return(0,a.jsxs)(g.e,{size:r,ref:t,"data-rating-buttons":!0,children:[(0,a.jsx)(y.Tz,{label:(0,a.jsx)(w.x6,{id:"kR82DG"}),placement:"top",children:(0,a.jsx)(f.K,{"aria-label":"thumbs down",color:"poor"===n?"red.600":void 0,borderWidth:"1px",borderColor:"poor"===n?"red.600":"transparent",bg:"poor"===n?"red.100":void 0,_hover:{bg:"poor"===n?"red.200":"red.100"},icon:(0,a.jsx)(v.g,{icon:b.lS9}),onClick:e=>{e.stopPropagation(),i("poor")}})}),(0,a.jsx)(y.Tz,{label:(0,a.jsx)(w.x6,{id:"y1GvbS"}),placement:"top",children:(0,a.jsx)(f.K,{"aria-label":"thumbs up",color:"good"===n?"green.600":void 0,borderWidth:"1px",borderColor:"good"===n?"green.600":"transparent",bg:"good"===n?"green.100":void 0,_hover:{bg:"good"===n?"green.200":"green.100"},icon:(0,a.jsx)(v.g,{icon:b.Wcv}),onClick:e=>{e.stopPropagation(),i("good")}})})]})});_.displayName="ImageRatingButtons"},12419:(e,t,n)=>{"use strict";n.d(t,{aO:()=>o,fY:()=>s,yf:()=>d});var a=n(91938),i=n(86014),r=n(31162),l=n(5541);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.$.API_HOST+"/ai/v2/generation",i={"Content-Type":"application/json"};t.streamId&&(i["gamma-chat-completion-stream-id"]=t.streamId);let l={method:"POST",headers:i,body:JSON.stringify(e)};return(0,r.w)(n,l,t)}async function s(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.$.API_HOST+"/ai/v2/render-generation",r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:null==(t=n.abortController)?void 0:t.signal};return(await u(i,r,n)).result}let d=e=>{let{streamId:t,lastEventId:n,interactionId:i,...l}=e,o=new URL(a.$.API_HOST+"/ai/resumeChatCompletion");return o.searchParams.set("interactionId",i),(0,r.w)(o.toString(),{method:"GET",headers:{"gamma-chat-completion-stream-id":t,"last-event-id":n}},{streamResumingEnabled:!0,...l})},c=e=>new Promise(t=>setTimeout(t,e)),u=async(e,t,n)=>{let{timeout:a=null,maxRetries:r=3,retryAttempts:o=0,abortController:s}=n,d=s||new AbortController,p=null;null!=a&&(p=setTimeout(()=>{d.abort()},a));let h=()=>{p&&clearTimeout(p)},g=await (0,l.X)(e,{credentials:"include",...t,signal:d.signal});if(g.ok){let e=await g.json();return h(),e}if(h(),g.status>=400&&g.status<500&&429!==g.status)throw new i.qh("Unable to complete request");if(o++<r){let n=1e3*Math.pow(2,Math.max(o-1,0));return await c(n),u(e,t,{timeout:a,retryAttempts:o,maxRetries:r,abortController:s})}throw Error("Unable to complete request, status="+g.status)}},12596:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var a=n(6029),i=n(56760),r=n(33201),l=n(94920);let o=e=>{let{renderers:t}=e,{state:{navItemPreviewRefMap:n}}=(0,l.U)();return(0,a.jsx)(a.Fragment,{children:Object.entries(t).map(e=>{let[t,a]=e,l=a.props.node;if("document"===l.type.name)return null;let o=(0,r.jg)(l)?n[l.attrs.id]:null;return i.createPortal(a.reactElement,o||a.element,t)})})}},13559:(e,t,n)=>{"use strict";n.d(t,{h:()=>s,z:()=>d});var a=n(81807),i=n(62452),r=n(3239),l=n(90010),o=n(43634);let s=(e,t)=>{let n=(0,l.lI)(e),i=(0,l.zK)(n),s=(0,a.fc)();return{blockFlags:s,format:i,outline:(0,r.u)(t),theme:d((0,o.SJ)(t.getState()))}},d=e=>({accentColors:(e?(0,i.CD)(e):[]).slice(0,10).map(e=>(0,i.Ik)(e))})},13777:(e,t,n)=>{"use strict";n.d(t,{Y:()=>en});var a=n(33633),i=n(6029),r=n(24302),l=n(40452),o=n(61204),s=n(49611),d=n(77364),c=n(48810),u=n(33787),p=n(26420),h=n(99492),g=n(48621),m=n(19564),x=n(55729),f=n(90184),b=n(26814),v=n(647),y=n(95563),w=n(15342),C=n(52860),A=n(37605),j=n(83049),k=n(94920),S=n(43607),I=n(89481),E=n(78073),R=n(81807),L=n(80116),D=n(34832),M=n(40240),_=n(83605),T=n(82592),N=n(6018),z=n(58809),P=n(66380),O=n(90010),F=n(43634),H=n(82927),B=n(94922),V=n(85829);let W=(e,t)=>{let n=e.node.attrs,a=t.content.find(e=>"cardAccentLayoutItem"===e.type);return a&&"none"!==n.background.type&&(a.attrs={...a.attrs,...n}),t},U=e=>{var t;let{editor:n,start:a,cardId:i,card:r}=e,l=(0,w.GV)(z.Jo),o=(0,w.GV)(F.SJ),s=(0,O.lI)(n),d=(0,O.zK)(s),c=n.state.doc.resolve(a),[u]=(0,x.useState)(r),p=(0,w.CU)(),h=(0,w.GV)((0,E.dJ)(i)),g=(0,w.GV)((0,E.gR)(i)),m=(0,w.GV)((0,E.rT)(i)),f=(0,w.jL)(),[b,v]=(0,x.useState)(null),y=(0,w.GV)(F.Uu),C=(null==l?void 0:l.organization)?(0,H.bs)(l.organization.id):void 0,A=(null==C?void 0:C.id)||(null==l||null==(t=l.organization)?void 0:t.id),{imageProvider:j,imageModel:k,imageStyle:S}=(0,P.V)(),D=(0,x.useCallback)(async e=>{let{variantsWithHtml:t,docId:a,interactionId:i}=e,l=[...t];for(let e=0;e<t.length;e++){let s=t[e];if(!s||!s.isGenerating||!s.html||!A)continue;let d=(0,_.dE)(s.html);d.attrs=(0,I.p5)(null==r?void 0:r.attrs,d.attrs);let u=(0,B.l0)(c).accent;u&&(d=W(u,d)),l[e]={...s,card:d,isGenerating:!1},(0,T.Sg)({editor:n,content:d,theme:o,interactionId:i,workspaceId:A,docId:a})}return l},[A,o,null==r?void 0:r.attrs,c,n]),V=(0,x.useCallback)(e=>{let{content:t,interactionId:a}=e;if(!l)return void console.error("[GenerateCardLayoutVariants] Cannot generate variants. Card or workspace unknown");let r=(0,R.dg)(t),[o,...s]=(0,E.dJ)(i)(p.getState()),d=[],c=s.map((e,t)=>{let n=r[t]||null,a={...e,html:e.html?e.html:n};return n&&!e.html&&d.push(a),a});f((0,E.bL)({cardId:i,variants:[o,...c]})),D({variantsWithHtml:d,docId:l.id,interactionId:a}).then(e=>{let t=(0,E.dJ)(i)(p.getState()).map(t=>{let n=e.find(e=>e.id===t.id);return n?{...t,...n}:t});if(f((0,E.bL)({cardId:i,variants:t})),1===r.length){f((0,E.Ye)({cardId:i,selectedVariantId:t[1].id}));try{(0,I.ck)(n,i,{...t[1].card,attrs:{...t[1].card.attrs,id:i}},a)}catch(e){console.error("[GenerateCardLayoutVariants] Error replacing card with variant",e)}}})},[i,f,l,n,D,p]),U=(0,x.useCallback)(async()=>{if(!u||!A)return void console.error("[GenerateCardLayoutVariants] Cannot generate variants. Card or workspace unknown");f((0,E.Z_)({card:u,docSettings:y}));try{let e=(0,L.KC)(n,u),t=(0,M.$F)();v(t);let a=G({onContent:e=>{V({content:e,interactionId:t})},inputHtml:e,format:d,imageProvider:j||"none",imageOptions:{model:k,stylePrompt:S},workspaceId:A,aiInteractionId:t});(0,N.w)("editCard",C,t),await a}catch(e){console.error("[GenerateCardLayoutVariants] Error generating card variants",e)}},[u,A,f,y,n,V,d,j,k,S,C]),K=(0,x.useCallback)(()=>{let e=h.find(e=>"original"===e.id);e&&(f((0,E.Ye)({cardId:i,selectedVariantId:e.id})),(0,I.ck)(n,i,e.card,b))},[n,i,h,f,b]);return{generateCardLayoutVariants:U,variants:h,selectedVariantId:g,setSelectedVariantId:E.Ye,revertToOriginalCard:K,interactionId:b,editorContent:m}},G=e=>{let{onContent:t,inputHtml:n,format:a,imageProvider:i,imageOptions:r,workspaceId:l,aiInteractionId:o}=e,{promise:s}=(0,D.i4)({promptKey:"GenerateCardLayoutVariants",opts:{onContent:t},variables:{inputHtml:n,request:"I dont like this template. Try a different layout or visualization. You can rephrase the text to fit a new template, but don't alter the original voice or make up new details.",format:a,numberOfVariants:V.M,imageProvider:i,imageOptions:r,blockFlags:(0,R.fc)()},workspaceId:l,interactionId:o});return s};var K=n(12417),Q=n(65950),Z=n(58568),q=n(18317);let J=x.memo(e=>{let{item:t,isSelected:n,onClick:a,label:r,interactionId:o}=e,s=t.isGenerating,{ref:d,width:c}=(0,Z.Lh)();return(0,i.jsxs)(l.s,{ref:d,direction:"column",onClick:a,cursor:"pointer",position:"relative",w:"100%",my:2,css:{"--editor-width":"".concat(c&&1!==c?c:365,"px"),"--line-thickness":"1px"},minHeight:"150px",children:[s&&(0,i.jsx)($,{}),(0,i.jsxs)(l.s,{borderRadius:"md",border:"1px solid",borderColor:n?"trueblue.500":"gray.200",outline:n?"1px solid var(--chakra-colors-trueblue-500)":"none",_hover:{borderColor:n?"trueblue.600":"trueblue.300"},boxShadow:"md",overflow:"hidden",role:"group",visibility:s?"hidden":"visible",height:s?"0px":"auto",transitionProperty:"height border",transitionDuration:"0.2s",children:[(0,i.jsx)(l.s,{position:"absolute",top:4,insetEnd:4,bgColor:"trueblue.50",color:"trueblue.600",borderRadius:"md",px:2,py:1,zIndex:V.Ob,fontSize:"xs",border:"1px solid",borderColor:"trueblue.200",children:r}),"original"!==t.id&&(0,i.jsx)(l.s,{position:"absolute",insetEnd:4,bottom:4,zIndex:V.Ob,opacity:0,transitionProperty:"opacity",transitionDuration:"0.2s",_groupHover:{opacity:1},children:(0,i.jsx)(q.E,{interactionId:o||"",operation:"layout.different",RatingButtons:K.Ep})}),(0,i.jsx)(Q.N,{cardId:t.id})]})]})});J.displayName="VariantCard";let $=()=>(0,i.jsx)(l.s,{position:"absolute",inset:0,zIndex:1,w:"100%",h:"150px",minHeight:"150px",borderRadius:"md",align:"center",justify:"center",mb:4,children:(0,i.jsxs)(l.s,{bg:"gradient.secondary-light",h:"100%",borderRadius:"md",mx:4,align:"center",justify:"center",children:[(0,i.jsx)(u._,{src:"/images/ai_sparkle_small.gif",alt:"AI sparkles",objectFit:"cover",width:282,height:280,boxSize:"45px",zIndex:1}),(0,i.jsx)(p.a,{bg:"gradient.secondary-light",bgSize:"cover",bgPosition:"center center",borderRadius:"inherit",pos:"absolute",inset:0,pointerEvents:"none",w:"100%",zIndex:0})]})}),Y=Object.assign(e=>{let{selectedCardRange:t,closePanel:n,cardId:a,editor:r}=e;return((0,S.lC)(r,!0),(0,x.useEffect)(()=>{var e;let a=null==r||null==(e=r.state.selection)?void 0:e.from,{from:i,to:l}=t||{};if(!i||!l||!a)return void n();a===i||a>i&&a<l||n()},[null==r?void 0:r.state.selection,t,n]),r&&a&&t)?(0,i.jsx)(X,{closePanel:n,editor:r,selectedCardPos:t.from,selectedCardId:a}):null},{panelPosition:"right",panelName:"CardLayoutVariants",canCollapse:!1,minWidth:400}),X=x.memo(e=>{let{closePanel:t,editor:n,selectedCardPos:a,selectedCardId:u}=e,p=(0,w.GV)((0,E.dJ)(u)),j=(0,w.GV)((0,E.gR)(u)),k=(0,w.GV)((0,E.rT)(u)),S=(0,w.jL)(),R=(0,b.tO)(void 0,"editCard",A.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD),L=n.view.state.doc.nodeAt(null!=a?a:0),{generateCardLayoutVariants:D,revertToOriginalCard:M,interactionId:_}=U({editor:n,start:null!=a?a:0,cardId:u,card:L}),T=(0,x.useMemo)(()=>p.some(e=>e.isGenerating),[p]),N=(0,x.useCallback)(async()=>{if(!R())return void t();await D()},[R,D,t]);(0,x.useEffect)(()=>{N()},[]),(0,x.useEffect)(()=>()=>{j&&(null===C.z||void 0===C.z||C.z.track(A.VV.AI_CARD_VARIATION_KEPT,{cardId:u,variantId:j,isOriginal:"original"===j,interactionId:_,source:"layout-panel"}))},[u,j,_,p]);let z={bgColor:(0,r.dU)("white","gray.800"),textColor:(0,r.dU)("gray.800","white")},P=(0,x.useCallback)(e=>{let t=p.find(t=>t.id===e);t&&(S((0,E.Ye)({cardId:u,selectedVariantId:t.id})),(0,I.ck)(n,u,t.card,_))},[u,p,n,S,_]),O={dropdownBgColor:(0,r.dU)("blackAlpha.100","whiteAlpha.100"),dropdownBgHoverColor:(0,r.dU)("blackAlpha.300","whiteAlpha.300"),dropdownTextColor:(0,r.dU)("gray.800","white")};return(0,i.jsx)(v.Z,{bgColor:z.bgColor,w:"100%",pt:4,children:(0,i.jsxs)(l.s,{direction:"column",overflowX:"hidden",w:"100%",h:"100%",children:[(0,i.jsxs)(l.s,{position:"relative",pb:1,px:4,children:[(0,i.jsx)(l.s,{flex:1,children:(0,i.jsx)(y.N,{children:(0,i.jsx)(m.x6,{id:"jVFRe1"})})}),(0,i.jsxs)(o.e,{spacing:0,children:["original"!==j&&(0,i.jsx)(s.$,{size:"sm",onClick:M,variant:"ghost",leftIcon:(0,i.jsx)(g.g,{icon:h.LxC,size:"sm"}),children:(0,i.jsx)(m.x6,{id:"9uI/rE"})}),(0,i.jsx)(d.J,{onClick:t})]})]}),!T&&(0,i.jsxs)(l.s,{px:4,gap:2,pb:2,align:"center",children:[(0,i.jsx)(c.E,{fontSize:"xs",color:"gray.500",children:(0,i.jsx)(m.x6,{id:"GhS4Yn"})}),(0,i.jsxs)(s.$,{size:"xs",leftIcon:(0,i.jsx)(g.g,{icon:h.rhK}),textAlign:"start",bgColor:O.dropdownBgColor,color:O.dropdownTextColor,borderRadius:"md",px:2,_hover:{bgColor:O.dropdownBgHoverColor},onClick:()=>{N()},children:[(0,i.jsx)(m.x6,{id:"fMPkxb"}),(0,i.jsx)(f.G,{type:"editCard",colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"xs",ms:2,px:0})]})]}),(0,i.jsx)(ee,{variants:p,editorContent:k,handleSelectVariant:P,selectedVariantId:j,interactionId:_,anyVariantsGenerating:T})]})})}),ee=x.memo(e=>{let{variants:t,editorContent:n,handleSelectVariant:a,selectedVariantId:r,interactionId:o,anyVariantsGenerating:s}=e;return n?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(l.s,{overflowY:"auto",direction:"column",h:"100%",flex:1,children:[s&&(0,i.jsxs)(l.s,{px:4,py:2,borderRadius:"md",align:"center",gap:1,color:"deepocean.900",fontWeight:"bold",alignItems:"center",children:[(0,i.jsx)(c.E,{fontSize:"xs",children:(0,i.jsx)(m.x6,{id:"yARg1X"})}),(0,i.jsx)(u._,{src:"/images/ai_sparkle_small.gif",alt:"AI sparkles",objectFit:"cover",width:282,height:280,boxSize:"20px",zIndex:1})]}),(0,i.jsx)(p.a,{h:"100%",overflowY:"auto",children:(0,i.jsx)(j.q,{initialContent:n,children:(0,i.jsx)(et,{variants:t,interactionId:o,selectedVariantId:r,handleSelectVariant:a})})})]})}):null});ee.displayName="CardLayoutVariantsList";let et=x.memo(e=>{let{variants:t,interactionId:n,selectedVariantId:a,handleSelectVariant:r}=e,{editor:o}=(0,k.U)();return(0,x.useEffect)(()=>{t.forEach(e=>{if(!o||e.isGenerating)return;let t={...e.card,attrs:{...e.card.attrs,id:e.id}};(0,I.ck)(o,e.id,t,n)})},[t,o,n]),(0,i.jsx)(l.s,{direction:"column",w:"100%",px:4,children:t.map(e=>(0,i.jsx)(J,{interactionId:n,label:"original"===e.id?(0,i.jsx)(l.s,{children:(0,i.jsx)(c.E,{children:(0,i.jsx)(m.x6,{id:"HxF6Fk"})})}):(0,i.jsxs)(l.s,{align:"center",gap:1,children:[(0,i.jsx)(g.g,{icon:h.p7g,size:"xs"}),(0,i.jsx)(c.E,{children:(0,i.jsx)(m.x6,{id:"isRobC"})})]}),item:e,isSelected:a===e.id,onClick:()=>{r(e.id)}},e.id))})});et.displayName="CardLayoutVariantsPreviewList";let en=()=>{let{togglePanel:e,isPanelOpen:t}=(0,a.ww)(Y);return{toggleCardLayoutVariantsPanel:e,isCardLayoutVariantsPanelOpen:t}}},14122:(e,t,n)=>{"use strict";n.d(t,{t:()=>i,z:()=>a});let a={borderRadius:"var(--box-border-radius)"},i=e=>({"svg.colorable-icon":{path:{fill:e},"[stroke], [stroke] > *":{stroke:e,fill:"none"}}})},14300:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,V:()=>d});var a=n(6029),i=n(10500),r=n(49611),l=n(91106),o=n(30892),s=function(e){return e[e.small=4]="small",e[e.medium=7]="medium",e}({});let d=e=>{let{color:t,setColor:n=()=>{},isActive:s=!1,name:d,size:c=7,tooltipIsDisabled:u=!1}=e,p=(0,o.$p)(t)?"white":"black";return(0,a.jsx)(l.Tz,{label:d||t.toUpperCase(),placement:"top",isDisabled:u,children:(0,a.jsx)(r.$,{display:"inline-block",alignSelf:"center",boxSize:c,borderRadius:"md",border:"1px solid",borderColor:"blackAlpha.300",color:p,bgColor:null!=t?t:"#FFFFFF",onClick:()=>n(t),variant:"unstyled",minW:0,fontSize:"xs",transitionProperty:"border",transitionDuration:"normal",children:s&&(0,a.jsx)(i.S,{})})})}},14368:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});var a=n(51684),i=n(77650);let r={key:"image.web",featureFlag:"webImageSearch",label:()=>i.Ru._({id:"coorYU"}),icon:a.$UM,keywords:["image","photo","pic"],description:()=>i.Ru._({id:"NMbF1d"}),resizeToFit:!0}},14389:(e,t,n)=>{"use strict";n.d(t,{Ef:()=>r,MK:()=>i,Mg:()=>o,St:()=>l});var a=n(36512);let i=30,r=16,l=a.s5*r,o=.6},14503:(e,t,n)=>{"use strict";n.d(t,{HF:()=>d,KW:()=>s,NH:()=>p,Pn:()=>f,Ui:()=>v,aH:()=>c,dX:()=>o,fx:()=>h,kV:()=>g,oD:()=>m,ob:()=>x,t6:()=>u,uH:()=>b});var a=n(63867),i=n(46675),r=n(61292),l=n(48413);let o=new a.hs("selectingCells");function s(e){for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function d(e){for(let t=e.depth;t>0;t--){let n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}function c(e){let t=e.$head;for(let e=t.depth;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return!0;return!1}function u(e){return e instanceof i.HT?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e instanceof a.nh&&"cell"==e.node.type.spec.tableRole?e.$anchor:s(e.$head)||function(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){let a=t.type.spec.tableRole;if("cell"==a||"header_cell"==a)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){let a=t.type.spec.tableRole;if("cell"==a||"header_cell"==a)return e.doc.resolve(n-t.nodeSize)}}(e.$head)}function p(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function h(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function g(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function m(e,t,n){let a=e.start(-1),i=l.J.get(e.node(-1)).nextCell(e.pos-a,t,n);return null==i?null:e.node(0).resolve(a+i)}function x(e,t,n){let a={};for(let t in e)a[t]=e[t];return a[t]=n,a}function f(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=x(e,"colspan",e.colspan-n);return a.colwidth&&(a.colwidth=a.colwidth.slice(),a.colwidth.splice(t,n),a.colwidth.some(e=>e>0)||(a.colwidth=null)),a}function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=x(e,"colspan",e.colspan+n);if(a.colwidth){a.colwidth=a.colwidth.slice();for(let e=0;e<n;e++)a.colwidth.splice(t,0,0)}return a}function v(e,t,n){let a=(0,r.e)(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=a)return!1;return!0}},14753:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var a=n(43607);let i=()=>(0,a.FX)()?1:1.125},14812:(e,t,n)=>{"use strict";n.d(t,{Q:()=>d});var a=n(22905),i=n(59230),r=n(60908),l=n(50861),o=n(36145),s=n(16595);let d=a.YY.create({name:"mediaUpload",addCommands(){return{cancelImageUploadsOnLoad:()=>e=>{let{tr:t,state:n}=e;return!!this.editor.isEditable&&((0,a.xe)(n.doc,e=>{let t=(0,s.um)(e);return!!(t&&t.uploadStatus===i.A.Uploading)}).forEach(e=>{let n=(0,s.um)(e.node),a=(0,s.wH)(e.node,(null==n?void 0:n.src)?{uploadStatus:i.A.Done}:{tempUrl:null,uploadStatus:i.A.Error});t.setNodeMarkup(e.pos,null,a).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0)}),!0)},uploadBlobsOnLoad:()=>e=>{let{tr:t,state:n}=e;return!!this.storage.orgId&&!!this.editor.isEditable&&((0,a.xe)(n.doc,e=>{let t=(0,s.um)(e);return!!(null==t?void 0:t.src)&&t.src.startsWith("blob:")}).forEach(e=>{let n=(0,s.um)(e.node);if(!n)return;let a=n.src,i=(0,s.wH)(e.node,(0,s.F)(a));t.setNodeMarkup(e.pos,null,i).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0),(0,o.xH)(this.editor,a)}),!0)},uploadRemoteUrlsOnLoad:()=>e=>{let{tr:t,state:n}=e;return!!this.storage.orgId&&!!this.editor.isEditable&&((0,a.xe)(n.doc,e=>{let t=(0,s.um)(e);return!!(null==t?void 0:t.src)&&t.src.startsWith("http")&&(0,r.cW)(t.src)&&t.uploadStatus!==i.A.Done}).forEach(e=>{var n;let a=(0,s.um)(e.node);if(!a)return;let r=a.src,l=(0,s.wH)(e.node,{uploadStatus:i.A.Uploading,source:null!=(n=a.source)?n:"image.custom",tempUrl:r});t.setNodeMarkup(e.pos,null,l).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0),(0,o.XE)(this.editor,r,void 0,!0)}),!0)},uploadDataUrlsOnLoad:()=>e=>{let{tr:t,state:n}=e;return!!this.storage.orgId&&!!this.editor.isEditable&&((0,a.xe)(n.doc,e=>{let t=(0,s.um)(e);return!!(null==t?void 0:t.src)&&t.src.startsWith("data:")}).forEach(e=>{let n=(0,s.um)(e.node);if(!n)return;let a=(0,r.Xz)(n.src);if(!a)return;let i=URL.createObjectURL(a),l=(0,s.wH)(e.node,(0,s.F)(i));t.setNodeMarkup(e.pos,null,l).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0),(0,o.XE)(this.editor,i,a)}),!0)},initializeUploadExtension:e=>t=>{let{chain:n}=t;return this.storage.orgId=e,n().cancelImageUploadsOnLoad().uploadBlobsOnLoad().uploadDataUrlsOnLoad().uploadRemoteUrlsOnLoad().revokeAllImageTempURLs().run(),!0},revokeAllImageTempURLs:()=>e=>{let{tr:t,state:n}=e;return(0,a.xe)(n.doc,e=>{let t=(0,s.um)(e);return!!(t&&t.tempUrl&&t.src&&t.uploadStatus===i.A.Done)}).forEach(e=>{let n=(0,s.wH)(e.node,{tempUrl:null});t.setNodeMarkup(e.pos,null,n).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0)}),!0},revokeImageTempURLs:e=>t=>{let{tr:n,state:i}=t;return(0,a.xe)(i.doc,t=>{let n=(0,s.um)(t);return!!n&&n.tempUrl===e}).forEach(e=>{let t=(0,s.wH)(e.node,{tempUrl:null});n.setNodeMarkup(e.pos,null,t).setMeta("addToHistory",!1).setMeta("imageUploadUpdateAttrs",!0)}),URL.revokeObjectURL(e),!0},updateImageOnUploadFailure:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let{tr:a,state:r}=n,l=r.doc.nodeAt(e);if(!l||!l.attrs)return!1;let o=(0,s.um)(l),d=t?{...o,uploadStatus:i.A.Done}:(0,s.yK)({isError:!0}),c=(0,s.wH)(l,d);return a.setNodeMarkup(e,void 0,c).setMeta("imageUploadUpdateAttrs",!0).setMeta("addToHistory",!1).setMeta("annotationEvent",{type:"update-node-attrs",pos:e}),!0}},updateImageOnUploadSuccess:(e,t)=>n=>{let{tr:a,state:i}=n,r=i.doc.nodeAt(e);if(!r||!r.attrs)return!1;let o=(0,s.yK)({isError:!1,result:t,attrs:r.attrs}),d=(0,l.Ez)(o),c=(0,s.wH)(r,d);return a.setNodeMarkup(e,void 0,c).setMeta("imageUploadUpdateAttrs",!0).setMeta("addToHistory",!1).setMeta("annotationEvent",{type:"update-node-attrs",pos:e}),!0}}},addStorage:()=>({orgId:void 0,completedUploads:{}}),addProseMirrorPlugins(){return[(0,o.Qx)(this.editor)]}})},15253:(e,t,n)=>{"use strict";n.d(t,{N:()=>c});var a=n(6029),i=n(22905),r=n(55729),l=n(41896),o=n(4097),s=n(28613);i.KE;class d extends r.Component{componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}init(){let{editor:e}=this.props;if(!e)return;let{doc:t}=e.state;e.contentComponent=this,e.createNodeViews(),this.RootComponent=(0,a.jsx)(u,{editor:e,node:t})}setRenderer(e,t){this.renderers.set(e,t),this.mounted&&this.setState({counter:this.state.counter+1})}removeRenderer(e){this.renderers.delete(e),this.mounted&&this.setState({counter:this.state.counter+1})}render(){let{editor:e}=this.props;return e?(0,a.jsx)("div",{className:"ProseMirror",children:this.RootComponent}):null}constructor(e){super(e),this.RootComponent=null,this.renderers=new Map,this.mounted=!1,this.editorContentRef=r.createRef(),this.editorContentChildren=r.createRef(),this.state={counter:0},this.init()}}let c=r.memo(d),u=e=>{let{node:t,editor:n}=e;return(0,a.jsx)(o.e.Provider,{value:{editor:n,node:t},children:(0,a.jsx)(l.VR,{children:(0,a.jsx)(s.$,{})})})}},15440:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,Z:()=>s});var a=n(63867),i=n(15607),r=n(33201),l=n(56603);let o=new a.hs("aiModifications");class s{getExistingRangeId(e,t){let n=(0,l.GB)(e,t);if(!n)return null;let a=Object.entries(this.ranges).find(t=>{let[a,i]=t,r=(0,l.GB)(e,i);return!!r&&n.from===r.from&&n.to===r.to});return a?a[0]:null}getRangeParentCardId(e,t){let n=this.ranges[t];if(!n)return null;let a=(0,l.GB)(e,n);if(!a)return null;let o=a.from,s=e.doc.nodeAt(o),d=e.doc.resolve(o),c=s&&(0,r.jg)(s)?{node:s,pos:o,start:d.start,depth:d.depth}:(0,i.TK)(d,r.jg)[0];return c?c.node.attrs.id:null}getRange(e,t){let n=this.queuedMoveRanges[t];if(n)return n;let a=this.ranges[t];return a?(0,l.GB)(e,a):null}apply(e,t){let n=e.getMeta("aiModificationAction");n&&"setInteractionRange"===n.type&&this.setInteractionRange(n,t);let a=e.getMeta("applyingAiModification");if(a)return this.handleRangeMapping(t,e,a.rangeId),this;let i=e.getMeta("appendedTransaction");return i&&this.handleAppendedTransaction(t,e,i),this}handleAppendedTransaction(e,t,n){if(n.getMeta("applyingAiModification")){let a=n.getMeta("applyingAiModification");a&&this.handleRangeMapping(e,t,a.rangeId)}}handleRangeMapping(e,t,n){let a=this.getRange(e,n);if(!a)return void console.warn("[AiModificationState] Could not find range for rangeId=".concat(n));let i={from:a.from,to:t.mapping.map(a.to)};(a.from!==i.to||a.to!==i.to)&&this.enqueueMoveInstructions(n,i)}enqueueMoveInstructions(e,t){this.queuedMoveRanges[e]=t}flushMoveInstructionQueue(e){for(let[t,n]of Object.entries(this.queuedMoveRanges))this.ranges[t]=(0,l.w8)(e,n);this.queuedMoveRanges={}}setInteractionRange(e,t){this.ranges[e.rangeId]=e.range}constructor(){this.queuedMoveRanges={},this.ranges={}}}},15587:(e,t,n)=>{"use strict";n.d(t,{h:()=>d,v:()=>c});var a=n(22905),i=n(63867),r=n(97255),l=n(15607),o=n(56124);let s=e=>e.isTextblock||["gallery","cardLayoutItem","buttonGroup","navbarLinks","navbarButtons","toggleSummary"].includes(e.type.name),d=a.YY.create({name:"emptyNodes",addOptions:()=>({emptyNodeClass:"is-empty",showOnlyWhenEditable:!0,showOnlyCurrent:!1}),addProseMirrorPlugins(){return[new i.k_({key:new i.hs("emptyNodes"),props:{decorations:e=>{let{doc:t,selection:n}=e,a=[],i=this.editor.isEditable||!this.options.showOnlyWhenEditable||this.editor.isThumbnail,{anchor:d}=n;if(i)return t.descendants((e,t)=>{if("table"===e.type.name&&(0,o.VM)(e))return!1;if(!s(e))return;let n=d>=t&&d<=t+e.nodeSize,i=(0,l.mf)(e);(n||!this.options.showOnlyCurrent)&&i&&a.push(r.NZ.node(t,t+e.nodeSize,{class:this.options.emptyNodeClass},{isEmpty:!0}))}),r.zF.create(t,a)}}})]}}),c=e=>e.some(e=>e.spec.isEmpty)},15773:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(6029),i=n(77650),r=n(55729),l=n(8859),o=n(66265);let s=e=>{let{orgId:t,uploadType:n,editType:s,onUploadStart:d,onUploadSuccess:c,onUploadFailed:u,dropHereText:p=i.Ru._({id:"mgPDos",values:{0:"%{browse}"}}),customHeight:h,customFontSize:g,maxFilesAllowed:m=1,templateId:x,sx:f,tipText:b}=e,[v,y]=(0,r.useState)(""),w=(0,r.useMemo)(()=>o.Fk.createUppyInstance(t,{onUploadStart:d,onOriginalFileUpload:c,onUploadComplete:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];c(...t),w.cancelAll()},onUploadFailed:u,setErrorMessage:y},s,m,n,x),[t,s,n,m,x,c,d,u]);return(0,a.jsx)(l.j,{uppyInstance:w,dropHereText:p,tipText:b,customHeight:h,errorMessage:v,fontSize:g,sx:f})}},16264:(e,t,n)=>{"use strict";n.d(t,{cC:()=>v,lA:()=>f,sn:()=>g,uf:()=>b});var a=n(22905),i=n(5061),r=n(33201),l=n(86958),o=n(6845),s=n(61385),d=n(98968),c=n(50861),u=n(55424),p=n(56124),h=n(53891);let g=24,m=26,x=(e,t,n,a)=>{if(a&&((0,p.ht)(a)||(0,u.q)(a)||(0,l.q)(a))||v(e)||(0,h.Rv)(e)||!(0,r.CD)(e))return!1;if((0,c.Bv)(e)){let e=n.state.doc.resolve(t);return!(0,d.qK)(e)}return!0},f=(e,t)=>{var n,r,l;let o,s=(0,i.ix)()?-m:m,d=Math.max((null==(n=t.posAtCoords(e))?void 0:n.inside)||-1,(null==(r=t.posAtCoords({...e,left:e.left+s}))?void 0:r.inside)||-1,(null==(l=t.posAtCoords({...e,left:e.left+s+22}))?void 0:l.inside)||-1);if(-1==d)return;try{o=t.state.doc.resolve(d)}catch(e){return}let c=o.nodeAfter,u=c&&x(c,d,t,o.parent)?{pos:d,depth:o.depth,node:c}:(0,a.eL)(o,e=>x(e,d,t));if(!u)return;let{pos:p,depth:h,node:g}=u,f=t.nodeDOM(p);if(!(f instanceof HTMLElement))return;let b=f,v=f.querySelector("[data-content-reference]");if(v){let e=t.posAtDOM(v,0);(g.isAtom&&e===p||e===p+1)&&(b=v)}return{pos:p,depth:h,el:b,node:g}},b=(e,t)=>{let n={left:0,right:0,top:0};if(e.isTextblock){let e=t.querySelector("[data-node-view-content]")||t;n.top=(parseInt(window.getComputedStyle(e).lineHeight)-22)/2}else if((0,r.jg)(e))if((0,o.Wq)(e)){let e=t.clientWidth*(s.xS-1)/2;n.left=-e,n.right=e}else n.left=32,n.right=32,n.top=12;else(0,p.hj)(e)&&(n.left=-22,n.right=-22);return n},v=e=>e.type.spec.containerHandle},16309:(e,t,n)=>{"use strict";n.d(t,{qc:()=>y,tg:()=>C});var a=n(22905),i=n(63867),r=n(97255),l=n(8944),o=n(15342),s=n(30892),d=n(62171),c=n(15607),u=n(67864),p=n(94922),h=n(92397),g=n(71737);n(61385);var m=n(47665);class x{constructor(e=null){this.dragging=e}}let f=new i.hs("cardPlugin"),b=["card","calloutBox","image","cardLayoutItem","cardAccentLayoutItem","cardNotes","chart","smartLayoutCell"],v=(e,t)=>{let n=[];return e.descendants((a,i,u,h)=>{if(t.includes(a.type.name)){var x,f,b,v;let t=e.resolve(i),y=(0,m.jg)(a),w=(0,c.TK)(t,m.jg),C=w.slice(+!y).map(e=>e.node),{node:A,pos:j}=w[0]||{},k=j?e.resolve(j):null,S=y?a:A||a,I=y?u.childCount:null==k?void 0:k.parent.childCount,E=y?h:null==k?void 0:k.index(),R=C.length,L=R>0,D=(0,m.kj)(C,"width"),M=(0,m.g6)(S),_=!!(S.firstChild&&(0,m.sw)(S.firstChild)),T=(0,p.o_)(S),N=null==T||null==(x=T.mask)?void 0:x.effect,z=null==T||null==(f=T.mask)?void 0:f.intensity,P=(0,d.gK)(null==(b=S.attrs.container)?void 0:b.background),O=P?(0,s.$p)(P):void 0,F=(0,l.uw)((0,o.KA)().getState()),H=(0,p.zr)({layout:S.attrs.layout,parentCards:C,isMobileDevice:F}),B=null!==S.lastChild&&(0,g.eh)(S),V=B&&!(0,g.o_)(S.lastChild),W=!!(null==(v=S.attrs.cardMarginSettings)?void 0:v.isHidden),U={isCardDecoration:!0,nestedDepth:R,isNested:L,isFirstCard:!L&&0===E,isLastCard:!L&&"number"==typeof I&&E===I-1,hasLayoutItem:_,cardContentType:M,cardAccentBackgroundMaskEffect:N,cardAccentBackgroundMaskIntensity:z,isCardDark:O,cardColorOverride:P,displayLayout:H,insideSideLayout:(0,p.in)(C),inheritContainerWidth:D,hasCardNotesNode:B,hasNonEmptyCardNotes:V,hasHiddenCardMargins:W};n.push(r.NZ.node(i,i+a.nodeSize,{},U))}}),n},y=e=>new i.k_({key:f,state:{init:()=>new x,apply:(e,t)=>t},props:{decorations:e=>{let{doc:t}=e,n=v(t,b);return n.length>0?r.zF.create(t,n):r.zF.empty},handleDOMEvents:{drop(e){var t;let n=null==(t=e.dragging)?void 0:t.annotations,a=f.getState(e.state);if(!a)return!1;a.dragging=n}},handleDrop:(t,n,a)=>{var i;let r=f.getState(t.state),l=null==r?void 0:r.dragging;r&&(r.dragging=null);let o=(0,h.M7)(t,n,a);if(!o)return!1;let s=a.content.toJSON();if(!s)return!1;let d=(null==(i=s[0])?void 0:i.type)==="card";if(d&&l)return e.commands.rearrangeCards({from:l.origNodePos,to:o.pos,position:"above"});let c=d?s:{type:"card",content:s},{selection:p}=t.state,g=!p.empty;try{return e.chain().insertContentAt(o.pos,c,{updateSelection:!1}).command(n=>{let{tr:a}=n;if(g&&a.deleteSelection(),l){let n=(0,u.nh)({view:t,tr:a,cardWrapOffset:+!d,dragging:l,dropPos:o.pos});requestAnimationFrame(()=>{var t,a;null==(t=(a=e.commands).moveAnnotations)||t.call(a,n)})}return!0}).focusMapped(o.pos,1).run()}catch(e){return console.error("(caught) [Cardplugin] handleDrop error:",e),!0}},handlePaste:(t,n,i)=>{var r;let l=i.content.toJSON();if(!l)return!1;if((null==(r=l[0])?void 0:r.type)==="card"){let r=t.state.selection,l=(0,a.KP)(m.jg)(r);if(l){n.preventDefault();let t=l.pos+l.node.nodeSize;return e.commands.insertContentAt(t,i.content.toJSON()),!0}}return!1}}}),w={isNested:!1,hasLayoutItem:!1,nestedDepth:0,isFirstCard:!1,isCardDecoration:!0,isLastCard:!1,displayLayout:"blank",cardContentType:"responsive",insideSideLayout:!1,hasCardNotesNode:!1,hasNonEmptyCardNotes:!1,hasHiddenCardMargins:!1},C=e=>{let t=e.find(e=>e.spec.isCardDecoration);return t?t.spec:w}},16410:(e,t,n)=>{"use strict";n.d(t,{_:()=>_});var a=n(6029),i=n(27229),r=n(16936),l=n(49611),o=n(46898),s=n(67909),d=n(36071),c=n(54731),u=n(17920),p=n(3674),h=n(40691),g=n(26385),m=n(48810),x=n(13366),f=n(98164),b=n(17496),v=n(36218),y=n(16426),w=n(61204),C=n(55597),A=n(48621),j=n(91106),k=n(19564),S=n(77650),I=n(55729),E=n(73287),R=n(6807),L=n(65148);let D={[E.tiT.DeceptiveOrMisleading]:{title:(0,a.jsx)(k.x6,{id:"Y5QK1F"})},[E.tiT.Explicit]:{title:(0,a.jsx)(k.x6,{id:"Zeb01n"})},[E.tiT.Other]:{title:(0,a.jsx)(k.x6,{id:"/IX/7x"})},[E.tiT.Spam]:{title:(0,a.jsx)(k.x6,{id:"Y5QK1F"})},[E.tiT.Inappropriate]:{title:(0,a.jsx)(k.x6,{id:"Zeb01n"})}},M=[E.tiT.DeceptiveOrMisleading,E.tiT.Explicit,E.tiT.Other],_=e=>{let{docId:t,buttonType:n,onSubmitReport:o,buttonProps:s}=e,[d]=(0,R.M)(L.E.abuseReports,[]),[c,u]=(0,I.useState)(d.includes(t||"")),{isOpen:p,onOpen:h,onClose:g}=(0,i.j)({id:"report-page-modal"}),m=(0,I.useCallback)(()=>{u(!0),g(),null==o||o()},[g,o]);return c||!t?null:(0,a.jsxs)(a.Fragment,{children:[p&&(0,a.jsx)(T,{docId:t,isOpen:!0,onClose:g,onSubmit:m}),"iconRight"===n?(0,a.jsx)(j.Tz,{label:(0,a.jsx)(k.x6,{id:"ch68HI"}),children:(0,a.jsx)(r.K,{"aria-label":S.Ru._({id:"ch68HI"}),borderInlineStartWidth:"0px",variant:"plain",size:"sm",borderInlineStartRadius:0,icon:(0,a.jsx)(A.g,{icon:C.tHS,size:"sm"}),onClick:h,...s})}):"button"===n?(0,a.jsx)(l.$,{marginX:"auto",colorScheme:"gray",color:"gray.500",size:"sm",variant:"ghost",leftIcon:(0,a.jsx)(A.g,{icon:C.tHS}),onClick:h,children:(0,a.jsx)(k.x6,{id:"ch68HI"})}):null]})},T=e=>{let{docId:t,isOpen:n,onClose:i,onSubmit:r}=e,[C,A]=(0,R.M)(L.E.abuseReports,[]),[_,T]=(0,I.useState)(),[N]=(0,E.pZI)(),[z,P]=(0,I.useState)(),O=(0,o.d)(),F=(0,I.useCallback)(()=>{_&&N({variables:{input:{docId:t,reason:_,description:z}}}).then(()=>{A([...C,t]),O({title:(0,a.jsx)(k.x6,{id:"7sBcV9"}),description:(0,a.jsx)(k.x6,{id:"m02YqD"}),status:"success",duration:5e3,isClosable:!0,position:"top"}),r()})},[_,N,t,z,A,C,O,r]);return(0,a.jsx)(j.L8,{isDark:!1,children:(0,a.jsxs)(s.aF,{isOpen:n,onClose:i,trapFocus:!1,children:[(0,a.jsx)(d.m,{}),(0,a.jsxs)(c.$,{children:[(0,a.jsx)(u.r,{children:(0,a.jsx)(k.x6,{id:"ch68HI"})}),(0,a.jsx)(p.s,{}),(0,a.jsx)(h.c,{children:(0,a.jsxs)(g.B,{spacing:0,children:[(0,a.jsx)(m.E,{mb:6,children:(0,a.jsx)(k.x6,{id:"oNyQYO"})}),(0,a.jsx)(x.z,{onChange:e=>{T(e)},value:_,children:(0,a.jsx)(g.B,{children:M.map(e=>{let t=D[e];return(0,a.jsx)(f.s,{value:e,children:null==t?void 0:t.title},e)})})}),(0,a.jsx)(b.S,{in:_===E.tiT.Other,children:(0,a.jsx)(v.T,{onChange:e=>{P(e.target.value)},maxLength:200,placeholder:S.Ru._({id:"1ULmtx"}),mt:4})})]})}),(0,a.jsx)(y.j,{children:(0,a.jsxs)(w.e,{children:[(0,a.jsx)(l.$,{colorScheme:"gray",onClick:i,variant:"ghost",children:(0,a.jsx)(k.x6,{id:"dEgA5A"})}),(0,a.jsx)(j.Tz,{label:(0,a.jsx)(k.x6,{id:"h7+4yF"}),isDisabled:!!_,shouldWrapChildren:!0,children:(0,a.jsx)(l.$,{onClick:F,variant:"hazardous",isDisabled:!_,children:(0,a.jsx)(k.x6,{id:"ovTgfk"})})})]})})]})]})})}},16595:(e,t,n)=>{"use strict";n.d(t,{Df:()=>x,F:()=>h,Ki:()=>v,XJ:()=>C,bY:()=>A,um:()=>m,wH:()=>g,wt:()=>y,yK:()=>p});var a=n(22905),i=n(60449),r=n.n(i),l=n(97481),o=n.n(l),s=n(42725),d=n.n(s),c=n(59230),u=n(46007);let p=e=>{let{result:t,isError:n,attrs:a}=e;if(n)return{uploadStatus:c.A.Error,showPlaceholder:!0,tempUrl:null,src:null};let{fullResults:i,...r}=t;return{uploadStatus:c.A.Done,showPlaceholder:!1,source:(null==a?void 0:a.source)||"image.custom",...r}},h=e=>({tempUrl:e,uploadStatus:c.A.Uploading,src:null,source:"image.custom"}),g=(e,t)=>{let n=e.type.spec.imageKeyPath,a=n?d()({},n,t):t;return o()({},e.attrs,a)},m=e=>{let t=e.type.spec.imageKeyPath;return t||"image"===e.type.name?t?r()(e.attrs,t,e.attrs):e.attrs:null},x=(e,t,n,i)=>{if(null==i?void 0:i.id)return i.id;if("smartLayoutCell"===t.type.name)return t.attrs.id;if("cardAccentLayoutItem"===t.type.name){let t=(0,a.eL)(e.state.doc.resolve(n),e=>"card"===e.type.name);return t?t.node.attrs.id:null}},f=(e,t)=>(0,a.xe)(e.state.doc,e=>{let n=m(e);return[null==n?void 0:n.tempUrl,null==n?void 0:n.src].includes(t)}),b=(e,t)=>(0,a.xe)(e.state.doc,e=>"embed"===e.type.name&&e.attrs.url===t),v=(e,t,n)=>{e.parentEditor&&(e=e.parentEditor),t&&w(e,n,t);let a=f(e,t);if(0==a.length)return void console.warn("[MediaUpload] Couldn't find placeholder node");a.forEach(t=>{let{pos:a}=t;e.commands.updateImageOnUploadSuccess(a,n)}),setTimeout(()=>{e.commands.revokeImageTempURLs(t)},3e4)},y=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.parentEditor&&(e=e.parentEditor);let i=f(e,t);if(0==i.length)return void console.warn("[MediaUpload] Couldn't find placeholder node");i.forEach(t=>e.commands.updateImageOnUploadFailure(t.pos,a)),console.error(n)},w=(e,t,n)=>{e.storage.mediaUpload.completedUploads[n]=t},C=(e,t,n)=>{let a=b(e,t);if(0==a.length)return void console.warn("[MediaUpload] Couldn't find placeholder node");a.forEach(t=>{e.commands.updateAttributesAtPos(t.pos,{url:n.src,sourceUrl:n.src,embed:{url:n.src},thumbnail:{src:n.thumbnail,uploadStatus:c.A.Done,showPlaceholder:!1}})})},A=e=>({meta:{title:e.name,description:(0,u.z3)(e.size,1)},thumbnail:{uploadStatus:c.A.Uploading,showPlaceholder:!0},source:"embed.pdf"})},17006:(e,t,n)=>{"use strict";n.d(t,{Uw:()=>l,bh:()=>o,eL:()=>r,tX:()=>s});var a=n(17406),i=n(80274);let r=1.25,l=1.6,o=(e,t)=>{let{size:n,mobileSize:a}=(0,i.o)(e);if(e&&(0,i.Ii)(e)){var r,l;let e=(null!=(r=t.config.headingFontSize)?r:1)/(null!=(l=t.config.fontSize)?l:1),i=n*e,o=a?a*e:void 0;return{fontSize:o?["".concat(o,"em"),"".concat(i,"em")]:"".concat(i,"em"),"@media print":{fontSize:"".concat(i,"em")},lineHeight:"var(--line-height-heading)"}}return{fontSize:a?["".concat(a,"em"),"".concat(n,"em")]:"".concat(n,"em"),"@media print":{fontSize:"".concat(n,"em")},lineHeight:"var(--line-height-body)"}},s=e=>{let t={".block-paragraph":{...o("default",e)},".block-heading":{'.heading[level="1"]':{...o("h1",e)},'.heading[level="2"]':{...o("h2",e)},'.heading[level="3"]':{...o("h3",e)},'.heading[level="4"]':{...o("h4",e)}},".block-title":{".title":{...o("title",e)},'.title[level="1"]':{...o("title",e)},'.title[level="2"]':{...o("titleLg",e)},'.title[level="3"]':{...o("titleXl",e)}}};return Object.keys((0,a.ZD)()).forEach(n=>{let a=o(n,e);t['[data-font-size="'.concat(n,'"]')]=a}),t}},17074:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var a=n(6029),i=n(55729),r=n(87996);let l={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},o=e=>{let{handleFilesCallback:t,multiple:n=!1,accept:o=r.RH.join(",")}=e,s=(0,i.useRef)(null);return{inputElement:(0,i.useMemo)(()=>(0,a.jsx)("input",{ref:s,className:"gamma-FileInput-input",style:l,type:"file",name:"gamma-file-input",multiple:n,accept:o,onChange:e=>{let n=e.target;n&&n.files&&(t(Array.from(n.files)),n.value=null)}}),[o,t,n]),onClick:(0,i.useCallback)(()=>{var e;null==(e=s.current)||e.click()},[])}}},17226:(e,t,n)=>{"use strict";n.d(t,{B:()=>v,E:()=>y});var a=n(22905),i=n(54348),r=n.n(i),l=n(94289),o=n(63867),s=n(98308),d=n(15607),c=n(23513),u=n(53885),p=n(59080),h=n(83143),g=n(28700),m=n(45943),x=n(53615),f=n(98807),b=n(50535);let v=a.YY.create({name:"clipboard",addProseMirrorPlugins(){let e=this.editor,t=e.state.schema,n=null;return[new o.k_({key:new o.hs("clipboard"),appendTransaction(e,t,n){let a=e.find(e=>"cut"===e.getMeta("uiEvent"));if(!a)return null;let i=(0,c.i)(a);return i?n.tr.setSelection(i):null},props:{handleDOMEvents:{drop(e){n=e.dragging,requestAnimationFrame(()=>{n=null})}},clipboardSerializer:{serializeFragment:e=>(0,b.t8)(e,this.editor.schema)},transformPastedHTML:s.V,transformPasted:a=>{let i=(null==n?void 0:n.slice)?a:(0,f.ne)(a,t);return w(e,i)},handlePaste:(t,n,a)=>(0,m.Mu)(e,n,a)||(0,x.D1)(e,n)||(0,g.j)(t,n,a)}})]},addCommands(){return{insertMarkdownAt:(e,t)=>n=>{let{state:a,tr:i}=n;try{let n=(0,x.os)(t,a.schema);return i.replaceRange(e.from,e.to,n),!0}catch(e){return console.warn("(caught) [Clipboard] insertMarkdownAt error",e),!1}},basicCut:e=>{let{from:t,to:n}=e;return e=>{let{state:a,tr:i}=e;return y(a.doc.slice(t,n).content,this.editor,!0),i.deleteRange(t,n),!0}},copy:e=>{let{from:t,to:n}=e;return e=>{let{state:a}=e;return y(a.doc.slice(t,n).content,this.editor,!1),!0}}}}}),y=(e,t,n)=>{var a,i,l,o;let s=(0,b.$R)(e,t.schema),d=e.firstChild;if(1===e.childCount&&!n){let e,t=(null==d?void 0:d.type.name)==="image",n=(null==d?void 0:d.type.name)==="cardAccentLayoutItem"&&(null==d||null==(l=d.attrs)||null==(i=l.background)?void 0:i.image),a=(null==d?void 0:d.type.name)==="smartLayoutCell"&&(null==d||null==(o=d.attrs)?void 0:o.image);t?e=d.attrs.src:n?e=null==d?void 0:d.attrs.background.image.src:a&&(e=null==d?void 0:d.attrs.image.src),e&&(0,h.qp)(e).catch(e=>{console.warn("Image clipboard copy failed, falling back to HTML:",e)})}null==(a=document.getSelection())||a.removeAllRanges(),r()(s,{format:"text/html"});let c=u.q.getState(t.state);return c&&!n&&c.clearCutData(),s},w=(e,t)=>{var n;let a=(0,p.e)(e.state.doc),i=null==(n=t.toJSON())?void 0:n.content;if(!i||"document"!==i[0].type)return t;let r=(0,p.e)(t.content.firstChild);return a.cardLayoutsEnabled&&!r.cardLayoutsEnabled?((0,d.Sn)(i,e=>{"card"===e.type&&(e.content=[{type:"cardLayoutItem",content:e.content}])}),l.Ji.fromJSON(e.schema,{openStart:t.openStart+1,openEnd:t.openEnd+1,content:i})):t}},17275:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});var a=n(52762),i=n(94922);let r=(e,t,n,r,l)=>{let o=t.doc.nodeAt(n);if((null==o?void 0:o.type.name)!=="card")return!1;let s=o.attrs,d=(0,i.lH)(r);if((0,i.Fm)(t,n,e.schema,d),r===s.layout)return!0;t.setNodeAttribute(n,"layout",r);let{accent:c}=(0,i.dg)(t,n);if(l&&c&&c.node.attrs.background.type===a.h.NONE){let e=l();e&&t.setNodeAttribute(c.pos,"background",e)}let{layoutTemplateColumns:u}=o.attrs,p=s.layout;return u&&("left"===p&&"right"===r||"right"===p&&"left"===r)&&t.setNodeAttribute(n,"layoutTemplateColumns",u.split(" ").reverse().join(" ")),!0}},17485:(e,t,n)=>{"use strict";n.d(t,{z_:()=>g,Kl:()=>m,zF:()=>h});var a=n(6029),i=n(99492),r=n(77650),l=n(49611),o=n(48621),s=n(91106),d=n(2681),c=n(80180);let u=e=>{var t;let{value:n,updateValue:r,choices:u,defaultIcon:p,option:h}=e;return(0,a.jsxs)(d.ms,{isLazy:!0,children:[(0,a.jsx)(s.Tz,{placement:"top",label:h.name(),shouldWrapChildren:!0,children:(0,a.jsx)(d.gf,{as:l.$,variant:"toolbar",onMouseDown:c.Fw,rightIcon:(0,a.jsx)(o.g,{icon:i.Jt$,transform:"shrink-6"}),children:(0,a.jsx)(o.g,{icon:(null==(t=u[n])?void 0:t.icon)||p})})}),(0,a.jsx)(d.Q5,{children:Object.entries(u).map(e=>{let[t,{icon:n,name:i,disabled:l}]=e;return l?null:(0,a.jsx)(d.tJ,{icon:(0,a.jsx)(o.g,{icon:n,fixedWidth:!0}),onClick:()=>r(t),children:i},t)})})]})},p=()=>({square:{name:r.Ru._({id:"1DA6ap"}),icon:i.Nfw},circle:{name:r.Ru._({id:"7xMmki"}),icon:i.GEE},landscape:{name:r.Ru._({id:"XxIeKn"}),icon:i.Cpz},portrait:{name:r.Ru._({id:"3bV9gD"}),icon:i.b0A}}),h={square:{aspectRatio:"1 / 1"},circle:{borderRadius:"9999px",aspectRatio:"1 / 1"},landscape:{aspectRatio:"1.618 / 1"},portrait:{aspectRatio:"4 / 5"}},g={square:1,circle:1,landscape:1.618,portrait:.8},m={key:"imageShape",defaultValue:()=>null,Control:e=>{let{value:t,updateValue:n,editor:r,option:l}=e;return(0,a.jsx)(u,{value:t,updateValue:n,editor:r,choices:p(),option:l,defaultIcon:i.Nfw})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:"square"===e?i.Nfw:"circle"===e?i.GEE:"landscape"===e?i.Cpz:i.b0A,items:Object.entries(p()).map(n=>{let[a,{name:r}]=n;return{key:r,label:r,icon:e===a?i.e68:void 0,onClick:()=>t(a)}})}),name:()=>r.Ru._({id:"JbOau/"})}},17928:(e,t,n)=>{"use strict";n.d(t,{DN:()=>i,LF:()=>l});var a=n(83747),i=function(e){return e.CREATE_COMMENT_FROM_SELECTION="createCommentFromSelection",e.OPEN_POPUP_COMMENT="openPopupComment",e.POPUP_COMMENT_TOGGLED="popupCommentToggled",e.OPEN_THEME_DRAWER="openThemeDrawer",e.OPEN_PAGE_SETUP="openPageSetup",e.OPEN_PRESENT_MODE_CONTEXT_MENU="openPresentModeContextMenu",e.Y_DOC_IS_TOO_LARGE="yDocIsTooLarge",e}({});class r extends a.b{}let l=new r},18232:(e,t,n)=>{"use strict";n.d(t,{_:()=>c});var a=n(55729),i=n(95889),r=n(30361),l=n.n(r),o=n(15342),s=n(43634);let d=()=>{let e=(0,o.GV)(s.SJ);return(0,a.useCallback)(()=>l()(e.config.accentBackgrounds),[e])},c=(e,t)=>{let n=d(),r=(0,i.st)();return(0,a.useCallback)(a=>{"blank"===a?e.commands.setCardLayout(t,a):e.commands.setCardLayout(t,a,n),null==r||r.track(i.VV.CARD_LAYOUT_UPDATED,{source:"card-styling-menu",layout:a})},[e,t,n,r])}},18317:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var a=n(6029),i=n(19564),r=n(55729),l=n(12417),o=n(40240);let s=e=>{let{interactionId:t,operation:n,instructions:i,RatingButtons:s=l.LW}=e,[c,u]=(0,r.useState)(null),p=(0,r.useCallback)((e,a,r)=>{(0,o.pS)({feedback:a,tags:r,rating:e,interactionId:t,instructions:i,operation:n})},[t,i,n]),h=(0,r.useCallback)(e=>{u(e),(0,o.D8)({rating:e,interactionId:t,operation:n,instructions:i})},[t,n,i]);return(0,a.jsx)(l.f3,{rating:c||void 0,setRating:h,RatingButtons:s,feedbackTags:d,trackFeedback:p})},d=[{key:"wrong-language",label:(0,a.jsx)(i.x6,{id:"R2Ly6h"})},{key:"wrong-layout",label:(0,a.jsx)(i.x6,{id:"moXJSM"})},{key:"wrong-content",label:(0,a.jsx)(i.x6,{id:"AgLuGi"})},{key:"wrong-images",label:(0,a.jsx)(i.x6,{id:"IAt1qK"})},{key:"too-similar",label:(0,a.jsx)(i.x6,{id:"Np7sCV"})},{key:"too-different",label:(0,a.jsx)(i.x6,{id:"/wLn3u"})},{key:"instructions",label:(0,a.jsx)(i.x6,{id:"Tq32Jp"})},{key:"other",label:(0,a.jsx)(i.x6,{id:"/IX/7x"})}]},18934:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,Q:()=>r});var a=n(55729);let i=(0,a.createContext)(void 0),r=i.Provider,l=()=>(0,a.useContext)(i)},19250:(e,t,n)=>{"use strict";n.d(t,{D:()=>l});var a=n(55786),i=n(89703),r=n(66079);let l=()=>Object.entries(r.Fn).filter(e=>{let[t,n]=e;return n.nodeName&&!n.disabled}).map(e=>{let[t,n]=e;return{key:t,name:n.label,nodeName:n.nodeName||"mediaPlaceholder",execute:e=>e.commands.insertMediaBlock(n.key),dragStartFn:e=>{(0,a.f)(e,{type:"mediaPlaceholder",attrs:{source:n.key}})},dragEndFn:()=>{(0,i.G)()},description:n.description,icon:n.icon,image:n.image,testId:n.key,keywords:n.keywords,featureFlag:n.featureFlag,priority:n.priority,categories:n.categories,checkDisabled:n.checkDisabled,badge:n.badge}})},19297:(e,t,n)=>{"use strict";n.d(t,{DF:()=>f,NJ:()=>d,Ny:()=>m,Ob:()=>b,X6:()=>s,ds:()=>c,nX:()=>y,rP:()=>C,xK:()=>w});var a=n(22905),i=n(15607),r=n(33201);let l=["card","document","gridLayout","gallery"],o=e=>e.isBlock&&!l.includes(e.type.name)&&!(e.isTextblock&&(0,i.Op)(e)),s=e=>"gridLayout"===e.type.name,d=e=>"gridCell"===e.type.name,c=(e,t,n)=>{let a=n&&u(e,n,t);if(a)return a;if(n&&!m(n,e.state.schema))return null;let i=p(e,t,"right")||p(e,t,"left");return!i||n&&n.content.firstChild===i.node?null:i},u=(e,t,n)=>{var r;if(!x(t,e.state.schema))return null;let l=null==(r=e.posAtCoords({left:n.clientX,top:n.clientY}))?void 0:r.inside;if(!l||-1==l)return null;let{doc:o}=e.state,s=o.resolve(l),c=o.nodeAt(l),u=c&&d(c)?{node:c,pos:l}:(0,a.eL)(s,d),p=(null==u?void 0:u.pos)&&(0,i.q0)(u.pos,e);if(!u||!p)return null;let h=n.clientX>p.left+p.width/2?"right":"left";return{pos:u.pos,node:u.node,rect:p,side:h}},p=(e,t,n)=>{var r;let l=null==(r=e.posAtCoords({left:t.clientX+("left"==n?30:-30),top:t.clientY}))?void 0:r.inside;if(!l||-1==l)return null;let{doc:s,schema:d}=e.state,c=s.resolve(l),u=s.nodeAt(l),p=u&&o(u)?{node:u,pos:l}:(0,a.eL)(c,o);if(!p)return null;let m=(0,i.q0)(l,e);if(!m)return null;let x="left"==n?t.clientX-m.left:m.right-t.clientX,f=x<0,b=30*((null==u?void 0:u.type.name)!=="gridCell");if(!(f&&x>-b||"right"==n&&x<(m.right-m.left)*.15))return null;let v=s.resolve(p.pos),y=(null==u?void 0:u.type.name)==="gridCell"&&h(v,d)||g(v,d);if(f||!y){let t=(0,a.eL)(c,e=>"gridCell"===e.type.name);if(t&&h(s.resolve(t.pos),d)){let a=(0,i.q0)(t.pos,e);return a?{pos:t.pos,node:t.node,side:n,rect:a}:null}}return y?{pos:p.pos,rect:m,node:p.node,side:n}:null},h=(e,t)=>e.parent.canReplaceWith(e.index(),e.index(),t.nodes.gridCell),g=(e,t)=>e.parent.canReplaceWith(e.index(),e.indexAfter(),t.nodes.gridLayout),m=(e,t)=>t.nodes.gridCell.validContent(e.content),x=(e,t)=>t.nodes.gridLayout.validContent(e.content),f=e=>v(e,"gridLayout"),b=e=>{let t=v(e,"gridLayout");if(!t||!t.nodeAfter)throw Error();let n=t.nodeAfter,a=[],i=t.start(t.depth+1);for(let e=0;e<n.childCount;e++){let t=n.child(e);i+=0===e?0:n.child(e-1).nodeSize,a.push({node:t,pos:i})}return a},v=(e,t)=>{var n;if((null==(n=e.nodeAfter)?void 0:n.type.name)===t)return e;let a=e.doc;for(let n=e.depth;n>0;n--)if(e.node(n).type.name===t)return a.resolve(e.before(n));return null},y=(e,t)=>{let n=b(e),a=n[-1===t?n.length-1:t];return a?e.doc.resolve(a.pos):null},w=e=>b(e).findIndex(t=>t.pos===e.pos),C=(e,t,n)=>{var i,l;let o=null==(i=(0,r.j5)(n,e).find(e=>e.spec.isLayoutCellDecoration))?void 0:i.spec.colIndex,d=null==(l=(0,r.j5)(n,t).find(e=>e.spec.isLayoutCellDecoration))?void 0:l.spec.colIndex,c=n.state.doc.resolve(e),u=(0,a.eL)(c,s);if(!u)return;let p=n.state.doc.resolve(t),h=(0,a.eL)(p,s);if(!h||h.pos!==u.pos)return;let g=[...u.node.attrs.colWidths],[m]=g.splice(o,1);return g.splice(d,0,m),{colWidths:g,parentPos:u.pos}}},19310:(e,t,n)=>{"use strict";n.d(t,{a:()=>b,B:()=>Q});var a=n(6029),i=n(26420),r=n(33787),l=n(74676),o=n(48810),s=n(48621),d=n(91106),c=n(77650),u=n(55729),p=n(82328),h=n(90184),g=n(87827),m=n(95889),x=n(76083),f=n(59712);let b=(0,u.forwardRef)((e,t)=>{let{query:n,editor:o}=e,{isInOfflineMode:c}=(0,p.u)(),b=(0,g.n)(x.E1).filter(e=>{if((0,x.gT)(o,e,void 0,c))return!1;let{name:t,keywords:a=[]}=e;return t().toLowerCase().includes(n.toLowerCase())||a.find(e=>e.startsWith(n.toLowerCase()))}),v=(0,u.useCallback)(e=>{if(!b[e])return;let{execute:t}=b[e],a=o.state.selection;o.chain().deleteRange({from:a.from-n.length-1,to:a.to}).run(),(0,x.Jb)(b[e],m.oU.SLASH_MENU),t(o)},[o,b,n.length]),{selectedIndex:w,selectedItemEl:C}=(0,f.Rj)({ref:t,selectItem:v,options:b});return b.length>0?(0,a.jsx)(i.a,{"data-slash-menu-dropdown":!0,children:(0,a.jsx)(d.qF,{children:(0,a.jsx)(d.QE,{width:"375px",children:b.map((e,t)=>{let{name:n,icon:i,iconStyle:o,image:c,shortcut:u,creditType:p,badge:g,nodeName:m}=e;return(0,a.jsxs)(d.nh,{ref:t===w?C:null,icon:c?(0,a.jsx)(r._,{h:"1.5em",w:"1.25em",objectFit:"contain",src:c.src}):i?(0,a.jsx)(s.g,{icon:i,rotation:null==o?void 0:o.rotation,size:"1x",fixedWidth:!0,color:"var(--chakra-colors-trueblue-600)"}):(0,a.jsx)(a.Fragment,{}),tabIndex:t===w?0:-1,onClick:()=>v(t),command:u,children:[n(),m&&(0,a.jsx)(y,{nodeName:m}),p&&(0,a.jsx)(h.G,{type:p,colorScheme:"blackAlpha",bg:"whiteAlpha.800"}),g&&(0,a.jsx)(l.E,{ms:2,colorScheme:"green",children:g()})]},t)})})})}):(0,a.jsx)(a.Fragment,{})}),v={smartLayout:()=>c.Ru._({id:"Biyg+u"}),smartDiagram:()=>c.Ru._({id:"PgKDOY"}),diagram:()=>c.Ru._({id:"i+ShMB"})},y=e=>{let{nodeName:t}=e,n=v[t];return n?(0,a.jsx)(o.E,{mt:-1,color:"gray.500",fontSize:"xs",children:n()}):null};var w=n(58959),C=n(26476),A=n(61204),j=n(94740),k=n(66199),S=n(49611),I=n(12514),E=n(18078),R=n(51684),L=n(19564),D=n(22905),M=n(66380),_=n(40061),T=n(15342),N=n(62590),z=n(43634),P=n(80180),O=n(42644),F=n(72470),H=n(77979),B=n(38036),V=n(99492);let W=(e,t)=>{let[n,a]=(0,u.useState)(null),[i,r]=(0,u.useState)(!0),l=(0,u.useRef)(null),o=(0,u.useRef)(null),s=(0,u.useRef)("keyboard"),d=(0,u.useRef)(!1),c=(0,u.useRef)(null);(0,u.useEffect)(()=>{"keyboard"===s.current&&null!==n&&o.current&&!i&&(d.current=!0,setTimeout(()=>{if(o.current&&c.current){let e=c.current.getBoundingClientRect(),t=o.current.getBoundingClientRect();(t.bottom>e.bottom||t.top<e.top)&&o.current.scrollIntoView({behavior:"auto",block:"nearest"}),o.current.focus()}setTimeout(()=>{d.current=!1},100)},0))},[n,i]);let p=(0,u.useCallback)(e=>{d.current||(s.current="mouse",a(e),r(!1))},[]),h=(0,u.useCallback)(()=>{a(0)},[]),g=(0,u.useCallback)(n=>{if(s.current="keyboard","Escape"===n.key)return n.currentTarget.value?(n.preventDefault(),n.stopPropagation(),{action:"clearSearch"}):void 0;if("ArrowDown"===n.key){n.preventDefault(),n.stopPropagation(),e.length>0&&(r(!1),a(0));return}if("Enter"===n.key){n.preventDefault(),n.stopPropagation(),e.length>0&&t(0);return}if("Tab"===n.key){e.length>0&&(n.preventDefault(),n.stopPropagation(),r(!1),a(0));return}n.stopPropagation()},[e.length,t]),m=(0,u.useCallback)((n,i)=>{switch(s.current="keyboard",n.key){case"ArrowUp":n.preventDefault(),n.stopPropagation(),0===i?(r(!0),a(null),l.current&&l.current.focus()):a(i-1);break;case"ArrowDown":n.preventDefault(),n.stopPropagation(),i<e.length-1?a(i+1):a(0);break;case"Enter":case"Tab":n.preventDefault(),n.stopPropagation(),t(i);break;case"Escape":break;default:1===n.key.length&&(r(!0),a(null),l.current&&l.current.focus())}},[e.length,t]);return{focusedIndex:n,focusedItemEl:o,searchInputRef:l,handleSearchKeyDown:g,handleSearchFocus:(0,u.useCallback)(()=>{r(!0)},[]),handleSearchChange:h,handleItemKeyDown:m,handleMouseMove:p,listBoxRef:c}},U=e=>{let{editor:t,isCardDark:n}=e,[o,f]=(0,u.useState)(""),{isInOfflineMode:b}=(0,p.u)(),v=(0,g.n)(x.E1).filter(e=>{if((0,x.gT)(t,e,void 0,b))return!1;let{name:n,keywords:a=[]}=e;return!o||n().toLowerCase().includes(o.toLowerCase())||a.find(e=>e.toLowerCase().includes(o.toLowerCase()))}),y=(0,u.useCallback)(e=>{if(!v[e])return;let{execute:n}=v[e],a=t.state.selection;t.chain().deleteRange({from:a.from,to:a.to}).run(),(0,x.Jb)(v[e],m.oU.SLASH_MENU_BLOCK_PROMPT),n(t)},[t,v]),{focusedIndex:w,focusedItemEl:C,searchInputRef:A,handleSearchKeyDown:j,handleSearchFocus:k,handleSearchChange:S,handleItemKeyDown:I,handleMouseMove:E,listBoxRef:R}=W(v,y);(0,u.useEffect)(()=>{A.current&&setTimeout(()=>{var e;null==(e=A.current)||e.focus()},50)},[]);let D=0===v.length;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.a,{p:2,borderBottom:"1px solid",borderColor:n?"titanium.700":"titanium.100",children:(0,a.jsxs)(F.M,{size:"sm",children:[(0,a.jsx)(H.W,{pointerEvents:"none",children:(0,a.jsx)(s.g,{icon:V.MjD})}),(0,a.jsx)(B.p,{ref:A,placeholder:c.Ru._({id:"Mm1grj"}),value:o,onChange:e=>{f(e.target.value),S()},onClick:P.dG,onMouseDown:P.dG,onKeyDown:e=>{let t=j(e);(null==t?void 0:t.action)==="clearSearch"&&f("")},onFocus:k,borderRadius:"md","data-slash-menu-search-input":!0})]})}),D?(0,a.jsx)(i.a,{p:3,color:n?"titanium.300":"deepocean.950",children:(0,a.jsx)(L.x6,{id:"rj6/sx",values:{searchTerm:o}})}):(0,a.jsx)(i.a,{maxH:"50vh",overflowY:"auto",ref:R,children:(0,a.jsx)(d.qF,{children:(0,a.jsx)(d.QE,{border:"none",borderRadius:"none",children:v.map((e,t)=>{let{name:n,icon:i,iconStyle:o,image:c,shortcut:u,creditType:p,badge:g}=e;return(0,a.jsxs)(d.nh,{ref:t===w?e=>{C.current=e}:null,icon:c?(0,a.jsx)(r._,{h:"1.5em",w:"1.25em",objectFit:"contain",src:c.src}):i?(0,a.jsx)(s.g,{icon:i,rotation:null==o?void 0:o.rotation,size:"1x",fixedWidth:!0,color:"var(--chakra-colors-trueblue-600)"}):(0,a.jsx)(a.Fragment,{}),tabIndex:t===w?0:-1,onClick:()=>y(t),onMouseMove:()=>E(t),onMouseDown:P.dG,onKeyDown:e=>I(e,t),command:u,children:[n(),p&&(0,a.jsx)(h.G,{type:p,colorScheme:"blackAlpha",bg:"whiteAlpha.800"}),g&&(0,a.jsx)(l.E,{ms:2,colorScheme:"green",children:g()})]},t)})})})})]})},G=e=>{switch(e){case"aiGenerated":default:return _.L;case"web":return"image.web";case"pictographic":return"image.pictographic";case"giphy":return"image.giphy";case"unsplash":return"image.unsplash"}},K=e=>(0,O.Vo)()[e],Q=e=>{var t;let{editor:n,dir:i,slashMenuOpen:r,setSlashMenuOpen:l}=e,c=(0,M.V)(),u=(0,T.GV)(z.SJ),{selection:p}=n.state;if(!p.empty)return null;let h=(0,D.eL)(n.state.doc.resolve(p.from),e=>"table"===e.type.name),g=null!=(t=(0,N.e)(n,u))&&t;return(0,a.jsx)(d.L8,{isDark:g,children:(0,a.jsx)(w.z,{spacing:2,dir:i,color:"gray.400","data-print-hidden":!0,position:"absolute",inset:"0",contentEditable:!1,overflow:"hidden",fontFamily:"body",fontSize:"0.8em",onMouseDown:P.Fw,pointerEvents:"none",userSelect:"none","data-guider-highlight":"slash-menu-prompt",className:"slash-menu-prompt",children:(0,a.jsxs)(w.z,{spacing:2,width:"100%",children:[(0,a.jsx)(o.E,{whiteSpace:"nowrap",className:"slash-menu-placeholder-long",children:(0,a.jsx)(L.x6,{id:"ll36Dw",components:{0:(0,a.jsx)(C.u,{})}})}),(0,a.jsx)(o.E,{whiteSpace:"nowrap",className:"slash-menu-placeholder-short",children:(0,a.jsx)(L.x6,{id:"RcqUBT",components:{0:(0,a.jsx)(C.u,{})}})}),(0,a.jsxs)(A.e,{variant:"plain",size:"xs",spacing:1,pointerEvents:"auto",children:[(0,a.jsxs)(j.A,{isOpen:r,onClose:()=>{l(!1),n.chain().focus().run()},onOpen:()=>l(!0),isLazy:!0,children:[(0,a.jsx)(d.Tz,{label:(0,a.jsx)(L.x6,{id:"NZGeUO"}),shortcut:"Type '/'",placement:"top",shouldWrapChildren:!0,children:(0,a.jsx)(k.W,{children:(0,a.jsx)(S.$,{color:g?"gray.400":"gray.700",borderColor:g?"gray.600":"gray.300",backgroundColor:"transparent",children:(0,a.jsxs)(w.z,{children:[(0,a.jsx)(s.g,{icon:R.sUV}),(0,a.jsx)("span",{className:"slash-menu-button-text",children:(0,a.jsx)(L.x6,{id:"4gCq8e"})})]})})})}),(0,a.jsx)(I.Z,{children:(0,a.jsx)(E.h,{borderRadius:"lg",boxShadow:"0px 8px 16px rgba(0, 0, 0, 0.15)",children:(0,a.jsx)(U,{isCardDark:g,editor:n})})})]}),(0,a.jsx)(d.Tz,{label:(0,a.jsx)(L.x6,{id:"7PxiS5"}),placement:"top",shouldWrapChildren:!0,shortcut:"/image",children:(0,a.jsx)(S.$,{color:g?"gray.400":"gray.700",borderColor:g?"gray.600":"gray.300",backgroundColor:"transparent",onClick:()=>{let e=K(G(c.imageProvider));e&&((0,x.Jb)(e,m.oU.BLOCK_PROMPT),e.execute(n))},children:(0,a.jsxs)(w.z,{children:[(0,a.jsx)(s.g,{icon:R.Cyq}),(0,a.jsx)("span",{className:"slash-menu-button-text",children:(0,a.jsx)(L.x6,{id:"P5MuiB"})})]})})}),!h&&(0,a.jsx)(d.Tz,{label:(0,a.jsx)(L.x6,{id:"hLgX3L"}),placement:"top",shouldWrapChildren:!0,shortcut:"/table",children:(0,a.jsx)(S.$,{color:g?"gray.400":"gray.700",borderColor:g?"gray.600":"gray.300",backgroundColor:"transparent",onClick:()=>{let e=K("table2");e&&((0,x.Jb)(e,m.oU.BLOCK_PROMPT),e.execute(n))},children:(0,a.jsxs)(w.z,{children:[(0,a.jsx)(s.g,{icon:R.w97}),(0,a.jsx)("span",{className:"slash-menu-button-text",children:(0,a.jsx)(L.x6,{id:"ttzhtD"})})]})})})]})]})})})}},19546:(e,t,n)=>{"use strict";n.d(t,{T:()=>l});var a=n(69768),i=n(15607),r=n(53957);let l=(e,t,n)=>{if(!n)return;let l=(0,i.MY)(e,100);l&&(0,a.g5)({data:{fromPos:l.pos,fromPct:l.pct},emitChange:!1}),(0,r.o)({cardId:n,method:"push",data:{fromPos:null,fromPct:null}})}},19705:(e,t,n)=>{"use strict";n.d(t,{$V:()=>r,KU:()=>l,S2:()=>s,Vn:()=>o,rP:()=>d,r_:()=>i});var a=n(77650);let i=40,r={sm:6,md:7,lg:8,xl:10},l={sm:.6,md:.7,lg:.8,xl:.9},o=.7,s=2,d={sm:{name:()=>a.Ru._({id:"4Revpc"}),buttonText:()=>a.Ru._({id:"ZQA8ce"}),height:1.55},md:{name:()=>a.Ru._({id:"agPptk"}),buttonText:()=>a.Ru._({id:"Tmu3kA"}),height:2},lg:{name:()=>a.Ru._({id:"k7rCa/"}),buttonText:()=>a.Ru._({id:"SMwD6s"}),height:2.65},xl:{name:()=>a.Ru._({id:"vp6Yr4"}),buttonText:()=>a.Ru._({id:"ekdhM0"}),height:3.5}}},19783:(e,t,n)=>{"use strict";n.d(t,{f:()=>em});var a=n(6029),i=n(40452),r=n(73),l=n(46091),o=n(74771),s=n(67909),d=n(36071),c=n(54731),u=n(3674),p=n(57405),h=n(48810),g=n(17920),m=n(58959),x=n(26420),f=n(3276),b=n(26385),v=n(40691),y=n(61204),w=n(49611),C=n(74676),A=n(80314),j=n(99492),k=n(48621),S=n(91106),I=n(19564),E=n(77650),R=n(55729),L=n(2362),D=n(68301),M=n(1079),_=n(5061),T=n(99038),N=n(49337),z=n(20845),P=n(89942),O=n(95889),F=n(82927),H=n(70006),B=n(779),V=n(26814),W=n(63111),U=n(67604),G=n(15342),K=n(62826),Q=n(69551);let Z=e=>{let{minsUntilRefill:t,hoursUntilRefill:n}=e;return t&&t<=60?(0,a.jsx)(I.x6,{id:"z8SbRN"}):null!==n?(0,a.jsx)(I.x6,{id:"xVtsV/",values:{hoursUntilRefill:n}}):null},q=e=>{let{credits:t,creditsUsedPercentage:n,minsUntilRefill:i,hoursUntilRefill:r}=e;if(null!==t)if(400===t)return(0,a.jsx)(I.x6,{id:"fv4yIH"});else if(t<400)return(0,a.jsxs)(b.B,{spacing:0,children:[(0,a.jsx)(h.E,{color:"white",children:(0,a.jsx)(I.x6,{id:"WZ4bvD",values:{creditsUsedPercentage:n}})}),(0,a.jsx)(h.E,{color:"gray.400",children:Z({minsUntilRefill:i,hoursUntilRefill:r})})]});else return(0,a.jsx)(I.x6,{id:"IY3q+2"})},J=()=>{let{credits:e}=(0,V.B9)(),t=(0,G.GV)(K.W8),n=(0,Q.Cj)({creditsRemaining:e,creditsToFillTo:400}),a=n?100-n:null,i=null!==t?(0,W.A)((0,U.A)(t),new Date):null,r=(0,Q.MK)(i),l=null!==i&&!!t&&i>0&&null!==e&&e<400&&null!==n;return{shouldShowRefreshUI:l,creditRefreshLabel:q({credits:e,creditsUsedPercentage:n,minsUntilRefill:i,hoursUntilRefill:r}),creditsRemainingInPercent:a,creditRefreshModalText:Z({minsUntilRefill:i,hoursUntilRefill:r})}};var $=n(32844),Y=n(31090),X=n(59554),ee=n(6743),et=n(30928),en=n(62117),ea=n(23050);let ei=e=>{let{onContactUsClick:t,...n}=e,i=(0,D.u)("aiDebits"),r=(0,D.u)("ai-credits").enabled,l=i.generateCard,o=i.wizardCreation,s=i.chatSuggestion,d=i.autocomplete,c=i.generateImage,u=(0,D.u)("aiAutocomplete"),p=(0,D.u)("aiGeneratedImages"),h=(0,D.u)("addCard2");return(0,a.jsxs)($.n,{allowMultiple:!0,...n,children:[(0,a.jsx)(er,{accordionLabel:E.Ru._({id:"IVVQ18"}),children:(0,a.jsxs)(Y.Xy,{children:[(0,a.jsxs)(Y.ck,{children:[(0,a.jsx)("strong",{children:(0,a.jsx)(I.x6,{id:"p4u+sD"})})," ",(0,a.jsx)(I.x6,{id:"XSCvWA",values:{aiGeneration:o,GAMMA_ARTIFACT_PROPER_NOUN:T.TP}})]}),h&&(0,a.jsxs)(Y.ck,{children:[(0,a.jsx)("strong",{children:(0,a.jsx)(I.x6,{id:"R8xLRW"})})," ",(0,a.jsx)(I.x6,{id:"M3I7Cf",values:{aiAddCard:l}})]}),(0,a.jsxs)(Y.ck,{children:[(0,a.jsx)("strong",{children:(0,a.jsx)(I.x6,{id:"gPyWmV"})})," ",(0,a.jsx)(I.x6,{id:"eX5Uk8",values:{aiEditing:s}}),(0,a.jsx)(I.x6,{id:"bO6EBT"})]}),p&&(0,a.jsxs)(Y.ck,{children:[(0,a.jsx)("strong",{children:(0,a.jsx)(I.x6,{id:"0jmvoW"})})," ",(0,a.jsx)(I.x6,{id:"OY40J+",values:{aiImages:c}})]}),u&&(0,a.jsxs)(Y.ck,{children:[(0,a.jsx)("strong",{children:(0,a.jsx)(I.x6,{id:"eBVeIQ"})})," ",(0,a.jsx)(I.x6,{id:"AJ11w6",values:{aiAutocomplete:d,AUTOCOMPLETE_SLASH_SHORTCUT:ea.g_,AUTOCOMPLETE_INPUT_SHORTCUT:ea.Hb}})]})]})}),r&&(0,a.jsx)(er,{accordionLabel:E.Ru._({id:"1pwdRz"}),children:(0,a.jsx)(I.x6,{id:"AVeiKc",values:{GAMMA_PROPER_NOUN:T.On}})})]})},er=e=>{let{accordionLabel:t,children:n}=e;return(0,a.jsxs)(X.A,{children:[(0,a.jsx)("h2",{children:(0,a.jsxs)(ee.J,{px:2,py:2,fontSize:"sm",children:[(0,a.jsx)(x.a,{as:"span",flex:"1",textAlign:"left",fontWeight:500,children:t}),(0,a.jsx)(et.Q,{})]})}),(0,a.jsx)(en.v,{pb:4,px:2,fontSize:"sm",children:n})]})},el=()=>({friend:{label:E.Ru._({id:"uU68PM"})},teammate:{label:E.Ru._({id:"O/k8gF"})},buy:{label:E.Ru._({id:"/2RIKE"})}}),eo={fontWeight:500,letterSpacing:"normal",color:"gray.600"},es=e=>{let{onClose:t,onOpen:n,credits:i,segmentEvent:r=O.VV.GAMMA_PRO_UPSELL_CALLOUT_AI_CREDITS}=e,l=(0,_.fW)(),{user:E,currentWorkspace:W}=(0,F.ur)(),U=(0,F.CX)(),G=(0,D.u)("upsellUXEnabled_Pro"),K=(0,P.ez)("unlimited_credits"),[Q,Z]=(0,R.useState)(G?"buy":"friend"),q=(0,D.u)("ai-credits"),$=(0,D.u)("intercom"),Y=(0,N.k)(),{lowCreditStatus:X}=(0,V.B9)(),ee=(0,R.useMemo)(()=>E?"teammate"===Q&&W&&U?(0,H.Fz)({userId:E.id,workspace:W}):"friend"===Q?(0,H.Fz)({userId:E.id}):"":"",[U,W,Q,E]),et=q.enabled,en=q.referralBonus,ea=el()[Q],er=l?"friend"===Q?44:56:void 0,{shouldShowRefreshUI:es,creditRefreshLabel:ed,creditRefreshModalText:ec}=J(),eu=(0,R.useCallback)(()=>{Y(),t()},[Y,t]),ep=(0,B.NZ)();return(0,a.jsx)(S.L8,{isDark:!1,children:(0,a.jsxs)(s.aF,{isOpen:!0,onClose:t,size:"xl",returnFocusOnClose:!1,children:[(0,a.jsx)(d.m,{}),(0,a.jsxs)(c.$,{children:[(0,a.jsx)(u.s,{}),(0,a.jsxs)(p.T,{py:4,px:6,textAlign:"center",children:[(0,a.jsx)(h.E,{...eo,fontSize:"md",color:X?ep[X].darkColor:void 0,children:X?ep[X].description:(0,a.jsx)(I.x6,{id:"xy3nnP"})}),(0,a.jsx)(g.r,{p:0,color:X?ep[X].lightColor:void 0,children:(0,a.jsxs)(m.z,{children:[(0,a.jsx)(x.a,{as:"span",fontSize:"xl",children:(0,a.jsx)(k.g,{icon:j.wq_})})," ",null===i?(0,a.jsx)(f.y,{size:"sm"}):(0,a.jsx)(I.x6,{id:"T57gLR",values:{credits:i}})]})}),es&&(0,a.jsx)(S.Tz,{label:ed,children:(0,a.jsxs)(b.B,{color:"deepocean.600",alignItems:"center",direction:"row",flexWrap:"wrap",fontSize:"sm",spacing:1,children:[(0,a.jsx)(k.g,{icon:j.AoE}),(0,a.jsx)(h.E,{children:ec})]})}),(0,a.jsx)(h.E,{textAlign:"start",fontSize:"sm",pt:2,...eo,children:(0,a.jsx)(I.x6,{id:"lUUl1i"})})]}),(0,a.jsxs)(v.c,{pb:4,children:[et?(0,a.jsxs)(p.T,{spacing:4,children:[(0,a.jsxs)(y.e,{variant:"ghost",size:"sm",spacing:0,gap:2,justifyContent:"center",flexWrap:"wrap",alignItems:"center",children:[!K&&G&&(0,a.jsx)(w.$,{onClick:()=>Z("buy"),isActive:"buy"===Q,color:"buy"===Q?void 0:"gray.600",children:(0,a.jsx)(I.x6,{id:"KctW9G"})}),(0,a.jsx)(w.$,{onClick:()=>Z("friend"),isActive:"friend"===Q,color:"friend"===Q?void 0:"gray.600",children:(0,a.jsx)(I.x6,{id:"KSBmDv"})}),U&&(0,a.jsx)(w.$,{leftIcon:(0,a.jsx)(k.g,{icon:j.nWR}),onClick:()=>Z("teammate"),isActive:"teammate"===Q,color:"teammate"===Q?void 0:"gray.600",children:(0,a.jsx)(I.x6,{id:"dUOpaF"})})]}),("friend"===Q||"teammate"===Q)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(m.z,{spacing:2,children:[(0,a.jsxs)(h.E,{fontSize:"sm",minW:"50%",children:["friend"===Q&&(0,a.jsx)(I.x6,{id:"tBKKYy",values:{referralBonusAmount:en,GAMMA_PROPER_NOUN:T.On}}),"teammate"===Q&&(0,a.jsx)(I.x6,{id:"q8MWFp",values:{referralBonusAmount:en}})]}),(0,a.jsxs)(C.E,{colorScheme:"green",fontSize:"xs",children:["+"," ",(0,a.jsx)(I.x6,{id:"NFNFrR",values:{referralBonusAmount:en}})]})]}),(0,a.jsx)(L.X,{url:ee,paddingLeft:er,customLabel:ea.label})]}),"buy"===Q&&(0,a.jsx)(z.c,{segmentEvent:r,onOpenCallback:t,onCloseCallback:n,title:(0,a.jsx)(I.x6,{id:"0i4o6E"})})]}):(0,a.jsxs)(m.z,{align:"baseline",spacing:1,children:[(0,a.jsx)(h.E,{children:(0,a.jsx)(I.x6,{id:"0TJN6B"})}),$?(0,a.jsx)(w.$,{onClick:eu,variant:"link",children:(0,a.jsx)(I.x6,{id:"Bhgd0l"})}):(0,a.jsxs)(A.N,{href:"mailto:".concat(M.J),children:[(0,a.jsx)(I.x6,{id:"Bhgd0l"}),(0,a.jsx)(o.p,{ms:1,transform:"translateY(-2px)"})]})]}),(0,a.jsx)(ei,{my:4,onContactUsClick:$?eu:void 0})]})]})]})})},ed=(0,R.memo)(e=>{let{isOpen:t,...n}=e;return t?(0,a.jsx)(es,{...n}):null});var ec=n(24302),eu=n(79956),ep=n(80219);let eh=e=>{let{lowCreditStatus:t,isDark:n}=e;if(t===ep.y.EXHAUSTED)if(n)return{color:"red.500",bg:"transparent",_hover:{bg:"red.300"},_active:{bg:"red.200"},progressBarFillColor:"red.500"};else return{color:"red.700",bg:"transparent",_hover:{bg:"red.50"},_active:{bg:"red.100"},progressBarFillColor:"red.500"};if(t===ep.y.LOW)if(n)return{color:"orange.500 !important",bg:"transparent",_hover:{bg:"orange.200 !important"},_active:{bg:"orange.300 !important"},progressBarFillColor:"orange.500"};else return{color:"orange.700 !important",bg:"transparent",_hover:{bg:"orange.100 !important"},_active:{bg:"orange.200 !important"},progressBarFillColor:"orange.500"};return n?{color:"titanium.300",bg:"transparent",_hover:{bg:"elevation.3"},_active:{bg:"elevation.4"},progressBarFillColor:"deepocean.500"}:{color:"deepocean.950",bg:"transparent",_hover:{bg:"deepocean.50"},_active:{bg:"deepocean.100"},progressBarFillColor:"deepocean.500"}},eg=(0,R.memo)(e=>{let{credits:t,lowCreditStatus:n,onClick:i,isDark:r}=e,l=null===t,{colorMode:o}=(0,ec.G6)(),{shouldShowRefreshUI:s,creditRefreshLabel:d,creditsRemainingInPercent:c}=J(),u=s?d:(0,a.jsx)(I.x6,{id:"IY3q+2"}),p=eh({lowCreditStatus:n,isDark:null!=r?r:"dark"===o});return(0,a.jsx)(S.Tz,{label:u,placement:"top",children:(0,a.jsx)(w.$,{size:"sm",py:4,px:4,onClick:i,isDisabled:l,variant:"ghost",...p,children:l?(0,a.jsx)(f.y,{size:"xs"}):(0,a.jsxs)(b.B,{direction:"column",w:"100%",spacing:.5,children:[(0,a.jsxs)(b.B,{direction:"row",alignItems:"center",spacing:1.5,children:[(0,a.jsx)(k.g,{icon:j.wq_,size:"sm"}),(0,a.jsx)(h.E,{as:"span",children:(0,a.jsx)(I.x6,{id:"T57gLR",values:{credits:t}})})]}),s&&null!==c&&(0,a.jsx)(eu.k,{size:"xs",value:c,borderRadius:"full",bg:"gray.200",...p.progressBarFillColor&&{sx:{'[role="progressbar"]':{bg:"".concat(p.progressBarFillColor)}}}})]})})})}),em=(0,l.A)(e=>{let{modalId:t="ai-credits-modal",segmentEvent:n,isDark:l,...o}=e,{hasUnlimitedCredits:s,credits:d,lowCreditStatus:c,onAICreditsModalOpen:u,onAICreditsModalClose:p,isAICreditsModalOpen:h}=(0,r.x)(t);return s?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.s,{...o,children:(0,a.jsx)(eg,{credits:d,onClick:u,lowCreditStatus:c,isDark:l})}),(0,a.jsx)(ed,{isOpen:h,onOpen:u,onClose:p,credits:d,segmentEvent:n})]})})},19842:(e,t,n)=>{"use strict";n.d(t,{Ed:()=>h,bI:()=>u,eW:()=>p});var a=n(6029),i=n(61204),r=n(16936),l=n(26420),o=n(40452),s=n(91106),d=n(98071),c=n(18232);let u=["blank","top","left","right","behind"],p=e=>{let{layout:t,editor:n,getPos:l,edgeLayoutsEnabled:o}=e,p=(0,c._)(n,l()),g=u.filter(e=>o||["blank","behind"].includes(e));return(0,a.jsx)(i.e,{mb:2,dir:"ltr",children:g.map(e=>{let n=(0,d.Nu)(e);return(0,a.jsx)(s.Tz,{label:n,placement:"top",children:(0,a.jsx)(r.K,{"aria-label":n,flex:1,variant:"plain",size:"md",onClick:()=>p(e),icon:(0,a.jsx)(h,{layout:e,isSelected:t===e}),boxShadow:"none",background:t===e?"trueblue.50":"white"})},e)})})},h=e=>{let{layout:t,isSelected:n}=e,i=n?"trueblue.400":"gray.300",r=null;return"top"===t?r=(0,a.jsx)(l.a,{height:"0.375rem",width:"100%",background:i}):"left"===t?r=(0,a.jsxs)(o.s,{height:"100%",minH:"100%",children:[(0,a.jsx)(l.a,{width:"0.625rem",minH:"100%",background:i}),(0,a.jsx)(l.a,{flex:"1",minH:"100%"})]}):"right"===t&&(r=(0,a.jsxs)(o.s,{height:"100%",minH:"100%",children:[(0,a.jsx)(l.a,{flex:"1",minH:"100%"}),(0,a.jsx)(l.a,{width:"0.625rem",minH:"100%",background:i})]})),(0,a.jsx)(l.a,{boxSizing:"border-box",height:"1.25rem",width:"1.75rem",border:"2px solid",borderRadius:"sm",borderColor:i,background:"behind"===t?i:"none",children:r})}},20011:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var a=n(44811),i=n(55729),r=n(58809),l=n(15342);let o=e=>{let[t]=(0,i.useState)(()=>(0,a.U1)({reducer:l.Ki,middleware:e=>e({serializableCheck:!1})}));return(0,i.useEffect)(()=>{(null==e?void 0:e.doc)&&t.dispatch((0,r.Tm)({currentPage:e.doc}))},[e,t]),t}},20196:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});let a={minWidth:1800,maxWidth:5e3,count:10}},20591:(e,t,n)=>{"use strict";n.d(t,{a:()=>H,c:()=>F});var a=n(6029),i=n(24302),r=n(96414),l=n(41960),o=n(54920),s=n(29768),d=n(92130),c=n(26476),u=n(94740),p=n(59272),h=n(26420),g=n(18078),m=n(38676),x=n(58959),f=n(23293),b=n(96430),v=n(25311),y=n(49146),w=n(23908),C=n(36693),A=n(20061),j=n(3448),k=n(99492),S=n(48621),I=n(91106),E=n(19564),R=n(87827),L=n(48810),D=n(55597),M=n(77650);n(55729);let _=e=>{let{prefix:t="",support:n="",suffix:i=""}=e;return(0,a.jsxs)(L.E,{children:[t,(0,a.jsx)(L.E,{color:"gray.400",as:"span",children:n}),i]})},T=()=>[{description:(0,a.jsx)(E.x6,{id:"8aebws"}),shortcut:"/"},{description:(0,a.jsx)(E.x6,{id:"JZEY8K"}),shortcut:"Mod+Shift+O"},{description:(0,a.jsx)(E.x6,{id:"3Lpas4"}),shortcut:"***"},{description:(0,a.jsx)(E.x6,{id:"e+t/xM"}),shortcut:"Mod+P"},{description:(0,a.jsx)(E.x6,{id:"MF+p5R"}),shortcut:"Mod+Enter"},{description:(0,a.jsx)(E.x6,{id:"NiZZRh"}),shortcut:"Mod+K"},{description:(0,a.jsx)(E.x6,{id:"4J90L0"}),shortcut:(0,a.jsx)(_,{prefix:"@",support:"name"})},{description:(0,a.jsx)(E.x6,{id:"1fOM5v"}),shortcut:(0,a.jsx)(_,{prefix:"@",support:"cardTitle"})}],N=()=>[{description:(0,a.jsx)(E.x6,{id:"bSLwU6"}),shortcut:"!!!"},{description:(0,a.jsx)(E.x6,{id:"Xm/s+u"}),shortcut:"!!"},{description:(0,a.jsx)(E.x6,{id:"MHrjPM"}),shortcut:"!"},{description:(0,a.jsx)(E.x6,{id:"lXKZGw"}),shortcut:["#","Mod+Alt+1"]},{description:(0,a.jsx)(E.x6,{id:"El7NbA"}),shortcut:["##","Mod+Alt+2"]},{description:(0,a.jsx)(E.x6,{id:"SFN6dN"}),shortcut:["###","Mod+Alt+3"]},{description:(0,a.jsx)(E.x6,{id:"nJeKmw"}),shortcut:["####","Mod+Alt+4"]},{description:(0,a.jsx)(E.x6,{id:"yzF66j"}),shortcut:"Mod+K"},{description:(0,a.jsx)(E.x6,{id:"QpoxX6",components:{0:(0,a.jsx)("span",{role:"img","aria-label":M.Ru._({id:"ssT83y"})})}}),shortcut:(0,a.jsx)(_,{prefix:":",support:"heart_eyes",suffix:":"})},{description:(0,a.jsx)(E.x6,{id:"KmydK6"}),shortcut:[(0,a.jsx)(_,{prefix:"*",support:"bold",suffix:"*"},"0"),"Mod+B"]},{description:(0,a.jsx)(E.x6,{id:"pzutoc"}),shortcut:[(0,a.jsx)(_,{prefix:"_",support:"italic",suffix:"_"},"0"),"Mod+I"]},{description:(0,a.jsx)(E.x6,{id:"YyXtnN"}),shortcut:"Mod+U"},{description:(0,a.jsx)(E.x6,{id:"WhOsNE"}),shortcut:"Mod+Shift+X"},{description:(0,a.jsx)(E.x6,{id:"VjjKVj"}),shortcut:"Mod+Shift+L"},{description:(0,a.jsx)(E.x6,{id:"95ckMP"}),shortcut:"Mod+Shift+E"},{description:(0,a.jsx)(E.x6,{id:"vTKw81"}),shortcut:"Mod+Shift+R"},{description:(0,a.jsx)(E.x6,{id:"Gc5apx"}),shortcut:[(0,a.jsx)(_,{prefix:"`",support:"code",suffix:"`"},"0"),"Mod+Shift+C"]},{description:(0,a.jsx)(E.x6,{id:"sFkOYO"}),shortcut:[(0,a.jsx)(_,{prefix:"$",support:"x^2",suffix:"$ "},"0"),"$$ "]},{description:(0,a.jsx)(E.x6,{id:"eKJQi9"}),shortcut:"Mod+Shift+H"},{description:(0,a.jsx)(E.x6,{id:"M3G9ZD"}),shortcut:["1. ","Mod+/","Mod+Shift+7"]},{description:(0,a.jsx)(E.x6,{id:"ynb7Kh"}),shortcut:["- ","Mod+.","Mod+Shift+8"]},{description:(0,a.jsx)(E.x6,{id:"rCIbrq"}),shortcut:["[] ","Mod+,","Mod+Shift+9"]},{description:(0,a.jsx)(E.x6,{id:"dOxPd4"}),shortcut:[(0,a.jsx)(_,{prefix:"^",support:"note",suffix:"^"},"0"),"Mod+Alt+F"]}],z=()=>[{description:(0,a.jsx)(E.x6,{id:"9xCxY6"}),shortcut:["←","→"]},{description:(0,a.jsx)(E.x6,{id:"6r2KAP"}),shortcut:["↑","↓"]},{description:(0,a.jsx)(E.x6,{id:"rEj/lx"}),shortcut:"Enter"},{description:(0,a.jsx)(E.x6,{id:"IkakN2"}),shortcut:"Esc"},{description:(0,a.jsx)(E.x6,{id:"dQU33K"}),shortcut:"Mod+Shift+O"},{description:(0,a.jsx)(E.x6,{id:"CgmvBu"}),shortcut:"S"},{description:(0,a.jsx)(E.x6,{id:"K0Oq/D"}),shortcut:"R"},{description:(0,a.jsx)(E.x6,{id:"q8Gtmt",components:{0:(0,a.jsx)("br",{})}}),shortcut:(0,a.jsx)(S.g,{icon:D.svs})}],P={borderColor:"gray.50",py:2,px:2},O={borderColor:"gray.600",py:2,px:2},F=e=>{let{list:t}=e,n=(0,i.dU)(P,O),u={bg:(0,i.dU)("gray.50","gray.700"),borderColor:(0,i.dU)("gray.200","gray.600"),color:(0,i.dU)("gray.700","white")};return(0,a.jsx)(r.K,{w:"100%",children:(0,a.jsx)(l.X,{variant:"simple",children:(0,a.jsx)(o.N,{children:t.map((e,t)=>{let{shortcut:i,description:r}=e;return(0,a.jsxs)(s.Tr,{children:[(0,a.jsx)(d.Td,{w:"60%",...n,children:r}),(0,a.jsx)(d.Td,{w:"40%",...n,children:Array.isArray(i)?i.map((e,t)=>(0,a.jsx)(c.u,{display:"inline-block",px:2,py:1,me:1,children:"string"==typeof e?(0,I.lp)(e):e},t)):"string"==typeof i?(0,a.jsx)(c.u,{...u,display:"inline-block",px:2,py:1,children:(0,I.lp)(i)}):(0,a.jsx)(c.u,{...u,display:"inline-block",px:2,py:1,children:i})})]},t)})})})})},H=e=>{let{isOpen:t,onClose:n}=e,r=(0,R.n)(N),l=(0,R.n)(z),o=(0,R.n)(T),s=(0,i.dU)("gray.700","white"),d=(0,i.dU)("gray.50","gray.600");return(0,a.jsxs)(u.A,{returnFocusOnClose:!1,closeOnBlur:!1,placement:"top",isOpen:t,onClose:n,modifiers:[{name:"computeStyles",options:{gpuAcceleration:!1}}],children:[(0,a.jsx)(p.d,{children:(0,a.jsx)(h.a,{position:"fixed",bottom:0,insetEnd:0})}),(0,a.jsxs)(g.h,{zIndex:"menu",h:"80vh",w:"400px",flex:1,position:"relative",color:s,borderColor:d,children:[(0,a.jsxs)(m.D,{border:"0 none",mb:2,position:"sticky",children:[(0,a.jsxs)(x.z,{spacing:2,children:[(0,a.jsx)(S.g,{icon:k.Lhe}),(0,a.jsx)(f.D,{size:"md",children:(0,a.jsx)(E.x6,{id:"CTqTgr"})})]}),(0,a.jsx)(b.q,{})]}),(0,a.jsx)(v.e,{overflowY:"auto",children:(0,a.jsxs)(y.t,{variant:"soft-rounded",size:"sm",isFitted:!0,children:[(0,a.jsxs)(w.w,{mb:6,children:[(0,a.jsxs)(C.o,{children:[(0,a.jsx)(h.a,{me:2,children:(0,a.jsx)(S.g,{icon:k.zLW})}),(0,a.jsx)(E.x6,{id:"vVRhxh"})]}),(0,a.jsxs)(C.o,{children:[(0,a.jsx)(h.a,{me:2,children:(0,a.jsx)(S.g,{icon:k.qon})}),(0,a.jsx)(E.x6,{id:"UodEcE"})]})]}),(0,a.jsxs)(A.T,{children:[(0,a.jsxs)(j.K,{p:0,pb:1,mt:4,children:[(0,a.jsx)(F,{list:o}),(0,a.jsx)(I._x,{pt:4,pb:4,children:(0,a.jsx)(E.x6,{id:"Bb47jg"})}),(0,a.jsx)(F,{list:r})]}),(0,a.jsx)(j.K,{p:0,pb:1,mt:4,children:(0,a.jsx)(F,{list:l})})]})]})})]})]})}},20664:(e,t,n)=>{"use strict";n.d(t,{SW:()=>a.S,Dg:()=>F,MD:()=>z,Zu:()=>P});var a=n(49309),i=n(6029),r=n(36062),l=n(16842),o=n(69388),s=n(40452),d=n(80074),c=n(33787),u=n(26420),p=n(48810),h=n(29810),g=n(91106),m=n(77650),x=n(55729),f=n(88608),b=n(29608),v=n(11403),y=n(79958),w=n(73867),C=n(90394),A=n(46898),j=n(27229),k=n(78140),S=n(36999),I=n(16936),E=n(12514),R=n(41283),L=n(6760),D=n(85595),M=n(99492),_=n(55597),T=n(48621),N=n(19564);let z=e=>{let{href:t,title:n,createdByName:a,createdByEmail:r,createdTime:l,isDuplicateEnabled:o,isRenameEnabled:s,isShareEnabled:d,isTrashed:c,isFavorited:h,isTrashAndRestoreEnabled:m,isRemoveFromChannelEnabled:x,onDuplicate:b,onFavorite:v,onUnfavorite:y,onTrash:w,onPermanentDelete:z,onRestore:P,onShareClick:O,onRename:F,onRemoveFromChannel:H}=e,{onCopy:B}=(0,C.i)("".concat(window.location.origin).concat(t)),V=(0,A.d)(),{isOpen:W,onOpen:U,onClose:G}=(0,j.j)();return(0,i.jsxs)(k.W,{isLazy:!0,closeOnSelect:!1,modifiers:[{name:"flip",enabled:!0,options:{fallbackPlacements:["bottom","bottom-start","bottom-end","right-start","left-start","right-end","left-end","top-start","top-end"]}}],children:[(0,i.jsx)(S.I,{"data-dashboard-doc-menu":!0,as:I.K,size:"xs",variant:"ghost",borderRadius:"full",onClick:U,icon:(0,i.jsx)(T.g,{fixedWidth:!0,icon:M.vHW}),color:"gray.400",_hover:{color:"gray.700",bg:"gray.200"},children:(0,i.jsx)(N.x6,{id:"7L01XJ"})}),W&&(0,i.jsx)(E.Z,{children:(0,i.jsxs)(R.c,{maxW:"sm",zIndex:"overlay",children:[(0,i.jsxs)(u.a,{px:4,py:0,wordBreak:"break-word",children:[(0,i.jsx)(p.E,{noOfLines:2,children:n}),(0,i.jsx)(p.E,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,i.jsx)(N.x6,{id:"MXSt4t",values:{0:(0,f.Yq)(l,"MMMM do, yyyy")}})}),r&&a&&(0,i.jsx)(g.Tz,{label:r,children:(0,i.jsx)(p.E,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,i.jsx)(N.x6,{id:"Wpe4mQ",values:{createdByName:a}})})})]}),(d||s||x)&&(0,i.jsx)(L.N,{}),x&&(0,i.jsx)(D.D,{onClick:H,icon:(0,i.jsx)(T.g,{fixedWidth:!0,icon:M.Dfk}),children:(0,i.jsx)(N.x6,{id:"bv+Frh"})}),d&&(0,i.jsx)(D.D,{onClick:O,icon:(0,i.jsx)(T.g,{fixedWidth:!0,icon:M.t5Z}),children:(0,i.jsx)(N.x6,{id:"iyga2M"})}),s&&(0,i.jsx)(D.D,{onClick:F,icon:(0,i.jsx)(T.g,{fixedWidth:!0,icon:M.tAZ}),children:(0,i.jsx)(N.x6,{id:"Cg4Iup"})}),(0,i.jsx)(L.N,{}),v?h?(0,i.jsx)(D.D,{icon:(0,i.jsx)(u.a,{color:"yellow.400",children:(0,i.jsx)(T.g,{fixedWidth:!0,icon:_.yy})}),onClick:y,children:(0,i.jsx)(N.x6,{id:"T/pF0Z"})}):(0,i.jsx)(D.D,{icon:(0,i.jsx)(T.g,{fixedWidth:!0,icon:M.yy}),onClick:v,children:(0,i.jsx)(N.x6,{id:"pBsoKL"})}):null,o&&!!b&&(0,i.jsx)(D.D,{icon:(0,i.jsx)(T.g,{fixedWidth:!0,icon:M.$3n}),onClick:b,children:(0,i.jsx)(N.x6,{id:"euc6Ns"})}),(0,i.jsx)(D.D,{icon:(0,i.jsx)(T.g,{fixedWidth:!0,icon:M.gnH}),onClick:()=>{B(),V({title:(0,i.jsx)(N.x6,{id:"h5GS+N"}),status:"success",duration:3e3,position:"top"})},children:(0,i.jsx)(N.x6,{id:"y1eoq1"})}),m&&(0,i.jsx)(L.N,{}),m?c?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(D.D,{icon:(0,i.jsx)(T.g,{fixedWidth:!0,icon:_.ub2}),onClick:P,children:(0,i.jsx)(N.x6,{id:"yKu/3Y"})}),z&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L.N,{}),(0,i.jsx)(D.D,{color:"red.500",icon:(0,i.jsx)(T.g,{fixedWidth:!0,icon:M.bnw}),onClick:z,children:(0,i.jsx)(N.x6,{id:"0Lbaux"})})]})]}):(0,i.jsx)(D.D,{color:"red.500",icon:(0,i.jsx)(T.g,{fixedWidth:!0,icon:M.yLS}),onClick:()=>{G(),null==w||w()},children:(0,i.jsx)(N.x6,{id:"1C/Yjq"})}):null]})})]})},P=e=>{let{isFavorited:t,onFavorite:n,onUnfavorite:a,disableInteractions:r=!1,...l}=e,[o,s]=(0,x.useState)(!1),d=(0,x.useCallback)(()=>{if(!n||!a)return void console.error("[FavoriteButton] onFavorite or onUnfavorite is not defined");t?(s(!1),a()):(s(!0),setTimeout(()=>{s(!1)},1e3),n())},[t,n,a]);return(0,i.jsx)(g.Tz,{label:t?(0,i.jsx)(N.x6,{id:"T/pF0Z"}):(0,i.jsx)(N.x6,{id:"pBsoKL"}),placement:"top",children:(0,i.jsx)(I.K,{...l,...r?{tabIndex:-1,pointerEvents:"none"}:{},zIndex:"1","data-favorite-button":!0,"aria-label":m.Ru._({id:"pBsoKL"}),className:"star-wrapper ".concat(o?"active":""),onClick:d,variant:"ghost",size:"xs",color:t?"yellow.400":"gray.400",_hover:{color:t?"yellow.500":"gray.400",bg:t?void 0:"blackAlpha.100"},bg:t?"yellow.50":"transparent",borderRadius:"full",icon:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(T.g,{icon:t?_.yy:M.yy}),(0,i.jsxs)(u.a,{fontSize:"2.5px",children:[(0,i.jsxs)("div",{className:"star",children:[(0,i.jsx)("div",{className:"tl"}),(0,i.jsx)("div",{className:"tr"}),(0,i.jsx)("div",{className:"bl"}),(0,i.jsx)("div",{className:"br"})]}),(0,i.jsx)("div",{className:"ring"}),(0,i.jsx)("div",{className:"circles"})]})]})})})},O=e=>{let{href:t,NextLink:n,target:a,children:l}=e;return n?(0,i.jsx)(r.r,{outline:"none",as:n,href:t,target:a,children:l}):(0,i.jsx)(r.r,{outline:"none",href:t,target:a,children:l})},F=x.forwardRef((e,t)=>{let{id:n,title:a,thumbnailImageUrl:x,NextLink:C,href:A,createdByYou:j=!1,createdByName:k,createdByEmail:S,createdTime:I,createdByProfileImageUrl:E,timestampDescription:R,editors:L,isDuplicateEnabled:D=!0,isRenameEnabled:M=!1,isShareEnabled:_=!1,isTrashAndRestoreEnabled:T=!0,isRemoveFromChannelEnabled:N=!1,isTrashed:F=!1,isFavorited:H=!1,onDuplicate:B,onFavorite:V,onUnfavorite:W,onTrash:U,onPermanentDelete:G,onRestore:K,onShareClick:Q,onRename:Z,onRemoveFromChannel:q,context:J="grid",tags:$=[],menuEnabled:Y=!1,openInNewWindow:X=!1,activity:ee,isOffline:et,...en}=e,ea=(0,v.En)(),ei=X?"_blank":void 0,er=L&&L.length>0&&(0,i.jsx)(l.Z,{size:"xs",max:5,fontSize:"xs",children:L.map(e=>(0,i.jsx)(g.Vc,{shadow:"md",borderWidth:"1px",name:ea&&e.user.displayName?m.Ru._({id:"bxVoEp",values:{0:e.user.displayName,1:(0,f.Gx)(e.lastEdited)}}):" ",src:e.user.profileImageUrl,tooltipProps:{placement:"top"}},"".concat(n,"-").concat(e.user.id)))});return(0,i.jsx)(r.Q,{overflow:"hidden",ref:t,"data-doc-grid-item-id":n,bg:"white",borderRadius:"5px",shadow:"md",as:o.E,_focusWithin:{shadow:"outline",_hover:{shadow:"outline"}},cursor:"pointer",_hover:{shadow:"lg",bgColor:"popover"===J?"white":"gray.50"},transition:"box-shadow .2s ease",role:"group",className:"highlight-mask",...en,children:(0,i.jsxs)(s.s,{direction:"column",wordBreak:"break-word",alignContent:"space-between",height:"100%",children:[x&&(0,i.jsx)(O,{NextLink:C,href:A,target:ei,children:(0,i.jsx)(d.g,{ratio:40/21,bgColor:"gray.50",children:(0,i.jsxs)(s.s,{borderBottomWidth:"1px",borderBottomColor:"gray.50",children:[(0,i.jsx)(c._,{src:null==x?void 0:x.src,fallbackSrc:null==x?void 0:x.fallbackSrc,fit:"cover"}),!!er&&(0,i.jsx)(u.a,{position:"absolute",insetEnd:0,bottom:0,borderRadius:"full",p:3,zIndex:1,children:er})]})})}),(0,i.jsxs)(s.s,{p:3,position:"relative",direction:"column",justifyContent:"space-between",h:"100%",alignItems:"flex-start",children:[(0,i.jsx)(O,{NextLink:C,href:A,target:ei,children:(0,i.jsx)(p.E,{noOfLines:2,h:12,mb:2,children:(0,y.B)(a)})}),(0,i.jsxs)(s.s,{direction:"column",w:"100%",children:[$&&$.length>0&&C&&(0,i.jsx)(g.Op,{tags:$,NextLink:C,overflowButtonLabel:m.Ru._({id:"K0UBDD"}),isDisabled:et}),(0,i.jsxs)(s.s,{mt:2,align:"flex-start",w:"100%",justify:"space-between",children:[ee&&ee,k&&(0,i.jsx)(w.S,{createdByYou:j,createdByName:k,createdByProfileImageUrl:E,timestampDescription:R}),(0,i.jsx)(h.h,{}),Y&&(0,i.jsx)(z,{href:A,title:(0,y.B)(a),createdByName:k,createdByEmail:S,createdTime:I,isDuplicateEnabled:D,isRenameEnabled:M,isShareEnabled:_,isTrashAndRestoreEnabled:T,isRemoveFromChannelEnabled:N,isTrashed:F,isFavorited:H,onDuplicate:B,onFavorite:V,onUnfavorite:W,onTrash:U,onPermanentDelete:G,onRestore:K,onShareClick:Q,onRename:Z,onRemoveFromChannel:q})]})]})]}),!!V&&!!W&&(0,i.jsx)(u.a,{position:"absolute",top:3,insetEnd:3,zIndex:3,children:(0,i.jsx)(P,{isFavorited:H,onFavorite:V,onUnfavorite:W,opacity:H?1:+!!(0,b.Xb)(),_groupHover:(0,b.Xb)()||et&&!H?void 0:{opacity:1},_focus:et?void 0:{opacity:1,shadow:"outline"},disableInteractions:et})})]})},n)});F.displayName="DocumentGridItem"},20775:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});let a="square"},20845:(e,t,n)=>{"use strict";n.d(t,{c:()=>h});var a=n(6029),i=n(24302),r=n(40452),l=n(26385),o=n(58959),s=n(48810),d=n(49611),c=n(19564),u=n(68301),p=n(84287);let h=e=>{let{title:t=(0,a.jsx)(c.x6,{id:"0i4o6E"}),description:n,buttonLabel:h,onOpenCallback:g,onCloseCallback:m,segmentEvent:x,targetFeature:f,isNarrow:b,...v}=e,y=(0,u.u)("upsellUXEnabled_Pro"),{openUpsellModal:w,product:C}=(0,p.I)(),A={light:{bg:"trueblue.50",bgGradient:"linear-gradient(0deg, var(--chakra-colors-gray-50) 0%, white  100%)",border:"trueblue.200",title:"gray.800",description:"gray.600",borderGradient:"var(--chakra-colors-gradient-brand-bg)"},dark:{bg:"gray.700",bgGradient:"linear-gradient(0deg, var(--chakra-colors-gray-800) 0%, var(--chakra-colors-gray-700) 100%)",border:"trueblue.400",title:"gray.50",description:"gray.50",borderGradient:"var(--chakra-colors-gradient-brand-bg)"}}["light"===(0,i.G6)().colorMode?"light":"dark"];return"pro"!==C&&y?(0,a.jsxs)(r.s,{flex:1,w:"100%",mb:4,p:4,bgGradient:A.bgGradient,position:"relative",flexDirection:b?"column":"row",align:"center",borderRadius:"lg",gap:4,zIndex:1,boxShadow:"md",_before:{content:'""',position:"absolute",inset:0,borderRadius:"lg",border:"".concat(2,"px solid transparent"),background:"".concat(A.borderGradient," border-box"),mask:"linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0)",maskComposite:"subtract",opacity:.7},...v,children:[(0,a.jsxs)(l.B,{flex:2,alignSelf:"stretch",children:[(0,a.jsx)(o.z,{spacing:3,children:(0,a.jsx)(s.E,{color:A.title,fontWeight:"bold",lineHeight:"1.3",children:t})}),(0,a.jsx)(s.E,{color:A.description,fontSize:"md",children:n||(0,a.jsx)(c.x6,{id:"Ah1+bS"})})]}),(0,a.jsx)(l.B,{spacing:1,flex:0,justifyContent:"flex-end",children:(0,a.jsx)(d.$,{variant:"solid",colorScheme:"trueblue",size:"md","data-test-id":"ai-credits-upsell",onClick:()=>{w({onOpenCallback:g,onCloseCallback:m,segmentEvent:x,targetFeature:f})},children:h||(0,a.jsx)(c.x6,{id:"kwkhPe"})})})]}):null}},21290:(e,t,n)=>{"use strict";n.d(t,{C9:()=>a,PX:()=>i,bc:()=>r});let a="10vh",i="20vh",r="80vh"},21465:(e,t,n)=>{"use strict";n.d(t,{CD:()=>l,ol:()=>o,tq:()=>s});var a=n(56603),i=n(8075),r=n(36271);let l=(e,t,n)=>({targetId:i.D.generate(),targetHtml:n,json:null,text:"",relativePos:(0,a.JO)(t.state,e())}),o=(e,t,n,i)=>({...e,targetHtml:n,relativePos:(0,a.JO)(i.state,t())}),s=(e,t)=>Object.values(r._.getState(e.state).draftComments).filter(n=>(0,a.d_)(e.state,n.relativePos)===t)},21699:(e,t,n)=>{"use strict";n.d(t,{Ms:()=>r,Qj:()=>i});var a=n(63867);let i=e=>{let t=e.state.selection;return t instanceof a.U3&&!t.empty},r=e=>e.some(e=>e.spec.isFocusedInside)},21982:(e,t,n)=>{"use strict";n.d(t,{Hy:()=>E,Pf:()=>R,Td:()=>I,v9:()=>L});var a=n(6029),i=n(4192),r=n(3276),l=n(48810),o=n(40452),s=n(57405),d=n(26420),c=n(58959),u=n(51684),p=n(99492),h=n(48621),g=n(19564),m=n(55729),x=n(15342),f=n(91792),b=n(9329),v=n(53996),y=n(83004);function w(){let e=(0,b._)(["\n      from {transform: rotate(-5deg) scale(1)}\n        to {transform: rotate(5deg) scale(1.2)}\n  "]);return w=function(){return e},e}let C=e=>{let{provider:t,color:n="gray"}=e,i=(0,y.i7)(w()),o="aiGenerated"===t?p._$C:p.$UM;return(0,a.jsxs)(v.o,{className:"image-loading-spinner",children:[(0,a.jsx)(r.y,{color:"".concat(n,".300"),thickness:"3px",size:"xl",position:"absolute",speed:"0.7s",emptyColor:"transparent"}),(0,a.jsx)(l.E,{color:"".concat(n,".400"),position:"absolute",lineHeight:"2",fontSize:"lg",animation:"".concat(i," infinite alternate 700ms ease-out"),children:(0,a.jsx)(h.g,{icon:o,fixedWidth:!0})})]})};var A=n(43634),j=n(61651),k=n(62917),S=n(84343);let I=e=>{let{removeBackground:t=!1,scootRight:n=!1}=e;return(0,a.jsxs)(i.vw,{size:"sm",variant:"subtle",colorScheme:"gray",pos:"absolute",top:4,left:4,p:1,ml:28*!!n,children:[(0,a.jsx)(r.y,{color:"gray.600",size:"xs"}),t&&(0,a.jsx)(l.E,{as:"span",ml:1,fontFamily:"body",children:(0,a.jsx)(g.x6,{id:"gVcJ1/"})})]})},E=()=>(0,a.jsx)(i.vw,{size:"sm",variant:"subtle",colorScheme:"red",pos:"absolute",top:4,left:4,children:(0,a.jsxs)(i.d1,{children:[(0,a.jsx)(h.g,{icon:p.tUE})," ",(0,a.jsx)(g.x6,{id:"rmh/nq"})]})}),R=(0,m.memo)(e=>{let{children:t,icon:n=u.Cyq,isLoading:i=!1,isUploading:r=!1,hasUploadError:p=!1,isAccentImageDrawer:g=!1,loadingProvider:b,openEditBackgroundDrawer:v,onSelectAndFocus:y,defaultSource:w,hasQuickActions:R=!1,handleDoubleClick:L,promptPreview:D,...M}=e,[_,T]=(0,m.useState)(!1),N=(0,x.GV)(A.nD),z=(0,f.rd)();return(0,m.useEffect)(()=>{w&&!1===(0,k.Ub)(w)?T(!1):R&&N?T(!0):T(!1)},[w,R,N]),(0,a.jsxs)(o.s,{"data-testid":"media-placeholder","data-test-media-source":w,color:z?j.N.DARK_COLOR:j.N.LIGHT_COLOR,align:"center",justify:"center",p:3,bg:z?j.N.DARK_BG:j.N.LIGHT_BG,className:"placeholder","data-drag-handle":!0,"data-export-as-image":!0,position:"relative",cursor:"default",sx:{containerType:"size","@container (width < 150px) or (height < 140px)":{".quick-actions":{display:"none"},".ai-image-loading-spinner":{transform:"scale(0.5)"}}},onDoubleClick:L,transition:"background-color 0.2s",...M,children:[!i&&(0,a.jsxs)(s.T,{pointerEvents:"none",children:[(0,a.jsx)(d.a,{color:z?j.N.DARK_ICON_COLOR:j.N.LIGHT_ICON_COLOR,sx:{"@container (0px <= width <= 32px) or (height < 100px)":{fontSize:"sm"},"@container (32px < width <= 80px)":{fontSize:"2xl"},fontSize:"4xl"},children:(0,a.jsx)(h.g,{icon:n,fixedWidth:!0})}),_&&(0,a.jsx)(c.z,{pointerEvents:"auto",className:"quick-actions",children:(0,a.jsx)(S.Z,{onSelectImage:y,isAccentImageDrawer:g,openEditBackgroundDrawer:v})})]}),i&&(0,a.jsxs)(s.T,{children:[(0,a.jsx)(C,{provider:b}),D&&(0,a.jsx)(l.E,{fontSize:"1em",mt:"1em",children:D})]}),r&&(0,a.jsx)(I,{}),p&&(0,a.jsx)(E,{}),t]})});R.displayName="MediaPlaceholderImage";let L={minW:16,minH:16,bg:"gray.200"}},22004:(e,t,n)=>{"use strict";n.d(t,{f:()=>f});var a=n(22905),i=n(83902),r=n(41896),l=n(12117),o=n(46957),s=n(6029),d=n(55729),c=n(19310),u=n(84886),p=n(71737),h=n(15587),g=n(66082),m=n(21699);let x=e=>{let{node:t,decorations:n,editor:a}=e,i=(0,h.v)(n),l=(0,m.Ms)(n),o=(0,g.fZ)(n),{horizontalAlign:x,fontSize:f,placeholder:b}=t.attrs,v=(0,g.yp)(x),y="left"===x&&"ltr"===o||"right"===x&&"rtl"===o,[w,C]=(0,d.useState)(!1),A=l&&i&&(!x||y)&&!(0,p.NO)(a)&&!b||w;return(0,s.jsxs)(u.u,{...e,style:{position:"relative"},children:[(0,s.jsx)(r.$p,{dir:o,"data-font-size":f,"data-multiline-placeholder":b,style:{textAlign:v.textAlign}}),A&&(0,s.jsx)(c.B,{...e,dir:o,slashMenuOpen:w,setSlashMenuOpen:C})]})},f=i.A.extend({name:"paragraph",group:"block cardNotesBlock",selectable:!1,addNodeView:()=>(0,r.gu)(x,{update:o.z0}),allowFontSizes:"body",addAttributes:()=>({fontSize:l.mD}),parseHTML:()=>[{tag:"p"}],renderHTML(e){let{HTMLAttributes:t}=e;return["p",(0,a.KV)(t,{class:"paragraph"}),0]},renderHTMLforAI(e){let{HTMLAttributes:t}=e;return["p",t,0]}})},22115:(e,t,n)=>{"use strict";n.d(t,{tz:()=>D,EF:()=>M,pO:()=>_});var a=n(6029),i=n(78140),r=n(41283),l=n(96500),o=n(48810),s=n(26420),d=n(85595),c=n(58959),u=n(12514),p=n(99492),h=n(55597),g=n(48621),m=n(55729),x=n(5061);let f={x:-1e3,y:-1e3};function b(e){return"items"in e}function v(e){return"check"in e}function y(e){return"label"in e}function w(e){return"divider"in e}let C=e=>{let{initial:t,top:n,bottom:a}=e,i=Math.abs(n.x-t.x),r=Math.abs(n.y-t.y),l=Math.abs(a.y-t.y);return 0===i?{alpha:0,beta:0}:{alpha:Math.atan(r/i),beta:Math.atan(l/i)}},A=e=>{let{menuItems:t,position:n,isOpen:a,onClose:i}=e,r=(0,m.useRef)(null),l=(0,m.useRef)(new Map),[o,s]=(0,m.useState)([]),{itemsIndex:d,itemsHash:c,getItemFromKey:u}=function(e){let t=new Map,n=(e,t)=>{let n=null;for(let a of e){if(!(n=t[a]))throw console.log(e,a),Error("item not found");t=b(n)?n.items:[]}if(!n)throw console.log(e),Error("item not found");return n},a=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.forEach((e,i)=>{if(!y(e))return;let r=e.key;if(t.has(r))throw console.log(t.get(r)),Error("duplicated key=".concat(r));let l=[...n,i];t.set(r,l),b(e)&&a(e.items,l)})};a(e);let i=[...t.entries()].map(e=>{let[t,n]=e;return"".concat(t,":").concat(n.join("|"))}).join(",");return{itemsIndex:t,itemsHash:i,getItemFromKey:(e,a)=>n(t.get(e)||[],a)}}(t),p=(0,m.useCallback)(e=>{var n,a,i,c,p,h,g,m;let x=e.target;if(!(x instanceof HTMLElement))return;let f=null==x?void 0:x.closest("[data-menu-item-key]"),v=null==x?void 0:x.closest("[data-menu-id]");if(!(v instanceof HTMLElement)||!(f instanceof HTMLElement))return;let y=(null==v?void 0:v.getAttribute("data-menu-id"))||"",w=(null==f?void 0:f.getAttribute("data-menu-item-key"))||"";if(!y||!w)return;let A=l.current.get(y);if(!A)return;let{trigger:j,hideTimer:k}=A,S="".concat(y,":").concat(w),I=null==(n=d.get(w))?void 0:n.length,E=null!=(h=l.current.get(I&&(null==(a=o[I])?void 0:a.key)||""))?h:{},{element:R,key:L,hideTimer:D}=null!=E?E:{},M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;E.hideTimer=setTimeout(()=>{s(e=>{let t=e.splice(0,I);return e.forEach(e=>{let{key:t}=e,n=l.current.get(t);n&&(n.hideTimer&&clearTimeout(n.hideTimer),l.current.delete(t))}),t})},e)};if(k&&(clearTimeout(k),A.hideTimer=void 0),w===L){A.trigger={x:e.clientX,y:e.clientY},D&&(clearTimeout(D),E.hideTimer=void 0);return}if(R&&j&&function(e){let{el:t,initial:n,currentCoords:a}=e;if(!t||t.offsetTop<0||t.offsetLeft<0||t.offsetLeft<n.x&&a.x>n.x||t.offsetLeft>n.x&&a.x<n.x)return!1;let i={x:0};t.offsetLeft<n.x&&(i.x+=t.offsetWidth);let r=C({initial:n,top:{y:t.offsetTop,x:t.offsetLeft+i.x},bottom:{y:t.offsetTop+t.offsetHeight,x:t.offsetLeft+i.x}}),l=Math.atan(Math.abs(n.y-a.y)/Math.abs(a.x-n.x));return a.y<n.y?l<r.alpha:l<r.beta}({el:R,initial:j,currentCoords:{x:e.clientX,y:e.clientY}})){D||M();return}if(r.current===S)return;if(r.current=S,!b(u(w,t))){I&&o[I]&&M(0);return}k&&(clearTimeout(k),A.hideTimer=void 0);let _=o.find(e=>{let{key:t}=e;return t===y});if(!_)return void console.error("menu not found",{openMenus:{...o},menuKey:y});let T=_.position,N={x:(null!=(g=null==(i=A.element)?void 0:i.offsetLeft)?g:T.x)+((null==(c=A.element)?void 0:c.offsetWidth)||0),y:f.offsetTop+(null!=(m=null==(p=A.element)?void 0:p.offsetTop)?m:T.y)};A.trigger={x:e.clientX,y:e.clientY},s(e=>{var t;let n=e.slice(0,I);return n.push({key:w,position:N,offset:{x:(null==(t=A.element)?void 0:t.offsetWidth)||f.offsetWidth,y:-1*f.offsetHeight}}),l.current.has(w)||l.current.set(w,{}),l.current.get(w).key=w,n})},[o,c]);return(0,m.useEffect)(()=>(window.addEventListener("mousemove",p),()=>{window.removeEventListener("mousemove",p)}),[p]),(0,m.useEffect)(()=>{!1===a?(s([]),l.current=new Map):s([{key:"_root",position:n,offset:{x:0,y:0}}]);let e=e=>{var t;a&&((null==(t=e.target)?void 0:t.closest("[data-menu-id]"))||i())};return window.addEventListener("mousedown",e),()=>{window.removeEventListener("mousedown",e)}},[a,i]),(0,m.useEffect)(()=>{s(e=>(e.length&&(e[0].position={x:n.x,y:n.y}),e))},[n.x,n.y]),{setMenuRef:e=>t=>{l.current.has(e)||l.current.set(e,{}),l.current.get(e).element=t},openMenus:o,getMenuItems:function(e){if("_root"===e)return t;let n=u(e,t);return b(n)?n.items:[]}}};var j=n(12364),k=n.n(j);let S=e=>{let{element:t,position:n,offset:a={x:0,y:0},isRtl:i=!1}=e,[r,l]=(0,m.useState)({width:window.innerWidth,height:window.innerHeight}),[o,s]=(0,m.useState)({x:n.x,y:n.y}),d=(0,m.useCallback)(e=>{let{width:t,height:l}=r;if(n.x<0||n.y<0)return;let d={x:0,y:0};i?(d.x=-((e.offsetWidth+a.x)*1),n.x+d.x<=0&&(d.x=0)):e.offsetWidth+n.x>t&&(d.x=-((e.offsetWidth+a.x)*1)),e.offsetHeight+n.y>l&&(d.y=-((e.offsetHeight+a.y)*1));let c={x:n.x+d.x,y:n.y+d.y};(c.x!==o.x||c.y!==o.y)&&s(c)},[r,n.x,n.y,i,o.x,o.y,a.x,a.y]);return(0,m.useEffect)(()=>{let e=k()(()=>{l({width:window.innerWidth,height:window.innerHeight})},150);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,m.useEffect)(()=>{t&&d(t)},[d,t]),{calculatePosition:d,position:o}},I=(0,m.forwardRef)((e,t)=>{let{isOpen:n,onClose:u,menuItems:h,position:f,parentOffset:C={x:0,y:0},id:A,activeElement:j,size:k="medium"}=e,I=(0,x.fW)(),R=(0,m.useRef)(null),{position:D,calculatePosition:M}=S({element:R.current,position:f,offset:C,isRtl:I}),_=()=>{var e;let n=(null==(e=R.current)?void 0:e.parentNode)||null;"function"==typeof t?t(n):t&&(t.current=n)};(0,m.useEffect)(()=>{t&&_()},[t]);let T=h.map(e=>w(e)?"divider":e.key).join(",");(0,m.useEffect)(()=>{R.current&&M(R.current)},[T,f]);let N=(0,m.useMemo)(()=>h.filter(e=>y(e)),[h]),z=!!N.find(e=>v(e)),P=!!N.find(e=>e.icon);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i.W,{isOpen:n,onClose:u,closeOnBlur:!1,closeOnSelect:!0,children:(0,a.jsx)(r.c,{"data-menu-id":A,zIndex:"tooltip",rootProps:{style:{top:D.y,left:D.x}},ref:e=>{R.current=e,_(),e&&M(e)},fontSize:"small"===k?"sm":"large"===k?"lg":"md",children:h.map((e,t)=>w(e)?(0,a.jsx)(l.c,{color:"gray.300",my:"small"===k?1:"large"===k?3:2},"divider-".concat(t)):"title"in e?(0,a.jsx)(o.E,{color:"gray.500",ps:3,children:e.title},e.key):"element"in e?(0,a.jsx)(s.a,{children:e.element(u)},e.key):(0,a.jsx)(d.D,{py:"small"===k?1:"large"===k?3:2,cursor:"pointer",icon:(0,a.jsx)(E,{item:e,menuHasIcons:P,menuHasChecked:z}),background:(y(e)?e.background:void 0)||(j===e.key?"gray.50":void 0),closeOnSelect:!b(e),onClick:b(e)?void 0:e.onClick,isDisabled:e.disabled,color:e.color,"data-menu-item-key":e.key,children:(0,a.jsxs)(c.z,{width:"100%",pointerEvents:"none",children:[(0,a.jsx)(s.a,{flexGrow:2,children:e.label}),e.rightIcon&&(0,a.jsx)(s.a,{flexGrow:0,ps:2,children:(0,a.jsx)(L,{icon:e.rightIcon})}),b(e)&&(0,a.jsx)(s.a,{flexGrow:0,ps:2,children:(0,a.jsx)(g.g,{icon:I?p.Uec:p.vmR})})]})},e.key))})})})});I.displayName="ContextMenuInner";let E=e=>{let{item:t,menuHasIcons:n,menuHasChecked:i}=e;return(0,a.jsx)(c.z,{justifyContent:"center",children:(0,a.jsxs)(a.Fragment,{children:[i&&(0,a.jsx)(R,{item:t}),n&&(0,a.jsx)(L,{icon:t.icon})]})})},R=e=>{let{item:t}=e;return v(t)&&t.check?"multiple"===t.check?(0,a.jsx)(g.g,{icon:h.EZy,width:"1em"}):(0,a.jsx)(g.g,{icon:h.e68,width:"1em"}):(0,a.jsx)(s.a,{width:"1em"})},L=e=>{let{icon:t}=e;return t?"icon"in t?(0,a.jsx)(g.g,{icon:t,width:"1em"}):t:(0,a.jsx)(s.a,{width:"1em"})},D=e=>{let{onClose:t,isOpen:n,menuItems:i,position:r,size:l="medium"}=e,{setMenuRef:o,openMenus:s,getMenuItems:d}=A({isOpen:n,onClose:t,menuItems:i,position:r});return(0,a.jsx)(u.Z,{appendToParentPortal:!1,children:[...s,null].map((e,n)=>{var i,r;return null===e?(0,a.jsx)(I,{id:"placeholder",menuItems:[],position:f,isOpen:!1,onClose:t,size:l},"menu-".concat(n)):(0,a.jsx)(I,{id:e.key,activeElement:null!=(r=null==(i=s[n+1])?void 0:i.key)?r:void 0,menuItems:d(e.key),position:e.position,parentOffset:e.offset,isOpen:!0,onClose:t,ref:o(e.key),size:l},"menu-".concat(n))})})},M=()=>{let[e,t]=(0,m.useState)(f),[n,a]=(0,m.useState)(!1);return{onContextMenu:e=>{e.stopPropagation(),e.preventDefault(),t({x:e.clientX,y:e.clientY}),a(!0)},menuProps:{isOpen:n,position:e,onClose:()=>{a(!1),t(f)}}}},_=e=>{let[t,n]=(0,m.useState)(!1),[a,i]=(0,m.useState)(f);return{onContextMenu:a=>{if(a.stopPropagation(),a.preventDefault(),e.current){let t=e.current.getBoundingClientRect();i({x:t.left,y:t.bottom})}n(!t)},menuProps:{isOpen:t,position:a,onClose:()=>{n(!1),i(f)}}}}},22445:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var a=n(27229),i=n(55729),r=n(74158),l=n(4007);let o=e=>{let{id:t,...n}=e,{isOpen:o,onOpen:s,onClose:d}=(0,a.j)(n),c=(0,r.wA)();return(0,i.useEffect)(()=>{t&&c((0,l.WI)({id:t,isOpen:o}))},[o,c,t]),(0,i.useEffect)(()=>()=>{t&&c((0,l.WI)({id:t,isOpen:!1}))},[c,t]),{isOpen:o,onOpen:s,onClose:d}}},22539:(e,t,n)=>{"use strict";n.d(t,{W:()=>c});var a=n(77650);let i={src:"/_next/static/media/Title-with-2-Column-Image-Left.a898abf9.svg",height:47,width:92,blurWidth:0,blurHeight:0},r={src:"/_next/static/media/Title-with-3-boxes.8a28c3c6.svg",height:49,width:91,blurWidth:0,blurHeight:0},l={src:"/_next/static/media/Title-with-3-images.172b44a3.svg",height:69,width:92,blurWidth:0,blurHeight:0},o={src:"/_next/static/media/Title-with-Bullets.066ad97e.svg",height:55,width:92,blurWidth:0,blurHeight:0},s={src:"/_next/static/media/Title-with-text.2a88d207.svg",height:45,width:92,blurWidth:0,blurHeight:0},d={src:"/_next/static/media/Title-with-timeline.5a8d1065.svg",height:63,width:91,blurWidth:0,blurHeight:0},c=()=>[{name:a.Ru._({id:"RYtHky"}),key:"bullets",image:o,aiDescription:"Use the bullets smart layout for small amounts of text or a list of UL/OL/LI tags for large amounts."},{name:a.Ru._({id:"m2tQ9E"}),key:"paragraphs",image:s,aiDescription:"Write in paragraphs with no additional layout blocks."},{name:a.Ru._({id:"2abZdy"}),key:"twoColImage",image:i,aiDescription:"Use a columns layout with text in one column and an image in the other."},{name:a.Ru._({id:"cklVjM"}),key:"timeline",image:d,aiDescription:"Use the timeline smart layout."},{name:a.Ru._({id:"cDxTeG"}),key:"imagesWithText",image:l,aiDescription:"Use the images with text smart layout."},{name:a.Ru._({id:"61H/21"}),key:"boxes",image:r,aiDescription:"Use the text boxes smart layout."}]},22911:(e,t,n)=>{"use strict";n.d(t,{F:()=>l,L:()=>r});var a=n(6700),i=n(91938);let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return"unknown";try{let i=new URL(e),r=(0,a.removeWWWPrefix)(i.hostname);if(n.includes(r))return"trusted";let l=t.find(t=>t.url===e);if(!l)return"unknown";if(3===l.status)return"untrusted";if(2===l.status)return"unknown";if(1===l.status)return"trusted";l.status}catch(t){console.error("[getLinkTrustLevel] Error checking link",e,t)}return"unknown"},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return"";let a=r(e,t,n);return"trusted"===a?e:"untrusted"===a?"".concat(i.$.FRONTEND_URL,"/[untrusted-url]"):"".concat(i.$.FRONTEND_URL,"/external-link?url=[").concat(encodeURIComponent(e),"]")}},23050:(e,t,n)=>{"use strict";n.d(t,{Hb:()=>i,g_:()=>r,nD:()=>l});var a=n(63867);let i="+++",r="/continue",l=new a.hs("autocomplete")},23103:(e,t,n)=>{"use strict";n.d(t,{B:()=>r,l:()=>l});var a=n(91938),i=n(87996);let r=e=>e&&i.Dc[e]?i.Dc[e]:i.Jp,l=e=>"".concat(a.$.EMBED_PROXY_URL,"?alt_url=").concat(e)},23144:(e,t,n)=>{"use strict";n.d(t,{BJ:()=>iA,aQ:()=>iw});var a=n(6029),i=n(26420),r=n(51684),l=n(77650),o=n(55729),s=n(45214),d=n(43607),c=n(40452),u=n(53996),p=n(21938),h=n(40077),g=n(17006),m=n(29608),x=n(80274),f=n(15342),b=n(95695),v=n(96177),y=n(88839),w=n(62452),C=n(43634);let A=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,l=(0,f.GV)(C.SJ),s=null!=(n=null==t?void 0:t.color)?n:e.color,d=s,c=(0,y.M)(l),u=b.z0[c.shapeFill].opacity,p=(0,w.bh)(l);if(!d&&!r&&"custom"===c.shapeColorScheme&&p.length>0&&t){let e=(0,w.bh)(l).map(w.Ik);d=e[a%e.length]}let g=!0===i?0:!1===i?1:u,m=(0,o.useMemo)(()=>(0,v.q9)(d,g),[d,g]),x=s?(0,h.U2)(s):void 0;return{color:d,colorVars:m,headingColorCss:x,colorOverride:s}};var j=n(90278),k=n(69837);let S=e=>{var t;let{index:n,theme:r,layoutOptions:l,cellOptions:x,children:f,positionProps:b,markerProps:v,getPos:y,editor:w,markerFontSize:C="h3",selectCell:S}=e,E=(0,d.FX)(),R=null==(t=l.numbered)||t,L=I(E,C),D=(0,o.useCallback)(()=>{if(!w.isEditable)return;let e=w.state.doc.resolve(y());(0,j.tN)(w,e)},[y,w]),M=(0,o.useMemo)(()=>(0,g.bh)(C,r),[C,r]),{colorVars:_}=A(l,x,n),T={...(0,m.nr)()?(0,h.U2)():void 0};return(0,a.jsxs)(c.s,{...b,contentEditable:!1,userSelect:"none",onMouseDown:D,cursor:"default",css:_,children:[(0,a.jsx)(u.o,{h:"".concat(L,"em"),w:"".concat(L,"em"),className:s.SA,sx:T,pos:"relative",...v,children:(0,a.jsx)(i.a,{sx:M,className:(0,p.cx)(h.U6),textAlign:"center",style:{lineHeight:1},pos:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",children:(0,a.jsx)(k.R,{image:e.image,number:R?n+1:void 0,isNumbered:R,iconSize:1,selectCell:S})})}),f]})},I=(e,t)=>{var n;let a=(0,x.o)(t);return(e&&null!=(n=a.mobileSize)?n:a.size)+.75},E=(e,t,n,a)=>{var i,r,l;let o=(0,x.o)(a),s="body"===o.type,d=t&&null!=(i=o.mobileSize)?i:o.size,c=null===n?0:I(t,n),u=s||t?null!=(r=e.config.lineHeightBody)?r:g.Uw:null!=(l=e.config.lineHeightHeading)?l:g.eL;return"".concat((c-d*u)/2,"em")};var R=n(58959),L=n(57405),D=n(48810),M=n(50933),_=n(99492),T=n(48621),N=n(91106),z=n(98874);let P={key:"cellSize",defaultValue:()=>(0,z.rO)().md.width,Control:e=>{let{value:t,updateValue:n,option:i}=e,r=Object.values((0,z.rO)()).find(e=>e.width===t);return(0,a.jsxs)(R.z,{spacing:2,me:2,children:[(0,a.jsx)(N.Tz,{placement:"top",label:(0,a.jsxs)(L.T,{spacing:0,children:[(0,a.jsx)(D.E,{color:"gray.400",children:i.name()}),(0,a.jsx)(D.E,{children:null==r?void 0:r.label()})]}),children:(0,a.jsx)(D.E,{fontSize:"sm",fontWeight:"600",children:(0,a.jsx)(T.g,{icon:_.oZz})})}),(0,a.jsxs)(M.Ap,{min:(0,z.rO)().sm.width,max:(0,z.rO)().xl.width,step:5,value:t,onChange:n,w:"60px",focusThumbOnChange:!1,colorScheme:"trueblue",size:"sm",children:[(0,a.jsx)(M.hB,{children:(0,a.jsx)(M.hJ,{})}),r?(0,a.jsx)(N.Tz,{placement:"top",label:(0,a.jsxs)(L.T,{spacing:0,children:[(0,a.jsx)(D.E,{color:"gray.400",children:i.name()}),(0,a.jsx)(D.E,{children:r.label()})]}),children:(0,a.jsx)(M.OQ,{background:"trueblue.500"})}):(0,a.jsx)(M.OQ,{background:"trueblue.500"})]})]})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:_.oZz,items:Object.entries((0,z.rO)()).map(n=>{let[a,i]=n;return{key:"cell-size-".concat(a),label:i.label(),icon:i.width===e?_.e68:void 0,onClick:()=>{t(i.width)}}})}),getDefaultOnParse:e=>e.childElementCount%2==0?(0,z.rO)().lg.width:(0,z.rO)().md.width,checkEnabled(e){let{options:t}=e;return"vertical"!==t.orientation},name:()=>l.Ru._({id:"LNoaEH"}),validator:e=>Object.values((0,z.rO)()).some(t=>t.width===e)};var O=n(54229),F=n(35883);let H=(e,t,n)=>(0,a.jsx)(O.b,{currentColor:e,setColor:e=>{t(e,!0),null==n||n()},unsetColor:()=>{t(null,!0),null==n||n()},source:"SmartLayout",showAddColorButton:!1}),B={key:"color",Control:e=>{let{value:t,updateValue:n,editor:i}=e;return(0,a.jsx)(F.a,{color:t,setColor:e=>n(e,!0),editor:i,analyticsSource:"SmartLayout"})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:_.fyG,items:[{key:"clear",element:n=>H(e,t,n)}]}),name:()=>"Color"};var V=n(55597),W=n(74471);let U={key:"isEmphasized",Control:e=>{let{value:t,editor:n,pos:i}=e;return(0,a.jsx)(W.I,{label:t?l.Ru._({id:"PDMbsX"}):l.Ru._({id:"m1crrt"}),icon:t?V.yy:_.yy,onClick:()=>{i&&n.chain().handleEmphasizeCell(i,!t).run()}})},ControlMenu:(e,t,n)=>({key:n.key,label:e?l.Ru._({id:"PDMbsX"}):l.Ru._({id:"m1crrt"}),icon:e?V.yy:_.yy,onClick:()=>{t(!e)}}),name:()=>"Emphasis"},G=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.values(t.reduce((e,t)=>(t.forEach(t=>{e[t.key]=t}),e),{}))},K=e=>{let{additionalOptions:t=[],additionalCellOptions:n=[],defaultOptions:a={},presetConfigurations:i=[]}=e;return{...e,options:G([B,P],t),cellOptions:G([B,U],n),presetConfigurations:i,addDirection:e=>"vertical"===e.orientation?"bottom":"right",isFullWidth:e=>"horizontal"===e.orientation,defaultOptions:a}};var Q=n(3298),Z=n(66082),q=n(48687);let J=e=>{let{index:t,numCells:n,columns:a,unevenBehavior:i="center"}=e;if("flex"!==i||Math.floor(t/a)!==Math.ceil(n/a)-1)return q.m;let r=n%a||a,l=t%a;if(l>=r)return 0;let o=a*q.m,s=Math.floor(o/r);return l<o%r?s+1:s},$=(e,t,n,a)=>{let i={};if(e){if(a&&"cascade"===e.horizontal){let e=t%n+1;i.paddingTop="".concat((n-e)*1.5,"em"),i.paddingBottom=0}else a||"oscillating"!==e.vertical||(i.paddingInlineStart="".concat(function(e){let t=e%6;return t<=3?1.5*t:4.5-(t-3)*1.5}(t),"em"));a&&"function"==typeof e.horizontal?i.paddingTop=e.horizontal(t,n):a||"function"!=typeof e.vertical||(i.paddingInlineStart=e.vertical(t))}return i};var Y=n(25722);let X=(0,o.memo)(e=>{let{cellProps:t,children:n,unevenBehavior:r="center",forceBalance:l,staggering:o,...s}=e,{layoutOptions:d,cellOptions:c,dragHandle:u,index:p,selectCellForElementProps:h,numCells:g,layoutContainerSize:m,direction:x}=t,{colorVars:f}=A(d,c,p,!0),b=s.alignItems?void 0:{...(0,Z.yp)(d.horizontalAlign,x),...(0,Z.AS)(d.horizontalAlign,x)},{isHorizontal:v,columns:y}=(0,Y.i)(d,g,m,l),w=J({index:p,numCells:g,columns:y,unevenBehavior:r}),C=o?$(o,t.index,y,v):void 0;return(0,a.jsxs)(i.a,{"data-selection-ring":!0,"data-content-reference":!0,pos:"relative",gridColumn:"span ".concat(w),...C,...s,sx:{...f,...b,...null==s?void 0:s.sx},...h,cursor:"text",children:[n,u]})});X.displayName="SmartLayoutGridCell";let ee=e=>{let{cellProps:t,gap:n,LabelComponent:i,children:r,forceBalance:l,unevenBehavior:o,staggering:s,...d}=e;return(0,a.jsx)(X,{cellProps:t,forceBalance:l,unevenBehavior:o,staggering:s,children:(0,a.jsx)(et,{cellProps:t,gap:n,LabelComponent:i,...d,children:r})})},et=e=>{let{cellProps:t,gap:n="1em",LabelComponent:r,children:l,...o}=e,{layoutOptions:d,direction:u,numCells:p,layoutContainerSize:h}=t,{isHorizontal:g}=(0,Y.i)(d,p,h),m=g?"column":"rtl"===u&&"left"===d.horizontalAlign||"ltr"===u&&"right"===d.horizontalAlign?"row-reverse":"row",x=g?{minW:0,transformOrigin:"center top",p:Q.xb,pt:0}:{transformOrigin:"left center",p:Q.xb,px:0};return(0,a.jsxs)(c.s,{direction:m,gap:n,minH:g?void 0:"6em",h:"100%",borderRadius:"var(--box-border-radius)",...o,children:[(0,a.jsx)(r,{cellProps:t,isHorizontal:g}),(0,a.jsx)(i.a,{flex:"1",sx:x,cursor:"text",className:s.VN,children:l})]})};var en=n(83743);let ea=(0,o.memo)(e=>{let{children:t,options:n,numCells:i,containerSize:r,onContextMenu:l,selectLayoutForElementProps:o,columnGap:s="1.25em",rowGap:d="2.5em",unevenBehavior:c="center",forceBalance:u,sx:p,className:h}=e,{isHorizontal:g,columns:m,lastRowAligner:x}=(0,Y.i)(n,i,r,u),f=g?{columns:m*q.m,rowGap:d,columnGap:s}:{columns:+q.m,rowGap:d};return(0,a.jsxs)(en.r,{"data-selection-ring":!0,...f,pos:"relative",onContextMenu:l,...o,sx:p,className:h,children:[t,"center"===c&&x]})});ea.displayName="SmartLayoutGridWrapper";let ei=(0,o.memo)(e=>{let{children:t,visual:n,visualPosition:r="top",visualSize:l="100%",visualMaxSize:o,gap:d="1.25em",alignContent:c,unevenBehavior:u="center",forceBalance:p,cellProps:h,textboxProps:g}=e,{layoutOptions:m,cellOptions:x,isContentEmpty:f,isLayoutFocused:b,direction:v,index:y}=h,w="left"===r,C=c||(w?"rtl"===v?"right":"left":m.horizontalAlign),{colorVars:j}=A(m,x,y,!0);return(0,a.jsxs)(X,{cellProps:h,unevenBehavior:u,p:0,gap:f&&!b?0:d,display:"flex",flexDirection:w?"right"===C&&"rtl"!==v?"row-reverse":"row":"column",alignItems:w?"flex-start":void 0,justifyContent:"center",h:"100%",className:s.VN,forceBalance:p,children:[(0,a.jsx)(i.a,{w:l,maxW:o,flex:w?1:void 0,children:n}),(0,a.jsx)(i.a,{minW:w?"6em":"100%",maxW:"100%",flex:w?1.618:1,"data-content-empty":f,css:{...j,...w?(0,Z.G4)("flex-start"):{}},cursor:"text",...g,children:t})]})});ei.displayName="VisualGridCell";var er=n(41427),el=n(45143);let eo={base:!1,md:!0},es={base:!1,md:!0},ed=e=>{let t=(0,el.h5)(eo)||!1,n=(0,el.h5)(es)||!1,a="horizontal"===e.orientation&&n,i=e.twoSided&&(a||t);return{isHorizontal:a,isTwoSided:i}},ec=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?e?{templateRows:"auto 0px auto",gridAutoColumns:"1fr",gridAutoFlow:"column",justifyContent:"start",columnGap:"1.25em"}:{templateColumns:t?"1fr 0px 1fr":"0px 0px 1fr",gridAutoRows:"auto",justifyContent:"center",rowGap:"2em"}:e?{templateRows:"auto 0px auto",autoColumns:"1fr",justifyContent:"center",columnGap:"1.25em"}:{templateColumns:t?"1fr 0px 1fr":"0px 0px 1fr",autoRows:"auto",justifyContent:"center",rowGap:"2em"}},eu=function(e,t,n,a,i){let r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=t&&(n+1)%2==1;return r?e?{gridColumn:n+1,gridRow:l?1:3,align:l?"flex-end":"flex-start",justify:"center",transformOrigin:l?"center bottom":"center top",pt:l?void 0:a,pb:l?a:void 0,px:i}:{gridRow:n+1,gridColumn:l?1:3,align:"flex-start",transformOrigin:l?"right center":"left center",ps:l?void 0:a,pe:l?a:void 0}:e?{gridColumn:"span 2",gridRow:l?1:3,align:l?"flex-end":"flex-start",justify:"center",transformOrigin:l?"center bottom":"center top",pt:l?void 0:a,pb:l?a:void 0,px:i}:{gridRow:"span 2",gridColumn:l?1:3,align:"flex-start",transformOrigin:l?"right center":"left center",ps:l?void 0:a,pe:l?a:void 0}},ep=(e,t,n,a,i,r)=>{let l=!t*a,o=t&&n%2==0,[s,d]=(0,er.yz)(i),c="center"===r?"50%":0;return e?o?{bottom:"".concat(l,"em"),transform:"translateY(50%)"}:{top:"".concat(l,"em"),transform:"translateY(-50%)"}:o?{[d]:"".concat(l,"em"),transform:"translateX(".concat("rtl"===i?"-50":"50","%)"),top:c}:{[s]:"".concat(l,"em"),transform:"translateX(".concat("rtl"===i?"50":"-50","%)"),top:c}},eh=(e,t,n,a,i)=>{let r=t&&n%2==0,[l,o]=(0,er.yz)(i),s="number"==typeof a?"".concat(a,"em"):a;return e?{height:s,width:"var(--line-thickness)",[l]:"50%",top:r?void 0:"50%",bottom:r?"50%":void 0,transform:"translateX(".concat("rtl"===i?"50":"-50","%)")}:{width:s,height:"var(--line-thickness)",top:"50%",transform:"translateY(-50%)",[l]:r?void 0:"calc(100% - var(--line-thickness))",[o]:r?"calc(100% - var(--line-thickness))":void 0}},eg=(e,t,n,a,i,r,l)=>"".concat(("inside"===e?l?t/2:t:0)+("none"===e?a:0)+(i?n/2:n)+(r?0:a),"em"),em=(0,o.memo)(e=>{let{cellProps:t,markerSize:n,lineLength:r,verticalAlign:l="top",MarkerWrapper:o=S,markerFontSize:c="h3"}=e,{direction:u,index:p,layoutOptions:h}=t,{isHorizontal:g,isTwoSided:m}=ed(h),x=h.hasLine?"inside":"none",f=(0,d.FX)(),b=ep(g,m,p,n,u,l),v=eh(g,m,p,"none"===x?0:"inside"===x?"".concat(f?r/2:r,"em"):"100%",u);return(0,a.jsx)(o,{...t,positionProps:{...b,position:"absolute"},markerFontSize:c,children:"none"!==x&&(0,a.jsx)(i.a,{position:"absolute",zIndex:"-1","data-testid":"timeline-line",...v,className:s.eI})})});em.displayName="AlternatingMarker";let ex=e=>{switch(e.verticalAlign||"top"){case"center":return{alignItems:"center"};case"bottom":return{alignItems:"flex-end"};default:return{alignItems:"flex-start"}}},ef=(0,o.memo)(e=>{let{children:t,markerSize:n=1.125,lineLength:r=3,contentPadding:l=2,minCellSize:o=8,MarkerComponent:u=em,testIdPrefix:h="timeline-item",textBoxProps:g,markerFontSize:m="h3",useSequentialPositioning:x=!1,className:f,css:b,...v}=e,{layoutOptions:y,index:w,dragHandle:C,cellOptions:j,direction:k,selectCellForElementProps:S}=v,{isHorizontal:I,isTwoSided:R}=ed(y),L=R&&(w+1)%2==1,D=y.hasLine?"inside":"none",{colorVars:M}=A(y,j,w,!0),_=(0,d.FX)(),T=eg(D,r,l,n,I,R,_),N=eu(I,R,w,T,"".concat(l/2,"em"),x),z={right:"rtl"===k?"left":"right",left:"rtl"===k?"right":"left"},P=E(v.theme,_,m,v.firstChildSize),O=I?{minW:"min(100%, ".concat(o,"em)"),...(0,Z.yp)("center"),...M}:{minH:R?"".concat(o,"em"):void 0,...(0,Z.yp)(L?z.right:z.left),...(0,Z.AS)(L?z.right:z.left,k),mt:P,...M};return(0,a.jsxs)(c.s,{minW:"0",position:"relative",transitionProperty:"border, padding, right, margin","data-selection-ring":"padded","data-content-reference":!0,...S,...N,["data-test-".concat(h)]:w,css:{...b},className:(0,p.cx)(f),...ex(y),children:[u&&(0,a.jsx)(u,{cellProps:v,markerSize:n,lineLength:r}),(0,a.jsxs)(i.a,{sx:O,className:(0,p.cx)("".concat(s.VN)),flex:"1",maxW:"100%",...S,cursor:"text",...g,children:[t,C]})]})});ef.displayName="AlternatingGridCell";var eb=n(56570);let ev=(0,o.memo)(e=>{let{children:t,options:n,direction:i,onContextMenu:r,selectLayoutForElementProps:l,markerSize:s=1.125,useSequentialPositioning:d=!1,css:c}=e,{isHorizontal:u,isTwoSided:p}=ed(n),h=(0,o.useMemo)(()=>ec(u,p,d),[u,p,d]),{colorVars:g}=A(n);return(0,a.jsxs)(eb.x,{...h,"data-selection-ring":"padded",pos:"relative",onContextMenu:r,...l,css:c,children:[(0,a.jsx)(ey,{isHorizontal:u,isTwoSided:p,direction:i,markerSize:s,colorVars:g}),t,p&&(0,a.jsx)(ew,{isHorizontal:u,selectLayoutForElementProps:l})]})});ev.displayName="AlternatingGridWrapper";let ey=(0,o.memo)(e=>{let{isHorizontal:t,isTwoSided:n,direction:r,markerSize:l,colorVars:o}=e;return t?(0,a.jsx)(i.a,{gridRow:2,gridColumn:1,"data-spotlight-dim":!0,contentEditable:!1,css:o,children:(0,a.jsx)(i.a,{position:"absolute",height:"var(--line-thickness)",width:"100%",insetX:"0",insetBlockStart:n?void 0:"".concat(l,"em"),className:s.eI})}):(0,a.jsx)(u.o,{gridColumn:2,gridRow:1,"data-spotlight-dim":!0,contentEditable:!1,css:o,children:(0,a.jsx)(i.a,{position:"absolute",width:"var(--line-thickness)",insetY:"0",left:n||"rtl"===r?void 0:"0",right:n||"ltr"===r?void 0:"0",className:s.eI,ms:n?void 0:"".concat(l,"em")})})});ey.displayName="AlternatingCenterLine";let ew=(0,o.memo)(e=>{let{isHorizontal:t,selectLayoutForElementProps:n}=e;return(0,a.jsx)(i.a,{...t?{gridColumn:"1 / span 1",gridRow:3,minW:"0.5fr"}:{gridColumn:3,gridRow:"1 / span 1",minH:"".concat(4,"em")},contentEditable:!1,...n})});ew.displayName="AlternatingStaggerElement";var eC=n(19564);let eA={key:"hasLine",defaultValue:()=>!0,Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,a.jsx)(W.I,{label:i.name(),onClick:()=>n(!t),isActive:t,icon:_.CCK})},ControlMenu:(e,t,n)=>({key:n.key,label:e?(0,a.jsx)(eC.x6,{id:"IELtbA"}):(0,a.jsx)(eC.x6,{id:"81xMlD"}),icon:_.CCK,onClick:()=>t(!e)}),name:()=>l.Ru._({id:"aPb1AT"})},ej={key:"orientation",defaultValue:()=>"horizontal",Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,a.jsx)(W.I,{label:i.name(),onClick:()=>n("horizontal"===t?"vertical":"horizontal"),isActive:"vertical"===t,icon:"horizontal"===t?_.dmS:_.B0C,testId:"smart-layout-orientation-option"})},ControlMenu:(e,t,n)=>({key:n.key,label:l.Ru._({id:"R56kJO"}),icon:"horizontal"===e?_.dmS:_.B0C,items:[{key:"horizontal",label:l.Ru._({id:"pzu7v4"}),icon:"horizontal"===e?_.e68:void 0,onClick:()=>t("horizontal")},{key:"vertical",label:l.Ru._({id:"mX/isJ"}),icon:"vertical"===e?_.e68:void 0,onClick:()=>t("vertical")}]}),name:()=>l.Ru._({id:"MRB7nI"}),validator:e=>"horizontal"===e||"vertical"===e},ek={key:"twoSided",defaultValue:()=>!0,Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,a.jsx)(W.I,{label:i.name(),onClick:()=>n(!t),isActive:t,icon:_.v6v,testId:"smart-layout-two-sided-option"})},ControlMenu:(e,t,n)=>({key:n.key,label:e?l.Ru._({id:"x+f1ZW"}):l.Ru._({id:"o18EC+"}),icon:_.v6v,onClick:()=>t(!e)}),name:()=>l.Ru._({id:"ovs7iP"})},eS=e=>{let{additionalOptions:t=[],additionalCellOptions:n=[],presetConfigurations:a=[],...i}=e;return{baseHorizontalAlign:(0,Z.Ro)("center"),imageSlot:"optional",imageType:"icon",options:G([{...ej,defaultValue:()=>"vertical"},ek,eA,B],t),cellOptions:G([B,U],n),presetConfigurations:a.length>0?a:[{name:()=>"Horizontal (one-sided)",options:{twoSided:!1,hasLine:!0,orientation:"horizontal"}},{name:()=>"Horizontal (two-sided)",options:{twoSided:!0,hasLine:!0,orientation:"horizontal"}},{name:()=>"Vertical (one-sided)",options:{twoSided:!1,hasLine:!0,orientation:"vertical"}},{name:()=>"Vertical (two-sided)",options:{twoSided:!0,hasLine:!0,orientation:"vertical"}}],addDirection:e=>"horizontal"===e.orientation?"right":"bottom",isFullWidth:e=>"horizontal"===e.orientation,...i}},eI=e=>{let{additionalOptions:t=[],presetConfigurations:n=[],...a}=e;return eS({...a,additionalOptions:[{...ek,defaultValue:()=>!0},...t],presetConfigurations:n.length>0?n:[{name:()=>"Horizontal",options:{twoSided:!0,hasLine:!0,orientation:"horizontal"}},{name:()=>"Vertical",options:{twoSided:!0,hasLine:!0,orientation:"vertical"}}],defaultOptions:{twoSided:!0,numbered:!1,...a.defaultOptions}})},eE=(0,o.memo)(e=>(0,a.jsx)(ev,{...e,markerSize:.75}));eE.displayName="TimelineWrapper";let eR=(0,o.memo)(e=>{let{children:t,positionProps:n,...r}=e,{direction:l,layoutOptions:o,cellOptions:c,index:u}=r,{colorVars:p}=A(o,c,u),h=I((0,d.FX)(),"h3");return(0,a.jsxs)(i.a,{...n,height:"".concat(h,"em"),css:p,children:[(0,a.jsx)(i.a,{position:"absolute",transform:"translate(".concat("rtl"===l?"50%":"-50%",", -50%)"),width:"".concat(.75,"em"),height:"".concat(.75,"em"),borderRadius:"50%",className:s.P7,zIndex:2,top:"50%"}),t]})});eR.displayName="TimelineMarkerBox";let eL=(0,o.memo)(e=>(0,a.jsx)(em,{...e,MarkerWrapper:eR,verticalAlign:"top"}));eL.displayName="TimelineMarkerComponent";let eD=(0,o.memo)(e=>(0,a.jsx)(ef,{...e,lineLength:2,contentPadding:2,minCellSize:8,markerSize:.75,markerFontSize:"h3",MarkerComponent:eL}));eD.displayName="TimelineCell";let eM=()=>eS({key:"minimalTimeline",name:()=>l.Ru._({id:"cupqy6"}),family:"sequence",icon:r.bef,htmlTag:"minimal-timeline",Wrapper:eE,Cell:eD,keywords:["minimal","timeline","layout","list","horizontal","vertical","clean"],featureFlag:"smartLayoutsJuly2025"}),e_=(0,o.memo)(e=>(0,a.jsx)(ev,{...e,markerSize:.75}));e_.displayName="TimelineWrapper";let eT=(0,o.memo)(e=>{let{children:t,positionProps:n,...r}=e,{direction:l,layoutOptions:o,cellOptions:d,index:c}=r,{colorVars:u}=A(o,d,c);return(0,a.jsxs)(i.a,{...n,css:u,children:[(0,a.jsx)(i.a,{position:"absolute",transform:"translate(".concat("rtl"===l?"50%":"-50%",", -50%)"),width:"0.75em",height:"0.75em",borderRadius:"50%",className:s.P7,zIndex:2}),t]})});eT.displayName="TimelineMarkerBox";let eN=(0,o.memo)(e=>(0,a.jsx)(em,{...e,MarkerWrapper:eT,verticalAlign:"center"}));eN.displayName="TimelineMarkerComponent";let ez=(0,o.memo)(e=>(0,a.jsx)(ef,{...e,lineLength:3,contentPadding:0,minCellSize:8,markerSize:.75,MarkerComponent:eN,textBoxProps:{className:s.SA,p:Q.xb}}));ez.displayName="TimelineCell";let eP=()=>eS({key:"minimalTimelineWithBoxes",name:()=>l.Ru._({id:"D5zoh6"}),family:"sequence",icon:V.bef,htmlTag:"minimal-timeline-boxes",Wrapper:e_,Cell:ez,keywords:["minimal","timeline","boxes","layout","list","horizontal","vertical","clean"],featureFlag:"smartLayoutsJuly2025"}),eO={key:"horizontalAlign",defaultValue:()=>null,Control:e=>{let{value:t,updateValue:n}=e;return(0,a.jsx)(R.z,{spacing:0,dir:"ltr",children:Z.gj.map(e=>{let{name:i,icon:r,alignment:l}=e;return(0,a.jsx)(W.I,{label:i(),icon:r,onClick:()=>{n(l===t?null:l)},isActive:t===l},i())})})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:_.ecg,items:Z.gj.map(n=>{let{name:a,alignment:i}=n;return{key:a(),label:a(),icon:e===i?_.e68:void 0,onClick:()=>{t(i===e?null:i)}}})}),name:()=>l.Ru._({id:"0j+RGO"})},eF=(e,t,n,a)=>{let i=(e+1)%2==1;return t?i&&a?{borderBottomLeftRadius:"0 !important",borderBottomRightRadius:"0 !important",borderBottom:"none !important"}:{borderTopLeftRadius:"0 !important",borderTopRightRadius:"0 !important",borderTop:"none !important",top:"var(--shape-border-width) !important"}:("ltr"===n?!a||!i:a&&i)?{borderTopLeftRadius:"0 !important",borderBottomLeftRadius:"0 !important",borderLeft:"none !important",left:"var(--shape-border-width) !important"}:{borderTopRightRadius:"0 !important",borderBottomRightRadius:"0 !important",borderRight:"none !important",right:"var(--shape-border-width) !important"}},eH=(0,o.memo)(e=>(0,a.jsx)(ev,{...e,markerSize:0,useSequentialPositioning:!0,css:{"--line-color":"var(--shape-border-color-override, var(--shape-border-color))"}}));eH.displayName="SolidBoxesAlternatingWrapper";let eB=(0,o.memo)(e=>{let{layoutOptions:t,index:n,direction:i}=e,{isHorizontal:r}=ed(t),l=eF(n,r,i,t.twoSided);return(0,a.jsx)(ef,{...e,lineLength:0,contentPadding:0,minCellSize:6,markerSize:0,useSequentialPositioning:!0,spanSize:1,className:s.SA,css:l,textBoxProps:{p:Q.xb,height:"100%"},MarkerComponent:null})});eB.displayName="SolidBoxesAlternatingCell";let eV=()=>eI({key:"solidBoxesAlternating",name:()=>l.Ru._({id:"17LxIH"}),family:"boxes",Wrapper:eH,Cell:eB,icon:r.aqE,htmlTag:"solidBoxesAlternating",additionalOptions:[eO],defaultOptions:{horizontalAlign:"center",verticalAlign:"middle"},keywords:["solid","boxes","alternating","layout","list","horizontal","vertical"],featureFlag:"smartLayoutsJuly2025"});var eW=n(22905),eU=n(55424);let eG={key:"numbered",defaultValue:()=>!0,Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,a.jsx)(W.I,{label:i.name(),onClick:()=>n(!t),isActive:t,icon:_.Tsj})},ControlMenu:(e,t,n)=>({key:n.key,label:e?l.Ru._({id:"qCzYrD"}):l.Ru._({id:"Ty8hAp"}),icon:_.Tsj,onClick:()=>t(!e)}),name:()=>l.Ru._({id:"mVQI+S"})},eK={...eG,getDefaultOnParse:e=>!Array.from(e.children).every(e=>e.querySelector("icon")),checkEnabled:e=>{let{options:t,node:n}=e,a=n&&(0,eW.xe)(n,eU.q);return(null==a?void 0:a.every(e=>{var t,n,a,i,r;return!(null==e||null==(n=e.node)||null==(t=n.attrs)?void 0:t.image)||(null==e||null==(r=e.node)||null==(i=r.attrs)||null==(a=i.image)?void 0:a.src)===void 0}))||!0===t.numbered}},eQ=(0,o.memo)(e=>(0,a.jsx)(ev,{...e,markerSize:1.125}));eQ.displayName="TimelineWrapper";let eZ=(0,o.memo)(e=>(0,a.jsx)(em,{...e,MarkerWrapper:S}));eZ.displayName="TimelineMarkerComponent";let eq=(0,o.memo)(e=>(0,a.jsx)(ef,{...e,lineLength:3,contentPadding:2,minCellSize:8,markerSize:1.125,MarkerComponent:eZ}));eq.displayName="TimelineCell";let eJ=()=>eS({key:"timeline",name:()=>l.Ru._({id:"cklVjM"}),family:"sequence",Wrapper:eQ,Cell:eq,icon:V.o7M,htmlTag:"timeline",keywords:["timeline","layout","list","horizontal","vertical"],additionalOptions:[eK]});var e$=n(83740),eY=n(34807),eX=n(28615);let e0="1.5em",e1=e=>{let{containerSize:t,columnsNeeded:n}=e,a=(0,d.FX)(),i=(0,eY.A)({base:1,sm:2,md:3,xl:4})||2;return(eX.D1?4:a?2:i)*t<n},e2=(0,o.memo)(e=>{let{children:t,layoutOptions:n,flexProps:r,...l}=e,{index:o,direction:u}=l,{colorVars:p}=A(n,e.cellOptions,o,!0),h=(0,Z.AS)("rtl"===u?"right":"left",e.direction),g=(0,d.FX)(),m=E(e.theme,g,"h4",e.firstChildSize);return(0,a.jsxs)(c.s,{direction:"row",align:"flex-start",gap:Q.xb,w:"100%","data-selection-ring":!0,"data-content-reference":!0,pos:"relative",...r,children:[(0,a.jsx)(S,{...l,layoutOptions:n,markerFontSize:"h4"}),(0,a.jsx)(i.a,{flex:"1",minW:"0",className:s.VN,css:p,pt:m,sx:h,children:t})]})});e2.displayName="StackedSmartLayoutCell";let e4={ring:{thickness:.075,padAngle:0,roundness:0,iconSize:1,circleScale:.8,numberBackground:!0},flower:{thickness:.97,padAngle:3,roundness:.2,iconSize:1.25,circleScale:1},cycle:{thickness:.6,padAngle:2,roundness:0,pointiness:.33,iconSize:1.33,circleScale:1},circle:{thickness:.6,padAngle:3,iconSize:1.33,circleScale:1},semiCircle:{thickness:.5,padAngle:2,iconSize:1.5,circleScale:1}},e6=(0,o.memo)((0,o.forwardRef)((e,t)=>{let{flexProps:n,coords:r,...l}=e,{image:o,selectCell:d,layoutOptions:u,cellOptions:g,index:m,numCells:x,variant:f}=l,b=u.numbered&&x>1,{iconSize:v,numberBackground:y}=e4[f.key],{colorVars:w}=A(u,g,m),{arcPath:C,circleWidth:j}=r;return(0,a.jsxs)(c.s,{pos:"relative",ref:t,aspectRatio:"1/1","data-smart-layout-emphasis":!0,css:{contain:"layout"},pointerEvents:"none",...n,children:[(0,a.jsx)(i.a,{as:"svg",pos:"absolute",inset:0,viewBox:"0 0 ".concat(j," ").concat(j),overflow:"visible",className:s.D6,css:w,children:(0,a.jsx)(i.a,{as:"path",d:C,transform:"translate(".concat(j/2,"px, ").concat(j/2,"px) scale(").concat(j,")"),style:{vectorEffect:"non-scaling-stroke"}})}),(0,a.jsx)(c.s,{className:y?s.SA:s.lR,top:"".concat(r.centroidTop,"px"),left:"".concat(r.centroidLeft,"px"),pos:"absolute",contentEditable:!1,transform:"translate(-50%, -50%)",borderRadius:"999px !important",aspectRatio:"1/1",h:"2.5em",align:"center",direction:"column",justify:"center",css:w,children:(0,a.jsx)(i.a,{className:(0,p.cx)(h.U6),pointerEvents:"auto",children:(0,a.jsx)(k.R,{image:o,number:b?m+1:void 0,isNumbered:u.numbered,iconSize:1.125*v,selectCell:d})})})]})}));e6.displayName="CircleSegment";var e5=n(84462),e3=n.n(e5),e9=n(58568),e7=n(5777);let e8=e3()(e7.JL);function te(e,t){return[e*Math.sin(t),-e*Math.cos(t)]}function tt(e,t,n,a){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=i>1e-9?Math.sin(i/2)*(t-e)*(2*a):0,[l,o]=te((e+t)/2-r,n-i/2),s=(t-e)*a;return[l+s*Math.cos(n),o+s*Math.sin(n)]}let tn=e3()(function(e){let{innerRadius:t=0,outerRadius:n=0,startAngle:a=0,endAngle:i=2*Math.PI,pointStrength:r=.5,padAngle:l=0}=e,{innerStartAngle:o,innerEndAngle:s,outerStartAngle:d,outerEndAngle:c,innerArcSpan:u,outerArcSpan:p,isClockwise:h}=function(e,t,n,a,i){let r=a>n,l=Math.abs(a-n),o=n,s=a,d=n,c=a,u=l,p=l;if(i>1e-9){let l=i/2,h=Math.sqrt(e*e+t*t),g=0;e>1e-9&&(g=Math.asin(h/e*Math.sin(l)));let m=0;t>1e-9&&(m=Math.asin(h/t*Math.sin(l))),(u-=2*g)>1e-9?r?(o+=g,s-=g):(o-=g,s+=g):o=s=(n+a)/2,(p-=2*m)>1e-9?r?(d+=m,c-=m):(d-=m,c+=m):d=c=(n+a)/2}return{isClockwise:r,innerStartAngle:o,innerEndAngle:s,outerStartAngle:d,outerEndAngle:c,innerArcSpan:u,outerArcSpan:p}}(t,n,a,i,l),g=te(n,d),m=te(n,c),x=te(t,o),f=te(t,s),b=r*(h?1:-1),v=r>0,y=tt(t,n,d,b,h?0:l),w=tt(t,n,c,b,h?l:0),C=+(u>=Math.PI),A=+(p>=Math.PI);return{arcPath:["M ".concat(g[0]," ").concat(g[1]),v&&"L ".concat(y[0]," ").concat(y[1]),"L ".concat(x[0]," ").concat(x[1]),"A ".concat(t," ").concat(t," 0 ").concat(C," ").concat(+!!h," ").concat(f[0]," ").concat(f[1]),v&&"L ".concat(w[0]," ").concat(w[1]),"L ".concat(m[0]," ").concat(m[1]),"A ".concat(n," ").concat(n," 0 ").concat(A," ").concat(+!h," ").concat(g[0]," ").concat(g[1]),"Z"].filter(Boolean).join(" "),centroid:te((t+n)/2,((o+s)/2+(d+c)/2)/2+b*Math.PI/6)}}),ta={1:90,2:-180,3:-150,4:-90,5:-90,6:-60,7:-60,8:-45},ti=e3()(e=>{var t;let n,a,{index:i,numCells:r,variant:l,direction:o,semi:s,themeRoundness:d}=e,c=(s?-90:null!=(t=ta[r])?t:0)*("rtl"===o?-1:1),u=(s?180:360)/r*("rtl"===o?-1:1),p=i*u+c,h=p+u,g=(p+h)/2,m=Math.PI/180*((90-g)%360),{thickness:x,padAngle:f,roundness:b=d,pointiness:v}=e4[l],y=.5*(1-x);if(v){let e=tn({innerRadius:y,outerRadius:.5,startAngle:p*Math.PI/180,endAngle:h*Math.PI/180,padAngle:f*Math.PI/180,pointStrength:v});n=e.arcPath,a=e.centroid}else{let e=e8({innerRadius:y,outerRadius:.5,startAngle:p*Math.PI/180,endAngle:h*Math.PI/180,padAngle:f*Math.PI/180,cornerRadius:b});n=e()||"",a=e.centroid()}let w=a[0],C=a[1],A=.5*Math.cos(m),j=(g+360)%360;return{outsideX:A,outsideY:.5*Math.sin(m),centroidX:w,centroidY:C,arcPath:n,sideX:j>0&&j<=180?"right":"left",sideY:j>90&&j<=270?"bottom":"top",startAngle:p,midpointAngle:g,endAngle:h}}),tr=e=>{let{index:t,numCells:n,variant:a,direction:i,semi:r=!1,themeRoundness:l}=e,{width:o,height:s,ref:d}=(0,e9.Lh)(),c=ti({index:t,numCells:n,variant:a,direction:i,semi:r,themeRoundness:l}),{outsideX:u,outsideY:p,centroidX:h,centroidY:g}=c,m=s*(.5-p)*(r?2:1),x=s*(.5+g)*(r?2:1),f=s*(.5+u)*(r?2:1),b=s*(.5+h)*(r?2:1);return{...c,outsideTop:m,outsideLeft:f,centroidTop:x,centroidLeft:b,circleRef:d,circleWidth:o,circleHeight:s}},tl=e3()(e=>{var t;let n=360/e,a=null!=(t=ta[e])?t:0,i=[],r=[],l=[];for(let t=0;t<e;t++){let e=(a+t*n)%360,o=e+n/2,s=o>0&&o<=180?"right":"left",d=(90-e)%360*Math.PI/180,c=Math.sin(d),u={index:t,angle:e,sideX:s,sideY:o>90&&o<=270?"bottom":"top",x:Math.cos(d),y:c,columnPosition:-1};"left"===s?i.push(u):r.push(u),l.push(u)}return i.sort((e,t)=>t.y-e.y),r.sort((e,t)=>t.y-e.y),i.forEach((e,t)=>{e.columnPosition=t}),r.forEach((e,t)=>{e.columnPosition=t}),{items:l,leftItems:i,rightItems:r}}),to=(e,t)=>{let{items:n,rightItems:a,leftItems:i}=tl(t),{columnPosition:r,sideX:l}=n[e],o=function(e,t){return Math.abs(e*t)/function(e,t){for(;0!==t;){let n=t;t=e%t,e=n}return e}(e,t)}(a.length,i.length),s="right"===l?a.length:i.length,d=1===t?3:o/s;return{rowStart:r*d+1,rowSpan:d,numRows:o,verticalAlign:"center"}},ts=(0,o.memo)(e=>{let{children:t,containerSize:n,variant:i,onContextMenu:r,selectLayoutForElementProps:l}=e,o=e1({containerSize:n,columnsNeeded:3}),{circleScale:s}=e4[i.key];return(0,a.jsx)(eb.x,{pos:"relative","data-selection-ring":"padded",templateColumns:"1fr calc(".concat(100*(o?.8:.35*s),"% * var(--media-scale, 1)) 1fr"),autoRows:"auto",rowGap:o?e0:"1.5em",dir:"ltr",onContextMenu:r,...l,children:t})});ts.displayName="CircleWrapper";let td=(0,o.memo)(e=>e1({containerSize:e.layoutContainerSize,columnsNeeded:3})?(0,a.jsx)(tu,{...e}):(0,a.jsx)(tc,{...e}));td.displayName="CircleCell";let tc=(0,o.memo)(e=>{let{children:t,index:n,numCells:r,dragHandle:l,variant:o,direction:d,theme:u,selectCellForElementProps:p}=e,{roundness:h}=(0,y.M)(u),{pathRounding:g}=b.T5[h],{circleRef:m,...x}=tr({index:n,numCells:r,variant:o.key,direction:d,themeRoundness:g}),f="right"===x.sideX,v=f?"left":"right",w=(0,Z.yp)(v),C=(x.midpointAngle+360)%180==90,{rowStart:A,rowSpan:j,numRows:k,verticalAlign:S}=to(n,r),I=C?"2em":"flower"===o.key?"0em":k%2==0?"1.5em":"1em";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.s,{gridColumn:f?3:1,gridRow:"".concat(A," / span ").concat(j),zIndex:"1",sx:{...w,...(0,Z.AS)(v,"ltr"),...f?{pl:I}:{pr:I}},direction:"column",justify:S,className:s.VN,minW:"0",...p,children:(0,a.jsxs)(i.a,{"data-content-reference":!0,"data-smart-layout-emphasis":!0,"data-selection-ring":"padded",pos:"relative",w:"100%",cursor:"text",children:[t,l]})}),(0,a.jsx)(e6,{...e,flexProps:{gridColumn:2,gridRow:"1 / span ".concat(k),alignSelf:"center"},coords:x,ref:m})]})}),tu=(0,o.memo)(e=>{let{index:t,numCells:n,direction:i,variant:r,theme:l}=e,{roundness:o}=(0,y.M)(l),{pathRounding:s}=b.T5[o],{circleRef:d,...c}=tr({index:t,numCells:n,variant:r.key,direction:i,themeRoundness:s});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e6,{...e,flexProps:{gridRow:1,gridColumn:2},coords:c,ref:d}),(0,a.jsx)(e2,{flexProps:{gridColumn:"1 / span 3",gridRow:"auto",dir:i},...e})]})});tu.displayName="CircleCellStacked";let tp=()=>({key:"circle",name:()=>l.Ru._({id:"7xMmki"}),icon:_.O0T,keywords:["circle","ring","radial","donut","circular"],options:[B,eK],cellOptions:[B,U],presetConfigurations:[{name:()=>l.Ru._({id:"7xMmki"}),options:{numbered:!0}}],Wrapper:ts,Cell:td,addDirection:()=>"bottom",defaultAttrs:{image:{source:e$.f.key}},htmlTag:"circle",imageSlot:"optional",imageType:"icon",family:"circles"}),th=()=>({...tp(),key:"cycle",name:()=>l.Ru._({id:"qicHbX"}),icon:_.yNr,htmlTag:"cycle",keywords:["cyclical","flywheel","circle","circular","recycle"],presetConfigurations:[{name:()=>l.Ru._({id:"qicHbX"}),options:{numbered:!0}}]}),tg=()=>({...tp(),key:"flower",name:()=>l.Ru._({id:"abEdHK"}),icon:_.xnU,keywords:["petals","clover","butterfly"],htmlTag:"flower",presetConfigurations:[{name:()=>l.Ru._({id:"abEdHK"}),options:{numbered:!0}}]}),tm=()=>({...tp(),key:"ring",name:()=>l.Ru._({id:"EKlSR5"}),icon:_.GEE,keywords:["ring","circle","circular"],htmlTag:"ring",presetConfigurations:[{name:()=>l.Ru._({id:"EKlSR5"}),options:{numbered:!0}}]}),tx=(0,o.memo)(e=>{let{children:t,containerSize:n,onContextMenu:i,selectLayoutForElementProps:r}=e;return e1({containerSize:n,columnsNeeded:3})?(0,a.jsx)(eb.x,{pos:"relative","data-selection-ring":"padded",templateColumns:"1fr",templateRows:"auto auto",rowGap:e0,onContextMenu:i,...r,dir:"ltr",children:t}):(0,a.jsx)(eb.x,{pos:"relative","data-selection-ring":"padded",onContextMenu:i,...r,autoColumns:"1fr",autoRows:"auto",columnGap:"1.5em",rowGap:"2em",children:t})});tx.displayName="SemiCircleWrapper";let tf=(0,o.memo)(e=>e1({containerSize:e.layoutContainerSize,columnsNeeded:3})?(0,a.jsx)(tv,{...e}):(0,a.jsx)(tb,{...e}));tf.displayName="SemiCircleCell";let tb=(0,o.memo)(e=>{let{children:t,index:n,numCells:i,dragHandle:r,variant:l,direction:o,theme:s,selectCellForElementProps:d}=e,u=(0,Z.yp)("center"),{roundness:p}=(0,y.M)(s),{pathRounding:h}=b.T5[p],{circleRef:g,...m}=tr({index:n,numCells:i,variant:l.key,direction:o,semi:!0,themeRoundness:h}),x=i>4?"70%":"60%";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.s,{direction:"column",align:"center",justify:"flex-end",pos:"relative",zIndex:"1","data-content-reference":!0,"data-smart-layout-emphasis":!0,"data-selection-ring":"padded",sx:{...u,...(0,Z.AS)("center","ltr")},mb:i>2?"-".concat(.6*m.outsideTop,"px"):void 0,...d,cursor:"text",children:[t,r]}),(0,a.jsx)(e6,{...e,flexProps:{gridRow:2,gridColumn:"1 / span ".concat(i),alignSelf:"start",justifySelf:"center",aspectRatio:"2/1",width:"calc(".concat(x," * var(--media-scale, 1))")},coords:m,ref:g})]})});tb.displayName="SemiCircleCellTop";let tv=(0,o.memo)(e=>{let{index:t,numCells:n,direction:i,variant:r,theme:l}=e,{roundness:o}=(0,y.M)(l),{pathRounding:s}=b.T5[o],{circleRef:d,...c}=tr({index:t,numCells:n,variant:r.key,direction:i,semi:!0,themeRoundness:s});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e6,{...e,flexProps:{gridRow:1,gridColumn:1,alignSelf:"start",justifySelf:"center",aspectRatio:"2/1",width:"calc(100% * var(--media-scale, 1))"},coords:c,ref:d}),(0,a.jsx)(e2,{flexProps:{gridColumn:1,gridRow:"auto",dir:i},...e})]})});tv.displayName="SemiCircleCellStacked";let ty=()=>({...tp(),key:"semiCircle",name:()=>l.Ru._({id:"r9sPHK"}),Wrapper:tx,Cell:tf,addDirection:()=>"right",htmlTag:"semicircle",keywords:["semicircle","arc","circle","radial"],icon:_.jiG,presetConfigurations:[{name:()=>l.Ru._({id:"r9sPHK"}),options:{numbered:!0}}]});var tw=n(14122),tC=n(50861);let tA=(0,o.memo)(e=>{let{children:t,...n}=e,{layoutOptions:r,cellOptions:l,index:o,firstChildSize:c,theme:u}=n,p=(0,d.FX)(),{colorVars:h}=A(r,l,o,!0),{color:g,colorVars:m}=A(r,l,o,!0),x=E(u,p,null,c),f={...n.image&&(0,tC.Xs)(n.image)?(0,tw.t)(null!=g?g:"var(--accent-color-readable)"):{}};return(0,a.jsxs)(X,{cellProps:n,unevenBehavior:"flex",display:"flex",flexDirection:"row",alignItems:"start",gap:Q.xb,pt:"calc(".concat(x," * -1)"),children:[(0,a.jsx)(i.a,{width:"2.25em",height:"2.25em",transform:"translateY(-50%)",flexShrink:0,sx:{...m,...f},contentEditable:!1,display:"flex",alignItems:"center",justifyContent:"center",children:(0,a.jsx)(k.R,{image:n.image,iconSize:1.5,placeholderIfEmpty:!1,selectCell:n.selectCell,isNumbered:!1})}),(0,a.jsx)(i.a,{flex:"1",minW:"0",className:s.VN,css:h,mt:x,cursor:"text",children:t})]})});tA.displayName="IconBulletsCell";let tj=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,unevenBehavior:"flex",columnGap:"1.25em",rowGap:"2em"}));tj.displayName="IconBulletsWrapper";let tk=()=>K({key:"iconBullets",name:()=>l.Ru._({id:"Xl0g8o"}),icon:_.cCs,keywords:["icon","bullets","layout","list","icon bullets"],htmlTag:"iconBullets",family:"bullets",additionalOptions:[ej],presetConfigurations:[{name:()=>l.Ru._({id:"Xl0g8o"}),options:{},zoomIn:!0}],defaultAttrs:{image:{source:"image.icon",src:"https://cdn-staging.gamma.app/_app_static/icons/v0/star.svg"}},imageSlot:"optional",imageType:"icon",Wrapper:tj,Cell:tA,isFullWidth:()=>!0,addDirection:()=>"right",featureFlag:"smartLayoutSkins"}),tS=()=>K({key:"arrowBullets",name:()=>l.Ru._({id:"KFruYJ"}),icon:_.dmS,keywords:["arrow","bullets","layout","list","arrow bullets"],htmlTag:"arrowBullets",family:"bullets",additionalOptions:[ej],presetConfigurations:[{name:()=>l.Ru._({id:"KFruYJ"}),options:{},zoomIn:!0}],defaultAttrs:{image:{source:"image.icon",src:"https://cdn-staging.gamma.app/_app_static/icons/v0/arrow-right.svg"}},imageSlot:"optional",imageType:"icon",Wrapper:tj,Cell:tA,isFullWidth:()=>!0,addDirection:()=>"right",featureFlag:"smartLayoutsJuly2025"}),tI=(0,o.memo)(e=>{let{children:t,...n}=e,{layoutOptions:r,cellOptions:l,index:o,firstChildSize:c,theme:u}=n,p=(0,d.FX)(),{colorVars:h}=A(r,l,o,!0),g=E(u,p,"h3",c);return(0,a.jsxs)(X,{cellProps:n,unevenBehavior:"flex",display:"flex",flexDirection:"row",alignItems:"start",gap:Q.xb,children:[(0,a.jsx)(S,{...n,markerFontSize:"h3"}),(0,a.jsx)(i.a,{flex:"1",minW:"0",className:s.VN,css:h,mt:g,cursor:"text",children:t})]})});tI.displayName="BulletsCell";let tE=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,unevenBehavior:"flex",columnGap:"1.25em",rowGap:"2em"}));tE.displayName="BulletsWrapper";let tR=()=>K({key:"bigBullets",name:()=>l.Ru._({id:"OsVXoX"}),icon:_.ITF,keywords:["bullets","layout","list","bullet"],htmlTag:"bullets",family:"bullets",additionalOptions:[ej,eK],presetConfigurations:[{name:()=>l.Ru._({id:"UIxZV9"}),options:{numbered:!0},zoomIn:!0},{name:()=>l.Ru._({id:"EJnrtJ"}),options:{numbered:!1},zoomIn:!0}],imageSlot:"optional",imageType:"icon",Wrapper:tE,Cell:tI,isFullWidth:()=>!0,addDirection:()=>"right"}),tL=(e,t,n,a,i)=>({top:n,left:a,orientation:i}),tD=(e,t)=>!(e.rect.bottom<=t.rect.top||t.rect.bottom<=e.rect.top)&&(e.rect.right<=t.rect.left+5&&e.rect.right>=t.rect.left-50||t.rect.right<=e.rect.left+5&&t.rect.right>=e.rect.left-50),tM=(e,t)=>!(e.rect.right<=t.rect.left||t.rect.right<=e.rect.left)&&(e.rect.bottom<=t.rect.top+5&&e.rect.bottom>=t.rect.top-50||t.rect.bottom<=e.rect.top+5&&t.rect.bottom>=e.rect.top-50),t_=(0,o.memo)(e=>{let{top:t,left:n,orientation:r}=e,l="horizontal"===r?{width:"".concat(1,"em"),height:"".concat(2,"em"),"-webkit-mask":"radial-gradient(circle ".concat(.5,"em at 50% 0%,transparent 99%,#000),\n            radial-gradient(circle ").concat(.5,"em at 50% 100%,transparent 99%,#000)"),"-webkit-mask-composite":"destination-in",maskComposite:"destination-in"}:{width:"".concat(2,"em"),height:"".concat(1,"em"),"-webkit-mask":"radial-gradient(circle ".concat(.5,"em at 0 50%,transparent 99%,#000),\n            radial-gradient(circle ").concat(.5,"em at 100% 50%,transparent 99%,#000)"),"-webkit-mask-composite":"destination-in",maskComposite:"destination-in"};return(0,a.jsx)(i.a,{contentEditable:!1,position:"absolute",top:"".concat(t,"px"),insetStart:"".concat(n,"px"),backgroundColor:"var(--shape-border-color)",pointerEvents:"none",zIndex:1,transform:"translate(-50%, -50%)",sx:l})});t_.displayName="CellConnector";let tT=(0,o.memo)(e=>{let[t,n]=(0,o.useState)([]),{ref:r,width:l,height:s}=(0,e9.Lh)(),d=(0,o.useCallback)(()=>{if(!r.current)return;let e=r.current,t=e.querySelectorAll("[data-cell-index]"),a=[];t.forEach((t,n)=>{let i=t.getBoundingClientRect(),r=e.getBoundingClientRect(),l={left:i.left-r.left,top:i.top-r.top,right:i.right-r.left,bottom:i.bottom-r.top,width:i.width,height:i.height};a.push({rect:l,index:n,el:t})});let i=[];for(let e=0;e<a.length;e++)for(let t=e+1;t<a.length;t++){let n=a[e],r=a[t];if(tD(n,r)){let e=Math.max(n.rect.top,r.rect.top),t=Math.min(n.rect.bottom,r.rect.bottom)-e;if(t>0){let a=n.rect.left<r.rect.left?n:r,l=n.rect.left<r.rect.left?r:n,o=(a.rect.right+l.rect.left)/2,s=e+t/2;i.push(tL(n,r,s,o,"horizontal"))}}if(tM(n,r)){let e=Math.max(n.rect.left,r.rect.left),t=Math.min(n.rect.right,r.rect.right)-e;if(t>0){let a=n.rect.top<r.rect.top?n:r,l=n.rect.top<r.rect.top?r:n,o=(a.rect.bottom+l.rect.top)/2,s=e+t/2;i.push(tL(n,r,o,s,"vertical"))}}}n(i)},[]);return(0,o.useEffect)(()=>{l&&s&&d()},[l,s,d,e.numCells]),(0,a.jsxs)(i.a,{position:"relative",ref:r,children:[(0,a.jsx)(ea,{...e,columnGap:"1em",rowGap:"1em",unevenBehavior:"flex"}),t.map((e,t)=>(0,a.jsx)(t_,{...e},"".concat(e.orientation,"-").concat(e.top,"-").concat(e.left,"-").concat(t)))]})});tT.displayName="ConnectedBoxesWrapper";let tN=(0,o.memo)(e=>(0,a.jsx)(X,{cellProps:e,unevenBehavior:"flex",className:s.SA,p:Q.xb,"data-cell-index":e.index,children:e.children}));tN.displayName="ConnectedBoxesCell";let tz=()=>K({key:"connectedBoxes",name:()=>l.Ru._({id:"u6HATE"}),icon:r.Nfw,keywords:["connected","boxes","layout","filled","connectors","flow"],htmlTag:"connected-boxes",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"u6HATE"}),options:{horizontalAlign:"center"}}],additionalOptions:[eO],Wrapper:tT,Cell:tN,isFullWidth:()=>!0,featureFlag:"smartLayoutSkins"}),tP=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1em",rowGap:"1em",unevenBehavior:"flex"}));tP.displayName="OutlineBoxesWrapper";let tO=(0,o.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i}=e,{colorVars:r}=A(t,n,i,!0),l={...r};return(0,a.jsx)(X,{cellProps:e,unevenBehavior:"flex",className:s.uk,p:Q.xb,sx:l,children:e.children})});tO.displayName="OutlineBoxesCell";let tF=()=>K({key:"outlineBoxes",name:()=>l.Ru._({id:"f43cMT"}),icon:_.Nfw,keywords:["outline","boxes","layout","border"],htmlTag:"outline-boxes",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"f43cMT"}),options:{horizontalAlign:"center"}}],additionalOptions:[eO],Wrapper:tP,Cell:tO,isFullWidth:()=>!0}),tH=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1em",rowGap:"1em",unevenBehavior:"flex"}));tH.displayName="OutlineBoxesWithSideLineWrapper";let tB=(0,o.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i}=e,{colorVars:r}=A(t,n,i,!1);return(0,a.jsxs)(X,{cellProps:e,unevenBehavior:"flex",className:s.uk,p:Q.xb,pos:"relative",style:{borderInlineStartWidth:"0px",borderStartStartRadius:"calc(var(--line-thickness) * 4)",borderEndStartRadius:"calc(var(--line-thickness) * 4)",paddingInlineStart:"calc(var(--line-thickness) * 4 + ".concat(Q.xb,")")},children:[(0,a.jsx)(c.s,{position:"absolute",top:"calc(var(--line-thickness) * -1)",bottom:"calc(var(--line-thickness) * -1)",insetInlineStart:"calc(var(--line-thickness) * -1)",width:"calc(var(--line-thickness) * 4)",className:s.P7,borderInlineStartRadius:"var(--box-border-radius)",sx:r,contentEditable:!1}),e.children]})});tB.displayName="OutlineBoxesWithSideLineCell";let tV=()=>K({key:"outlineBoxesWithSideLine",name:()=>l.Ru._({id:"6NYS8b"}),icon:r.POs,keywords:["outline","boxes","layout","sidebar","line","border"],htmlTag:"outline-boxes-with-line",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"6NYS8b"}),options:{horizontalAlign:"center"}}],additionalOptions:[eO],Wrapper:tH,Cell:tB,isFullWidth:()=>!0}),tW=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1em",rowGap:"1em",unevenBehavior:"flex"}));tW.displayName="OutlineBoxesWithTopCircleWrapper";let tU=(0,o.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i,image:r,selectCell:l,selectCellForElementProps:o}=e,{colorVars:d}=A(t,n,i);return(0,a.jsx)(c.s,{position:"absolute",top:"-".concat(1.5,"em"),left:"50%",transform:"translateX(-50%)",width:"".concat(3,"em"),height:"".concat(3,"em"),align:"center",justify:"center",contentEditable:!1,sx:{...d},className:(0,p.cx)(s.P7,s.ok),style:{borderRadius:"100%"},...o,children:(0,a.jsx)(c.s,{alignItems:"center",justifyContent:"center",className:(0,p.cx)(h.U6),children:(0,a.jsx)(k.R,{image:r,number:t.numbered?i+1:void 0,isNumbered:t.numbered,iconSize:1.2000000000000002,selectCell:l})})})});tU.displayName="TopCircle";let tG=(0,o.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i}=e,{colorVars:r}=A(t,n,i,!1);return(0,a.jsxs)(X,{cellProps:e,unevenBehavior:"flex",className:s.uk,p:Q.xb,pos:"relative",mt:"".concat(1.5,"em"),pt:"calc(".concat(Q.xb," + ").concat(1.5,"em)"),style:{borderTopWidth:"0px",borderTopLeftRadius:"calc(var(--line-thickness) * 4)",borderTopRightRadius:"calc(var(--line-thickness) * 4)"},children:[(0,a.jsx)(c.s,{position:"absolute",top:"calc(var(--line-thickness) * -1)",left:"calc(var(--line-thickness) * -1)",right:"calc(var(--line-thickness) * -1)",height:"calc(var(--line-thickness) * 4)",className:s.P7,borderTopRadius:"var(--box-border-radius)",sx:r,contentEditable:!1}),(0,a.jsx)(tU,{...e}),e.children]})});tG.displayName="OutlineBoxesWithTopCircleCell";let tK=()=>K({key:"outlineBoxesWithTopCircle",name:()=>l.Ru._({id:"bFvflC"}),icon:_.QRE,keywords:["outline","boxes","layout","circle","top","stripe","badge"],htmlTag:"outline-boxes-with-top-circle",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"duDvK9"}),options:{horizontalAlign:"center",numbered:!0}},{name:()=>l.Ru._({id:"wLSSrc"}),options:{horizontalAlign:"center",numbered:!1}}],additionalOptions:[eO,eK],imageSlot:"optional",imageType:"icon",Wrapper:tW,Cell:tG,isFullWidth:()=>!0,dragHandlePlacement:"left"}),tQ=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1em",rowGap:"1em",unevenBehavior:"flex"}));tQ.displayName="ProcessStepsWrapper";let tZ=(0,o.memo)(e=>{let t,{layoutOptions:n,index:i,image:r,selectCell:l,selectCellForElementProps:o}=e;return t=n.numbered?i+1<10?"0".concat(i+1):"".concat(i+1):void 0,(0,a.jsx)(c.s,{className:s.VN,flexDirection:"column",alignItems:"right"!==n.horizontalAlign?n.horizontalAlign:"end",opacity:1,contentEditable:!1,...o,children:(0,a.jsx)(c.s,{alignItems:"center",justifyContent:"center",className:(0,p.cx)(h.U6),mb:"".concat(.25,"em"),children:(0,a.jsx)(k.R,{image:r,number:t,isNumbered:n.numbered,iconSize:1,selectCell:l,textAlign:n.numbered?"left":void 0,fontWeight:"light"})})})});tZ.displayName="TopBorderIconOrNumber";let tq=(0,o.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i,image:r,selectCell:l,selectCellForElementProps:o}=e,{colorVars:d}=A(t,n,i,!1);return(0,a.jsxs)(X,{cellProps:e,unevenBehavior:"flex",p:0,pos:"relative",textAlign:"start",mb:"".concat(.75,"em"),style:{borderRadius:0,borderWidth:0},children:[(0,a.jsx)(tZ,{layoutOptions:t,cellOptions:n,index:i,image:r,selectCell:l,selectCellForElementProps:o}),(0,a.jsx)(c.s,{position:"relative",top:"calc(var(--line-thickness) * -1)",marginTop:"0.2em",marginBottom:"0.5em",opacity:1,height:"calc(var(--line-thickness) * 1)",className:s.P7,borderRadius:0,sx:d,contentEditable:!1}),e.children]})});tq.displayName="ProcessStepsCell";let tJ=()=>K({key:"processSteps",name:()=>l.Ru._({id:"uFRM59"}),icon:_.Tsj,keywords:["boxes","layout","border","top","outline","badge","header","process","agenda","step"],htmlTag:"process-steps",family:"bullets",presetConfigurations:[{name:()=>l.Ru._({id:"uFRM59"}),options:{horizontalAlign:"center",numbered:!0}},{name:()=>l.Ru._({id:"cO9Sj8"}),options:{horizontalAlign:"center",numbered:!1}}],additionalOptions:[eO,eK],imageSlot:"optional",imageType:"icon",Wrapper:tQ,Cell:tq,isFullWidth:()=>!0,dragHandlePlacement:"top",featureFlag:"smartLayoutsJuly2025"}),t$=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1.5em",rowGap:"1.5em",unevenBehavior:"flex"}));t$.displayName="QuoteBoxesWrapper";let tY=(0,o.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i}=e,{colorVars:r}=A(t,n,i,!0),{colorVars:l}=A(t,n,i,!1),o={...r};return(0,a.jsxs)(X,{cellProps:e,unevenBehavior:"flex",className:s.uk,p:"calc(".concat(Q.xb," + 0.5em)"),sx:o,children:[(0,a.jsx)(tX,{position:"absolute",top:"-".concat(.6,"em"),insetStart:"-".concat(.6,"em"),width:"".concat(1.2,"em"),height:"".concat(1.2,"em"),css:l}),(0,a.jsx)(tX,{position:"absolute",bottom:"-".concat(.6,"em"),insetEnd:"-".concat(.6,"em"),width:"".concat(1.2,"em"),height:"".concat(1.2,"em"),transform:"rotate(180deg)",css:l}),e.children]})});tY.displayName="QuoteBoxesCell";let tX=e=>(0,a.jsx)(i.a,{contentEditable:!1,userSelect:"none",pointerEvents:"none",...e,children:(0,a.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",className:s._B,style:{filter:"drop-shadow(0.25em 0 0em var(--card-color)) drop-shadow(0 0.25em 0em var(--card-color))"},children:(0,a.jsx)("path",{d:"M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-10zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h4v10h-10z"})})}),t0=()=>K({key:"quoteBoxes",name:()=>l.Ru._({id:"dXQ/Ao"}),icon:_.$7g,keywords:["quote","quotes","boxes","layout","testimonial","quotation"],htmlTag:"quote-boxes",family:"quotes",presetConfigurations:[{name:()=>l.Ru._({id:"dXQ/Ao"}),options:{horizontalAlign:"center"}}],additionalOptions:[eO],Wrapper:t$,Cell:tY,isFullWidth:()=>!0,featureFlag:"smartLayoutsJuly2025"});var t1=n(88889),t2=n(17485);let t4=[{label:()=>l.Ru._({id:"yrC1Cd"}),key:"xs"},{label:()=>l.Ru._({id:"4Revpc"}),key:"sm"},{label:()=>l.Ru._({id:"agPptk"}),key:"md"},{label:()=>l.Ru._({id:"k7rCa/"}),key:"lg"},{label:()=>l.Ru._({id:"vp6Yr4"}),key:"xl"},{label:()=>l.Ru._({id:"CK1KXz"}),key:"full"}],t6={key:"shapeSize",defaultValue:()=>null,Control:e=>{let{value:t,updateValue:n,option:i}=e,r=t4.findIndex(e=>e.key===t);-1===r&&(r=3);let{label:l}=t4[r],s=(0,o.useCallback)(e=>{let{key:t}=t4[e];n(t)},[n]);return(0,a.jsxs)(R.z,{spacing:2,me:2,children:[(0,a.jsx)(N.Tz,{placement:"top",label:(0,a.jsxs)(L.T,{spacing:0,children:[(0,a.jsx)(D.E,{color:"gray.400",children:i.name()}),(0,a.jsx)(D.E,{children:l()})]}),children:(0,a.jsx)(D.E,{fontSize:"sm",fontWeight:"600",children:(0,a.jsx)(T.g,{icon:i.icon,fixedWidth:!0})})}),(0,a.jsxs)(M.Ap,{min:0,max:t4.length-1,step:1,value:r,onChange:s,w:"60px",focusThumbOnChange:!1,colorScheme:"trueblue",size:"sm",children:[(0,a.jsx)(M.hB,{children:(0,a.jsx)(M.hJ,{})}),(0,a.jsx)(N.Tz,{placement:"top",label:(0,a.jsxs)(L.T,{spacing:0,children:[(0,a.jsx)(D.E,{color:"gray.400",children:i.name()}),(0,a.jsx)(D.E,{children:l()})]}),children:(0,a.jsx)(M.OQ,{background:"trueblue.500"})})]})]})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:_.j3q,items:t4.map(n=>({key:n.key,label:n.label(),icon:n.key===e?_.e68:void 0,onClick:()=>t(n.key)}))}),name:()=>l.Ru._({id:"FeDgKA"}),icon:_.j3q,validator:e=>null===e||t4.some(t=>t.key===e)},t5={key:"imagePosition",defaultValue:()=>"top",Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,a.jsx)(W.I,{label:i.name(),onClick:()=>n("top"===t?"left":"top"),isActive:"left"===t,icon:"top"===t?_.qXP:_.Usg,testId:"smart-layout-orientation-option"})},ControlMenu:(e,t,n)=>({key:n.key,label:n.name(),icon:"top"===e?_.qXP:_.Usg,items:[{key:"top",label:l.Ru._({id:"WWy8TN"}),icon:"top"===e?_.e68:void 0,onClick:()=>t("top")},{key:"left",label:l.Ru._({id:"lg7+vk"}),icon:"left"===e?_.e68:void 0,onClick:()=>t("left")}]}),name:()=>l.Ru._({id:"BWUDJY"})};var t3=n(89703);let t9=e=>{let{selectCell:t,isFocused:n}=e,a=(0,t3.f)();return{handleClick:(0,o.useCallback)(()=>{n?a({isOpen:!0}):null==t||t()},[t,a,n]),handleDoubleClick:(0,o.useCallback)(()=>{null==t||t(),a({isOpen:!0})},[t,a])}},t7={xs:.3,sm:.44,md:.58,lg:.72,xl:.86,full:1},t8=(0,o.memo)(e=>(0,a.jsx)(ea,{...e}));t8.displayName="ImagesWithTextWrapper";let ne=(0,o.memo)(e=>{var t,n;let{image:r,layoutOptions:l,numCells:o,layoutContainerSize:s,isFocused:d,selectCell:c,...u}=e,p=null!=(n=l.imageShape)?n:"square",h=t2.zF[p],g=null==r||null==(t=r.meta)?void 0:t.has_transparency,m=!l.shapeSize&&l.imageSize?l.imageSize:t7[l.shapeSize||"full"],x="left"===l.imagePosition,{columns:f}=(0,Y.i)(l,s,o,!1),b=1===f?"min(100%, ".concat(z.mw*m,"em)"):"100%",v=g?{...h}:{...tw.z,...h},{handleClick:y,handleDoubleClick:w}=t9({selectCell:c,isFocused:d}),C=(0,a.jsx)(i.a,{"data-smart-layout-image-drop-target":"true",className:"image",w:"100%",h:"100%",overflow:"hidden",sx:v,children:(0,a.jsx)(t1.Y,{image:r,imageShape:p,handleEditableClick:y,handleEditableDoubleClick:w,hasQuickActions:!0,...u})});return(0,a.jsx)(ei,{visual:C,visualPosition:l.imagePosition,visualSize:"calc(".concat(100*(x?.5*m:m),"% * var(--media-scale))"),visualMaxSize:b,gap:l.shapeSize<=t7.xs?"1em":"1.25em",cellProps:e,children:e.children})});ne.displayName="ImagesWithTextCell";let nt=()=>K({key:"imagesText",name:()=>l.Ru._({id:"cDxTeG"}),keywords:["team","caption","images","text","layout"],icon:_.oMV,htmlTag:"images",family:"images",additionalOptions:[t5,{...P,getDefaultOnParse:()=>z.vG},{...t6,icon:_.Cyq,name:()=>l.Ru._({id:"8J92vb"})},t2.Kl,{...eO,defaultValue:(0,Z.Ro)("left"),checkEnabled(e){let{options:t,deco:n}=e,a=t.imagePosition;return(null==n?void 0:n.direction)==="rtl"?"right"!==a:"left"!==a}}],presetConfigurations:[{name:()=>l.Ru._({id:"10G7S6"}),options:{imageShape:"square",shapeSize:"lg",horizontalAlign:"center"}},{name:()=>l.Ru._({id:"VVRqpK"}),options:{imageShape:"circle",shapeSize:"lg",horizontalAlign:"center"}}],addDirection:e=>"left"===e.imagePosition?"bottom":"right",defaultOptions:{imageShape:"landscape"},imageSlot:"always",imageType:"image",Wrapper:t8,Cell:ne}),nn=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1em",rowGap:"1em",unevenBehavior:"flex"}));nn.displayName="QuoteBoxesWithFacesWrapper";let na=(0,o.memo)(e=>{var t,n;let{layoutOptions:i,cellOptions:r,index:l,selectCell:o,isFocused:d,image:u}=e,{colorVars:h}=A(i,r,l,!1),{handleClick:g,handleDoubleClick:m}=t9({selectCell:o,isFocused:d}),x=null!=(n=i.imageShape)?n:"circle",f=t2.zF[x],b=null==u||null==(t=u.meta)?void 0:t.has_transparency,v=5*(!i.shapeSize&&i.imageSize?i.imageSize:t7[i.shapeSize||"md"]),y=v/t2.z_[x],w=b?{...f}:{...tw.z,...f};return(0,a.jsx)(c.s,{position:"absolute",top:"-".concat(y,"em"),left:"50%",transform:"translateX(-50%)",width:"".concat(2*v,"em"),align:"center",justify:"center",contentEditable:!1,sx:{...h,"> div":{width:"100%"}},style:w,className:(0,p.cx)(s.uk),overflow:"hidden",children:(0,a.jsx)(t1.Y,{...e,imageShape:x,hasQuickActions:!0,handleEditableClick:g,handleEditableDoubleClick:m})})});na.displayName="FaceCircle";let ni=(0,o.memo)(e=>{let{layoutOptions:t}=e,n=5*(!t.shapeSize&&t.imageSize?t.imageSize:t7[t.shapeSize||"md"])/t2.z_[t.imageShape];return(0,a.jsxs)(X,{cellProps:e,unevenBehavior:"flex",className:s.uk,p:Q.xb,pos:"relative",mt:"".concat(n,"em"),pt:"calc(".concat(Q.xb," + ").concat(n,"em)"),children:[(0,a.jsx)(na,{...e}),e.children]})});ni.displayName="QuoteBoxesWithFacesCell";let nr=()=>K({key:"quoteBoxesWithFaces",name:()=>l.Ru._({id:"lDxgZ6"}),icon:_.ppD,keywords:["quote","quotes","testimonial","faces","circle"],htmlTag:"quote-boxes-with-faces",family:"quotes",presetConfigurations:[{name:()=>l.Ru._({id:"duDvK9"}),options:{horizontalAlign:"center",numbered:!0,imageShape:"circle",shapeSize:"md"}},{name:()=>l.Ru._({id:"wLSSrc"}),options:{horizontalAlign:"center",numbered:!1,imageShape:"square",shapeSize:"sm"}}],additionalOptions:[eO,{...t6,icon:_.Cyq,name:()=>l.Ru._({id:"8J92vb"})},t2.Kl],defaultOptions:{imageShape:"circle"},imageSlot:"optional",imageType:"image",Wrapper:nn,Cell:ni,isFullWidth:()=>!0,dragHandlePlacement:"left",featureFlag:"smartLayoutSkins",disabled:!0}),nl=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1em",rowGap:"1em",unevenBehavior:"flex"}));nl.displayName="SpeechBubblesWrapper";let no=(0,o.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:r,selectCellForElementProps:l,children:o}=e,{colorVars:d}=A(t,n,r),{width:u,height:p,fontSize:h,ref:g}=(0,e9.Lf)(),m=ns(u,p,h);return(0,a.jsx)(X,{cellProps:e,unevenBehavior:"flex",children:(0,a.jsxs)(c.s,{position:"relative",css:d,width:"100%",h:"100%",minHeight:"4em",ref:g,className:s.lR,children:[(0,a.jsx)(i.a,{as:"svg",pos:"absolute",inset:"0",w:"100%",h:"100%",overflow:"visible","data-testid":"speech-bubble-svg",...l,children:(0,a.jsx)(i.a,{as:"path",d:m,className:s.D6})}),(0,a.jsx)(i.a,{pos:"relative",p:"".concat(1,"em"),pb:"".concat(2.2,"em"),w:"100%",zIndex:1,sx:(0,Z.yp)(t.horizontalAlign||"left"),children:o})]})})});no.displayName="SpeechBubblesCell";let ns=(e,t,n)=>{let a=1.2*n,i=.5*n,r=e-0,l=t-a-0,o=2*e/3,s=0+l;return"\n    M ".concat(0+i," ").concat(0,"\n    L ").concat(0+r-i," ").concat(0,"\n    Q ").concat(0+r," ").concat(0," ").concat(0+r," ").concat(0+i,"\n    L ").concat(0+r," ").concat(0+l-i,"\n    Q ").concat(0+r," ").concat(0+l," ").concat(0+r-i," ").concat(0+l,"\n    L ").concat(o+a/2," ").concat(s,"\n    L ").concat(o+a/2," ").concat(s+a,"\n    L ").concat(o-a/2," ").concat(s,"\n    L ").concat(0+i," ").concat(0+l,"\n    Q ").concat(0," ").concat(0+l," ").concat(0," ").concat(0+l-i,"\n    L ").concat(0," ").concat(0+i,"\n    Q ").concat(0," ").concat(0," ").concat(0+i," ").concat(0,"\n    Z")},nd=()=>K({key:"speechBubbles",name:()=>l.Ru._({id:"H+n8Qp"}),icon:_.DN2,keywords:["speech","bubbles","quotes","conversation","dialogue"],htmlTag:"speechBubbles",family:"quotes",additionalOptions:[eK,{...eO,defaultValue:(0,Z.Ro)("left")}],presetConfigurations:[{name:()=>l.Ru._({id:"btb61s"}),options:{horizontalAlign:"left"}},{name:()=>l.Ru._({id:"9WPD2t"}),options:{horizontalAlign:"center"}},{name:()=>l.Ru._({id:"HbrV/u"}),options:{horizontalAlign:"right"}}],imageSlot:"optional",Wrapper:nl,Cell:no,featureFlag:"smartLayoutsJuly2025"}),nc={1:["face-smile"],2:["face-frown","face-smile"],3:["face-frown","face-meh","face-smile"],4:["face-sad-tear","face-frown","face-smile","face-laugh"],5:["face-sad-tear","face-frown","face-meh","face-smile","face-laugh-beam"]},nu=e=>{let{numCells:t,index:n}=e,i=nc[Math.min(5,Math.max(1,t))],r=i[n%i.length],l=e.image&&e.image.src?e.image:{source:"image.icon",src:"".concat("https://cdn-staging.gamma.app/_app_static/icons/v0/").concat(r,".svg")};return(0,a.jsx)(tA,{...e,image:l})},np=()=>K({key:"satisfaction",name:()=>l.Ru._({id:"/IniW+"}),icon:_.H82,keywords:["satisfaction","emoji","scale","rating"],htmlTag:"satisfaction",family:"bullets",additionalOptions:[ej],presetConfigurations:[{name:()=>l.Ru._({id:"/IniW+"}),options:{},zoomIn:!0}],imageSlot:"optional",imageType:"icon",Wrapper:tj,Cell:nu,isFullWidth:()=>!0,addDirection:()=>"right",featureFlag:"smartLayoutSkins",maxCells:5,disabled:!0}),nh=(0,o.memo)(e=>{let{children:t,...n}=e,{layoutOptions:r,cellOptions:l,index:o,firstChildSize:c,theme:u}=n,p=(0,d.FX)(),{colorVars:h}=A(r,l,o,!0),{colorVars:g}=A(r,l,o,!1),m=E(u,p,null,c);return(0,a.jsxs)(X,{cellProps:n,unevenBehavior:"flex",display:"flex",flexDirection:"row",alignItems:"start",gap:Q.xb,pt:"calc(".concat(m," * -1)"),children:[(0,a.jsx)(i.a,{width:"0.5em",height:"0.5em",borderRadius:"50%",transform:"translateY(-50%)",className:s.P7,flexShrink:0,sx:g,contentEditable:!1}),(0,a.jsx)(i.a,{flex:"1",minW:"0",className:s.VN,css:h,mt:m,cursor:"text",children:t})]})});nh.displayName="SmallBulletsCell";let ng=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,unevenBehavior:"flex",columnGap:"1.25em",rowGap:"2em"}));ng.displayName="SmallBulletsWrapper";let nm=()=>K({key:"smallBullets",name:()=>l.Ru._({id:"XY2IHD"}),icon:_.pch,keywords:["small","bullets","layout","list","bullet"],htmlTag:"smallBullets",family:"bullets",additionalOptions:[ej],presetConfigurations:[{name:()=>l.Ru._({id:"XY2IHD"}),options:{},zoomIn:!0}],Wrapper:ng,Cell:nh,isFullWidth:()=>!0,addDirection:()=>"right"}),nx=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1em",rowGap:"1em",unevenBehavior:"flex"}));nx.displayName="SolidBoxesWrapper";let nf=(0,o.memo)(e=>{let{colorVars:t}=A(e.layoutOptions,e.cellOptions,e.index);return(0,a.jsx)(X,{cellProps:e,unevenBehavior:"flex",className:s.SA,p:Q.xb,sx:t,children:e.children})});nf.displayName="SolidBoxesCell";let nb=()=>K({key:"solidBoxes",name:()=>l.Ru._({id:"fN02hl"}),icon:r.Nfw,keywords:["solid","boxes","layout","filled","text boxes"],htmlTag:"solid-boxes",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"fN02hl"}),options:{horizontalAlign:"center"}}],additionalOptions:[eO],Wrapper:nx,Cell:nf,isFullWidth:()=>!0}),nv=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"0.5em",rowGap:"0.5em",unevenBehavior:"flex",sx:{borderRadius:s.s.borderRadius,padding:"calc(".concat(Q.xb," / 2)")},className:s.P7}));nv.displayName="SolidBoxesWithBackgroundWrapper";let ny=(0,o.memo)(e=>{let{colorVars:t}=A(e.layoutOptions,e.cellOptions,e.index);return(0,a.jsx)(X,{cellProps:e,unevenBehavior:"flex",className:s.SA,p:Q.xb,sx:t,children:e.children})});ny.displayName="SolidJoinedBoxesCell";let nw=()=>K({key:"solidBoxesWithBackground",name:()=>l.Ru._({id:"u9/+mk"}),icon:r.Nfw,keywords:["solid","boxes","layout","filled","text boxes"],htmlTag:"solid-boxes-with-background",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"fN02hl"}),options:{horizontalAlign:"center"}}],additionalOptions:[eO],Wrapper:nv,Cell:ny,isFullWidth:()=>!0,featureFlag:"smartLayoutSkins"}),nC=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1em",rowGap:"1em",unevenBehavior:"flex"}));nC.displayName="SolidBoxesWithIconsInsideWrapper";let nA=(0,o.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i,image:r,selectCell:l,selectCellForElementProps:o}=e,{colorVars:d}=A(t,n,i,!1);return(0,a.jsx)(c.s,{width:"".concat(3,"em"),height:"".concat(3,"em"),align:"center",justify:"center",contentEditable:!1,sx:d,className:(0,p.cx)(s.P7,s.ok),style:{borderRadius:"9999px"},...o,children:(0,a.jsx)(c.s,{alignItems:"center",justifyContent:"center",className:(0,p.cx)(h.U6),children:(0,a.jsx)(k.R,{image:r,number:t.numbered?i+1:void 0,isNumbered:t.numbered,iconSize:1.35,selectCell:l})})})});nA.displayName="InsideIcon";let nj=(0,o.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i}=e,{colorVars:r}=A(t,n,i,!0);return(0,a.jsxs)(X,{cellProps:e,unevenBehavior:"flex",className:s.SA,p:Q.xb,sx:r,flexDirection:"column",gap:Q.xb,display:"flex",children:[(0,a.jsx)(nA,{...e}),e.children]})});nj.displayName="SolidBoxesWithIconsInsideCell";let nk=()=>K({key:"solidBoxesWithIconsInside",name:()=>l.Ru._({id:"X7s5I1"}),icon:r.Dnq,keywords:["solid","boxes","layout","icons","inside","filled","text boxes"],htmlTag:"solid-boxes-with-icons-inside",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"WH8tvt"}),options:{horizontalAlign:"center",numbered:!0}},{name:()=>l.Ru._({id:"X7s5I1"}),options:{horizontalAlign:"center",numbered:!1}}],additionalOptions:[eO,eK],imageSlot:"optional",imageType:"icon",Wrapper:nC,Cell:nj,isFullWidth:()=>!0,dragHandlePlacement:"top",featureFlag:"smartLayoutsJuly2025"}),nS=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1em",rowGap:"1em",unevenBehavior:"flex"}));nS.displayName="SolidBoxesWithTopIconsWrapper";let nI=(0,o.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i,image:r,selectCell:l,selectCellForElementProps:o}=e,{colorVars:d}=A(t,n,i,!1);return(0,a.jsx)(c.s,{position:"absolute",top:"-".concat(1.5,"em"),insetStart:"left"===t.horizontalAlign?"".concat(1.5,"em"):"right"===t.horizontalAlign?"calc(100% - ".concat(4.5,"em)"):"50%",transform:"center"!==t.horizontalAlign&&t.horizontalAlign?void 0:"translateX(-50%)",width:"".concat(3,"em"),height:"".concat(3,"em"),align:"center",justify:"center",contentEditable:!1,sx:{...d},className:(0,p.cx)(s.P7,s.ok),borderRadius:"var(--box-border-radius)",...o,children:(0,a.jsx)(c.s,{alignItems:"center",justifyContent:"center",className:(0,p.cx)(h.U6),children:(0,a.jsx)(k.R,{image:r,number:t.numbered?i+1:void 0,isNumbered:t.numbered,iconSize:1.5,selectCell:l})})})});nI.displayName="TopIcon";let nE=(0,o.memo)(e=>{let{layoutOptions:t,cellOptions:n,index:i}=e,{colorVars:r}=A(t,n,i,!0);return(0,a.jsxs)(X,{cellProps:e,unevenBehavior:"flex",className:s.SA,p:Q.xb,pos:"relative",mt:"".concat(1.5,"em"),pt:"calc(".concat(Q.xb," + ").concat(1.5,"em)"),sx:r,children:[(0,a.jsx)(nI,{...e}),e.children]})});nE.displayName="SolidBoxesWithTopIconsCell";let nR=()=>K({key:"solidBoxesWithTopIcons",name:()=>l.Ru._({id:"YcdSxJ"}),icon:r.$tZ,keywords:["solid","boxes","layout","icons","top","filled","text boxes"],htmlTag:"solid-boxes-with-top-icons",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"YcdSxJ"}),options:{}}],additionalOptions:[eO],imageSlot:"always",imageType:"icon",Wrapper:nS,Cell:nE,isFullWidth:()=>!0,dragHandlePlacement:"left",featureFlag:"smartLayoutSkins"}),nL=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"0",rowGap:"0",unevenBehavior:"flex",className:s.SA}));nL.displayName="SolidJoinedBoxesWrapper";let nD=(0,o.memo)(e=>{let{index:t,layoutOptions:n,numCells:r,layoutContainerSize:l,cellOptions:o,children:d}=e,{columns:c}=(0,Y.i)(n,r,l,!1),{colorVars:u}=A(n,o,t,!1,!0),{colorVars:p}=A(n,o,t,!1),h=0===t,g=t%c==0,m=t>=c,x=t===c-1,f=t===Math.floor((r-1)/c)*c,b=t===r-1;return(0,a.jsxs)(X,{cellProps:e,unevenBehavior:"flex",p:Q.xb,css:{...u},borderStartStartRadius:h?"var(--box-border-radius)":"0",borderEndStartRadius:f?"var(--box-border-radius)":"0",borderStartEndRadius:x?"var(--box-border-radius)":"0",borderEndEndRadius:b?"var(--box-border-radius)":"0",backgroundColor:"var(--shape-bg-color-override, var(--shape-bg-color-alpha))",children:[!h&&!g&&(0,a.jsx)(i.a,{position:"absolute",top:"0",contentEditable:!1,zIndex:0,height:"100%",width:"var(--line-thickness)",insetStart:"0",className:s.eI,css:p}),m&&(0,a.jsx)(i.a,{position:"absolute",top:"0",contentEditable:!1,zIndex:0,width:"100%",height:"var(--line-thickness)",insetStart:"0",className:s.eI,css:p}),d]})});nD.displayName="SolidJoinedBoxesCell";let nM=()=>K({key:"solidJoinedBoxes",name:()=>l.Ru._({id:"6zAXOC"}),icon:r.swh,keywords:["solid","boxes","layout","filled","text boxes"],htmlTag:"solid-joined-boxes",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"6zAXOC"}),options:{horizontalAlign:"center"}}],additionalOptions:[eO],Wrapper:nL,Cell:nD,isFullWidth:()=>!0,featureFlag:"smartLayoutsJuly2025"}),n_=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"0",rowGap:"0",unevenBehavior:"flex",className:s.SA}));n_.displayName="SolidJoinedBoxesWrapper";let nT=(e,t)=>e?"".concat(Q.xb," 2.5em ").concat(Q.xb," ").concat(Q.xb):t?"".concat(Q.xb," ").concat(Q.xb," ").concat(Q.xb," 2.5em"):"".concat(Q.xb," 2.5em ").concat(Q.xb," 2.5em"),nN=(e,t)=>0===e?"".concat(Q.xb," ").concat(Q.xb," 2.5em ").concat(Q.xb):e===t-1?"2.5em ".concat(Q.xb," ").concat(Q.xb," ").concat(Q.xb):"2.5em ".concat(Q.xb," 2.5em ").concat(Q.xb),nz=(e,t,n,a)=>{let i="rtl"===a?e===n-1:e===Math.floor((n-1)/t)*t,r="rtl"===a?e===Math.floor((n-1)/t)*t:e===n-1;return{borderStartStartRadius:("rtl"===a?e===t-1:0===e)?"var(--box-border-radius)":"0",borderEndStartRadius:i?"var(--box-border-radius)":"0",borderStartEndRadius:("rtl"===a?0===e:e===t-1)?"var(--box-border-radius)":"0",borderEndEndRadius:r?"var(--box-border-radius)":"0"}},nP=(0,o.memo)(e=>{let{direction:t,index:n,layoutOptions:r,numCells:l,layoutContainerSize:o,cellOptions:d,children:u,image:g,selectCell:m}=e,{columns:x,isHorizontal:f}=(0,Y.i)(r,l,o,!1),{colorVars:b}=A(r,d,n,!1,!0),{colorVars:v}=A(r,d,n,!1),y="rtl"===t?n===x-1:0===n,w="rtl"===t?(n+1)%x==0:n%x==0,C="rtl"===t?n%x==0:(n+1)%x==0||n===l-1,j=n>=x,S=!y&&!w&&f,I=f?nT(w,C):nN(n,l),E=nz(n,x,l,t);return(0,a.jsxs)(X,{cellProps:e,unevenBehavior:"flex",p:I,css:{...b},...E,backgroundColor:"var(--shape-bg-color-override, var(--shape-bg-color-alpha))",children:[S&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.a,{position:"absolute",top:"0",contentEditable:!1,zIndex:0,height:"100%",width:"var(--line-thickness)",left:"0",className:s.eI,css:v}),(0,a.jsx)(c.s,{position:"absolute",top:"50%",left:"calc(-".concat(1.25,"em)"),transform:"translateY(-50%)",width:"".concat(2.5,"em"),height:"".concat(2.5,"em"),align:"center",justify:"center",contentEditable:!1,zIndex:1,sx:v,borderRadius:"50%",className:(0,p.cx)(s.uk,s.SA,s.lR),children:(0,a.jsx)(c.s,{alignItems:"center",justifyContent:"center",className:(0,p.cx)(h.U6),children:(0,a.jsx)(k.R,{image:g,number:r.numbered?n+1:void 0,isNumbered:r.numbered,iconSize:1.25,selectCell:m})})})]}),j&&(0,a.jsx)(i.a,{position:"absolute",top:"0",contentEditable:!1,zIndex:0,width:"100%",height:"var(--line-thickness)",left:"0",className:s.eI,css:v,children:!f&&(0,a.jsx)(c.s,{position:"absolute",top:"50%",left:"calc(50% - ".concat(1.25,"em)"),transform:"translateY(-50%)",width:"".concat(2.5,"em"),height:"".concat(2.5,"em"),align:"center",justify:"center",contentEditable:!1,zIndex:1,sx:v,borderRadius:"50%",className:(0,p.cx)(s.uk,s.SA,s.lR),children:(0,a.jsx)(c.s,{alignItems:"center",justifyContent:"center",className:(0,p.cx)(h.U6),children:(0,a.jsx)(k.R,{image:g,number:r.numbered?n+1:void 0,isNumbered:r.numbered,iconSize:1.25,selectCell:m})})})}),u]})});nP.displayName="SolidJoinedBoxesCell";let nO=()=>K({key:"solidJoinedBoxesWithIcons",name:()=>l.Ru._({id:"riEUxW"}),icon:r.swh,keywords:["solid","boxes","layout","filled","text boxes","icons"],htmlTag:"solid-joined-boxes-with-icons",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"riEUxW"}),options:{horizontalAlign:"center"}}],additionalOptions:[eO],imageSlot:"always",imageType:"icon",Wrapper:n_,Cell:nP,isFullWidth:()=>!0,dragHandlePlacement:"top",featureFlag:"smartLayoutsJuly2025"}),nF=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1em",rowGap:"1em",unevenBehavior:"flex"}));nF.displayName="SolidLeafBoxesWrapper";let nH=(0,o.memo)(e=>{let{colorVars:t}=A(e.layoutOptions,e.cellOptions,e.index);return(0,a.jsx)(X,{cellProps:e,unevenBehavior:"flex",className:s.SA,p:Q.xb,sx:{...t},style:{borderRadius:"2em 0 2em 0"},children:e.children})});nH.displayName="SolidLeafBoxesCell";let nB=()=>K({key:"solidLeafBoxes",name:()=>l.Ru._({id:"gVDJjb"}),icon:_.YHM,keywords:["solid","leaf","boxes","layout","filled","text boxes","rounded"],htmlTag:"solid-leaf-boxes",family:"boxes",presetConfigurations:[{name:()=>l.Ru._({id:"gVDJjb"}),options:{horizontalAlign:"center"}}],additionalOptions:[eO],Wrapper:nF,Cell:nH,isFullWidth:()=>!0,featureFlag:"smartLayoutsJuly2025"}),nV=(0,o.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:r,cellOptions:l,index:o,direction:d,image:u,selectCell:g,selectCellForElementProps:m}=t,{colorVars:x}=A(r,l,o),{width:f,height:b,fontSize:v,ref:y}=(0,e9.Lf)(),w=nK(f,b,v,n,d),C=n?{width:"100%",height:"".concat(4,"em")}:{width:"".concat(5,"em"),height:"100%"};return(0,a.jsxs)(c.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...x,...(0,Z.yp)("center")},...C,ref:y,"data-export-as-image":!0,className:s.lR,children:[(0,a.jsx)(i.a,{as:"svg",pos:"absolute",inset:"0",w:"100%",overflow:"visible","data-testid":"arrow-svg",...m,children:(0,a.jsx)(i.a,{as:"path",d:w,className:s.D6})}),(0,a.jsx)(c.s,{fontSize:"1.5em",pos:"absolute",my:"0.5em",alignItems:"center",justifyContent:"center",className:(0,p.cx)(h.U6),children:(0,a.jsx)(k.R,{image:u,number:r.numbered?o+1:void 0,isNumbered:r.numbered,iconSize:1,selectCell:g})})]})});nV.displayName="ArrowsLabel";let nW=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"0em",rowGap:"0em",forceBalance:!0}));nW.displayName="ArrowsWrapper";let nU=(0,o.memo)(e=>(0,a.jsx)(ee,{cellProps:e,LabelComponent:nV,forceBalance:!0,children:e.children}));nU.displayName="ArrowsCell";let nG=()=>K({key:"arrows",name:()=>l.Ru._({id:"YUGjgn"}),icon:_.vFJ,keywords:["sequence","ordered","arrows","chevrons","roadmap"],htmlTag:"arrows",family:"sequence",additionalOptions:[ej,eK,{...eO,defaultValue:(0,Z.Ro)("left")}],presetConfigurations:[{name:()=>l.Ru._({id:"QI5FSO"}),options:{orientation:"horizontal"},hideIfVertical:!0},{name:()=>l.Ru._({id:"KphBeD"}),options:{orientation:"vertical"}}],imageSlot:"optional",imageType:"icon",Wrapper:nW,Cell:nU}),nK=(e,t,n,a,i)=>{let r=(a?4:5)*n,l=+n;return a?"rtl"===i?"\n        M ".concat(l," 0\n        L 0 ").concat(r/2,"\n        L ").concat(l," ").concat(r,"\n        L ").concat(e," ").concat(r,"\n        L ").concat(e-l," ").concat(r/2,"\n        L ").concat(e," 0 Z"):"\n      M ".concat(e-l," 0\n      L ").concat(e," ").concat(r/2,"\n      L ").concat(e-l," ").concat(r,"\n      L 0 ").concat(r,"\n      L ").concat(l," ").concat(r/2,"\n      L 0 0 Z"):"\n        M 0 ".concat(t-l,"\n        L ").concat(r/2," ").concat(t,"\n        L ").concat(r," ").concat(t-l,"\n        L ").concat(r," 0\n        L ").concat(r/2," ").concat(l,"\n        L 0 0 Z")},nQ=(0,o.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:i,cellOptions:r,index:l,image:o,selectCell:d,selectCellForElementProps:u}=t,{colorVars:g}=A(i,r,l);return(0,a.jsx)(c.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...g},style:n?{borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopRightRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderTopWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"}:{borderTopRightRadius:"0px",borderBottomRightRadius:"0px",borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopWidth:"0px",borderLeftWidth:"0px",borderBottomWidth:"0px"},...n?{width:"100%",height:"3em"}:{width:"4em",height:"100%",minHeight:"4em"},className:(0,p.cx)(s.SA,s.lR),...u,children:(0,a.jsx)(c.s,{fontSize:"1.5em",alignItems:"center",justifyContent:"center",className:(0,p.cx)(h.U6),children:(0,a.jsx)(k.R,{image:o,number:i.numbered?l+1:void 0,isNumbered:i.numbered,iconSize:1,selectCell:d})})})});nQ.displayName="OutlineBoxesWithLabelLabel";let nZ=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1em",rowGap:"1em",forceBalance:!0}));nZ.displayName="OutlineBoxesWithLabelWrapper";let nq=(0,o.memo)(e=>(0,a.jsx)(X,{cellProps:e,forceBalance:!0,borderRadius:"var(--box-border-radius)",children:(0,a.jsx)(et,{cellProps:e,LabelComponent:nQ,className:s.uk,children:e.children})}));nq.displayName="OutlineBoxesWithLabelCell";let nJ=()=>K({key:"outlineBoxesWithLabel",name:()=>l.Ru._({id:"VWjsp7"}),icon:_._vK,keywords:["outline","boxes","label","sequence","ordered","headers"],htmlTag:"outline-boxes-with-label",family:"boxes",additionalOptions:[ej,eK],presetConfigurations:[{name:()=>l.Ru._({id:"yTTyHb"}),options:{orientation:"horizontal"},hideIfVertical:!0},{name:()=>l.Ru._({id:"UifYfm"}),options:{orientation:"vertical"}}],imageSlot:"optional",imageType:"icon",Wrapper:nZ,Cell:nq}),n$=(0,o.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:i,cellOptions:r,index:l,image:o,selectCell:d,selectCellForElementProps:u}=t,{colorVars:g}=A(i,r,l);return(0,a.jsx)(c.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...g},style:{borderRadius:"12em"},...n?{width:"100%",height:"3em"}:{width:"4em",height:"100%",minHeight:"4em"},className:(0,p.cx)(s.SA,s.lR),...u,children:(0,a.jsx)(c.s,{fontSize:"1.5em",alignItems:"center",justifyContent:"center",className:(0,p.cx)(h.U6),children:(0,a.jsx)(k.R,{image:o,number:i.numbered?l+1:void 0,isNumbered:i.numbered,iconSize:1,selectCell:d})})})});n$.displayName="PillsLabel";let nY=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"0.75em",rowGap:"0.75em",forceBalance:!0}));nY.displayName="PillsWrapper";let nX=(0,o.memo)(e=>(0,a.jsx)(ee,{cellProps:e,LabelComponent:n$,forceBalance:!0,children:e.children}));nX.displayName="PillsCell";let n0=()=>K({key:"pills",name:()=>l.Ru._({id:"OOCfU+"}),icon:_.M1V,keywords:["pills","capsules","sequence","ordered","rounded"],htmlTag:"pills",family:"sequence",additionalOptions:[ej,eK],presetConfigurations:[{name:()=>l.Ru._({id:"D17j6n"}),options:{orientation:"horizontal"},hideIfVertical:!0},{name:()=>l.Ru._({id:"gJEEpm"}),options:{orientation:"vertical"}}],imageSlot:"optional",imageType:"icon",Wrapper:nY,Cell:nX}),n1=(0,o.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:r,cellOptions:l,index:o,direction:d,image:u,selectCell:g,selectCellForElementProps:m}=t,{colorVars:x}=A(r,l,o),{width:f,height:b,fontSize:v,ref:y}=(0,e9.Lf)(),w=n5(f,b,v,n,d),C=n?{width:"100%",height:"".concat(4,"em")}:{width:"".concat(5,"em"),height:"100%"};return(0,a.jsxs)(c.s,{lineHeight:"1",contentEditable:!1,align:"center",justify:"center",position:"relative",sx:{...x,...(0,Z.yp)("center")},...C,ref:y,"data-export-as-image":!0,className:s.lR,children:[(0,a.jsx)(i.a,{as:"svg",pos:"absolute",inset:"0",w:"100%",overflow:"visible","data-testid":"arrow-svg",...m,children:(0,a.jsx)(i.a,{as:"path",d:w,className:s.D6})}),(0,a.jsx)(c.s,{fontSize:"1.5em",pos:"absolute",my:"0.5em",alignItems:"center",justifyContent:"center",className:(0,p.cx)(h.U6),children:(0,a.jsx)(k.R,{image:u,number:r.numbered?o+1:void 0,isNumbered:r.numbered,iconSize:1,selectCell:g})})]})});n1.displayName="SlantedLabelsLabel";let n2=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"0em",rowGap:"0em",forceBalance:!0}));n2.displayName="SlantedLabelsWrapper";let n4=(0,o.memo)(e=>(0,a.jsx)(ee,{cellProps:e,LabelComponent:n1,forceBalance:!0,children:e.children}));n4.displayName="SlantedLabelsCell";let n6=()=>K({key:"slantedLabels",name:()=>l.Ru._({id:"J0xtcw"}),icon:r.sD5,keywords:["sequence","ordered","arrows","chevrons","roadmap"],htmlTag:"slantedLabels",family:"sequence",additionalOptions:[ej,eK,{...eO,defaultValue:(0,Z.Ro)("left")}],presetConfigurations:[{name:()=>l.Ru._({id:"gA8+s2"}),options:{orientation:"horizontal"},hideIfVertical:!0},{name:()=>l.Ru._({id:"ryugXN"}),options:{orientation:"vertical"}}],imageSlot:"optional",imageType:"icon",Wrapper:n2,Cell:n4,featureFlag:"smartLayoutsJuly2025"}),n5=(e,t,n,a,i)=>{let r=(a?4:5)*n,l=1.5*n;return a?"rtl"===i?"\n        M ".concat(l," 0\n        L ").concat(e," 0\n        L ").concat(e-l," ").concat(r,"\n        L 0 ").concat(r,"\n        Z"):"\n      M ".concat(l," 0\n      L ").concat(e," 0\n      L ").concat(e-l," ").concat(r,"\n      L 0 ").concat(r,"\n      Z"):"\n        M 0 ".concat(t,"\n        L 0 ").concat(l,"\n        L ").concat(r," 0\n        L ").concat(r," ").concat(t-l,"\n        Z")},n3=(0,o.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:i,cellOptions:r,index:l,selectCellForElementProps:o}=t,{colorVars:d}=A(i,r,l);return(0,a.jsx)(c.s,{contentEditable:!1,align:"center",justify:"center",position:"relative",sx:d,...n?{width:"100%",height:"".concat(1,"em")}:{minWidth:"".concat(1,"em"),width:"".concat(1,"em"),height:"100%"},className:s.SA,...o})});n3.displayName="StepsLabel";let n9=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,rowGap:"0.75em",columnGap:"0.75em",forceBalance:!0}));n9.displayName="StepsWrapper";let n7=(0,o.memo)(e=>(0,a.jsx)(X,{cellProps:e,forceBalance:!0,staggering:{horizontal:"cascade",vertical:"oscillating"},children:(0,a.jsx)(et,{cellProps:e,LabelComponent:n3,children:e.children})}));n7.displayName="StepsCell";let n8=()=>K({key:"steps",name:()=>l.Ru._({id:"A9onc2"}),icon:_.k2U,keywords:["steps","sequence","ordered"],htmlTag:"steps",family:"steps",additionalOptions:[ej],presetConfigurations:[{name:()=>l.Ru._({id:"087akc"}),options:{orientation:"horizontal",horizontalAlign:"left"},hideIfVertical:!0},{name:()=>l.Ru._({id:"DCkonM"}),options:{orientation:"vertical",horizontalAlign:"left"}}],Wrapper:n9,Cell:n7}),ae=2/3*3,at=(0,o.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:r,cellOptions:l,index:o,direction:d,selectCellForElementProps:u}=t,{colorVars:p}=A(r,l,o),{width:h,height:g,fontSize:m,ref:x}=(0,e9.Lf)(),f=ar(h,g,m,n,d),b=n?{width:"100%",height:"".concat(3,"em")}:{minWidth:"".concat(3,"em"),width:"".concat(3,"em"),height:"100%"};return(0,a.jsx)(c.s,{contentEditable:!1,align:"center",justify:"center",position:"relative",sx:p,...u,ref:x,...b,children:(0,a.jsx)(i.a,{as:"svg",pos:"absolute",inset:"0",w:"100%",overflow:"visible","data-testid":"arrow-svg",...u,children:(0,a.jsx)(i.a,{as:"path",d:f,className:s.D6})})})});at.displayName="StepsWithArrowLabel";let an=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,rowGap:"0.75em",columnGap:"0.75em",forceBalance:!0}));an.displayName="StepsWrapper";let aa=(0,o.memo)(e=>(0,a.jsx)(X,{cellProps:e,forceBalance:!0,staggering:{horizontal:"cascade",vertical:"oscillating"},children:(0,a.jsx)(et,{cellProps:e,LabelComponent:at,children:e.children})}));aa.displayName="StepsCell";let ai=()=>K({key:"stepsWithArrow",name:()=>l.Ru._({id:"kQwqXh"}),icon:_.INJ,keywords:["steps","arrow","sequence","ordered"],htmlTag:"steps",family:"steps",additionalOptions:[ej],presetConfigurations:[{name:()=>l.Ru._({id:"wFgEzK"}),options:{orientation:"horizontal",horizontalAlign:"left"},hideIfVertical:!0},{name:()=>l.Ru._({id:"WkYYLP"}),options:{orientation:"vertical",horizontalAlign:"left"}}],Wrapper:an,Cell:aa,featureFlag:"smartLayoutsJuly2025"}),ar=function(e,t,n,a){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ltr",r=ae*n,l=3*n;if(!a){let n=.75*t,a=(e-r)/2,i=a+r,o=(e-l)/2;return"M ".concat(a," 0 ")+"L ".concat(i," 0 ")+"L ".concat(i," ").concat(n," ")+"L ".concat(o+l," ").concat(n," ")+"L ".concat(e/2," ").concat(t," ")+"L ".concat(o," ").concat(n," ")+"L ".concat(a," ").concat(n," ")+"Z"}let o=t/2,s=(t-r)/2,d=s+r,c=(t-l)/2,u=c+l;if("rtl"===i){let t=2.5*n;return"M 0 ".concat(o," ")+"L ".concat(t," ").concat(c," ")+"L ".concat(t," ").concat(s," ")+"L ".concat(e," ").concat(s," ")+"L ".concat(e," ").concat(d," ")+"L ".concat(t," ").concat(d," ")+"L ".concat(t," ").concat(u," ")+"Z"}let p=e-2.5*n;return"M 0 ".concat(s," ")+"L ".concat(p," ").concat(s," ")+"L ".concat(p," ").concat(c," ")+"L ".concat(e," ").concat(o," ")+"L ".concat(p," ").concat(u," ")+"L ".concat(p," ").concat(d," ")+"L 0 ".concat(d," ")+"Z"},al=(0,o.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:i,cellOptions:r,index:l,direction:o,image:u,selectCell:g,selectCellForElementProps:m,theme:x,firstChildSize:f}=t,{colorVars:b}=A(i,r,l),v=E(x,(0,d.FX)(),"h1",f);return(0,a.jsxs)(c.s,{width:n?"100%":"3em",height:n?"3em":"100%",align:"center",justify:"center",position:"relative",direction:n?"row":"column",contentEditable:!1,children:[(0,a.jsx)(c.s,{borderRadius:"50% !important",width:"3em",height:"3em",position:"absolute",left:"rtl"===o?void 0:0,right:"rtl"===o?0:void 0,top:n?"50%":"".concat(v),transform:n?"translateY(-50%)":void 0,zIndex:"1",sx:{...b},className:(0,p.cx)(s.SA,s.lR),justify:"center",align:"center",children:(0,a.jsx)(c.s,{fontSize:"1.5em",my:"0.5em",alignItems:"center",justifyContent:"center",className:(0,p.cx)(h.U6),children:(0,a.jsx)(k.R,{image:u,number:i.numbered?l+1:void 0,isNumbered:i.numbered,iconSize:1,selectCell:g})})}),(0,a.jsx)(c.s,{align:"center",justify:"center",position:"relative",sx:b,...n?{width:"calc(100% - 1.5em)",height:"".concat(1,"em"),marginInlineStart:"1.5em"}:{minWidth:"".concat(1,"em"),width:"".concat(1,"em"),height:"calc(100% - 1.5em)",marginTop:"1.5em"},className:s.SA,...m})]})});al.displayName="StepsWithIconsLabel";let ao=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,rowGap:"0.75em",columnGap:"0.75em",forceBalance:!0}));ao.displayName="StepsWrapper";let as=(0,o.memo)(e=>(0,a.jsx)(X,{cellProps:e,forceBalance:!0,staggering:{horizontal:"cascade",vertical:"oscillating"},children:(0,a.jsx)(et,{cellProps:e,LabelComponent:al,children:e.children})}));as.displayName="StepsCell";let ad=()=>K({key:"stepsWithIcons",name:()=>l.Ru._({id:"q8HKHP"}),icon:_.o97,keywords:["steps","icons","sequence","ordered"],htmlTag:"stepsWithIcons",family:"steps",additionalOptions:[ej,eK],presetConfigurations:[{name:()=>l.Ru._({id:"lPCKsX"}),options:{orientation:"horizontal",horizontalAlign:"left"},hideIfVertical:!0},{name:()=>l.Ru._({id:"wNI9DR"}),options:{orientation:"vertical",horizontalAlign:"left"}}],imageSlot:"optional",imageType:"icon",Wrapper:ao,Cell:as,featureFlag:"smartLayoutsJuly2025"}),ac=(0,o.memo)(e=>{let{cellProps:t,isHorizontal:n}=e,{layoutOptions:i,cellOptions:r,index:l,selectCellForElementProps:o}=t,{colorVars:d}=A(i,r,l);return(0,a.jsx)(c.s,{contentEditable:!1,align:"center",justify:"center",position:"relative",sx:d,style:n?{borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopRightRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderTopWidth:"0px",borderLeftWidth:"0px",borderRightWidth:"0px"}:{borderTopRightRadius:"0px",borderBottomRightRadius:"0px",borderTopLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderBottomLeftRadius:"calc(var(--box-border-radius) - var(--line-thickness))",borderTopWidth:"0px",borderLeftWidth:"0px",borderBottomWidth:"0px"},...n?{width:"100%",height:"".concat(1,"em")}:{minWidth:"".concat(1,"em"),width:"".concat(1,"em"),height:"100%"},className:s.SA,...o})});ac.displayName="StepsWithOutlineBoxesLabel";let au=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,rowGap:"0.75em",columnGap:"0.75em",forceBalance:!0}));au.displayName="StepsWrapper";let ap=(0,o.memo)(e=>(0,a.jsx)(X,{cellProps:e,forceBalance:!0,staggering:{horizontal:"cascade",vertical:"oscillating"},borderRadius:"var(--box-border-radius)",children:(0,a.jsx)(et,{cellProps:e,LabelComponent:ac,className:s.uk,children:e.children})}));ap.displayName="StepsCell";let ah=()=>K({key:"stepsWithOutlineBoxes",name:()=>l.Ru._({id:"bKc2b/"}),icon:r.idT,keywords:["steps","outline","boxes","sequence","ordered"],htmlTag:"steps",family:"steps",additionalOptions:[ej],presetConfigurations:[{name:()=>l.Ru._({id:"pi32P5"}),options:{orientation:"horizontal",horizontalAlign:"left"},hideIfVertical:!0},{name:()=>l.Ru._({id:"T9MVOK"}),options:{orientation:"vertical",horizontalAlign:"left"}}],Wrapper:au,Cell:ap,featureFlag:"smartLayoutsJuly2025"});var ag=n(56151),am=n(30709),ax=n(85813);let af=e=>{let{updateAttributes:t,value:n,placeholder:i,inputProps:r,...l}=e,s=(0,o.useCallback)(e=>{t&&t({label:""===e?null:e})},[t]),d=(0,f.GV)(C.Cl)&&t;return(0,a.jsxs)(ag.F,{value:n||"",placeholder:i,onChange:s,isDisabled:!d,...l,children:[(0,a.jsx)(am.l,{width:"100%",h:"1em",py:0,noOfLines:1,userSelect:d?void 0:"none",lineHeight:1}),(0,a.jsx)(ax.j,{width:"100%",my:-1,py:1,lineHeight:1,...r})]})};var ab=n(79018);let av=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1.25em"}));av.displayName="CircleStatsWrapper";let ay={xs:.35,sm:.48,md:.61,lg:.74,xl:.87,full:1},aw=(0,o.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:l,updateAttributes:o,index:u,selectCellForElementProps:g}=e,m=(0,y.M)(t),x=(0,ab.dD)(e),f=(0,e7.JL)({innerRadius:41,outerRadius:50}),b=f({startAngle:0,endAngle:2*x*Math.PI}),v=f({startAngle:0,endAngle:2*Math.PI}),w=ay[n.shapeSize]||1,C="min(100%, ".concat(z.mw*w,"em)"),j=(0,d.FX)()||"left"===n.imagePosition?"".concat(2*w,"em"):"".concat(2.5*w,"em"),{colorOverride:k}=A(n,r,u,!0),{colorVars:S}=A(n,r,u),{colorVars:I}=A(n,r,u,!1),{useTransparentTrack:E,shouldRecolorTrack:R}=aA(m,k),L=(0,a.jsxs)(c.s,{direction:"column",align:"center",justify:"center",width:"100%",maxW:C,pos:"relative",contentEditable:!1,py:"0.25em",...g,children:[(0,a.jsx)(af,{value:l||"",updateAttributes:o,pos:"absolute",insetStart:"".concat(9,"%"),className:(0,p.cx)(h.U6),fontSize:j,lineHeight:1,display:"flex",alignItems:"center",sx:(0,Z.yp)("center"),style:{width:"".concat(82,"%")},cursor:"text"}),(0,a.jsxs)("svg",{width:"100%",viewBox:"".concat(-50," ").concat(-50," ").concat(100," ").concat(100),overflow:"visible",onClick:e=>{g.onClick(e)},cursor:g.cursor,children:[(0,a.jsx)(i.a,{as:"path",d:v||void 0,className:s.D6,style:{fill:E?"var(--card-color)":void 0},"data-testid":"stats-track",css:R?S:void 0,...g}),(0,a.jsx)(i.a,{as:"path",d:b||void 0,className:s._B,"data-testid":"stats-fill",css:I,...g})]})]});return(0,a.jsx)(ei,{visual:L,visualPosition:n.imagePosition,visualSize:"".concat(100*w,"%"),visualMaxSize:C,gap:"1em",cellProps:e,children:e.children})});aw.displayName="CircleStatsCell";let aC=()=>K({key:"circleStats",name:()=>l.Ru._({id:"mvpFPS"}),icon:_.ItB,keywords:["stats","circle"],htmlTag:"circleStats",family:"numbers",additionalOptions:[{...t5,checkEnabled(e){let{options:t}=e;return"vertical"!==t.orientation}},{...t6,name:()=>l.Ru._({id:"1C+7U1"}),icon:_.GEE},{...eO,defaultValue:(0,Z.Ro)("center"),checkEnabled(e){let{options:t}=e;return"left"!==t.imagePosition}}],presetConfigurations:[{name:()=>l.Ru._({id:"MpKR5P"}),options:{shapeSize:"lg"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:av,Cell:aw}),aA=(e,t)=>{let n="default"!==e.shapeColorScheme;return{useTransparentTrack:"none"===e.shapeFill||"solid"===e.shapeFill&&"custom"===e.shapeColorScheme||t&&n,shouldRecolorTrack:n}},aj=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1.25em"}));aj.displayName="BarStatsWrapper";let ak=(0,o.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:l,updateAttributes:o,index:d,selectCellForElementProps:u}=e,g=(0,y.M)(t),m=n.horizontalAlign,x=(0,ab.dD)(e),{colorOverride:f}=A(n,r,d,!0),{colorVars:b}=A(n,r,d),{colorVars:v}=A(n,r,d,!1),{useTransparentTrack:w,shouldRecolorTrack:C}=aA(g,f),j=(0,a.jsxs)(c.s,{direction:"row",align:"center",justify:"stretch",width:"100%",pos:"relative",contentEditable:!1,gap:"0.75em",...u,children:[(0,a.jsxs)(i.a,{flex:"1",my:"0.5em",pos:"relative",borderRadius:"var(--box-border-radius)",...u,children:[(0,a.jsx)(i.a,{pos:"absolute",inset:"0",className:s.SA,style:w?{background:"var(--card-color)"}:void 0,css:C?b:void 0,...u}),(0,a.jsx)(i.a,{w:"".concat(100*x,"%"),h:"1.25em",pos:"relative",className:s.P7,borderRadius:"inherit",css:v,...u})]}),(0,a.jsx)(af,{value:l||"",updateAttributes:o,className:(0,p.cx)(h.U6),lineHeight:1,display:"flex",alignItems:"center",sx:(0,Z.yp)(m),fontSize:"1.25em",inputProps:{textAlign:"right",width:"4em",py:0},minW:"1em"})]});return(0,a.jsx)(ei,{visual:j,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});ak.displayName="BarStatsCell";let aS=()=>K({key:"barStats",name:()=>l.Ru._({id:"LYRXtx"}),icon:_.dYn,keywords:["stats","bar","progress","number","percentage"],htmlTag:"percentages",family:"numbers",additionalOptions:[{...eO,defaultValue:(0,Z.Ro)("left")}],presetConfigurations:[{name:()=>l.Ru._({id:"oWD4zD"}),options:{horizontalAlign:"left"},cellAttrs:{label:"75"}},{name:()=>l.Ru._({id:"HEnTGz"}),options:{horizontalAlign:"right"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:aj,Cell:ak}),aI=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1.25em"}));aI.displayName="CircleWithBoldLineStatsWrapper";let aE={xs:.35,sm:.48,md:.61,lg:.74,xl:.87,full:1},aR=(0,o.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:l,updateAttributes:o,index:u,selectCellForElementProps:g}=e,m=(0,y.M)(t),x=(0,ab.dD)(e),f=9,b=(0,e7.JL)({innerRadius:50-f,outerRadius:50})({startAngle:0,endAngle:2*x*Math.PI}),v=45,w=.45,C=(0,e7.JL)({innerRadius:v-w,outerRadius:v})({startAngle:0,endAngle:2*Math.PI}),j=aE[n.shapeSize]||1,k="min(100%, ".concat(z.mw*j,"em)"),S=(0,d.FX)()||"left"===n.imagePosition?"".concat(2*j,"em"):"".concat(2.5*j,"em"),{colorOverride:I}=A(n,r,u,!0),{colorVars:E}=A(n,r,u),{colorVars:R}=A(n,r,u,!1),{useTransparentTrack:L,shouldRecolorTrack:D}=aD(m,I),M=(0,a.jsxs)(c.s,{direction:"column",align:"center",justify:"center",width:"100%",maxW:k,pos:"relative",contentEditable:!1,py:"0.25em",...g,children:[(0,a.jsx)(af,{value:l||"",updateAttributes:o,pos:"absolute",insetStart:"".concat(f,"%"),className:(0,p.cx)(h.U6),fontSize:S,lineHeight:1,display:"flex",alignItems:"center",sx:(0,Z.yp)("center"),style:{width:"".concat(100-2*f,"%")},cursor:"text"}),(0,a.jsxs)("svg",{width:"100%",viewBox:"".concat(-50," ").concat(-50," ").concat(100," ").concat(100),overflow:"visible",onClick:e=>{g.onClick(e)},cursor:g.cursor,children:[(0,a.jsx)(i.a,{as:"path",d:C||void 0,className:s.Lp,style:{fill:L?"var(--card-color)":void 0},"data-testid":"stats-track",css:{...D?E:void 0,"--shape-border-width":"0.125em"},...g}),(0,a.jsx)(i.a,{as:"path",d:b||void 0,className:s._B,"data-testid":"stats-fill",css:R,...g})]})]});return(0,a.jsx)(ei,{visual:M,visualPosition:n.imagePosition,visualSize:"".concat(100*j,"%"),visualMaxSize:k,gap:"1em",cellProps:e,children:e.children})});aR.displayName="CircleWithBoldLineStatsCell";let aL=()=>K({key:"circleStatsWithBoldLine",name:()=>l.Ru._({id:"kSnmN+"}),icon:_.ItB,keywords:["stats","circle"],htmlTag:"circle-stats-with-bold-line",family:"numbers",additionalOptions:[{...t5,checkEnabled(e){let{options:t}=e;return"vertical"!==t.orientation}},{...t6,name:()=>l.Ru._({id:"1C+7U1"}),icon:_.GEE},{...eO,defaultValue:(0,Z.Ro)("center"),checkEnabled(e){let{options:t}=e;return"left"!==t.imagePosition}}],presetConfigurations:[{name:()=>l.Ru._({id:"MpKR5P"}),options:{shapeSize:"lg"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:aI,Cell:aR,featureFlag:"smartLayoutSkins"}),aD=(e,t)=>{let n="default"!==e.shapeColorScheme;return{useTransparentTrack:"none"===e.shapeFill||"solid"===e.shapeFill&&"custom"===e.shapeColorScheme||t&&n,shouldRecolorTrack:n}},aM=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1.25em"}));aM.displayName="CircleWithExternalBoldLineStatsWrapper";let a_={xs:.35,sm:.48,md:.61,lg:.74,xl:.87,full:1},aT=(0,o.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:l,updateAttributes:o,index:u,selectCellForElementProps:g}=e,m=(0,y.M)(t),x=(0,ab.dD)(e),f=9,b=(0,e7.JL)({innerRadius:50-f,outerRadius:50})({startAngle:0,endAngle:2*x*Math.PI}),v=35,w=.35000000000000003,C=(0,e7.JL)({innerRadius:v-w,outerRadius:v})({startAngle:0,endAngle:2*Math.PI}),j=a_[n.shapeSize]||1,k="min(100%, ".concat(z.mw*j,"em)"),S=(0,d.FX)()||"left"===n.imagePosition?"".concat(2*j,"em"):"".concat(2.5*j,"em"),{colorOverride:I}=A(n,r,u,!0),{colorVars:E}=A(n,r,u),{colorVars:R}=A(n,r,u,!1),{useTransparentTrack:L,shouldRecolorTrack:D}=az(m,I),M=(0,a.jsxs)(c.s,{direction:"column",align:"center",justify:"center",width:"100%",maxW:k,pos:"relative",contentEditable:!1,py:"0.25em",...g,children:[(0,a.jsx)(af,{value:l||"",updateAttributes:o,pos:"absolute",insetStart:"".concat(f,"%"),className:(0,p.cx)(h.U6),fontSize:S,lineHeight:1,display:"flex",alignItems:"center",sx:(0,Z.yp)("center"),style:{width:"".concat(100-2*f,"%")},cursor:"text"}),(0,a.jsxs)("svg",{width:"100%",viewBox:"".concat(-50," ").concat(-50," ").concat(100," ").concat(100),overflow:"visible",onClick:e=>{g.onClick(e)},cursor:g.cursor,children:[(0,a.jsx)(i.a,{as:"path",d:C||void 0,className:s.Lp,style:{fill:L?"var(--card-color)":void 0},"data-testid":"stats-track",css:{...D?E:void 0,"--shape-border-width":"0.125em"},...g}),(0,a.jsx)(i.a,{as:"path",d:b||void 0,className:s._B,"data-testid":"stats-fill",css:R,...g})]})]});return(0,a.jsx)(ei,{visual:M,visualPosition:n.imagePosition,visualSize:"".concat(100*j,"%"),visualMaxSize:k,gap:"1em",cellProps:e,children:e.children})});aT.displayName="CircleWithExternalBoldLineStatsCell";let aN=()=>K({key:"circleStatsWithExternalBoldLine",name:()=>l.Ru._({id:"L3jtjR"}),icon:_.ItB,keywords:["stats","circle"],htmlTag:"circle-stats-with-external-bold-line",family:"numbers",additionalOptions:[{...t5,checkEnabled(e){let{options:t}=e;return"vertical"!==t.orientation}},{...t6,name:()=>l.Ru._({id:"1C+7U1"}),icon:_.GEE},{...eO,defaultValue:(0,Z.Ro)("center"),checkEnabled(e){let{options:t}=e;return"left"!==t.imagePosition}}],presetConfigurations:[{name:()=>l.Ru._({id:"MpKR5P"}),options:{shapeSize:"lg"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:aM,Cell:aT,featureFlag:"smartLayoutSkins"}),az=(e,t)=>{let n="default"!==e.shapeColorScheme;return{useTransparentTrack:"none"===e.shapeFill||"solid"===e.shapeFill&&"custom"===e.shapeColorScheme||t&&n,shouldRecolorTrack:n}},aP=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1.25em"}));aP.displayName="DotGridStatsWrapper";let aO=(0,o.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:l,updateAttributes:o,index:d,selectCellForElementProps:u}=e,g=(0,y.M)(t),m=n.horizontalAlign,x=(0,ab.dD)(e),{colorOverride:f}=A(n,r,d,!0),{colorVars:b}=A(n,r,d),{colorVars:v}=A(n,r,d,!1),{useTransparentTrack:w,shouldRecolorTrack:C}=aA(g,f),j=Math.round(100*x),k=Array.from({length:100},(e,t)=>{let n=Math.floor(t/10),r=t%10,l=Math.floor(j/10),o=n>=10-l||n===10-l-1&&r<j%10;return(0,a.jsx)(i.a,{w:"1em",h:"1em",borderRadius:"50% !important",className:o?s.P7:s.SA,css:o?v:C?b:void 0,style:!o&&w?{background:"var(--card-color)"}:void 0,...u},t)}),S=(0,a.jsx)(c.s,{width:"100%",justify:"center"===m?"center":"right"===m?"flex-end":"flex-start",children:(0,a.jsxs)(c.s,{direction:"column",align:"center"===m?"center":"right"===m?"flex-end":"flex-start",justify:"stretch",width:"100%",pos:"relative",contentEditable:!1,gap:"0.75em",...u,children:[(0,a.jsx)(eb.x,{templateColumns:"repeat(10, 1fr)",gap:"0.2em",flex:"1",my:"0.5em",justifyItems:"center",alignItems:"center",...u,children:k}),(0,a.jsx)(af,{value:l||"",updateAttributes:o,className:(0,p.cx)(h.U6),lineHeight:1,display:"flex",alignItems:"center",sx:(0,Z.yp)(m),fontSize:"3em",inputProps:{textAlign:"left",width:"4em",py:0},minW:"1em",mb:"0.25em"})]})});return(0,a.jsx)(ei,{visual:S,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});aO.displayName="DotGridStatsCell";let aF=()=>K({key:"dotGridStats",name:()=>l.Ru._({id:"iW6hrR"}),icon:r.nBi,keywords:["stats","dot","grid","number","percentage"],htmlTag:"percentages",family:"numbers",additionalOptions:[{...eO,defaultValue:(0,Z.Ro)("left")}],presetConfigurations:[{name:()=>l.Ru._({id:"OCJYne"}),options:{horizontalAlign:"left"},cellAttrs:{label:"75"}},{name:()=>l.Ru._({id:"Ho9/Bu"}),options:{horizontalAlign:"right"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:aP,Cell:aO,featureFlag:"smartLayoutsJuly2025"}),aH=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1.25em"}));aH.displayName="DotLineStatsWrapper";let aB=(0,o.memo)(e=>{let{theme:t,layoutOptions:n,cellOptions:r,label:l,updateAttributes:o,index:d,selectCellForElementProps:u}=e,g=(0,y.M)(t),m=n.horizontalAlign,x=(0,ab.dD)(e),{colorOverride:f}=A(n,r,d,!0),{colorVars:b}=A(n,r,d),{colorVars:v}=A(n,r,d,!1),{useTransparentTrack:w,shouldRecolorTrack:C}=aA(g,f),j=Math.round(5*x),k=Array.from({length:5},(e,t)=>{let n=t<j;return(0,a.jsx)(i.a,{w:"1em",h:"1em",borderRadius:"50% !important",className:n?s.P7:s.SA,css:n?v:C?b:void 0,style:!n&&w?{background:"var(--card-color)"}:void 0,...u},t)}),S=(0,a.jsx)(c.s,{width:"100%",justify:"center"===m?"center":"right"===m?"flex-end":"flex-start",children:(0,a.jsxs)(c.s,{direction:"row",align:"center",justify:"stretch",pos:"relative",contentEditable:!1,gap:"0.75em",...u,children:[(0,a.jsx)(eb.x,{templateColumns:"repeat(5, 1fr)",gap:"0.1em",my:"0.5em",justifyItems:"center",alignItems:"center",...u,children:k}),(0,a.jsx)(af,{value:l||"",updateAttributes:o,className:(0,p.cx)(h.U6),lineHeight:1,display:"flex",alignItems:"center",sx:(0,Z.yp)(m),fontSize:"1.25em",inputProps:{textAlign:"left",width:"4em",py:0},minW:"1em"})]})});return(0,a.jsx)(ei,{visual:S,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});aB.displayName="DotLineStatsCell";let aV=()=>K({key:"dotLineStats",name:()=>l.Ru._({id:"Z+uBD/"}),icon:r.Dwc,keywords:["stats","bar","progress","number","percentage"],htmlTag:"percentages",family:"numbers",additionalOptions:[{...eO,defaultValue:(0,Z.Ro)("left")}],presetConfigurations:[{name:()=>l.Ru._({id:"kpy3OF"}),options:{horizontalAlign:"left"},cellAttrs:{label:"75"}},{name:()=>l.Ru._({id:"YT7LWI"}),options:{horizontalAlign:"right"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",Wrapper:aH,Cell:aB,featureFlag:"smartLayoutsJuly2025"}),aW=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1.25em"}));aW.displayName="PlainStatsWrapper";let aU={xs:2,sm:2.65,md:3.3,lg:3.95,xl:4.6,full:5.25},aG=(0,o.memo)(e=>{let{layoutOptions:t,cellOptions:n,label:i,updateAttributes:r,index:l}=e,{headingColorCss:o}=A(t,n,l,!0),s=t.horizontalAlign,u=aU[t.shapeSize||"md"],g=(0,d.FX)(),m=(0,a.jsx)(c.s,{direction:"column",align:"center",justify:"center",width:"100%",pos:"relative",contentEditable:!1,py:"0.5em",css:o,fontSize:g?"0.75em":"1em",children:(0,a.jsx)(af,{value:i||"",updateAttributes:r,className:(0,p.cx)(h.U6),fontSize:"".concat(u,"em"),lineHeight:1,display:"flex",alignItems:"center",sx:(0,Z.yp)(s||"center"),style:{width:"100%"},placeholder:"—",cursor:"text"})});return(0,a.jsx)(ei,{visual:m,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});aG.displayName="PlainStatsCell";let aK=()=>K({key:"stats",name:()=>l.Ru._({id:"29Hx9U"}),icon:_.Bi7,keywords:["stats"],htmlTag:"numbers",family:"numbers",additionalOptions:[{...t6,name:()=>l.Ru._({id:"IfKwpr"}),icon:_.ACh},{...eO,defaultValue:(0,Z.Ro)("center")}],presetConfigurations:[{name:()=>l.Ru._({id:"cYvymx"}),options:{shapeSize:"lg"},cellAttrs:{label:"75"}}],defaultAttrs:{label:"50%"},addDirection:()=>"right",defaultOptions:{cellSize:10},Wrapper:aW,Cell:aG});var aQ=n(33750),aZ=n.n(aQ);let aq=e=>e/100*5,aJ=(0,o.memo)(e=>{let{fillAmount:t,trackColorVars:n,fillColorVars:r,size:l}=e;return t<.01?(0,a.jsx)(i.a,{sx:{...n,path:{fill:"inherit"}},children:(0,a.jsx)(T.g,{icon:V.yy,fontSize:l,style:{strokeWidth:"1em"},className:s.Lp})}):t>.99?(0,a.jsx)(i.a,{sx:{...r,path:{fill:"inherit"}},children:(0,a.jsx)(T.g,{icon:V.yy,fontSize:l,className:s._B})}):(0,a.jsxs)(i.a,{position:"relative",sx:{...n,path:{fill:"inherit"}},children:[(0,a.jsx)(T.g,{icon:V.yy,className:s.Lp,style:{strokeWidth:"1em"},fontSize:l}),(0,a.jsx)(i.a,{position:"absolute",top:"0",insetStart:"0",width:"".concat(100*t,"%"),height:"100%",overflow:"hidden",sx:{...r,path:{fill:"inherit"}},children:(0,a.jsx)(T.g,{icon:V.yy,className:s._B,fontSize:l})})]})});aJ.displayName="StarIcon";let a$=(0,o.memo)(e=>{let{rating:t,trackColorVars:n,fillColorVars:r,size:l}=e,o=[];for(let e=1;e<=5;e++){let s=aZ()(t-e+1,0,1);o.push((0,a.jsx)(i.a,{children:(0,a.jsx)(aJ,{size:l,fillAmount:s,trackColorVars:n,fillColorVars:r},e)}))}return(0,a.jsx)(c.s,{gap:"0.25em",align:"center",children:o})});a$.displayName="StarRating";let aY=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,columnGap:"1.25em"}));aY.displayName="StarStatsWrapper";let aX=(0,o.memo)(e=>{let{layoutOptions:t,cellOptions:n,label:r,updateAttributes:l,index:o,selectCellForElementProps:s}=e,d=t.horizontalAlign,u=aq(100*(0,ab.dD)({label:r,basis:5})),{colorVars:g}=A(t,n,o),{colorVars:m}=A(t,n,o,!1),x=(0,a.jsx)(c.s,{width:"100%",justify:"center"===d?"center":"right"===d?"flex-end":"flex-start",children:(0,a.jsxs)(c.s,{direction:"row",align:"center",justify:"stretch",pos:"relative",contentEditable:!1,gap:"0.75em",...s,children:[(0,a.jsx)(i.a,{display:"flex",alignItems:"center",justifyContent:"flex-start",...s,children:(0,a.jsx)(a$,{rating:u,size:t.cellSize===z.vG?"1.25em":"1.5em",trackColorVars:g,fillColorVars:m})}),(0,a.jsx)(af,{value:r||"",updateAttributes:l,className:(0,p.cx)(h.U6),lineHeight:1,display:"flex",alignItems:"center",sx:(0,Z.yp)(d),fontSize:"1.25em",inputProps:{textAlign:"left",width:"2em",py:0},minW:"1em"})]})});return(0,a.jsx)(ei,{visual:x,visualPosition:"top",gap:"0.75em",cellProps:e,children:e.children})});aX.displayName="StarStatsCell";let a0=()=>K({key:"starStats",name:()=>l.Ru._({id:"omSCb1"}),icon:V.yy,keywords:["stats","star","rating","number","percentage"],htmlTag:"ratings",family:"numbers",additionalOptions:[{...eO,defaultValue:(0,Z.Ro)("left")}],presetConfigurations:[{name:()=>l.Ru._({id:"NGIe/7"}),options:{horizontalAlign:"left"},cellAttrs:{label:"4.5"}},{name:()=>l.Ru._({id:"AeN6Ey"}),options:{horizontalAlign:"right"},cellAttrs:{label:"4.5"}}],defaultAttrs:{label:"3.5"},addDirection:()=>"right",Wrapper:aY,Cell:aX,featureFlag:"smartLayoutsJuly2025"}),a1={xs:.15,sm:.2,md:.25,lg:.3,xl:.35,full:.4},a2={xs:"lg",sm:"h3",md:"h2",lg:"h1",xl:"h1",full:"title"},a4=(0,o.memo)(e=>(0,a.jsx)(ea,{...e,forceBalance:!0}));a4.displayName="IconsWithTextWrapper";let a6=(0,o.memo)(e=>{var t;let{image:n,layoutOptions:r,cellOptions:l,selectCell:s,theme:c,firstChildSize:u}=e,p=a1[r.shapeSize||"md"],h="left"===r.imagePosition,g=p<=a1.xs,m=null!=(t=null==l?void 0:l.color)?t:r.color;n&&(0,tC.Xs)(n);let x=(0,o.useMemo)(()=>(0,v.q9)(m,0),[m]),f={aspectRatio:"1 / 1",...g&&h&&{mt:".175em"}},b="min(100%, ".concat(z.vG*p,"em)"),y=E(c,(0,d.FX)(),a2[r.shapeSize||"md"],u),w=(0,a.jsx)(i.a,{"data-smart-layout-image-drop-target":"true",className:"image",w:"100%",h:"100%",sx:f,css:x,children:(0,a.jsx)(k.R,{image:n,placeholderIfEmpty:!0,iconSize:5*p,boxProps:{w:"100%",h:"100%"},selectCell:s,isNumbered:r.numbered,color:null!=m?m:"url(#theme-accent-gradient-linear) var(--accent-color-readable)"})});return(0,a.jsx)(ei,{visual:w,visualPosition:r.imagePosition,visualSize:"calc(".concat(100*p,"% * var(--media-scale))"),visualMaxSize:b,gap:g?"1em":"1.25em",cellProps:e,textboxProps:{pt:h?y:0},forceBalance:!0,children:e.children})});a6.displayName="IconsWithTextCell";let a5=()=>K({key:"iconsText",name:()=>l.Ru._({id:"joUkNe"}),icon:_.cCs,keywords:["icons","text","layout"],htmlTag:"icons",family:"images",additionalOptions:[t5,B,P,{...t6,icon:_.Cyq,name:()=>l.Ru._({id:"bwZEQG"}),defaultValue:()=>"md"},{...eO,defaultValue:(0,Z.Ro)("left"),checkEnabled(e){let{options:t,deco:n}=e,a=t.imagePosition;return(null==n?void 0:n.direction)==="rtl"?"right"!==a:"left"!==a}}],additionalCellOptions:[{...B,checkEnabled(e){let{attrs:t}=e;return!t.image||(0,tC.Xs)(t.image)}}],presetConfigurations:[{name:()=>l.Ru._({id:"pG60n/"}),options:{imagePosition:"top",shapeSize:"lg"}},{name:()=>l.Ru._({id:"hscPGi"}),options:{imagePosition:"left",shapeSize:"lg"}}],addDirection:e=>"left"===e.imagePosition?"bottom":"right",defaultAttrs:{image:{source:e$.f.key}},imageSlot:"always",imageType:"icon",Wrapper:a4,Cell:a6}),a3="40em",a9="0.25em",a7={key:"outsideText",defaultValue:()=>!0,Control:e=>{let{value:t,updateValue:n,option:i}=e;return(0,a.jsx)(W.I,{label:i.name(),onClick:()=>n(!t),isActive:t,icon:_.LEB})},ControlMenu:(e,t,n)=>({key:n.key,label:e?l.Ru._({id:"W0lrhO"}):l.Ru._({id:"OtsbQu"}),icon:_.LEB,onClick:()=>t(!e)}),name:()=>l.Ru._({id:"OtsbQu"})};var a8=n(29452),ie=n.n(a8);let it=(0,o.memo)(e=>{let{Step:t=is,node:n,...i}=e,{children:r,numCells:l,options:o,theme:s,direction:d}=i,u=o.horizontalAlign||"center",p=(0,Z.yp)(u,d),h="funnel"===i.variant.key,g="staircase"===i.variant.key,m=ie()(l).map(e=>{let i=n.maybeChild(e);if(!i)return null;let r=i.attrs.options,c=i.attrs.image;return(0,a.jsx)(ia,{index:e,numCells:l,theme:s,isFunnel:h,alignment:u,direction:d,isStepped:g,cellOptions:r,layoutOptions:o,Step:t,image:c},e)});return(0,a.jsxs)(c.s,{direction:"column","data-selection-ring":!0,align:"stretch",gap:"1em",onContextMenu:i.onContextMenu,...i.selectLayoutForElementProps,children:[(0,a.jsx)(c.s,{direction:"column",sx:p,contentEditable:!1,gap:a9,"data-alternate-colors":!0,...i.selectLayoutForElementProps,children:m}),(0,a.jsx)(c.s,{gap:e0,direction:"column",...i.selectLayoutForElementProps,children:r})]})});it.displayName="StackedPyramidWrapper";let ia=e=>{let{index:t,numCells:n,cellOptions:i,layoutOptions:r,isFunnel:l,alignment:o,direction:s,isStepped:d,Step:c,image:u}=e,p=!d&&l&&t===n-1?{pos:"relative",bottom:"0.25em"}:d||l||0!==t?{}:{pos:"relative",top:"0.25em"},{colorVars:h}=A(r,i,t,!1);return(0,a.jsx)(c,{index:t,numCells:n,isOutside:!0,isNumbered:r.numbered,isStacked:!0,isFunnel:l,alignment:o,direction:s,stepSx:h,image:u,children:(0,a.jsx)(io,{index:t,image:u,isNumbered:r.numbered,...p})},t)},ii=(e,t)=>"right"===e?"right":"left"===e||"ltr"===t?"left":"right",ir=(0,o.memo)(e=>{let t=e1({containerSize:e.containerSize,columnsNeeded:e.options.outsideText&&!e.scaleContentToFit?3:2}),{colorVars:n}=A(e.options,void 0,void 0,!0);return t?(0,a.jsx)(it,{...e}):(0,a.jsx)(en.r,{columns:1,autoRows:"1fr","data-selection-ring":!0,gap:a9,onContextMenu:e.onContextMenu,...e.selectLayoutForElementProps,sx:e.options.outsideText?n:void 0,children:e.children})});ir.displayName="PyramidWrapper";let il=(0,o.memo)(e=>{let{Step:t=is,isFunnel:n=!1,isStepped:r=!1,alignment:l="center",...o}=e,{children:d,layoutOptions:u,index:p,numCells:h,dragHandle:g,direction:m}=o,x=u.outsideText,f=e1({containerSize:o.layoutContainerSize,columnsNeeded:x&&!o.scaleContentToFit?3:2}),{colorVars:b}=A(u,o.cellOptions,p),{colorVars:v}=A(u,o.cellOptions,p,!0);if(f)return(0,a.jsx)(e2,{...o});let y=u.numbered,w=ii(l,m),C={...(0,Z.yp)(w,m),...(0,Z.AS)(w,m)},j=r?{bottom:"-1px"}:n?{top:"calc(-1px - ".concat(a9," / 2 )")}:{bottom:"calc(-1px - ".concat(a9," / 2 )")},k=n?0===p:p===h-1,S=r?"0.5em":a9,I=y&&x&&!r,E=I&&n&&p===h-1?{pos:"relative",bottom:"15%"}:I&&!n&&0===p?{pos:"relative",top:"15%"}:{},R="rtl"===m&&"left"===l||"ltr"===m&&"right"===l?"row-reverse":"row";return(0,a.jsxs)(c.s,{"data-selection-ring":!0,"data-content-reference":!0,pos:"relative",w:"100%",direction:R,justify:x||"center"!==l?void 0:"center",...o.selectCellForElementProps,children:[(0,a.jsxs)(t,{numCells:h,index:p,isFunnel:n,isOutside:x,isNumbered:y,alignment:l,selectCell:o.selectCell,selectCellForElementProps:o.selectCellForElementProps,stepSx:b,direction:m,image:o.image,children:[x?(0,a.jsx)(io,{index:p,image:o.image,isNumbered:y,selectCell:o.selectCell,...E}):d,g]}),x&&(0,a.jsxs)(c.s,{direction:"column",justify:"center",minW:0,flex:1,px:Q.xb,py:Q.xb,pos:"relative",sx:C,className:s.VN,css:v,cursor:"text",children:[d,!k&&(0,a.jsx)(i.a,{contentEditable:!1,position:"absolute",...j,insetStart:S,insetEnd:S,h:"var(--line-thickness)",transform:"scaleY(0.5)",className:s.eI})]})]})});il.displayName="PyramidCell";let io=(0,o.memo)(e=>{let{index:t,image:n,selectCell:r,isNumbered:l,...o}=e;return(0,a.jsx)(i.a,{className:(0,p.cx)(h.U6,s.lR),fontSize:"1.25em",display:"flex",sx:(0,Z.yp)("center"),pos:"relative",contentEditable:!1,...o,children:(0,a.jsx)(k.R,{image:n,number:l?t+1:void 0,isNumbered:l,iconSize:1.125,selectCell:r})})});io.displayName="PyramidLabel";let is=(0,o.memo)(e=>{let{numCells:t,index:n,isFunnel:i,isOutside:r,isStacked:l,children:o,alignment:d,selectCellForElementProps:u,stepSx:p,direction:h}=e,g=i?t-n-1:n,{width:m,height:x,ref:f}=(0,e9.Lh)(),b=45*!r,v=r&&!l?50:100,y=ic(t,g,b),w=.99*ic(t,g+1,b),C=v/100*w,A=(0,Z.yp)(d,h),j=(0,Z.AS)(d,h),k=l?void 0:r?{ms:"center"===d?"".concat((v-C)/2,"%"):void 0}:{maxW:"calc(".concat(a3," * ").concat(C/100,")")};return(0,a.jsxs)(c.s,{direction:"column",ref:f,"data-testId":"pyramid-step",pos:"relative",w:"".concat(C,"%"),sx:{...A,...j,...p},contentEditable:!r&&void 0,...k,children:[(0,a.jsx)(id,{width:m,height:x,alignment:d,topSize:i?1:y/w,bottomSize:i?y/w:1,selectCellForElementProps:u}),(0,a.jsx)(c.s,{direction:"column",justify:"center",h:"100%",p:r?"0.5em":Q.xb,boxSizing:"border-box",sx:{...A,alignItems:r?A.alignItems:"stretch"},className:s.lR,w:"".concat((y+w)/2/w*100,"%"),minW:"3em",cursor:"text",children:o})]})});is.displayName="PyramidStep";let id=(0,o.memo)(e=>{let{width:t,height:n,topSize:r,bottomSize:l,alignment:o,selectCellForElementProps:d}=e,c=t*(1-r)/2,u=t*(1-l)/2,p="left"===o?"\n    M 0 0\n    L ".concat(t-2*c," 0\n    L ").concat(t-2*u," ").concat(n,"\n    L 0 ").concat(n,"\n    L 0 0 Z"):"right"===o?"\n    M ".concat(2*c," 0\n    L ").concat(t," 0\n    L ").concat(t," ").concat(n,"\n    L ").concat(2*u," ").concat(n,"\n    L ").concat(2*c," 0 Z"):"\n    M ".concat(c," 0\n    L ").concat(t-c," 0\n    L ").concat(t-u," ").concat(n,"\n    L ").concat(u," ").concat(n,"\n    L ").concat(c," 0 Z");return(0,a.jsx)(i.a,{as:"svg",pos:"absolute",inset:"0",overflow:"visible",contentEditable:!1,"data-testid":"trapezoid-svg",w:"".concat(t,"px"),h:"".concat(n,"px"),...d,children:(0,a.jsx)(i.a,{as:"path",d:p,className:s.D6,...d})})});id.displayName="TrapezoidSVG";let ic=(e,t,n)=>n+t/e*(100-n),iu={...eG,checkEnabled:e=>{let{options:t,node:n}=e,a=n&&(0,eW.xe)(n,eU.q);return t.outsideText&&((null==a?void 0:a.every(e=>{var t,n;return!(null==e||null==(n=e.node)||null==(t=n.attrs)?void 0:t.image)}))||!0===t.numbered)}},ip=()=>({key:"pyramid",name:()=>l.Ru._({id:"MYceoI"}),icon:_.IJv,options:[a7,iu,B],cellOptions:[B,U],presetConfigurations:[{name:()=>l.Ru._({id:"Ud6L0K"}),options:{outsideText:!1}},{name:()=>l.Ru._({id:"q9tXj9"}),options:{numbered:!0,outsideText:!0}}],Wrapper:ir,Cell:il,addDirection:()=>"bottom",htmlTag:"pyramid",imageSlot:"optional",imageType:"icon",family:"steps"}),ih=(0,o.memo)(e=>(0,a.jsx)(il,{...e,isFunnel:!0}));ih.displayName="FunnelCell";let ig=()=>({...ip(),key:"funnel",name:()=>l.Ru._({id:"n6KuKd"}),icon:_.AKc,htmlTag:"funnel",Cell:ih,presetConfigurations:[{name:()=>l.Ru._({id:"rSrvFr"}),options:{outsideText:!1}},{name:()=>l.Ru._({id:"dXD9N4"}),options:{numbered:!0,outsideText:!0}}]}),im=(0,o.memo)(e=>{let{children:t,options:n,containerSize:i,onContextMenu:r,selectLayoutForElementProps:l}=e,o=(0,Z.yp)(n.horizontalAlign||"left"),{colorVars:s}=A(n);if(e1({containerSize:i,columnsNeeded:e.options.outsideText&&!e.scaleContentToFit?3:2}))return(0,a.jsx)(it,{...e,Step:ix});let d={...o,...n.outsideText?s:{}};return(0,a.jsx)(c.s,{direction:"column","data-selection-ring":!0,gap:"0.5em",sx:d,onContextMenu:r,...l,children:t})});im.displayName="StaircaseWrapper";let ix=(0,o.memo)(e=>{let{numCells:t,index:n,isOutside:i,isStacked:r,children:l,alignment:o,direction:d,selectCell:u,stepSx:p}=e,h={...(0,Z.yp)(o,d),alignItems:i?"center":"stretch",...p},g=i&&!r?50:100,m=g/100*ic(t,n+1,45*!i),x=r?void 0:i?{ms:"center"===o?"".concat((g-m)/2,"%"):void 0}:{maxW:"calc(".concat(a3," * ").concat(m/100,")")};return(0,a.jsx)(c.s,{py:i?"0.5em":Q.xb,px:Q.xb,sx:h,className:s.SA,w:"".concat(m,"%"),boxSizing:"border-box",...x,direction:"column",justify:"center",contentEditable:!i&&void 0,onClick:i?u:void 0,pos:"relative",children:l})});ix.displayName="StaircaseStep";let ib=(0,o.memo)(e=>{let t=e.layoutOptions.horizontalAlign;return(0,a.jsx)(il,{...e,Step:ix,isFunnel:!1,isStepped:!0,alignment:t})});ib.displayName="StaircaseCell";let iv=()=>({...ip(),key:"staircase",name:()=>l.Ru._({id:"CFVHFO"}),options:[...ip().options,{...eO,defaultValue:(0,Z.Ro)("left")}],presetConfigurations:[{name:()=>l.Ru._({id:"y9fkH/"}),options:{outsideText:!1}},{name:()=>l.Ru._({id:"nGMGDy"}),options:{numbered:!0,outsideText:!0}}],icon:_.UER,Wrapper:im,Cell:ib,htmlTag:"staircase",imageSlot:"optional",imageType:"icon",family:"steps"}),iy=()=>tR(),iw=()=>[tR(),nm(),tk(),tS(),np(),nb(),nk(),tF(),tV(),tK(),tz(),nM(),nO(),nR(),nB(),nw(),t0(),nr(),tJ(),nJ(),nt(),a5(),eJ(),eM(),eP(),nG(),n0(),nd(),n6(),aK(),aC(),aS(),a0(),aF(),aV(),iv(),n8(),ah(),ai(),ad(),ip(),ig(),th(),tg(),tp(),tm(),ty(),aL(),aN(),eV()],iC=()=>iw().reduce((e,t)=>(e[t.key]=t,e),{}),iA=e=>{if(!e)return iy();ij[e]&&(e=ij[e]);let t=iC()[e];return t||iy()},ij={textBoxes:"solidBoxes",bullets:"bigBullets"}},23201:(e,t,n)=>{"use strict";n.d(t,{OG:()=>p,VJ:()=>m,WP:()=>f,wS:()=>g});var a=n(67604),i=n(33627),r=n(23439),l=n(68450),o=n(35987),s=n(59426),d=n(15224),c=n(64635),u=n(88608);let p=e=>{try{let t=(0,u.R6)(),n=(0,a.A)(e),d=(0,i.A)(n,0);if((0,r.A)(n)||(0,l.A)(n))return(0,o.A)(d,new Date,{locale:t});return"".concat((0,s.A)(n,"PPp",{locale:t}))}catch(e){return console.error("[normalizeDate] Error normalizing date:",e),"date unknown"}},h=e=>null==e?void 0:e.reduce((e,t)=>!e||t.updatedTime>(null==e?void 0:e.updatedTime)?t:e,null),g=e=>{let t=h(e.replies);return t?e.updatedTime>(null==t?void 0:t.updatedTime)?e.updatedTime:t.updatedTime:e.updatedTime},m=(e,t)=>{let n=h(e.replies),a=h(t.replies),i=n?n.updatedTime:e.updatedTime,r=a?a.updatedTime:t.updatedTime;return i>r?-1:+(r>i)},x="createdTime",f=e=>{let{items:t,sortBy:n=x,latestTimeGetterFn:i}=e;return t.slice().sort((e,t)=>"function"==typeof n?n(e,t):(0,d.A)((0,a.A)(e[n]),(0,a.A)(t[n]))).reduce((e,t)=>{let n=i?(0,a.A)(i(t)):(0,a.A)(t[x]),l=new Date;return(0,r.A)(n)?e.today=e.today.concat(t):1>(0,c.A)(l,n)?e.thisWeek=e.thisWeek.concat(t):e.earlier=e.earlier.concat(t),e},{today:[],thisWeek:[],earlier:[]})}},23513:(e,t,n)=>{"use strict";n.d(t,{i:()=>u,n:()=>c});var a=n(15902),i=n(63867),r=n(62040);let l=(e,t,n)=>t&&i.nh.isSelectable(t)?i.nh.create(e,n):null,o=(e,t,n)=>t&&t.inlineContent?i.U3.create(e,n):null;function s(e,t,n){return e&&n?n:e&&t?t:!e&&t?t:!e&&n?n:null}function d(e,t){let{doc:n,pos:r,parent:d,nodeAfter:c,nodeBefore:u}=e;if(d.inlineContent)return i.U3.create(n,r);let p=t>0,h=s(p,o(n,u,r-1),o(n,c,r+1));if(h)return h;if(a.n.valid(e))return new a.n(e);if(d.type.spec.isolating){let t=s(p,l(n,u,r-((null==u?void 0:u.nodeSize)||0)),l(n,c,r));if(t)return t;if(0===d.childCount&&i.nh.isSelectable(d))return i.nh.create(n,e.before())}return null}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=d(e,t);if(n)return n;for(let n=e.depth-1;n>=0&&!e.node(n+1).type.spec.isolating;n--){let a=t<0?e.before(n+1):e.after(n+1),i=d(e.doc.resolve(a),t);if(i)return i}return null}let u=(e,t)=>{let n,a=e.steps.length-1,i=e.steps[a];return i instanceof r.Ln||i instanceof r.Wg?(e.mapping.maps[a].forEach((e,t,a,i)=>{null==n&&(n=i)}),null==n)?null:c(e.doc.resolve(n),t):null}},23624:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var a=n(6029);n(55729);class i{render(){var e,t,n;let i=this.component,r=this.props;("function"==typeof i&&i.prototype&&i.prototype.isReactComponent||"object"==typeof i&&(null==(n=i.$$typeof)?void 0:n.toString())==="Symbol(react.forward_ref)")&&(r.ref=e=>{this.ref=e}),this.reactElement=(0,a.jsx)(i,{...r}),this.updateWrapperEl&&this.updateWrapperEl(this.element,r),null==(t=this.editor)||null==(e=t.contentComponent)||e.setRenderer(this.id,this)}updateProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props={...this.props,...e},this.render()}destroy(){var e,t;null==(t=this.editor)||null==(e=t.contentComponent)||e.removeRenderer(this.id)}constructor(e,{editor:t,props:n={},as:a="div",className:i="",updateWrapperEl:r}){this.ref=null,this.id=Math.floor(0xffffffff*Math.random()).toString(),this.component=e,this.editor=t,this.props=n,this.updateWrapperEl=r,this.element=document.createElement(a),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.render()}}},23746:(e,t,n)=>{"use strict";n.d(t,{EB:()=>d,Gx:()=>a,Up:()=>o,uQ:()=>r,zQ:()=>i});let a="themed-clickable-box",i={transitionProperty:"transform",transitionDuration:"normal"},r={transform:"scale(1.03)",_before:{content:'""',position:"absolute",inset:0,borderRadius:"inherit",boxShadow:"inset 0 0 0 500px var(--expandable-hover-background)",pointerEvents:"none"}},l={border:"var(--shape-border-width) solid var(--neutral-border-color)",borderRadius:"var(--box-border-radius)",backgroundColor:"var(--clickable-background-color)",boxShadow:"var(--clickable-shadow)",backdropFilter:"var(--card-backdrop-filter)","@media print":{boxShadow:"none"}},o={_hover:{transform:"scale(1.1)"},color:"var(--link-color)",height:"auto",padding:"0.7em",paddingY:"0.2em",minW:"2.5em",position:"relative"},s=(e,t)=>({...i,...l,_hover:t?void 0:r,"@media print":{boxShadow:"none"}}),d=(e,t)=>({[".".concat(a)]:s(e,t)})},23907:(e,t,n)=>{"use strict";n.d(t,{z:()=>W});var a=n(6029),i=n(26385),r=n(61204),l=n(16936),o=n(99430),s=n(96500),d=n(40452),c=n(49611),u=n(99492),p=n(48621),h=n(91106),g=n(19564),m=n(77650),x=n(12180),f=n(68301),b=n(74471),v=n(66082),y=n(58959),w=n(48810),C=n(29810),A=n(26420);let j=e=>{let{label:t,control:n,icon:i}=e;return(0,a.jsxs)(y.z,{spacing:4,children:[i,(0,a.jsx)(w.E,{children:t}),(0,a.jsx)(C.h,{}),(0,a.jsx)(A.a,{children:n})]})};function k(e,t){return function(n,a,i){var r;return t({chartAttributes:{...i,[e]:{...null!=(r=i[e])?r:{},[n]:a}}})}}let S=e=>{var t;let{chartType:n,attributes:i,updateAttributes:r}=e,l=i.chartAttributes||{},s=l[n],d=k(n,r);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(j,{label:m.Ru._({id:"Y7a6MU"}),control:(0,a.jsx)(o.d,{isChecked:null==(t=null==s?void 0:s.axisPullToZero)||t,onChange:e=>d("axisPullToZero",e.target.checked,l)})})})},I=e=>{let{chartType:t="bar",...n}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(S,{chartType:t,...n})})};var E=n(68917),R=n(78140),L=n(36999),D=n(41283),M=n(37930),_=n(48478);let T=e=>{var t;let{attributes:n,updateAttributes:i}=e,r=n.chartAttributes||{},l=r.pie||{},o=k("pie",i),s=null!=(t=l.legendPosition)?t:"bottom",d={top:m.Ru._({id:"WWy8TN"}),right:m.Ru._({id:"nOPbWJ"}),bottom:m.Ru._({id:"zsiX7I"}),left:m.Ru._({id:"UlKSMd"})},u=e=>void 0===d[e]?"bottom":e;return(0,a.jsx)(j,{label:m.Ru._({id:"G4H8LE"}),control:(0,a.jsxs)(R.W,{isLazy:!0,children:[(0,a.jsx)(L.I,{as:c.$,variant:"plain",size:"sm",w:40,boxShadow:"none",textAlign:"left",rightIcon:(0,a.jsx)(E.D,{}),sx:{"span:first-of-type":{overflow:"clip",textOverflow:"ellipsis"}},children:d[s]}),(0,a.jsx)(D.c,{zIndex:"modalPopover",children:(0,a.jsx)(M.i,{value:s,type:"radio",onChange:e=>{o("legendPosition",u(Array.isArray(e)?e[0]:e),r)},children:Object.entries(d).map(e=>{let[t,n]=e;return(0,a.jsx)(_.k,{value:t,children:(0,a.jsx)(y.z,{children:(0,a.jsx)(w.E,{children:n})})},t)})})})]})})},N={pie:T,donut:T,line:e=>{let{...t}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(S,{chartType:"line",...t})})},bar:I,"horizontal-bar":e=>(0,a.jsx)(I,{...e,chartType:"horizontal-bar"})};var z=n(55729),P=n(33612),O=n.n(P),F=n(94297),H=n(14300);let B=e=>{let{accentColor:t,selected:n,onChange:i,steps:r=5}=e,l=Array(r).fill(0).map((e,t)=>t),o=(0,z.useMemo)(()=>Object.fromEntries(Object.entries(x.fA).map(e=>{let[n,{label:a}]=e;return[n,{label:a,scale:(0,F.M)(t,l,n)}]})),[t,r]);n&&!o[n]&&(n=void 0);let s=m.Ru._({id:"ovBPCi"});return(0,a.jsx)(j,{icon:(0,a.jsx)(p.g,{icon:u.wIs}),label:m.Ru._({id:"tvmuQ0"}),control:(0,a.jsxs)(R.W,{isLazy:!0,children:[(0,a.jsx)(L.I,{as:c.$,variant:"plain",size:"sm",w:40,boxShadow:"none",textAlign:"left",rightIcon:(0,a.jsx)(E.D,{}),sx:{"span:first-of-type":{overflow:"clip",textOverflow:"ellipsis"}},children:n?o[n].label():s}),(0,a.jsx)(D.c,{zIndex:"modalPopover",children:(0,a.jsx)(M.i,{value:n||"default",type:"radio",onChange:e=>{i("default"===e?void 0:e)},children:Object.entries({default:{...o[x.gb],label:()=>s},...o}).map(e=>{let[i,{label:r,scale:o}]=e;return 1.5>[...o.values()].map(e=>O().readability(e,t)).reduce((e,t)=>Math.max(e,t),0)&&i!==n?null:(0,a.jsx)(_.k,{value:i,children:(0,a.jsxs)(y.z,{children:[(0,a.jsx)(w.E,{children:r()}),(0,a.jsx)(C.h,{}),(0,a.jsx)(V,{scale:o,data:l})]})},i)})})})]})})},V=e=>{let{scale:t,data:n}=e;return(0,a.jsx)(y.z,{spacing:1,children:n.map(e=>(0,a.jsx)(H.V,{color:t.get(e),size:H.E.small,tooltipIsDisabled:!0},e))})},W=e=>{let{attributes:t,updateAttributes:n,accentColor:y,setEditing:w,editor:C}=e,A=N[t.chartType],{data:k}=t,S=(0,f.u)("chartInlineLabels");return(0,a.jsxs)(i.B,{spacing:0,children:[(0,a.jsxs)(i.B,{spacing:4,p:4,children:[(0,a.jsx)(r.e,{mb:2,children:Object.entries(x.XD).map(e=>{let[i,{icon:r,selectedIcon:o,label:s}]=e,d=t.chartType===i;return(0,a.jsx)(h.Tz,{placement:"top",label:s(),children:(0,a.jsx)(l.K,{"aria-label":s(),flex:1,variant:"plain",size:"md",icon:d?o:r,boxShadow:"none",background:d?"trueblue.50":"white",color:d?"trueblue.400":"gray.600",onClick:()=>n({chartType:i})})},"".concat(s()))})}),(0,a.jsx)(B,{accentColor:y,selected:t.colorScheme,steps:5,onChange:e=>{n({colorScheme:e})}}),(0,a.jsx)(j,{icon:(0,a.jsx)(p.g,{icon:u.n2$}),label:m.Ru._({id:"sgzcYD"}),control:(0,a.jsx)(o.d,{isChecked:!t.hideLabels,onChange:e=>n({hideLabels:!e.target.checked})})}),S&&(0,a.jsx)(j,{icon:(0,a.jsx)(p.g,{icon:u.jon}),label:m.Ru._({id:"hw0byi"}),control:(0,a.jsx)(o.d,{isChecked:t.showInlineLabels,onChange:e=>n({showInlineLabels:e.target.checked})})}),C&&(0,a.jsx)(j,{icon:(0,a.jsx)(p.g,{icon:u.ecg}),label:m.Ru._({id:"0j+RGO"}),control:(0,a.jsx)(r.e,{dir:"ltr",spacing:1,size:"sm",children:v.gj.map(e=>{let{name:t,icon:n,checkActive:i,apply:r}=e;if(i&&r)return(0,a.jsx)(b.I,{label:t(),icon:n,onClick:()=>{r(C)},isActive:i(C),my:0},t())})})}),A&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.c,{my:3}),(0,a.jsx)(A,{...e})]})]}),w&&(0,a.jsx)(d.s,{px:5,py:3,bg:"gray.50",alignItems:"center",justify:"center",children:(0,a.jsx)(c.$,{variant:"link",size:"sm",colorScheme:"gray",my:0,leftIcon:(0,a.jsx)(p.g,{icon:u.MT7}),onClick:()=>w(!0),children:k?(0,a.jsx)(g.x6,{id:"BhcOHV"}):(0,a.jsx)(g.x6,{id:"UHoZ5e"})})})]})}},24142:(e,t,n)=>{"use strict";n.d(t,{y:()=>I});var a=n(6029),i=n(27229),r=n(83638),l=n(40452),o=n(94740),s=n(66199),d=n(49611),c=n(58959),u=n(33787),p=n(26420),h=n(18078),g=n(25311),m=n(57405),x=n(23293),f=n(83743),b=n(36218),v=n(48810),y=n(99492),w=n(48621),C=n(55729),A=n(15342),j=n(43634),k=n(13080),S=n(44798);let I=(0,C.memo)(e=>{var t;let{stylePreset:n,setStylePreset:v,stylePrompt:I,setStylePrompt:R,presetOptions:L,isDisabled:D,contextualTheme:M,getStylePromptFromPreset:_,getThemeNameFromStylePrompt:T,getPresetDisplayMetadata:N,onKeyDown:z}=e,{isOpen:P,onToggle:O,onClose:F}=(0,i.j)(),H=(0,C.useMemo)(()=>k.xi.find(e=>e.stylePreset===n),[n]),[B,V]=(0,C.useState)(H);(0,C.useEffect)(()=>{V(H)},[H]);let W=(0,A.GV)(j.SJ),U=M||W,G=null==U||null==(t=U.config)?void 0:t.stylePrompt,K=(0,C.useCallback)(e=>{R(e.target.value),n!==k.nv.Custom&&(v(k.nv.Custom),V(k.xi.find(e=>e.stylePreset===k.nv.Custom)))},[R,v,n]),Q=(0,C.useCallback)(e=>{let t=N(e);t&&(R(_(e)),v(e),V(t),F())},[N,_,F,v,R]),Z=(0,C.useMemo)(()=>{if(n===k.nv.Theme)return T(I)},[T,n,I]),{scrollContainerRef:q}=(0,S.ms)(n||"",P);return(0,a.jsx)(r.MJ,{children:(0,a.jsxs)(l.s,{direction:"column",gap:2,children:[(0,a.jsxs)(o.A,{placement:"bottom-start",matchWidth:!0,isOpen:P,onClose:F,closeOnBlur:!0,isLazy:!0,children:[(0,a.jsx)(s.W,{children:(0,a.jsx)(d.$,{width:"100%",type:"button",boxShadow:"none",onClick:O,rightIcon:(0,a.jsx)(w.g,{icon:y.Jt$}),isDisabled:D,justifyContent:"space-between",size:"sm",children:(0,a.jsxs)(c.z,{spacing:2,children:[(null==B?void 0:B.icon)?(0,a.jsx)(w.g,{icon:B.icon}):(0,a.jsx)(u._,{width:"24px",height:"24px",src:null==B?void 0:B.imageUrl,borderRadius:"md"}),(0,a.jsx)(p.a,{flex:1,children:"".concat(null==B?void 0:B.name()).concat(Z?" (".concat(Z,")"):"")})]})})}),(0,a.jsx)(h.h,{width:"auto",maxHeight:"max(350px, 40vh)",overflowY:"auto",ref:q,children:(0,a.jsx)(g.e,{children:(0,a.jsx)(m.T,{spacing:4,children:L.map(e=>(0,a.jsxs)(m.T,{alignItems:"start",width:"100%",spacing:0,children:[(0,a.jsx)(x.D,{size:"sm",mb:2,children:e.title()}),(0,a.jsx)(f.r,{columns:{base:3,"2xl":4},spacing:2,children:e.presets.filter(e=>!("Theme"===e.stylePreset&&!G)).map(e=>(0,a.jsx)(p.a,{"data-popover-scroll-id":e.stylePreset,children:(0,a.jsx)(E,{preset:e,onClick:()=>Q(e.stylePreset),isSelected:e.stylePreset===n},e.stylePreset)},e.stylePreset))})]},e.title()))})})})]}),n!==k.nv.None&&(0,a.jsx)(b.T,{onKeyDown:z,isDisabled:D,height:"80px",value:I,onChange:K,resize:"none"})]})})});I.displayName="StylePresetMenu";let E=e=>{let{preset:t,onClick:n,isSelected:i}=e;return(0,a.jsxs)(m.T,{_hover:{cursor:i?"default":"pointer",borderColor:i?"trueblue.200":"gray.200",backgroundColor:i?"trueblue.50":"gray.50"},onClick:n,borderRadius:"md",spacing:1,p:2,border:"1px",width:"100%",color:i?"trueblue.500":"gray.800",bgColor:i?"trueblue.50":"transparent",borderColor:i?"trueblue.200":"transparent",children:[t.icon?(0,a.jsx)(p.a,{width:{base:"120px","2xl":"123.5px"},height:"35px",display:"flex",justifyContent:"center",alignItems:"center",children:(0,a.jsx)(p.a,{width:"100%",height:"100%",bgColor:"transparent",rounded:"md",display:"flex",alignItems:"center",justifyContent:"center",children:(0,a.jsx)(w.g,{icon:t.icon})})}):(0,a.jsx)(u._,{src:t.imageUrl,width:"100%",height:"auto",borderRadius:"md"}),(0,a.jsx)(v.E,{color:i?"trueblue.500":"gray.800",fontSize:"sm",children:t.name()})]})}},24351:(e,t,n)=>{"use strict";n.d(t,{p:()=>j});var a=n(9329),i=n(6029),r=n(26420),l=n(33787),o=n(34807),s=n(57405),d=n(23293),c=n(48810),u=n(58959),p=n(49611),h=n(83004),g=n(19564),m=n(55729);let x={src:"/_next/static/media/balloon.0f0058ec.png"},f={src:"/_next/static/media/cloud.bb46cfda.png"};function b(){let e=(0,a._)(["\n  0% { transform: translateY(0); }\n  50% { transform: translateY(-5%); }\n  100% { transform: translateY(0); }\n"]);return b=function(){return e},e}function v(){let e=(0,a._)(["\n  0% { transform: translateY(0%) translateX(0%); }\n  25% { transform: translateY(-7%) translateX(5%); }\n  50% { transform: translateY(-3%) translateX(-5%); }\n  75% { transform: translateY(5%) translateX(-3%); }\n  100% { transform: translateY(0%) translateX(0%); }\n"]);return v=function(){return e},e}let y=(0,h.i7)(b()),w=(0,h.i7)(v()),C=e=>{let{containerSize:t}=e;return(0,i.jsxs)(r.a,{position:"relative",overflow:"visible",w:t,h:t,isolation:"isolate",children:[(0,i.jsx)(l._,{position:"absolute",top:"22%",left:0,width:"50%",src:f.src,alt:"Upper cloud",animation:"".concat(w," 12s ease-in-out infinite"),pointerEvents:"none",zIndex:2}),(0,i.jsx)(l._,{position:"absolute",inset:0,margin:"auto",height:"80%",src:x.src,alt:"Balloon",animation:"".concat(y," 5s ease-in-out infinite"),pointerEvents:"none",zIndex:1}),(0,i.jsx)(l._,{position:"absolute",bottom:0,right:0,width:"80%",src:f.src,alt:"Lower cloud",animation:"".concat(w," 16s ease-in-out 1s infinite"),pointerEvents:"none",zIndex:0})]})},A={xs:{imageWidth:"100px",headingSize:"sm",textSize:"sm",buttonSize:"sm",spacing:2},sm:{imageWidth:"140px",headingSize:"md",textSize:"sm",buttonSize:"sm",spacing:2},md:{imageWidth:"180px",headingSize:"lg",textSize:"md",buttonSize:"md",spacing:4},lg:{imageWidth:"256px",headingSize:"xl",textSize:"md",buttonSize:"md",spacing:6}},j=(0,m.memo)(e=>{let{children:t,title:n=(0,i.jsx)(g.x6,{id:"WkU8TI"}),description:a,size:r,primaryActionLabel:l,onPrimaryAction:h,secondaryActionLabel:m,onSecondaryAction:x,primaryButtonProps:f,secondaryButtonProps:b}=e,v=(0,o.A)({base:"md",lg:"lg"})||"lg",y=A[r||v];return(0,i.jsxs)(s.T,{spacing:y.spacing,children:[(0,i.jsx)(C,{containerSize:y.imageWidth}),(0,i.jsxs)(s.T,{spacing:2,children:[(0,i.jsx)(d.D,{variant:"brand",textAlign:"center",size:y.headingSize,css:{textWrap:"balance"},children:n}),(0,i.jsx)(c.E,{fontSize:y.textSize,textAlign:"center",children:a})]}),t,(0,i.jsxs)(u.z,{wrap:"wrap",justifyContent:"center",children:[l&&(0,i.jsx)(p.$,{onClick:h,size:y.buttonSize,variant:m?"solid":"plain",...f,children:l}),m&&(0,i.jsx)(p.$,{onClick:x,size:y.buttonSize,...b,children:m})]})]})})},24392:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});let a=n(91929).B.extend({addKeyboardShortcuts(){return{"Shift-Enter":()=>this.editor.commands.setHardBreak()}}})},24496:(e,t,n)=>{"use strict";n.d(t,{EB:()=>u,Xh:()=>c,gG:()=>h,lV:()=>s});var a=n(91938),i=n(98449),r=n(8205);let l=null,o=null;var s=function(e){return e.LOGIN_COMPLETE="loginComplete",e.LOGIN_FAILURE="loginFailure",e.SIGNUP_COMPLETE="signupComplete",e}({});let d=e=>{var t,n,a,r;let{event:l,errorCallback:o,redirectTo:s,doneCallback:d}=e,{data:c}=l;if("loginComplete"===c.type&&(0,i.v)({data:null==c||null==(t=c.payload)?void 0:t.data,redirectTo:s,doneCallback:d,shouldClientSideRedirect:!0,googleMethod:"POPUP"}),"signupComplete"===c.type&&(0,i.W)({data:null==c||null==(n=c.payload)?void 0:n.data,redirectTo:s,doneCallback:d,shouldClientSideRedirect:!0,googleMethod:"POPUP"}),"loginFailure"===c.type){let e=null==l||null==(r=l.data)||null==(a=r.payload)?void 0:a.code;if(!o)return void console.error("No error callback defined");if(!e)return void console.error("No code defined");o(e)}};var c=function(e){return e.ACCEPT_DOC_INVITATION="accept-doc-invitation",e.ACCEPT_WORKSPACE_INVITATION="accept-workspace-invitation",e.DOC_ACCESS_LINK="doc-access-link",e.JOIN_WITH_CODE="join-with-code",e.DEFAULT_LOGIN="login",e.SIGNUP="signup",e}({});let u={"accept-doc-invitation":"docInvitation","accept-workspace-invitation":"workspaceInvitation","doc-access-link":"docAccessLink","join-with-code":"joinLink",login:"signup",signup:"signup"},p=(e,t)=>{switch(e){case"join-with-code":{let{workspaceId:e,inviteCode:n,referredByUserId:i}=t,r=new URL("".concat(a.$.API_HOST||"https://gamma.app","/organizations/").concat(e,"/join/").concat(n));return i&&r.searchParams.set("referredByUserId",i),r.toString()}case"accept-doc-invitation":{let{docId:e,email:n,inviteCode:i}=t;return"".concat(a.$.API_HOST,"/invitations/docs/").concat(e,"/?inviteCode=").concat(i,"&email=").concat(n)}case"accept-workspace-invitation":{let{workspaceId:e,email:n,inviteCode:i}=t;return"".concat(a.$.API_HOST,"/invitations/workspaces/").concat(e,"?inviteCode=").concat(i,"&email=").concat(n)}case"doc-access-link":{let{docId:e,shareToken:n}=t;return"".concat(a.$.API_HOST,"/access-links/docs/").concat(e,"/?token=").concat(n)}case"signup":{let{inviteCode:e,referredByUserId:n,partnerStackClickId:i,partnerStackPartnerId:r}=t,l=new URL("".concat(a.$.API_HOST||"https://gamma.app","/signup"));return e&&l.searchParams.set("inviteCode",e),n&&l.searchParams.set("referredByUserId",n),i&&l.searchParams.set("partnerStackClickId",i),r&&l.searchParams.set("partnerStackPartnerId",r),l.toString()}default:return"".concat(a.$.API_HOST,"/login")}},h=e=>{let{type:t,params:n,errorCallback:a,redirectTo:i,doneCallback:s}=e,c=p(t,n),u="toolbar=no, menubar=no, width=600, height=700, top=100, left=100";null===l||l.closed?l=window.open(c,t,u):o!==c?null!==(l=window.open(c,t,u))&&l.focus():l.focus(),(0,r.EM)().addEventListener("message",e=>{d({event:e,errorCallback:a,redirectTo:i,doneCallback:s})}),o=c}},24573:(e,t,n)=>{"use strict";n.d(t,{xT:()=>eu,Vb:()=>b,X2:()=>ex,q8:()=>x.q8});var a=n(6029),i=n(78686),r=n(72470),l=n(77979),o=n(38036),s=n(48810),d=n(91106),c=n(77650),u=n(55729),p=n(87827),h=n(15342),g=n(95889),m=n(29608),x=n(64310);let f=()=>c.Ru._({id:"NiZZRh"}),b=e=>{let{isDisabled:t}=e,n=(0,h.jL)(),c=(0,p.n)(f),b=(0,g.st)(),v=(0,u.useCallback)(()=>{b&&b.track(g.VV.SEARCH_OPENED,{source:"faux_search_input_click"}),n((0,x.q8)({isOpen:!0}))},[n,b]),y=(0,u.useCallback)(e=>{b&&b.track(g.VV.SEARCH_OPENED,{source:"faux_search_input_typing",initial_query:e.target.value}),n((0,x.q8)({isOpen:!0,initialQuery:e.target.value}))},[n,b]);return(0,a.jsxs)(r.M,{children:[(0,a.jsx)(l.W,{pointerEvents:"none",children:(0,a.jsx)(i.W,{color:"gray.300"})}),(0,a.jsx)(o.p,{placeholder:c,_placeholder:{opacity:1},onChange:y,onClick:v,value:"",isDisabled:t}),!(0,m.Xb)()&&(0,a.jsx)(l.t,{pointerEvents:"none",children:(0,a.jsx)(s.E,{marginInlineEnd:6,fontWeight:"600",color:"gray.400",fontSize:"sm",bg:"gray.50",px:1,borderRadius:"md",children:(0,d.lp)("Mod+K")})})]})};var v=n(67909),y=n(36071),w=n(54731),C=n(40691),A=n(74158),j=n(46091),k=n(45143),S=n(70315),I=n(3247),E=n(82927);let R=(0,S.Ay)("mod+K"),L=e=>{let{isEnabledFn:t=()=>!0,isOpen:n=!1}=e,{user:a}=(0,E.ur)(),i=(0,A.wA)(),r=(0,g.st)();(0,u.useEffect)(()=>{if(!(0,m.Xb)()&&a)return I.WC.on("keydown","GLOBAL_SEARCH",e=>!!R(e)&&!!t()&&(e.preventDefault(),r&&!n&&r.track(g.VV.SEARCH_OPENED,{source:"keyboard_shortcut"}),i((0,x.q8)({isOpen:!n})),!0))},[i,t,a,n,r])};var D=n(40452),M=n(3674),_=n(19564),T=n(33750),N=n.n(T),z=n(88586),P=n(75748),O=n(11403),F=n(6807),H=n(65148),B=n(3276);let V=e=>{let{onChange:t,query:n,isDisabled:s,isLoading:d,isFocused:p}=e,h=(0,u.useRef)(null);return(0,u.useEffect)(()=>{h.current&&p&&(h.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),h.current.focus())},[h,p]),(0,a.jsxs)(r.M,{size:"lg",variant:"unstyled",sx:{input:{paddingInlineStart:12}},children:[(0,a.jsx)(l.W,{p:4,pointerEvents:"none",color:"gray.300",children:(0,a.jsx)(i.W,{})}),(0,a.jsx)(o.p,{isDisabled:s,placeholder:c.Ru._({id:"NiZZRh"}),p:3,border:"none",outline:"none",shadow:"none",value:n,onChange:t,_placeholder:{opacity:1,color:"gray.300"},ref:h}),(0,a.jsx)(l.t,{p:4,pointerEvents:"none",color:"gray.500",opacity:+!!d,transitionProperty:"common",transitionDuration:"normal",marginInlineEnd:8*!!(0,m.Xb)(),children:(0,a.jsx)(B.y,{size:"sm"})})]})};var W=n(72104),U=n(17496),G=n(96500),K=n(58959),Q=n(26476),Z=n(29810),q=n(16936);let J=e=>{let{onClose:t,showTip:n}=e;return(0,a.jsxs)(U.S,{in:n,children:[(0,a.jsx)(G.c,{}),(0,a.jsxs)(K.z,{p:4,px:6,children:[(0,a.jsxs)(s.E,{fontSize:"sm",color:"gray.600",children:[(0,a.jsxs)("span",{role:"img","aria-label":"Wave",children:["\uD83D\uDC4B"," "]}),(0,a.jsx)(_.x6,{id:"3SXj0j",values:{0:(0,d.lp)("Mod+K")},components:{0:(0,a.jsx)(Q.u,{})}})]}),(0,a.jsx)(Z.h,{}),(0,a.jsx)(q.K,{"aria-label":c.Ru._({id:"yz7wBu"}),icon:(0,a.jsx)(W.U,{boxSize:2.5}),isRound:!0,size:"xs",variant:"ghost",onClick:t})]})]})};var $=n(26385),Y=n(36062),X=n(26420),ee=n(48621),et=n(24729),en=n(70006);let ea=e=>{let{result:t,isActive:n,focusedItemEl:i,onMouseMove:r,onClick:l}=e,{name:o,id:u,slug:p,isMember:h,memberCount:g,members:m}=t;return(0,a.jsx)(Y.Q,{children:(0,a.jsxs)(K.z,{ref:n?i:null,className:"search-result",wordBreak:"break-word",onMouseMove:r,p:3,align:"flex-start",alignItems:"center",borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",role:"group",bg:n?"gray.50":"transparent",cursor:"pointer",color:"gray.700",borderWidth:"1px",borderColor:n?"gray.200":"transparent",spacing:{base:0,sm:4},onClick:l,children:[(0,a.jsx)(X.a,{p:2,children:(0,a.jsx)(ee.g,{icon:et.$Q})}),(0,a.jsx)($.B,{spacing:2,flex:"1",children:(0,a.jsxs)(Y.r,{href:(0,en.gU)({id:u,slug:p}),children:[(0,a.jsx)(s.E,{children:o}),(0,a.jsx)(s.E,{fontSize:"sm",color:"gray.400",children:h?(0,a.jsx)(_.x6,{id:"tWPlLK",values:{0:g||0}}):(0,a.jsx)(_.x6,{id:"pkIIls",values:{0:g||0}})})]})}),(0,a.jsx)(Z.h,{}),(0,a.jsx)(d.KZ,{overflowTooltipLabel:c.Ru._({id:"25VyZX"}),size:"xs",avatars:m||[],max:3})]})})};var ei=n(33787),er=n(16842),el=n(97139),eo=n.n(el),es=n(74892),ed=n(68301),ec=n(23201);let eu=e=>{let{result:t,isActive:n,focusedItemEl:i,onMouseMove:r,onClick:l,context:o="globalSearch"}=e,c=(0,ed.u)("screenshotsEnabled"),{title:u,text:p,previewUrl:h,editors:g,editedTime:x,id:f,createdBy:b}=t,v="mentionsList"===o;return(0,a.jsx)(Y.Q,{children:(0,a.jsxs)(K.z,{ref:n?i:null,className:"search-result",wordBreak:"break-word",onMouseMove:r,p:v?0:[2,3],py:v?.5:void 0,align:"flex-start",borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",role:"group",bg:n?"gray.50":"transparent",cursor:"pointer",color:"gray.700",borderWidth:"1px",borderColor:n?"gray.200":"transparent",spacing:{base:0,sm:4},sx:{em:{bg:"var(--chakra-colors-trueblue-100)",fontStyle:"normal",borderRadius:"base",display:"inline-block",padding:"0px 2px",margin:"0px -2px"}},onClick:l,children:[(0,a.jsx)(ei._,{display:{base:"none",xs:"block"},h:"100%",src:c?h:es.A.src,w:{base:"0px",sm:"25%"},border:"1px solid",borderColor:"gray.200",borderRadius:"md",shadow:"lg",fallbackSrc:es.A.src}),(0,a.jsxs)($.B,{spacing:(0,m.Xb)()?1:2,flex:"1",children:[(0,a.jsxs)(Y.r,{href:"globalSearch"===o?(0,en.LN)({docId:f}):void 0,children:[(0,a.jsx)(s.E,{fontSize:"md",fontWeight:"600",noOfLines:v?1:2,dangerouslySetInnerHTML:{__html:u?eo().sanitize(u):""}}),(null==b?void 0:b.displayName)&&(0,a.jsx)(s.E,{fontSize:"xs",color:"gray.600",fontWeight:"500",children:(0,a.jsx)(_.x6,{id:"ab98Hp",values:{0:null==b?void 0:b.displayName}})})]}),(0,a.jsx)(s.E,{fontSize:v?"xs":"sm",noOfLines:2,whiteSpace:"normal",wordBreak:"break-word",dangerouslySetInnerHTML:{__html:p?eo().sanitize(p):""}}),(0,a.jsxs)(K.z,{children:[g&&g.length>0&&(0,a.jsx)(er.Z,{size:"xs",fontSize:"xs",max:5,children:null==g?void 0:g.map(e=>{let{user:t}=e,{id:n,displayName:i,profileImageUrl:r}=t;return(0,a.jsx)(d.Vc,{label:i,src:r,shadow:"base"},n)})}),x&&(0,a.jsx)(s.E,{fontSize:"xs",color:"gray.600",fontWeight:"500",children:(0,a.jsx)(_.x6,{id:"5cC8f2",values:{0:(0,ec.OG)(x)}})})]})]})]})})},ep=e=>{let{results:t,focusedIndex:n,focusedItemEl:i,onMouseMove:r}=e,l=(0,h.GV)(x.PC),o=(0,g.st)(),s=(0,u.useRef)(!1),d=(0,u.useRef)(!1),c=(0,u.useCallback)(e=>{o&&(s.current||(s.current=!0,o.track(g.VV.SEARCH_RESULT_SCROLLED,{result_count:t.length})),e.target instanceof HTMLDivElement&&e.target.scrollTop+e.target.clientHeight>=e.target.scrollHeight-100&&!d.current&&(d.current=!0,o.track(g.VV.SEARCH_RESULT_SCROLLED_BOTTOM,{result_count:t.length})))},[o,t.length]),p=(0,O.lW)((0,u.useCallback)((e,n)=>{o&&o.track(g.VV.SEARCH_RESULT_HOVERED,{result_type:e.__typename,result_id:e.id,result_index:n,result_count:t.length})},[o,t.length]),600),m=(0,u.useCallback)((e,n)=>{o&&o.track(g.VV.SEARCH_RESULT_SELECTED,{result_type:e.__typename,result_id:e.id,result_index:n,result_count:t.length})},[o,t.length]);return(0,a.jsx)($.B,{spacing:1,px:4,h:["lg","xl"],maxHeight:["lg","xl"],pb:4,overflow:"auto","data-testid":"search-results-wrapper",onScroll:c,children:t.map((e,t)=>"DocResult"===e.__typename||"PseudoDocResult"===e.__typename?(0,a.jsx)(eu,{result:e,isActive:n===t,focusedItemEl:i,onMouseMove:()=>{r(t),p(e,t)},onClick:()=>{m(e,t),null==l||l()}},e.id):"Channel"===e.__typename?(0,a.jsx)(ea,{result:e,isActive:n===t,focusedItemEl:i,onMouseMove:()=>{r(t),p(e,t)},onClick:()=>{m(e,t),null==l||l()}},e.id):null)})},eh=(0,S.Ay)("mod+K"),eg=e=>{let{query:t,isOpen:n,setResults:a,currentWorkspaceId:i}=e,{data:r}=(0,z.b_w)({variables:{first:5,workspaceId:i,archived:!1,sortBy:{field:z.vY2.LastViewed,direction:z.UEL.Desc}},fetchPolicy:"cache-first",skip:!n});(0,u.useEffect)(()=>{!(t.length>0)&&n&&a(((null==r?void 0:r.docs.edges.map(e=>e.node))||[]).slice(0,5).map(e=>{let{id:t,title:n,archived:a,titleCard:i,createdBy:r,editors:l,createdTime:o,editedTime:s,updatedTime:d}=e;return{id:t,title:n,archived:a,previewUrl:null==i?void 0:i.previewUrl,createdBy:r,editors:l,text:"",createdTime:o,editedTime:s,updatedTime:d,__typename:"PseudoDocResult"}}))},[n,t.length,null==r?void 0:r.docs.edges,a])},em=()=>{let{user:e,currentWorkspace:t}=(0,E.ur)(),{isConnected:n}=(0,z.utY)(),i=(0,g.st)(),r=(0,h.GV)(x.MQ),[l,o]=(0,u.useState)([]),[s,c]=(0,u.useState)(!0),[p,f]=(0,u.useState)(-1),[b,v]=(0,F.M)(H.E.hasDismissedSearchTip,!1),y=(0,u.useRef)(null),[w,C]=(0,u.useState)(!1),A=(0,h.GV)(x.xo),[j,k]=(0,u.useState)(()=>A||""),[S,{data:R,loading:L}]=(0,z.eXh)();eg({query:j,isOpen:r,setResults:o,currentWorkspaceId:null==t?void 0:t.id});let T=(0,O.lW)((0,u.useCallback)(function(){for(var e,t,n,a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return i&&i.track(g.VV.SEARCH_QUERY_TYPED,{query:null!=(n=null==(t=r[0])||null==(e=t.variables)?void 0:e.query)?n:""}),S(...r)},[i,S]),600),B=(0,O.lW)((0,u.useCallback)(e=>{if(i&&l.length>0){let t="up"===e?g.VV.SEARCH_RESULT_ARROW_UP:g.VV.SEARCH_RESULT_ARROW_DOWN;i.track(t,{query:j,result_count:l.length})}},[i,l.length,j]),600);(0,u.useEffect)(()=>{0!=A.length&&k(A)},[A]);let W=(0,u.useCallback)(function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{target:"_self"},{target:n}=t||{},a=(null==y||null==(e=y.current)?void 0:e.querySelector("[href]")).href;a||console.error("[SearchModal] No href found"),window.open(a,n)},[y]),U=(0,u.useRef)({focusedIndex:p,results:l,goToItem:W,searchInputFocused:s});U.current={focusedIndex:p,results:l,goToItem:W,searchInputFocused:s},(0,u.useEffect)(()=>{if(r)return I.WC.on("keydown","GLOBAL_SEARCH",e=>{let{key:t}=e;if(eh(e))return!0;let n=U.current;switch(t){case"Escape":return e.preventDefault(),e.stopPropagation(),!0;case"Tab":return e.preventDefault(),n.searchInputFocused?f(N()(n.focusedIndex-1,0,n.results.length-1)):f(-1),c(!n.searchInputFocused),!0;case"Enter":if(e.preventDefault(),n.searchInputFocused)T.flush();else if(n.results.length>0){if(i&&n.focusedIndex>=0){let t=n.results[n.focusedIndex];i.track(g.VV.SEARCH_RESULT_SELECTED,{query:j,result_type:null==t?void 0:t.__typename,result_id:null==t?void 0:t.id,result_index:n.focusedIndex,result_count:n.results.length,target:e.metaKey||e.ctrlKey?"_blank":"_self"})}n.goToItem({target:e.metaKey||e.ctrlKey?"_blank":"_self"})}return!0;case"ArrowUp":return e.preventDefault(),n.focusedIndex<0?(c(!1),f(n.results.length-1)):0==n.focusedIndex?(c(!0),f(-1)):(c(!1),f(N()(n.focusedIndex-1,-1,n.results.length-1))),C(!0),B("up"),!0;case"ArrowDown":return e.preventDefault(),n.focusedIndex<0?(c(!1),f(0)):n.focusedIndex>=n.results.length-1?(c(!0),f(-1)):(c(!1),f(N()(n.focusedIndex+1,-1,n.results.length-1))),C(!0),B("down"),!0;default:return c(!0),f(-1),!1}})},[p,T,r,s,B,i,j]),(0,u.useEffect)(()=>{if(!(null==R?void 0:R.search))return;let e=null==R?void 0:R.search.filter(e=>void 0!==e&&("DocResult"===e.__typename||"Channel"===e.__typename));o(e),i&&i.track(g.VV.SEARCH_RESULT_LOADED,{query:j,result_count:e.length})},[null==R?void 0:R.search,i,j]);let G=(0,u.useCallback)(e=>{let{value:n}=e.target;n?(k(n),T({variables:{workspaceId:null==t?void 0:t.id,query:n}})):(T.cancel(),k(""),o([]),f(-1),c(!0))},[null==t?void 0:t.id,T]),K=(0,u.useCallback)(e=>{C(!1),f(e)},[]),Q=(0,O.wb)(K,50);(0,u.useEffect)(()=>{!r&&i&&i.track(g.VV.SEARCH_CLOSED,{final_query:j})},[r,i,j]);let Z=!b&&l.length>0;(0,u.useEffect)(()=>{var e;y.current&&w&&(null==y||null==(e=y.current)||e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))},[p,w]);let q=j.length>0?(0,a.jsx)(_.x6,{id:"5WYZKZ"}):(0,a.jsx)(_.x6,{id:"AOvC3b"});return e?(0,a.jsxs)(D.s,{direction:"column",children:[(0,a.jsx)(V,{onChange:G,query:j,isDisabled:!n,isLoading:L,isFocused:s}),(0,a.jsx)(P.r,{mx:4,mt:2,mb:4,isConnected:n,description:(0,a.jsx)(_.x6,{id:"R4lJxt"})}),n&&(0,a.jsx)(d._x,{p:4,children:q}),n&&l&&l.length>0&&(0,a.jsx)(ep,{focusedItemEl:y,results:l,focusedIndex:p,onMouseMove:Q}),!(0,m.Xb)()&&(0,a.jsx)(J,{onClose:()=>{v(!0)},showTip:Z}),(0,m.Xb)()&&(0,a.jsx)(M.s,{})]}):null},ex=(0,j.A)(e=>{let{isEnabledFn:t}=e,n=(0,h.GV)(x.MQ);L({isEnabledFn:t,isOpen:n});let i=(0,A.wA)(),r=(0,k.h5)({base:"sm",sm:"md",md:"lg",lg:"2xl"}),l=(0,u.useCallback)(()=>{i((0,x.q8)({isOpen:!1,initialQuery:""}))},[i]);return(0,a.jsxs)(v.aF,{isOpen:n,onClose:l,size:r,onOverlayClick:l,returnFocusOnClose:!1,children:[(0,a.jsx)(y.m,{}),(0,a.jsx)(w.$,{children:(0,a.jsx)(C.c,{p:0,children:(0,a.jsx)(em,{})})})]})})},24729:(e,t,n)=>{"use strict";n.d(t,{$Q:()=>c,h9:()=>p,oQ:()=>u,zI:()=>m});var a=n(6029),i=n(99492),r=n(55597),l=n(48621),o=n(19564),s=n(77650),d=n(99038);let c=i.ao0,u=r.Uj9,p=()=>s.Ru._({id:"1tCpcF",values:{GAMMA_PROPER_NOUN:d.On}}),h=()=>({invite:{ariaLabel:s.Ru._({id:"b4DayH"}),label:(0,a.jsx)(o.x6,{id:"b4DayH"}),icon:(0,a.jsx)(l.g,{icon:i.nWR,fixedWidth:!0}),key:"invite"},public:{ariaLabel:s.Ru._({id:"Z8lGw6"}),label:(0,a.jsx)(o.x6,{id:"Z8lGw6"}),icon:(0,a.jsx)(l.g,{icon:i.zxS,fixedWidth:!0}),key:"public"},export:{ariaLabel:s.Ru._({id:"GS+Mus"}),label:(0,a.jsx)(o.x6,{id:"GS+Mus"}),icon:(0,a.jsx)(l.g,{icon:i.a_I,fixedWidth:!0}),key:"export"},embed:{ariaLabel:s.Ru._({id:"KKBlUU"}),label:(0,a.jsx)(o.x6,{id:"KKBlUU"}),icon:(0,a.jsx)(l.g,{icon:i.jTw,fixedWidth:!0}),key:"embed"}}),g=["invite","public","export","embed"],m=e=>{let{showSharePublic:t=!0,showEmbed:n=!0,showInvite:a=!0,showExport:i=!0}=e;return g.map(e=>h()[e]).filter(e=>"public"===e.key?t:"embed"===e.key?n:"invite"===e.key?a:"export"!==e.key||i)}},24813:(e,t,n)=>{"use strict";n.d(t,{e:()=>r,q:()=>i});var a=n(52762);let i=e=>{setTimeout(()=>{e.commands.focus()})},r=(e,t,n)=>{var i;(null==(i=n.background)?void 0:i.type)===a.h.NONE?e.commands.updateAttributesAtPos(t,n):e.commands.updateNestedAttributesAtPos(t,n)}},24903:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r,z:()=>l});var a=n(62040),i=n(99923);let r=e=>"footnote"==e.schema.topNodeType.name,l=function(e,t,n,r){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"footnote";e.forEach(e=>{let t=e.steps.filter(e=>e instanceof a.XE||e instanceof a.Ys);0==t.length||e.getMeta(i.R)||e.getMeta("appendedTransaction")||t.forEach(e=>{let{from:t,to:i,mark:o}=e;n.doc.nodesBetween(t,i,(n,s)=>{n.type.name===l&&s<t&&(e instanceof a.XE?r.removeMark(t,i,o):e instanceof a.Ys&&r.addMark(t,i,o))})})})}},25105:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var a=n(63867),i=n(19310),r=n(38934),l=n(59712);let o=new a.hs("SlashMenu"),s=(0,l.e$)({name:"slashMenu",char:"/",pluginKey:o,MenuComponent:i.a,priority:r.y.SlashMenu})},25600:(e,t,n)=>{"use strict";n.d(t,{DM:()=>h,b0:()=>g,bU:()=>m});var a=n(22905),i=n(63867),r=n(97255),l=n(15607),o=n(98968),s=n(61964),d=n(46675),c=n(56124);let u=e=>e.isLeaf||["paragraph","table","tableRow","tableCell","gridLayout","gridCell","heading","title","card","cardLayoutItem","cardAccentLayoutItem","button","buttonGroup","gallery","blockquote","calloutBox","smartLayout","smartLayoutCell","toggle","navbar","navbarLinks"].includes(e.type.name),p=e=>e.isAtom||["gallery","card"].includes(e.type.name),h=e=>e.some(e=>e.spec.focusedNode),g=e=>e.some(e=>e.spec.isSelectingNode),m=a.YY.create({name:"focusedNodes",addProseMirrorPlugins(){let e=this.editor;return[new i.k_({props:{decorations(t){var n;if(!e.isEditable||!(0,l.We)(e)||(null==(n=document.activeElement)?void 0:n.tagName)==="IFRAME")return;let a=t.selection,h=[];return t.doc.nodesBetween(a.from,a.to,(e,t,n)=>{if(u(e)){let l=a instanceof d.HT&&"tableRow"===e.type.name&&a.getTableNode()===n&&a.isRowSelection()&&!a.isColSelection(),o=a instanceof d.HT&&(0,c.hj)(e)&&a.getTableNode()===e&&a.isSelectingAllCells(),s={focusedNode:!0,isSelected:a.from<=t,isFocusedInside:a.from>t||a.to<t+e.nodeSize,isSelectingNode:a instanceof i.nh&&a.node===e||l||o,isSelectingAround:p(e)&&a.from<=t&&a.to>=t+e.nodeSize&&!(a instanceof i.nh)},u=[s.focusedNode?"is-focused":"",s.isSelected?"is-selected":"",s.isFocusedInside?"is-focused-inside":"",s.isSelectingNode?"is-selecting-node":"",s.isSelectingAround?"is-selecting-around":""].join(" ");h.push(r.NZ.node(t,t+e.nodeSize,{class:u},s))}if((0,o.Pb)(e)&&a.from<=t&&a.from<=t)return!1;if("table"===e.type.name&&a instanceof d.HT&&a.isColSelection()&&!a.isSelectingAllCells()){let n=a.$anchorCell.pos,{left:i}=s.J3.get(e).findCell(n-(t+1));h.push(r.NZ.node(t,t+e.nodeSize,{},{isColumnSelected:!0,colNumber:i}))}}),r.zF.create(t.doc,h)}}})]}})},25722:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var a=n(43607),i=n(48687);let r=(e,t,n,r)=>{let l=(0,a.FX)(),{columns:o,lastRowAligner:s}=(0,i.X)({containerSize:n,numCells:t,options:e,forceBalance:r});return"vertical"===e.orientation||l||t>1&&1===o?{columns:1,isHorizontal:!1}:{columns:o,isHorizontal:!0,lastRowAligner:s}}},26006:(e,t,n)=>{"use strict";n.d(t,{M:()=>r,j:()=>i});var a=n(55729);let i=()=>{let e=(0,a.useRef)(null),t=(0,a.useRef)(null),[n,i]=(0,a.useState)(0),[r,l]=(0,a.useState)(0),[o,s]=(0,a.useState)(null);return{width:n,height:r,aspectRatio:o,setSize:(0,a.useCallback)(()=>{var n,a;let r=null==(n=e.current)?void 0:n.getBoundingClientRect(),o=null==(a=t.current)?void 0:a.getBoundingClientRect();if(r&&o){let e=o.width/o.height,t=r.width,n=r.width/e;if(0===t||isNaN(t)||0===n||isNaN(n))return;i(t),l(n),s(e)}},[]),containerWrapperRef:e,imageRef:t}},r=e=>(0,a.useCallback)(t=>{if(!e)return;let n=null==e?void 0:e.view.domAtPos(t);if(!n)return void console.warn("scrollOnImageLoad could not domAtPos",{pos:t});let a=n.node.childNodes[n.offset];if(!a||!a.querySelector)return void console.warn("scrollOnImageLoad could not find node",{parentNode:n.node,offset:n.offset});let i=a.querySelector("[data-image-node-element] img");if(!i)return void console.warn("scrollOnImageLoad could not find <img> element");let r=()=>{e.chain().selectNodeAtPos(t,!1).focus().scrollIntoView().run(),setTimeout(()=>{e.chain().selectNodeAtPos(t,!1).focus().scrollIntoView().run()},1e3),i.removeEventListener("load",r)};i.addEventListener("load",r)},[e])},26053:(e,t,n)=>{"use strict";n.d(t,{Nb:()=>d,Vx:()=>o,wP:()=>c});var a=n(55729),i=n(91792),r=n(52842);let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={borderColor:e?"var(--chakra-colors-whiteAlpha-300)":"var(--chakra-colors-blackAlpha-200)"};return t?{...n,bg:e?"var(--chakra-colors-trueblue-300)":"var(--chakra-colors-trueblue-50)",color:e?"var(--chakra-colors-trueblue-900)":"var(--chakra-colors-trueblue-300)",hoverBg:e?"var(--chakra-colors-trueblue-200)":"var(--chakra-colors-trueblue-100)",hoverColor:e?"var(--chakra-colors-trueblue-900)":"var(--chakra-colors-trueblue-600)"}:{...n,bg:e?"var(--chakra-colors-gradient-dark)":"var(--chakra-colors-whiteAlpha-900)",color:e?"var(--chakra-colors-gray-50)":"var(--chakra-colors-gray-500)",hoverBg:e?"var(--chakra-colors-gray-700)":"var(--chakra-colors-gray-50)",hoverColor:e?"var(--chakra-colors-trueblue-200)":"var(--chakra-colors-gray-700)"}},o=e=>{let t=l(e);return{"--global-drag-handle-background":t.bg,"--global-drag-handle-color":t.color,"--global-drag-handle-hover-background":t.hoverBg,"--global-drag-handle-hover-color":t.hoverColor,"--global-drag-handle-border":t.borderColor}},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?l(e,!0):{bg:"var(--global-drag-handle-background)",color:"var(--global-drag-handle-color)",hoverBg:"var(--global-drag-handle-hover-background)",hoverColor:"var(--global-drag-handle-hover-color)",borderColor:"var(--global-drag-handle-border)"}},d=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,i.rd)();return(0,a.useMemo)(()=>s(t,e),[t,e])},c=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=d(e);return{height:r.PN,borderRadius:"sm",fontSize:"xs",px:2,shadow:"sm",bg:t.bg,color:t.color,borderColor:t.borderColor,_active:{shadow:"var(--global-drag-handle-shadow-inner)"},_hover:{color:t.hoverColor,background:t.hoverBg}}}},26406:(e,t,n)=>{"use strict";n.d(t,{Zp:()=>nA,ey:()=>nw});var a=n(87386),i=n(22905),r=n(63867),l=n(48993),o=n(8327),s=n(15342),d=n(47665),c=n(52762),u=n(41896),p=n(62171),h=n(8266),g=n(15607),m=n(38194),x=n(38934),f=n(50861),b=n(46957),v=n(6845),y=n(94922),w=n(15902),C=n(59080);let A=!1;var j=n(16309),k=n(61385),S=n(6029),I=n(55729),E=n(43607),R=n(43634),L=n(28615),D=n(57405),M=n(48810),_=n(58959),T=n(29810),N=n(21938),z=n(91106),P=n(19564),O=n(84929),F=n(97256),H=n(68301),B=n(26312),V=n(62452),W=n(30524),U=n(84886),G=n(50764),K=n(84431),Q=n(43216),Z=n(25600),q=n(40452),J=n(26420),$=n(59543);let Y=e=>{let{cardId:t,...n}=e,[a,i]=(0,I.useState)(0),[r,l]=(0,I.useState)(!1),[o,s]=(0,I.useState)(0);return(0,I.useEffect)(()=>{let e=$.t.on("cardViewed",e=>{let{cardId:n,interval:a}=e;t===n&&i(e=>e+a)}),n=$.t.on("flush",e=>{let{viewed:n}=e;i(0),n[t]&&(l(!0),s(n[t]),setTimeout(()=>l(!1),2e3))});return()=>{e(),n()}},[t]),(0,S.jsxs)(J.a,{...n,bg:r?"#c3313a":"#f5ae00",children:[!r&&(0,S.jsxs)(J.a,{children:["time on card: ",Math.floor(a/1e3),"s"]}),r&&(0,S.jsxs)(J.a,{children:["Tracked View: ",o,"s"]})]})},X=e=>{let t=(0,s.GV)(H.Gm),{getPos:n,node:a}=e,{id:i}=a.attrs;return t?(0,S.jsxs)(q.s,{left:8,top:2,zIndex:"overlay",position:"absolute",pointerEvents:"none",opacity:.5,contentEditable:!1,children:[(0,S.jsx)(J.a,{bg:"yellow",px:2,mr:2,borderRadius:"md",children:i}),(0,S.jsxs)(J.a,{bg:"trueblue.200",px:2,mr:2,borderRadius:"md",children:["f:",n()," t:",n()+a.nodeSize]}),(0,S.jsx)(Y,{cardId:i,px:2,borderRadius:"md"})]}):null};var ee=n(68917),et=n(89122),en=n(94740),ea=n(66199),ei=n(49611),er=n(12514),el=n(18078),eo=n(46898),es=n(80314),ed=n(26385),ec=n(96500),eu=n(40162),ep=n(99492),eh=n(48621),eg=n(32380),em=n(77650),ex=n(84033),ef=n(95197),eb=n(32617),ev=n(40061),ey=n(24813),ew=n(17928),eC=n(80180),eA=n(26053),ej=n(62695),ek=n(84655),eS=n(58082),eI=n(82689),eE=n(16936),eR=n(40268);let eL=e=>{let{icon:t,customIcon:n,label:a,children:i,useSpacer:r=!0,...l}=e;return(0,S.jsxs)(ed.B,{direction:"row",spacing:4,alignItems:"center",...l,children:[t&&(0,S.jsx)(eh.g,{fixedWidth:!0,icon:t}),n&&n,(0,S.jsx)(M.E,{children:a}),r&&(0,S.jsx)(T.h,{}),i]})},eD=e=>{let{editor:t,accentPos:n,cardId:a,hasAccentImage:i,isBehindLayout:r}=e,l=(0,I.useCallback)(()=>{n&&t.commands.updateAttributesAtPos(n,{background:{type:c.h.NONE}})},[t,n]),o=(0,I.useCallback)(()=>{eR.R.emit("toggleEditBackgroundDrawer",{openDrawer:!0,cardId:a})},[a]);return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(eL,{label:r?(0,S.jsx)(P.x6,{id:"23c2Uw"}):(0,S.jsx)(P.x6,{id:"e5Sy/T"}),icon:ep.Cyq,children:(0,S.jsx)(_.z,{spacing:1,children:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(ei.$,{size:"sm",variant:"link",onClick:o,children:i?(0,S.jsx)(P.x6,{id:"ePK91l"}):(0,S.jsx)(P.x6,{id:"PNapeY"})}),i&&(0,S.jsx)(z.Tz,{label:(0,S.jsx)(P.x6,{id:"sGYCGx"}),placement:"top",children:(0,S.jsx)(eE.K,{"aria-label":em.Ru._({id:"sGYCGx"}),size:"sm",variant:"link",onClick:l,colorScheme:"red",icon:(0,S.jsx)(eh.g,{icon:ep.K3F})})})]})})})})};var eM=n(55597);let e_=e=>{let{editor:t,getPos:n,onAddOrEditClick:a,isDisabled:i,hasBackdrop:r}=e,l=(0,I.useCallback)(()=>{t.commands.updateAttributesAtPos(n(),{background:{type:c.h.NONE}})},[t,n]);return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(eL,{icon:ep.pt,label:(0,S.jsx)(P.x6,{id:"ANn8Qe"}),color:i?"gray.500":void 0,children:[i&&(0,S.jsx)(z.Tz,{placement:"top",label:(0,S.jsx)(P.x6,{id:"ZnOCf5"}),isDisabled:!i,children:(0,S.jsx)(J.a,{fontSize:"sm",cursor:"help",children:(0,S.jsx)(eh.g,{fixedWidth:!0,icon:eM.k6j})})}),(0,S.jsx)(_.z,{spacing:1,children:!i&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(ei.$,{size:"sm",variant:"link",onClick:a,children:r?(0,S.jsx)(P.x6,{id:"ePK91l"}):(0,S.jsx)(P.x6,{id:"PNapeY"})}),r&&(0,S.jsx)(z.Tz,{label:(0,S.jsx)(P.x6,{id:"IfZ6hd"}),placement:"top",children:(0,S.jsx)(eE.K,{"aria-label":em.Ru._({id:"IfZ6hd"}),size:"sm",variant:"link",onClick:l,colorScheme:"red",icon:(0,S.jsx)(eh.g,{icon:ep.K3F})})})]})})]})})};var eT=n(78140),eN=n(36999),ez=n(41283),eP=n(37930),eO=n(48478),eF=n(95714),eH=n(11818),eB=n(50933);let eV=e=>{let{value:t,onChange:n,cardColor:a}=e,i=(0,eI.Dz)(a),[r,l]=(0,I.useState)(!1),o=Math.round(100*(t||i));return(0,S.jsx)(eL,{label:(0,S.jsx)(P.x6,{id:"CMsMJp"}),icon:ep.jC5,useSpacer:!1,children:(0,S.jsxs)(_.z,{spacing:.5,w:"140px",children:[(0,S.jsx)(M.E,{fontSize:"xs",color:"gray.500",minW:"25px",children:"0%"}),(0,S.jsxs)(eB.Ap,{value:t||i,min:0,max:1,step:.05,onChange:n,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),colorScheme:"trueblue",size:"sm",flex:1,children:[(0,S.jsx)(eB.hB,{children:(0,S.jsx)(eB.hJ,{})}),(0,S.jsx)(z.Tz,{placement:"top",isOpen:r,label:"".concat(o,"%"),children:(0,S.jsx)(eB.OQ,{})})]}),(0,S.jsx)(M.E,{fontSize:"xs",color:"gray.500",minW:"30px",children:"100%"})]})})};n(60908);let eW=[{label:()=>em.Ru._({id:"37VL/A"}),value:"frosted"},{label:()=>em.Ru._({id:"W4wYdx"}),value:"faded"},{label:()=>em.Ru._({id:"siC4v8"}),value:"none"}],eU=e=>{var t,n;let{editor:a,accentPos:i,accentBackground:r,effect:l,intensity:o,cardColor:s}=e,d=(0,I.useCallback)(e=>{if(!i||!r)return;let t={background:{mask:{...r.mask,effect:e}}};a.commands.updateNestedAttributesAtPos(i,t)},[a,r,i]),c=(0,I.useCallback)(e=>{var t;if(!i)return;let n={background:{mask:{...null!=(t=null==r?void 0:r.mask)?t:{effect:eI.$.effect},intensity:e}}};a.commands.updateNestedAttributesAtPos(i,n)},[a,r,i]),u=null!=l?l:eI.$.effect,p=null!=(n=null==(t=eW.find(e=>e.value===l))?void 0:t.label())?n:(0,S.jsx)(P.x6,{id:"xg0y9o"});return(0,S.jsxs)(D.T,{spacing:3,align:"stretch",children:[(0,S.jsx)(eL,{label:(0,S.jsx)(P.x6,{id:"u4YODQ"}),icon:ep.B2J,children:(0,S.jsxs)(eT.W,{isLazy:!0,children:[(0,S.jsx)(eN.I,{as:ei.$,variant:"plain",size:"sm",minW:"128px",boxShadow:"none",textAlign:"left",rightIcon:(0,S.jsx)(ee.D,{}),children:p}),(0,S.jsx)(ez.c,{children:(0,S.jsx)(eP.i,{value:u,type:"radio",onChange:d,children:eW.map(e=>{let{value:t,label:n}=e;return(0,S.jsx)(eO.k,{value:t,children:n()},t)})})})]})}),"none"!==l&&(0,S.jsx)(eV,{value:o,onChange:c,cardColor:s})]})};var eG=n(83650),eK=n(54229),eQ=n(71340);let eZ=e=>{let{editor:t,attrs:n,getPos:a}=e,{setCardColor:i,currentColor:r,themeCardColor:l}=(0,eQ.Q)({editor:t,attrs:n,getPos:a});return(0,S.jsx)(eL,{icon:ep.wIs,label:"behind"===n.layout?(0,S.jsx)(P.x6,{id:"cA3hQ0"}):(0,S.jsx)(P.x6,{id:"9d2iLQ"}),children:(0,S.jsxs)(eT.W,{isLazy:!0,children:[(0,S.jsx)(eG.v,{color:null!=r?r:l,isDefaultColor:void 0===r}),(0,S.jsx)(ez.c,{overflow:"hidden",children:(0,S.jsx)(eK.b,{currentColor:null!=r?r:l,setColor:i,source:"CardColor"})})]})})};var eq=n(51808);let eJ=e=>{let{editor:t,getPos:n,contentWidth:a}=e,{defaultContentWidth:i}=(0,s.GV)(R.Uu),r=(0,I.useCallback)(e=>{t.commands.updateNestedAttributesAtPos(n(),{container:{width:e}})},[t,n]);return(0,S.jsx)(eL,{icon:ep.So7,label:(0,S.jsx)(P.x6,{id:"cPp+Ef"}),children:(0,S.jsx)(eq.z,{setWidth:r,contentWidth:a,defaultContentWidth:i,allowedWidths:["md","lg"]})})};var e$=n(99430);let eY=e=>{let{editor:t,getPos:n,isFullWidth:a}=e,i=(0,I.useCallback)(()=>{t.commands.updateAttributesAtPos(n(),{cardSize:a?"contained":"full"})},[t,n,a]);return(0,S.jsx)(eL,{icon:ep.Cpz,label:(0,S.jsx)(P.x6,{id:"BquNv8"}),children:(0,S.jsx)(e$.d,{isChecked:a,onChange:i})})};var eX=n(19842),e0=n(36835);let e1=e=>{let{hasCardMarginElements:t,onAddOrEditClick:n,isHiddenByVisibilitySettings:a,isHiddenByCardSettings:i,onToggleVisibility:r}=e;return(0,S.jsx)(eL,{customIcon:(0,S.jsx)(e0.m,{}),label:(0,S.jsx)(P.x6,{id:"JQFgkZ"}),children:(0,S.jsxs)(_.z,{spacing:1,children:[(0,S.jsx)(ei.$,{size:"sm",variant:"link",onClick:n,colorScheme:"trueblue",children:(0,S.jsx)(P.x6,{id:"ePK91l"})}),a&&(0,S.jsx)(z.Tz,{label:(0,S.jsx)(P.x6,{id:"gB9UFo"}),children:(0,S.jsx)(J.a,{as:"span",color:"red.600",cursor:"help",children:(0,S.jsx)(eh.g,{fixedWidth:!0,icon:eM.k6j})})}),!a&&t&&r&&(0,S.jsx)(z.Tz,{label:i?(0,S.jsx)(P.x6,{id:"+gYV7s"}):(0,S.jsx)(P.x6,{id:"079GgA"}),placement:"top",children:(0,S.jsx)(eE.K,{size:"sm",variant:"ghost","aria-label":i?"Show card margins":"Hide card margins",color:i?"red.600":"gray.600",icon:(0,S.jsx)(eh.g,{icon:i?eM.k6j:eM.pS3}),onClick:r,_hover:{bg:i?"red.50":"gray.50"}})})]})})};var e2=n(2095),e4=n(52842),e6=n(69370);let e5=(0,I.memo)(e=>{var t,n;let{editor:a,getPos:i,attrs:r,accentBackgroundMaskEffect:l,accentBackgroundMaskIntensity:o,displayLayout:d,insideSideLayout:u,isNested:p,isFullBleed:h,contentWidth:g,cardDimensionsKey:m,editBackdrop:x,onOpenCardMarginsModal:f,cardColor:b}=e,v=(0,s.jL)(),w=(0,I.useCallback)(()=>{v((0,e2.md)())},[v]),{verticalAlign:C,presentBackdrop:A}=(0,s.GV)(R.Uu),{setBackgroundDrawerSourceKeyAction:j}=(0,ej.B)(),k={};try{k=(0,y.l0)(a.state.doc.resolve(i()))}catch(e){console.error("[CardStylingMenuInner] could not get layout items for card ".concat(r.id,": ").concat(e))}let E=(0,eo.d)(),L=(null==(t=k.accent)?void 0:t.pos)||null,D=null==(n=k.accent)?void 0:n.node.attrs.background,T=D&&D.type!==c.h.NONE,N="none"!==r.background.type,z="default"!==r.cardSize||N||T||r.container.width||r.container.background||"blank"!==d||r.verticalAlign,O="behind"===d&&T&&(0,eI.dY)(D),F=(0,s.GV)(R.Jq),H=(0,eb.u)("cardMarginElements")&&"webpage"!==F,{cardMarginSettings:B}=(0,s.GV)(R.Uu),V=!(0,ef.Nk)(B),{isFirstCardAndHidden:W,isLastCardAndHidden:U,isHiddenByCardSettings:G}=(0,ex.j)(r),K="fluid"===m||g,Q="fluid"===m||N||A,Z=(0,I.useCallback)(()=>{let e={};N&&(e.background={type:c.h.NONE,source:void 0}),e.cardSize=void 0,e.verticalAlign=void 0,e.container={...r.container,width:void 0},r.container.background&&(e.container={...r.container,background:void 0}),"blank"!==d&&(e.layout="blank"),L?a.chain().updateAttributesAtPos(i(),e).updateNestedAttributesAtPos(L,{background:{type:c.h.NONE}}).run():a.commands.updateAttributesAtPos(i(),e);let t=em.Ru._({id:"rQHMjX"}),n=em.Ru._({id:"9uI/rE"}),l=E({title:(0,S.jsxs)(_.z,{children:[(0,S.jsx)(M.E,{children:t}),(0,S.jsx)(es.N,{textDecoration:"underline",onClick:()=>{(0,eg.tN)(a.state),E.close(l)},children:n})]}),status:"info",duration:3e3,position:"top"})},[N,r.container,d,L,a,i,E]),q=(0,I.useCallback)(()=>{try{a.commands.updateNestedAttributesAtPos(i(),{cardMarginSettings:{...r.cardMarginSettings,isHidden:!r.cardMarginSettings.isHidden}})}catch(e){console.error("(caught) [CardMarginsBuilder](updateVisibility): could not update card",e)}},[a,i,r.cardMarginSettings]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(ed.B,{spacing:4,p:4,children:[(0,S.jsx)(eX.eW,{editor:a,layout:d,getPos:i,edgeLayoutsEnabled:!u}),"blank"!==d&&(0,S.jsx)(eD,{editor:a,accentPos:L,cardId:r.id,hasAccentImage:!!T,isBehindLayout:"behind"===d}),O&&(0,S.jsx)(eU,{editor:a,accentBackground:D,accentPos:L,effect:l,intensity:o,cardColor:b}),(0,S.jsx)(eZ,{editor:a,attrs:r,getPos:i}),!p&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(ec.c,{my:"1"}),(0,S.jsx)(eY,{editor:a,getPos:i,isFullWidth:h}),(0,S.jsx)(eL,{icon:ep.ecg,label:(0,S.jsx)(P.x6,{id:"vUBA/H"}),children:(0,S.jsx)(ek.c,{defaultAlignment:C,alignment:r.verticalAlign,setAlignment:e=>{a.commands.updateAttributesAtPos(i(),{verticalAlign:e})}})}),K&&(0,S.jsx)(eJ,{editor:a,getPos:i,contentWidth:g}),Q&&(0,S.jsx)(e_,{editor:a,getPos:i,onAddOrEditClick:()=>{j(ev.L),x(!1)},hasBackdrop:N,isDisabled:h}),H&&(0,S.jsx)(e1,{hasCardMarginElements:V,isHiddenByVisibilitySettings:!!(W||U),isHiddenByCardSettings:G,onAddOrEditClick:()=>{f(),w()},onToggleVisibility:q})]})]}),(0,S.jsxs)(eu.B,{px:5,py:3,bg:"gray.50",mx:-1,mb:-1,justify:z?"space-between":"center",alignItems:"center",borderBottomRadius:"xl",children:[z&&(0,S.jsx)(eu.Q,{children:(0,S.jsx)(ei.$,{onClick:Z,variant:"link",size:"sm",colorScheme:"gray",my:0,leftIcon:(0,S.jsx)(eh.g,{icon:ep.ub2}),children:(0,S.jsx)(P.x6,{id:"6hU6uw"})})}),(0,S.jsx)(eu.Q,{children:(0,S.jsx)(ei.$,{onClick:()=>{w(),ew.LF.emit(ew.DN.OPEN_PAGE_SETUP,"cards")},variant:"link",size:"sm",colorScheme:"gray",my:0,leftIcon:(0,S.jsx)(eh.g,{icon:ep.BH7}),children:(0,S.jsx)(P.x6,{id:"fvaOtb"})})})]})]})}),e3=(0,I.memo)(e=>{let{attrs:t,editor:n,getPos:a,onOpenCardMarginsModal:i,decorations:r}=e,{cardColor:l}=(0,eS.a)(r),{color:o,bg:d,hoverColor:c,hoverBg:u,borderColor:p}=(0,eA.Nb)(),h=(0,I.useRef)(null),g=(0,s.GV)((0,e2.C_)(t.id,"styling")),m=(0,s.jL)(),x=(0,I.useCallback)(()=>{m((0,e2.md)())},[m]),f=(0,I.useCallback)(()=>{m((0,e2.CM)({cardId:t.id,menuType:"styling"}))},[m,null==t?void 0:t.id]),{openBackgroundTab:b,...v}=(0,e6.O)(),y=(0,I.useCallback)(e=>{(0,ey.e)(n,a(),e)},[n,a]);return(0,et.j)({ref:h,handler:e=>{if(!g)return;let n=e.target;if(n&&n instanceof Element){var a;let e=n.closest('[data-card-styles-menu-trigger="'.concat(t.id,'"]')),i=!!(null==(a=n.closest(".chakra-modal__content-container"))?void 0:a.querySelector("[data-edit-background-drawer]")),r=!!n.closest("[data-media-drawer-menu]");if(e||i||r)return}x()}}),(0,S.jsxs)(z.L8,{isDark:!1,children:[(0,S.jsx)(_.z,{spacing:1,onClick:eC.dG,contentEditable:!1,pointerEvents:"auto",children:(0,S.jsxs)(en.A,{isLazy:!0,returnFocusOnClose:!1,isOpen:g,onClose:x,closeOnBlur:!1,children:[(0,S.jsx)(z.Tz,{label:(0,S.jsx)(P.x6,{id:"F153E+"}),placement:"top",shouldWrapChildren:!0,children:(0,S.jsx)(ea.W,{children:(0,S.jsxs)(ei.$,{"data-card-styles-menu-trigger":t.id,height:e4.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:p,color:o,boxShadow:"sm",cursor:"pointer",fontSize:"14px",bg:d,px:.5,_hover:{color:c,background:u},onClick:f,children:[(0,S.jsx)(eh.g,{icon:ep.fyG,fixedWidth:!0}),(0,S.jsx)(ee.D,{})]})})}),(0,S.jsx)(er.Z,{children:(0,S.jsx)(el.h,{"data-card-styles-menu":!0,ref:h,width:"360px",fontFamily:"body",fontSize:"md",border:"none",children:(0,S.jsx)(e5,{...e,cardColor:l,editBackdrop:b,onOpenCardMarginsModal:i})})})]})}),(0,S.jsx)(e6.G,{editor:n,updateNestedAttributes:y,background:t.background,container:t.container,...v})]})});var e9=n(24302),e7=n(61204),e8=n(95889),te=n(18317),tt=n(89481);let tn=e=>{let{suggestions:t,cardId:n,isDark:a,editor:i}=e,{color:r,bg:o}=(0,eA.Nb)(),d=(0,eA.wP)(),{status:c,variants:u,selected:p,loadingMessage:h,interactionId:g,instructions:m,operation:x}=t,f=(0,s.jL)(),b=(0,I.useCallback)((e,t)=>{f((0,l.S6)({cardId:n,variantId:e})),(0,tt.ck)(i,n,t,g)},[f,n,i,g]),v=(0,e8.st)(),y=(0,I.useCallback)(()=>{var e;null==v||v.track(e8.VV.AI_CARD_VARIATION_KEPT,{cardId:n,variantId:p,isOriginal:null==(e=u.find(e=>e.id===p))?void 0:e.isOriginal,interactionId:g,source:"button"}),f((0,l.YB)({cardId:n}))},[f,n,p,v,u,g]),w=(0,e9.dU)("trueblue.500","trueblue.100"),C=(0,e9.dU)("trueblue.50","gray.600"),A=(0,e9.dU)("red.100","red.700"),j=(0,e9.dU)("red.500","red.100");return(0,S.jsx)(_.z,{contentEditable:!1,userSelect:"none",align:"center",position:"absolute",left:"50%",transform:"translateX(-50%)",marginLeft:-3,pointerEvents:"auto",spacing:2,children:"loading"===c?(0,S.jsxs)(_.z,{borderWidth:"1px",...d,pointerEvents:"none",children:[(0,S.jsx)(eh.g,{icon:eM.p7g}),(0,S.jsxs)(M.E,{children:[h||(0,S.jsx)(P.x6,{id:"RQqcwV"}),"..."]})]}):"error"===c?(0,S.jsxs)(_.z,{borderWidth:"1px",...d,_hover:{},bg:A,color:j,children:[(0,S.jsx)(eh.g,{icon:ep.QJT}),(0,S.jsx)(M.E,{children:(0,S.jsx)(P.x6,{id:"nwtY4N"})}),(0,S.jsx)(eE.K,{"aria-label":em.Ru._({id:"yz7wBu"}),size:"xs",minW:4,minH:4,h:4,isRound:!0,variant:"ghost",onClick:y,icon:(0,S.jsx)(eh.g,{icon:ep.GRI}),colorScheme:a?"white":"blackAlpha"})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(e7.e,{spacing:"-1px",children:[u.map(e=>(0,S.jsx)(ei.$,{...d,color:p===e.id?w:r,bg:p===e.id?C:o,variant:p===e.id?"plainSelected":"plain",onClick:()=>b(e.id,e.card),position:"relative",children:e.label},e.id)),(0,S.jsx)(z.Tz,{label:(0,S.jsx)(P.x6,{id:"MuX+Gc"}),placement:"top",children:(0,S.jsx)(eE.K,{...d,icon:(0,S.jsx)(eh.g,{icon:eM.e68}),"aria-label":em.Ru._({id:"MuX+Gc"}),onClick:y})})]}),g&&(0,S.jsx)(te.E,{interactionId:g,operation:null==x?void 0:x.key,instructions:m})]})})};var ta=n(76565),ti=n(42926);let tr=e=>{let{cardContentType:t,attrs:n,editor:a,getPos:i,node:r}=e,{color:l,bg:o,hoverColor:s,hoverBg:d,borderColor:c}=(0,eA.Nb)();if("image"===t){let e=r.firstChild.attrs.image;return(0,S.jsx)(ta.a,{attrs:e,editor:a,height:e4.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:c,color:l,boxShadow:"sm",cursor:"pointer",fontSize:"14px",bg:o,px:.5,_hover:{color:s,background:d},pointerEvents:"auto"})}return(0,S.jsx)(ti.i,{attrs:n,editor:a,getPos:i})};var tl=n(90184),to=n(89942),ts=n(13777),td=n(81570);let tc=e=>{let{theme:t,editor:n,getPos:a,updateAttributes:i,input:r}=e,l=(0,eA.wP)(),o=(0,to.ez)("unlimited_credits"),{toggleCardLayoutVariantsPanel:s,isCardLayoutVariantsPanelOpen:d}=(0,ts.Y)(),c=(0,I.useCallback)(()=>{d&&s({override:"closed"});let e=n.state.doc.nodeAt(a());e&&(n.commands.selectNodeAtPos(a()),s({override:"open",isResizable:!1,props:{cardId:e.attrs.id,selectedCardRange:{from:n.state.selection.from,to:n.state.selection.from+e.nodeSize},editor:n}}))},[n,a,s,d]);return(0,S.jsx)(_.z,{contentEditable:!1,userSelect:"none",align:"center",position:"absolute",left:"50%",transform:"translateX(-50%)",marginLeft:-3,pointerEvents:"auto",children:(0,S.jsxs)(_.z,{spacing:2,children:[(0,S.jsx)(z.Tz,{label:(0,S.jsx)(P.x6,{id:"K1Ro+T"}),placement:"top",children:(0,S.jsx)(ei.$,{...l,leftIcon:(0,S.jsx)(eh.g,{icon:eM.CeG}),"aria-label":em.Ru._({id:"K1Ro+T"}),onClick:()=>i({layoutTemplateColumns:null,generatorInput:{...td.O,prompt:r.prompt}}),children:(0,S.jsx)(P.x6,{id:"550oRP"})})}),(0,S.jsx)(ei.$,{...l,leftIcon:(0,S.jsx)(eh.g,{icon:eM.p7g}),onClick:()=>{c(),i({generatorInput:null})},children:(0,S.jsxs)(_.z,{spacing:.5,alignItems:"center",justifyContent:"center",children:[(0,S.jsx)(M.E,{children:(0,S.jsx)(P.x6,{id:"SiSG+p"})}),!o&&(0,S.jsx)(tl.G,{type:"generateCard",ml:0,color:"gray.500"})]})}),r.interactionId&&(0,S.jsx)(te.E,{interactionId:r.interactionId,operation:"generate-card",instructions:r.prompt})]})})};var tu=n(9329),tp=n(83004),th=n(95571);function tg(){let e=(0,tu._)(["\n  0% {\n    margin-inline: 0;\n  }\n  100% {\n    margin-inline: var(--nested-card-margin);\n  }\n"]);return tg=function(){return e},e}let tm=(0,tp.i7)(tg()),tx=e=>{let{attrs:t,isFullBleed:n,displayFullBleed:a,isNested:i,isPresentMode:r,isEditable:l,isFocused:o,isDark:s,isLetterboxed:d,showPresentBackdrop:c,isCommentOpenOnCard:u,theme:p,children:h}=e,{id:g,container:m}=t,x=(0,eH.NC)(p,m),f=a?th.xE:th.CO,b=r&&!i,v=(0,eF.ZI)(p,m.background?x:void 0),y=n?{width:i||d?"var(--card-width)":"100%"}:{zIndex:i?u?K.$.nestedCardBodyWithComment:K.$.nestedCardBody:void 0,width:"var(--card-width)"},w=b?{minW:c||d?"auto":"100%",minH:"var(--card-min-height)",my:"auto"}:{minW:"0%",minH:"var(--card-min-height)"},C=L.D1?0:k.M2;return(0,S.jsxs)(q.s,{className:(0,N.cx)(k.p$),"data-card-body":g,"data-selection-ring":!0,"data-guider-highlight":"card-body","data-letterboxed":d?"true":void 0,"data-content-reference":!0,"data-testid":"card-body","data-hide-comments":r,fontSize:"var(--font-size)",animation:i?"".concat(tm," ").concat(C,"ms ease-out forwards"):void 0,position:"relative",...y,...w,maxW:"var(--card-max-width)",css:{"--grid-outline-color":s?"var(--chakra-colors-gray-600)":"var(--chakra-colors-gray-200)",...v,"--card-border-radius":a?0:v["--card-border-radius"]},justify:"center",borderRadius:"var(--card-border-radius)",ps:n&&!i?"var(--doc-padding-left)":void 0,pe:n&&!i?"var(--doc-padding-right)":void 0,_hover:l&&a&&!o?{"> .card-body-background":{outline:"2px solid var(--grid-outline-color)"}}:void 0,outline:d?"max(50vw, 50vh) solid black":void 0,children:[(0,S.jsx)(J.a,{position:"absolute",inset:"0",sx:f,className:"card-body-background",borderRadius:"inherit",contentEditable:!1,zIndex:r?-1:void 0,outline:o?"2px solid var(--chakra-ring-color)":void 0,outlineOffset:n&&!r?"-2px":void 0,border:i&&"0em"===v["--card-border-width"]?"1px solid var(--neutral-border-color)":void 0,"data-export-master":!!a||void 0}),(0,S.jsx)(z.L8,{isDark:s,children:h})]})};var tf=n(82328),tb=n(5061),tv=n(76083),ty=n(69460),tw=n(81946),tC=n(69872),tA=n(43182);let tj=(0,I.memo)(function(e){let{editor:t,getPos:n,display:a,isNested:i}=e,r=(0,tb.fW)(),{isInOfflineMode:l}=(0,tf.u)(),o=(0,E.FX)(),s=(0,H.u)("aiRewrite")&&!o,d=(0,I.useCallback)(e=>{let a=n(),i=t.view.state.doc.nodeAt(a);if(!i)return void console.error("[CardDivider] Cannot append card. Node unknown");let r=a+i.nodeSize,l="aiCardAfter"===e?e8.oU.CARD_DIVIDER_AI:e?e8.oU.CARD_DIVIDER_DROPDOWN:e8.oU.CARD_DIVIDER,{cardToAdd:o,command:s}=(0,tC.j)(e);(0,tv.Jb)(s,l),t.chain().insertContentAt(r,(0,tA.iM)(o)).command(e=>{let{tr:t}=e;return t.setMeta(ty.G,!0),!0}).focus().selectInsertedNode().run()},[t,n]),c=(0,e9.dU)("gray.50","gray.600"),u=(0,e9.dU)(!1,!0),p=(0,H.u)("addCard2");return(0,S.jsx)(eT.W,{isLazy:!0,children:e=>{let{isOpen:n}=e;return(0,S.jsx)(q.s,{contentEditable:!1,suppressContentEditableWarning:!0,className:"card-divider","data-is-nested-card":String(i),position:"absolute",zIndex:K.$.cardDivider,bottom:-4,w:"100%",justify:"center",align:"center",display:a,opacity:+!!n,transitionProperty:"opacity",transitionDuration:"normal","data-print-hidden":!0,"data-id":"card-divider",children:(0,S.jsxs)(e7.e,{size:"sm",isAttached:!0,"data-guider-highlight":"add-card-button",className:"card-divider-button-group",variant:"plain",shadow:"md",borderRadius:"md",opacity:"1",transitionProperty:"opacity",transitionDuration:"normal",dir:r?"rtl":"ltr",children:[(0,S.jsx)(z.Tz,{label:(0,S.jsx)(P.x6,{id:"7iE+3N"}),children:(0,S.jsx)(eE.K,{className:"insert-card-button",variant:"plain","aria-label":em.Ru._({id:"g+7nXG"}),icon:(0,S.jsx)(eh.g,{icon:eM.QLR}),onClick:()=>d(),onMouseDown:eC.JL,size:"sm",shadow:"none",borderRadius:"md",minW:12,transitionProperty:"none",borderColor:c})}),s&&(0,S.jsx)(z.Tz,{label:(0,S.jsx)(P.x6,{id:"kLZLXX"}),children:(0,S.jsx)(eE.K,{className:"insert-ai-card-button",variant:"plain","aria-label":em.Ru._({id:"g+7nXG"}),icon:(0,S.jsx)(_.z,{spacing:0,opacity:l?.3:1,children:(0,S.jsx)(eh.g,{icon:eM.p7g})}),onClick:()=>{if(!l){if(p)return void d("aiCardAfter");ew.LF.emit("queueDesignPartnerTask",{message:em.Ru._({id:"JoMQgx",values:{placeholder:""}}),submit:!1})}},onMouseDown:eC.JL,size:"sm",shadow:"none",minW:12,transitionProperty:"none",borderColor:c,borderRadius:"md",borderInlineStart:"none",borderInlineEndRadius:"none",tabIndex:l?-1:void 0,pointerEvents:l?"none":"auto"})}),(0,S.jsxs)(en.A,{placement:"end",isLazy:!0,closeOnBlur:!0,closeOnEsc:!0,children:[(0,S.jsx)(z.Tz,{label:(0,S.jsx)(P.x6,{id:"UgOs5x"}),shouldWrapChildren:!0,children:(0,S.jsx)(ea.W,{children:(0,S.jsx)(eE.K,{"aria-label":"Add from template",size:"sm",shadow:"none",borderColor:c,icon:(0,S.jsx)(ee.D,{}),fontSize:"lg",fontWeight:"500",borderRadius:"md",borderInlineStart:"none",borderInlineStartRadius:"none","data-guider-highlight":"add-card-template-button",transitionProperty:"none",onMouseDown:eC.JL})})}),(0,S.jsx)(er.Z,{children:(0,S.jsx)(el.h,{shadow:"xl",maxH:"90vh",overflowY:"scroll",w:"400px",p:"0",borderColor:u?c:void 0,children:(0,S.jsx)(tw.R,{editor:t,appendCard:d})})})]})]})})}})});var tk=n(59824);let tS=e=>{let{isFocused:t}=e;return(0,S.jsx)(J.a,{position:"absolute",inset:"0",pointerEvents:"none",overflow:"hidden",display:{base:"none",lg:"block"},opacity:+!!t,className:"card-height-guide",children:(0,S.jsxs)(J.a,{position:"absolute",top:"var(--card-min-height)",insetStart:"0",w:"100%",h:"1px",borderBottom:"2px dashed",borderBottomColor:"var(--body-color)",opacity:"0.25",children:[(0,S.jsx)(tI,{insetStart:0}),(0,S.jsx)(tI,{insetEnd:0})]})})},tI=e=>{let{cardDimensions:t}=(0,s.GV)(R.Uu),{label:n}=(0,tk.iI)(t);return(0,S.jsx)(z.Tz,{placement:"top",w:"250px",label:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(M.E,{children:["Your content is too tall to fit the ",n()," size, so it may shrink or overflow when presenting or exporting."]}),(0,S.jsx)(M.E,{color:"gray.500",children:(0,S.jsx)(P.x6,{id:"yrOr7z"})})]}),children:(0,S.jsx)(J.a,{position:"absolute",w:"var(--card-inner-padding-x)",h:"".concat(20,"px"),top:"-".concat(10,"px"),pointerEvents:"auto",cursor:"help",...e})})};var tE=n(41781),tR=n(23293),tL=n(72470),tD=n(74709),tM=n(17496),t_=n(4192),tT=n(3276),tN=n(57963),tz=n(87461),tP=n(33619),tO=n(19783),tF=n(26814);let tH={src:"/_next/static/media/Stars-2.48f5ca51.svg"};var tB=n(11403),tV=n(83743),tW=n(33787),tU=n(51684),tG=n(99038),tK=n(36432),tQ=n(22539);let tZ=e=>{let{isDark:t,selectedTemplate:n,setSelectedTemplate:a,isDisabled:i}=e,r=(0,tQ.W)(),l=t?"invert(.8) brightness(1.2)":"invert(0)",o=t?"invert(.8) brightness(2)":"invert(0)";return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(M.E,{color:t?"titanium.50":"titanium.900",fontSize:"sm",fontWeight:"normal",children:(0,S.jsx)(P.x6,{id:"hQDrYd"})}),(0,S.jsxs)(tV.r,{spacing:2,columns:[2,3,5,r.length+1],children:[(0,S.jsx)(tK.F,{isDark:t,templateIcon:(0,S.jsx)(eh.g,{icon:tU.swh,fixedWidth:!0,size:"lg"}),label:(0,S.jsx)(P.x6,{id:"wtGmzA"}),tooltip:em.Ru._({id:"zopynZ",values:{GAMMA_PROPER_NOUN:tG.On}}),isSelected:null===n,onClick:()=>a(null),isDisabled:i}),r.map(e=>{let{key:r,image:s,name:d}=e,c=r===n;return(0,S.jsx)(tK.F,{isDark:t,templateIcon:(0,S.jsx)(tW._,{src:s.src,filter:c?o:l,bg:"white"}),tooltip:d,isSelected:c,onClick:()=>a(r),isDisabled:i},r)})]})]})};var tq=n(3383);let tJ=e=>{let{theme:t,handle:n,editor:a,getPos:i,input:r,displayFullBleed:l,isFocused:o}=e,{isInOfflineMode:s}=(0,tf.u)(),{isGenerating:d,getContextAndGenerate:c,updateInput:p,locale:h}=(0,tq.ds)({theme:t,editor:a,getPos:i,input:r}),g=(0,tB.lW)(p,500),{prompt:m,template:x}=r,[f,b]=(0,I.useState)(m),v=(0,tF.tO)(()=>{p({prompt:f}),c(f)},"generateCard",e8.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD),y=(0,e9.dU)(!1,!0),w=(0,I.useRef)(null),{suggestions:C,generateSuggestionsStatus:A}=(0,tq.ay)(a,o);return((0,I.useEffect)(()=>{o&&w.current&&setTimeout(()=>{var e;null==(e=w.current)||e.focus()})},[o]),d)?(0,S.jsxs)(q.s,{position:"relative",maxW:"100%",w:"var(--card-width)",minH:32,contentEditable:"false",justify:"center",direction:"column",p:"var(--card-inner-padding)",children:[n,(0,S.jsxs)(ed.B,{zIndex:1,w:"100%",children:[(0,S.jsx)(tE.E,{height:"3em",w:"33%",mb:4}),(0,S.jsx)(tE.E,{height:"1.5em"}),(0,S.jsx)(tE.E,{height:"1.5em"}),(0,S.jsx)(tE.E,{height:"1.5em"}),(0,S.jsx)(tE.E,{height:"1.5em",w:"75%"})]})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.$p,{style:{position:"absolute",opacity:0}}),(0,S.jsxs)(q.s,{contentEditable:"false",w:"var(--card-width)",maxW:"100%",minH:32,position:"relative",borderRadius:l?"none":"var(--card-border-radius)",p:"var(--card-inner-padding)",direction:"column",justify:"center",m:"-1px",fontFamily:"body",onMouseDown:e=>{!(e.target instanceof HTMLElement&&e.target.closest(".drag-handle"))&&(e.preventDefault(),w.current&&w.current===document.activeElement?w.current.blur():a.view.hasFocus()&&a.commands.blur())},children:[(0,S.jsx)(J.a,{bg:y?"gradient.secondary-dark":"gradient.secondary-light",bgSize:"cover",bgPosition:"center center",borderRadius:"inherit",pos:"absolute",inset:0,pointerEvents:"none",w:l?"var(--editor-width)":void 0,insetStart:l?"calc(50% - var(--doc-padding-left, 0px) / 2 + var(--doc-padding-right, 0px) / 2)":void 0,transform:l?"translateX(-50%)":void 0}),n,(0,S.jsx)(J.a,{position:"absolute",zIndex:0,pointerEvents:"none",inset:0,bgImage:"url(".concat(tH.src,")"),bgRepeat:"repeat",bgPosition:"center center",sx:{animation:"".concat(tz.K," 180s linear infinite"),maskImage:"linear-gradient(to left, rgba(0,0,0,.75), transparent, rgba(0,0,0,.75))",maskRepeat:"repeat",maskSize:"140px"},opacity:y?.2:1}),(0,S.jsx)(eE.K,{position:"absolute",top:2,insetEnd:2,variant:"ghost",colorScheme:y?"whiteAlpha":"blackAlpha",isRound:!0,size:"sm","aria-label":em.Ru._({id:"DIQZR1"}),icon:(0,S.jsx)(eh.g,{fixedWidth:!0,icon:ep.GRI}),onClick:()=>{g.cancel(),a.commands.deleteCard(i())}}),(0,S.jsxs)(ed.B,{spacing:4,pos:"relative",zIndex:1,maxWidth:"100%",children:[(0,S.jsxs)(_.z,{justify:"end",flexWrap:"wrap",children:[(0,S.jsx)(tR.D,{fontWeight:700,size:"md",color:y?"white":"deepocean.950",children:(0,S.jsx)(P.x6,{id:"8e1wQN"})}),(0,S.jsx)(T.h,{}),(0,S.jsx)(tO.f,{modalId:"ai-credits-modal-generate-card",variant:"ghost",isDark:y,justify:"flex-end",segmentEvent:e8.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD}),(0,S.jsx)(tP.j,{locale:h,setLocale:e=>p({settings:{locale:e}}),buttonProps:{variant:"plain",size:"sm",textAlign:"left",w:["100%","100%","auto"],isDisabled:s}})]}),(0,S.jsxs)(tL.M,{color:y?"white":"gray.700",bg:y?"blackAlpha.900":"white",boxShadow:"sm",border:"none",borderRadius:"md",display:"flex",alignItems:"start",gap:"0",onMouseDown:eC.dG,_focusWithin:{boxShadow:"var(--chakra-shadows-sm), var(--chakra-shadows-outline)"},transitionProperty:"box-shadow",transitionDuration:"normal",children:[(0,S.jsx)(tN._,{ref:w,"data-in-editor-focus":!0,fontWeight:"500",border:"none",fontSize:"lg",initialHeight:"4rem",placeholder:em.Ru._({id:"BiLwIi"}),value:f,isDisabled:s,onChange:e=>{b(e.target.value),g({prompt:e.target.value})},onKeyDown:e=>{!e.shiftKey&&("Enter"===e.key?v():"ArrowDown"!==e.key||f?"ArrowUp"!==e.key||f||a.chain().focus(i()).selectInsideNextCard(!1).run():a.chain().focus(i()).selectInsideNextCard(!0).run())},_focus:{boxShadow:"none"},_focusVisible:{boxShadow:"none"},p:5}),(0,S.jsx)(tD.r0,{h:"100%",border:"none",color:y?"white":"gray.700",bg:y?"blackAlpha.900":"white",p:3,ps:0,alignItems:"end",display:["none","none","flex"],children:(0,S.jsxs)(ei.$,{px:3,"aria-label":"Generate card",isDisabled:!f||s,onClick:v,onMouseDown:eC.Fw,children:[(0,S.jsx)(tl.G,{type:"generateCard",ms:0,me:2,color:"currentcolor"}),(0,S.jsx)(eh.g,{icon:eM.fmP})]})})]}),(0,S.jsxs)(ei.$,{variant:"solid","aria-label":"Generate card",isDisabled:!f,onClick:v,onMouseDown:eC.Fw,display:["flex","flex","none"],leftIcon:(0,S.jsx)(eh.g,{icon:eM.fmP}),children:[(0,S.jsx)(P.x6,{id:"ziAjHi"}),(0,S.jsx)(tl.G,{type:"generateCard",ms:0,me:2})]}),(0,S.jsx)(tM.S,{in:!f&&!s&&(C.length>0||"generating"===A),children:(0,S.jsxs)(_.z,{direction:["column","row"],spacing:2,wrap:"wrap",children:[null==C?void 0:C.map((e,t)=>(0,S.jsx)(ei.$,{leftIcon:(0,S.jsx)(eh.g,{icon:eM._$C}),onClick:()=>{b(e),p({prompt:e})},borderRadius:"full",variant:"ghost",bg:y?"whiteAlpha.100":"blackAlpha.100",color:y?"whiteAlpha.800":"blackAlpha.800",_hover:{bg:y?"whiteAlpha.300":"blackAlpha.300"},colorScheme:y?"whiteAlpha":"blackAlpha",size:"xs",isTruncated:!0,flexShrink:0,children:e},t)),"generating"===A&&(0,S.jsxs)(t_.vw,{variant:"subtle",colorScheme:y?"whiteAlpha":"blackAlpha",color:y?"whiteAlpha.500":"blackAlpha.500",children:[(0,S.jsx)(t_.Vz,{boxSize:"12px",as:tT.y}),(0,S.jsx)(t_.d1,{children:(0,S.jsx)(P.x6,{id:"AUV+TY"})})]})]})}),(0,S.jsx)(tZ,{isDark:y,selectedTemplate:x,setSelectedTemplate:e=>p({template:e}),isDisabled:s})]})]})]})},t$=e=>{let{displayLayout:t,children:n,isExpandableSelected:a,isFocused:i,displayFullBleed:r,isEditable:l,isNested:o,attrs:s,hasLayoutItem:d,cardContentType:c,onDoubleClick:u,cardDimensions:p,theme:h,handle:g,editor:m,getPos:x,updateAttributes:f}=e;if(s.generatorInput&&"done"!==s.generatorInput.status&&l)return(0,S.jsx)(tJ,{theme:h,handle:g,editor:m,getPos:x,input:s.generatorInput,updateAttributes:f,displayFullBleed:r,isFocused:i});let b=(0,y.lH)(t),v=(0,y.tZ)(t),w=s.layoutTemplateColumns,C=s.layoutTemplateRows,A=l&&p.aspectRatio&&!o&&(!s.fontScale||s.fontScale===k.o5);return(0,S.jsxs)(J.a,{className:(0,N.cx)(e4.fJ,a&&"expandable-selected"),onDoubleClick:u,w:"var(--card-width)",maxW:"100%",position:"relative",spellCheck:i,cursor:"auto",color:"var(--body-color)",sx:{["> .".concat(k._P)]:{padding:d||"responsive"!==c?void 0:"var(--card-inner-padding)",counterReset:"footnote",'> [data-node-view-content-inner="card"]':{..."responsive"!==c?{}:d?{display:"grid",alignItems:"stretch",justifyContent:"stretch",minH:"100%",transitionDuration:"".concat(k.M2,"ms"),transitionProperty:"grid-template-rows, grid-template-columns, min-height",...b.grid,...w&&"top"!==t&&b.allowResizing&&{gridTemplateColumns:w},...C&&"top"===t&&b.allowResizing&&{gridTemplateRows:C},...v}:{display:"block",mx:"auto",maxW:"var(--max-content-width)",width:"100%",boxSizing:"border-box",minW:0},"> .node-cardLayoutItem":{"> [data-node-view-wrapper]":{"> .card-layout-cell-bg":{"> [data-node-view-content]":{"> [data-node-view-content-inner]":{maxWidth:"var(--max-content-width)",margin:"auto"},padding:"var(--card-inner-padding)"}}}}}},_hover:{"> .card-height-guide":{opacity:1}}},children:[g,n,A&&(0,S.jsx)(tS,{isFocused:i})]})};var tY=n(11324),tX=n(75074),t0=n(71737);let t1=e=>{let{hasNotes:t,isReadonly:n}=e;return t?n?(0,S.jsx)(P.x6,{id:"nqt+Fj"}):(0,S.jsx)(P.x6,{id:"+kQy/G"}):n?null:(0,S.jsx)(P.x6,{id:"GquPwe"})},t2=e=>{let{cardId:t,decorations:n,editor:a,getPos:i,hasNonEmptyCardNotes:r,isReadonly:l,...o}=e,d=(0,I.useCallback)(()=>{let e=i();if(!l){let{hasCardNotesNode:t}=(0,j.tg)(n);t||(0,t0.ni)(a,e)}let r=(0,s.KA)(),o=(0,tX.Ix)(r.getState());tY.R.emit("toggle",{clickedCardId:t,activeNotesCardId:o}),(0,t0.I5)(a,e)||a.commands.selectInsideNodeAtPos(e)},[t,n,l,a,i]),{color:c,bg:u,hoverColor:p,hoverBg:h,borderColor:g}=(0,eA.Nb)();return(0,S.jsx)(z.Tz,{label:(0,S.jsx)(t1,{hasNotes:r,isReadonly:l}),placement:"top",children:(0,S.jsx)(ei.$,{height:e4.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:g,color:c,boxShadow:"sm",cursor:"pointer",pointerEvents:"auto",fontSize:"14px",bg:u,minW:"auto",px:2,_hover:{color:p,background:h},onMouseDown:eC.Fw,onClick:d,...o,children:(0,S.jsx)(J.a,{as:"span",display:"inline-flex",children:(0,S.jsx)(eh.g,{icon:r?eM.hZM:ep.hZM})})})})};var t4=n(89115),t6=n(4913),t5=n(36512),t3=n(33424);let t9=e=>{let t,{isPresentMode:n,isNested:a,isFullBleed:i,displayFullBleed:r,isThumbnail:l,isMobileDevice:o,attrs:d,fontSize:c,nestedDepth:u}=e,{outerPaddingX:p,outerPaddingY:h,outerPaddingLeft:g,outerPaddingRight:m}=(0,t3.ng)({isPresentMode:n,isNested:a,isFullBleed:i,displayFullBleed:r,isThumbnail:l,isMobileDevice:o,attrs:d}),x=(0,t3.Qo)(c||"md"),f=(0,t3.mn)({isMobileDevice:o,numericFontSize:x}),b=f+(0,t3._F)(u),{cardMarginSettings:v}=(0,s.GV)(R.Uu),y=(0,s.GV)(R.SJ),w=(0,ef.Nk)(v)?t5.cK:(0,t6.hn)(v,null==y?void 0:y.config.roundness);return t=n||l?w:o?a?t5.rN:t5.HY+(i?t5._0:0):i?Math.max(t5.cK+t5.Ri,w):w,(0,I.useMemo)(()=>({"--card-inner-padding-x":"calc(".concat(f,"em / var(--card-font-scale, 1))"),"--card-inner-padding-y":"calc(".concat(t,"em / var(--card-font-scale, 1))"),"--card-inner-padding":"var(--card-inner-padding-y) var(--card-inner-padding-x)","--card-outer-padding-left":g,"--card-outer-padding-right":m,"--card-outer-padding-x":p,"--card-outer-padding-y":h,"--comment-padding":"".concat(b,"em"),"--nested-card-margin":"calc(-1 * var(--comment-padding))"}),[b,f,t,g,m,p,h])},t7=e=>{let{attrs:t,children:n,presentVariant:a,isPresentMode:i,isDark:r,isNested:l,isThumbnail:o,isFullBleed:d,displayFullBleed:c,isMobileDevice:u,fontSize:h,nestedDepth:g,theme:m,cardDimensions:x,showPresentBackdrop:f,userZoomLevel:b,verticalAlign:v,defaultContentWidth:y,contentWidth:w,docZoomLevel:C}=e,A=t9({isPresentMode:i,isNested:l,isFullBleed:d,displayFullBleed:c,isThumbnail:o,isMobileDevice:u,attrs:t,fontSize:h,nestedDepth:g}),j=(0,t3.X6)(u),I=(0,t4.P)({isPresentMode:i,isNested:l,nestedDepth:g,isFullBleed:d,isThumbnail:o,theme:m,cardDimensions:x,defaultContentWidth:y,contentWidth:w,showPresentBackdrop:f,isMobileDevice:u,fontSize:h,docZoomLevel:C,cardFontScale:t.fontScale}),{background:E,id:D}=t,M=(0,s.GV)(R.b6),_=l||o?void 0:(0,p.FD)(E,r);return(0,S.jsx)(q.s,{onDragOver:eC.JO,top:0,left:0,position:"relative",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",cursor:"default","data-animate-value":a,fontSize:"var(--editor-font-size, 1rem)",py:"var(--card-outer-padding-y)",pl:"var(--card-outer-padding-left)",pr:"var(--card-outer-padding-right)","data-card-id":D,"data-card-scroll-element":!0,overflow:i&&!l?"hidden auto":void 0,sx:{scrollbarGutter:!i||l||L.D1?void 0:"stable"},margin:"0 auto",className:(0,N.cx)(k.QJ,"card-expanded",i&&k.WZ,i&&"card-present-mode card-present-mode--".concat(a)),transitionProperty:"transform, padding",transitionDuration:"".concat(M?k.y0:0,"ms"),..._,css:{...A,...j,...I,"--zoom-level":b,"--card-vertical-align":v},children:n})};t7.displayName="CardContainer";var t8=n(56288),ne=n(29608);let nt=(0,S.jsx)(eh.g,{icon:ep.rMD}),nn=(0,I.memo)(function(e){let{cardId:t,getPos:n,editor:a,isNested:r,isCollapsed:l,isPresentMode:o,isEditable:s,isDark:c,top:u}=e,p=(0,e8.st)(),h=(0,I.useCallback)(()=>{if(o&&!s)a.commands.spotlightCollapseCard(n());else{(0,v.wE)(t,!0);let{selection:e}=a.state,r=(0,i.KP)(d.jg)(e);r&&r.node.attrs.id===t&&a.commands.selectNodeAtPos(n())}null==p||p.track(e8.VV.CARD_COLLAPSED,{method:"collapse_button",is_present_mode:!1})},[a,n,p,t,s,o]),g=(0,t8.EC)(),m=(0,I.useMemo)(()=>(0,S.jsx)(z.Tz,{label:(0,S.jsx)(P.x6,{id:"kBUgVh"}),placement:"top",portalProps:{containerRef:g},children:(0,S.jsx)(eE.K,{variant:"ghost",size:"sm",paddingInlineStart:6*!!(0,ne.Xb)(),paddingInlineEnd:2*!!(0,ne.Xb)(),onClick:h,onMouseDown:eC.Fw,isRound:!0,"aria-label":em.Ru._({id:"H86f9p"}),"data-collapse-card-button":!0,icon:nt,color:c?"gray.300":"gray.600"})}),[h,g,c]),x=(0,I.useMemo)(()=>(0,S.jsx)(ei.$,{size:"sm",variant:"ghost",position:"absolute",zIndex:2,bottom:[1,3],right:[2,4],rightIcon:(0,S.jsx)(eh.g,{icon:ep.w2A}),"data-collapse-card-button":!0,onMouseDown:eC.Fw,onClick:h,fontWeight:"normal",color:c?"gray.300":"gray.600",children:(0,S.jsx)(P.x6,{id:"H86f9p"})}),[h,c]);return(0,S.jsxs)(q.s,{contentEditable:!1,onClick:eC.dG,className:"manage-card-controls","data-print-hidden":!0,transitionProperty:"common",transitionDuration:"normal",display:"inherit",fontFamily:"body",sx:{"[data-collapse-card-button]":{visibility:r&&!l?"visible":"hidden"}},children:[(0,S.jsx)(_.z,{spacing:1,position:"absolute",top:u||[1,3],insetInlineEnd:[2,4],zIndex:2,children:m}),r&&!l&&x]})});var na=n(11235),ni=n(6807),nr=n(65148);let nl=()=>{let e=(0,eo.d)(),[t,n]=(0,ni.M)(nr.E.hasSeenPresentModeDblClickNotification,!1),a=(0,s.GV)(R.VJ);return{onDoubleClick:(0,I.useCallback)(()=>{if(!a||t)return;let i=new Date,r=new Date("2024-08-15");i.getTime()>r.getTime()||(n(!0),e({title:(0,S.jsx)(P.x6,{id:"xtaPrg"}),status:"info",position:"bottom",duration:3e3,isClosable:!0}))},[a,t,n,e])}},no=e=>{let{getPos:t,editor:n,decorations:a}=e,i=(0,na.f)(e),{isPresentMode:r,isNested:o,isFocused:d,isEditable:c,isMobileDevice:p,cardAccentBackgroundMaskEffect:h,cardAccentBackgroundMaskIntensity:g,cardId:m,isFullBleed:x,hasNonEmptyCardNotes:f,cardContentType:b}=i,v=(0,H.u)("realUserMetrics");(0,B.XX)(v,m,i.presentVariant,i.prevPresentVariant);let y=(0,G.JL)(a),w=(0,Z.b0)(a),C=(0,s.GV)((0,e2.C_)(m,"styling")),A=(0,s.GV)((0,e2.C_)(m,"editWithAI")),j=y||w||d,I=c&&(j||A||C),E=!o&&!n.isThumbnail&&!n.isStatic&&!p&&!n.shouldUsePublishedVersion&&!r&&(f||c&&j),R=(0,s.GV)((0,l.qw)(m)),{onDoubleClick:L}=nl(),{isCardMarginsModalOpen:q,onCloseCardMarginsModal:J,onOpenCardMarginsModal:$}=(0,F.g)();return(0,S.jsx)(U.u,{as:"div",style:{minHeight:r&&!o?"100vh":0},hideComments:!0,...e,children:(0,S.jsxs)(t7,{...i,children:[(0,S.jsx)(tx,{...i,children:(0,S.jsxs)(t$,{...i,...e,onDoubleClick:L,handle:(0,S.jsx)(Q.A,{...e,handlePlacement:"custom","data-testid":"card-drag-handle",zIndex:K.$.cardButtons,insetInlineStart:2,top:3,width:"18px",height:e4.PN,label:(0,S.jsxs)(D.T,{spacing:0,children:[(0,S.jsx)(M.E,{color:"gray.400",children:(0,S.jsx)(P.x6,{id:"63lY3K",components:{0:(0,S.jsx)(M.E,{color:"white",as:"span"})}})}),(0,S.jsx)(M.E,{color:"gray.400",children:(0,S.jsx)(P.x6,{id:"COhrZ5",components:{0:(0,S.jsx)(M.E,{color:"white",as:"span"})}})})]})}),children:[(0,S.jsx)(X,{...e}),(0,S.jsxs)(_.z,{pos:"absolute",insetInlineStart:8,insetInlineEnd:2.5,zIndex:K.$.cardButtons,top:3,align:"start",contentEditable:!1,pointerEvents:"none",spacing:1.5,children:[I&&"responsive"===b&&(0,S.jsx)(e3,{editor:n,getPos:t,...i,decorations:a,accentBackgroundMaskEffect:h,accentBackgroundMaskIntensity:g,onOpenCardMarginsModal:$}),I&&(0,S.jsx)(tr,{cardContentType:b,attrs:i.attrs,editor:n,getPos:t,node:e.node}),(0,S.jsx)(T.h,{}),c?R?(0,S.jsx)(tn,{...e,...i,isDark:i.isDark,isInteracting:j,suggestions:R}):i.attrs.generatorInput?(0,S.jsx)(tc,{...e,...i,isDark:i.isDark,input:i.attrs.generatorInput,isInteracting:j}):null:null,(0,S.jsx)(T.h,{}),E&&(0,S.jsx)(t2,{editor:n,cardId:m,decorations:a,getPos:t,hasNonEmptyCardNotes:f,isReadonly:!c})]}),(0,S.jsx)(u.$p,{dir:"ltr",className:(0,N.cx)(k._P,d&&"is-focused",o&&"is-nested",(r||x)&&"is-full-width",x&&!o&&!r&&"is-borderless",i.isDark&&"is-dark")}),q&&(0,S.jsx)(O.v,{editor:n,cardNode:e.node,getPos:t,isOpen:q,onClose:J}),o&&(0,S.jsx)(nn,{top:[1,3],...i,...e})]})}),(0,S.jsx)(W.A,{children:(0,S.jsx)(z.L8,{isDark:(0,V.Mw)(i.theme),children:(0,S.jsx)(tj,{display:!c||o||r?"none":"flex",editor:n,getPos:t,isNested:o})})})]})})};var ns=n(70259),nd=n(21088),nc=n(37605),nu=n(23746),np=n(40077),nh=n(26189),ng=n(83106),nm=n(86932),nx=n(17006);let nf=(0,I.memo)(e=>{let{decorations:t,editor:n,getPos:a,node:i}=e,r=(0,nd.st)(),l=(0,s.jL)(),{cardId:o,isPresentMode:d,isEditable:c,isMobileDevice:u}=(0,na.f)(e),{title:p,text:h}=(0,ns.d)({editor:n,node:i,cardId:o}),{previewContent:g}=e.node.attrs,m=""===g,x=null==p?void 0:p.replaceAll(nh.n,e=>'<span class="emoji">'.concat(e,"</span>")),f=(0,s.GV)(R.SJ),b=(0,nx.bh)("h4",f),y=(0,nm.A3)(t),w=(0,I.useCallback)(e=>{e.stopPropagation(),d&&!c?(l((0,R.mF)({attached:!1})),n.commands.descendIntoCurrentCard(a(),"push"),null==r||r.track(nc.VV.CARD_EXPANDED,{is_present_mode:!0,method:"click"})):((0,v.wE)(o,!1),setTimeout(()=>{if(!c||n.isDestroyed)return;let e=a();n.commands.selectInsideNodeAtPos(e)},50),null==r||r.track(nc.VV.CARD_EXPANDED,{is_present_mode:!1,method:"click"}))},[o,d,c,l,n,a,r]),C=m||!(null==h?void 0:h.trim());return(0,S.jsxs)(U.u,{...e,children:[(0,S.jsx)(Q.A,{...e,"data-testid":"card-drag-handle",handlePlacement:"outside"}),(0,S.jsxs)(J.a,{mb:"0.25em",position:"relative",contentEditable:!1,userSelect:"none",role:"group","data-card-id":o,"data-export-as-image":!0,children:[(0,S.jsxs)(e7.e,{position:"absolute",insetInlineEnd:"0.75em",top:"0.75em","data-print-hidden":!0,variant:"unstyled",colorScheme:"gray",fontFamily:"body","data-thumbnail-hidden":!0,children:[c&&(0,S.jsx)(nb,{hidePreview:m,...e}),(0,S.jsx)(nv,{onClick:w})]}),(0,S.jsxs)(J.a,{cursor:"pointer",className:(0,N.cx)(k.QJ,"card-collapsed",y&&"expandable-selected"),_groupHover:nu.uQ,...nu.zQ,paddingX:u?"1em":"1.5em",paddingY:"1em",onClick:w,"data-collapsed-card":!0,"data-selection-ring":!0,"data-selection-background":!0,"data-content-reference":!0,sx:{backgroundColor:"var(--clickable-background-color)",boxShadow:"var(--card-border-shadow, 0px 0px 0px 1px var(--neutral-border-color)), var(--card-box-shadow, var(--clickable-shadow))",borderRadius:"calc(var(--card-border-radius) / 2)","@media print":{boxShadow:"none",border:"var(--card-border, 1px solid var(--neutral-border-color))"}},children:[(0,S.jsx)(M.E,{sx:b,noOfLines:1,marginInlineEnd:"1.75em",mb:"0.375em",className:(0,N.cx)(np.U6),children:x?(0,S.jsx)(M.E,{as:"span",dangerouslySetInnerHTML:{__html:ng.W.sanitize(x)}}):p||(0,S.jsx)(M.E,{as:"span",color:"gray.400",children:(0,S.jsx)(P.x6,{id:"gLDJuJ"})})}),(0,S.jsxs)(_.z,{color:"var(--body-color-muted)",children:[(0,S.jsx)(M.E,{noOfLines:1,fontFamily:C?"body":void 0,fontSize:"0.9em",children:C?(0,S.jsx)(P.x6,{id:"4m3nxQ"}):h}),m&&(0,S.jsx)(eh.g,{icon:ep.Jt$,size:"sm"})]})]})]})]})});nf.displayName="CollapsedCard";let nb=e=>{let{hidePreview:t,updateAttributes:n}=e,a=(0,s.GV)(R.cS),i=(0,I.useCallback)(e=>{n&&(n({previewContent:t?null:""}),e.stopPropagation())},[n,t]);return(0,S.jsx)(ei.$,{opacity:0,zIndex:+!a,transitionProperty:"opacity",transitionDuration:"normal",_groupHover:{opacity:1},sx:nu.Up,fontSize:"0.7em",onClick:i,className:nu.Gx,children:t?(0,S.jsx)(P.x6,{id:"fsyAH8"}):(0,S.jsx)(P.x6,{id:"Po0vX/"})})},nv=e=>{let{onClick:t}=e,n=(0,s.GV)(R.cS);return(0,S.jsxs)(ei.$,{"aria-label":em.Ru._({id:"JjrOSL"}),className:nu.Gx,onClick:t,sx:nu.Up,zIndex:+!n,fontSize:"0.7em","data-testid":"expand-card-button",children:[(0,S.jsx)(eh.g,{icon:ep.vQu,fontSize:"0.9em"}),(0,S.jsx)(M.E,{as:"span",_groupHover:{opacity:1,display:"inline"},opacity:"0",display:"none",marginInlineStart:2,children:(0,S.jsx)(P.x6,{id:"1A3EXy"})})]})},ny=e=>{let{editor:t,node:n}=e,{id:a}=n.attrs,i=(0,s.GV)((0,R.WS)(a)),r=(0,s.GV)(R.nD),l=(0,E.UT)("edit"),o=null==t?void 0:t.isThumbnail,{isStatic:d}=t;return!n.attrs.hidden||L.D1||o||d||r&&l?i?(0,S.jsx)(nf,{...e}):(0,S.jsx)(no,{...e}):null};(()=>{if(A)return;let e=w.n.valid;w.n.valid=t=>{if(!(0,C.e)(t.doc).cardLayoutsEnabled)return e(t);let n=e(t);return!(n&&(t.nodeAfter&&(0,d.sw)(t.nodeAfter)||t.nodeBefore&&(0,d.sw)(t.nodeBefore)))&&n},A=!0})();let nw=e=>{if((0,g.Op)(e)||1===e.childCount&&(0,g.Op)(e.firstChild))return!0;if("blank"!==e.attrs.layout)return!1;let t=(0,d.dT)(e);if(0===t.length)return!1;let n=t.find(e=>"body"===e.attrs.itemId);return!!n&&1===n.childCount&&(0,g.Op)(n.firstChild)},nC=e=>{let{newNode:t,newDecorations:n,oldNode:a,oldDecorations:i,updateProps:r}=e,l=JSON.stringify(t.attrs)!==JSON.stringify(a.attrs),o=(0,b.w_)(i,n),s=nw(t)!==nw(a);return(l||o||s)&&(console.debug("[cardUpdateFn] Card ".concat(t.attrs.id," updateProps will be called:"),{oldDecorations:i,newDecorations:n,decorationsChanged:o}),r()),!0},nA=i.bP.create({name:k.Qs,content:"(block | cardBlock)+ | (cardLayoutItemGroup{1,2} | cardImageItem | cardCodeItem) cardNotes?",group:"cardBlock",defining:!1,isolating:!0,selectable:!1,draggable:!0,priority:x.y.Card,containerHandle:!0,imageKeyPath:"background.image",allowGapCursor:!1,expandable:!0,addNodeView(){return(0,u.gu)(ny,{update:nC,ignoreMutation:e=>{let{mutation:t}=e,n=this.editor.state.selection,a=t.target instanceof HTMLElement?t.target:t.target.parentElement,i="selection"!==t.type&&nj(a),l="selection"===t.type&&n instanceof r.nh&&(0,f.Bv)(n.node);return!!i||!!l}})},addProseMirrorPlugins(){return[(0,j.qc)(this.editor)]},addOptions:()=>({isStatic:!1}),addAttributes:()=>({id:{},previewContent:{default:null},background:{default:h.SS,...(0,g.tb)("background")},container:{default:{},...(0,g.tb)("container")},cardSize:{default:"default",parseHTML:e=>e.getAttribute("card-size")||"default"},layout:{default:"blank",parseHTML:e=>e.getAttribute("image-layout")||e.getAttribute("layout")||"blank"},layoutTemplateColumns:{default:null,parseHTML:e=>e.getAttribute("layout-template-columns")||null,renderHTML:e=>({"layout-template-columns":e.layoutTemplateColumns})},layoutTemplateRows:{default:null,parseHTML:e=>e.getAttribute("layout-template-rows")||null,renderHTML:e=>({"layout-template-rows":e.layoutTemplateRows})},verticalAlign:{default:null,parseHTML:e=>e.getAttribute("vertical-align"),renderHTML:e=>({"vertical-align":e.verticalAlign})},generatorInput:{default:null,...(0,g.tb)("generatorInput")},fontScale:{default:null},cardMarginSettings:{default:{},...(0,g.tb)("cardMarginSettings")},hidden:{default:!1}}),addExtensions(){return[tA.$b.configure({callback:(e,t,n)=>{0!==t.length&&t.forEach(e=>{let{val:t}=e;console.debug("[Card.UniqueCardId] New card id(".concat(t,") created. Will be created in postgres through content service.")),(0,v.wV)(t)})},types:[this.name]})]},addCommands:()=>({}),parseHTML:()=>[{tag:"div[class=gamma-card]"},{tag:"section",getAttrs:nk()},{tag:"section[bookmark]",getAttrs:m.Ll,getContent:m.cn}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,i.KV)(t,{class:"gamma-card"}),0]},renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e,i=(0,v.Wq)(t.attrs.id),r=(0,l.hn)((0,s.KA)().getState()),d=t.attrs;if(!1===i||r||n){var c,u,h,g;return["section",{id:n?void 0:d.id,"image-layout":d.layout,"layout-template-columns":null!=(c=d.layoutTemplateColumns)?c:void 0,"layout-template-rows":null!=(u=d.layoutTemplateRows)?u:void 0,"vertical-align":null!=(h=d.verticalAlign)?h:void 0,"background-color":null!=(g=(0,p.gK)(d.container.background))?g:void 0},0]}let x=(0,m.vL)(t),f=(0,a.getCardTitle)(t.toJSON()),b=(0,y.o_)(t);return["section",{bookmark:x,title:f,accentPosition:t.attrs.layout,accentImage:(null==b?void 0:b.image)?(0,o.ve)(b.image):void 0}]}}),nj=e=>{var t;return(null==e?void 0:e.parentElement)&&(e.classList.contains(k.QJ)||(null==(t=e.parentElement.closest(".".concat(k._P,", .").concat(k.QJ)))?void 0:t.classList.contains(k.QJ)))},nk=()=>e=>{let t=e.getAttribute("id")||tA.Yv.generate(),n=e.getAttribute("background-color");return{id:t,container:n?{background:{color:{hex:n},type:c.h.COLOR}}:void 0}}},26779:(e,t,n)=>{"use strict";n.d(t,{tN:()=>eu,Wv:()=>eh,a9:()=>ep,oB:()=>ex,Pf:()=>ef});var a=n(6029),i=n(94740),r=n(66199),l=n(18078),o=n(25311),s=n(49146),d=n(23908),c=n(36693),u=n(58959),p=n(20061),h=n(3448),g=n(72470),m=n(77979),x=n(16936),f=n(49611),b=n(57405),v=n(48810),y=n(99492),w=n(48621),C=n(91106),A=n(19564),j=n(77650),k=n(55729),S=n(62452),I=n(30892),E=n(96500),R=n(40452),L=n(50933),D=n(83743),M=n(25256),_=n.n(M),T=n(81136),N=n(38036),z=n(26420),P=n(33750),O=n.n(P),F=n(33612),H=n.n(F),B=n(70652),V=n(10500),W=n(45460);let U=(0,W.R)((e,t)=>{let{color:n,name:i,isActive:r,size:l=8,onClick:o,buttonProps:s}=e,d=(0,S.ZY)(n)?"white":"black";return(0,a.jsx)(C.Tz,{label:i,placement:"top",isDisabled:!i,children:(0,a.jsx)(f.$,{display:"inline-block",alignSelf:"center",boxSize:l,borderRadius:"md",border:"1px solid",borderColor:"gray.200",color:d,css:(0,S.Sf)(n),onClick:()=>null==o?void 0:o(n),variant:"unstyled",minW:l,fontSize:"xs",transitionProperty:"border",transitionDuration:"normal",ref:t,...s,children:r&&(0,a.jsx)(V.S,{})})})});U.displayName="ThemeColorIcon";var G=n(78140),K=n(36999),Q=n(41283),Z=n(37930),q=n(48478);let J=e=>{let{mode:t,setMode:n}=e;return(0,a.jsxs)(G.W,{children:[(0,a.jsx)(K.I,{as:f.$,size:"sm",rightIcon:(0,a.jsx)(w.g,{icon:y.Jt$,size:"sm"}),minW:24,textAlign:"start",children:t}),(0,a.jsx)(Q.c,{children:(0,a.jsx)(Z.i,{defaultValue:t,value:t,title:j.Ru._({id:"YDWhuY"}),type:"radio",onChange:n,children:["HEX","RGB","HSL"].map(e=>(0,a.jsx)(q.k,{value:e,children:e},e))})})]})},$={type:"solid",color:"#FF0000"},Y=e=>{let[t,n]=(0,k.useState)("HEX"),i=e.color||e.defaultColor||$,r=(0,S.Ik)(i),{updateColor:l}=e,o=(0,k.useCallback)(e=>{l({type:"solid",color:e})},[l]);return(0,a.jsxs)(b.T,{align:"start",spacing:4,children:[(0,a.jsx)(ef,{...e}),(0,a.jsxs)(b.T,{children:[(0,a.jsx)(ea,{color:r,onChange:o}),(0,a.jsxs)(u.z,{w:"100%",spacing:4,children:[(0,a.jsx)(U,{color:i}),(0,a.jsx)(en,{color:r,onChange:o}),(0,a.jsx)(ei,{color:r,onChange:o})]}),(0,a.jsxs)(u.z,{flex:1,w:"100%",children:[(0,a.jsx)(J,{mode:t,setMode:n}),"HEX"===t&&(0,a.jsx)(X,{initialFocusRef:e.initialFocusRef,color:r,updateColor:o,placeholder:$.color}),"HSL"===t&&(0,a.jsx)(ee,{color:r,updateColor:o}),"RGB"===t&&(0,a.jsx)(et,{color:r,updateColor:o})]})]})]})},X=e=>{let{color:t,updateColor:n,placeholder:i,initialFocusRef:r}=e,[l,o]=(0,k.useState)(t),[s,d]=(0,k.useState)(!1);(0,k.useEffect)(()=>{o(t)},[t]);let c=(0,k.useCallback)(e=>{let t=e.target.value;o(t),(0,I.fd)(t)&&n(t)},[n]),u=(0,k.useCallback)(e=>{let t=(0,B.U)(e.target.value);(0,I.fd)(t)&&n(t)},[n]);return(0,k.useEffect)(()=>{if(r&&!s){var e;null==(e=r.current)||e.select(),d(!0)}},[s,r]),(0,a.jsx)(N.p,{ref:r,size:"sm",type:"text",value:l,onChange:c,onBlur:u,onKeyDown:e=>{"Enter"===e.key&&u(e)},fontFamily:"mono",placeholder:i,"data-testid":"color-picker-text-input-hex"})},ee=e=>{let{color:t,updateColor:n}=e,i=H()(t).toHsl(),[r,l,o]=[i.h,100*i.s,100*i.l],s=e=>{n(H()({h:e,s:l/100,l:o/100}).toHexString())},d=e=>{n(H()({h:r,s:e/100,l:o/100}).toHexString())},c=e=>{n(H()({h:r,s:l/100,l:e/100}).toHexString())};return(0,a.jsxs)(u.z,{children:[(0,a.jsx)(N.p,{size:"sm",type:"number",value:Math.round(r),onChange:e=>s(Number(e.target.value)),min:0,max:360,step:1,flex:1}),(0,a.jsx)(N.p,{size:"sm",type:"number",value:Math.round(l),onChange:e=>d(Number(e.target.value)),min:0,max:100,step:1,flex:1}),(0,a.jsx)(N.p,{size:"sm",type:"number",value:Math.round(o),onChange:e=>c(Number(e.target.value)),min:0,max:100,step:1,flex:1})]})},et=e=>{let{color:t,updateColor:n}=e,i=H()(t).toRgb(),[r,l,o]=[i.r,i.g,i.b],s=e=>{n(H()({r:e,g:l,b:o}).toHexString())},d=e=>{n(H()({r,g:e,b:o}).toHexString())},c=e=>{n(H()({r,g:l,b:e}).toHexString())};return(0,a.jsxs)(u.z,{children:[(0,a.jsx)(N.p,{size:"sm",type:"number",value:r,onChange:e=>s(Number(e.target.value)),min:0,max:255,step:1,flex:1}),(0,a.jsx)(N.p,{size:"sm",type:"number",value:l,onChange:e=>d(Number(e.target.value)),min:0,max:255,step:1,flex:1}),(0,a.jsx)(N.p,{size:"sm",type:"number",value:o,onChange:e=>c(Number(e.target.value)),min:0,max:255,step:1,flex:1})]})},en=e=>{let{color:t,onChange:n}=e,i=H()(t).toHsv(),[r,l]=(0,k.useState)(i.h);return(0,k.useEffect)(()=>{l(i.h)},[i.h]),(0,a.jsxs)(L.Ap,{min:0,max:360,defaultValue:r,value:r,size:"lg",onChange:e=>{l(e),n(H()({h:e,s:i.s,v:i.v}).toHexString())},step:.1,focusThumbOnChange:!1,children:[(0,a.jsx)(L.hB,{h:3,borderRadius:"full",bgGradient:"linear(to-r, hsl(0, 100%, 50%),  hsl(60, 100%, 50%),  hsl(120, 100%, 50%),  hsl(180, 100%, 50%),  hsl(240, 100%, 50%),  hsl(300, 100%, 50%),  hsl(360, 100%, 50%))"}),(0,a.jsx)(L.OQ,{borderWidth:3,borderColor:"white",bg:"hsl(".concat(i.h,", 100%, 50%)"),boxSize:"24px",shadow:"md",outline:"1px solid",outlineColor:"blackAlpha.200"})]})},ea=e=>{let{color:t,onChange:n}=e,[i,r]=(0,k.useState)(!1),l=(0,k.useRef)(null),o=(0,k.useRef)(null),s=(0,k.useRef)(null),d=H()(t).toHsv(),c=H()({h:d.h,s:100,v:100}),u=(0,k.useCallback)((e,t)=>{if(!l.current)return;let n=e/l.current.width,a=1-t/l.current.height;return d.s=n,d.v=a,d},[d]),p=(0,k.useCallback)(e=>{if(!l.current)return{x:0,y:0};let t=H()(e).toHsv(),n=t.s,a=t.v;return{x:n*l.current.width,y:(1-a)*l.current.height}},[]),h=(0,k.useCallback)(()=>{let e=l.current,t=null==e?void 0:e.getContext("2d");if(!e||!t)return;let n=e.width,a=e.height,i=t.createLinearGradient(0,0,n,0);i.addColorStop(0,"white"),i.addColorStop(1,c.toHexString()),t.fillStyle=i,t.fillRect(0,0,n,a);let r=t.createLinearGradient(0,0,0,a);r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"black"),t.fillStyle=r,t.fillRect(0,0,n,a)},[c]),g=(0,k.useCallback)((e,t)=>{if(!l.current||!o.current)return{x:0,y:0};let n=l.current.clientWidth,a=l.current.clientHeight,i=O()(e,0,n),r=O()(t,0,a);return o.current.style.left="".concat(i,"px"),o.current.style.top="".concat(r,"px"),{x:i,y:r}},[]);(0,k.useEffect)(()=>{h();let{x:e,y:n}=p(t);g(e,n)},[t,p,h,g]);let m=(0,k.useCallback)(e=>{if(!s.current)return;let t=s.current.getBoundingClientRect(),{x:a,y:i}=g(e.clientX-t.left,e.clientY-t.top),r=u(a,i);r&&(n(H()(r).toHexString()),e.preventDefault())},[n,u,g]),x=(0,k.useCallback)(e=>{r(!1),e.preventDefault()},[]),f=(0,k.useCallback)(e=>{r(!0),m(e),e.preventDefault()},[m]);return(0,k.useEffect)(()=>{if(i)return document.addEventListener("mousemove",m),document.addEventListener("mouseup",x),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",x)}},[m,x,i]),(0,a.jsxs)(z.a,{pos:"relative",ref:s,onMouseDown:f,children:[(0,a.jsx)(z.a,{ref:o,pos:"absolute",w:5,h:5,border:"2px solid white",borderRadius:"full",transform:"translate(-50%, -50%) scale(".concat(i?1.2:1,")"),boxShadow:"md",transitionProperty:"transform",transitionDuration:"normal",bg:H()(t).toHexString(),outline:"1px solid",outlineColor:"blackAlpha.200"}),(0,a.jsx)(z.a,{as:"canvas",ref:l,width:"100%",height:"150px",borderRadius:"md",shadow:"base",border:"1px solid",borderColor:"gray.200"})]})},ei=e=>{let{onChange:t}=e,n=(0,k.useCallback)(()=>{new window.EyeDropper().open().then(e=>{t(e.sRGBHex)}).catch(e=>{console.error("Eyedropper error:",e)})},[t]);return"EyeDropper"in window?(0,a.jsx)(x.K,{size:"sm",icon:(0,a.jsx)(w.g,{fixedWidth:!0,icon:y.jC5}),onClick:n,variant:"ghost","aria-label":j.Ru._({id:"A94+Ww"})}):null},er=e=>{let[t,n]=(0,k.useState)("HEX"),{updateColor:i,color:r}=e,[l,o]=(0,k.useState)(0),s=r.stops[l],d=(0,k.useCallback)((e,t)=>{let n=[...r.stops];void 0===t?(n.splice(e,1),o(Math.min(e,n.length-1))):(n[e]=t,o(e)),i({...r,stops:n})},[r,i]),c=(0,k.useCallback)(e=>{let t=[...r.stops];t.push(e),t.sort((e,t)=>e.position-t.position),o(_()(t,e)),i({...r,stops:t})},[r,i]),p=(0,k.useCallback)(e=>{d(l,{...s,color:e})},[s,l,d]);return(0,a.jsxs)(b.T,{align:"start",spacing:4,children:[(0,a.jsx)(el,{...e,addStop:c,currentStop:s,updateStop:d,currentStopIndex:l,setCurrentStopIndex:o}),(0,a.jsx)(ef,{...e,updateColor:e=>{"linear-gradient"===e.type?i(e):p(null==e?void 0:e.color)}}),(0,a.jsx)(E.c,{}),(0,a.jsxs)(b.T,{children:[(0,a.jsx)(ea,{color:s.color,onChange:p}),(0,a.jsxs)(u.z,{w:"100%",spacing:4,children:[(0,a.jsx)(U,{color:r}),(0,a.jsx)(en,{color:s.color,onChange:p}),(0,a.jsx)(ei,{color:s.color,onChange:p})]}),(0,a.jsxs)(u.z,{flex:1,w:"100%",children:[(0,a.jsx)(J,{mode:t,setMode:n}),"HEX"===t&&(0,a.jsx)(X,{initialFocusRef:e.initialFocusRef,color:s.color,updateColor:p,placeholder:$.color}),"HSL"===t&&(0,a.jsx)(ee,{color:s.color,updateColor:p}),"RGB"===t&&(0,a.jsx)(et,{color:s.color,updateColor:p})]}),(0,a.jsx)(eo,{...e})]})]})},el=e=>{let{color:t,updateStop:n,currentStopIndex:i,setCurrentStopIndex:r,addStop:l}=e,{stops:o}=t,s=o.length>2,d=o.length<5;return(0,a.jsxs)(u.z,{w:"100%",spacing:0,children:[(0,a.jsx)(R.s,{borderRadius:"full",background:(0,T.yh)({...t,angle:90}),pos:"relative",h:3,border:"1px solid",borderColor:"gray.200",flex:1,me:2,children:o.map((e,t)=>{let l=t===i;return(0,a.jsx)(R.s,{pos:"absolute",inset:0,top:-1.5,children:(0,a.jsxs)(L.Ap,{size:"lg",value:e.position,min:0,max:100,step:1,onChange:a=>{n(t,{...e,position:a})},onClick:()=>r(t),children:[(0,a.jsx)(L.hB,{bg:"transparent",h:3}),(0,a.jsx)(L.OQ,{borderWidth:3,borderColor:"white",boxSize:"24px",shadow:"md",outline:l?"2px solid":"1px solid",outlineColor:l?"trueblue.300":"blackAlpha.200",bg:e.color})]})},t)})}),(0,a.jsx)(C.Tz,{label:(0,a.jsx)(A.x6,{id:"VztmP9"}),children:(0,a.jsx)(x.K,{icon:(0,a.jsx)(w.g,{icon:y.yLS}),"aria-label":j.Ru._({id:"VztmP9"}),onClick:()=>n(i,void 0),size:"sm",variant:"ghost",isDisabled:!s})}),(0,a.jsx)(C.Tz,{label:(0,a.jsx)(A.x6,{id:"MKajKJ"}),children:(0,a.jsx)(x.K,{icon:(0,a.jsx)(w.g,{icon:y.QLR}),"aria-label":j.Ru._({id:"MKajKJ"}),onClick:()=>{l(es(t))},size:"sm",variant:"ghost",isDisabled:!d})})]})},eo=e=>{let{color:t,updateColor:n}=e;return(0,a.jsxs)(b.T,{align:"start",w:"100%",children:[(0,a.jsx)(v.E,{fontWeight:"600",fontSize:"sm",color:"gray.500",children:(0,a.jsx)(A.x6,{id:"YMybpT"})}),(0,a.jsx)(D.r,{columns:4,spacing:2,w:"100%",children:ed.map(e=>{let i=t.angle===e.value;return(0,a.jsx)(U,{color:{...t,angle:e.value},onClick:()=>n({...t,angle:e.value}),isActive:i,buttonProps:{w:"100%"},name:e.label},e.value)})})]})},es=e=>{let t=e.stops[0],n=e.stops[1],a=e.stops.reduce((a,i,r)=>{let l=e.stops[r+1];if(!l)return a;let o=l.position-i.position;return o>a.distance?(t=i,n=l,{distance:o,position:i.position+o/2}):a},{distance:0,position:0});return{color:(0,I.tV)(t.color,n.color,a.position/100),position:a.position}},ed=[{label:"0\xb0",value:0},{label:"45\xb0",value:45},{label:"90\xb0",value:90},{label:"135\xb0",value:135},{label:"180\xb0",value:180},{label:"225\xb0",value:225},{label:"270\xb0",value:270},{label:"315\xb0",value:315}],ec=(0,W.R)((e,t)=>{let{color:n,updateColor:i,defaultColor:r={type:"solid",color:"#000000"},onClick:l,canReset:o,dataTestId:s}=e;return(0,a.jsxs)(g.M,{size:"md","data-testid":s,children:[(0,a.jsx)(N.p,{type:"text",placeholder:r?"".concat((0,S.ZR)(r)," ").concat(j.Ru._({id:"P9Cyl9"})):j.Ru._({id:"ovBPCi"}),value:n?(0,S.ZR)(n):"",readOnly:!0,fontFamily:"monospace",bg:"white",onFocus:l}),(0,a.jsx)(m.W,{children:(0,a.jsx)(U,{color:n||r,ref:t,onClick:l,size:7})}),o&&(0,a.jsx)(m.t,{children:(0,a.jsx)(C.Tz,{label:(0,a.jsx)(A.x6,{id:"L+rMC9"}),placement:"top",children:(0,a.jsx)(x.K,{"aria-label":j.Ru._({id:"cnGeoo"}),variant:"ghost",onClick:()=>i(void 0),icon:(0,a.jsx)(w.g,{icon:y.U23}),size:"sm",colorScheme:"red"})})})]})});ec.displayName="ThemeColorPickerInput";let eu=e=>{let t=(0,k.useRef)(null);return(0,a.jsxs)(i.A,{isLazy:!0,strategy:"fixed",modifiers:[{name:"preventOverflow",options:{altAxis:!0}}],initialFocusRef:t,children:[(0,a.jsx)(r.W,{children:(0,a.jsx)(ec,{...e,canReset:!!(e.color&&e.defaultColor)})}),(0,a.jsx)(l.h,{zIndex:"modalPopover",border:"1px solid",borderColor:"gray.50",children:(0,a.jsx)(o.e,{children:(0,a.jsx)(em,{...e,initialFocusRef:t})})})]})},ep=e=>(0,a.jsx)(eu,{...e,solidOnly:!0}),eh=e=>(0,a.jsx)(eu,{...e}),eg=["solid","linear-gradient"],em=e=>{let{color:t,updateColor:n,solidOnly:i}=e,r=(null==t?void 0:t.type)||"solid",l=eg.indexOf(r),o=(0,k.useCallback)(e=>{let a=eg[e];if(r===a)return;let i=(0,S.Ik)(t||$);"solid"===a?n({color:i,...t,type:"solid"}):"linear-gradient"===a&&n({stops:[{color:i,position:0},{color:(0,I.Pf)(i,(0,I.$p)(i)?20:-20),position:100}],angle:45,...t,type:"linear-gradient"})},[r,t,n]);return i?(0,a.jsx)(Y,{...e}):(0,a.jsxs)(s.t,{variant:"soft-rounded",size:"sm",isFitted:!0,isLazy:!0,index:l,onChange:o,children:[(0,a.jsxs)(d.w,{children:[(0,a.jsx)(c.o,{children:(0,a.jsxs)(u.z,{children:[(0,a.jsx)(w.g,{icon:y.l8N,fixedWidth:!0}),(0,a.jsx)(A.x6,{id:"5bi1la"})]})}),(0,a.jsx)(c.o,{children:(0,a.jsxs)(u.z,{children:[(0,a.jsx)(w.g,{icon:y.IlC,fixedWidth:!0}),(0,a.jsx)(A.x6,{id:"/S8bMP"})]})})]}),(0,a.jsxs)(p.T,{children:[(0,a.jsx)(h.K,{p:0,pt:4,children:(0,a.jsx)(Y,{...e})}),(0,a.jsx)(h.K,{p:0,pt:4,children:(0,a.jsx)(er,{...e,color:t})})]})]})},ex=e=>{let{colors:t,updateColors:n,buttonLabel:i,maxColors:r=10,minColors:l=0,theme:o,palette:s,solidOnly:d}=e,c=(0,k.useCallback)(e=>{let a=[...t];a.splice(e,1),n(a)},[t,n]),u=(0,k.useCallback)((e,a)=>{if(!a)return void c(e);let i=[...t];i[e]=a,n(i)},[t,n,c]),p=(0,k.useCallback)(()=>{n([...t,$])},[t,n]);return(0,a.jsxs)(a.Fragment,{children:[t.map((e,n)=>(0,a.jsxs)(g.M,{mb:2,css:{isolation:"unset"},children:[(0,a.jsx)(eh,{theme:o,color:e,updateColor:e=>u(n,e),palette:s,solidOnly:d}),t.length>l&&(0,a.jsx)(m.t,{children:(0,a.jsx)(C.Tz,{label:(0,a.jsx)(A.x6,{id:"DXNS21"}),placement:"top",children:(0,a.jsx)(x.K,{"aria-label":j.Ru._({id:"cnGeoo"}),variant:"ghost",size:"sm",colorScheme:"red",onClick:()=>c(n),icon:(0,a.jsx)(w.g,{icon:y.yLS})})})})]},n)),t.length<r&&(0,a.jsx)(f.$,{onClick:p,variant:"plain",size:"sm",leftIcon:(0,a.jsx)(w.g,{icon:y.QLR}),children:i||(0,a.jsx)(A.x6,{id:"Fz6khn"})})]})},ef=e=>{let{theme:t,color:n,updateColor:i,solidOnly:r=!1,palette:l="theme"}=e,o=[];return("theme"===l?o=(0,S.ND)(t,r):"accent"===l&&(o=(0,S.CD)(t)),r&&(o=o.filter(S.mO)),0===o.length)?null:(0,a.jsxs)(b.T,{align:"start",children:[(0,a.jsx)(v.E,{fontWeight:"600",fontSize:"sm",color:"gray.500",children:(0,a.jsx)(A.x6,{id:"DNUgpN"})}),(0,a.jsx)(u.z,{wrap:"wrap",children:o.map((e,t)=>(0,a.jsx)(U,{name:(0,S.mO)(e)?(0,S.ZR)(e):void 0,color:e,onClick:i,isActive:n&&(0,S.Gw)(n,e)},t))})]})}},27246:(e,t,n)=>{"use strict";n.d(t,{Bn:()=>C,OX:()=>w,jV:()=>y});var a=n(22905),i=n(63867),r=n(62040),l=n(97255),o=n(8944),s=n(15342),d=n(74677),c=n(52762),u=n(15607),p=n(28700),h=n(59080),g=n(53138),m=n(36145),x=n(47665),f=n(17275),b=n(39822),v=n(94922);let y=new i.hs("cardLayoutPlugin"),w=e=>new i.k_({key:y,state:{init:()=>({draggingData:null}),apply:(e,t)=>t},filterTransaction:(e,t)=>{if(!e.docChanged||!((0,a.BQ)(t.selection)&&(0,x.sw)(t.selection.node))||e.steps.every(e=>e instanceof r.q4)||e.getMeta("imageUploadUpdateAttrs")||e.steps.every(t=>{if(!(t instanceof r.Ln))return!1;let n=e.before.nodeAt(t.from);if(!n||!(0,v.wL)(n))return!1;let a=t.slice.content;return 1===a.childCount&&(0,v.wL)(a.firstChild)}))return!0;let n=(0,d.A)(e).every(t=>{let n=e.before.nodeAt(t.oldStart);return!n||!(0,x.sw)(n)});return n||console.warn("[CardLayoutPlugin] blocking transaction with CardLayoutItem selected"),n},appendTransaction:(t,n,i)=>{if(!(t.some(e=>e.docChanged)&&!n.doc.eq(i.doc))||!(0,h.e)(e.state.doc).cardLayoutsEnabled)return;let r=i.tr,l=(0,a.T7)(n.doc,t);if((0,d.A)(l).forEach(t=>{let n={from:t.newStart,to:t.newEnd};(0,a.Nx)(i.doc,n,e=>"card"===e.type.name&&"responsive"===(0,x.g6)(e)).forEach(t=>{let{pos:a}=t;if(a<n.from)return;let i=r.mapping.map(a),l=r.doc.nodeAt(i);if(!l)return;let o=(0,v.lH)(l.attrs.layout);(0,v.Fm)(r,i,e.schema,o)})}),r.docChanged)return r},props:{handleDOMEvents:{dragstart:(t,n)=>(0,b.Po)(e,t,n),drop(t,n){let a=t.state.tr,i=(0,b.ZL)(t,n);if(i&&i.isImageUpload){n.preventDefault();let r=i.pos;(0,f.c)(e,a,r,i.layout);let{accent:l}=(0,v.dg)(a,r);if(!l)throw Error("Could not find accent after setting card layout=".concat(i.layout," at pos=").concat(i.pos));return(0,g.TH)(e,a,i.file,l.pos),t.dispatch(a),!0}let r=(0,b.nA)(t,n);if(r&&r.isImageUpload)return n.preventDefault(),(0,g.TH)(e,a,r.file,r.pos),t.dispatch(a),!0;let l=(0,b.aI)(e,t,n),o=y.getState(t.state);return l&&o&&(o.draggingData={removeLayoutFromCardId:l.node.attrs.id}),!1}},handlePaste:(t,n,a)=>{let{selection:r}=t.state;if(!(r instanceof i.nh&&(0,v.wL)(r.node)))return!1;let l=(0,m.bC)(e,n,a),o=(0,p.H)(a);if(o&&"image"!==o.type.name||!l)return!1;let s=l.attrs||(null==o?void 0:o.attrs);return e.commands.updateNestedAttributesAtPos(r.from,{background:{image:s,type:c.h.IMAGE,source:null==s?void 0:s.source}}),l.upload(),!0},handleDrop(t,n,a){let i=t.state.tr,r=(0,b.f0)(e,i,t,n,a),l=(0,b.vR)(t,i,n,a);return(!!r||!!l)&&((0,b.zZ)(e,i),t.dispatch(i),!0)},decorations:e=>{let{doc:t}=e,n=[];return t.descendants((e,a)=>{if("card"===e.type.name){let i=t.resolve(a),r=(0,u.TK)(i,x.jg).map(e=>e.node),d=(0,o.uw)((0,s.KA)().getState()),c=(0,v.zr)({parentCards:r,layout:e.attrs.layout,isMobileDevice:d});e.forEach((t,a)=>{let o=i.pos+a+1;if(!(0,x.sw)(t))return;let s={cardId:e.attrs.id,isCardLayoutDecoration:!0,layout:c,cardSize:e.attrs.cardSize,isNested:r.length>=1};n.push(l.NZ.node(o,o+t.nodeSize,{"data-layout-item-id":t.attrs.itemId},s))})}}),l.zF.create(t,n)}}}),C=e=>{let t=e.find(e=>e.spec.isCardLayoutDecoration);return null==t?void 0:t.spec}},27856:(e,t,n)=>{"use strict";n.d(t,{D:()=>s,h:()=>o});var a=n(51684),i=n(50171),r=n(50507);let l={blankCard:"/new"},o=()=>(0,r.st)().reduce((e,t)=>{let{id:n,name:i,jsonContent:r}=t;return e[n]={type:"cardTemplate",key:n,nodeName:"card",name:i,...l[n]&&{shortcut:l[n]},icon:a.Qyz,execute:e=>{e.commands.insertContentAndSelect(r)}},e},{}),s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return(0,i.g)(e).map(e=>{let{name:t,templateIds:n}=e,a=n.map(e=>o()[e]);return{subcategory:t(),items:a}})}},28613:(e,t,n)=>{"use strict";n.d(t,{$:()=>x});var a=n(6029),i=n(21938),r=n(22905),l=n(94289),o=n(55729),s=n(4097),d=n(15607),c=n(33201);let u=e=>{let t={};for(let n of e.attributes){let e=n.name;"class"===e?t.className=n.value:"contenteditable"===e&&"false"===n.value||(t[e]=n.value)}return t},p=(e,t,n,i)=>{let r=Array.from(n.contentComponent.renderers.values()).find(t=>t.props.node===e);if(r){let e=r.element.nodeName.toLowerCase()||"div",{style:n,...l}=u(r.element);return(0,a.jsx)(e,{"data-pos":t,...l,STYLE:"white-space: inherit;".concat(n),children:(0,a.jsx)(r.component,{...r.props,children:i})},r.id)}return null},h=e=>{var t;return null!=(t=e.config.renderHTMLforSSR)?t:e.config.renderHTML},g=e=>{let t={...e};return(null==t?void 0:t.style)&&(t.STYLE=t.style,delete t.style),(null==t?void 0:t.class)&&(t.className=t.class,delete t.class),(null==t?void 0:t.colspan)&&(t.colSpan=t.colspan,delete t.colspan),(null==t?void 0:t.rowspan)&&(t.rowSpan=t.rowspan,delete t.rowspan),t},m=(e,t)=>{var n;let a=(0,d.vC)(e,t.type);if(!a)return[];let i=e.extensionManager.attributes.filter(e=>e.type===t.type.name),l=(0,r.zU)(t,i),o=a;for(;!h(o)&&o.parent;)o=o.parent;let s=null==(n=h(o))?void 0:n.bind(a);if(!s)return[];let[c,u,p]=s({HTMLAttributes:l,node:t,mark:t,editor:e});return[c,g(u),p]},x=o.memo(e=>{let{node:t,editor:n,getPos:r}=(0,s.c)();if(!t||!n)return null;let d=e.as||"div",u=t.isInline||t instanceof l.CU?"span":"div",h=[],g="function"==typeof r?r():null,x=(e,t,r)=>{let l=(null===g?0:g)+t+1,s=p(e,l,n);if(s)return s;let d=t=>Array.from(e.marks).reverse().reduce((e,t)=>{let a=p(t,l,n,e);if(a)return a;let[i,s,d]=m(n,t)||[];return i?o.createElement(i,{key:r,...s},e):e},t),u=null===g?[]:(0,c.j5)(n,l),[h,f,b]=m(n,e);if(h&&f){let n=null;if(0===b&&e.firstChild){let a=[];e.forEach((e,n,i)=>{a.push(x(e,t+n,"".concat(r,"_").concat(i)))}),n=a,console.debug("[SSR NodeViewContent] HOLE",a)}else Array.isArray(b)?(console.debug("[SSR NodeViewContent] children array",b),n=[...b]):b&&(console.debug("[SSR NodeViewContent] children plain",b),n=b);let{nodeName:a,...s}=u.map(e=>{var t;return null==(t=e.type)?void 0:t.attrs}).reduce((e,t)=>({...e,...t}),{}),c={...f,...s,className:(0,i.cx)(s.class,f.class),"data-pos":l};return delete c.class,console.debug("[SSR NodeViewContent] non-nodeview:",r,c,b),d(o.createElement(h,{key:r,...c},n))}return e.isText?d((0,a.jsx)(o.Fragment,{children:e.textContent},r)):null};return t.forEach((e,n)=>{let a=h.length+1,i=x(e,n,"".concat(a));i?h.push(i):console.warn("%c [Simple NodeViewContent] UNKNOWN NODE $$$$$$$$$$$$$$$$$$$$$$$$$","background-color: aqua; font-weight: bold",{unknownNode:e,parentNode:t})}),(0,a.jsx)(d,{...e,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...e.style},children:(0,a.jsx)(u,{"data-node-view-content-inner":t.type.name,style:{whiteSpace:"inherit"},children:0===h.length?null:1===h.length?h[0]:h})})});x.displayName="NodeViewContent"},28630:(e,t,n)=>{"use strict";n.d(t,{Rz:()=>j,Xz:()=>A,hU:()=>I,pH:()=>D,pE:()=>S,kO:()=>_,yC:()=>L,CX:()=>M,vp:()=>k});var a=n(77650),i=n(96557),r=n.n(i),l=n(91938),o=n(40240),s=n(88586),d=n(58929),c=n(68301),u=n(99038);let p={src:"/_next/static/media/bfl.a86f9951.png",height:2256,width:2561,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAHlBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC3KG9qAAAACnRSTlMBQFJgcRSXuCaFPo2lFwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADBJREFUeJwlxcENwDAMA7GTJdvJ/gsHRT8kAP0B1P73dTjAVU8ZFGkGeiuVDccuS3oOugCSP0iVmQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:7},h={src:"/_next/static/media/google-gemini.9684c9bb.svg",height:28,width:28,blurWidth:0,blurHeight:0},g={src:"/_next/static/media/openai.9e224d80.svg",height:320,width:320,blurWidth:0,blurHeight:0},m={src:"/_next/static/media/recraft.93345919.svg",height:112,width:112,blurWidth:0,blurHeight:0},x="Recraft",f="HiDream",b={creatorLabel:()=>"Ideogram",image:{src:"/_next/static/media/ideogram.8efa42ed.svg",height:1e3,width:1e3,blurWidth:0,blurHeight:0},flag:"ideogram",provider:"ideogram"},v={creatorLabel:()=>"Luma",image:{src:"/_next/static/media/luma.cb337efe.png",height:773,width:773,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB/eFplAAAADHRSTlMAtCpmPA2+o1LqxpEc7o9kAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMElEQVR4nDWJyQ0AIAzD0pvC/vuiBpGPLQcAIsDpcXKJPDGpL7uUV3eKjXmmMSEGFxNgAJCEwikWAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},flag:"lumaPhoton",provider:"luma"},y={creatorLabel:()=>"HiDream",image:{src:"/_next/static/media/hidream.7bd5808f.png",height:1111,width:1108,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAMFBMVEUNh/8ckP8djv8cjf9wt/8cj/8cjf8ajf8ilP+Px//X6/9drv9+v/+12v+63f+m0v++RLyOAAAAB3RSTlP+6vtX/lla4FnFQgAAAAlwSFlzAAAuIgAALiIBquLdkgAAADpJREFUeJwdxkEOwCAMA8F1oHVCoP9/LlLnNAw5wnpRpiNTsBecCdTqrv5zvlVA1941QWnbKYYiIvRcMsABZ7SihF4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},provider:"baseten"},w=["flux-1-schnell","imagen-3-flash","flux-1-quick","flux-kontext-fast","ideogram-v3-flash"],C=["ideogram-v3-turbo","flux-1-pro","imagen-3-pro"],A={"playground-2.5":"flux-1-schnell","stable-diffusion-xl-v1-0":"flux-1-schnell","playground-3":"flux-1-pro","ideogram-v2-turbo":"ideogram-v3-turbo","ideogram-v2":"ideogram-v3"},j={"flux-1-schnell":{label:()=>"Flux Fast",description:()=>a.Ru._({id:"iksSRU",values:{FLUX_PROPER_NOUN:u.Uq}}),creatorLabel:()=>"Black Forest",image:p,flag:"flux1Schnell",disabledFlag:"flux1Quick",fallbackModels:r()(w,"flux-1-schnell"),provider:"baseten",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1HfW/F"}),speed:4},"flux-1-quick":{label:()=>"Flux Fast 1.1",description:()=>a.Ru._({id:"hpqgA9"}),creatorLabel:()=>"Black Forest",image:p,flag:"flux1Quick",fallbackModels:r()(w,"flux-1-quick"),provider:"flux",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1HfW/F"}),speed:4},"flux-kontext-fast":{label:()=>"Flux Kontext Fast",description:()=>a.Ru._({id:"Cw1xXb"}),creatorLabel:()=>"Black Forest",image:p,flag:"fluxKontextFast",fallbackModels:r()(w,"flux-kontext-fast"),provider:"flux",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"UUMdE6"}),speed:4,badge:"new"},"flux-1-pro":{label:()=>"Flux Pro",description:()=>a.Ru._({id:"lM7MEX"}),creatorLabel:()=>"Black Forest",image:p,flag:"flux1Pro",minProductTier:"plus",fallbackModels:r()(C,"flux-1-pro"),provider:"flux",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"UUMdE6"}),speed:2},"flux-kontext-pro":{label:()=>"Flux Kontext Pro",description:()=>a.Ru._({id:"lM7MEX"}),creatorLabel:()=>"Black Forest",image:p,flag:"fluxKontextPro",minProductTier:"plus",fallbackModels:r()(C,"flux-kontext-pro"),provider:"flux",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"UUMdE6"}),speed:2,badge:"new"},"flux-kontext-max":{label:()=>"Flux Kontext Max",description:()=>a.Ru._({id:"lM7MEX"}),creatorLabel:()=>"Black Forest",image:p,flag:"fluxKontextMax",minProductTier:"pro",fallbackModels:r()(C,"flux-kontext-max"),provider:"flux",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"UUMdE6"}),speed:2,badge:"new"},"flux-1-ultra":{label:()=>"Flux Ultra",description:()=>a.Ru._({id:"fr7zhY"}),creatorLabel:()=>"Black Forest",image:p,flag:"flux1Ultra",minProductTier:"pro",fallbackModels:r()(C,"flux-1-ultra"),provider:"flux",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1HfW/F"}),speed:1},"imagen-3-flash":{label:()=>"Imagen 3 Fast",description:()=>a.Ru._({id:"Q9Ah87",values:{GOOGLE_PROPER_NOUN:u.kO}}),creatorLabel:()=>"Google",image:h,minProductTier:"free",flag:"imagenFlash",fallbackModels:r()(w,"imagen-3-flash"),provider:"google",bestStyle:()=>a.Ru._({id:"+hJIb3"}),bestType:()=>a.Ru._({id:"1HfW/F"}),speed:4},"imagen-3-pro":{label:()=>"Imagen 3",description:()=>a.Ru._({id:"WRAPSR",values:{GOOGLE_PROPER_NOUN:u.kO}}),creatorLabel:()=>"Google",image:h,minProductTier:"plus",flag:"imagen3",fallbackModels:r()(C,"imagen-3-pro"),provider:"google",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1TSz1T"}),speed:2},"imagen-4-fast":{label:()=>"Imagen 4 Fast",description:()=>a.Ru._({id:"3vHhZU",values:{GOOGLE_PROPER_NOUN:u.kO}}),creatorLabel:()=>"Google",image:h,minProductTier:"plus",flag:"imagen4Fast",fallbackModels:r()(C,"imagen-4-fast"),provider:"google",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1TSz1T"}),speed:2,badge:"beta"},"imagen-4-pro":{label:()=>"Imagen 4",description:()=>a.Ru._({id:"2YnLm1",values:{GOOGLE_PROPER_NOUN:u.kO}}),creatorLabel:()=>"Google",image:h,minProductTier:"pro",flag:"imagen4",fallbackModels:r()(C,"imagen-4-pro"),provider:"google",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1TSz1T"}),speed:2,badge:"beta"},"imagen-4-ultra":{label:()=>"Imagen 4 Ultra",description:()=>a.Ru._({id:"WRAPSR",values:{GOOGLE_PROPER_NOUN:u.kO}}),creatorLabel:()=>"Google",image:h,minProductTier:"pro",flag:"imagen4",fallbackModels:r()(C,"imagen-4-pro"),provider:"google",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1TSz1T"}),speed:1,badge:"beta"},"ideogram-v3-turbo":{...b,label:()=>"Ideogram 3 Turbo",description:()=>a.Ru._({id:"YiuHAi",values:{IDEOGRAM_PROPER_NOUN:u.X4}}),flag:"ideogram3",freeFlag:"ideogramTurboFree",minProductTier:"plus",fallbackModels:r()(C,"ideogram-v3-turbo"),bestStyle:()=>a.Ru._({id:"+hJIb3"}),bestType:()=>a.Ru._({id:"xeiujy"}),speed:3},"ideogram-v3-flash":{...b,label:()=>"Ideogram 3 Flash",description:()=>a.Ru._({id:"nzTHCG",values:{IDEOGRAM_PROPER_NOUN:u.X4}}),flag:"ideogram3Flash",minProductTier:"free",fallbackModels:r()(w,"ideogram-v3-flash"),bestStyle:()=>a.Ru._({id:"+hJIb3"}),bestType:()=>a.Ru._({id:"xeiujy"}),speed:4,badge:"new"},"ideogram-v3":{...b,label:()=>"Ideogram 3",description:()=>a.Ru._({id:"pKUvA/",values:{IDEOGRAM_PROPER_NOUN:u.X4}}),flag:"ideogram3",minProductTier:"pro",fallbackModels:r()(C,"ideogram-v3"),bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"xeiujy"}),speed:2},"gpt-image-1-low":{label:()=>"GPT Image Fast",description:()=>a.Ru._({id:"WJ/Qyy"}),creatorLabel:()=>"OpenAI",image:g,minProductTier:"pro",flag:"gpt4oImageMedium",fallbackModels:r()(w,"gpt-image-1-low"),provider:"openai",bestStyle:()=>a.Ru._({id:"Xo8Ctl"}),bestType:()=>a.Ru._({id:"7uXRvn"}),speed:1},"gpt-image-1-medium":{label:()=>"GPT Image",description:()=>a.Ru._({id:"8PB+vO"}),creatorLabel:()=>"OpenAI",image:g,minProductTier:"pro",flag:"gpt4oImageMedium",fallbackModels:r()(C,"gpt-image-1-medium"),provider:"openai",bestStyle:()=>a.Ru._({id:"HSEky6"}),bestType:()=>a.Ru._({id:"7uXRvn"}),speed:1,badge:"new"},"gpt-image-1-high":{label:()=>"GPT Image Detailed",description:()=>a.Ru._({id:"5XcnJA"}),creatorLabel:()=>"OpenAI",image:g,minProductTier:"pro",flag:"gpt4oImage",fallbackModels:r()(C,"gpt-image-1-high"),provider:"openai",bestStyle:()=>a.Ru._({id:"HSEky6"}),bestType:()=>a.Ru._({id:"7uXRvn"}),speed:1},"leonardo-phoenix":{label:()=>"Leonardo Phoenix",description:()=>a.Ru._({id:"iEAL9X"}),creatorLabel:()=>"Leonardo",image:{src:"/_next/static/media/leonardo.71fd3bf9.png",height:180,width:180,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAdVBMVEVMaXFgWnpcLEFUKYRqa4ExXYBDNSgpIR5aUVp3boNLRGBIX1BNOytXaXULGyVcZHoIMT93a2NnYXV4VEeamJNWgJrXy7GfjXSmlHi6nlVxW3GlnJpXO1CSeoS3mnvMvKRfR1w7QUhhU5qhiTw0V2RrcHGOS2+E6qt3AAAAFHRSTlMAmnPO/vlKKG3+fIFRsx7aOLnd+C0RAK4AAAAJcEhZcwAAA+gAAAPoAbV7UmsAAABGSURBVHicBcEFAoAgAACxQ0GwC0Ww8/9PdAO0MRogk7NNc0iWddvdWVAeqR3901JLZcf77RDDME3OCyp1hfD1GpoojqOEH4N0A88EV3bcAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},flag:"leonardoPhoenix",fallbackModels:r()(C,"leonardo-phoenix"),minProductTier:"plus",provider:"leonardo",bestStyle:()=>a.Ru._({id:"+hJIb3"}),bestType:()=>a.Ru._({id:"xeiujy"}),speed:2},"luma-photon-1":{...v,fallbackModels:r()(C,"luma-photon-1"),label:()=>"Luma Photon",description:()=>a.Ru._({id:"qmMxhc"}),flag:"lumaPhoton",minProductTier:"plus",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1HfW/F"}),speed:3},"luma-photon-flash-1":{...v,fallbackModels:r()(w,"luma-photon-flash-1"),label:()=>"Luma Photon Flash",description:()=>a.Ru._({id:"eNdOBa"}),flag:"lumaPhoton",minProductTier:"free",bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1HfW/F"}),speed:4},"recraft-v3":{label:()=>x,description:()=>a.Ru._({id:"z+qo6V"}),creatorLabel:()=>"Recraft",image:m,flag:"recraftModel",fallbackModels:r()(C,"recraft-v3"),minProductTier:"pro",provider:"recraft",bestStyle:()=>a.Ru._({id:"+hJIb3"}),bestType:()=>a.Ru._({id:"1HfW/F"}),speed:2},"recraft-v3-svg":{label:()=>a.Ru._({id:"rftVBi",values:{RECRAFT_PROPER_NOUN:x}}),description:()=>a.Ru._({id:"SLi7QF"}),creatorLabel:()=>"Recraft",image:m,flag:"recraftSvgModel",fallbackModels:r()(C,"recraft-v3-svg"),minProductTier:"pro",provider:"recraft",bestStyle:()=>a.Ru._({id:"+hJIb3"}),bestType:()=>a.Ru._({id:"xeiujy"}),speed:2},"dall-e-3":{label:()=>"DALL\xb7E 3",description:()=>a.Ru._({id:"wPYsgu",values:{OPENAI_PROPER_NOUN:u.PS}}),creatorLabel:()=>"OpenAI",image:g,minProductTier:"pro",flag:"dalle3",fallbackModels:r()(C,"dall-e-3"),provider:"azure",bestStyle:()=>a.Ru._({id:"+hJIb3"}),bestType:()=>a.Ru._({id:"1TSz1T"}),speed:1},"hidream-i1-fast":{...y,label:()=>"HiDream Fast",description:()=>a.Ru._({id:"qXNWsH",values:{HIDREAM_PROPER_NOUN:f}}),minProductTier:"free",fallbackModels:r()(w,"hidream-i1-fast"),bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"1HfW/F"}),speed:4,flag:"hidreamFast"},"hidream-i1-dev":{...y,label:()=>"HiDream Dev",description:()=>a.Ru._({id:"uUP9i3",values:{HIDREAM_PROPER_NOUN:f}}),minProductTier:"plus",fallbackModels:r()(C,"hidream-i1-dev"),bestStyle:()=>a.Ru._({id:"+hJIb3"}),bestType:()=>a.Ru._({id:"p1FnrO"}),speed:2,flag:"hidreamDev"},"hidream-i1-full":{...y,label:()=>"HiDream Full",description:()=>a.Ru._({id:"KtBcIR",values:{HIDREAM_PROPER_NOUN:f}}),minProductTier:"pro",fallbackModels:r()(C,"hidream-i1-full"),bestStyle:()=>a.Ru._({id:"6M03+0"}),bestType:()=>a.Ru._({id:"w6Q431"}),speed:1,flag:"hidreamFull"}},k=()=>Object.keys(j).map(e=>({model:e,...j[e]})).sort((e,t)=>e.label().localeCompare(t.label(),"en-US",{sensitivity:"base"})),S=e=>j[e]||j[c.of.get("aiGeneratedImagesDefaultModel")],I=async(e,t)=>{var n,a;let{themeId:i,docId:r,...u}=e,p=i?{context:s.rWX.Theme,themeId:e.themeId}:r?{context:s.rWX.Doc,docId:e.docId}:{context:e.context},h=c.of.get("aiGeneratedImagesDefaultModel"),g=null!=(a=e.model)?a:h,m="".concat(l.$.API_HOST||"https://api.gamma.app","/media/images/generate"),x=(null==(n=S(g).fallbackModels)?void 0:n.filter(M))||[],f=x.includes(h)?h:x[0],b={interactionId:e.interactionId,interface:"generate-image",streaming:!1,inputContent:e.prompt,docId:e.docId,generateImageOptions:e};(0,o.rl)(b);let v=performance.now();try{let e=await (0,d.P)(m,{signal:null==t?void 0:t.signal,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:g,...u,fallbackModel:f,...p}),credentials:"include"},{parseResponse:e=>e.json(),captureException:e=>{R(e)||e.logToErrorTracker()}});return(0,o.Yh)({...b,latency:performance.now()-v,generateImageUrls:e.map(e=>e.attrs.src)}),e}catch(e){throw console.error("(caught) [AIGenerateImage] error:",e),(0,o.tB)({...b,latency:performance.now()-v,errorName:"GenerateImageError",errorMessage:e.message,outputMessage:""}),e}},E={sexual:()=>a.Ru._({id:"gHG6wD"}),violence:()=>a.Ru._({id:"x40BeZ"}),prohibited:()=>a.Ru._({id:"UiRApc"})};function R(e){var t;return(null==(t=e.body)?void 0:t.code)==="prohibited_input"}function L(e){let t;if(e instanceof d.f)if(R(e)){var n,i,r;t=E[(r=null!=(i=null==(n=e.body)?void 0:n.categories)?i:{}).sexual||r["sexual/minors"]?"sexual":r.violence||r["violence/graphic"]?"violence":"prohibited"]()}else t=e.userFacingErrorDescription();return t?a.Ru._({id:"ZJbOi7",values:{additionalErrorContext:t}}):a.Ru._({id:"Id+8aq"})}let D=e=>{if(e&&j[e]){let t=j[e];if(t.aspectRatios)return t.aspectRatios}return["square","portrait","landscape"]},M=e=>{let t=j[e];return!(!t||t.flag&&!c.of.get(t.flag)&&e!==c.of.get("aiGeneratedImagesDefaultModel")||t.disabledFlag&&c.of.get(t.disabledFlag))},_=e=>{let t=j[e];return!t||t.freeFlag&&c.of.get(t.freeFlag)?"free":t.minProductTier||"free"}},28647:(e,t,n)=>{"use strict";n.d(t,{D:()=>a}),n(47665);let a=e=>{var t;return(null==(t=e.find(e=>e.spec.isBlockWidthDecoration))?void 0:t.spec)||{}}},28700:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,j:()=>l});var a=n(63867),i=n(23513);function r(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}let l=(e,t,n)=>{if(!n)return!0;let l=r(n),o=l&&e.state.selection instanceof a.nh,s=l?e.state.tr.replaceSelectionWith(l,e.input.shiftKey):e.state.tr.replaceSelection(n),d=(0,i.i)(s);return d?s.setSelection(d):o&&s.setSelection(a.nh.create(s.doc,e.state.selection.from)),e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}},29347:(e,t,n)=>{"use strict";n.d(t,{Am:()=>u,Nx:()=>h,vI:()=>p});var a=n(94289),i=n(63867),r=n(40240),l=n(50861),o=n(39977),s=n(23144),d=n(15607),c=n(66079);let u=(e,t,n)=>{let a=(0,o.A)({editor:e,selection:t,freshNode:n});if(a){if("smartLayoutCell"===a.node.type.name){let e=(0,s.BJ)(a.node.attrs.variantKey);if(!a.attrs.source){var r,l,c;if(null==(l=e.defaultAttrs)||null==(r=l.image)?void 0:r.source)a.attrs.source=e.defaultAttrs.image.source;else{let e=(0,d.F2)(t.$from.parent.content).find(e=>{var t;return null==(t=e.attrs.image)?void 0:t.source});a.attrs.source=null==e||null==(c=e.attrs.image)?void 0:c.source}}}let e="imgKeyPath"in a?a.imgKeyPath:void 0;return{...a,type:a.node.type,accesoryKeyPath:e,editType:"accessory"===a.area||"background"===a.area?a.area:void 0}}if(t instanceof i.nh){let e=t.node;return{editType:"node",id:e.attrs.id,...e}}if(t instanceof i.U3){if(t.to-t.from==1&&t.$from.nodeAfter&&!e.isActive("link")){let e=null!=n?n:t.$from.nodeAfter;return{editType:"node",id:e.attrs.id,...e}}if(e.isActive("link")){let t=e.getAttributes("link");return{attrs:t,type:e.schema.marks.link,mediaType:"embed",id:t.id}}}return null},p=e=>{let t,{editor:n,selection:o,sourceKey:s,attrs:d,nodeName:p,resetAttrs:h,resizeToFit:g}=e,{from:m}=o,x=u(n,o);if(!x)return void console.error("[updateSelectedMedia] No selectedMedia to update");if(h)t={};else if(x.type instanceof a.sX)t=x.attrs;else{var f;let e=n.state.doc.nodeAt(m);if(!e||e.type!==x.type&&e.attrs.id!==x.attrs.id)return void console.error("[updateSelectedMedia] Node has moved, cant update");t=(null==(f=u(n,o,e))?void 0:f.attrs)||{}}let b={...t,source:s,...d};if(g&&"node"===x.editType&&(b=(0,l.Ez)(b)),x&&(0,r.Vc)({previous_attrs:x.attrs,new_attrs:b,replacement_method:"media_drawer",doc_id:n.gammaDocId||"",node_id:x.attrs.id,image_type:x.type.name}),(null==x?void 0:x.type.name)==="link"){b.href=b.href||b.sourceUrl;let{from:e,to:t}=o;n.chain().extendMarkRange("link").updateAttributes("link",b).setTextSelection({from:e,to:t}).run();return}if("smartDiagram"===x.type.name&&x.accesoryKeyPath)return void n.chain().updateSmartDiagramData(m,x.accesoryKeyPath,b).run();if(x.accesoryKeyPath)return void n.chain().updateAttributesAtPos(m,{[x.accesoryKeyPath]:b}).run();let v=c.Fn[b.source],y=p||v.nodeName;y&&n.commands.command(e=>{let{tr:t,state:n}=e,a=n.schema.nodes[y];return!!a&&(t.setNodeMarkup(m,a,b).setSelection(i.nh.create(t.doc,m)).setMeta("annotationEvent",{type:"update-node-attrs",pos:m}),!0)})},h=(e,t)=>{let n=(0,d.vC)(e,t);return!!n&&!!n.config.accessoryImageKey||"smartDiagram"===t.name||(t instanceof a.Z6?(0,l.bi)(t):t instanceof a.sX&&"link"===t.name)}},29614:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a="ai-parsed-attrs"},30228:(e,t,n)=>{"use strict";n.d(t,{Pj:()=>u,Vv:()=>d,y3:()=>c});var a=n(6029),i=n(40452),r=n(5061),l=n(21290),o=n(84431),s=n(59320);let d="block-comments-container",c="2xl",u=e=>{let{offsetFromTop:t,children:n}=e,u=(0,r.fW)();return(0,a.jsx)(i.s,{contentEditable:!1,suppressContentEditableWarning:!0,color:"gray.800",className:d,direction:"column",bg:"white",borderRadius:"xl",shadow:"xl",overflowY:"auto",transitionProperty:"common",transitionDuration:"normal",zIndex:o.$.commentsPopup,bottom:{top:"0px",[c]:"auto"},top:{top:"0px",[c]:"auto"},insetEnd:{base:"44px",[c]:0},width:{base:s.iq,[c]:s.iq},maxW:{base:"90vw",md:"80vw",[c]:s.iq},transform:{base:"translate(0, ".concat(t,"px)"),[c]:"translate(calc(".concat(u?"-100% - 10px":"100% + 10px","), 0)")},wordBreak:"break-word",height:"fit-content",maxHeight:"calc(".concat(l.bc," - 8em)"),position:"absolute",children:n})}},30481:(e,t,n)=>{"use strict";n.d(t,{Fz:()=>x,dV:()=>f,z7:()=>v});var a=n(77650),i=n(66634),r=n(7158),l=n(73581),o=n(34832),s=n(45611),d=n(88586),c=n(12562),u=n(59684),p=n(8584),h=n(63562),g=n(47314),m=n(75703);let x=()=>a.Ru._({id:"HNDdbS"});class f extends i.a{async getResponseMessages(e){let{editor:t,context:n,rangeId:i,response:{raw:r,suggestion:l,message:o}}=e;if(!l)throw new u.tF("[SuggestContentTask] No html provided in prompt response",{chatMessage:o,inputMessage:n.message,resp:r,interactionId:n.interactionId});let d=await (0,s.e)(l,{loadImages:!0});console.debug("[AIChat SuggestContentTask] modify suggestion",{transformedHtml:d,html:l});let c=new p.m(t,{description:a.Ru._({id:"nyQWMb"}),content:{type:"html",html:d},rangeId:i}),h={label:a.Ru._({id:"nyQWMb"}),modification:c,jsonContentPreview:c.getPreviewJson(t)},g=this.getOriginalModifyContentSuggestion(t,n,i);return{messages:[{from:"Designer",type:"suggestContent",resp:r,message:o||a.Ru._({id:"pMSbe+"}),suggestions:[h,g],interactionId:n.interactionId}],suggestionToApply:h}}async runPrompt(e){let t,{input:n,context:a,variables:i,trackFns:r,retries:s=2,history:p}=e;if(this.jsxPrompt&&c.of.get("aiChatJsx")){let{promise:e}=(0,o.i4)({variables:{html:i.html,message:i.message,outline:i.outline,history:p.map(e=>({role:e.role===d.VDI.Assistant?"assistant":"user",content:e.content||""}))},interactionId:a.interactionId,workspaceId:a.workspaceId,promptKey:this.jsxPrompt,opts:{timeout:c.of.get("aiRequestTimeouts").suggestContent}});t=await e}else t=await (0,l.U)(n,a.interactionId,{timeout:c.of.get("aiRequestTimeouts").suggestContent});if(!t)throw new u.tF("Couldn't get response from prompt",{resp:t,inputMessage:a.message,interactionId:a.interactionId});let h=this.parseResponse(t,i);if(h.shouldRetry){if(s<=0)throw new u.K$("Could not parse response properly after retries",{chatMessage:x(),inputMessage:a.message,resp:t,interactionId:a.interactionId});return r.trackRequestRetry({interactionId:a.interactionId,retriesRemaining:s,resp:t}),this.runPrompt({input:n,context:a,retries:s-1,trackFns:r,variables:i,history:p})}return{parsed:h,resp:t}}async run(e){let{editor:t,context:n,addMessage:a,history:i,trackFns:l,themeModificationController:o,provider:s}=e,{html:d,range:c}=this.determineTaskTarget(n.editorContext);l.trackInputContent({taskContext:n,inputContent:d});let u={message:n.message,html:d,outline:n.editorContext.outline},p=(0,h.nm)(t,n.interactionId,c),g=(0,m.K)(i||[]),x=this.prompt.prepare({variables:u,history:g,interactionId:n.interactionId,params:{provider:s}});console.debug("[AIChat SuggestContentTask] run",{html:u.html,input:x,suggestHistory:g,range:(0,h.oR)(t,p)});let f=await (0,r.wo)(x),{parsed:b,resp:v}=await this.runPrompt({input:f,history:g,context:n,variables:u,trackFns:l,retries:1}),{messages:y,suggestionToApply:w}=await this.getResponseMessages({editor:t,context:n,rangeId:p,response:b,themeModificationController:o});console.debug("[AIChat SuggestContentTask] completed",{suggestion:b.suggestion,resp:v,parsed:b,messages:y,suggestionToApply:w}),this.autoApplySuggestion({context:n,editor:t,suggestionToApply:w,resp:v,trackFns:l,themeModificationController:o}),y.forEach(e=>a(e)),l.trackRequestComplete({taskContext:n,outputMessage:b.message,outputContent:b.suggestion,resp:v})}determineTaskTarget(e){return this.getTaskTarget?this.getTaskTarget(e):e.defaultRange}getOriginalModifyContentSuggestion(e,t,n){let i=new p.m(e,{description:a.Ru._({id:"HxF6Fk"}),content:{type:"html",html:this.determineTaskTarget(t.editorContext).html},rangeId:n});return{label:a.Ru._({id:"HxF6Fk"}),modification:i,jsonContentPreview:i.getPreviewJson(e)}}autoApplySuggestion(e){let{context:t,editor:n,suggestionToApply:a,resp:i,trackFns:r,themeModificationController:l}=e;if(a){if(a.modification.isApplied(n,l))throw console.debug("[SuggestContentTask] suggestion does not change the content",a),new u.hY("Suggestion does not change content",{resp:i,interactionId:t.interactionId,chatMessage:x()});try{let{modification:e}=a;e.apply(n,l),r.trackSuggestionApplied({interactionId:t.interactionId,suggestionContent:e.getContentForTracking(),suggestionLabel:e.description,suggestionType:e.type,autoApplied:!0})}catch(e){throw new u.$v("Could not apply suggestion",{interactionId:t.interactionId})}}}constructor(e){super(e),this.prompt=e.prompt,this.jsxPrompt=e.jsxPrompt,this.parseResponse=e.parseResponse||v,this.getTaskTarget=e.getTaskTarget}}let b=RegExp("(.*?)```[A-Za-z]*\\n(.*?)\\n```(.*?)$","ims"),v=e=>{let t,n=e.match(b),a=[];if(n)a=[n[1],n[3]],t=n[2];else{let n=e.split("```");if(0===n.length)throw Error("Could not extract code from response");if(1===n.length)return(0,g.t)(n[0])?{suggestion:void 0,raw:e,message:e,shouldRetry:!0}:{suggestion:void 0,raw:e,message:e.replaceAll(/(HTML|code)/gi,"content")};a=[n[0]],t=n[1].trim()}return{suggestion:t,message:a.map(e=>e.trim()).filter(e=>e.length>0).join("\n\n").replaceAll(/(HTML|code)/gi,"content").replaceAll(/(slide)/gi,"card"),raw:e}}},30524:(e,t,n)=>{"use strict";n.d(t,{A:()=>l}),n(55729);var a=n(75287),i=n(18934),r=n(73071);let l=e=>{let{editorId:t,children:n}=e,l=(0,a.l)(),o=(0,i.A)();return(0,r.b)(t||o)&&l?n:null}},31113:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});let a={fontSize:"sm",borderRadius:"md",p:2}},31162:(e,t,n)=>{"use strict";n.d(t,{w:()=>p});var a=n(91285),i=n(86014);async function r(e,t){let n,a=e.getReader();for(;!(n=await a.read()).done;)t(n.value)}function l(){return{data:"",event:"",id:"",retry:void 0}}let o="text/event-stream",s="last-event-id";function d(e){let t=e.headers.get("content-type");if(!(null==t?void 0:t.startsWith(o)))throw Error("Expected content-type to be ".concat(o,", Actual: ").concat(t))}class c extends a.Rv{constructor(){super({transform:async(e,t)=>{if("error"===e.event)return void t.error(new i.lm("StreamError message received: ".concat(JSON.stringify(e)),e.data));t.enqueue(e)}})}}class u extends Error{constructor(e){super(),this.timeout=e}}function p(e,t,n){var p;let h=n.retries||0,g=n.backoff||1e3,m=n.timeout||null,x=null!=(p=n.streamResumingEnabled)&&p,f=0,b=new AbortController,v=!1,y=!1,w=!1,C=null,A=!1,j=()=>g*Math.pow(2,Math.max(f-1,0)),k={};return x&&(k["gamma-stream-resuming-enabled"]="true"),{stream:new a.ZY({async start(n){null!=m&&(C=setTimeout(()=>{A=!0,b.abort(),n.error(new i.wM("Stream timed out after ".concat(m,"ms")))},m));let{headers:a,...c}=t;(function(e,t){let{signal:n,headers:a,onopen:i,onmessage:c,onclose:u,onerror:p,openWhenHidden:h,fetch:g,...m}=t;return new Promise((t,x)=>{let f,b={...a};function v(){f.abort(),document.hidden||k()}b.accept||(b.accept=o),h||document.addEventListener("visibilitychange",v);let y=1e3,w=0;function C(){document.removeEventListener("visibilitychange",v),window.clearTimeout(w),f.abort()}null==n||n.addEventListener("abort",()=>{C(),t()});let A=null!=g?g:window.fetch,j=null!=i?i:d;async function k(){var n,a;f=new AbortController;try{let a,i,o,d,p=await A(e,{...m,headers:b,signal:f.signal});await j(p),await r(p.body,(n=function(e,t,n){let a=l(),i=new TextDecoder,r=!1;return function(o,s){if(0===o.length)null==n||n(a),a=l(),r=!1;else if(s>0){let n=i.decode(o.subarray(0,s)),l=s+(32===o[s+1]?2:1),d=i.decode(o.subarray(l));switch(n){case"data":r?a.data=a.data+"\n"+d:(a.data=d,r=!0);break;case"event":a.event=d;break;case"id":e(a.id=d);break;case"retry":let c=parseInt(d,10);isNaN(c)||t(a.retry=c)}}}}(e=>{e?b[s]=e:delete b[s]},e=>{y=e},c),d=!1,function(e){void 0===a?(a=e,i=0,o=-1):a=function(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(a,e);let t=a.length,r=0;for(;i<t;){d&&(10===a[i]&&(r=++i),d=!1);let e=-1;for(;i<t&&-1===e;++i)switch(a[i]){case 58:-1===o&&(o=i-r);break;case 13:d=!0;case 10:e=i}if(-1===e)break;n(a.subarray(r,e),o),r=i,o=-1}r===t?a=void 0:0!==r&&(a=a.subarray(r),i-=r)})),null==u||u(),C(),t()}catch(e){if(!f.signal.aborted)try{let t=null!=(a=null==p?void 0:p(e))?a:y;window.clearTimeout(w),w=window.setTimeout(k,t)}catch(e){C(),x(e)}}}k()})})(e,{openWhenHidden:!0,credentials:"include",...c,headers:{...a,...k},signal:b.signal,onopen:async e=>{if(!e.ok||e.headers.get("content-type")!==o)if(e.status>=400&&e.status<500&&429!==e.status)b.abort(),n.error(new i.qh("Unable to complete request"));else if(f++<h&&!v)throw new u(j());else b.abort(),n.error(new i.qh("Unable to complete request"))},onmessage(e){if(w){y||(y=!0,console.log("[AIStream] enqueue cancel event",{...e,event:"cancel",data:""}),n.enqueue({...e,event:"cancel",data:""}),n.close(),b.abort());return}A||(n.enqueue(e),v=!0)},onclose(){C&&(clearTimeout(C),C=null);try{n.close()}catch(e){console.debug("[AIStream] Failed to close stream controller:",e)}},onerror(e){if(e instanceof u){if(w)throw console.error("Stream cancelled - not retrying"),Error("Stream cancelled");return e.timeout}if(e instanceof Error){if(console.error("Uncaught stream error",e),!x)throw e;if(f++<h)return j();throw e}if(v){let e="Stream closed unexpectedly";throw console.error("Uncaught stream error",e),new i.u4(e)}}}).catch(e=>{C&&(clearTimeout(C),C=null),w||n.error(e)})}}).pipeThrough(new c),cancel:()=>{w||(w=!0)}}}},31394:(e,t,n)=>{"use strict";n.d(t,{s:()=>a});let a=e=>{let{variant:t}=e;return{variant:"unstyled",display:"inline-flex",position:"relative",_hover:{textDecoration:"none"},minW:"min(100%, 12em)",maxW:"100%",fontSize:"1em",py:"0.5em",minH:"2.75em",w:"var(--button-width)",h:"auto",px:"link"===t?"0.5em":"1em",transitionProperty:"none","data-variant":t}}},31612:(e,t,n)=>{"use strict";n.d(t,{TD:()=>i,dg:()=>l,pX:()=>o,sA:()=>r});var a=n(58495);function i(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null!=(t=n.id)?t:(0,a.Ak)(),r="auto"===n.dismissable?new Date(Date.now()+5e3):n.dismissable;return{type:"addFeedback",payload:{id:i,message:e,severity:n.severity||"info",dismissable:r}}}function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:"removeFeedback",payload:t}}function l(e){return{type:"openContextMenu",payload:{position:e}}}function o(){return{type:"closeContextMenu",payload:void 0}}},32024:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});let a={model:"gpt-3.5-turbo-1106",provider:n(88586).eON.Azure};class i{prepare(e){let{variables:t,history:n=[],params:a}=e;return{messages:[this.getSystemChatMessage(t),...n,this.getUserChatMessage(t)],params:{...this.params,...a}}}constructor({params:e}){this.params={...a,...e}}}},32973:(e,t,n)=>{"use strict";n.d(t,{N:()=>d});var a=n(6029),i=n(17399),r=n(41896),l=n(84886),o=n(46957);let s=e=>(0,a.jsx)(l.u,{...e,children:(0,a.jsx)("pre",{children:(0,a.jsx)(r.$p,{as:"code"})})}),d=i.Ay.extend({selectable:!1,isolating:!0,addNodeView:()=>(0,r.gu)(s,{update:o.z0})})},33170:(e,t,n)=>{"use strict";n.d(t,{BT:()=>j,CF:()=>C,Ft:()=>k});var a=n(6029),i=n(88507),r=n(70315),l=n(55729),o=n(9014),s=n(3247),d=n(15342),c=n(14389),u=n(86364),p=n(61250);let h=["0%","0%","0%","0%"],g="clippable-control-wrapper",m=(e,t,n)=>e/Math.sqrt((t*t+n*n)/2)*100,x=(e,t,n)=>e/100*Math.sqrt((t*t+n*n)/2),f=(e,t,n)=>{if("circle"===e){let e=Math.min(t,n)/2;return["".concat(m(e,t,n),"%"),"at","50%","50%"]}return h},b=(e,t,n)=>"circle"===e?1:"inset"===e?t/n:null,v=(e,t)=>{if("inset"===t){let[t,n]=e[0],[a,i]=e[4];return(a-t)/(i-n)}return 1},y=(e,t,n,a)=>{let[i,r,l,o]=e;if("inset"===t){let t=parseFloat(i),s=parseFloat(r),d=parseFloat(l),u=parseFloat(o),p=c.MK/n*100,h=c.MK/a*100;if(100-u-s<p){let t=100-u-p;t>=0?e[1]="".concat(t,"%"):(e[1]="0%",e[3]="".concat(100-p,"%"))}if(100-t-d<h){let n=100-t-h;n>=0?e[2]="".concat(n,"%"):(e[2]="0%",e[0]="".concat(100-h,"%"))}}else if("circle"===t){let t=Math.max(x(parseFloat(i),n,a),c.MK);e[0]="".concat(m(t,n,a),"%")}},w=e=>{let{clipType:t,clipStyles:n,w:a,h:i}=e,[r,l,o,s]=n;if("inset"===t){let e=parseFloat(r),t=parseFloat(l),n=parseFloat(o),a=parseFloat(s),i=a/(t+a)*100,d=e/(e+n)*100,c=isNaN(i)?50:i,u=isNaN(d)?50:d,p=100-a-t,h=100-e-n;return{mask:"\n        linear-gradient(#000 0 0) ".concat(c,"% ").concat(u,"% / ").concat(p,"% ").concat(h,"%,\n        linear-gradient(rgba(0,0,0,0.4) 0 0)"),width:p,height:h,top:e,right:t,bottom:n,left:a}}if("circle"===t){let e=parseFloat(r),t=parseFloat(o),n=parseFloat(s),l=x(e,a,i),d=n/100*i-l,c=t/100*a-l,u=2*l/a*100,p=2*l/i*100,h=d/i*100,g=c/a*100;return{mask:"radial-gradient(".concat(u,"% ").concat(p,"% at ").concat(t,"% ").concat(n,"%, black 50%, rgba(0, 0, 0, 0.4) 50%) no-repeat"),width:u,height:p,top:Math.max(h,0),left:Math.max(g,0),bottom:0,right:0}}return{mask:"",width:0,height:0,top:0,left:0,bottom:0,right:0}},C=(e,t,n,a)=>{if(!e||!e.clipType||!a)return{clipType:"inset",scaleCrop:1,scaleX:1,scaleY:1,aspectRatio:a||void 0,referenceXOffset:1,referenceYOffset:1,clipPathCSSString:"",translateX:0,translateY:0};let i=e.clipPath||f(e.clipType,t,n),{clipType:r}=e,{width:l,height:o,top:s,left:d,right:c,bottom:u}=w({w:t,h:n,clipType:r,clipStyles:i}),p=100/l,h=100/o,g=(null==e?void 0:e.clipAspectRatio)||1,m=(null==e?void 0:e.clipAspectRatio)||a;return{scaleCrop:a/g<1?Math.min(h,p):Math.max(h,p),aspectRatio:m,scaleX:p,scaleY:h,translateX:d,translateY:s,referenceXOffset:t*(100/(100-d+c)-1),referenceYOffset:n*(100/(100-s+u)-1),clipPathCSSString:"".concat(r,"(").concat(i.join(" "),")"),clipType:r}},A=(0,o.yX)([o.ZW]),j={[".".concat(g)]:{zIndex:2,".moveable-control":{zIndex:2,_hover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal"},"&.data-clip-type-inset":{".moveable-control":{zIndex:2,bg:"0 none !important",borderRadius:"0px",width:"".concat(16,"px"),height:"".concat(16,"px"),border:"6px solid var(--chakra-colors-trueblue-300)",'&[data-clip-index="0"]':{borderRight:"0",borderBottom:"0",marginTop:"-".concat(2,"px"),marginLeft:"-".concat(2,"px"),cursor:"nw-resize"},'&[data-clip-index="1"]':{borderRight:"0",borderBottom:"0",borderLeft:"0",marginTop:"-".concat(2,"px"),cursor:"n-resize"},'&[data-clip-index="2"]':{borderLeft:"0",borderBottom:"0",marginTop:"-".concat(2,"px"),marginLeft:"-".concat(14,"px"),cursor:"ne-resize"},'&[data-clip-index="3"]':{borderBottom:"0",borderTop:"0",borderLeft:"0",marginLeft:"-".concat(14,"px"),cursor:"e-resize"},'&[data-clip-index="4"]':{borderTop:"0",borderLeft:"0",marginLeft:"-".concat(14,"px"),marginTop:"-".concat(14,"px"),cursor:"se-resize"},'&[data-clip-index="5"]':{borderTop:"0",borderLeft:"0",borderRight:"0",marginTop:"-".concat(14,"px"),cursor:"s-resize"},'&[data-clip-index="6"]':{borderTop:"0",borderRight:"0",marginTop:"-".concat(14,"px"),marginLeft:"-".concat(2,"px"),cursor:"sw-resize"},'&[data-clip-index="7"]':{borderTop:"0",borderBottom:"0",borderRight:"0",marginLeft:"-".concat(2,"px"),cursor:"w-resize"}}},"&.data-clip-type-circle":{".moveable-control":{bg:"trueblue.300"}},".moveable-clip-ellipse":{borderWidth:"2px",borderColor:"var(--chakra-colors-trueblue-300) !important"},".moveable-line":{display:"none"}}},k=e=>{let{clipPath:t,clipAspectRatio:n,updateResizeAttrs:o,imageWrapperRef:c,refreshDeps:h,currentWidth:m,currentHeight:x,onFinishCrop:C}=e,j=(0,d.jL)(),k=(0,d.GV)(p.$k),S=(0,l.useRef)(null),[I,E]=(0,l.useState)({clipPath:t||f(k,m,x),clipAspectRatio:n||b(k,m,x)}),R=(0,l.useCallback)(e=>{if(!m||!x||!c.current)return;let{mask:t}=w({w:m,h:x,clipType:k,clipStyles:e});c.current.style["-webkit-mask"]=t,c.current.style["-webkit-mask-repeat"]="no-repeat"},[c,k,m,x]),L=JSON.stringify(I.clipPath);(0,l.useEffect)(()=>{R(I.clipPath)},[R,L,I.clipPath]),(0,i.w)(()=>{E(e=>({...e,clipPath:f(k,m,x),clipAspectRatio:b(k,m,x)}))},[k]),(0,l.useEffect)(()=>{var e;null==(e=S.current)||e.updateTarget()},[h]);let D=(0,l.useCallback)(()=>{let e={clipType:k,...I};e.clipAspectRatio&&e.clipPath&&o(e)},[o,I,k]),M=(0,l.useRef)({fn:D,confirmOnUnmount:!0});M.current.fn=D,(0,l.useEffect)(()=>u.R.on("endClip",e=>{let{confirm:t}=e;M.current.confirmOnUnmount=t,j((0,p.uy)()),C&&C()}),[j,C]),(0,l.useEffect)(()=>{let e=M.current;return()=>{e.confirmOnUnmount&&setTimeout(e.fn,0)}},[]),(0,l.useEffect)(()=>s.WC.on("keydown","CLIPPABLE",e=>!!(0,r.Ay)("mod+x")(e)&&(e.preventDefault(),!0)),[]);let _="".concat(k,"(").concat((I.clipPath||f(k,m,x)).join(" "),")");return(0,a.jsx)(A,{ref:e=>{S.current=e},className:"".concat(g," data-clip-type-").concat(k),target:c.current,renderDirections:["ne","nw","se","sw"],origin:!1,draggable:!1,clippable:!0,clipTargetBounds:!0,clipRelative:!0,clipArea:!0,defaultClipPath:k,customClipPath:_,dragWithClip:!0,keepRatio:!0,onClip:e=>{let{clipStyles:t,clipType:n}=e;y(t,n,m,x),R(t)},onClipEnd:e=>{let{lastEvent:t}=e;if(!(null==t?void 0:t.clipStyles))return;let{clipStyles:n,clipType:a}=t;y(n,a,m,x),E({clipPath:n,clipAspectRatio:v(t.poses,k)})}})}},33424:(e,t,n)=>{"use strict";n.d(t,{Qo:()=>s,X6:()=>c,_F:()=>d,mn:()=>o,ng:()=>u});var a=n(84462),i=n.n(a),r=n(61385),l=n(36512);let o=e=>{let{isMobileDevice:t,numericFontSize:n}=e;return(t?l.AF:l.jN)/n},s=e=>"sm"===e?.875:"lg"===e?1.25:1,d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e*r.P},c=i()(e=>e?{"--top-accent-height-sm":"4.125em","--top-accent-height-md":"8em","--top-accent-height-lg":"12.375em","--top-accent-height":"var(--top-accent-height-md)","--behind-accent-height":"12em"}:{"--top-accent-height-sm":"6.25em","--top-accent-height-md":"12.5em","--top-accent-height-lg":"18.75em","--top-accent-height":"var(--top-accent-height-md)","--behind-accent-height":"24em"}),u=i()(e=>{let{isPresentMode:t,isNested:n,isFullBleed:a,displayFullBleed:i,isThumbnail:r,isMobileDevice:o,attrs:s}=e,d="none"!==s.background.type&&!n,c=r?"em":t?"rem":"em",u=i||n?"0px":o?"".concat(l.Hb).concat(c):"".concat(l.YW).concat(c),p="calc(var(--card-outer-padding-x) + ".concat(a||n?"0px":"var(--doc-padding-left, 0px)"," + ").concat(t?"var(--present-padding-left, 0px)":"0px",")"),h="calc(var(--card-outer-padding-x) + ".concat(a||n?"0px":"var(--doc-padding-right, 0px)"," + ").concat(t?"var(--present-padding-right, 0px)":"0px",")");return{outerPaddingX:u,outerPaddingY:i||n?"0px":o?"".concat(l._0/2).concat(c):!d||t||r?"".concat(l.Ri).concat(c):"".concat(l.St).concat(c),outerPaddingLeft:p,outerPaddingRight:h}})},33521:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});let a=e=>{window.gammaTiming=window.gammaTiming||{},window.gammaTiming[e]=performance.now()},i=()=>{if("complete"!==document.readyState)return void window.addEventListener("load",i);window.removeEventListener("load",i),console.log("%cPerformance Timings","color: white; background-color: #6B46C1; padding: 5px; font-size: 1.5em;"),Object.entries(window.gammaTiming).sort((e,t)=>{let[,n]=e,[,a]=t;return n-a}).forEach(e=>{let[t,n]=e;n=Math.round(100*n)/100,console.log("".concat(t,": ").concat(n,"ms"))}),console.log("%cPerformance Timings END","color: white; background-color: #6B46C1; padding: 5px; font-size: 1.5em;")}},33619:(e,t,n)=>{"use strict";n.d(t,{L:()=>w,j:()=>C});var a=n(6029),i=n(78140),r=n(36999),l=n(49611),o=n(12514),s=n(41283),d=n(37930),c=n(48478),u=n(26385),p=n(48810),h=n(99492),g=n(55597),m=n(48621),x=n(77650),f=n(55729),b=n(9118),v=n(6807),y=n(65148);let w=()=>{let e=(0,f.useMemo)(()=>{var e;let t=navigator.language.toLowerCase(),n=t.split("-")[0],a=null!=(e=b.ZD.find(e=>e.key===t))?e:b.ZD.find(e=>e.key===n);return null==a?void 0:a.key},[]),[t,n]=(0,v.M)(y.E.generateLanguage,null!=e?e:"en");return[(0,f.useMemo)(()=>{var e;return null!=(e=b.ZD.find(e=>e.key===t))?e:b.ZD[0]},[t]),n]},C=(0,f.memo)(e=>{let{locale:t,setLocale:n,buttonProps:v}=e,[y,w]=(0,f.useState)([]);(0,f.useEffect)(()=>{w(e=>{if(b.ZD.find(e=>e.key===t.key))return e;let n=[...e];return n.find(e=>e.key===t.key)||n.push(t),n})},[t.key]);let C=(0,f.useMemo)(()=>[...y,...(0,b.Mo)()],[y]);return(0,a.jsxs)(i.W,{children:[(0,a.jsx)(r.I,{as:l.$,size:"sm",boxShadow:"sm",variant:"ghost",rightIcon:(0,a.jsx)(m.g,{size:"xs",icon:h.Jt$}),leftIcon:(0,a.jsx)(m.g,{size:"xs",icon:g.mh}),minW:"150px",...v,children:t.displayName}),(0,a.jsx)(o.Z,{children:(0,a.jsx)(s.c,{minWidth:"240px",maxH:"290px",overflowY:"auto",overflowX:"hidden",zIndex:"tooltip",children:(0,a.jsx)(d.i,{value:t.key,title:x.Ru._({id:"vXIe7J"}),type:"radio",onChange:e=>{n(e)},children:C.map(e=>(0,a.jsx)(c.k,{value:e.key,children:(0,a.jsxs)(u.B,{spacing:0,children:[(0,a.jsx)(p.E,{children:e.displayName}),(0,a.jsx)(p.E,{as:"span",color:"gray.500",fontSize:"sm",children:e.displayNameLocalized()})]})},e.key))})})})]})});C.displayName="AILocalePicker"},33633:(e,t,n)=>{"use strict";n.d(t,{Wm:()=>c,t3:()=>d,uR:()=>p,ww:()=>u});var a=n(55729),i=n(74158),r=n(15342),l=n(69138),o=n(54929),s=n(22249);let d=()=>(0,r.GV)((0,s.lp)("left")),c=()=>(0,r.GV)((0,s.lp)("right")),u=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=e.panelPosition,o=(0,i.wA)(),d=(0,r.GV)((0,s.El)(e)),c=(0,a.useCallback)(()=>{o((0,s.TQ)({component:e}))},[e,o]);return(0,l.V)(()=>{!t&&d&&o((0,s.Zv)({position:n}))},[d,o,t,n],[t]),{togglePanel:(0,a.useCallback)(a=>{if(!t)return;let i=!d;(null==a?void 0:a.override)==="open"?i=!0:(null==a?void 0:a.override)==="closed"&&(i=!1),i?o((0,s.NE)({component:e,disableTransition:!!(null==a?void 0:a.disableTransition),isResizable:!!(null==a?void 0:a.isResizable),props:null==a?void 0:a.props})):o((0,s.Zv)({position:n}))},[e,n,d,o,t]),initPanel:c,isPanelOpen:d}},p=()=>{let e=(0,a.useMemo)(()=>new o.$u,[]),t=(0,a.useMemo)(()=>new o.$u,[]),n=(0,a.useMemo)(()=>new o.$u,[]);return(0,a.useEffect)(()=>{if(!n||!e||!t)return;let a=e.pipe(n),i=t.pipe(n);return()=>{a(),i()}},[e,t,n]),{leftPanelLifecycle:e,rightPanelLifecycle:t,globalPanelLifecycle:n}}},34394:(e,t,n)=>{"use strict";n.d(t,{R5:()=>c,ZQ:()=>s,oP:()=>d});var a=n(55729),i=n(68301),r=n(28630),l=n(42721),o=n(44798);let s=()=>{var e;let t=(0,i.u)("aiGeneratedImagesDefaultModel"),n=(0,o.U9)(),{user:s,setSettings:d}=(0,l.ur)(),c=null==s||null==(e=s.settings)?void 0:e.preferredAiImageModel;return c&&c in r.Xz&&(c=r.Xz[c]),[c&&n(c)?c:t,(0,a.useCallback)(e=>{null==d||d({set:{preferredAiImageModel:e}})},[d])]},d=()=>{var e;let t=(0,l.HW)(),n=i.of.get("aiGeneratedImagesDefaultModel"),a=null==t||null==(e=t.settings)?void 0:e.preferredAiImageModel;return a&&a in r.Xz&&(a=r.Xz[a]),a&&(0,o.hB)(a)?a:n},c=e=>{let[t]=s(),n=(0,o.U9)();return(e&&e in r.Xz&&(e=r.Xz[e]),e&&n(e))?e:t}},34555:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var a=n(51684),i=n(77650),r=n(9922),l=n.n(r),o=n(76083),s=n(74355);let d={flywheel:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:1024.2205225919886,y:545.3520002984831,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:sBqhkO1gaRDC33E9nLFRf",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Two</h4>',shapeColor:null},parentId:"page:page",index:"a4",typeName:"shape"},{x:605.5691768594324,y:545.3520002984831,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LuxCoSOJiKidTHonK_r3y",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Four</h4>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"},{x:811.2936767672497,y:332.49917028373386,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:jNEccTSx5tCosurJ5Ot2M",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">One</h4>',shapeColor:null},parentId:"page:page",index:"a6",typeName:"shape"},{x:786.7936767672497,y:753.4464458368486,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:OUIb317WtLr7vTROMJmRY",type:"text",props:{color:"black",size:"m",w:145.68119328124112,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Three</h4>',shapeColor:null},parentId:"page:page",index:"a7",typeName:"shape"},{x:774.4554909171899,y:664.006697053962,rotation:3.141592653589793,isLocked:!1,opacity:1,meta:{},id:"shape:gOmdcWQlSymeyfc0iFv_H",type:"arrow",parentId:"page:page",index:"a8",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:-33.715948517019974,start:{type:"point",x:-143.39749318568477,y:299.6671450013758},end:{type:"point",x:-296.8596898701958,y:124.06206342608016},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:949.3708512974239,y:475.1522148190538,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FoSkoOljiovlpXtyepQ0L",type:"arrow",parentId:"page:page",index:"a8G",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:-33.715948517019974,start:{type:"point",x:-165.31582160993514,y:295.60684693665877},end:{type:"point",x:-292.70420767490987,y:127.69426010254801},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:749.9432407400066,y:507.6958283407593,rotation:4.555309347705199,isLocked:!1,opacity:1,meta:{},id:"shape:xJbFH6GE8sktyfodgK-9d",type:"arrow",parentId:"page:page",index:"a8V",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:-33.715948517019974,start:{type:"point",x:-141.06822675649278,y:304.84894107910753},end:{type:"point",x:-293.7665666504506,y:149.96506626343376},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:973.8831014746072,y:631.4630835322564,rotation:1.413716694115406,isLocked:!1,opacity:1,meta:{},id:"shape:98AlWuZ3MNJ8HXkw_0SX8",type:"arrow",parentId:"page:page",index:"a9",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:-33.715948517019974,start:{type:"point",x:-138.9882886080492,y:300.5849857402369},end:{type:"point",x:-290.8832143177716,y:128.98965564678986},arrowheadStart:"none",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"}],assets:[],meta:{},width:420.44444444444446,svg:'<svg direction="ltr" width="530.6513457325561" height="483.94727555311476" viewBox="597.5691768594324 324.49917028373386 530.6513457325561 483.94727555311476" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 1024.2205, 545.352)" opacity="1"><g><foreignObject width="97" height="47"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Two</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 605.5692, 545.352)" opacity="1"><g><foreignObject width="97" height="47"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Four</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 811.2937, 332.4992)" opacity="1"><g><foreignObject width="97" height="47"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">One</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 786.7937, 753.4464)" opacity="1"><g><foreignObject width="146" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Three</h4></div></div></foreignObject></g></g><g transform="matrix(-1, 0, 0, -1, 774.4555, 664.0067)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_gOmdcWQlSymeyfc0iFv_H_clip"><rect x="-396.85968987019567" y="24.0620634260801" width="353.4621966845109" height="375.60508157529574" fill="white"></rect><path d="M -300.40378806246554 133.94585662522945 L -296.8596898701958 124.06206342608016 L -290.0721229701155 132.07323909366693" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_gOmdcWQlSymeyfc0iFv_H_clip)"><rect x="-100" y="-100" width="353.4621966845109" height="375.60508157529574" fill="transparent" stroke="none"></rect><path d="M-143.39749318568477,299.6671450013758 A218.4976762338476 218.4976762338476 0 0 1 -296.8596898701958,124.06206342608016" fill="none" stroke="#e1e1e1" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -300.40378806246554 133.94585662522945 L -296.8596898701958 124.06206342608016 L -290.0721229701155 132.07323909366693" fill="none" stroke="#e1e1e1" stroke-width="3.5"></path></g></g><g transform="matrix(1, 0, 0, 1, 949.3709, 475.1522)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_FoSkoOljiovlpXtyepQ0L_clip"><rect x="-392.70420767491" y="27.694260102547986" width="327.38838606497484" height="367.9125868341108" fill="white"></rect><path d="M -297.41216590820414 137.0796279309049 L -292.70420767490987 127.69426010254801 L -286.93021982833875 136.46415544671538" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_FoSkoOljiovlpXtyepQ0L_clip)"><rect x="-100" y="-100" width="327.38838606497484" height="367.9125868341108" fill="transparent" stroke="none"></rect><path d="M-165.31582160993514,295.60684693665877 A181.55168626818823 181.55168626818823 0 0 1 -292.70420767490987,127.69426010254801" fill="none" stroke="#e1e1e1" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -297.41216590820414 137.0796279309049 L -292.70420767490987 127.69426010254801 L -286.93021982833875 136.46415544671538" fill="none" stroke="#e1e1e1" stroke-width="3.5"></path></g></g><g transform="matrix(-0.1564, -0.9877, 0.9877, -0.1564, 749.9432, 507.6958)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_xJbFH6GE8sktyfodgK-9d_clip"><rect x="-393.7665666504507" y="49.96506626343373" width="352.69833989395795" height="354.88387481567383" fill="white"></rect><path d="M -297.06219035877035 159.93446265304337 L -293.7665666504506 149.96506626343376 L -286.7806279708117 157.80385831095774" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_xJbFH6GE8sktyfodgK-9d_clip)"><rect x="-100" y="-100" width="352.69833989395795" height="354.88387481567383" fill="transparent" stroke="none"></rect><path d="M-141.06822675649278,304.84894107910753 A192.24158262862494 192.24158262862494 0 0 1 -293.7665666504506,149.96506626343376" fill="none" stroke="#e1e1e1" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -297.06219035877035 159.93446265304337 L -293.7665666504506 149.96506626343376 L -286.7806279708117 157.80385831095774" fill="none" stroke="#e1e1e1" stroke-width="3.5"></path></g></g><g transform="matrix(0.1564, 0.9877, -0.9877, 0.1564, 973.8831, 631.4631)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_98AlWuZ3MNJ8HXkw_0SX8_clip"><rect x="-390.8832143177716" y="28.989655646789856" width="351.8949257097224" height="371.59533009344705" fill="white"></rect><path d="M -294.4496119884513 138.86542435887353 L -290.8832143177716 128.98965564678986 L -284.11374656654743 137.01613098563794" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_98AlWuZ3MNJ8HXkw_0SX8_clip)"><rect x="-100" y="-100" width="351.8949257097224" height="371.59533009344705" fill="transparent" stroke="none"></rect><path d="M-138.9882886080492,300.5849857402369 A211.56192029954403 211.56192029954403 0 0 1 -290.8832143177716,128.98965564678986" fill="none" stroke="#e1e1e1" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -294.4496119884513 138.86542435887353 L -290.8832143177716 128.98965564678986 L -284.11374656654743 137.01613098563794" fill="none" stroke="#e1e1e1" stroke-width="3.5"></path></g></g></svg>'}},quadrant:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:1074.82421875,y:229.03125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:0ok4F6wp2WXfO_JbW55tI",type:"arrow",parentId:"page:page",index:"a1",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:0},end:{type:"point",x:0,y:400},arrowheadStart:"arrow",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:869.5924737463713,y:27.95840719431982,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lfd5uMWVGIIFlwc_gfUf_",type:"arrow",parentId:"page:page",index:"a2",props:{dash:"solid",size:"m",fill:"solid",color:"black",labelColor:"black",bend:0,start:{type:"point",x:0,y:400},end:{type:"point",x:400,y:400},arrowheadStart:"arrow",arrowheadEnd:"arrow",text:"",labelPosition:.5,font:"draw",shapeColor:null,strokeWidth:"md"},typeName:"shape"},{x:1026.82421875,y:170.3671875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:c4kLEFg-x_YebbalM4bbJ",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Title</h4>',shapeColor:null},parentId:"page:page",index:"a3",typeName:"shape"},{x:1275.47265625,y:404.9296875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:rr2bWXVlRik_OTR3-Mzxb",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Title</h4>',shapeColor:null},parentId:"page:page",index:"a4",typeName:"shape"},{x:770.2109375,y:404.9296875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:4nADMgFMClNzOAl0NqJsR",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Title</h4>',shapeColor:null},parentId:"page:page",index:"a4V",typeName:"shape"},{x:1026.82421875,y:640.79296875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:pQUKVKJOu78f_j_B0Y1_-",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:27,html:'<h4 class="themed-heading">Title</h4>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"}],assets:[],meta:{},width:434.6666666666667,svg:'<svg direction="ltr" width="617.26171875" height="533.42578125" viewBox="762.2109375 162.3671875 617.26171875 533.42578125" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 1074.8242, 229.0313)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_0ok4F6wp2WXfO_JbW55tI_clip"><rect x="-100" y="-100" width="200.00000000000009" height="599.8566231113605" fill="white"></rect><path d="M -5.249999999999997 9.093266739736608 L 0 0 L 5.250000000000001 9.093266739736604" fill="none" stroke="none"></path><path d="M 5.250000000000076 390.7633563716238 L 7.904787935331115e-14 399.8566231113604 L -5.249999999999922 390.76335637162384" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_0ok4F6wp2WXfO_JbW55tI_clip)"><rect x="-100" y="-100" width="200.00000000000009" height="599.8566231113605" fill="transparent" stroke="none"></rect><path d="M0,0L7.904787935331115e-14,399.8566231113604" fill="none" stroke="#1d1d1d" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M -5.249999999999997 9.093266739736608 L 0 0 L 5.250000000000001 9.093266739736604" fill="none" stroke="#1d1d1d" stroke-width="3.5"></path><path d="M 5.250000000000076 390.7633563716238 L 7.904787935331115e-14 399.8566231113604 L -5.249999999999922 390.76335637162384" fill="none" stroke="#1d1d1d" stroke-width="3.5"></path></g></g><g transform="matrix(1, 0, 0, 1, 869.5925, 27.9584)" opacity="1"><g data-shape-type="arrow" style="--stroke-width: 4;"><defs><mask id="shape_lfd5uMWVGIIFlwc_gfUf__clip"><rect x="-99.99999999999991" y="299.8566231113604" width="610.4634900072574" height="202.2890625" fill="white"></rect><path d="M 401.39964227952714 396.84505693463564 L 410.46349000725746 402.1456856113604 L 401.34108705332034 407.3448936612464" fill="none" stroke="none"></path><path d="M 9.06384772773043 405.1572517880852 L 7.904787935331115e-14 399.8566231113604 L 9.122402953937236 394.65741506147447" fill="none" stroke="none"></path></mask></defs><g mask="url(#shape_lfd5uMWVGIIFlwc_gfUf__clip)"><rect x="-100" y="-100" width="610.4634900072574" height="202.2890625" fill="transparent" stroke="none"></rect><path d="M410.46349000725746,402.1456856113604L7.904787935331115e-14,399.8566231113604" fill="none" stroke="#1d1d1d" stroke-width="3.5" stroke-dasharray="none" stroke-dashoffset="none"></path></g><path d="M 401.39964227952714 396.84505693463564 L 410.46349000725746 402.1456856113604 L 401.34108705332034 407.3448936612464" fill="none" stroke="#1d1d1d" stroke-width="3.5"></path><path d="M 9.06384772773043 405.1572517880852 L 7.904787935331115e-14 399.8566231113604 L 9.122402953937236 394.65741506147447" fill="none" stroke="#1d1d1d" stroke-width="3.5"></path></g></g><g transform="matrix(1, 0, 0, 1, 1026.8242, 170.3672)" opacity="1"><g><foreignObject width="97" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Title</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1275.4727, 404.9297)" opacity="1"><g><foreignObject width="97" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Title</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 770.2109, 404.9297)" opacity="1"><g><foreignObject width="97" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Title</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1026.8242, 640.793)" opacity="1"><g><foreignObject width="97" height="47"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading">Title</h4></div></div></foreignObject></g></g></svg>'}},venn:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:1175.87109375,y:508.45703125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YuAAYaKmNVXbxRM9Ym0z4",type:"geo",props:{w:394.4375,h:394.4375,geo:"ellipse",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a1",typeName:"shape"},{x:904.79296875,y:508.45703125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ywvivjfUEJxH_FT8HCp6E",type:"geo",props:{w:394.4375,h:394.4375,geo:"ellipse",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a2",typeName:"shape"},{x:1040.3320312500002,y:270.0929726013588,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:uoJ_xUvPbDuyBaVh94J02",type:"geo",props:{w:394.4375,h:394.4375,geo:"ellipse",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a3",typeName:"shape"},{x:1092.234375,y:547.42578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:W8BtDrKhUUa_fmB-YfrG4",type:"text",props:{color:"black",size:"m",w:108,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:24,html:'<p class="paragraph">Expensive</p>',shapeColor:null},parentId:"page:page",index:"a4",typeName:"shape"},{x:1282.02734375,y:547.42578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lLHXbsMOmu2pfYDmh7SMV",type:"text",props:{color:"black",size:"m",w:104,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:24,html:'<p class="paragraph">Take time</p>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"},{x:1185.5507812500002,y:689.046875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:FJv1W-bQpfCY0dAUn_ezA",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:52,html:'<p class="paragraph">Low<br>quality</p>',shapeColor:null},parentId:"page:page",index:"a6",typeName:"shape"},{x:1373.08984375,y:705.67578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tT7vEjVJGLo0tv18nWtJV",type:"text",props:{color:"black",size:"m",w:107,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">Cheap</h3>',shapeColor:null},parentId:"page:page",index:"a7",typeName:"shape"},{x:1017.1328125,y:705.67578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gaQCyTxoxdrsvbDkqQV9C",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">Fast</h3>',shapeColor:null},parentId:"page:page",index:"a8",typeName:"shape"},{x:1189.5507812500002,y:424.234375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VAbhvBq-Ec1CIYnCjzhl2",type:"text",props:{color:"black",size:"m",w:96,text:"",font:"draw",align:"middle",autoSize:!0,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">Good</h3>',shapeColor:null},parentId:"page:page",index:"a9",typeName:"shape"}],assets:[],meta:{},width:431.1111111111111,svg:'<svg direction="ltr" width="681.5156250000002" height="648.2953009459236" viewBox="896.7929687499998 262.3461014527175 681.5156250000002 648.2953009459236" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 1175.8711, 508.457)" opacity="1"><g data-shape-type="geo"><path d="M0,197.21875a197.21875,197.21875,0,1,1,394.4375,0a197.21875,197.21875,0,1,1,-394.4375,0" width="394.4375" height="394.4375" id="shape:YuAAYaKmNVXbxRM9Ym0z4" style="fill-opacity: 0.5; stroke-width: 2;"></path><foreignObject width="394.43750000000017" height="393.93124229728244"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 904.793, 508.457)" opacity="1"><g data-shape-type="geo"><path d="M0,197.21875a197.21875,197.21875,0,1,1,394.4375,0a197.21875,197.21875,0,1,1,-394.4375,0" width="394.4375" height="394.4375" id="shape:ywvivjfUEJxH_FT8HCp6E" style="fill-opacity: 0.5; stroke-width: 2;"></path><foreignObject width="394.43750000000017" height="393.93124229728244"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1040.332, 270.093)" opacity="1"><g data-shape-type="geo"><path d="M0,197.21875a197.21875,197.21875,0,1,1,394.4375,0a197.21875,197.21875,0,1,1,-394.4375,0" width="394.4375" height="394.4375" id="shape:uoJ_xUvPbDuyBaVh94J02" style="fill-opacity: 0.5; stroke-width: 2;"></path><foreignObject width="394.43750000000017" height="393.93124229728244"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1092.2344, 547.4258)" opacity="1"><g><foreignObject width="109" height="44"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p class="paragraph">Expensive</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1282.0273, 547.4258)" opacity="1"><g><foreignObject width="105" height="44"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p class="paragraph">Take time</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1185.5508, 689.0469)" opacity="1"><g><foreignObject width="97" height="72"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p class="paragraph">Low<br>quality</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1373.0898, 705.6758)" opacity="1"><g><foreignObject width="108" height="54"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">Cheap</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1017.1328, 705.6758)" opacity="1"><g><foreignObject width="97" height="54"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">Fast</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1189.5508, 424.2344)" opacity="1"><g><foreignObject width="97" height="54"><div data-autosize="true" class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">Good</h3></div></div></foreignObject></g></g></svg>'}},calendarWeek:{type:"diagram",attrs:{horizontalAlign:null,shapes:[{x:179.0625,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hF6E8P7CiXiSsRo7LG0FF",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"Zy",typeName:"shape"},{x:495.4840350809791,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:taayoSjVZnQxAEAkYzW8F",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"Zz",typeName:"shape"},{x:811.9055701619584,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DogbW2-V83SiEhlezSTF1",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0",typeName:"shape"},{x:1128.3271052429373,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SzwGSCVn7h1Uo_B_b-0jU",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a1",typeName:"shape"},{x:1445.4682141660628,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IAo_g6FQp9YK2JWBCaGMU",type:"geo",props:{w:301.9961468758189,h:873.9095562737236,geo:"rectangle",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a2",typeName:"shape"},{x:832.3614242096944,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:l_vkpYMsSpaE9s3TN_mKw",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Wed",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Wed</h3>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"},{x:1148.7829592906733,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Cw9jJcIeB18UZCowlxx0A",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Thu",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Thu</h3>',shapeColor:null},parentId:"page:page",index:"a6",typeName:"shape"},{x:1465.9240682137988,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VvguEUBmR1u7tIdodua_7",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Fri",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Fri</h3>',shapeColor:null},parentId:"page:page",index:"a7",typeName:"shape"},{x:204.97813786171344,y:211.51595163729675,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:lqef5zWrrlQl9HENeGEnL",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Meeting with Jon",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Meeting with Jon</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aD",typeName:"shape"},{x:204.97813786171344,y:605.0019073645135,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IgEYD45iYr1sSFMoAwbyu",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Team bonding",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Team bonding</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDG",typeName:"shape"},{x:204.97813786171344,y:297.31890598073045,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Qim4eNR90mSPnWlJh468S",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Checking emails",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Checking emails</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDV",typeName:"shape"},{x:1154.2427431046506,y:295.64859941977187,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IL-fsOSVuSRXre2dwItqj",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"HR meetings",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">HR meetings</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDZ",typeName:"shape"},{x:1154.2427431046506,y:379.7812472022469,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:bH7UwVBlNxoEzsh_1zjen",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Onboarding new hire",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Onboarding new hire</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDb",typeName:"shape"},{x:521.3996729426926,y:211.51595163729675,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:HAHtaenTwvKec_w0q3MVQ",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Attend CS meeting",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Attend CS meeting</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDd",typeName:"shape"},{x:1471.3838520277761,y:379.7812472022469,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:7ONsfQ5KbFBdZuwBMYOXz",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Team happy hour",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Team happy hour</p>',shapeColor:"#26A688",strokeWidth:"sm"},parentId:"page:page",index:"aDe",typeName:"shape"},{x:1471.3838520277761,y:211.51595163729675,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ov9MLbM2hIPHiHbKtLXgq",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Attend CS meeting",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Attend CS meeting</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDf",typeName:"shape"},{x:1471.3838520277761,y:295.64859941977187,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:JcWFs24GgyS_MNCWFyy4F",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Office tour",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Office tour</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDg",typeName:"shape"},{x:837.8212080236717,y:211.51595163729675,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:avNg2b0XCoj-PSVRH9NqC",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"1:1 with Zach",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">1:1 with Zach</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDh",typeName:"shape"},{x:837.8212080236717,y:297.45150900814224,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:B3hQTKLjKcuwSsT8VwJpR",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Company all hands",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Company all hands</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDj",typeName:"shape"},{x:837.8212080236717,y:379.7812472022469,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Ew3E_uQg_oIqeazf2vqpP",type:"geo",props:{w:251,h:101.34061312191727,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Bugbashing diagrams V2 with eng team",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Bugbashing diagrams V2 with eng team</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDk",typeName:"shape"},{x:837.8212080236717,y:500.13645302107966,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Fg4fxWRIxgyovffXhHIzF",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Customer call",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Customer call</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDkV",typeName:"shape"},{x:1154.2427431046506,y:211.51595163729678,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VvbN_RGjDdrkdA1f5rsRd",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Vendor call",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Vendor call</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDkl",typeName:"shape"},{x:204.97813786171344,y:381.1218603241642,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:2vK8h6FMVleRUW2G9Od19",type:"geo",props:{w:251,h:121.0625,geo:"rectangle",color:"black",labelColor:"black",fill:"semi",dash:"solid",size:"m",font:"draw",text:"Setup a call with our food vendor at the office in SF",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Setup a call with our food vendor at the office in SF</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aDl",typeName:"shape"},{x:204.97813786171344,y:521.1989530210797,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9SYkhq44JuzFO637hB390",type:"geo",props:{w:250.16487115239204,h:64.78836164651827,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:" Lunch",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"><span id="hamburger" native="\uD83C\uDF54" class="emoji">\uD83C\uDF54</span> Lunch</p>',shapeColor:"#26A688",strokeWidth:"none"},parentId:"page:page",index:"aDt",typeName:"shape"},{x:515.9398891287151,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:SDZcV2JidoSxClP0MxiaV",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Tue",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Tue</h3>',shapeColor:null},parentId:"page:page",index:"aE",typeName:"shape"},{x:199.518354047736,y:134.56584632459914,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tSOF89upJLNWmMbbVcY6R",type:"text",props:{color:"black",size:"m",w:261.08443878034683,text:"Mon",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading" style="text-align: center">Mon</h3>',shapeColor:null},parentId:"page:page",index:"aF",typeName:"shape"}],assets:[{meta:{},id:"asset:1703535279",type:"image",typeName:"asset",props:{name:"Screen Shot 2024-04-10 at 3.37.50 PM.png",src:"https://cdn-staging.gamma.app/QWjS6fBfpt/b63db3d6baac4d469108cf61a4c7ee71/original/Screen-Shot-2024-04-10-at-3.37.50-PM.png",w:2842,h:1550,mimeType:"image/png",isAnimated:!1}},{meta:{},id:"asset:-1866522948",type:"image",typeName:"asset",props:{name:"tldrawFile",src:"https://cdn-staging.gamma.app/QWjS6fBfpt/c494e974b8cc46b8910df2aa1a4051db/original/tldrawFile.png",w:3841,h:2161,mimeType:"image/png",isAnimated:!1}}],meta:{},width:null,svg:'<svg direction="ltr" width="1584.4018610418816" height="889.9095562737236" viewBox="171.0625 111.1171875 1584.4018610418816 889.9095562737236" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 204.9781, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:lqef5zWrrlQl9HENeGEnL" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 605.0019)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:IgEYD45iYr1sSFMoAwbyu" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 297.3189)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:Qim4eNR90mSPnWlJh468S" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 295.6486)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:IL-fsOSVuSRXre2dwItqj" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:bH7UwVBlNxoEzsh_1zjen" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 521.3997, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:HAHtaenTwvKec_w0q3MVQ" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:ov9MLbM2hIPHiHbKtLXgq" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 295.6486)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:JcWFs24GgyS_MNCWFyy4F" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:avNg2b0XCoj-PSVRH9NqC" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 297.4515)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:B3hQTKLjKcuwSsT8VwJpR" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L247,0 Q251,0 251,4 L251,97.3406 Q251,101.3406 247,101.3406 L4,101.3406 Q0,101.3406 0,97.3406 L0,4 Q0,0 4,0 " id="shape:Ew3E_uQg_oIqeazf2vqpP" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 500.1365)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:Fg4fxWRIxgyovffXhHIzF" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:VvbN_RGjDdrkdA1f5rsRd" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 381.1219)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L247,0 Q251,0 251,4 L251,117.0625 Q251,121.0625 247,121.0625 L4,121.0625 Q0,121.0625 0,117.0625 L0,4 Q0,0 4,0 " id="shape:2vK8h6FMVleRUW2G9Od19" class="tl-shape-background" style="fill-opacity: 0.75; stroke-width: 0;"></path></g></g><g transform="matrix(1, 0, 0, 1, 179.0625, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:hF6E8P7CiXiSsRo7LG0FF" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 495.484, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:taayoSjVZnQxAEAkYzW8F" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 811.9056, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:DogbW2-V83SiEhlezSTF1" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1128.3271, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:SzwGSCVn7h1Uo_B_b-0jU" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1445.4682, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L297.9961,0 Q301.9961,0 301.9961,4 L301.9961,869.9096 Q301.9961,873.9096 297.9961,873.9096 L4,873.9096 Q0,873.9096 0,869.9096 L0,4 Q0,0 4,0 " id="shape:IAo_g6FQp9YK2JWBCaGMU" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="301.9961468758189" height="873.9095562737236"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 832.3614, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Wed</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1148.783, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Thu</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1465.9241, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Fri</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:lqef5zWrrlQl9HENeGEnL" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Meeting with Jon</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 605.0019)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:IgEYD45iYr1sSFMoAwbyu" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Team bonding</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 297.3189)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:Qim4eNR90mSPnWlJh468S" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Checking emails</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 295.6486)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:IL-fsOSVuSRXre2dwItqj" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">HR meetings</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:bH7UwVBlNxoEzsh_1zjen" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Onboarding new hire</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 521.3997, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:HAHtaenTwvKec_w0q3MVQ" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Attend CS meeting</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:7ONsfQ5KbFBdZuwBMYOXz" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Team happy hour</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:ov9MLbM2hIPHiHbKtLXgq" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Attend CS meeting</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1471.3839, 295.6486)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:JcWFs24GgyS_MNCWFyy4F" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Office tour</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:avNg2b0XCoj-PSVRH9NqC" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">1:1 with Zach</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 297.4515)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:B3hQTKLjKcuwSsT8VwJpR" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Company all hands</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 379.7812)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L247,0 Q251,0 251,4 L251,97.3406 Q251,101.3406 247,101.3406 L4,101.3406 Q0,101.3406 0,97.3406 L0,4 Q0,0 4,0 " id="shape:Ew3E_uQg_oIqeazf2vqpP" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="251" height="101.34061312191727"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Bugbashing diagrams V2 with eng team</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 837.8212, 500.1365)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:Fg4fxWRIxgyovffXhHIzF" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Customer call</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1154.2427, 211.516)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:VvbN_RGjDdrkdA1f5rsRd" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="250.16487115239204" height="64.78836164651827"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Vendor call</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 381.1219)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L247,0 Q251,0 251,4 L251,117.0625 Q251,121.0625 247,121.0625 L4,121.0625 Q0,121.0625 0,117.0625 L0,4 Q0,0 4,0 " id="shape:2vK8h6FMVleRUW2G9Od19" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="251" height="121.0625"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Setup a call with our food vendor at the office in SF</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 204.9781, 521.199)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L246.1649,0 Q250.1649,0 250.1649,4 L250.1649,60.7884 Q250.1649,64.7884 246.1649,64.7884 L4,64.7884 Q0,64.7884 0,60.7884 L0,4 Q0,0 4,0 " id="shape:9SYkhq44JuzFO637hB390" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 0;"></path><foreignObject width="250.16487115239204" height="64.78836164651827" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"><span id="hamburger" native="\uD83C\uDF54" class="emoji">\uD83C\uDF54</span> Lunch</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 515.9399, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Tue</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 199.5184, 134.5658)" opacity="1"><g><foreignObject width="262.08443878034683" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading" style="text-align: center">Mon</h3></div></div></foreignObject></g></g></svg>'}},calendarMonths:{type:"diagram",attrs:{horizontalAlign:null,shapes:[{x:187.0625,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hF6E8P7CiXiSsRo7LG0FF",type:"geo",props:{w:419.6875,h:677.9375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"none"},parentId:"page:page",index:"Zy",typeName:"shape"},{x:621.23828125,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:taayoSjVZnQxAEAkYzW8F",type:"geo",props:{w:419.6875,h:677.9375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"none"},parentId:"page:page",index:"Zz",typeName:"shape"},{x:1055.4140625,y:119.1171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:DogbW2-V83SiEhlezSTF1",type:"geo",props:{w:419.6875,h:677.9375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"none"},parentId:"page:page",index:"a0",typeName:"shape"},{x:1479.765625,y:227.52734375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:n-HH4IouUsStSFr3VNbU-",type:"line",parentId:"page:page",index:"a2",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:-4.6640625,y:22115642650533118e-29},a2:{id:"a2",index:"a2",x:-1292.703125,y:2220446049250313e-28}},shapeColor:null,strokeWidth:"none"},typeName:"shape"},{x:201.34708590770333,y:145.867869309553,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:BEBrp9VENbneWCEP9Z57D",type:"text",props:{color:"black",size:"m",w:389.55916409229667,text:"January",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">January</h3>',shapeColor:null},parentId:"page:page",index:"a3",typeName:"shape"},{x:631.6081020625556,y:145.867869309553,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:-3Bu-xyyud5-NY1mEsn_r",type:"text",props:{color:"black",size:"m",w:399.24346043744436,text:"February",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">February</h3>',shapeColor:null},parentId:"page:page",index:"a4",typeName:"shape"},{x:1064.4140625,y:145.867869309553,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:97V6hIrYPl_7kahzLVj4Y",type:"text",props:{color:"black",size:"m",w:397.96463853034425,text:"March",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:34,html:'<h3 class="themed-heading">March</h3>',shapeColor:null},parentId:"page:page",index:"a5",typeName:"shape"},{x:213.4453125,y:262.6015625,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:hqEIx0gJpckN8eL0a3_eG",type:"geo",props:{w:377.57421875,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Campaign brief",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Campaign brief</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a6",typeName:"shape"},{x:424.8515625,y:350.465234375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:L4SJqvXoG-EotQtRMTPY8",type:"geo",props:{w:242.98046875,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Brainstorming idea",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Brainstorming idea</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a7",typeName:"shape"},{x:642.359375,y:438.32890625000005,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:5PsZHZLZu4_CVVyhnfMhV",type:"geo",props:{w:317.4921875,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Pitching V1 draft",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Pitching V1 draft</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a8",typeName:"shape"},{x:801.10546875,y:526.192578125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:gaTWbH01oHY5U8i7-0YWM",type:"geo",props:{w:216.140625,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Team sync",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Team sync</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a9",typeName:"shape"},{x:1017.24609375,y:614.05625,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:LTp09wJ7CZ4hmqxK3TqOs",type:"geo",props:{w:216.140625,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"Product launch",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">Product launch</p>',shapeColor:"#26A688",strokeWidth:"none"},parentId:"page:page",index:"aA",typeName:"shape"},{x:1224.703125,y:701.919921875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YRlBT-re2qFu7J2lowdkX",type:"geo",props:{w:216.140625,h:68.80859375,geo:"rectangle",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"PR push",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph">PR push</p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"aB",typeName:"shape"}],assets:[],meta:{},width:null,svg:'<svg direction="ltr" width="1304.0390625" height="693.9375" viewBox="179.0625 111.1171875 1304.0390625 693.9375" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 187.0625, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L415.6875,0 Q419.6875,0 419.6875,4 L419.6875,673.9375 Q419.6875,677.9375 415.6875,677.9375 L4,677.9375 Q0,677.9375 0,673.9375 L0,4 Q0,0 4,0 " id="shape:hF6E8P7CiXiSsRo7LG0FF" style="fill-opacity: 1; stroke-width: 0;"></path><foreignObject width="419.6875" height="677.9375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 621.2383, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L415.6875,0 Q419.6875,0 419.6875,4 L419.6875,673.9375 Q419.6875,677.9375 415.6875,677.9375 L4,677.9375 Q0,677.9375 0,673.9375 L0,4 Q0,0 4,0 " id="shape:taayoSjVZnQxAEAkYzW8F" style="fill-opacity: 1; stroke-width: 0;"></path><foreignObject width="419.6875" height="677.9375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1055.4141, 119.1172)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L415.6875,0 Q419.6875,0 419.6875,4 L419.6875,673.9375 Q419.6875,677.9375 415.6875,677.9375 L4,677.9375 Q0,677.9375 0,673.9375 L0,4 Q0,0 4,0 " id="shape:DogbW2-V83SiEhlezSTF1" style="fill-opacity: 1; stroke-width: 0;"></path><foreignObject width="419.6875" height="677.9375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1479.7656, 227.5273)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M-4.66, 0L-1292.7, 0" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 201.3471, 145.8679)" opacity="1"><g><foreignObject width="390.55916409229667" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">January</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 631.6081, 145.8679)" opacity="1"><g><foreignObject width="400.24346043744436" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">February</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1064.4141, 145.8679)" opacity="1"><g><foreignObject width="399" height="54"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h3 class="themed-heading">March</h3></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 213.4453, 262.6016)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L373.5742,0 Q377.5742,0 377.5742,4 L377.5742,64.8086 Q377.5742,68.8086 373.5742,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:hqEIx0gJpckN8eL0a3_eG" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="377.57421875" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Campaign brief</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 424.8516, 350.4652)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L238.9805,0 Q242.9805,0 242.9805,4 L242.9805,64.8086 Q242.9805,68.8086 238.9805,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:L4SJqvXoG-EotQtRMTPY8" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="242.98046875" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Brainstorming idea</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 642.3594, 438.3289)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L313.4922,0 Q317.4922,0 317.4922,4 L317.4922,64.8086 Q317.4922,68.8086 313.4922,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:5PsZHZLZu4_CVVyhnfMhV" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="317.4921875" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Pitching V1 draft</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 801.1055, 526.1926)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L212.1406,0 Q216.1406,0 216.1406,4 L216.1406,64.8086 Q216.1406,68.8086 212.1406,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:gaTWbH01oHY5U8i7-0YWM" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="216.140625" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Team sync</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1017.2461, 614.0562)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L212.1406,0 Q216.1406,0 216.1406,4 L216.1406,64.8086 Q216.1406,68.8086 212.1406,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:LTp09wJ7CZ4hmqxK3TqOs" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 0;"></path><foreignObject width="216.140625" height="68.80859375" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">Product launch</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1224.7031, 701.9199)" opacity="1"><g data-shape-type="geo"><path d="M4,0 L212.1406,0 Q216.1406,0 216.1406,4 L216.1406,64.8086 Q216.1406,68.8086 212.1406,68.8086 L4,68.8086 Q0,68.8086 0,64.8086 L0,4 Q0,0 4,0 " id="shape:YRlBT-re2qFu7J2lowdkX" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="216.140625" height="68.80859375"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph">PR push</p></div></div></foreignObject></g></g></svg>'}},concentricCircles:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:565.8710406141417,y:267.2348052328804,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:TAw6_9rfNRYvwwWYH_HCE",type:"geo",props:{w:477.70836857906545,h:477.70836857906545,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a1",typeName:"shape"},{x:616.0939715727751,y:367.685804457496,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EgzihrX9ISnR1IDnH3Nb-",type:"geo",props:{w:377.2573693544499,h:377.2573693544499,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a2",typeName:"shape"},{x:668.9469658115557,y:473.48237590821486,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:PjG3dFUaDsYRxpsyfV9pW",type:"geo",props:{w:271.5513808768887,h:271.5513808768887,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a3",typeName:"shape"},{x:710.2141277616566,y:556.2474435629489,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:q-kyMkxhO2b6WeTH0ets_",type:"geo",props:{w:189.21399728645815,h:189.21399728645815,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:"#26A688",strokeWidth:"sm"},parentId:"page:page",index:"a4",typeName:"shape"},{x:464.90514248458214,y:65.35157205630884,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:j5viwZdfHENtGXtzpl0By",type:"geo",props:{w:679.628218169672,h:679.628218169672,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0",typeName:"shape"},{x:510.91801733541865,y:157.35060141748204,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:ktAwuZYMrly1jH7bcYmPU",type:"geo",props:{w:587.634481733614,h:587.634481733614,geo:"ellipse",color:"black",labelColor:"black",fill:"none",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0V",typeName:"shape"},{x:725.4037617637376,y:93.6328125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:arpSUqzdolhE3v92x2Hlg",type:"text",props:{color:"black",size:"m",w:159,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Strangers</p>',shapeColor:null},parentId:"page:page",index:"a6",typeName:"shape"},{x:698.7226562500001,y:191.5703125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:p4dDCuUjLEG9hLXieB7uX",type:"text",props:{color:"black",size:"m",w:211.83203125000003,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Community</p>',shapeColor:null},parentId:"page:page",index:"a7",typeName:"shape"},{x:698.7226562500001,y:300.83203125,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:IQ2anr8KXqvDn1DTJJIM1",type:"text",props:{color:"black",size:"m",w:212,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Acquaintances</p>',shapeColor:null},parentId:"page:page",index:"a8",typeName:"shape"},{x:698.7226562500001,y:410.09375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:O77tcKAFokcE_JogX_h3n",type:"text",props:{color:"black",size:"m",w:212,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Friends</p>',shapeColor:null},parentId:"page:page",index:"a9",typeName:"shape"},{x:698.7226562500001,y:497.0234375,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Ku24cDrP5-0A12pFZdch1",type:"text",props:{color:"black",size:"m",w:212,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:28,html:'<p style="text-align: center" data-font-size="default" class="paragraph">Family</p>',shapeColor:null},parentId:"page:page",index:"aA",typeName:"shape"},{x:698.7226562500001,y:628.6171875,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Bd8YnNb0vDeKdtlRMcNh_",type:"text",props:{color:"black",size:"m",w:212,text:"",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:27,html:'<h4 class="themed-heading" style="text-align: center">Me</h4>',shapeColor:"#FFFFFF"},parentId:"page:page",index:"aB",typeName:"shape"}],assets:[{meta:{},id:"asset:1250396056",type:"image",typeName:"asset",props:{name:"tldrawFile",src:"https://cdn-staging.gamma.app/QWjS6fBfpt/1503bafa04414cc2a7b9848c75a23885/original/tldrawFile.png",w:800,h:801,mimeType:"image/png",isAnimated:!1}}],meta:{},width:360,svg:'<svg direction="ltr" width="695.4817604046791" height="695.5549853416027" viewBox="457.05160024957496 57.38818847034315 695.4817604046791 695.5549853416027" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 464.9051, 65.3516)" opacity="1"><g data-shape-type="geo"><path d="M0,339.814109084836a339.814109084836,339.814109084836,0,1,1,679.628218169672,0a339.814109084836,339.814109084836,0,1,1,-679.628218169672,0" width="679.628218169672" height="679.628218169672" id="shape:j5viwZdfHENtGXtzpl0By" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="679.4817604046791" height="679.5549853416026"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 510.918, 157.3506)" opacity="1"><g data-shape-type="geo"><path d="M0,293.817240866807a293.817240866807,293.817240866807,0,1,1,587.634481733614,0a293.817240866807,293.817240866807,0,1,1,-587.634481733614,0" width="587.634481733614" height="587.634481733614" id="shape:ktAwuZYMrly1jH7bcYmPU" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="587.4668563326944" height="587.5506630553135"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 565.871, 267.2348)" opacity="1"><g data-shape-type="geo"><path d="M0,238.85418428953272a238.85418428953272,238.85418428953272,0,1,1,477.70836857906545,0a238.85418428953272,238.85418428953272,0,1,1,-477.70836857906545,0" width="477.70836857906545" height="477.70836857906545" id="shape:TAw6_9rfNRYvwwWYH_HCE" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="477.7083685790655" height="477.70836857906556"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 616.094, 367.6858)" opacity="1"><g data-shape-type="geo"><path d="M0,188.62868467722495a188.62868467722495,188.62868467722495,0,1,1,377.2573693544499,0a188.62868467722495,188.62868467722495,0,1,1,-377.2573693544499,0" width="377.2573693544499" height="377.2573693544499" id="shape:EgzihrX9ISnR1IDnH3Nb-" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="377.2573693544497" height="377.25736935444945"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 668.947, 473.4824)" opacity="1"><g data-shape-type="geo"><path d="M0,135.77569043844434a135.77569043844434,135.77569043844434,0,1,1,271.5513808768887,0a135.77569043844434,135.77569043844434,0,1,1,-271.5513808768887,0" width="271.5513808768887" height="271.5513808768887" id="shape:PjG3dFUaDsYRxpsyfV9pW" style="fill-opacity: 0; stroke-width: 2;"></path><foreignObject width="271.1891698494137" height="271.3702149305733"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 710.2141, 556.2474)" opacity="1"><g data-shape-type="geo"><path d="M0,94.60699864322908a94.60699864322908,94.60699864322908,0,1,1,189.21399728645815,0a94.60699864322908,94.60699864322908,0,1,1,-189.21399728645815,0" width="189.21399728645815" height="189.21399728645815" id="shape:q-kyMkxhO2b6WeTH0ets_" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 2;"></path><foreignObject width="189.2139972864582" height="188.17746321153578" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 725.4038, 93.6328)" opacity="1"><g><foreignObject width="160" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Strangers</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 191.5703)" opacity="1"><g><foreignObject width="212.83203125000003" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Community</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 300.832)" opacity="1"><g><foreignObject width="213" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Acquaintances</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 410.0938)" opacity="1"><g><foreignObject width="213" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Friends</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 497.0234)" opacity="1"><g><foreignObject width="213" height="48"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><p style="text-align: center" data-font-size="default" class="paragraph">Family</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 698.7227, 628.6172)" opacity="1"><g><foreignObject width="213" height="47" class="themed-heading-no-gradient" style="--body-color: #FFFFFF; --heading-color: #FFFFFF; --link-color: #FFFFFF; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading" style="text-align: center">Me</h4></div></div></foreignObject></g></g></svg>'}},targetCircles:{type:"diagram",attrs:{horizontalAlign:"center",shapes:[{x:929.6197161942252,y:155.0916582850458,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Lyhoe8Jk5MAMoudOizb8X",type:"geo",props:{w:500.14804571219815,h:500.14804571219815,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0G",typeName:"shape"},{x:967.92743672945,y:193.45976889185556,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:RYOvVH5HKvjk5GXZojXEJ",type:"geo",props:{w:423.4118244985782,h:423.4118244985782,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a0l",typeName:"shape"},{x:1007.5906901264586,y:233.06263221727892,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:guJhyRC2_2GgZ9f0HcNJR",type:"geo",props:{w:344.20609784773154,h:344.20609784773154,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a1V",typeName:"shape"},{x:1043.7799729004403,y:269.2519149912604,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:seEkM5XtC9yIw7hoXfdbS",type:"geo",props:{w:271.8275322997684,h:271.8275322997684,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a2V",typeName:"shape"},{x:1081.7319672065987,y:307.3344023477454,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:NS2ahjw0mGlpg-PMYOxM8",type:"geo",props:{w:195.6625575867985,h:195.6625575867985,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:null,strokeWidth:"sm"},parentId:"page:page",index:"a3V",typeName:"shape"},{x:1115.50785950286,y:340.94563257104426,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:3f1yjdcch_VMlWXK600PT",type:"geo",props:{w:128.4400971402006,h:128.4400971402006,geo:"ellipse",color:"black",labelColor:"black",fill:"solid",dash:"solid",size:"m",font:"draw",text:"",align:"middle",verticalAlign:"middle",growY:0,url:"",html:'<p class="paragraph"></p>',shapeColor:"#26A688",strokeWidth:"sm"},parentId:"page:page",index:"a4V",typeName:"shape"},{x:1073.6937390503244,y:381.6656811411451,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:1FLv65NIvaurbbxTQrE18",type:"text",props:{color:"black",size:"m",w:212,text:"Me",font:"draw",align:"middle",autoSize:!1,scale:1,h:20,growY:27,html:'<h4 class="themed-heading" style="text-align: center">Me</h4>',shapeColor:"#FFFFFF"},parentId:"page:page",index:"aB",typeName:"shape"},{x:1381.0026472829704,y:173.17393949526377,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Q6dHtLEQiLE4grg0RCM-A",type:"line",parentId:"page:page",index:"aC",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:2.417216937863941,y:7.723304968297555},a2:{id:"a2",index:"a2",x:-52.226471674030236,y:48.30663418059406}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1396.40422015788,y:245.48057367585784,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:V6TsnoH4I7lC4eFh_jCVf",type:"line",parentId:"page:page",index:"aCV",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:48.001155258881184,y:41.665293041944466},a2:{id:"a2",index:"a2",x:-47.682312332765534,y:66.29026038484135}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1418.8041070476638,y:554.4103614129623,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:Z7iFyapJSWnC-Nj48trDz",type:"line",parentId:"page:page",index:"aCd",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:28.116150018295414,y:-27.85190422662322},a2:{id:"a2",index:"a2",x:-138.26659908197,y:-91.24836881350053}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1396.40422015788,y:405.1656811411451,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:UyPPQxh5Izzrta_PeC4Lv",type:"line",parentId:"page:page",index:"aCl",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:94.52397902306642,y:3674838211509268e-29},a2:{id:"a2",index:"a2",x:-62.28449928723883,y:3674838211509268e-29}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1396.40422015788,y:680.9410126688012,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:YvmG2cbsMv-yBAjUCLAZV",type:"line",parentId:"page:page",index:"aD",props:{dash:"solid",size:"m",color:"black",spline:"line",points:{a1:{id:"a1",index:"a1",x:-30.33301659894073,y:-34.31453399190673},a2:{id:"a2",index:"a2",x:-187.1016230443878,y:-198.11935311752904}},shapeColor:null,strokeWidth:"sm"},typeName:"shape"},{x:1456.428646134135,y:520.7240691140834,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:EdTs6rzP02YRCn-NSSouG",type:"text",props:{color:"black",size:"m",w:190.61066381032765,text:"Friends",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Friends</p>',shapeColor:null},parentId:"page:page",index:"aE",typeName:"shape"},{x:1373.8179823238074,y:633.1902718076452,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:9DzQSxc3Xru2fKGSdFx16",type:"text",props:{color:"black",size:"m",w:191,text:"Family",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Family</p>',shapeColor:null},parentId:"page:page",index:"aF",typeName:"shape"},{x:1496.9281991809464,y:383.1656811411449,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:VKIjJjszvAlrkJQJfGUV1",type:"text",props:{color:"black",size:"m",w:204.36525326738322,text:"Acquaintances",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Acquaintances</p>',shapeColor:null},parentId:"page:page",index:"aG",typeName:"shape"},{x:1451.2460195004435,y:263.4599680925235,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:V6a9zGihrEPKbWp0WyYFu",type:"text",props:{color:"black",size:"m",w:204.36525326738322,text:"Community",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Community</p>',shapeColor:null},parentId:"page:page",index:"aH",typeName:"shape"},{x:1389.4198642208344,y:155.14109047464459,rotation:0,isLocked:!1,opacity:1,meta:{},id:"shape:tneIatSl5yj2J6kQLD4Hy",type:"text",props:{color:"black",size:"m",w:204.36525326738322,text:"Strangers",font:"draw",align:"start",autoSize:!1,scale:1,h:44,growY:0,html:'<p class="paragraph">Strangers</p>',shapeColor:null},parentId:"page:page",index:"aI",typeName:"shape"}],assets:[{meta:{},id:"asset:1250396056",type:"image",typeName:"asset",props:{name:"tldrawFile",src:"https://cdn-staging.gamma.app/QWjS6fBfpt/1503bafa04414cc2a7b9848c75a23885/original/tldrawFile.png",w:800,h:801,mimeType:"image/png",isAnimated:!1}}],meta:{},width:534.2222222222222,svg:'<svg direction="ltr" width="788.1107737708712" height="538.0491813330007" viewBox="921.8174254100752 147.14109047464459 788.1107737708712 538.0491813330007" stroke-linecap="round" stroke-linejoin="round" style="background-color: transparent;"><defs></defs><g transform="matrix(1, 0, 0, 1, 929.6197, 155.0917)" opacity="1"><g data-shape-type="geo"><path d="M0,250.07402285609908a250.07402285609908,250.07402285609908,0,1,1,500.14804571219815,0a250.07402285609908,250.07402285609908,0,1,1,-500.14804571219815,0" width="500.14804571219815" height="500.14804571219815" id="shape:Lyhoe8Jk5MAMoudOizb8X" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="499.9503364963482" height="500.04918133300066"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 967.9274, 193.4598)" opacity="1"><g data-shape-type="geo"><path d="M0,211.7059122492891a211.7059122492891,211.7059122492891,0,1,1,423.4118244985782,0a211.7059122492891,211.7059122492891,0,1,1,-423.4118244985782,0" width="423.4118244985782" height="423.4118244985782" id="shape:RYOvVH5HKvjk5GXZojXEJ" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="423.17913672789973" height="423.29546462452595"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1007.5907, 233.0626)" opacity="1"><g data-shape-type="geo"><path d="M0,172.10304892386577a172.10304892386577,172.10304892386577,0,1,1,344.20609784773154,0a172.10304892386577,172.10304892386577,0,1,1,-344.20609784773154,0" width="344.20609784773154" height="344.20609784773154" id="shape:guJhyRC2_2GgZ9f0HcNJR" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="343.9254156609416" height="344.0657281324484"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1043.78, 269.2519)" opacity="1"><g data-shape-type="geo"><path d="M0,135.9137661498842a135.9137661498842,135.9137661498842,0,1,1,271.8275322997684,0a135.9137661498842,135.9137661498842,0,1,1,-271.8275322997684,0" width="271.8275322997684" height="271.8275322997684" id="shape:seEkM5XtC9yIw7hoXfdbS" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="271.4649529254623" height="271.6461821185811"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1081.732, 307.3344)" opacity="1"><g data-shape-type="geo"><path d="M0,97.83127879339925a97.83127879339925,97.83127879339925,0,1,1,195.6625575867985,0a97.83127879339925,97.83127879339925,0,1,1,-195.6625575867985,0" width="195.6625575867985" height="195.6625575867985" id="shape:NS2ahjw0mGlpg-PMYOxM8" style="fill-opacity: 1; stroke-width: 2;"></path><foreignObject width="195.1606169331522" height="195.41142609724233"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1115.5079, 340.9456)" opacity="1"><g data-shape-type="geo"><path d="M0,64.2200485701003a64.2200485701003,64.2200485701003,0,1,1,128.4400971402006,0a64.2200485701003,64.2200485701003,0,1,1,-128.4400971402006,0" width="128.4400971402006" height="128.4400971402006" id="shape:3f1yjdcch_VMlWXK600PT" style="fill-opacity: 1; --shape-bg-color-override: #26A688; --shape-border-color-override: #3fbfa1ff; stroke-width: 2;"></path><foreignObject width="127.72281225789044" height="128.08095257852762" class="themed-heading-no-gradient" style="--body-color: #fff; --heading-color: #fff; --link-color: #fff; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center; --vertical-align: center;"><div class="text"><p class="paragraph"></p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1073.6937, 381.6657)" opacity="1"><g><foreignObject width="213" height="47" class="themed-heading-no-gradient" style="--body-color: #FFFFFF; --heading-color: #FFFFFF; --link-color: #FFFFFF; --link-color-inverted: #000; --link-color-hover: #e6e6e6ff;"><div class="textbox" style="--text-align: center; --horizontal-align: center;"><div class="text"><h4 class="themed-heading" style="text-align: center">Me</h4></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1381.0026, 173.1739)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M2.42, 7.72L-52.23, 48.31" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1396.4042, 245.4806)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M48, 41.67L-47.68, 66.29" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1418.8041, 554.4104)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M28.12, -27.85L-138.27, -91.25" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1396.4042, 405.1657)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M94.52, 0L-62.28, 0" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1396.4042, 680.941)" opacity="1"><g data-shape-type="line"><path stroke-width="3.5px" stroke="#1d1d1d" fill="none" d="M-30.33, -34.31L-187.1, -198.12" style="--stroke-width: 2;"></path></g></g><g transform="matrix(1, 0, 0, 1, 1456.4286, 520.7241)" opacity="1"><g><foreignObject width="191" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Friends</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1373.818, 633.1903)" opacity="1"><g><foreignObject width="192" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Family</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1496.9282, 383.1657)" opacity="1"><g><foreignObject width="206" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Acquaintances</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1451.246, 263.46)" opacity="1"><g><foreignObject width="205" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Community</p></div></div></foreignObject></g></g><g transform="matrix(1, 0, 0, 1, 1389.4199, 155.1411)" opacity="1"><g><foreignObject width="205" height="44"><div class="textbox" style="--text-align: left; --horizontal-align: start;"><div class="text"><p class="paragraph">Strangers</p></div></div></foreignObject></g></g></svg>'}}},c={src:"/_next/static/media/Gantt.63fb5eea.svg",height:96,width:253,blurWidth:0,blurHeight:0},u={src:"/_next/static/media/Kanban.fa47adcf.svg",height:96,width:253,blurWidth:0,blurHeight:0},p=()=>[{key:"diagram",name:()=>i.Ru._({id:"G1q1hG"}),keywords:["sketch","drawing","shapes","diagram","canvas","freeform"],shortcut:"/diagram"},{key:"calendarWeek",name:()=>i.Ru._({id:"ToE1YL"}),keywords:["week","days","calendar","diagram","kanban","schedule","timeline"],icon:a.aXh,previewImage:u},{key:"calendarMonths",name:()=>i.Ru._({id:"jIipv0"}),keywords:["month","days","calendar","diagram","kanban","schedule","gantt chart","timeline"],icon:a.nKW,previewImage:c}].map(e=>{let t="diagram"===e.key?{type:"diagram",attrs:{}}:d[e.key];return{nodeName:"diagram",icon:a.qTS,...e,execute:e=>{let n=(0,s.rZ)(),a=l()(t);a.attrs.id=n,(0,s.CD)(n,!0),e.commands.insertContent(a)},dragStartFn:e=>{let n=(0,s.rZ)(),a=l()(t);a.attrs.id=n,(0,s.CD)(n,!0),(0,o.fS)(e,a)}}}).filter(e=>!!e)},34630:(e,t,n)=>{"use strict";n.d(t,{Ni:()=>d,_D:()=>s,x_:()=>o});var a=n(58495),i=n(86014),r=n(7836),l=n(68301);let o=(e,t)=>{let n=e.getReader(),a=async()=>{var e,i,r;try{let{done:r,value:l}=await n.read();if(r)null==(i=t.onDone)||i.call(t);else{null==(e=t.onMessage)||e.call(t,l),a();return}}catch(e){null==(r=t.onError)||r.call(t,e instanceof Error?e:Error(e))}};a()},s=e=>e instanceof i.lm?{errorCode:e.code,errorMessage:e.message}:e instanceof Error?{errorMessage:e.message}:{errorMessage:e};(0,a.d_)("0123456789abcdefghijklmnopqrstuvwxyz",16);let d=(e,t,n)=>{t.skipCapturingErrors||l.of.get("disableAiErrorLogging")||(0,r.EJ)(e,n)}},34806:(e,t,n)=>{"use strict";n.d(t,{I:()=>r,k:()=>l});var a=n(93766);let i=e=>"".concat(e," !important"),r=e=>({fontFamily:i(e)}),l=e=>{let t={"[data-shape=image]":{".tl-inner-div":{}},img:{'&[src^="blob:"]':{animation:"loading-pulse-animation 1.5s infinite"}}},n=Object.values(a.JM),r=e?"dark":"light";return n.forEach(e=>{t['[data-color="'.concat(e,'"]')]={color:i(a.gA.strokes[r][e]),":not(mask) > [fill], &[fill]":{"&:not([fill=none])":{fill:i(a.gA.fills[r][e]),"text, tspan":{fill:i(a.gA.strokes[r][e])}}},"[stroke]":{"&:not([stroke=none])":{stroke:i(a.gA.strokes[r][e])}}}}),t}},34832:(e,t,n)=>{"use strict";n.d(t,{K8:()=>p,i4:()=>u,pt:()=>c});var a=n(55729),i=n(12419),r=n(34630),l=n(40240),o=n(91285);class s extends o.Rv{getContent(){return this.content}constructor(e){super({start:()=>{var t;null==(t=e.onStart)||t.call(e)},transform:async(t,n)=>{var a,i,r;"content"===t.event&&(this.content+=t.data,null==(a=e.onContent)||a.call(e,this.content)),"done"===t.event&&(null==(i=e.onComplete)||i.call(e,this.content)),"cancel"===t.event&&(null==(r=e.onCancel)||r.call(e)),n.enqueue(t)},flush(){var t;null==(t=e.onFlush)||t.call(e)}}),this.content=""}}var d=n(82927);let c=(e,t)=>({generate:(0,a.useCallback)(n=>u({...n,promptKey:e,opts:t}),[t,e])}),u=e=>{let{promptKey:t,opts:n,variables:a,interactionId:o,workspaceId:d}=e;o=o||(0,l.$F)();let{cancel:c,stream:u}=(0,i.aO)({promptKey:t,variables:a,interactionId:o,workspaceId:d},{timeout:n.timeout}),p=new s(n),h=u.pipeThrough(p);return{cancel:c,promise:new Promise((e,a)=>{(0,r.x_)(h,{onError(e){var i;null==(i=n.onError)||i.call(n,e),(0,r.Ni)(e,n,{customErrorType:"streamJsxGeneration",promptKey:t,interactionId:o}),a(e)},onDone(){e(p.getContent())}})})}},p=e=>{let{promptKey:t,variables:n,interactionId:a,workspaceId:r=(0,d.gx)(),opts:o={}}=e;return a=a||(0,l.$F)(),(0,i.fY)({promptKey:t,interactionId:a,workspaceId:r,variables:n},o)}},35289:(e,t,n)=>{"use strict";n.d(t,{p:()=>C});var a=n(6029),i=n(46898),r=n(57405),l=n(23293),o=n(48810),s=n(33787),d=n(49611),c=n(38036),u=n(36218),p=n(58959),h=n(19564),g=n(77650),m=n(15773),x=n(59230),f=n(15342),b=n(21982),v=n(43634),y=n(60908),w=n(62964);let C=e=>{let{updateAttributes:t,currentAttributes:n}=e,{sourceUrl:C,meta:A,thumbnail:j}=n,k=(0,f.GV)(v.aQ),S=(0,i.d)(),I=async()=>{C&&await (0,w.Yq)(C,t).catch(e=>{console.error("[EMBED METADATA] Error restoring preview defaults",e),S({title:g.Ru._({id:"cgB+pO",values:{0:e.error}}),status:"error",isClosable:!0,position:"top"})})};return(0,a.jsxs)(r.T,{pt:4,align:"stretch",spacing:4,children:[(0,a.jsxs)(r.T,{align:"stretch",children:[(0,a.jsx)(l.D,{size:"md",children:(0,a.jsx)(h.x6,{id:"qbzc6p"})}),(0,a.jsx)(o.E,{fontSize:"sm",color:"gray.600",children:(0,a.jsx)(h.x6,{id:"D9R1mI"})})]}),(0,a.jsxs)(r.T,{align:"stretch",p:4,borderRadius:"lg",border:"1px solid var(--chakra-colors-blue-500)",bg:"gray.50",spacing:4,children:[(null==j?void 0:j.showPlaceholder)?(0,a.jsx)(b.Pf,{hasUploadError:(null==j?void 0:j.uploadStatus)===x.A.Error,isUploading:(null==j?void 0:j.uploadStatus)===x.A.Uploading,height:"200px",borderRadius:"md"}):j?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s._,{src:j.src||j.tempUrl||"",alt:(null==A?void 0:A.title)||"",ignoreFallback:!0,borderRadius:"md"}),(0,a.jsx)(d.$,{isDisabled:j.uploadStatus===x.A.Uploading,onClick:()=>{t({thumbnail:void 0})},children:(0,a.jsx)(h.x6,{id:"YFcW0s"})})]}):k&&(0,a.jsx)(m.Z,{onUploadStart:e=>{let{file:n,tempUrl:a}=e;n.type&&(0,y.aI)(n.type)?t({thumbnail:{uploadStatus:x.A.Uploading,showPlaceholder:!0,tempUrl:null}}):t({thumbnail:{tempUrl:a,uploadStatus:x.A.Uploading,showPlaceholder:!1}})},onUploadSuccess:e=>{let{src:n}=e;t({thumbnail:{src:n}})},onUploadFailed:e=>{console.error("[EMBED METADATA] Error uploading thumbnail image",e),t({thumbnail:{uploadStatus:x.A.Error,showPlaceholder:!0,tempUrl:null}})},orgId:k||"",uploadType:"image",editType:"icon",dropHereText:g.Ru._({id:"yxTfZB",values:{0:"%{browse}"}}),customHeight:"200px",customFontSize:"sm"}),(0,a.jsxs)(r.T,{mt:2,align:"stretch",children:[(0,a.jsx)(o.E,{children:(0,a.jsx)(h.x6,{id:"MHrjPM"})}),(0,a.jsx)(c.p,{bg:"white",value:(null==A?void 0:A.title)||"",placeholder:g.Ru._({id:"bTzMt5"}),onChange:e=>{t({meta:{...A,title:e.target.value}})},"data-testid":"title-input"})]}),(0,a.jsxs)(r.T,{align:"stretch",children:[(0,a.jsx)(o.E,{children:(0,a.jsx)(h.x6,{id:"Nu4oKW"})}),(0,a.jsx)(u.T,{bg:"white",rows:4,value:(null==A?void 0:A.description)||"",placeholder:g.Ru._({id:"2VBqT4"}),onChange:e=>{t({meta:{...A,description:e.target.value}})}})]}),(0,a.jsxs)(r.T,{align:"stretch",children:[(0,a.jsx)(o.E,{children:(0,a.jsx)(h.x6,{id:"On0aF2"})}),(0,a.jsxs)(p.z,{children:[(null==A?void 0:A.icon)&&(0,a.jsx)(s._,{src:A.icon,h:"1.5em",borderRadius:"sm"}),(0,a.jsx)(c.p,{bg:"white",value:(null==A?void 0:A.site)||"",placeholder:g.Ru._({id:"SmWcKR"}),onChange:e=>{t({meta:{...n.meta,site:e.target.value}})}})]})]})]}),(0,a.jsx)(d.$,{onClick:I,children:(0,a.jsx)(h.x6,{id:"Z00hdC"})})]})}},35292:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,l:()=>d});var a=n(55729),i=n(68301),r=n(15342),l=n(55084),o=n(70965),s=n(1309);let d=e=>(0,i.u)("aiImageEditing")&&(0,s.k)(e),c=()=>{let e=(0,r.jL)();(0,a.useEffect)(()=>()=>{e((0,l.CX)({chatId:(0,o.H)()}))},[e])}},35616:(e,t,n)=>{"use strict";n.d(t,{X:()=>z});var a=n(22905),i=n(41896),r=n(38934),l=n(46957),o=n(61964),s=n(39078),d=n(6029),c=n(48810),u=n(26420),p=n(49611),h=n(21938),g=n(99492),m=n(48621),x=n(91106),f=n(19564),b=n(77650),v=n(50333),y=n.n(v),w=n(55729),C=n(23746),A=n(58251),j=n(43607),k=n(91242),S=n(80180),I=n(11403),E=n(84886),R=n(50764),L=n(43216),D=n(56124);let M=e=>{let{colWidths:t}=e;return(0,d.jsxs)("colgroup",{children:[(0,d.jsx)("col",{style:{width:"0%"}}),t.map((e,t)=>(0,d.jsx)("col",{className:"col-width-control",style:{width:"".concat(e,"%")}},t))]})};M.displayName="ColGroup";let _=e=>{var t;let n=(0,j.FX)(),{node:a,editor:r,getPos:l,decorations:v,updateAttributes:R}=e,{colMinPercent:_,newColSize:N}=r.schema.nodes.table.spec,z=(0,s.cG)(a.attrs.colWidths,N,_),P=o.J3.get(a),O=v.some(e=>e.spec.isFocusedInside),F=null==(t=v.find(e=>e.spec.isColumnSelected))?void 0:t.spec.colNumber,{colWidths:H}=a.attrs,B=(0,I.En)(),V=P.height*P.width;(0,w.useEffect)(()=>{P.width!==H.length&&setTimeout(()=>{R({colWidths:(0,s.I)(P.width)})},0)},[P.width,H,R]);let W=(0,w.useCallback)(e=>l()+1+P.positionAt(0,e,a),[l,a,P]),U=(0,w.useCallback)(e=>{let t=W(e+1)+1;r.chain().addColumnAfter(e).command(e=>{let{tr:n}=e,a=(0,k.s)(n.doc.resolve(t));return a&&n.setSelection(a),!0}).run()},[r,W]),G=(0,w.useCallback)(()=>{U(P.width-1)},[U,P.width]),K=y()(a.attrs.colWidths.reduce((e,t)=>e+t,0),20);return B?V>=D.dM?(0,d.jsx)(i.VR,{children:(0,d.jsx)(c.E,{color:"red",contentEditable:!1,border:"1px solid red",p:"0.5em",children:(0,d.jsx)(f.x6,{id:"/ZI3Eo"})})}):(0,d.jsx)(E.u,{as:"div",...e,...a.attrs,children:(0,d.jsxs)(u.a,{w:"fit-content",overflowX:n?"auto":void 0,position:"relative",width:"100%",className:(0,h.cx)("table-wrapper",A.a0),"data-selection-ring":!0,children:[(0,d.jsxs)("table",{style:{width:n?"max-content":"".concat(K,"%"),minWidth:n?"100%":void 0,maxWidth:n?"200vw":void 0,tableLayout:n?"auto":"fixed",position:"relative"},children:[(0,d.jsx)(M,{cols:P.width,colWidths:H}),(0,d.jsx)("thead",{children:(0,d.jsx)(T,{numColumns:P.width,selectedColumn:F,getColumnPosition:W,...e})}),(0,d.jsx)(i.$p,{as:"tbody",className:"table-content"})]}),(0,d.jsx)(L.A,{...e,handlePlacement:"outside","data-testid":"select-table-button",onClick:()=>{let e=W(0);r.chain().focus().selectTable(e).run()},label:b.Ru._({id:"3xRGMR"})}),O&&(0,d.jsxs)(u.a,{contentEditable:!1,suppressContentEditableWarning:!0,children:[(0,d.jsx)(x.Tz,{placement:"right",label:b.Ru._({id:"AgvHni"}),children:(0,d.jsx)(p.$,{position:"absolute",insetInlineStart:"100%",top:"0",height:"100%",onClick:G,onMouseDown:S.Fw,minWidth:"0",width:"auto",isDisabled:!z,zIndex:1,"data-testid":"add-col-end-button",size:"xs",shadow:"sm",variant:"unstyled",color:"var(--body-color)",className:C.Gx,backgroundColor:"var(--clickable-background-color)",marginInlineStart:1,w:5,children:(0,d.jsx)(m.g,{icon:g.QLR})})}),(0,d.jsx)(x.Tz,{placement:"bottom",label:b.Ru._({id:"qZd/ph"}),children:(0,d.jsx)(p.$,{position:"absolute",insetInlineStart:"0",top:"100%",width:"100%",onClick:()=>{let e=l()+1,t=P.height-1,n=P.width-1,i=e+P.positionAt(t,n,a);r.chain().focus(i).addRowAfter().run(),requestAnimationFrame(()=>r.chain().focus(i).goToNextCell().run())},onMouseDown:S.Fw,minHeight:"0",height:6,zIndex:4,"data-testid":"add-row-end-button",size:"xs",shadow:"sm",variant:"unstyled",color:"var(--body-color)",className:C.Gx,mt:1,children:(0,d.jsx)(m.g,{icon:g.QLR})})})]})]})}):null},T=e=>{let{numColumns:t,selectedColumn:n,getColumnPosition:a,...i}=e,{editor:r}=i,l=(0,w.useCallback)(e=>{let t=a(e);r.chain().focus().selectColumn(t).run()},[r,a]);if(!t)return null;let o=Array.from(Array(t).keys());return(0,d.jsxs)("tr",{contentEditable:!1,suppressContentEditableWarning:!0,children:[(0,d.jsx)("th",{style:{padding:0}}),o.map(e=>(0,d.jsx)(N,{colNumber:e,selectColumn:l,isSelected:e===n,...i},e))]})},N=(0,w.memo)(e=>{let{colNumber:t,selectColumn:n,...a}=e,{decorations:i}=a,{colHover:r}=(0,R.L3)(i),{colFocus:l}=(0,R.lF)(i),o=(0,w.useCallback)(()=>n(t),[t,n]);return(0,d.jsx)("th",{style:{position:"relative",padding:0,border:0},className:"table-col-control",children:(0,d.jsx)(L.A,{...a,handlePlacement:"top",label:b.Ru._({id:"K3GOZ1"}),zIndex:"3",isVisible:r===t||l===t,onClick:o,"data-test-column-control":t})},t)});N.displayName="SelectColumnHeader";let z=a.bP.create({name:"table",priority:r.y.Table,containerHandle:!0,addNodeView:()=>(0,i.gu)(_,{update:l.z0}),addOptions:()=>({resizable:!0,handleWidth:10,colMinPercent:10,newColSize:20,lastColumnResizable:!1,allowTableNodeSelection:!0}),content:"tableRow+",tableRole:"table",isolating:!0,allowGapCursor:!1,group:"cardBlock layoutBlock footnoteBlock calloutBlock",parseHTML:()=>[{tag:"table"}],renderHTML(e){let{HTMLAttributes:t}=e;return["table",(0,a.KV)(this.options.HTMLAttributes,t),["tbody",0]]},addAttributes(){let e="colWidths";return{colWidths:{default:[],renderHTML:t=>{let{colWidths:n}=t;return n&&n.length?{[e]:JSON.stringify(n)}:{}},parseHTML:t=>{let n=t.getAttribute(e);if(n)try{let e=JSON.parse(n);if(Array.isArray(e))return(0,s.fF)(e),e}catch(e){}let a=t.querySelector("tr");if(!a)return[];let i=0;return a.childNodes.forEach(e=>{"TD"===e.nodeName&&i++}),(0,s.I)(i)}},fullWidthBlock:{default:!1}}},addCommands(){return{insertTable:function(){let{rows:e=3,cols:t=3,withHeaderRow:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a=>{let{dispatch:i,editor:r,commands:l}=a;if(!i)return!1;let o=function(e,t,n,a,i){let r=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;let t={};return Object.keys(e.nodes).forEach(n=>{let a=e.nodes[n];a.spec.tableRole&&(t[a.spec.tableRole]=a)}),e.cached.tableNodeTypes=t,t}(e),l=[],o=[];for(let e=0;e<n;e+=1){var d,c;let e=(d=r.cell,d.createAndFill());e&&o.push(e)}let u=[];for(let e=0;e<t;e+=1)u.push(r.row.createChecked(null,a&&0===e?l:o));return r.table.createChecked({colWidths:(0,s.I)(n)},u)}(r.schema,e,t,n);return l.insertContentAndSelect(o.toJSON())}},addColumnBefore:e=>t=>{let{state:n,dispatch:a,tr:i}=t;if(!(0,o.aH)(n.selection)||!a)return!1;let{table:r,tableStart:l}=(0,o._t)(n.selection);return(0,o.cq)(i,{table:r,col:e,tableStart:l,newColSize:this.options.newColSize,colMinPercent:this.options.colMinPercent})},addColumnAfter:e=>t=>{let{state:n,dispatch:a,tr:i}=t;if(!(0,o.aH)(n.selection)||!a)return!1;let{table:r,tableStart:l}=(0,o._t)(n.selection);return(0,o.cq)(i,{table:r,col:e+1,tableStart:l,newColSize:this.options.newColSize,colMinPercent:this.options.colMinPercent})},equalizeColumns:()=>e=>{let{state:t,dispatch:n,tr:a}=e;if(!(0,o.aH)(t.selection)||!n)return!1;let{map:i,tableStart:r}=(0,o._t)(t.selection);return a.setNodeMarkup(r-1,void 0,{colWidths:(0,s.I)(i.width)}),!0},visualizeTable:()=>e=>{let{state:t,dispatch:n,tr:a}=e;if(!(0,o.aH)(t.selection)||!n)return!1;let{map:i,tableStart:r}=(0,o._t)(t.selection);return a.setNodeMarkup(r-1,void 0,{colWidths:(0,s.I)(i.width)}),!0},deleteColumn:()=>e=>{let{state:t,dispatch:n,tr:a}=e;return!!n&&(0,o.Kl)(t.selection,a,n)},addRowBefore:()=>e=>{let{state:t,dispatch:n}=e;return(0,o.JD)(t,n)},addRowAfter:()=>e=>{let{state:t,dispatch:n}=e;return(0,o.gC)(t,n)},deleteRow:()=>e=>{let{state:t,dispatch:n,tr:a}=e;return(0,o.QN)(t.selection,a,n)},deleteTable:()=>e=>{let{state:t,tr:n,dispatch:a}=e;return!!a&&(0,o.CG)(t.selection,n,a)},deleteTableWhenEmpty:()=>e=>{let{state:t,tr:n,dispatch:a}=e;return!!a&&(0,o.lD)(t.selection,n,a)},deleteColWhenEmpty:()=>e=>{let{state:t,tr:n,dispatch:a}=e;return!!a&&(0,o.Tn)(t.selection,n,a)},deleteRowWhenEmpty:()=>e=>{let{state:t,tr:n,dispatch:a}=e;return!!a&&(0,o.rO)(t.selection,n,a)},mergeCells:()=>e=>{let{state:t,dispatch:n}=e;return(0,o.w7)(t,n)},splitCell:()=>e=>{let{state:t,dispatch:n}=e;return(0,o.L0)(t,n)},toggleHeaderColumn:()=>e=>{let{state:t,dispatch:n}=e;return(0,o.Qg)(t,n)},toggleHeaderRow:()=>e=>{let{state:t,dispatch:n}=e;return(0,o.uC)(t,n)},toggleHeaderCell:()=>e=>{let{state:t,dispatch:n}=e;return(0,o._G)(t,n)},mergeOrSplit:()=>e=>{let{state:t,dispatch:n}=e;return!!(0,o.w7)(t,n)||(0,o.L0)(t,n)},setCellAttribute:(e,t)=>n=>{let{state:a,dispatch:i}=n;return(0,o.i4)(e,t)(a,i)},goToNextCell:()=>e=>{let{state:t,dispatch:n}=e;return(0,o.D8)(1)(t,n)},goToPreviousCell:()=>e=>{let{state:t,dispatch:n}=e;return(0,o.D8)(-1)(t,n)},fixTables:()=>e=>{let{state:t,dispatch:n}=e;return n&&(0,o.rP)(t),!0},setCellSelection:e=>t=>{let{tr:n,dispatch:a}=t;if(a){let t=o.rn.create(n.doc,e.anchorCell,e.headCell);n.setSelection(t)}return!0}}},addKeyboardShortcuts(){let e=()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.deleteTableWhenEmpty(),()=>t.deleteRowWhenEmpty(),()=>t.deleteColWhenEmpty()]});return{Tab:()=>!!this.editor.commands.goToNextCell()||!!this.editor.can().addRowAfter()&&this.editor.chain().addRowAfter().goToNextCell().run(),"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:e,"Mod-Backspace":e,Delete:e,"Mod-Delete":e}},addProseMirrorPlugins(){return this.options.resizable,[(0,o.AL)({handleWidth:this.options.handleWidth,colMinPercent:this.options.colMinPercent,lastColumnResizable:this.options.lastColumnResizable}),(0,o.LF)({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){var t,n;let i={name:e.name,options:e.options,storage:e.storage};return{colMinPercent:null==(t=e.options)?void 0:t.colMinPercent,newColSize:null==(n=e.options)?void 0:n.newColSize,tableRole:(0,a.gk)((0,a.iI)(e,"tableRole",i))}}})},35623:(e,t,n)=>{"use strict";n.d(t,{D:()=>g});var a=n(22905),i=n(41896),r=n(12117),l=n(46957),o=n(6029),s=n(84886),d=n(66082);let c=e=>{let{node:t,decorations:n}=e,{fontSize:a,placeholder:r}=t.attrs;return(0,o.jsx)(s.u,{dir:(0,d.fZ)(n),...e,children:(0,o.jsx)(i.$p,{as:"li","data-testid":"bullet-list-item","data-font-size":a,"data-placeholder":r})})};var u=n(43944),p=n(91656);let h=/^\s*([-*])\s$/,g=a.bP.create({name:p.e.Bullet,content:"inline*",defining:!0,group:"block cardNotesBlock",selectable:!1,allowFontSizes:"body",addNodeView:()=>(0,i.gu)(c,{as:"ul",update:l.z0,updateWrapperEl:(e,t)=>{e.setAttribute("indent",t.node.attrs.indent)}}),addOptions:()=>({HTMLAttributes:{}}),addAttributes:()=>({indent:{default:0},fontSize:r.mD}),addInputRules(){return[(0,u.aW)({find:h,type:this.type},this.editor.state.schema)]},addKeyboardShortcuts:()=>({"Mod-Shift-8":e=>{let{editor:t}=e;return t.commands.setListItems({variant:p.e.Bullet})},"Mod-.":e=>{let{editor:t}=e;return t.commands.setListItems({variant:p.e.Bullet})}}),parseHTML(){return[{tag:'li[variant="'.concat(this.name,'"]')}]},renderHTML(e){let{HTMLAttributes:t}=e;return["li",(0,a.KV)(this.options.HTMLAttributes,t,{variant:this.name}),0]}})},35816:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a={src:"/_next/static/media/google-drive.2d314cf9.svg",height:78,width:87,blurWidth:0,blurHeight:0}},35883:(e,t,n)=>{"use strict";n.d(t,{a:()=>x});var a=n(6029),i=n(78140),r=n(36999),l=n(49611),o=n(41283),s=n(99492),d=n(48621),c=n(91106),u=n(19564),p=n(77650),h=n(54229),g=n(80180),m=n(24813);let x=e=>{let{editor:t,color:n,setColor:x,analyticsSource:f}=e;return(0,a.jsxs)(i.W,{isLazy:!0,onClose:()=>t&&(0,m.q)(t),children:[(0,a.jsx)(c.Tz,{placement:"top",label:(0,a.jsx)(u.x6,{id:"XAIjEI"}),"aria-label":p.Ru._({id:"XAIjEI"}),children:(0,a.jsx)(r.I,{as:l.$,variant:"toolbar","data-formatting-menu-button":!0,rightIcon:(0,a.jsx)(d.g,{icon:s.Jt$,transform:"shrink-6"}),size:"sm",onMouseDown:g.Fw,children:(0,a.jsx)(d.g,{icon:s.fyG})})}),(0,a.jsx)(o.c,{overflow:"hidden",children:(0,a.jsx)(h.b,{currentColor:n||null,setColor:x,source:f})})]})}},36145:(e,t,n)=>{"use strict";n.d(t,{Qx:()=>g,p$:()=>b,dM:()=>m,bC:()=>v,KS:()=>h,xH:()=>p,XE:()=>u});var a=n(63867),i=n(87996),r=n(46007),l=n(60908),o=n(8376),s=n(53138);let d=e=>RegExp("^\\s*<svg.*<\\/svg>\\s*$","s").test(e);var c=n(16595);let u=(e,t,n,a)=>{let r=(n,a)=>{(0,c.Ki)(e,a||t,n)},l={onOriginalFileUpload:r,onUploadComplete:r,onUploadFailed:n=>{(0,c.wt)(e,t,n,a)}};n?(0,i.QM)(n,e.storage.mediaUpload.orgId,l):(0,i.j_)(t,e.storage.mediaUpload.orgId,l)},p=async(e,t)=>{try{let n=await fetch(t),a=await n.blob(),i=new File([a],"blob.png",{type:a.type});u(e,t,i)}catch(n){(0,c.wt)(e,t,n)}},h=e=>(0,l.u3)(e.type)||(0,r.cZ)(e.type,(0,r.QC)(e)),g=e=>new a.k_({props:{transformPasted:t=>(t.content.descendants(t=>{if("image"===t.type.name&&t.attrs.tempUrl){let n=e.storage.mediaUpload.completedUploads[t.attrs.tempUrl];n&&Object.assign(t.attrs,(0,c.wH)(t,(0,c.yK)({isError:!1,result:n})))}else if("image"===t.type.name&&t.attrs.src&&!(0,l.md)(t.attrs.src)){let n,a=t.attrs.src;if(a.startsWith("blob:")){Object.assign(t.attrs,(0,c.F)(a)),p(e,a);return}if(a.startsWith("data:")){if(!(n=(0,l.Xz)(t.attrs.src)))return;a=URL.createObjectURL(n)}Object.assign(t.attrs,(0,c.F)(a)),u(e,a,n)}}),t),handlePaste:(t,n,a)=>f(e,t,n,a),handleDOMEvents:{drop:(t,n)=>x(e,t,n)}}}),m=(e,t)=>{var n;if(!e.clipboardData)return null;let a=e.clipboardData.getData("text/html"),i=e.clipboardData.getData("text/plain");if(i&&!a&&d(i))return[(0,l.Qm)(i)];let r=Array.prototype.slice.call(e.clipboardData.items);return r.some(e=>"text/html"===e.type)&&(t.content.childCount>1||(null==(n=t.content.firstChild)?void 0:n.type.name)!=="image")?null:r.map(e=>e.getAsFile()).filter(e=>!!e).filter(h)},x=(e,t,n)=>{if(t.props.editable&&!t.props.editable(t.state))return!1;let a=b(n).filter(h);if(0===a.length)return!1;let i=(0,o.M)(t,n);return!!i&&(n.preventDefault(),(0,s.nK)(e,a,i),!0)},f=(e,t,n,a)=>{if(t.props.editable&&!t.props.editable(t.state))return!1;let i=m(n,a);if(!i||0===i.length)return!1;let{selection:r}=t.state,l=r.from;return r.empty||e.commands.deleteSelection(),(0,s.nK)(e,i,l),!0};function b(e){let t=[],n=e.target;if(e.dataTransfer){let n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else n&&n.files&&(t=n.files);return Array.prototype.slice.call(t)}let v=(e,t,n)=>{let a=m(t,n);if(!a||1!==a.length)return!1;let i=a[0],r=(0,s.YC)(i,e);return{attrs:r.content.attrs,upload:r.upload}}},36271:(e,t,n)=>{"use strict";n.d(t,{_:()=>u,h:()=>p});var a=n(63867),i=n(60122),r=n(46814),l=n(22905),o=n(97255),s=n(67200),d=n(53885);class c{apply(e,t){let n=e.getMeta(u);if(n&&n.type)return"createDraftComment"===n.type&&this.createDraftComment(n,t),"removeDraftComment"===n.type&&this.removeDraftComment(n,t),this;let a=e.getMeta(d.q);if(a&&a.type)return"refreshAnnotationDecorations"===a.type&&this.createDecorations(t),this;if((0,s.LP)(e)){try{this.createDecorations(t)}catch(e){console.log("could not create decorations: ".concat(e.message),e)}return this}return this.decorations=this.decorations.map(e.mapping,e.doc),this}removeDraftComment(e,t){return e.comments.forEach(e=>{let{targetId:t}=e;delete this.draftComments[t]}),this.createDecorations(t),this}createDraftComment(e,t){this.draftComments[e.comment.targetId]=e.comment,this.createDecorations(t)}createDecorations(e){let t=i.pJ.getState(e);if(!t.binding)return this;let{doc:n,type:a,binding:s}=t,d=[];for(let t of Object.values(this.draftComments))try{var c,u;let i=(0,r.bL)(n,a,t.relativePos,s.mapping);if(null==i)continue;let p=e.doc.resolve(i),h=t=>{let n=(0,l.xe)(e.doc,e=>e===t);if(!n||0===n.length)throw Error();return n[0].pos},g=(null==(c=p.nodeAfter)?void 0:c.isBlock)?i:h(p.parent),m=g+((null==(u=p.nodeAfter)?void 0:u.isBlock)?p.nodeAfter.nodeSize:p.parent.nodeSize);d.push(o.NZ.node(g,m,{},{isDraftComment:!0,comment:t}))}catch(e){console.log("[DraftCommentState] error: $".concat(e.message))}return this.decorations=o.zF.create(e.doc,d),this}absToRel(e,t){let n=i.pJ.getState(e),{type:a,binding:l}=n;if(!n.binding)throw Error("Y.State non initialized");return(0,r.Bw)(t,a,l.mapping)}constructor(){this.draftComments={},this.decorations=o.zF.empty}}let u=new a.hs("draftComments"),p=()=>new a.k_({key:u,state:{init:()=>new c,apply:(e,t,n,a)=>t.apply(e,a)},props:{decorations(e){let{decorations:t}=this.getState(e);return t}}})},36432:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var a=n(6029),i=n(16936),r=n(26385),l=n(48810),o=n(91106);let s=e=>{let{isDark:t,templateIcon:n,tooltip:s,label:d,isSelected:c,onClick:u,...p}=e;return(0,a.jsx)(o.Tz,{label:s,placement:"top",children:(0,a.jsx)(i.K,{onClick:u,icon:(0,a.jsxs)(r.B,{maxW:"100%",alignItems:"center",children:[n,d&&(0,a.jsx)(l.E,{maxW:"100%",w:"100%",fontSize:"xs",overflow:"hidden",textOverflow:"ellipsis",overflowX:"hidden",whiteSpace:"nowrap",textAlign:"left",children:d})]}),h:"auto",textShadow:"none",variant:"plain",p:2,flex:"1",w:"100%",cursor:"pointer",textAlign:"center",transition:"all 300ms ease",border:"1px solid",bg:t?c?"trueblue.900":"whiteAlpha.50":c?"trueblue.50":"blackAlpha.50",borderRadius:"md",boxShadow:"sm",borderColor:t?c?"trueblue.300":"whiteAlpha.100":c?"trueblue.500":"blackAlpha.100",color:t?c?"trueblue.200":"gray.400":c?"trueblue.500":"gray.500",_hover:{bg:t?c?"whiteAlpha.100":"whiteAlpha.200":c?"trueblue.100":"trueblue.50",borderColor:t?"trueblue.200":c?"trueblue.500":"trueblue.200"},position:"relative","aria-label":s,...p})})}},36433:(e,t,n)=>{"use strict";n.d(t,{G:()=>l});var a=n(15342),i=n(90098),r=n(43634);let l=()=>{let e=(0,a.GV)(r.SJ);return{logoSrc:(0,i.X)(e),logoImage:e.config.logoImage}}},36464:(e,t,n)=>{"use strict";n.d(t,{Ht:()=>a.Ht});var a=n(45373)},36512:(e,t,n)=>{"use strict";n.d(t,{AF:()=>i,HY:()=>l,Hb:()=>u,IM:()=>h,Ri:()=>s,St:()=>p,Vy:()=>m,YW:()=>c,_0:()=>d,br:()=>x,cK:()=>r,jN:()=>a,lA:()=>g,rN:()=>o,s5:()=>f});let a=3.5,i=1.5,r=2.75,l=1.5,o=2.25,s=2,d=1,c=2,u=.5,p=8,h=.5,g=60,m=95,x=115,f=47.5},36802:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});let a="ai-card-editor"},36835:(e,t,n)=>{"use strict";n.d(t,{m:()=>l});var a=n(6029),i=n(99492),r=n(48621);let l=()=>(0,a.jsxs)("span",{className:"fa-layers fa-fw fa-sm",children:[(0,a.jsx)(r.g,{icon:i.adM,style:{top:"-1rem"}}),(0,a.jsx)(r.g,{icon:i.adM,style:{bottom:"-1rem"}}),(0,a.jsx)(r.g,{icon:i.Cpz})]})},36842:(e,t,n)=>{"use strict";n.d(t,{h:()=>g});var a=n(6029),i=n(40452),r=n(58959),l=n(96990),o=n(26385),s=n(48810),d=n(19564),c=n(77650),u=n(87045),p=n(29608),h=n(89584);let g=e=>{let{draftComment:t,showUser:n=!0,showBorder:g=!0,user:m,onCommentDraftUpdate:x,onCommentSave:f,commentIdToHighlight:b,alwaysShowButtons:v=!1,...y}=e;return(0,a.jsxs)(i.s,{direction:"column",...y,children:[n&&(0,a.jsxs)(r.z,{mb:3,pt:3,children:[(0,a.jsx)(l.e,{src:null==m?void 0:m.profileImageUrl,size:"sm"}),(0,a.jsx)(o.B,{children:(0,a.jsx)(s.E,{fontWeight:"bold",fontSize:"sm",children:(0,a.jsx)(d.x6,{id:"866PMb",values:{0:null==m?void 0:m.displayName}})})})]}),t&&(null==t?void 0:t.targetHtml)&&(0,a.jsx)(h.s,{targetHtml:t.targetHtml}),(0,a.jsx)(u.B,{onUpdate:x,initialContent:(null==t?void 0:t.json)||null,clearContentOnSave:!0,editable:!0,saveButtonText:(0,a.jsx)(d.x6,{id:"26iNma"}),placeholder:c.Ru._({id:"UkDQUD"}),onCommentSave:f,showBorder:g,shouldFocus:!!(!(0,p.mG)()&&!b),alwaysShowButtons:v})]})}},36936:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});let a=new(n(83747)).b},37219:(e,t,n)=>{"use strict";n.d(t,{Uf:()=>r,WO:()=>a,Yd:()=>l,er:()=>i});let a="https://gamma.app/privacy",i="https://gamma.app/terms",r="https://static.gamma.app/images/gamma-logo-deepocean-logomark-687b07e8.png",l="https://static.gamma.app/images/gamma-logo-deepocean-entri-5a938ad5.png"},37327:(e,t,n)=>{"use strict";n.d(t,{E0:()=>s,KB:()=>l,hc:()=>d,uI:()=>o});var a=n(62964),i=n(71753),r=n(64811);let l=e=>!!e.includes("://"),o=(e,t)=>{d(e)||(0,a.Yq)(e,n=>{let{doc:a,schema:r,tr:l}=t.state;(0,i.Zo)(a,t.schema.marks.link).forEach(t=>{let{node:a,pos:i}=t,o=a.marks.find(t=>"link"===t.type.name&&t.attrs.href==e);o&&l.removeMark(i,i+a.nodeSize,o).addMark(i,i+a.nodeSize,r.marks.link.create({...o.attrs,...n}))}),t.view.dispatch(l)}).catch(e=>{console.error("[Link.fetchUrlThenUpdateMarks]",e)})},s=e=>e.attrs.source||e.attrs.meta||e.attrs.embed,d=e=>{if(!e)return!1;let t=e&&e.toLowerCase();for(let e of r.r)if(t.startsWith(e+":"))return!0;return!1}},38062:(e,t,n)=>{"use strict";n.d(t,{S6:()=>f});var a=n(55729),i=n(88134),r=n(28630),l=n(44798),o=n(58809),s=n(15342),d=n(49023),c=n(7554),u=n(43634),p=n(13080);let h=e=>{var t;let{contextualTheme:n}=e;(0,d.t)();let i=(0,s.GV)(c.ST),r=(0,s.GV)(u.SJ),l=n||r,h=!!(0,s.GV)(o.Jo),g=(0,a.useMemo)(()=>Object.values(p.bz).map(e=>({title:e,presets:p.xi.filter(t=>t.category===e&&!t.hidden&&(h||t.stylePreset!==p.nv.Custom))})),[h]),m=(0,a.useCallback)(e=>Object.values(p.nv).includes(e),[]),x=(0,a.useCallback)(e=>{if(!m(e))return"";if(m(e)){var t;return(null==(t=p.xi.find(t=>t.stylePreset===e))?void 0:t.stylePrompt)||""}return""},[m]),f=(0,a.useCallback)((e,t)=>{if(!m(e))return"";if(e===p.nv.Theme){var n;return(null==l||null==(n=l.config)?void 0:n.stylePrompt)||""}return e===p.nv.Custom?t:x(e)},[m,x,null==l||null==(t=l.config)?void 0:t.stylePrompt]),b=(0,a.useCallback)(e=>p.xi.find(t=>t.stylePreset===e),[]);return{stylePresetOptions:g,getStylePromptFromPreset:f,getThemeNameFromStylePrompt:(0,a.useCallback)(e=>{var t;return(null==(t=i.find(t=>t.config.stylePrompt===e))?void 0:t.name)||""},[i]),getPresetDisplayMetadata:b,getPredefinedStylePrompt:x}};var g=n(20775),m=n(8327),x=n(34394);let f=e=>{var t,n,o,d,c,f,b,v;let{contextualTheme:y,lastUsedImageGenerationSettingsInDoc:w,aiParams:C,savedMediaContext:A,visualsMenuEnabled:j=!1}=e,[k,S]=(0,x.ZQ)(),[I,E]=(0,a.useState)(!0),R=(0,s.GV)(u.SJ),L=(0,s.GV)(u.K),D=null==R||null==(t=R.config)?void 0:t.stylePrompt,{stylePresetOptions:M,getStylePromptFromPreset:_,getThemeNameFromStylePrompt:T,getPresetDisplayMetadata:N}=h({contextualTheme:y}),{prompt:z,addPrompt:P,promptPageInfo:O,nextPrompt:F,prevPrompt:H}=(0,l.ab)(),[B,V]=(0,a.useState)(()=>{var e,t;return!!j&&(C?null!=(e=C.modelAutoselect)&&e:null!=(t=null==L?void 0:L.modelAutoselect)&&t)}),W=(0,a.useCallback)(()=>{V(!0)},[]),[U,G]=(0,a.useState)(null!=(o=null!=(n=null==C?void 0:C.model)?n:null==w?void 0:w.model)?o:k),K=(0,a.useCallback)(e=>{V(!1),G(e)},[]),{artStylePreset:Q}=(0,i.k)(),Z=(0,a.useCallback)(e=>{K(e),S(e)},[K,S]),[q,J]=(0,a.useState)(null!=(c=null!=(d=null==C?void 0:C.stylePreset)?d:null==w?void 0:w.stylePreset)?c:p.nv.None),[$,Y]=(0,a.useState)(_(q,null==w?void 0:w.stylePrompt)),[X,ee]=(0,a.useState)(null!=(v=null!=(b=null!=(f=null==C?void 0:C.aspectRatio)?f:(null==C?void 0:C.height)&&(null==C?void 0:C.width)?(0,m.KD)({height:C.height,width:C.width}):void 0)?b:null==w?void 0:w.aspectRatio)?v:g.X),[et,en]=(0,a.useState)(()=>(null==C?void 0:C.visualsMenuEnabled)||(null==C?void 0:C.stylePreset)!==p.nv.Custom?(null==C?void 0:C.artStylePreset)&&C.artStylePreset in p.ll?C.artStylePreset:(null==w?void 0:w.artStylePreset)&&w.artStylePreset in p.ll?w.artStylePreset:Q:"custom"),[ea,ei]=(0,a.useState)(()=>"custom"===et?(null==C?void 0:C.visualsMenuEnabled)?(null==C?void 0:C.artStylePrompt)||"":(null==C?void 0:C.stylePrompt)||"":p.ll[et].prompt),er=(0,a.useCallback)(e=>{en(e),ei(p.ll[e].prompt)},[en,ei]),el=(0,a.useMemo)(()=>{let e={stylePreset:q,stylePrompt:$};return j&&(e=I?{stylePreset:"Theme",stylePrompt:D}:{stylePreset:"None",stylePrompt:""}),{prompt:z,model:U,aspectRatio:X,count:3,context:A,artStylePreset:et,artStylePrompt:ea,modelAutoselect:B,visualsMenuEnabled:j,...e}},[z,U,q,$,X,A,et,ea,j,I,D,B]),eo=(0,l.U9)();(0,a.useEffect)(()=>{B||eo(U)||K(k)},[U,k,eo,K,B]);let es=(0,a.useCallback)((e,t)=>{if(ee((0,m.P6)(e)),!e.aiParams)return;let{prompt:n,stylePreset:a,stylePrompt:i}=e.aiParams,l=e.aiParams.model;n&&P(n,t),i&&Y(i),a&&J(a),l&&l in r.Xz&&(l=r.Xz[l]),l&&eo(l)&&G(l)},[P,eo]),ed=(0,a.useCallback)(e=>{var t;let{aiParams:n}=e,{model:a,stylePrompt:i,stylePreset:r,prompt:l}=null!=n?n:{};ee((0,m.P6)(e)),K(null!=(t=null!=a?a:null==w?void 0:w.model)?t:k),Y(null!=i?i:""),J(null!=r?r:p.nv.None),P(null!=l?l:"","load")},[P,K,null==w?void 0:w.model,k]),ec=(0,a.useMemo)(()=>e=>!!e&&!!e.aiParams&&(z!==e.aiParams.prompt||U!==e.aiParams.model||X!==(0,m.P6)(e)||q!==e.aiParams.stylePreset),[X,U,q,z]);return{model:U,setModel:Z,modelAutoselect:B,enableModelAutoselect:W,prompt:z,addPrompt:P,promptPageInfo:O,nextPrompt:F,prevPrompt:H,stylePrompt:$,setStylePrompt:Y,stylePreset:q,setStylePreset:J,stylePresetOptions:M,getPresetDisplayMetadata:N,getThemeNameFromStylePrompt:T,getStylePromptFromPreset:_,aspectRatio:X,setAspectRatio:ee,imageGenerateConfig:el,loadImageAiParams:es,resetImageAiParams:ed,isPromptDirty:ec,artStylePreset:et,setArtStylePreset:er,artStylePrompt:ea,setCustomArtStylePrompt:ei,shouldUseThemeColors:I,setShouldUseThemeColors:E}}},38194:(e,t,n)=>{"use strict";n.d(t,{Ll:()=>r,cn:()=>l,vL:()=>o});var a=n(58495);let i={},r=e=>{let t=e.getAttribute("bookmark");if(!t)return!1;let n=i[t];return!!n&&n.attrs},l=e=>{let t=e.getAttribute("bookmark");if(!t)return!1;let n=i[t];return!!n&&n.content},o=e=>{let t=s.generateBookmarkId();return i[t]=e,setTimeout(()=>{delete i[t]},3e5),t},s={generateBookmarkId:()=>(0,a.Ak)(5)}},38537:(e,t,n)=>{"use strict";n.d(t,{KS:()=>u,i$:()=>p});var a=n(55765),i=n.n(a),r=n(12364),l=n.n(r),o=n(55729),s=n(83747);class d extends s.b{cleanup(){document.removeEventListener("containerResize",this.emitResize)}constructor(){super(),this.emitResize=e=>{this.emit("resize",e)},document.addEventListener("containerResize",this.emitResize)}}let c=i()(()=>new d),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,[n,a]=(0,o.useState)(!1),i=(0,o.useMemo)(c,[]);return(0,o.useEffect)(()=>{let n,r=l()(i=>{let{target:r}=i;r&&e.current&&h(e.current,r)&&(clearTimeout(n),a(!0),n=setTimeout(()=>{a(!1)},t+100))},t,{leading:!0,trailing:!1,maxWait:t});return i.on("resize",r)},[i,t,e]),n},p=e=>{e.dispatchEvent(new Event("containerResize",{bubbles:!0}))},h=(e,t)=>{let n=e;do{if(n!==t)continue;return!0}while(n=n.parentElement);return!1}},38636:(e,t,n)=>{"use strict";n.d(t,{F:()=>y});var a=n(6029),i=n(26420),r=n(33787),l=n(55729),o=n(63902),s=n(60908),d=n(21982),c=n(80314),u=n(92739),p=n(15342),h=n(48932),g=n(43634);let m=e=>{let{link:t,children:n,...i}=e,r=(0,p.GV)(g.nD),{linkUrl:o,handleClick:s}=(0,h.c)({url:t||""}),{interceptLinkClick:d,linkUrlSafe:m,isUntrusted:x,linkInterceptEnabled:f}=(0,u.i)(o),b=(0,l.useCallback)(e=>{if(null==s||s(e),!r)return f?d(e):void 0;e.preventDefault()},[r,s,d,f]);return t&&!x?(0,a.jsx)(c.N,{href:f?m||"":o,isExternal:!0,onClick:b,rel:"noopener nofollow",...i,children:n}):(0,a.jsx)(a.Fragment,{children:n})};var x=n(33170);let f=(e,t,n)=>e/100*(Math.sqrt(t*t+n*n)/Math.sqrt(2))*2,b=e=>{let t,n,a,i,r,{w:l,h:o,clipPath:d,clipType:c,src:u}=e;if(!d||!c||!u)return null;if("inset"===c){let e=.01*parseFloat(d[0]),r=.01*parseFloat(d[1]),l=.01*parseFloat(d[2]),o=.01*parseFloat(d[3]);t=o+r===0?0:1-(o+r),n=e+l===0?0:1-(e+l),a=o,i=e}else{n=t=f(parseFloat(d[0]),l,o);let e=t/2;a=(.01*parseFloat(d[2])-e/l)*l,i=(.01*parseFloat(d[3])-e/o)*o,r=!0}return{url:(0,s.bI)(u,v({crop:{cropWidth:t,cropHeight:n},gravity:{xOffset:a,yOffset:i}})),isCircle:r}},v=e=>{let{crop:{cropWidth:t,cropHeight:n},gravity:{xOffset:a,yOffset:i}}=e;return{crop:"".concat(t,":").concat(n,":nowe:").concat(a,":").concat(i),resizing_type:"auto"}},y=(0,l.forwardRef)((e,t)=>{let{imageAttrs:{src:n,tempUrl:l,resize:c,meta:u},isCroppingThisImage:p=!1,isZoomed:h=!1,objectFit:g="contain",containerWidth:f,intrinsicAspectRatio:v,isThumbnail:y,linkHref:w,containerProps:C,shouldUseImgProxyCrop:A,bodyColor:j,...k}=e;j&&n&&(n=(0,s.pO)(n,j));let S=(0,o.oR)(),I=(null==u?void 0:u.frame_count)&&u.frame_count>1,E=h||!n||I?n:(0,s.Ub)(n,y?{height:400}:{width:2e3},u),R=f||(null==u?void 0:u.width)||1,L=f&&v?f/v:(null==u?void 0:u.height)||1,{scaleCrop:D,scaleY:M,clipPathCSSString:_,translateX:T,translateY:N,aspectRatio:z,referenceXOffset:P,referenceYOffset:O}=(0,x.CF)(c,R,L,v||((null==u?void 0:u.width)&&(null==u?void 0:u.height)?u.width/u.height:1))||{},F=!p&&!!(null==c?void 0:c.clipPath),H=p?"":"scale(".concat(D,") translate(-").concat(T,"%, -").concat(N,"%)"),B=(0,s.SV)(n||l),V=(0,s.v7)(n||l),W=b({w:R,h:L,clipPath:null==c?void 0:c.clipPath,clipType:null==c?void 0:c.clipType,src:n});return(0,a.jsx)(m,{link:w,w:h?void 0:"100%",children:(0,a.jsx)(i.a,{css:{aspectRatio:"".concat(F?z:"")},className:"image","data-content-reference":"".concat(P,",").concat(O),"data-export-link":w,"data-drag-preview":!0,"data-scale-preview":!0,maxH:"var(--media-maxH)",maxW:"var(--media-maxW)",overflow:"hidden",w:h?void 0:"100%",h:"cover"==g?"100%":void 0,sx:{"@media print":{height:"unset"}},...C,children:V?(0,a.jsx)(s.FD,{src:n||l||"",poster:null==u?void 0:u.poster,objectFit:g,maxH:"calc(var(--media-maxH) * ".concat(M||1,")"),minH:"cover"==g?"calc(var(--media-maxH) / ".concat(D||1,")"):void 0,...k}):A&&(null==W?void 0:W.url)?(0,a.jsx)(r._,{alt:"",objectFit:g,maxH:"calc(var(--media-maxH) * ".concat(M||1,")"),minH:"cover"==g?"calc(var(--media-maxH) / ".concat(D||1,")"):void 0,ref:t,...n||l?{}:d.v9,src:(null==W?void 0:W.url)||E||l||"",...k}):(0,a.jsx)(r._,{alt:"",objectFit:g,maxH:"calc(var(--media-maxH) * ".concat(M||1,")"),minH:"cover"==g?"calc(var(--media-maxH) / ".concat(D||1,")"):void 0,transformOrigin:"left top",clipPath:p?"":_,ignoreFallback:h||S,transform:H,src:E||l||"",fallbackSrc:l||"",ref:t,w:B?"100%":void 0,...n||l?{}:d.v9,...k})})})});y.displayName="CroppedImage"},38934:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});let a={UniqueAttribute:1e4,CardMention:1001,DocMention:1001,UserMention:1001,UndoInputRuleKeymap:1001,HorizontalAlign:1001,Collaboration:1e3,Highlight:150,FootnoteLabel:150,TextColor:150,Code:150,Link:140,SlashMenu:104,EmojiShortcuts:104,MentionSuggestionMenu:104,List:103,CardAccentLayoutItem:103,Table:102,Image:102,Gallery:102,CardLayoutItem:101,MediaPlaceholder:101,Layout:101,Footnote:101,Card:101,Toggle:101,SmartLayout:101,KeyMapOverride:100,GlobalDragHandle:99,CardIds:1,KeyBoardCatchall:1,UndoHistory:-100}},39385:(e,t,n)=>{"use strict";n.d(t,{z:()=>h,J:()=>g});var a=n(22905);n(91566);var i=n(46829),r=n(63867),l=n(68301);let o=a.bP.create({name:"math_display",group:"block math",content:"text*",atom:!0,code:!0,renderHTML(e){let{HTMLAttributes:t}=e;return["math-display",(0,a.KV)(t,{class:"math-node"}),0]},renderHTMLforAI:e=>["formula",e.HTMLAttributes,0],parseHTML:()=>[{tag:"math-display"},{tag:"formula"}]});var s=n(72055);let d=a.bP.create({name:"math_inline",group:"inline math",content:"text*",inline:!0,atom:!0,renderHTML(e){let{HTMLAttributes:t}=e;return["math-inline",(0,a.KV)(t,{class:"math-node"}),0]},renderHTMLforAI:e=>["math",e.HTMLAttributes,0],parseHTML:()=>[{tag:"math-inline"},{tag:"math"}],addCommands(){return{insertMathInline:()=>e=>{let{state:t,dispatch:n,view:a}=e;return(0,s.CH)(this.type," ")(t,n,a)},convertToMathInline:()=>e=>{let{state:t,chain:n}=e,a=t.doc.textBetween(t.selection.from,t.selection.to);return n().insertContent({type:"math_inline",content:[{type:"text",text:a}]}).run(),!0}}}}),c=/\$([^ $]+)\$[ ]$/,u=/^\${2}\s+$/,p=/^\${2}(.+)\${2}$/,h=a.YY.create({name:"math",addExtensions:()=>[d,o],addProseMirrorPlugins(){let e=l.of.get("math")?[new r.k_({props:{clipboardTextSerializer:e=>s.ju.serializeSlice(e)}}),(0,i.sM)({rules:[(0,s.sV)(u,this.editor.schema.nodes.math_display),(0,s.sV)(p,this.editor.schema.nodes.math_display),(0,s.C1)(c,this.editor.schema.nodes.math_inline)]})]:[];return[(0,s.CO)({undo:()=>this.editor.commands.undo(),redo:()=>this.editor.commands.redo()})].concat(e)}}),g=e=>"math_display"===e.type.name||"math_inline"===e.type.name},39659:(e,t,n)=>{"use strict";n.d(t,{h:()=>i,w:()=>a});let a={borderRadius:"0.125em",px:".05em",mx:"-.05em",boxDecorationBreak:"clone"},i={default:{"mark.highlight":{color:"black","--link-color":"black",backgroundColor:"var(--highlight-color)",...a}}}},39822:(e,t,n)=>{"use strict";n.d(t,{Po:()=>j,ZL:()=>y,aI:()=>b,f0:()=>A,nA:()=>x,vR:()=>f,zZ:()=>v});var a=n(22905),i=n(63867),r=n(55786),l=n(52762),o=n(15607),s=n(33201),d=n(60908),c=n(28700),u=n(36145),p=n(47665),h=n(17275),g=n(27246),m=n(94922);let x=(e,t,n)=>{let a=e.posAtCoords({left:t.clientX,top:t.clientY});if(!a||a.inside<0)return null;let{doc:i}=e.state,{inside:r}=a,p=i.resolve(r),h=(0,o.IV)(p,m.wL),g=(0,o.IV)(p,s.jg)[0],x=n&&(0,c.H)(n),f=(0,o.q0)(r,e);if(0===h.length||!f||!g)return null;if(!x){let e=(0,u.p$)(t).filter(e=>(0,d.u3)(e.type));return 1!==e.length?null:{pos:r,rect:f,isImageUpload:!0,file:e[0]}}return x&&"image"===x.type.name?{pos:r,rect:f,isImageUpload:!1,background:{type:l.h.IMAGE,source:x.attrs.source,image:x.attrs}}:null},f=(e,t,n,a)=>{let i;try{if(!(i=x(e,n,a)))return!1}catch(e){return console.error("(caught) [CardLayoutPlugin] handleDrop checkGalleryDropTarget error:",e),!1}return!!i&&!i.isImageUpload&&(t.setNodeAttribute(i.pos,"background",i.background),t.deleteSelection(),!0)},b=(e,t,n)=>{var a,i;let r=t.posAtCoords({left:n.clientX,top:n.clientY});if(!r||r.inside<0)return null;let{doc:l}=t.state,{inside:d}=r,c=l.resolve(d),u=(0,o.IV)(c,s.jg)[0];if(!u)return null;let h=null==(i=t.dragging)||null==(a=i.accentImage)?void 0:a.cardId;if(!h)return null;let g=h===u.node.attrs.id;return c.nodeAfter&&(0,m.wL)(c.nodeAfter)&&g?null:(0,p.W0)(e,h)},v=(e,t)=>{var n;let i=g.jV.getState(e.state);if(null==i||null==(n=i.draggingData)?void 0:n.removeLayoutFromCardId){let n=i.draggingData.removeLayoutFromCardId;i.draggingData=null;let r=(0,a.xe)(t.doc,e=>(0,s.jg)(e)&&e.attrs.id===n)[0];return!!r&&(0,h.c)(e,t,r.pos,"blank")}return!1},y=(e,t,n)=>{let a=e.posAtCoords({left:t.clientX,top:t.clientY});if(!a||a.inside<0)return null;let{doc:i}=e.state,{inside:r}=a,p=i.resolve(r),h=i.nodeAt(r),g=(null==h?void 0:h.type.name)==="cardLayoutItem";if(!h||!g)return null;let[m,...x]=(0,o.IV)(p,s.jg),f=n&&(0,c.H)(n),b=(0,o.q0)(r,e);if(!m||!b||x.length>0)return null;let v=m.node.attrs,y="blank"===v.layout?C(t,b):"behind"===v.layout?w(t,b):null;if(!y)return null;if(!f){let e=(0,u.p$)(t).filter(e=>(0,d.u3)(e.type));return 1!==e.length?null:{pos:m.pos,isImageUpload:!0,file:e[0],...y}}return f&&"image"===f.type.name?{pos:m.pos,...y,isImageUpload:!1,background:{type:l.h.IMAGE,source:f.attrs.source,image:f.attrs}}:null},w=(e,t)=>e.clientY<t.top+80||e.clientX<t.left+80||e.clientX>t.right-80?{layout:"behind",rect:t}:null,C=(e,t)=>{let n,a=t,i=Math.min(t.height/3,100),r=t.left+40,l=t.right-40;if(e.clientX<r)n="left",a={...t.toJSON(),left:t.left,right:t.left+t.width/3,top:t.top,bottom:t.bottom};else if(e.clientX>l)n="right",a={...t.toJSON(),right:t.right,left:t.right-t.width/3,top:t.top,bottom:t.bottom};else{if(!(e.clientY<t.top+i))return null;n="top",a={...t.toJSON(),left:t.left,right:t.right,top:t.top,bottom:t.top+Math.min(t.height/3,200)}}return{rect:a,layout:n}},A=(e,t,n,r,l)=>{var o;let d;try{if(!(d=y(n,r,l)))return!1}catch(e){return console.error("(caught) [handleImageDropCreateAccent] handleDrop checkCreateCardAccentDropTarget error:",e),!1}if(!d||d.isImageUpload||!d.layout)return!1;let c=d.background;t.deleteSelection();let u=t.doc.resolve(t.mapping.map(d.pos)),p=u.nodeAfter&&"card"===u.nodeAfter.type.name?u.pos:null==(o=(0,a.eL)(u,s.jg))?void 0:o.pos;if(!p)return!1;(0,h.c)(e,t,p,d.layout);let{accent:g}=(0,m.dg)(t,p);return!!g&&(t.setNodeAttribute(g.pos,"background",c),t.setSelection(i.nh.create(t.doc,g.pos)),!0)},j=(e,t,n)=>{if(!n.target)return;let a=t.posAtDOM(n.target,0);if(!a||a<0)return;let i=(0,p.Oq)(e,a),o=t.state.doc.nodeAt(a);if(!o||!(0,m.wL)(o))return;if(o.attrs.background.type===l.h.NONE)return n.preventDefault(),n.stopPropagation(),!0;let s=e.view.domAtPos(a).node;if(s&&n.dataTransfer){let e=s.querySelector("[data-content-reference]");if(e){let t=e.cloneNode(!0);t.style.width="18em",t.style.height="10em",t.style.borderRadius=".375em";let a=document.createElement("div");a.style.position="absolute",a.style.top="-9999px",a.style.left="-9999px",document.body.appendChild(a),a.appendChild(t),n.dataTransfer.clearData(),n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text/html",t.innerHTML),n.dataTransfer.setData("text/plain",t.textContent||""),n.dataTransfer.setDragImage(t,0,0),setTimeout(()=>{document.body.removeChild(a)},0)}}return(0,r.f)(e,{type:"image",attrs:{...o.attrs.background.image,source:o.attrs.background.source}}),t.dragging.accentImage={cardId:null==i?void 0:i.node.attrs.id},!0}},39892:(e,t,n)=>{"use strict";n.d(t,{g7:()=>a.g,vT:()=>i.vT,nk:()=>i.nk,ez:()=>i.ez,Fd:()=>i.Fd});var a=n(60522),i=n(89942);n(55729)},39977:(e,t,n)=>{"use strict";n.d(t,{A:()=>p,v:()=>h});var a=n(22905),i=n(63867),r=n(54958),l=n(55424),o=n(23144),s=n(52762),d=n(15607),c=n(47665),u=n(50861);let p=e=>{var t,n;let{editor:p,selection:h,freshNode:m}=e;if(!h||!(h instanceof i.nh||h instanceof r.n))return null;let x=null!=m?m:h.node,f=h.$from;if((0,u.bi)(x.type))return{mediaType:g(x.attrs.source),area:"node",attrs:x.attrs,node:x,id:x.attrs.id};if("cardAccentLayoutItem"===x.type.name){let e=x.attrs;return(null==(t=e.background)?void 0:t.type)===s.h.IMAGE&&e.background.image?{mediaType:"image",area:"background",attrs:e.background.image,node:x,id:(0,a.eL)(f,c.jg).node.attrs.id,imgKeyPath:"background.image"}:null}if("cardImageItem"===x.type.name)return{mediaType:"image",area:"node",attrs:x.attrs.image,node:x,id:x.attrs.id,imgKeyPath:"image"};let b=(0,d.vC)(p,x.type);if(b&&b.config.accessoryImageKey){let e=b.config.accessoryImageKey,t={...x.attrs[e]},n="image";return(0,l.M)(h.$from.parent)&&"icon"===(0,o.BJ)(h.$from.parent.attrs.variantKey).imageType&&(n="icon"),{attrs:t,node:x,mediaType:n,id:x.attrs.id,area:"accessory",imgKeyPath:e}}return h instanceof r.n?{attrs:null!=(n=h.getItemData())?n:{},node:x,mediaType:"icon",id:x.attrs.id,area:"accessory",imgKeyPath:h.keyPath}:null},h=e=>{let{editor:t,pos:n,attrs:a}=e;if(!t)return;let i=t.state.doc.nodeAt(n);if(!i)return;let r=i.type.spec.imageKeyPath;if(!["image","mediaPlaceholder"].includes(i.type.name)&&!r)return void console.warn("[updateSelectedMedia] Node ".concat(i.type.name," is not compatible with updateSelectedMedia"));let l=t.chain();r?(l.updateAttributeKeyPathAtPos(n,r,a),r.startsWith("background.")&&l.updateAttributeKeyPathAtPos(n,"background.source",a.source)):"mediaPlaceholder"===i.type.name?l.insertContentAt({from:n,to:n+i.nodeSize},{type:"image",attrs:a},{updateSelection:!0}):l.updateAttributesAtPos(n,a),l.focus().scrollIntoView().run()},g=e=>e?"image.icon"===e?"icon":e.startsWith("image.")?"image":e.startsWith("video.")||e.startsWith("embed.")?"embed":"image":"image"},40061:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,U:()=>l});var a=n(55597),i=n(77650);let r="image.ai-generated",l={key:r,checkDisabled:()=>!1,label:()=>i.Ru._({id:"O+LXs1"}),icon:a._$C,description:()=>i.Ru._({id:"yXA4hx"}),keywords:["ai","image","illustration","graphics","generate"],resizeToFit:!0}},40077:(e,t,n)=>{"use strict";n.d(t,{Dv:()=>l,N5:()=>o,U2:()=>c,U6:()=>r,XA:()=>s,dd:()=>d});var a=n(88607),i=n(62452);let r="themed-heading",l="themed-heading-no-gradient",o={fontWeight:"var(--heading-font-weight)",fontFamily:"var(--heading-font)",color:"var(--heading-color)",background:"unset",backgroundClip:"unset",width:"fit-content",maxWidth:"100%",letterSpacing:"var(--letter-spacing-heading)",textTransform:"var(--heading-transform)"},s={...o,background:"var(--heading-gradient)",backgroundClip:"text",caretColor:"var(--heading-color)",color:"transparent","span.textColor":{textShadow:"0px 0.25px 0px var(--text-color), -0px -0.25px 0px var(--text-color)","@media print":{textShadow:"none"}}},d=e=>"linear-gradient"===(0,i.Lz)(e).type?{["*:where(.".concat(r,")")]:s,[".".concat(l)]:{[".".concat(r)]:o},"@media print":{[".".concat(r)]:o},[".".concat(a.bQ)]:{[".".concat(r)]:o}}:{[".".concat(r)]:o},c=e=>({[".".concat(r)]:o,"--heading-color":e})},40094:(e,t,n)=>{"use strict";n.d(t,{H0:()=>d,Jz:()=>o,Kn:()=>s});var a=n(99492),i=n(77650),r=n(13731),l=n.n(r);let o=[{key:"rephrase.better",label:()=>i.Ru._({id:"WLqWVj"}),instructions:"Improve the writing",instructionsTrans:()=>i.Ru._({id:"KaTt0J"}),icon:a.xXs,group:"writing",loadingMessage:()=>i.Ru._({id:"OxbbYn"}),variationName:()=>i.Ru._({id:"5j51A1"}),completionMessage:()=>i.Ru._({id:"EF1nyz"})},{key:"edit.spelling",label:()=>i.Ru._({id:"kIRRvo"}),instructions:"Fix spelling & grammar",instructionsTrans:()=>i.Ru._({id:"7Mcbfl"}),icon:a.e68,group:"writing",loadingMessage:()=>i.Ru._({id:"vLjsO9"}),variationName:()=>i.Ru._({id:"MRZxAn"}),completionMessage:()=>i.Ru._({id:"3G04Qf"})},{key:"edit.translate",label:()=>i.Ru._({id:"pi8x/S"}),instructions:"",instructionsTrans:()=>i.Ru._({id:"E6k5Np"}),icon:a.mh,group:"writing",loadingMessage:()=>i.Ru._({id:"aKSJTV"}),variationName:()=>i.Ru._({id:"a/ppJp"}),completionMessage:()=>i.Ru._({id:"a/ppJp"})},{key:"rephrase.expand",label:()=>i.Ru._({id:"rRLXT4"}),instructions:"Make this longer - about 2x the current length",instructionsTrans:()=>i.Ru._({id:"hbj+SR"}),icon:a.ckx,group:"writing",loadingMessage:()=>i.Ru._({id:"Q+x/E4"}),variationName:()=>i.Ru._({id:"pvJgUJ"}),completionMessage:()=>i.Ru._({id:"jgdqxQ"})},{key:"rephrase.condense",label:()=>i.Ru._({id:"xTY2A5"}),instructions:"Make this more concise - about half the current length",instructionsTrans:()=>i.Ru._({id:"zeiJlg"}),icon:a.Nby,group:"writing",loadingMessage:()=>i.Ru._({id:"BjuYlr"}),variationName:()=>i.Ru._({id:"Q7U9iz"}),completionMessage:()=>i.Ru._({id:"l7sxzR"})},{key:"rephrase.simplify",label:()=>i.Ru._({id:"Lx/Sd1"}),instructions:"Simplify the language",instructionsTrans:()=>i.Ru._({id:"BS3Eqe"}),icon:a.vq5,group:"writing",loadingMessage:()=>i.Ru._({id:"AAhoH1"}),variationName:()=>i.Ru._({id:"nvmoB1"}),completionMessage:()=>i.Ru._({id:"5xpG46"})},{key:"rephrase.specifics",label:()=>i.Ru._({id:"u6rs0A"}),instructions:"Rewrite this to be more specific. Use the previous text and the outline for context. If you don't have enough details, make them up.",instructionsTrans:()=>i.Ru._({id:"pbZESM"}),icon:a.g0Y,group:"writing",loadingMessage:()=>i.Ru._({id:"HW6L/y"}),variationName:()=>i.Ru._({id:"PRHEO1"}),completionMessage:()=>i.Ru._({id:"dib9YI"})},{key:"layout.visual",label:()=>i.Ru._({id:"gcHjj/"}),instructions:"I want to make this content more visual. Make up new images to illustrate the concepts. You can rephrase the text to fit the new template, but don't alter the original voice or make up new details.",instructionsTrans:()=>i.Ru._({id:"7AVs0v"}),icon:a.Si7,group:"layout",loadingMessage:()=>i.Ru._({id:"hMtOFm"}),variationName:()=>i.Ru._({id:"p0QPRq"})},{key:"layout.addImage",label:()=>i.Ru._({id:"LfOSf5"}),instructions:"Add a new image. Keep the rest of my content and formatting the same. Don't change layout blocks or make up new details. Do not remove any of the text!",instructionsTrans:()=>i.Ru._({id:"ohc2fy"}),icon:a.Cyq,group:"layout",loadingMessage:()=>i.Ru._({id:"hMtOFm"}),variationName:()=>i.Ru._({id:"2ap0Xm"})}],s=l()(o,"group"),d=[{key:"writing",label:()=>i.Ru._({id:"4kJRen"})},{key:"layout",label:()=>i.Ru._({id:"an5hVd"})}]},40240:(e,t,n)=>{"use strict";n.d(t,{$F:()=>s.$,D8:()=>D,Dx:()=>_,EQ:()=>y,Hy:()=>p,L7:()=>d,Sf:()=>k,TS:()=>N,UL:()=>u,V2:()=>S,Vc:()=>O,WN:()=>j,WR:()=>P,XD:()=>A,Y2:()=>R,Yh:()=>g,bO:()=>I,hj:()=>m,kD:()=>T,pS:()=>L,py:()=>z,qD:()=>w,rl:()=>c,tB:()=>x,xN:()=>b,xW:()=>h,xj:()=>M,yC:()=>E,zA:()=>f,zE:()=>C});var a=n(91938),i=n(11390),r=n(95889),l=n(82927),o=n(29608),s=n(68469);let d=(e,t)=>{r.zS.track(e,{...t,gitSHA:a.$.GIT_SHA,product:(0,i.A4)((0,l.vp)()),device:(0,o.ZI)()})},c=e=>{d(r.VV.AI_REQUEST_SENT,e)},u=e=>{d(r.VV.AI_REQUEST_COMPLETE,e)},p=e=>{d(r.VV.AI_REQUEST_ABORT,e)},h=e=>{d(r.VV.AI_REQUEST_STREAM_START,e)},g=e=>{d(r.VV.AI_REQUEST_RESPONSE,e)},m=e=>{d(r.VV.AI_SUGGESTION_APPLY,e)},x=e=>{d(r.VV.AI_REQUEST_ERROR,e)},f=e=>{d(r.VV.AI_REQUEST_RETRY,e)},b=e=>{d(r.VV.AI_DOC_RATED,e)};function v(e){return e.reduce((e,t)=>(e[t]=!0,e),{})}let y=e=>{d(r.VV.AI_DOC_FEEDBACK_SUBMITTED,{...e,tags_map:v(e.tags)})},w=e=>{d(r.VV.AI_IMPORT_SLIDE_RATED,e)},C=e=>{d(r.VV.AI_IMPORT_SLIDE_FEEDBACK,e)},A=e=>{d(r.VV.AI_IMAGE_FEEDBACK_SUBMITTED,e)},j=e=>{d(r.VV.AI_IMAGE_RATED,e)},k=e=>{d(r.VV.AI_IMAGE_SELECTED,e)},S=e=>{d(r.VV.AI_AGENT_RESPONSE_RATED,e)},I=e=>{d(r.VV.AI_AGENT_RESPONSE_FEEDBACK,{...e,tags_map:v(e.tags)})},E=e=>{d(r.VV.AI_AGENT_RESPONSE_RATED,e)},R=e=>{d(r.VV.AI_AGENT_RESPONSE_FEEDBACK,{...e,tags_map:v(e.tags)})},L=e=>{d(r.VV.AI_CARD_FEEDBACK,e)},D=e=>{d(r.VV.AI_CARD_RATING,e)},M=e=>{d(r.VV.AI_AUTOCOMPLETE_FEEDBACK,e)},_=e=>{d(r.VV.AI_AUTOCOMPLETE_RATED,e)},T=()=>{d(r.VV.AI_AUTOCOMPLETE_PLUS,{})},N=()=>{d(r.VV.AI_AUTOCOMPLETE_TAB,{})},z=()=>{d(r.VV.AI_AUTOCOMPLETE_BUTTON_CLICKED,{})},P=e=>{d(r.VV.PROMPT_VERSION_PICKER,e)},O=e=>{d(r.VV.IMAGE_REPLACED,e)}},40268:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});let a=new(n(83747)).b},40782:(e,t,n)=>{"use strict";n.d(t,{j:()=>c,u:()=>u});var a=n(99492),i=n(77650),r=n(40061),l=n(49106),o=n(83658),s=n(93043),d=n(14368);let c={bing:"image.bing",giphy:"image.giphy",google:"image.google",web:"image.web",unsplash:"image.unsplash",lexica:"image.lexica",aiGenerated:"image.ai-generated",fontawesome:"image.icon",pictographic:"image.pictographic",pictographicIcons:"image.pictographic.icon",none:"image.none",placeholder:"image.placeholder"},u={unsplash:s.a,web:d.R,aiGenerated:r.U,pictographic:o.x,giphy:l.P,placeholder:{key:"image.placeholder",label:()=>i.Ru._({id:"hx1ePY"}),description:()=>i.Ru._({id:"1fQB0l"}),icon:a.sAw,keywords:[]},none:{key:"image.none",label:()=>i.Ru._({id:"EdQY6l"}),icon:a.Dfk,keywords:[]}}},41120:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});let a={None:{"dall-e-3":{src:"/_next/static/media/dall-e-3.e0424b3d.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFAABAAAAAAAAAAAAAAAAAAAAAP/EABUBAQEAAAAAAAAAAAAAAAAAAAQF/9oADAMBAAIQAxAAAAAJKP/EABsQAAMAAgMAAAAAAAAAAAAAAAEDEgIEABEh/9oACAEBAAE/ANDdXIyYnFkmjYHonvn/xAAaEQACAgMAAAAAAAAAAAAAAAACAwABBDOR/9oACAECAQE/AMh7qPYXZ//EABoRAAEFAQAAAAAAAAAAAAAAAAIABBIxMlH/2gAIAQMBAT8AbgEMDfF//9k=",blurWidth:8,blurHeight:6},"flux-1-pro":{src:"/_next/static/media/flux-1-pro.fcce6522.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAgiQ3/8QAGxAAAgIDAQAAAAAAAAAAAAAAAQIDEQASUSH/2gAIAQEAAT8AVFiTaR2Y3RND3XnM/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAECESH/2gAIAQIBAT8AtyWn/8QAGREAAQUAAAAAAAAAAAAAAAAAAQADEiJR/9oACAEDAQE/AHKERxf/2Q==",blurWidth:8,blurHeight:6},"flux-1-schnell":{src:"/_next/static/media/flux-1-schnell.a4d70ddb.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAmCU3/8QAHRAAAAUFAAAAAAAAAAAAAAAAAAECBBIDESEiMv/aAAgBAQABPwBbBuaSzU5KW15D/8QAGhEAAgIDAAAAAAAAAAAAAAAAAQIAESFRsf/aAAgBAgEBPwAOxvOuT//EABkRAAIDAQAAAAAAAAAAAAAAAAECABEikf/aAAgBAwEBPwAogrC8n//Z",blurWidth:8,blurHeight:6},"flux-1-ultra":{src:"/_next/static/media/flux-1-ultra.3fdf59fa.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAVAQEBAAAAAAAAAAAAAAAAAAABBf/aAAwDAQACEAMQAAAAkEN//8QAGhAAAgIDAAAAAAAAAAAAAAAAAREAEgIDE//aAAgBAQABPwDLeOdUbBluf//EABYRAQEBAAAAAAAAAAAAAAAAAAEAIf/aAAgBAgEBPwA0v//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPwCs/9k=",blurWidth:8,blurHeight:6},"flux-1-quick":{src:"/_next/static/media/flux-1-quick.01258a07.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAAmhCn/8QAHBAAAgEFAQAAAAAAAAAAAAAAAQIDAAQFERJh/9oACAEBAAE/AIsNZxRPp3ZJByelGx6K/8QAGREAAQUAAAAAAAAAAAAAAAAAAQACAwRC/9oACAECAQE/AG2Jjsr/xAAYEQACAwAAAAAAAAAAAAAAAAAAAhETMf/aAAgBAwEBPwCpJw//2Q==",blurWidth:8,blurHeight:6},"flux-kontext-pro":{src:"/_next/static/media/flux-kontext-pro.99f84493.jpg",height:270,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAiEV//8QAGxAAAgIDAQAAAAAAAAAAAAAAAQMCEQASEzH/2gAIAQEAAT8ARFcmSBUuuJNaCvLz/8QAFxEAAwEAAAAAAAAAAAAAAAAAAANCcf/aAAgBAgEBPwBkYf/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Af//Z",blurWidth:8,blurHeight:4},"flux-kontext-max":{src:"/_next/static/media/flux-kontext-max.cf46edd7.jpg",height:270,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAAmiE//8QAGhAAAgIDAAAAAAAAAAAAAAAAAhEEFAATMf/aAAgBAQABPwCvEIDCnH63rF5//8QAFhEAAwAAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/AKz/xAAWEQADAAAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8ArP/Z",blurWidth:8,blurHeight:4},"flux-kontext-fast":{src:"/_next/static/media/flux-kontext-fast.22d3b15a.jpg",height:270,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAP/xAAVAQEBAAAAAAAAAAAAAAAAAAAEBf/aAAwDAQACEAMQAAAAqIr/AP/EABwQAAIABwAAAAAAAAAAAAAAAAECAAMEBRITYf/aAAgBAQABPwBLrW6GczSXU4g8Mf/EABoRAAICAwAAAAAAAAAAAAAAAAECAAMjMlH/2gAIAQIBAT8ANtoCZG17P//EABsRAAIBBQAAAAAAAAAAAAAAAAIDAAESIjJR/9oACAEDAQE/ABWut2A7cn//2Q==",blurWidth:8,blurHeight:4},"imagen-3-flash":{src:"/_next/static/media/imagen-3-flash.3b553c3d.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAACbBf8A/8QAGxAAAQQDAAAAAAAAAAAAAAAABQABERICExT/2gAIAQEAAT8AYoK49TCcZrM2X//EABkRAAIDAQAAAAAAAAAAAAAAAAEDACEiMf/aAAgBAgEBPwAPdez2f//EABgRAAIDAAAAAAAAAAAAAAAAAAADAQJS/9oACAEDAQE/AKoViD//2Q==",blurWidth:8,blurHeight:6},"imagen-3-pro":{src:"/_next/static/media/imagen-3-pro.4a7e6241.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/9oADAMBAAIQAxAAAACaAP8A/8QAHBAAAgAHAAAAAAAAAAAAAAAAAQIAAwQFExRC/9oACAEBAAE/AKa5pq4klks47CmP/8QAGBEAAgMAAAAAAAAAAAAAAAAAAQMABDL/2gAIAQIBAT8AZYcDsz//xAAZEQACAwEAAAAAAAAAAAAAAAABAwACIRL/2gAIAQMBAT8AqpengbP/2Q==",blurWidth:8,blurHeight:6},"imagen-4-pro":{src:"/_next/static/media/imagen-4-pro.0623d0cb.jpg",height:273,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAL/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAgSX/AP/EABwQAAEDBQAAAAAAAAAAAAAAAAECERIABAUTFP/aAAgBAQABPwA5K84UK2qkTF5F2r//xAAZEQEAAgMAAAAAAAAAAAAAAAABAAIhIjL/2gAIAQIBAT8AsumXgn//xAAXEQADAQAAAAAAAAAAAAAAAAAAAkJy/9oACAEDAQE/AFrR/9k=",blurWidth:8,blurHeight:4},"imagen-4-ultra":{src:"/_next/static/media/imagen-4-ultra.da78a0c4.jpg",height:273,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAEAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAUAQEAAAAAAAAAAAAAAAAAAAAE/9oADAMBAAIQAxAAAACQBf8A/8QAHBAAAQMFAAAAAAAAAAAAAAAAAgEDBAAFBhIy/9oACAEBAAE/AImT3VqKrgG2iiGnFf/EABgRAQEAAwAAAAAAAAAAAAAAAAECACIx/9oACAECAQE/ACqWtnuf/8QAGREAAgMBAAAAAAAAAAAAAAAAAQIAETKR/9oACAEDAQE/AAiVkcn/2Q==",blurWidth:8,blurHeight:4},"leonardo-phoenix":{src:"/_next/static/media/leonardo-phoenix.5a9b148e.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAUAQEAAAAAAAAAAAAAAAAAAAAD/9oADAMBAAIQAxAAAACQBL//xAAdEAACAQQDAAAAAAAAAAAAAAABAgQAEiEiAxRR/9oACAEBAAE/AElR+u6rHXTlW4WjYtgHHlf/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQIxcv/aAAgBAgEBPwB1HJ//xAAYEQEAAwEAAAAAAAAAAAAAAAABAAMScv/aAAgBAwEBPwAXdnbP/9k=",blurWidth:8,blurHeight:6},"luma-photon-1":{src:"/_next/static/media/luma-photon-1.1649ca4f.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAAFBv/aAAwDAQACEAMQAAAAoRNt/wD/xAAaEAABBQEAAAAAAAAAAAAAAAACAAQGITFR/9oACAEBAAE/ACkbztDeav/EABoRAAEFAQAAAAAAAAAAAAAAAAMAAQIhI5H/2gAIAQIBAT8Acxa0l1f/xAAaEQACAgMAAAAAAAAAAAAAAAACAwARATFR/9oACAEDAQE/ABSnN2sN8n//2Q==",blurWidth:8,blurHeight:6},"luma-photon-flash-1":{src:"/_next/static/media/luma-photon-flash-1.d9455e5d.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAF/9oADAMBAAIQAxAAAACSAlv/xAAZEAEAAgMAAAAAAAAAAAAAAAACACEEExb/2gAIAQEAAT8A6jPa1puzVz//xAAaEQACAgMAAAAAAAAAAAAAAAABAgADMUFR/9oACAECAQE/AHrQHeOmf//EABgRAQADAQAAAAAAAAAAAAAAAAEAAlGR/9oACAEDAQE/ACzhwn//2Q==",blurWidth:8,blurHeight:6},"recraft-v3":{src:"/_next/static/media/recraft-v3.2bd50396.jpg",height:500,width:616,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAGAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAP/xAAVAQEBAAAAAAAAAAAAAAAAAAABBP/aAAwDAQACEAMQAAAAkJH/xAAbEAACAQUAAAAAAAAAAAAAAAACAwABBQYRE//aAAgBAQABPwBmXXhVFn12JT//xAAZEQADAAMAAAAAAAAAAAAAAAABAiEAMUH/2gAIAQIBAT8ASrSdnuf/xAAWEQEBAQAAAAAAAAAAAAAAAAABAAL/2gAIAQMBAT8AdIt//9k=",blurWidth:8,blurHeight:6},"recraft-v3-svg":{src:"/_next/static/media/recraft-v3-svg.98cb7b01.svg",height:1024,width:1820,blurWidth:0,blurHeight:0},"gpt-image-1-low":{src:"/_next/static/media/gpt-image-1-low.485e4cbe.jpg",height:274,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAUAQEAAAAAAAAAAAAAAAAAAAAF/9oADAMBAAIQAxAAAAC8Gp//xAAaEAACAgMAAAAAAAAAAAAAAAABAxESABNB/9oACAEBAAE/AFUQllS2Gc2ERn//xAAWEQEBAQAAAAAAAAAAAAAAAAABAMH/2gAIAQIBAT8AML//xAAYEQACAwAAAAAAAAAAAAAAAAAAAgERMf/aAAgBAwEBPwBVWsg//9k=",blurWidth:8,blurHeight:5},"gpt-image-1-medium":{src:"/_next/static/media/gpt-image-1-medium.aeeb5175.jpg",height:333,width:500,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAADBf/aAAwDAQACEAMQAAAAgCcn/8QAGxAAAgEFAAAAAAAAAAAAAAAAAQMABAUSEyL/2gAIAQEAAT8AbeKvNbSetZXP/8QAGBEBAQADAAAAAAAAAAAAAAAAASIAMlH/2gAIAQIBAT8AVmnXuf/EABURAQEAAAAAAAAAAAAAAAAAAACR/9oACAEDAQE/AI//2Q==",blurWidth:8,blurHeight:5},"gpt-image-1-high":{src:"/_next/static/media/gpt-image-1-high.02cc2ec4.jpg",height:267,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAACBP/aAAwDAQACEAMQAAAAiCJf/8QAHhAAAgEDBQAAAAAAAAAAAAAAAgMEAAERBRITMUH/2gAIAQEAAT8Abqbgipk7Q5LkSs487r//xAAYEQEBAAMAAAAAAAAAAAAAAAACAQAzkv/aAAgBAgEBPwAt2bH1c//EABgRAQADAQAAAAAAAAAAAAAAAAIAAVKS/9oACAEDAQE/AETg81P/2Q==",blurWidth:8,blurHeight:5},"ideogram-v3-turbo":{src:"/_next/static/media/ideogram-v3-turbo.b4fc9a1d.jpg",height:240,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAH/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/aAAwDAQACEAMQAAAAonX/xAAcEAABAwUAAAAAAAAAAAAAAAACAAMTBRIyQXH/2gAIAQEAAT8AKuvyi7CGcduur//EABgRAAMBAQAAAAAAAAAAAAAAAAECAxEA/9oACAECAQE/AGrQZjnv/8QAGhEAAgIDAAAAAAAAAAAAAAAAAQMAEQIxUf/aAAgBAwEBPwAJUbteO+T/2Q==",blurWidth:8,blurHeight:5},"ideogram-v3":{src:"/_next/static/media/ideogram-v3.4a7dfce3.jpg",height:240,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAFAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAUAQEAAAAAAAAAAAAAAAAAAAAE/9oADAMBAAIQAxAAAACgFb//xAAdEAABAgcAAAAAAAAAAAAAAAACAxMAERIVMkFR/9oACAEBAAE/AL6sRgswnk3Trs4//8QAGhEAAgIDAAAAAAAAAAAAAAAAAgMAARESMf/aAAgBAgEBPwBjmjrg75P/xAAaEQACAgMAAAAAAAAAAAAAAAACBAADERIy/9oACAEDAQE/AAVXLbNQ9T//2Q==",blurWidth:8,blurHeight:5}}}},41427:(e,t,n)=>{"use strict";n.d(t,{KQ:()=>s,R_:()=>o,qm:()=>c,yz:()=>d});var a=n(77650),i=n(26194),r=n.n(i),l=n(99767);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=/[\u202A\u202D]/.test(e),n=/[\u202B\u202E]/.test(e);if(t)return"ltr";if(n)return"rtl";let a="֑-߿יִ-﷽ﹰ-ﻼ",i=e.match(new RegExp("[".concat("A-Za-z一-鿿㐀-䶿぀-ゟ゠-ヿ가-힯").concat(a,"]")));return i?new RegExp("[".concat(a,"]")).test(i[0])?"rtl":"ltr":null},s=e=>{let t=null,n=e=>{e.isText?t=o(e.text):e.forEach(e=>{null===t&&n(e)})};return n(e),t},d=e=>"rtl"===e?["right","left"]:["left","right"],c=()=>r()(Object.values(l.zd),e=>e.displayNameLocalized(a.Ru._.bind(a.Ru))).sort((e,t)=>e.key===l.jA?-1:+(t.key===l.jA))},41710:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});let a=10},41896:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>a.$,$p:()=>d,VR:()=>u.V,Lz:()=>i.L,gu:()=>i.g,hG:()=>p.h}),n(75484);var a=n(6046),i=n(71839),r=n(6029);n(55729);var l=n(63902),o=n(28613),s=n(4097);let d=e=>(0,l.oR)()?(0,r.jsx)(o.$,{...e}):(0,r.jsx)(c,{...e}),c=e=>{let t=e.as||"div",{nodeViewContentRef:n}=(0,s.c)();return(0,r.jsx)(t,{...e,ref:n,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...e.style}})};c.displayName="NodeViewContentCore";var u=n(91176),p=n(57860)},42276:(e,t,n)=>{"use strict";n.d(t,{Ch:()=>T,x6:()=>N,a6:()=>z});var a=n(6029),i=n(40452),r=n(80314),l=n(58959),o=n(48810),s=n(91938),d=n(28615),c=n(60908),u=n(15577),p=n(57405),h=n(16936),g=n(33787),m=n(99492),x=n(48621),f=n(91106),b=n(19564),v=n(77650),y=n(89263),w=n(23746),C=n(80180),A=n(50861),j=n(23103);let k=e=>{var t;let{node:n,disableOpenButton:i=!1}=e,{meta:r,source:s}=n.attrs,d=(0,A.lQ)(n.attrs),c=(0,j.B)(s),{handleOpenLinkWithInterstitial:g}=(0,y.E)(d),k="embed.custom"===s||"video.custom"===s,I=(null==r?void 0:r.icon)||(null==(t=c.image)?void 0:t.src),E=(null==r?void 0:r.site)||(k?(0,u.t$)(d):c.label());return(0,a.jsxs)(p.T,{spacing:"0.25em",align:"flex-start",color:"black",w:"100%",fontSize:"0.9em",children:[(0,a.jsxs)(l.z,{align:"center",spacing:"0.25em",w:"100%",color:"var(--body-color-muted)",children:[(0,a.jsx)(S,{icon:I}),(0,a.jsx)(o.E,{noOfLines:1,flex:1,"data-testid":"site-name",fontSize:"0.9em",children:E}),c.downloadable&&d&&(0,a.jsx)(f.Tz,{label:(0,a.jsx)(b.x6,{id:"mzI/c+"}),placement:"top",children:(0,a.jsx)(h.K,{"aria-label":v.Ru._({id:"mzI/c+"}),icon:(0,a.jsx)(x.g,{icon:m.cbP}),onClick:()=>{let e=document.createElement("a");e.href=d,e.target="_blank",e.download=(null==r?void 0:r.title)||"file.pdf",e.dispatchEvent(new MouseEvent("click"))},variant:"unstyled",sx:w.Up,fontSize:"0.7em",zIndex:2,onMouseDown:C.Fw})}),!i&&d&&(0,a.jsx)(f.Tz,{label:(0,a.jsx)(b.x6,{id:"Alx2/L"}),placement:"top",children:(0,a.jsx)(h.K,{"aria-label":v.Ru._({id:"Alx2/L"}),icon:(0,a.jsx)(x.g,{icon:m.vMs}),onClick:g,variant:"unstyled",zIndex:2,fontSize:"0.7em",onMouseDown:C.Fw,sx:w.Up})})]}),(0,a.jsx)(o.E,{fontWeight:"bold",noOfLines:1,maxW:"90%","data-testid":"title",color:"var(--body-color)",wordBreak:"break-all",children:null==r?void 0:r.title}),(null==r?void 0:r.description)&&(0,a.jsx)(o.E,{noOfLines:[2,3],whiteSpace:"normal",maxW:"100%",color:"var(--body-color-muted)",children:r.description})]})},S=e=>{let{icon:t,...n}=e;return t?(0,a.jsx)(g._,{src:t,h:"1.5em",borderRadius:"sm",...n}):(0,a.jsx)(o.E,{as:"span",...n,children:(0,a.jsx)(x.g,{icon:m.c9S})})};var I=n(26420),E=n(55597),R=n(59230),L=n(21982);let D=e=>{let t=Math.floor(Math.max(0,e)),n=Math.floor(t/3600),a=Math.floor(t%3600/60),i=n.toString().padStart(2,"0"),r=a.toString().padStart(2,"0"),l=(t%60).toString().padStart(2,"0");return n>=1?i+":"+r+":"+l:r+":"+l},M=e=>{let{node:t}=e,{thumbnail:n,meta:r,source:s}=t.attrs,d=(null==n?void 0:n.src)||(null==n?void 0:n.tempUrl);return(null==n?void 0:n.showPlaceholder)?(0,a.jsx)(L.Pf,{hasUploadError:n.uploadStatus===R.A.Error,isUploading:n.uploadStatus===R.A.Uploading,width:"100%",borderRadius:"none",icon:"embed.pdf"===s?m.O_q:m.c9S}):d?(0,a.jsxs)(i.s,{flex:1,color:"white",position:"relative",children:[(0,a.jsx)(I.a,{flex:1,overflow:"hidden",bgColor:"white",children:(0,a.jsx)(g._,{src:d,position:"absolute",objectFit:"cover",width:"100%",height:"100%"})}),(null==n?void 0:n.uploadStatus)===R.A.Uploading&&(0,a.jsx)(L.Td,{}),(null==r?void 0:r.duration)&&(0,a.jsxs)(l.z,{fontSize:"0.75em",backgroundColor:"blackAlpha.700",color:"white",position:"absolute",insetEnd:0,bottom:0,py:1,px:2,"data-thumbnail-hidden":!0,children:[(0,a.jsx)(x.g,{icon:E.ijD}),(0,a.jsx)(o.E,{children:D(r.duration)})]})]}):null},_=e=>e&&(!e.height||e.height>=50)&&(!e.width||e.width>=50),T=e=>{let{node:t}=e,{thumbnail:n,sourceUrl:l}=t.attrs;return(0,a.jsxs)(i.s,{overflow:"hidden",direction:"row",align:"stretch",wrap:"wrap",contentEditable:!1,transitionProperty:"common",transitionDuration:"normal",position:"relative",borderRadius:"inherit","data-content-reference":!0,"data-selection-ring":"inside","data-selection-background":!0,fontFamily:"body","data-drag-handle":!0,h:"100%",maxW:"var(--media-maxW)",maxH:"var(--media-maxH)",children:[n&&_(n)&&(0,a.jsx)(i.s,{flex:1,minH:"10em",minW:"min(10em, 100%)",maxW:"100%",maxH:"var(--media-maxH)",children:(0,a.jsx)(M,{node:t})}),(0,a.jsx)(i.s,{flex:1.618,minW:"min(16em, 100%)",maxW:"100%",p:"1em",position:"relative",children:(0,a.jsx)(k,{node:t})}),d.D1&&l&&(0,a.jsx)(r.N,{href:l,h:"100%",w:"100%",position:"absolute",zIndex:"-10","data-pdf-link":!0})]})},N=e=>{var t;let{node:n}=e,{thumbnail:d,meta:c,sourceUrl:p,source:h}=n.attrs,g=(0,j.B)(h);return(0,a.jsxs)(i.s,{minW:"var(--media-maxH)",w:"100%",css:{aspectRatio:"16 / 9"},maxW:"100%",maxH:"var(--media-maxH)",h:"100%",align:"stretch",boxSizing:"content-box",overflow:"hidden","data-content-reference":!0,"data-selection-ring":"inside",position:"relative",bg:"gray.50",children:[d&&_(d)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{node:n}),(0,a.jsxs)(l.z,{backgroundColor:"whiteAlpha.700",backdropFilter:"blur(8px)",py:1,px:2,position:"absolute",bottom:"0",fontSize:"0.75em","data-thumbnail-hidden":!0,children:[(0,a.jsx)(S,{icon:(null==c?void 0:c.icon)||(null==(t=g.image)?void 0:t.src)}),p&&(0,a.jsx)(o.E,{color:"black",noOfLines:1,children:(null==c?void 0:c.title)||(null==c?void 0:c.site)||(0,u.t$)(p)})]})]}):(0,a.jsx)(i.s,{align:"flex-start",flex:"1",p:4,children:(0,a.jsx)(k,{node:n,disableOpenButton:!0})}),s.$.GAMMA_PUPPETEER_SERVICE&&p&&(0,a.jsx)(r.N,{href:p,h:"100%",w:"100%",position:"absolute",zIndex:"-10","data-pdf-link":!0})]})},z=e=>{var t;let{node:n}=e,{meta:r,source:l,thumbnail:o}=n.attrs,s=(0,j.B)(l),d=(null==o?void 0:o.src)||(null==o?void 0:o.tempUrl),u=d&&(0,c.Ub)(d,c.p7);return(0,a.jsx)(i.s,{minW:"var(--media-maxH)",w:"100%",css:{aspectRatio:"16 / 9"},bg:"var(--body-color-muted)",align:"center",justify:"center",bgImage:(0,c.QV)(u),backgroundSize:"cover",children:(0,a.jsx)(S,{icon:(null==r?void 0:r.icon)||(null==(t=s.image)?void 0:t.src),fontSize:"7.5em"})})}},42350:(e,t,n)=>{"use strict";n.d(t,{d:()=>g,X:()=>m});var a=n(77650),i=n(68301),r=n(91938),l=n(58929);async function o(e,t){let n="".concat(r.$.API_HOST,"/media/images/edit");return await (0,l.P)(n,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:null==t?void 0:t.signal},{parseResponse:async e=>await e.json(),maxDuration:12e4})}var s=n(28630),d=n(45666),c=n(34394),u=n(8327),p=n(81880),h=n(6272);let g={generateImage:{creditCostType:"generateImage",execute:async function(e,t){let n=async(e,n,a)=>(0,s.hU)({interactionId:t.interactionId,prompt:e,model:n,workspaceId:t.workspaceId,count:1,stylePrompt:a},t.abortController),a=(0,c.oP)();return{status:"success",images:(await Promise.all(e.prompts.map(e=>n(e,a,t.preferredAiImageStyle)))).flat().map(e=>({attrs:e.attrs})),messageId:t.interactionId}}},searchImage:{execute:async function(e,t){let{query:n}=e;return{status:"success",images:(await (0,d.g)({provider:"web",query:n,count:6,abortController:t.abortController})).map(e=>({attrs:(0,u.TF)(e,n,"web")})).slice(0,6),messageId:t.interactionId}}},removeBackground:{checkEnabled:()=>!i.of.get("disableRemoveBackground"),creditCostType:"removeBackground",execute:async function(e,t){var n,a,i;let r=t.imageToEdit,l=null==(n=t.imageToEdit)?void 0:n.src;if(!l)throw Error("Cannot remove background, no image selected");let s=await o({operation:"remove-background",interactionId:t.interactionId,messageId:t.messageId,chatId:t.chatId,workspaceId:t.workspaceId,editParams:{},url:l,width:null==r||null==(a=r.meta)?void 0:a.width,height:null==r||null==(i=r.meta)?void 0:i.height},t.abortController);return{status:"success",images:[{attrs:{source:"image.custom",query:null==r?void 0:r.query,src:s.url,meta:null==r?void 0:r.meta}}],messageId:t.interactionId}}},editContent:{execute:async function(e,t){let n=t.imageToEdit,r=null==n?void 0:n.src;if(!r)throw Error("Cannot perform maskless image edit, no image selected");let{loadImageParams:l}=n,s=(null==l?void 0:l.options)&&"model"in l.options?l.options.model:void 0,d=(null==s?void 0:s.startsWith("gpt-image"))?s:i.of.get("masklessEditModel"),c=(await Promise.all(e.editPrompts.map(async e=>{try{var a,i;let l=await o({operation:"maskless",interactionId:t.interactionId,messageId:t.messageId,chatId:t.chatId,workspaceId:t.workspaceId,editParams:{editPrompt:e,model:d},url:r,width:null==(a=n.meta)?void 0:a.width,height:null==(i=n.meta)?void 0:i.height},t.abortController);return{attrs:{source:"image.custom",query:null==n?void 0:n.query,src:l.url,meta:null==n?void 0:n.meta}}}catch(e){if((0,h.z)(e))throw e;return console.error("Maskless edit error:",e),null}}))).filter(Boolean);return 0===c.length?{status:"error",messageId:t.interactionId,error:a.Ru._({id:"0A5PiD"})}:{status:"success",images:c,messageId:t.interactionId}}},vectorize:{checkEnabled:e=>(0,p.D)(e),execute:async function(e,t){var n,a;let i=t.imageToEdit,r=null==i?void 0:i.src;if(!r)throw Error("Cannot vectorize, no image selected");let l=await o({operation:"vectorize",url:r,width:null==(n=i.meta)?void 0:n.width,height:null==(a=i.meta)?void 0:a.height,workspaceId:t.workspaceId,interactionId:t.interactionId,chatId:t.chatId,messageId:t.messageId,editParams:{}},t.abortController);return{status:"success",images:[{attrs:{source:"image.custom",query:null==i?void 0:i.query,src:l.url,meta:null==i?void 0:i.meta}}],messageId:t.interactionId}}},upscale:{checkEnabled:e=>(0,p.D)(e),execute:async function(e,t){var n,a;let i=t.imageToEdit,r=null==i?void 0:i.src;if(!r)throw Error("Cannot upscale, no image selected");let l=await o({operation:"upscale",editParams:{},url:r,width:null==(n=i.meta)?void 0:n.width,height:null==(a=i.meta)?void 0:a.height,workspaceId:t.workspaceId,interactionId:t.interactionId,chatId:t.chatId,messageId:t.messageId},t.abortController);return{status:"success",images:[{attrs:{source:"image.custom",query:null==i?void 0:i.query,src:l.url,meta:null==i?void 0:i.meta}}],messageId:t.interactionId}}},animate:{checkEnabled:e=>i.of.get("aiAnimate")&&(0,p.D)(e),creditCostType:"animateImage",execute:async function(e,t){var n,a,r,l;let s=t.imageToEdit,d=null==s?void 0:s.src;if(!d)throw Error("Cannot replace background, no image selected");let c=await o({operation:"animate",workspaceId:t.workspaceId,url:d,width:null==(n=s.meta)?void 0:n.width,height:null==(a=s.meta)?void 0:a.height,editParams:{prompt:e.prompt,model:i.of.get("animateImageModel"),aspectRatio:(null==(r=s.meta)?void 0:r.width)&&(null==(l=s.meta)?void 0:l.height)?s.meta.width>s.meta.height?"landscape":"portrait":"landscape"},interactionId:t.interactionId,chatId:t.chatId,messageId:t.messageId},t.abortController);return{status:"success",images:[{attrs:{source:"image.custom",query:null==s?void 0:s.query,src:c.url,meta:null==s?void 0:s.meta}}],messageId:t.interactionId}}}},m=e=>e.imageToEdit?Object.keys(g).filter(t=>{let n=g[t];return!n.checkEnabled||n.checkEnabled(e.imageToEdit)}):["generateImage","searchImage"]},42644:(e,t,n)=>{"use strict";n.d(t,{gT:()=>T,Vo:()=>_,E1:()=>M});var a=n(51684),i=n(99492),r=n(77650),l=n(59426),o=n(57792),s=n(26194),d=n.n(s),c=n(78435),u=n.n(c),p=n(68301),h=n(52055),g=n(55597),m=n(23050);let x=()=>[{key:"autoComplete",name:()=>r.Ru._({id:"ZyVTQp"}),shortcut:m.Hb,nodeName:"paragraph",icon:g._$C,keywords:["continue","autocomplete","typeahead","complete","continue","ai"],execute:e=>{e.commands.autoComplete()},featureFlag:"aiAutocomplete",creditType:"autocomplete",needsConnection:!0},{key:"aiCardAfter",name:()=>r.Ru._({id:"yk2NpI"}),nodeName:"card",icon:g._$C,execute:e=>e.commands.insertCardAfter((0,h.G)().aiCardAfter),checkDisabled:e=>!e.schema.nodes.card,keywords:["card","below","after","new"],featureFlag:"addCard2",needsConnection:!0}];var f=n(7957),b=n(54678),v=n(34555),y=n(89603),w=n(24903),C=n(91656),A=n(19250),j=n(88145),k=n(11215),S=n(55786),I=n(55860),E=n(53891);let R=()=>[{key:"toggle",name:()=>r.Ru._({id:"JFciKP"}),description:()=>r.Ru._({id:"Woijyj"}),keywords:["toggle","expand","collapse","disclosure","details"],nodeName:"toggle",icon:a.ijD,execute:e=>{let t=(0,I.n)();(0,E.bG)(t,!0),e.chain().insertContent({...(0,h.G)().toggle,attrs:{id:t}}).selectInsertedNode().run()},dragStartFn:e=>{let t=(0,I.n)();(0,E.bG)(t,!0),(0,S.f)(e,{...(0,h.G)().toggle,attrs:{id:t}})}}];var L=n(15607);let D=()=>[{key:"insertCardAfter",name:()=>r.Ru._({id:"coNSGP"}),nodeName:"card",icon:a.UiS,execute:e=>e.commands.insertCardAfter(),checkDisabled:e=>!e.schema.nodes.card,keywords:["card","below","after","new"]},{key:"insertCardInside",name:()=>r.Ru._({id:"lOmsEK"}),nodeName:"card",icon:a.ViY,execute:e=>e.commands.insertNestedCard(),checkDisabled:e=>!e.schema.nodes.card,keywords:["nested","card","sub"]},{key:"splitCard",name:()=>r.Ru._({id:"ONXbeB"}),nodeName:"card",icon:a.ufr,shortcut:"***",execute:e=>e.commands.splitCardAtSelection(),checkDisabled:e=>!e.schema.nodes.card,dragStartFn:e=>{(0,S.f)(e,(0,h.G)().normalText)},dragEndFn:e=>{e.chain().splitCardAtSelection().focusDelayed().run()},keywords:["split"]},{key:"title",name:()=>r.Ru._({id:"XxGz2W"}),nodeName:"title",icon:i.jwR,shortcut:"! Title",execute:e=>{e.chain().focus().setFontSize("title").run()},checkDisabled:(e,t)=>!!t&&!(0,L.zi)(e,"title"),keywords:["title","large"]},{key:"display",name:()=>r.Ru._({id:"ySF22d"}),nodeName:"title",icon:i.jwR,shortcut:"!! Title",execute:e=>{e.chain().focus().setFontSize("titleLg").run()},checkDisabled:(e,t)=>!!t&&!(0,L.zi)(e,"title"),keywords:["display","large"]},{key:"monster",name:()=>r.Ru._({id:"+nhv+2"}),nodeName:"title",icon:i.jwR,shortcut:"!!! Ahhhh",execute:e=>{e.chain().focus().setFontSize("titleXl").run()},checkDisabled:(e,t)=>!!t&&!(0,L.zi)(e,"title"),keywords:["monster","huge"]},{key:"h1",name:()=>r.Ru._({id:"lXKZGw"}),nodeName:"heading",icon:a.RDv,shortcut:"# Heading 1",execute:e=>{e.chain().focus().setFontSize("h1").run()},checkDisabled:(e,t)=>!!t&&!(0,L.zi)(e,"heading"),keywords:["heading","h1"]},{key:"smallText",name:()=>r.Ru._({id:"LBkaLa"}),nodeName:"paragraph",icon:i.jwR,shortcut:"/sm",execute:e=>{e.chain().focus().setFontSize("sm").run()},checkDisabled:(e,t)=>!!t&&!(0,L.zi)(e,"body"),keywords:["sm","small","paragraph"]},{key:"normalText",name:()=>r.Ru._({id:"5NwZ8t"}),nodeName:"paragraph",icon:a.jwR,shortcut:"/md",execute:e=>{e.chain().focus().setFontSize("md").run()},checkDisabled:(e,t)=>!!t&&!(0,L.zi)(e,"body"),keywords:["md","normal","paragraph","default","body"]},{key:"largeText",name:()=>r.Ru._({id:"0Sz17G"}),nodeName:"paragraph",icon:a.jwR,shortcut:"/lg",execute:e=>{e.chain().focus().setFontSize("lg").run()},checkDisabled:(e,t)=>!!t&&!(0,L.zi)(e,"body"),keywords:["lg","large","paragraph"]},{key:"h2",name:()=>r.Ru._({id:"El7NbA"}),nodeName:"heading",icon:a.K1h,shortcut:"## Heading 2",execute:e=>{e.chain().focus().setFontSize("h2").run()},checkDisabled:(e,t)=>!!t&&!(0,L.zi)(e,"heading"),keywords:["heading","h2"]},{key:"h3",name:()=>r.Ru._({id:"SFN6dN"}),nodeName:"heading",icon:a.Dn6,shortcut:"### Heading 3",execute:e=>{e.chain().focus().setFontSize("h3").run()},checkDisabled:(e,t)=>!!t&&!(0,L.zi)(e,"heading"),keywords:["heading","h3"]},{key:"h4",name:()=>r.Ru._({id:"nJeKmw"}),nodeName:"heading",icon:a.wLS,shortcut:"#### Heading 4",execute:e=>{e.chain().focus().setFontSize("h4").run()},checkDisabled:(e,t)=>!!t&&!(0,L.zi)(e,"heading"),keywords:["heading","h4"]},{key:"openEmojiPicker",name:()=>r.Ru._({id:"tKlWWY"}),nodeName:"emoji",icon:i.H82,execute:e=>e.commands.openEmojiPicker(),keywords:["symbol","emoji"]},{key:"bulletedList",name:()=>r.Ru._({id:"ynb7Kh"}),nodeName:C.e.Bullet,icon:a.pch,shortcut:"- Item",execute:e=>{e.chain().setListItems({variant:C.e.Bullet}).selectInsertedNode().run()},checkDisabled:(e,t)=>!!t&&!(0,L.aq)(e,C.e.Bullet),keywords:["bullets","unordered","ul","list"]},{key:"numberedList",name:()=>r.Ru._({id:"M3G9ZD"}),nodeName:C.e.Numbered,icon:a.Tsj,shortcut:"1. Item",execute:e=>{e.chain().setListItems({variant:C.e.Numbered}).selectInsertedNode().run()},checkDisabled:(e,t)=>!!t&&!(0,L.aq)(e,C.e.Numbered),keywords:["numbers","numbered","ordered","ol","list"]},{key:"todoList",name:()=>r.Ru._({id:"rCIbrq"}),nodeName:C.e.Todo,icon:a.AgW,shortcut:"[] Item",execute:e=>{e.chain().setListItems({variant:C.e.Todo}).selectInsertedNode().run()},checkDisabled:(e,t)=>!!t&&!(0,L.aq)(e,C.e.Todo),keywords:["todo","task","checkbox","list","checklist"]},{key:"blockquote",name:()=>r.Ru._({id:"OLMhPm"}),nodeName:"blockquote",icon:a.R9H,shortcut:"> Quote",execute:e=>e.chain().focus().toggleBlockquote().run(),keywords:["quote","blockquote"]},...(0,f.A3)(),{key:"buttonGroup",name:()=>r.Ru._({id:"hxBFty"}),nodeName:"buttonGroup",icon:a.A8r,execute:e=>e.commands.insertContentAndSelect((0,h.G)().buttonGroup),description:()=>r.Ru._({id:"IvDo5O"}),keywords:["button","link","click","call to action"]},{key:"codeBlock",name:()=>r.Ru._({id:"4A3Yzu"}),nodeName:"codeBlock",icon:a.jTw,shortcut:"```",execute:e=>{e.chain().focus().setCodeBlock().run()},keywords:["code","block","codeblock"]},{key:"mathBlock",name:()=>r.Ru._({id:"TI6GY9"}),nodeName:"math_display",featureFlag:"math",icon:a.YLF,keywords:["math","equation","latex","katex"],execute:e=>e.chain().focus().insertContent((0,h.G)().mathBlock).run(),dragEndFn:()=>{},description:()=>r.Ru._({id:"mBJFYh"})},{key:"mathInline",name:()=>r.Ru._({id:"qc9cD+"}),featureFlag:"math",nodeName:"math_inline",icon:a.Dkf,keywords:["math","equation","latex","katex"],execute:e=>e.chain().focus().insertMathInline().run(),shortcut:"$x^2$ "},{key:"table2",name:()=>r.Ru._({id:"3gSgpL"}),keywords:["table","grid","data"],nodeName:"table",shortcut:"/table",icon:a.w97,execute:e=>e.commands.insertTable({rows:2,cols:2,withHeaderRow:!1})},{key:"table3",name:()=>r.Ru._({id:"ZjN50+"}),keywords:["table","grid","data"],nodeName:"table",icon:a.w97,execute:e=>e.commands.insertTable({rows:3,cols:3,withHeaderRow:!1})},{key:"table4",name:()=>r.Ru._({id:"64S2d0"}),keywords:["table","grid","data"],nodeName:"table",icon:a.w97,execute:e=>e.commands.insertTable({rows:4,cols:4,withHeaderRow:!1})},{key:"columns2",name:()=>r.Ru._({id:"vVJ2/D"}),keywords:["columns","layout","grid","two"],nodeName:"gridLayout",shortcut:"/columns",icon:a.oZz,execute:e=>e.commands.insertLayout(2)},{key:"columns3",name:()=>r.Ru._({id:"OnuuaA"}),keywords:["columns","layout","grid","three"],nodeName:"gridLayout",icon:a.oZz,execute:e=>e.commands.insertLayout(3)},{key:"columns4",name:()=>r.Ru._({id:"hexbw8"}),keywords:["columns","layout","grid","four"],nodeName:"gridLayout",icon:a.oZz,execute:e=>e.commands.insertLayout(4)},{key:"contributors",name:()=>r.Ru._({id:"YqsXfH"}),nodeName:"contributors",icon:a.hP6,execute:e=>e.commands.insertContentAndSelect((0,h.G)().contributors),keywords:["contributors","authors","credits"]},{key:"divider",name:()=>r.Ru._({id:"R8AthW"}),nodeName:"divider",icon:a.adM,keywords:["hr","rule","line","divider"],shortcut:"---",execute:e=>e.commands.insertContentAndSelect((0,h.G)().divider)},{key:"tableOfContents",name:()=>r.Ru._({id:"9FTolD"}),nodeName:"tableOfContents",icon:a.o97,execute:e=>e.commands.insertContentAndSelect((0,h.G)().tableOfContents,-1),keywords:["toc","contents"]},{key:"gallery",name:()=>r.Ru._({id:"U+kFad"}),description:()=>r.Ru._({id:"GqdREM"}),nodeName:"gallery",shortcut:"/gallery",icon:a.Qyz,keywords:["gallery","image","layout","filmstrip","carousel"],execute:e=>e.commands.insertContentAndSelect((0,h.G)().gallery)},{key:"logo",name:()=>r.Ru._({id:"YkFus/"}),description:()=>r.Ru._({id:"YRtGxa"}),nodeName:"gallery",shortcut:"/logos",icon:a.a8v,keywords:["logo","logos","gallery"],execute:e=>e.chain().insertContentAndSelect((0,h.G)().logoGallery).run()},{key:"footnote",name:()=>r.Ru._({id:"dOxPd4"}),nodeName:"footnote",shortcut:"^note^",icon:a.sxe,execute:e=>{let t=(0,y.pN)(),n={...(0,h.G)().footnote,attrs:{noteId:t}};(0,y.Wj)(t,!0),e.commands.insertContent(n)},dragStartFn:e=>{let t=(0,y.pN)(),n={...(0,h.G)().footnote,attrs:{noteId:t}};(0,y.Wj)(t,!0),(0,S.f)(e,n)},checkDisabled:w.Q,keywords:["footnote","note","reference"]},{key:"insertDate",name:()=>r.Ru._({id:"mYGY3B"}),nodeName:"paragraph",icon:a.okg,execute:e=>{let t=(0,l.A)(new Date,"PPP",{locale:o.A});e.chain().focus().insertContent(t).run()},shortcut:"/date",featureFlag:"insertDate",keywords:["date","today","current"]},...(0,b.V)(),...R(),...(0,A.D)(),...(0,k.WP)(),...(0,v.A)(),...(0,j.b)(),...x()],M=()=>d()(D(),e=>e.priority),_=()=>u()(D(),"key"),T=function(e,t){var n;let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!!(t.needsConnection&&i||t.featureFlag&&!p.of.get(t.featureFlag)||(null==(n=t.checkDisabled)?void 0:n.call(t,e,a)))||!!a&&!(0,L.Bi)(e,t.nodeName)}},42670:(e,t,n)=>{"use strict";n.d(t,{h:()=>eb});var a=n(6029),i=n(46898),r=n(48810),l=n(80314),o=n(24302),s=n(40452),d=n(26385),c=n(26420),u=n(17496),p=n(58959),h=n(96990),g=n(99492),m=n(48621),x=n(19564),f=n(77650),b=n(55729),v=n(74158),y=n(88586),w=n(85011),C=n(87045),A=n(17928),j=n(59320),k=n(92397),S=n(61385),I=n(47665),E=n(43634),R=n(15607),L=n(77639),D=n(75570),M=n(29608),_=n(70006),T=n(85235),N=n(53885),z=n(16936),P=n(40162),O=n(91106),F=n(82927),H=n(43787),B=n(80180);let V=e=>{let{docId:t,cardId:n,commentId:a,parentCommentId:i,targetType:r}=e,[l]=(0,y.nkJ)(),[o]=(0,y.eaJ)();function s(e,l,o,s){let d={targetId:r===y.yKx.Comment?a:n,docId:t,emoji:l,cardId:n};return("addReaction"===e&&(d={...d,targetType:r}),r===y.yKx.Comment)?{variables:{reactionInput:d},update:(n,r)=>{let{data:l}=r;n.writeFragment({id:"Doc:".concat(t),fragment:y.U$g,fragmentName:"DocCommentsUpdate",data:{comments:[i?{id:i,replies:[{id:a,reactions:[l[e]],__typename:"Comment"}],reactions:[],__typename:"Comment"}:{id:a,replies:[],reactions:[l[e]],__typename:"Comment"}]}})},optimisticResponse:{[e]:{commentId:a,count:o,emoji:l,users:s,cardId:n,__typename:"Reaction"}}}:void console.error("[useReactionUpdate] Invalid targetType: ".concat(r))}return{addReactionFn:(e,t,n)=>{l(s("addReaction",e,t,n))},removeReactionFn:(e,t,n)=>{o(s("removeReaction",e,t,n))}}};var W=n(89122),U=n(12514),G=n(26886),K=n(27229),Q=n(72316),Z=n(72751);let q=(e,t)=>e===t||null!=e.parentElement&&q(e.parentElement,t),J=e=>{let{setPopperElement:t,onPopoverClose:n,handleReactionClick:i,popperElement:r,openerElement:l,usePortal:o,isMobile:s,placement:d,...u}=e;(0,W.j)({ref:{current:r},handler(e){l&&q(e.target,l)||n()}});let p=(0,a.jsx)(c.a,{mx:3*!s,mt:s?0:"-110px",shadow:"lg",bg:"white",p:"0",w:"auto",minW:"0px",zIndex:"tooltip","data-target-name":"reaction-emoji-picker",ref:t,...u,children:(0,a.jsx)(Z.pP,{perLine:s?9:12,handlePick:e=>{i(e.id),n()},shouldFocusSearch:!(0,M.Xb)()})});return o?(0,a.jsx)(U.Z,{children:p}):p},$=e=>{let{size:t,colorScheme:n,handleReactionClick:i,placement:r,usePortal:l=!0}=e,[o]=(0,G.U)(["(max-width: 840px)","(min-width: 841px)"]),{isOpen:s,onToggle:d,onClose:u}=(0,K.j)(),[p,h]=(0,b.useState)(!1),[v,y]=(0,b.useState)(null),[w,C]=(0,b.useState)(null),{styles:A,attributes:j,forceUpdate:k}=(0,Q.E)(v,w,{placement:o?"auto":"".concat(r,"-start"),strategy:"fixed"});return(0,b.useEffect)(()=>{k&&setTimeout(()=>{k()},0)},[k]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.Tz,{placement:ee,label:(0,a.jsx)(x.x6,{id:"9OEgyT"}),isOpen:p,children:(0,a.jsx)(c.a,{display:"flex",onMouseEnter:()=>{h(!0)},onMouseLeave:()=>h(!1),children:(0,a.jsx)(z.K,{colorScheme:n,float:"inline-start","aria-label":f.Ru._({id:"9OEgyT"}),variant:"ghost",onClick:e=>{d(),e.stopPropagation()},size:t||"sm",ref:y,isRound:!0,icon:(0,a.jsx)(m.g,{icon:g.Q3O})})})}),s&&(0,a.jsx)(J,{usePortal:l,setPopperElement:C,onPopoverClose:u,handleReactionClick:i,popperElement:w,isPopoverOpen:s,openerElement:v,style:A.popper,isMobile:o,placement:r,...j.popper})]})};var Y=n(49611);let X=e=>{let{colorScheme:t,size:n,emoji:i,label:l,count:s,hasSelfReacted:d,handleReactionClick:u,readOnly:p}=e,{colorMode:h}=(0,o.G6)(),g="light"===h,m=(0,b.useCallback)(e=>{p||u(i,e)},[i,u,p]);return(0,a.jsx)(O.Tz,{placement:ee,label:(0,a.jsxs)(c.a,{alignContent:"center",children:[l,!p&&(0,a.jsx)(r.E,{display:"block",color:g?"gray.500":"gray.600",children:d?(0,a.jsx)(x.x6,{id:"fb/FjL"}):(0,a.jsx)(x.x6,{id:"AG3H1y"})})]}),children:(0,a.jsxs)(Y.$,{cursor:p?"default":"cursor","data-testid":"reaction-button-".concat(i),size:n||"sm",color:g?"gray.500":"gray.300",bg:d?g?"gray.50":"gray.600":"none",borderWidth:"1px",borderStyle:"solid",colorScheme:t,borderColor:d?g?"gray.200":"gray.500":"transparent",_hover:{bg:g?"gray.200":"gray.600"},variant:"ghost",borderRadius:"full",px:2,onClick:m,children:[(0,a.jsx)(Z.mY,{emojiId:i,fontSize:"sm"===n?"lg":"sm"}),(0,a.jsx)(r.E,{as:"span",fontSize:n,ms:1.5,children:s})]})})},ee="bottom",et=e=>{let{size:t,colorScheme:n,placement:i="right",usePortal:l,reactions:o,docId:d,cardId:c,commentId:u,parentCommentId:p,targetType:h,readOnly:f,innerPaddingY:b,...v}=e,{addReactionFn:w,removeReactionFn:C}=V({docId:d,commentId:u,parentCommentId:p,cardId:c,targetType:h}),{user:A}=(0,F.ur)(),j=(null==o?void 0:o.reduce((e,t)=>(t.count&&(e[t.emoji]=t),e),{}))||{},k=!f&&h===y.yKx.Card&&!j.heart,S=Object.keys(j).length>0,I=(e,t)=>{var n,a,i,r,l,o;if(!(h===y.yKx.Comment&&u||h===y.yKx.Card&&c))throw Error("[Reactions.handleReactionClick] Invalid targetType. Args: targetType: ".concat(h,", commentId: ").concat(u,", cardId: ").concat(c));if(null==(a=j[e])||null==(n=a.users.find(e=>e.id===(null==A?void 0:A.id)))?void 0:n.id){let t=(null==j||null==(i=j[e])?void 0:i.count)-1,n=(null==j||null==(r=j[e])?void 0:r.users)?j[e].users.filter(e=>e.id!==(null==A?void 0:A.id)):[];C(e,t,n)}else{let t=(null==j||null==(l=j[e])?void 0:l.count)?j[e].count+1:1,n=(null==j||null==(o=j[e])?void 0:o.users)?j[e].users.concat(A):[A];w(e,t,n)}null==t||t.stopPropagation()};return(0,a.jsxs)(s.s,{direction:"row",cursor:"default",contentEditable:!1,onMouseDown:B.Fw,mb:b?"-".concat(b/1.5,"rem"):void 0,...v,children:[k&&(0,a.jsx)(O.Tz,{label:(0,a.jsx)(x.x6,{id:"W9FRBT"}),placement:ee,children:(0,a.jsx)(z.K,{colorScheme:n,float:"inline-start","aria-label":"",variant:"ghost",onClick:e=>{I("heart",e)},size:t,isRound:!0,mr:2,icon:(0,a.jsx)(m.g,{icon:g.qcK})})}),!f&&(0,a.jsx)($,{size:t,colorScheme:n,handleReactionClick:I,usePortal:l,placement:i}),S&&(0,a.jsx)(P.B,{spacing:"sm"===t?2:1,mr:2,className:"reactions-row",children:S&&Object.entries(j).map(e=>{let[i,l]=e,o=null==l?void 0:l.users,s=!!(null==o?void 0:o.find(e=>(null==e?void 0:e.id)===(null==A?void 0:A.id))),d=(0,H.gj)({users:o,selfUserId:null==A?void 0:A.id});return(0,a.jsx)(X,{colorScheme:n,size:t,emoji:i,readOnly:f,label:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(x.x6,{id:"mRnNF/",values:{usersLabel:d,emoji:i},components:{0:(0,a.jsx)(r.E,{as:"span",color:"gray.300"})}})}),count:null==o?void 0:o.length,hasSelfReacted:s,handleReactionClick:I},i)})})]})},en=b.memo(e=>{let{docId:t,reactions:n,cardId:i,commentId:r,size:l,parentCommentId:o,placement:s="right",usePortal:d=!0,userCanComment:c,...u}=e;return(0,a.jsx)(et,{size:l,cardId:i,usePortal:d,placement:s,reactions:n,parentCommentId:o,docId:t,commentId:r,targetType:y.yKx.Comment,readOnly:!c,...u})});var ea=n(72926),ei=n(90394),er=n(29810),el=n(78140),eo=n(36999),es=n(41283),ed=n(85595),ec=n(6760),eu=n(21157),ep=n.n(eu),eh=n(23201);let eg=()=>({[y.EB6.Open]:{label:f.Ru._({id:"9ggh96"}),icon:g.SGM,successMessage:f.Ru._({id:"1INZuT"})},[y.EB6.Closed]:{label:f.Ru._({id:"pL38RI"}),icon:g.RVf,successMessage:f.Ru._({id:"gieGvY"})}}),em=e=>{let{status:t,handleCommentStatusUpdate:n}=e;return(0,a.jsx)(O.Tz,{label:eg()[t].label,"aria-label":eg()[t].label,children:(0,a.jsx)(z.K,{variant:"ghost",size:"sm",borderRadius:"full",isDisabled:!1,"aria-label":eg()[t].label,icon:(0,a.jsx)(m.g,{icon:eg()[t].icon}),onClick:()=>n(t)})})},ex=e=>{let{comment:t,selfUser:n,isInPanel:l,isSourceContentAvailable:u,showCopyCommentLink:b,showLinkToTargetContent:v,hasCommentBeenUpdated:w,onTargetClick:C,commentUrl:A,isReply:j,userCanComment:k,handleCommentStatusUpdate:S,toastPosition:I,isEditing:E,handleEditCommentClick:R,handleDeleteCommentClick:L}=e,{user:D,createdTime:M,updatedTime:_,status:T=y.EB6.Open}=t,{email:N,displayName:P,profileImageUrl:F}=D,H=(null==n?void 0:n.id)===(null==D?void 0:D.id),{onCopy:B}=(0,ei.i)(A),V=(0,o.dU)("red.500","red.300"),W=(0,i.d)();return(0,a.jsxs)(p.z,{spacing:2,align:"top",mb:3,_before:l?{content:"''",position:"absolute",w:"9px",h:"9px",mt:"15px",insetStart:j?"12px":"36px",bg:"gray.50",borderRadius:"full"}:{},children:[(0,a.jsx)(O.Tz,{label:N,"aria-label":N,children:(0,a.jsx)(h.e,{mt:1,size:"sm",name:P,src:F,ignoreFallback:!0})}),(0,a.jsxs)(d.B,{align:"center",alignItems:"flex-start",spacing:0,mb:1,children:[(0,a.jsxs)(r.E,{fontWeight:"600",mb:0,fontSize:"sm",children:[P," ",H?(0,a.jsx)(x.x6,{id:"dDUgzP"}):null]}),(0,a.jsx)(s.s,{direction:"row",w:"100%",alignItems:"flex-start",children:(0,a.jsx)(c.a,{flex:"1",children:(0,a.jsx)(O.Tz,{isDisabled:!w,label:"Updated ".concat((0,eh.OG)(_)),placement:"top",children:(0,a.jsxs)(p.z,{children:[(0,a.jsx)(r.E,{my:"0 !important",className:"comment-date",fontSize:"xs",color:"gray.500",children:ep()((0,eh.OG)(M))}),w&&(0,a.jsx)(c.a,{color:"gray.500",children:(0,a.jsx)(m.g,{size:"xs",icon:g.ml2})})]})})})})]}),(0,a.jsx)(er.h,{}),(0,a.jsxs)(p.z,{spacing:1,children:[v&&(0,a.jsx)(O.Tz,{label:u?(0,a.jsx)(x.x6,{id:"LmLruJ"}):(0,a.jsx)(x.x6,{id:"/oHV5h"}),shouldWrapChildren:!0,children:(0,a.jsx)(z.K,{size:"sm",borderRadius:"full",variant:"ghost",isDisabled:!u,"aria-label":u?f.Ru._({id:"LmLruJ"}):f.Ru._({id:"/oHV5h"}),onClick:C,icon:(0,a.jsx)(m.g,{icon:g.vh1})})}),!j&&k&&(0,a.jsx)(em,{status:T,handleCommentStatusUpdate:()=>S(t.status)}),(0,a.jsxs)(el.W,{isLazy:!0,children:[(0,a.jsx)(eo.I,{as:z.K,size:"sm",variant:"ghost",borderRadius:"full","data-testid":"comment-header-menu",icon:(0,a.jsx)(m.g,{fixedWidth:!0,icon:g.vHW}),children:(0,a.jsx)(x.x6,{id:"7L01XJ"})}),(0,a.jsx)(U.Z,{children:(0,a.jsxs)(es.c,{zIndex:"modal","data-testid":"comment-header-menulist",children:[b&&(0,a.jsx)(ed.D,{icon:(0,a.jsx)(m.g,{icon:g.CQO}),onClick:()=>{B(),W({title:f.Ru._({id:"h5GS+N"}),status:"success",duration:3e3,position:I})},children:(0,a.jsx)(x.x6,{id:"qhJCCi"})}),k&&!E&&H&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ec.N,{}),(0,a.jsx)(ed.D,{icon:(0,a.jsx)(m.g,{icon:g.MT7}),onClick:R,children:(0,a.jsx)(x.x6,{id:"ePK91l"})}),(0,a.jsx)(ed.D,{icon:(0,a.jsx)(m.g,{icon:g.yLS}),color:V,onClick:()=>{L()},"data-testid":"delete-thread",children:j?(0,a.jsx)(x.x6,{id:"FjzXBu"}):(0,a.jsx)(x.x6,{id:"xOviNB"})})]})]})})]})]})]})};var ef=n(89584);let eb=(0,b.memo)(e=>{let{comment:t,editor:n,selfUser:z,docId:P,commentIdToHighlight:O,userCanComment:F,instanceType:H,editorMode:B,isRootComment:V=!1,onClose:W,closePopup:U,...G}=e,K="feed"===H,Q="drawer"===H,Z=(0,M.Xb)()?"bottom":"top",{content:q,targetHtml:J,targetId:$,createdTime:Y,updatedTime:X,id:ee,replies:et,reactions:ei}=t,er=(0,v.wA)(),{initialDraftReply:el,updateLocalDraftReply:eo,hasLocalDraftReply:es}=(0,ea.p_)(ee),ed=(0,b.useRef)(new D.c),ec=O===ee,eu=(0,_.yO)({docId:P,id:ee}),ep=(0,b.useRef)(null),[eh,em]=(0,b.useState)(!1),[ev,ey]=(0,b.useState)(V);(0,b.useEffect)(()=>{es&&!ev&&ey(!0)},[es,ev]);let[ew]=(0,y.eRM)(),[eC]=(0,y.DNM)(),[eA]=(0,y.roT)(),[ej]=(0,y.Ekg)(),ek=(0,i.d)(),eS=(0,w.O2)("editor"),eI=(0,b.useCallback)(()=>{em(!0)},[]),eE=(0,b.useCallback)(()=>{eo(null)},[eo]),eR=[.25,.1,.25,1];(0,b.useLayoutEffect)(()=>{ec&&ep.current&&eS.scrollElementIntoView({element:ep.current})},[eS,ec]);let eL=e=>{let t=e===y.EB6.Open?y.EB6.Closed:y.EB6.Open,n={id:ee,docId:P,status:t};eA({variables:{input:n},update:(e,t)=>{let{data:n}=t,a={id:"Doc:".concat(P),fragment:L.Mi,fragmentName:"DocCommentsUpdate",data:{comments:[null==n?void 0:n.updateCommentStatus]}};e.writeFragment(a)},optimisticResponse:{updateCommentStatus:{...n,__typename:"Comment",updatedTime:new Date().toISOString()}}}).then(()=>{ek({title:(0,a.jsxs)(r.E,{children:[eg()[e].successMessage,"."," ",(0,a.jsx)(l.N,{textDecoration:"underline",onClick:()=>eL(t),children:f.Ru._({id:"9uI/rE"})})]}),status:"success",duration:5e3,isClosable:!1,position:Z})}).catch(e=>{console.error("[CommentComponent]: Error changing comment status",e),ek({title:f.Ru._({id:"+Q5eww",values:{0:e.message}}),status:"error",isClosable:!0,position:Z})}).finally(()=>{"popup"===H&&U&&U(!0)})},eD=(0,o.dU)("yellow.100","yellow.800"),eM=N.q.getState(n.state),e_=(0,b.useMemo)(()=>null==eM?void 0:eM.annotations.find(e=>e.id===$),[null==eM?void 0:eM.annotations,$]),{pos:eT}=e_||{},eN=!!(null==e_?void 0:e_.pos),ez="notification"!==H&&t.id!==j.se,eP=("notification"===H||"feed"===H)&&eT!==j.S5,eO=(0,b.useCallback)(e=>{var t;if(!(!$||!e_||!eT||(null==e||null==(t=e.target)?void 0:t.closest('[data-target-name="comment-target-expand-button"]')))){if("notification"===H)A.LF.emit(A.DN.OPEN_POPUP_COMMENT,{commentId:ee,highlightComment:!0});else if("feed"===H){let e=S.M2,t=(0,R.jB)(n,eT);if(B===T.w.DOC_VIEW)(0,k.Ib)({pos:eT,editor:n});else if(B===T.w.SLIDE_VIEW){let[t]=(0,R.TK)(n.state.doc.resolve(eT),I.jg);n.commands.spotlightCardById(t.node.attrs.id),er((0,E.mF)({attached:!1})),e=S.y0}(0,M.Xb)()&&W&&setTimeout(W,300),eS.scrollElementIntoView({element:t,delay:e})}}},[n,eS,$,H,ee,e_,eT,B,er,W]),eF=(0,b.useMemo)(()=>new Date(X).getTime()-new Date(Y).getTime()>100,[X,Y]),eH=!!t.commentId,eB=!!et&&et.length>0;return(0,a.jsxs)(s.s,{flexDir:"column",ref:ep,id:"comment-".concat(ee),className:"comment highlight-mask","data-target-id":"comment-".concat(ee),borderRadius:ec?"md":"0px",position:"relative",borderBottomWidth:V?"1px":"0px",borderBottomColor:"gray.200",_after:K&&eB?{content:"''",position:"absolute",w:"9px",h:"9px",insetStart:"36px",bottom:9,bg:"gray.50",borderRadius:"full",transitionProperty:"common",transitionDuration:"normal"}:{},_before:eB&&K?{content:"''",position:"absolute",w:"3px",top:7,bottom:9,insetStart:"39px",bg:"gray.50",borderRadius:"full"}:{},...G,overflowY:"hidden",children:[(0,a.jsxs)(d.B,{backgroundColor:ec?eD:"auto",transitionProperty:"border, background",transitionDuration:"normal",transitionTimingFunction:"ease",role:"group",spacing:8,children:[(0,a.jsxs)(c.a,{ps:eH&&K?10:0,children:[(0,a.jsx)(ex,{isInPanel:K,comment:t,selfUser:z,isSourceContentAvailable:eN,showCopyCommentLink:ez,showLinkToTargetContent:eP,hasCommentBeenUpdated:eF,onTargetClick:eO,commentUrl:eu,isReply:eH,userCanComment:F,handleCommentStatusUpdate:eL,toastPosition:Z,isEditing:eh,handleEditCommentClick:eI,handleDeleteCommentClick:()=>{let e=!!t.commentId;ej({variables:{id:ee},update:(n,a)=>{let{data:i}=a;n.writeFragment({id:"Doc:".concat(P),fragment:L.Mi,fragmentName:e?"DocRepliesRemove":"DocCommentsRemove",data:{comments:[e?{id:t.commentId,replies:[null==i?void 0:i.archiveComment],__typename:"Comment"}:null==i?void 0:i.archiveComment]}})},optimisticResponse:{archiveComment:{id:ee,__typename:"Comment",archived:!0}}}),!e&&t.targetId&&n.commands.deleteAnnotation(t.targetId),"popup"===H&&U&&U(!0),ek({title:f.Ru._({id:"Ho/Jvc"}),status:"success",duration:5e3,isClosable:!1,position:Z})}}),(0,a.jsxs)(c.a,{ps:eB&&K?10:0,overflowY:"hidden",children:[J&&J.length&&(0,a.jsx)(ef.s,{targetHtml:J,onTargetClick:eO,isSourceContentAvailable:eN,instanceType:H}),(0,a.jsx)(C.B,{initialContent:q,editable:eh,onCancelEditingClick:()=>em(!1),saveButtonText:(0,a.jsx)(x.x6,{id:"yY7Bil"}),saveButtonIcon:(0,a.jsx)(m.g,{icon:g.e68}),onCommentSave:e=>{let n=!!t.commentId,a={id:ee,docId:P,content:e};eC({variables:{input:a},update:(e,a)=>{let{data:i}=a,r={id:"Doc:".concat(P),fragment:L.Mi,fragmentName:n?"DocRepliesUpdate":"DocCommentsUpdate",data:{comments:[n?{id:t.commentId,replies:[null==i?void 0:i.updateComment],__typename:"Comment"}:null==i?void 0:i.updateComment]}};e.writeFragment(r)},optimisticResponse:{updateComment:{...a,__typename:"Comment",updatedTime:new Date().toISOString()}}}),ek({title:f.Ru._({id:"kibWwZ"}),status:"success",duration:5e3,isClosable:!1,position:Z}),em(!1)}}),!eh&&(0,a.jsx)(en,{mt:2,docId:P,cardId:t.cardId,commentId:t.id,parentCommentId:t.commentId,reactions:ei,size:"sm",placement:"right",usePortal:!0,userCanComment:F})]})]}),et&&et.length>0&&et.map(e=>(0,a.jsx)(eb,{instanceType:H,userCanComment:F,commentIdToHighlight:O,comment:e,docId:P,selfUser:z,editor:n,editorMode:B,ps:0,p:0,pb:0},null==e?void 0:e.id))]}),F&&(0,a.jsxs)(u.S,{in:ev&&!eh,unmountOnExit:!0,transition:{enter:{when:"afterChildren",height:{duration:.3,ease:eR},opacity:{duration:.4,ease:eR}},exit:{when:"beforeChildren",height:{duration:.2,ease:eR},opacity:{duration:.3,ease:eR}}},children:[Q&&(0,a.jsxs)(p.z,{align:"center",mb:3,pt:6,children:[(0,a.jsx)(h.e,{mt:1,size:"sm",name:null==z?void 0:z.displayName,src:null==z?void 0:z.profileImageUrl,ignoreFallback:!0}),(0,a.jsx)(d.B,{align:"center",alignItems:"flex-start",spacing:0,mb:1,children:(0,a.jsx)(r.E,{fontWeight:"600",mb:0,fontSize:"sm",children:(0,a.jsx)(x.x6,{id:"866PMb",values:{0:null==z?void 0:z.displayName}})})})]}),(0,a.jsx)(C.B,{ps:K&&eB?8:0,pt:6*!Q,initialContent:(null==el?void 0:el.json)||"",clearContentOnSave:!0,editable:!0,saveButtonText:(0,a.jsx)(x.x6,{id:"ImOQa9"}),saveButtonIcon:(0,a.jsx)(m.g,{icon:g.Eze}),placeholder:f.Ru._({id:"ImOQa9"}),onCommentSave:e=>{let n={targetId:t.targetId,commentId:ee,docId:P,content:e,cardId:t.cardId};ew({variables:{input:n},update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(P),fragment:L.Mi,fragmentName:"DocRepliesCreate",data:{comments:[{id:ee,replies:[null==n?void 0:n.createComment],__typename:"Comment"}]}})},optimisticResponse:{createComment:{id:j.se,__typename:"Comment",...n,user:z,archived:!1,reactions:[],createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}),ey(!1),eo(null),er((0,E.zq)({id:ee})),ek({title:f.Ru._({id:"yPok8v"}),status:"success",duration:5e3,isClosable:!1,position:Z})},onCancelEditingClick:eE,onUpdate:e=>{let{editor:t}=e;eo({commentId:ee,json:t.view.state.doc.toJSON(),text:t.view.state.doc.textContent})},onCreate:e=>{ed.current.resolve(e)},alwaysShowButtons:Q,shouldFocus:"popup"===H&&!(0,M.Xb)()})]})]})})},42926:(e,t,n)=>{"use strict";n.d(t,{i:()=>Z,u:()=>q});var a=n(6029),i=n(68917),r=n(89122),l=n(40162),o=n(49611),s=n(78140),d=n(36999),c=n(12514),u=n(41283),p=n(26420),h=n(83550),g=n(40452),m=n(48810),x=n(72470),f=n(77979),b=n(85595),v=n(58959),y=n(29810),w=n(51684),C=n(55597),A=n(48621),j=n(91106),k=n(19564),S=n(77650),I=n(55729),E=n(57963),R=n(64961),L=n(87790),D=n(82328),M=n(90184),_=n(26814),T=n(68301),N=n(22249),z=n(15342),P=n(95889),O=n(99552),F=n(17928),H=n(26053),B=n(2095),V=n(52842),W=n(40094),U=n(99492),G=n(13777);let K=(0,I.memo)(e=>{let{editor:t,getPos:n,onClose:i}=e,{toggleCardLayoutVariantsPanel:r,isCardLayoutVariantsPanelOpen:l}=(0,G.Y)(),s=(0,I.useCallback)(()=>{l&&r({override:"closed"});let e=t.state.doc.nodeAt(n());e&&(t.commands.selectNodeAtPos(n()),r({override:"open",isResizable:!1,props:{cardId:e.attrs.id,selectedCardRange:{from:n(),to:n()+e.nodeSize},editor:t}}),i())},[t,n,i,r,l]);return(0,a.jsx)(o.$,{variant:"plain",size:"xs",onClick:s,children:(0,a.jsxs)(g.s,{align:"center",gap:1,children:[(0,a.jsx)(A.g,{icon:U.p7g,fixedWidth:!0}),(0,a.jsx)(k.x6,{id:"3MMiDG"}),(0,a.jsx)(M.G,{type:"editCard",colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"xs",ps:0,ms:1})]})})});K.displayName="TryNewLayoutButton";var Q=n(89481);let Z=e=>{let{attrs:t,editor:n,getPos:p}=e,h=t.id,g=!!(0,z.GV)(O.Gd),{isTranslateCardOpen:m,onTranslateCardOpen:x,onTranslateCardClose:f,startTranslation:b}=(0,Q.XO)({cardId:h}),v=(0,z.GV)((0,N.iZ)("chat")),y=(0,T.u)("buddyEdit"),{color:E,bg:M,hoverColor:F,hoverBg:W,borderColor:U}=(0,H.Nb)(),G=(0,I.useRef)(null),{status:K,editCard:Z}=(0,Q.S6)({editor:n,getPos:p,cardId:t.id}),J="loading"===K,$=(0,_.tO)(void 0,"editCard",P.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_CARD),Y=(0,I.useCallback)(e=>{var t;if($()){if((null==(t=e.operation)?void 0:t.key)==="edit.translate")return void x();Z(e)}},[$,Z,x]),X=(0,z.jL)(),ee=(0,z.GV)((0,B.C_)(t.id,"editWithAI")),et=(0,I.useCallback)(()=>{X((0,B.md)())},[X]),en=(0,I.useCallback)(()=>{X((0,B.CM)({cardId:t.id,menuType:"editWithAI"}))},[X,null==t?void 0:t.id]);(0,r.j)({ref:G,handler:e=>{if(!ee)return;let n=e.target;(null==n?void 0:n.closest('[data-card-ai-edit-menu-trigger="'.concat(t.id,'"]')))||et()}});let ea=(0,I.useRef)(null),ei=(0,T.u)("editCard2"),{isInOfflineMode:er}=(0,D.u)();if(!ei)return null;let el=y?null:(0,a.jsx)(l.B,{px:5,py:3,bg:"gray.50",mx:-2,mb:-2,justify:"center",alignItems:"center",borderBottomRadius:"xl",children:(0,a.jsx)(l.Q,{children:(0,a.jsx)(o.$,{onClick:()=>{n.commands.selectInsideCardBody(p()),v||R.R.emit("toggle",{}),et()},variant:"link",size:"sm",colorScheme:"gray",my:0,leftIcon:(0,a.jsx)(A.g,{icon:w.Y$q}),children:(0,a.jsx)(k.x6,{id:"mw/rmM"})})})});return(0,a.jsxs)(j.L8,{isDark:!1,children:[(0,a.jsxs)(s.W,{isLazy:!0,onClose:et,onOpen:en,isOpen:ee,closeOnBlur:!1,initialFocusRef:ea,children:[(0,a.jsx)(j.Tz,{label:(0,a.jsx)(k.x6,{id:"EVnzPs"}),placement:"top",shouldWrapChildren:!0,children:(0,a.jsxs)(d.I,{as:o.$,isActive:ee,isDisabled:er,"data-guider-highlight":"edit-with-ai-button","data-card-ai-edit-menu-trigger":t.id,height:V.PN,fontWeight:"900",alignItems:"center",fontFamily:"body",display:"flex",backdropFilter:"blur(8px)",borderRadius:"sm",borderColor:U,color:E,boxShadow:"sm",cursor:"pointer",fontSize:"14px",bg:M,px:.5,_hover:{color:F,background:W},isLoading:J,pointerEvents:"auto",children:[(0,a.jsx)(A.g,{icon:C.p7g,fixedWidth:!0}),(0,a.jsx)(i.D,{})]})}),(0,a.jsx)(c.Z,{children:(0,a.jsxs)(u.c,{"data-card-ai-menu":!0,minWidth:"320px",width:"fit-content",maxWidth:"min(360px, 80vw)",fontFamily:"body",fontSize:"md",border:"none","data-card-ai-edit-menu-trigger":t.id,maxH:"60vh",display:"flex",flexDirection:"column",children:[(0,a.jsx)(q,{editCardIfAllowed:Y,onClose:et,firstItemRef:G,inputRef:ea,isDisabled:J,pb:"10%",getPos:p,editor:n,title:S.Ru._({id:"sdosNK"}),buddyEditEnabled:y,cardId:h}),el]})})]}),m&&(0,a.jsx)(L.Q,{isSite:g,isFullDoc:!1,onClose:f,startTranslation:b})]})},q=(0,I.memo)(e=>{let{editCardIfAllowed:t,onClose:n,firstItemRef:i,inputRef:r,isDisabled:l,groups:o=["writing","layout"],showCreditCosts:s=!0,opacityFadeUpsell:d=!1,getPos:c,editor:u,title:w,buddyEditEnabled:j,cardId:k,...I}=e,R="-webkit-gradient(linear, left top, left bottom, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)))";return(0,a.jsxs)(p.a,{px:.5,pt:.5,flex:1,overflowY:"auto",style:d?{WebkitMaskImage:R,maskImage:R}:o.length>1?{maskImage:"linear-gradient(to bottom, transparent, black 0%, black 90%, transparent)"}:void 0,...I,children:[(0,a.jsx)(h.r,{children:(0,a.jsxs)(g.s,{justify:"space-between",align:"center",mb:2,children:[(0,a.jsx)(m.E,{fontSize:"sm",children:w}),c&&(0,a.jsx)(K,{editor:u,getPos:c,onClose:n})]})}),(0,a.jsx)(h.r,{children:(0,a.jsxs)(x.M,{size:"sm",mb:2,children:[(0,a.jsx)(f.W,{fontSize:"sm",color:"deepocean.300",children:(0,a.jsx)(A.g,{icon:C.p7g})}),(0,a.jsx)(E._,{initialHeight:"32px",ref:r,paddingInlineStart:9,py:1.5,borderRadius:"xl",maxLength:300,isDisabled:l,onKeyDown:e=>{var a,o;if(!l){if("Enter"===e.key&&!e.shiftKey){e.preventDefault(),e.stopPropagation();let a=null==(o=r.current)?void 0:o.value;if(!a)return;j?F.LF.emit("queueBuddyEditMessage",{message:a,context:{initiatingCardId:k}}):t({instructions:a}),n()}"ArrowDown"===e.key&&(null==(a=r.current)?void 0:a.value.length)===0&&(e.preventDefault(),e.stopPropagation(),i.current&&i.current.focus())}},placeholder:S.Ru._({id:"vKZEFh"})})]})}),W.H0.map((e,r)=>{let l=W.Kn[e.key];return l&&0!==l.length&&o.includes(e.key)?(0,a.jsx)(h.r,{title:e.label(),children:l.map((e,l)=>e.checkEnabled&&!e.checkEnabled()?null:(0,a.jsx)(b.D,{icon:(0,a.jsx)(A.g,{icon:e.icon,fixedWidth:!0}),onClick:()=>{t({operation:e}),n()},ref:0===l&&0===r?i:null,children:(0,a.jsxs)(v.z,{children:[(0,a.jsx)(m.E,{children:e.label()}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.h,{}),(0,a.jsx)(M.G,{type:"editCard",colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"sm"})]})]})},e.key))},e.key):null})]})});q.displayName="EditCardAIMenuGroups"},42938:(e,t,n)=>{"use strict";n.d(t,{M:()=>d});var a=n(6029),i=n(58959),r=n(16936),l=n(26420),o=n(99492),s=n(48621);let d=e=>{let{promptPageInfo:t,nextPrompt:n,prevPrompt:d,isDisabled:c,...u}=e;return(0,a.jsxs)(i.z,{spacing:1,...u,children:[(0,a.jsx)(r.K,{variant:"ghost",icon:(0,a.jsx)(s.g,{icon:o.Wzs}),isDisabled:c||!t.canGoPrev,onClick:()=>d(),"aria-label":"left",color:"gray.700",size:"xs"}),(0,a.jsxs)(l.a,{as:"span",color:"gray.700",fontSize:"sm",children:[t.curr," / ",t.total]}),(0,a.jsx)(r.K,{variant:"ghost",icon:(0,a.jsx)(s.g,{icon:o.XkK}),color:"gray.700",isDisabled:c||!t.canGoNext,onClick:()=>n(),"aria-label":"left",size:"xs"})]})}},43028:(e,t,n)=>{"use strict";n.d(t,{Q4:()=>m,A_:()=>p,EX:()=>h});var a=n(22905),i=n(63867),r=n(23513);function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t>0,{parent:a,doc:i}=e,o=e.start(),s=e.after();if(a.type.spec.isolating){let e=i.resolve(n?s-1:o),t=(0,r.n)(e,n?1:-1);if(n){let e=i.resolve(t.to).node();if(e&&e.isTextblock&&0===e.content.size)return t.to+1}return n?t.to:t.from}let d=e.start(e.depth-1);return l(e.doc.resolve(d),t)}n(33201);var o=n(61385),s=n(38934),d=n(72055);let c=e=>{let t=l(e,-1);return e.pos===t?o.$x:t},u=(e,t)=>{let n=l(t,1);return t.pos===n?e.state.doc.content.size-o.$x:n},p=a.YY.create({name:"KeyMapOverride",priority:s.y.KeyMapOverride,addOptions:()=>({addSelectionKeyMaps:!1}),addKeyboardShortcuts(){let e=()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.handleCardAccentDelete(),()=>{var e;return null==(e=t.handleSmartLayoutDelete)?void 0:e.call(t,!0,!1)},()=>t.deleteSelectionAndSelectNear(-1),()=>t.deleteSelection(),e=>{let{view:t,state:n,dispatch:a}=e;return(0,d.o6)(n,a,t)},()=>t.unwrapQuoteOnDelete(),e=>{let{view:n,state:a,tr:i}=e,r=t.joinBackward();return r&&i.setMeta("annotationEvent",{type:"join-backward",joinPos:a.selection.from,atBeginning:n.endOfTextblock("backward")}),r},()=>t.selectNodeBackward(),()=>t.handleLayoutDelete(!1),()=>t.handleButtonDelete(!0),()=>t.deleteCardIfEmpty(!1)]}),t=()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.handleCardAccentDelete(),()=>{var e;return null==(e=t.handleSmartLayoutDelete)?void 0:e.call(t,!0,!0)},()=>t.deleteSelectionAndSelectNear(),()=>t.deleteSelection(),e=>{let{view:n,state:a,tr:i}=e,r=t.joinForward();return r&&i.setMeta("annotationEvent",{type:"join-forward",joinPos:a.selection.from,atEnd:n.endOfTextblock("forward")}),r},()=>t.selectNodeForward(),()=>t.handleLayoutDelete(!0),()=>t.handleButtonDelete(!0),()=>t.deleteCardIfEmpty(!0)]}),n={};return this.options.addSelectionKeyMaps&&(n={"Mod-a":e=>{let{editor:t}=e,{selection:n}=t.state;if(n instanceof i.nh&&n.node.type.spec.isolating)return t.commands.selectAll();let a=l(t.state.selection.$from,-1),r=l(t.state.selection.$to,1);return n.from===a&&n.to===r?t.commands.selectAll():(t.commands.command(e=>{let{tr:t}=e;return t.setSelection(i.U3.create(t.doc,a,r)),!0}),!0)},"Mod-ArrowUp":e=>{let{editor:t}=e,n=c(t.state.selection.$from);if(!n)return!1;let a=t.state.doc.resolve(n),i=(0,r.n)(a);return!!i&&t.chain().command(e=>{let{tr:t}=e;return t.setSelection(i),!0}).scrollIntoView().run()},"Mod-Shift-ArrowUp":e=>{let{editor:t}=e,n=c(t.state.selection.$from);return!!n&&t.chain().setTextSelection({from:n,to:t.state.selection.to}).scrollIntoView().run()},"Mod-ArrowDown":e=>{let{editor:t}=e,n=u(t,t.state.selection.$to),a=t.state.doc.resolve(n),i=(0,r.n)(a);return!!i&&t.chain().command(e=>{let{tr:t}=e;return t.setSelection(i),!0}).scrollIntoView().run()},"Mod-Shift-ArrowDown":e=>{let{editor:t}=e,n=u(t,t.state.selection.$to);return t.chain().setTextSelection({from:t.state.selection.from,to:n}).scrollIntoView().run()},"Shift-Mod-a":e=>{let{editor:t}=e;return t.commands.selectAll()}}),{...n,Enter:()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),e=>{let{view:n,state:a,tr:i}=e;return i.setMeta("annotationEvent",{type:"split-block",splitPos:a.selection.from,atBeginning:n.endOfTextblock("backward")}),t.splitBlock()}]}),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,Space:()=>this.editor.commands.first(e=>{let{commands:t}=e;return[()=>t.handleSpaceToZoom()]})}}}),h=a.YY.create({name:"UndoInputRuleKeymap",priority:s.y.UndoInputRuleKeymap,addKeyboardShortcuts:()=>({"Shift-Mod-a":e=>{let{editor:t}=e;return t.commands.selectAll()},"Mod-z":e=>{let{editor:t}=e;return t.commands.undoInputRule()},Backspace:e=>{let{editor:t}=e;return t.commands.undoInputRule()},"Mod-Backspace":e=>{let{editor:t}=e;return t.commands.undoInputRule()}})});var g=n(3247);let m=a.YY.create({name:"KeyBoardCatchall",priority:s.y.KeyBoardCatchall,addKeyboardShortcuts:()=>({Tab:e=>{let{editor:t}=e;return t.view.hasFocus()},"Shift-Tab":e=>{let{editor:t}=e;return t.view.hasFocus()}}),addProseMirrorPlugins:()=>[new i.k_({key:new i.hs("KeyBoardCatchall"),props:{handleKeyDown:(e,t)=>g.WC.handleKeydown(t)}})]})},43090:(e,t,n)=>{"use strict";n.d(t,{j:()=>O});var a=n(6029),i=n(58959),r=n(26420),l=n(26385),o=n(40452),s=n(78140),d=n(36999),c=n(49611),u=n(41283),p=n(37930),h=n(48478),g=n(61204),m=n(16936),x=n(99492),f=n(48621),b=n(91106),v=n(19564),y=n(77650),w=n(22348),C=n.n(w),A=n(55729),j=n(33612),k=n.n(j),S=n(11403),I=n(80074),E=n(33750),R=n.n(E);let L={soft:{name:"Soft",spin:[0,-40,40],lighten:[0,0,0]},duo:{name:"Duo",spin:[0,180],lighten:[0,0]},crescent:{name:"Crescent",spin:[0,-45,45,-90,90],lighten:[0,0,0,0,0]},wisp:{name:"Wisp",spin:[0,72,216],lighten:[0,0,0]},mono:{name:"Mono",spin:[0,0,0],lighten:[0,20,40]},cosmos:{name:"Cosmos",spin:[0,72,144,216,288],lighten:[0,0,0,0,0]}},D=e=>{let t="",n=[];e.forEach((e,t)=>{let a=e.setAlpha(1),i=a.toHsl().h*t,r="radial-gradient(circle at ".concat(2*i%360/360*50,"% ").concat(3*i%360/360*50,"%, ").concat(a.setAlpha(.5).toHex8String()," 0, ").concat(a.setAlpha(0).toHex8String()," ").concat(i%360/360*50+50,"%)");n.push(r)});let a=e[0].setAlpha(.5).toHex8String();return n.push("linear-gradient(0deg, ".concat(a," 0%, ").concat(a," 100%)")),{backgroundImage:n.join(",")}},M=(e,t)=>{let n=L[e],a=[];return n.spin.forEach(e=>{let n=k()(t.toHsv()).spin(e);a.push(n)}),n.lighten.forEach((e,t)=>{a[t].lighten(e)}),a},_=(e,t)=>{let n=M(e,t),a=D(n);return{colors:n,gradient:a}},T=(e,t,n)=>{t.forEach(e=>{e&&(e.style.opacity="0")}),e.forEach((e,a)=>{let i=t[a];if(!i||!n)return;let r=function(e,t){let n=e.offsetWidth,a=k()(t),i=Math.PI/180*a.toHsl().h,r=-(a.toHsl().l*n)+n;return{x:n/2-r*Math.cos(i),y:n/2-r*Math.sin(i)}}(n,e);i.style.transform="translate(calc(".concat(r.x,"px - 50%),calc(").concat(r.y,"px - 50%))"),i.style.backgroundColor=e.toHexString(),i.style.opacity="1"})},N=(0,A.forwardRef)(function(e,t){let{isPrimary:n=!1,noTransition:i=!1}=e;return(0,a.jsx)(r.a,{ref:t,borderRadius:"full",boxSize:n?7:5,pos:"absolute",zIndex:n?2:1,shadow:"base",border:"2px solid white",pointerEvents:"none",transitionProperty:i?"none":"transform",transitionDuration:"normal"})}),z=(0,A.memo)(e=>{let{updateColor:t,colors:n}=e,i=(0,A.useRef)(null),l=(0,A.useRef)(null),s=(0,A.useRef)(null),d=(0,A.useRef)(null),c=(0,A.useRef)(null),u=(0,A.useRef)(null),p=(0,A.useMemo)(()=>[l,s,d,c,u],[]);(0,A.useEffect)(()=>{T(n,p.map(e=>e.current),i.current)},[n,p]);let h=(0,A.useCallback)(e=>{if(!i.current)return;let n=i.current.getBoundingClientRect();(e.clientX||e.clientY)&&t(function(e,t,n){let a=e.current.offsetWidth,i=e.current.offsetHeight,r=a/2,l=i/2,o=function(e,t,n,a,i){let r=n-e,l=a-t,o=Math.sqrt(l*l+r*r);return R()(o,0,i)}(t,n,r,l,a/2),s=180/Math.PI*Math.atan2(l-n,r-t),d=s+360*Math.ceil(-s/360)+1,c=Math.abs(-o/a+1);return k().fromRatio({h:d,s:1,l:c})}(i,e.clientX-n.left,e.clientY-n.top))},[t]),g=(0,A.useCallback)(()=>{document.removeEventListener("mousemove",h)},[h]),m=(0,A.useCallback)(e=>{document.addEventListener("mousemove",h),document.addEventListener("mouseup",g,{once:!0}),h(e)},[h,g]);return(0,a.jsxs)(r.a,{onMouseDown:m,p:4,m:-4,position:"relative",children:[(0,a.jsx)(N,{ref:l,noTransition:!0,isPrimary:!0}),(0,a.jsx)(N,{ref:s}),(0,a.jsx)(N,{ref:d}),(0,a.jsx)(N,{ref:c}),(0,a.jsx)(N,{ref:u}),(0,a.jsx)(I.g,{ratio:1,children:(0,a.jsxs)(o.s,{ref:i,position:"relative",borderRadius:"full",shadow:"lg",children:[(0,a.jsx)(o.s,{pos:"absolute",borderRadius:"full",bg:"radial-gradient(circle closest-side, rgb(255, 255, 255), transparent)",inset:0,zIndex:1}),(0,a.jsx)(o.s,{pos:"absolute",inset:0,bg:"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",transform:"rotateZ(270deg)",borderRadius:"full"})]})})]})}),P={vibe:"mono",primaryColor:"#75d8ff",css:{}},O=e=>{let{value:t,updateValue:n,isDark:w}=e,{vibe:j,primaryColor:I}={...P,...t},[E,R]=(0,A.useState)(k()(I)),{colors:D,gradient:M}=(0,A.useMemo)(()=>_(j,E),[j,E]),T=(0,A.useCallback)(e=>{let{gradient:t}=_(j,e);n({vibe:j,primaryColor:e.toHexString(),css:t})},[j,n]),N=(0,S.wb)(T,100),O=(0,A.useCallback)(e=>{R(e),N(e)},[N]);return(0,a.jsxs)(i.z,{spacing:4,alignItems:"stretch",wrap:"wrap",children:[(0,a.jsx)(r.a,{flex:"1",minW:"120px",children:(0,a.jsx)(z,{vibe:L[j],color:E,updateColor:O,colors:D})}),(0,a.jsxs)(l.B,{flex:"2",spacing:4,minW:"180px",children:[(0,a.jsx)(o.s,{backgroundColor:w?"black":"white",...M,opacity:1,flex:"1",borderRadius:"md",shadow:"md",minH:"80px",mt:2}),(0,a.jsxs)(i.z,{children:[(0,a.jsxs)(s.W,{children:[(0,a.jsx)(d.I,{w:"100%",as:c.$,size:"sm",variant:"plain",textAlign:"start",rightIcon:(0,a.jsx)(f.g,{icon:x.Jt$}),children:L[j].name}),(0,a.jsx)(u.c,{minWidth:"240px",zIndex:"dropdown",children:(0,a.jsx)(p.i,{onChange:e=>{let{gradient:t}=_(e,E);n({vibe:e,primaryColor:E.toHexString(),css:t})},value:j,title:y.Ru._({id:"4lXZ8R"}),type:"radio",children:Object.entries(L).map(e=>{let[t,{name:n}]=e;return(0,a.jsx)(h.k,{value:t,children:n},t)})})})]}),(0,a.jsx)(g.e,{size:"sm",variant:"plain",children:(0,a.jsx)(b.Tz,{placement:"top",label:(0,a.jsx)(v.x6,{id:"OVjfHO"}),children:(0,a.jsx)(m.K,{icon:(0,a.jsx)(f.g,{icon:x.xNJ}),"aria-label":y.Ru._({id:"OVjfHO"}),onClick:()=>{O(k().fromRatio({h:C()(0,360),s:1,l:C()(.5,.8)}))}})})})]})]})]})}},43182:(e,t,n)=>{"use strict";n.d(t,{$b:()=>h,Yv:()=>c,iM:()=>p});var a=n(58495),i=n(94289),r=n(63867),l=n(68301),o=n(67200),s=n(77467),d=n(61385);let c={generate:(0,a.d_)("0123456789abcdefghijklmnopqrstuvwxyz",15)},u=new r.hs("UniqueCardId"),p=e=>{let t=e=>{var n;return null==(n=e.content)?void 0:n.map(e=>{if(!e.content||e.type!==d.Qs)return e;let n={...e,attrs:{...e.attrs,id:c.generate()}};return n.content=t(n),n})};return Object.assign({},e,{content:t(e)})},h=s.S.extend({name:"UniqueCardId"}).configure({attributeName:"id",initialValue:()=>c.generate(),syncWithFilmstrip:()=>l.of.get("transactionalFilmstrip"),filterTransaction:o.kz,pluginKey:u,transformPasted:(e,t,n)=>{let{types:a,initialValue:r,attributeName:l}=t,o={},s=e=>{let t=[];return e.forEach(e=>{if(e.isText)return void t.push(e);if(!a.includes(e.type.name))return void t.push(e.copy(s(e.content)));let n=r(),i=e.type.create({...e.attrs,[l]:n},s(e.content),e.marks);e.type.name===d.Qs&&(o={...o,[e.attrs.id]:n}),t.push(i)}),i.FK.from(t)},c=e=>{let t=[];return e.forEach(e=>{if(e.isText)return void t.push(e);if("cardMention"===e.type.name){let a=o[e.attrs.id];if(a){let i=e.type.create({...e.attrs,...a?{id:a}:{},docId:n});t.push(i)}else t.push(e);return}t.push(e.copy(c(e.content)))}),i.FK.from(t)},u=c(s(e.content));return new i.Ji(u,e.openStart,e.openEnd)}})},43183:(e,t,n)=>{"use strict";n.d(t,{w:()=>v});var a=n(6029),i=n(24302),r=n(40452),l=n(96500),o=n(58959),s=n(48810),d=n(29810),c=n(99430),u=n(19564),p=n(32617),h=n(99038),g=n(39892),m=n(89528),x=n(74003),f=n(72737),b=n(42721);let v=e=>{let{onClose:t,onOpen:n,segmentEvent:v,doc:y,label:w}=e,C=(0,p.u)("upsellUXEnabled_Pro"),A=(0,g.nk)(null==y?void 0:y.organization),{openUpsellModal:j}=(0,x.I)(),k=(0,i.dU)("gray.200","gray.600"),{currentWorkspace:S}=(0,b.ur)();return!1!==A||!C||(0,f.D5)(y,S)?null:(0,a.jsxs)(r.s,{direction:"column",w:"100%",children:[(0,a.jsx)(l.c,{borderColor:k}),(0,a.jsxs)(o.z,{mt:4,mb:2,children:[(0,a.jsxs)(o.z,{children:[(0,a.jsx)(s.E,{children:w||(0,a.jsx)(u.x6,{id:"nkzjqi",values:{GAMMA_PROPER_NOUN:h.On}})}),(0,a.jsx)(m.zL,{product:"plus"})]}),(0,a.jsx)(d.h,{}),(0,a.jsx)(c.d,{onClickCapture:e=>{e.preventDefault(),j({onOpenCallback:t,onCloseCallback:n,segmentEvent:v})},isChecked:!1})]})]})}},43216:(e,t,n)=>{"use strict";n.d(t,{A:()=>m,T:()=>g});var a=n(6029),i=n(26420),r=n(55729),l=n(5061),o=n(15342),s=n(43634),d=n(70703),c=n(50764),u=n(25600),p=n(21699),h=n(216);let g=e=>({top:{top:"0",insetInlineStart:"50%",height:"16px",width:"26px",pt:"1px",icon:"⋯",zIndex:"3",transform:"translateY(-50%) translateX(".concat(e?"50%":"-50%",")"),fontSize:"15px"},left:{top:"50%",insetInlineStart:"0",height:"26px",width:"16px",zIndex:"3",transform:"translateY(-50%) translateX(".concat(e?"50%":"-50%",")"),fontSize:"15px"},outside:{top:0,insetInlineStart:-6},inside:{top:2,insetInlineStart:3},custom:{}}),m=e=>{let{handlePlacement:t,editor:n,getPos:m,decorations:x,isVisible:f,onClick:b,node:v,selected:y,extension:w,updateAttributes:C,deleteNode:A,...j}=e,k=(0,o.GV)(s.nD),S=(0,l.fW)(),I=(0,r.useCallback)(e=>{n.commands.selectNodeAtPos(m()),e.stopPropagation()},[n,m]),E=(0,r.useCallback)(e=>{var t;let a=(null==(t=e.target.closest("[data-node-view-wrapper]"))?void 0:t.querySelector("[data-selection-ring]"))||void 0;(0,d.b)(n,e.nativeEvent,m(),a),e.stopPropagation()},[n,m]);if(!k)return null;let R=(0,c.JL)(x),L=(0,p.Ms)(x),D=(0,u.b0)(x);return(null!=f||(f=R||L),"outside"===t)?(0,a.jsx)(i.a,{position:"absolute",...g(S).outside,bottom:0,width:6,children:(0,a.jsx)(h.u,{isSelected:D,isVisible:f,onClick:b||I,onDragStart:E,top:0,insetInlineStart:0,...j})}):(0,a.jsx)(h.u,{isSelected:D,isVisible:f,onClick:b||I,onDragStart:E,...g(S)[t],...j})}},43266:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(77650),i=n(99767);let r=(()=>{let e=null;return async t=>{let r=t;t||(console.warn("[i18n] Unexpected empty locale"),r=i.jA),e=r;try{let t=await n(76478)("./".concat(r,"/messages"));r===e&&(a.Ru.load(r,t.messages),a.Ru.activate(r))}catch(e){console.error("[i18n] Error loading locale messages:",e.message)}}})()},43787:(e,t,n)=>{"use strict";n.d(t,{e7:()=>a,gj:()=>i}),n(831),n(55729);let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return e.length?1===e.length?e[0]:2===e.length?e.join(" and "):e.length<=t?"".concat([e.slice(0,e.length-1).join(", "),e[e.length-1]].join(", and ")):"".concat([e.slice(0,t).join(", "),"".concat(e.length-t," ").concat(e.length-t>1?"others":"other")].join(", and ")):null},i=e=>{let{users:t,selfUserId:n}=e;return a(t?[...t].sort(e=>(null==e?void 0:e.id)===n?-1:1).map(e=>(null==e?void 0:e.id)===n?"You":(null==e?void 0:e.displayName)||""):[])}},43828:(e,t,n)=>{"use strict";n.d(t,{k:()=>g});var a=n(6029),i=n(40452),r=n(16936),l=n(99492),o=n(48621),s=n(91106),d=n(19564),c=n(77650),u=n(55729),p=n(15342),h=n(43634);let g=e=>{let{editor:t,getPos:n,node:g,direction:m,maxButtons:x,tooltip:f}=e,b=(0,p.GV)(h.Cl),v=!x||g.childCount<x,y=(0,u.useCallback)(()=>{t.commands.addButtonToGroup(n())},[t,n]);return v&&b?(0,a.jsx)(i.s,{position:"relative",align:"center",children:(0,a.jsx)(s.Tz,{label:f||(0,a.jsx)(d.x6,{id:"xe7fzh"}),placement:"top",children:(0,a.jsx)(r.K,{icon:(0,a.jsx)(o.g,{icon:l.QLR}),"aria-label":c.Ru._({id:"6oU9VZ"}),size:"xs",variant:"plain",isRound:!0,onClick:y,opacity:0,className:"add-button",transitionProperty:"opacity",transitionDuration:"normal",position:"absolute",left:"column"===m?"50%":0,top:"50%",transform:"column"===m?"translateX(-50%)":"translateY(-50%)",zIndex:"sticky"})})}):null}},43944:(e,t,n)=>{"use strict";n.d(t,{B8:()=>b,uw:()=>f,Lf:()=>v,aW:()=>y});var a=n(22905),i=n(36811),r=n(47665),l=n(38934),o=n(29452),s=n.n(o),d=n(63867),c=n(97255),u=n(91656);let p=s()(10),h=["blockquote","card","sectionBreak","calloutBox"],g=(e,t)=>"numbered"===e.type.name||(0,u.x)(e)&&e.attrs.indent>t||e.isAtom||h.includes(e.type.name),m=e=>new d.k_({key:new d.hs("ListPlugin"),props:{decorations:e=>{let{doc:t}=e,n=[],a=new Map,i=(e,t)=>{var n;return(null==(n=a.get(e))?void 0:n[t])||1},r=(e,t,n)=>{let i=a.get(e);try{i[t]=n}catch(e){console.error("(caught) [ListPlugin] setCounter error",e)}},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=a.get(e)||{};p.filter(e=>e>=t).forEach(e=>{n[e]=1}),a.set(e,n)},o=0;return t.descendants((e,t,s)=>{if((0,u.x)(e)&&e.firstChild){let a=e.firstChild.marks.find(e=>"textColor"===e.type.name);(null==a?void 0:a.attrs.variant)&&n.push(c.NZ.node(t,t+e.nodeSize,{"data-text-color":a.attrs.variant})),(null==a?void 0:a.attrs.hex)&&n.push(c.NZ.node(t,t+e.nodeSize,{style:"--list-marker-text-color: ".concat(a.attrs.hex)}))}if(!s||(g(e,o)||l(s),"numbered"!==e.type.name))return;a.get(s)||l(s);let d=e.attrs.indent;o=d;let p=i(s,d);r(s,d,p+1),l(s,d+1),n.push(c.NZ.node(t,t+e.nodeSize,{},{listNumber:p}))}),0==n.length?c.zF.empty:c.zF.create(t,n)}}});var x=n(82172);let f=8,b=a.YY.create({name:"list",priority:l.y.List,addProseMirrorPlugins(){return[m(this.editor)]},addCommands:()=>({listToCards:()=>e=>{let{chain:t,state:n}=e,{selection:i,doc:l}=n,{from:o,to:s}=i,d=(0,a.Nx)(l,{from:o,to:s},u.x),c=(0,a.KP)(r.jg)(i);if(!d.length||!c)return!1;let p=c.pos+c.node.nodeSize,h=(0,x.SQ)(d),g=(0,x.pT)(h);return t().insertContentAt(p,g).scrollIntoView().run(),!0},listToSmartLayout:e=>t=>{let{chain:n,state:i}=t,{selection:r,doc:l}=i,{from:o,to:s,$from:d,$to:c}=r,p=d.blockRange(c),h=(0,a.Nx)(l,{from:o,to:s},u.x);if(!h.length||!p)return!1;let g=(0,x.SQ)(h),m=(0,x.tb)(g,e);return n().insertContentAt({from:p.start,to:p.end},m).selectInsertedNode().scrollIntoView().run(),!0},indent:e=>t=>{let{tr:n,dispatch:a,state:i}=t;if(!a)return!0;let r=!1;return n.selection.ranges.forEach(t=>{var a;let l=t.$from.pos,o=t.$to.pos;(l!==o||(null==(a=t.$from.nodeBefore)?void 0:a.type.name)!=="text")&&i.doc.nodesBetween(l,o,(t,a)=>{let{indent:i}=t.attrs;Object.values(u.e).includes(t.type.name)&&i+e>=0&&i+e<=f&&(n.setNodeMarkup(a,void 0,{...t.attrs,indent:i+e}),r=!0)})}),r},setListItems:e=>{let{variant:t}=e;return e=>{let{tr:n,dispatch:a,state:i}=e;return!a||(n.selection.ranges.forEach(e=>{let a=e.$from.pos,r=e.$to.pos;i.doc.nodesBetween(a,r,(e,a)=>{Object.values(u.e).includes(e.type.name)?n.setNodeMarkup(a,i.schema.nodes[t],e.attrs):e.isTextblock&&n.setNodeMarkup(a,i.schema.nodes[t],{...e.attrs,indent:0})})}),!0)}},toggleListItems:e=>{let{variant:t}=e;return e=>{let{commands:n,editor:a}=e;return v(a,t)?n.setNode("paragraph"):n.setListItems({variant:t})}}}),addKeyboardShortcuts:()=>({Enter:e=>{let t,n,{editor:a}=e;for(let e of Object.values(u.e))if(a.isActive(e)){n=a.getAttributes(e),t=e;break}if(void 0===t)return!1;let{from:i,$from:r,empty:l}=a.state.selection;if(!l)return!1;if(0==r.parent.content.size)if(n.indent>0)return a.commands.indent(-1);else return a.commands.setNode("paragraph",n);return 0===r.parentOffset?(n.checked&&(n.checked=!1),a.chain().insertContentAt(i-1,{type:t,attrs:n}).selectInsertedNode().run()):r.parentOffset===r.parent.content.size&&(n.checked&&(n.checked=!1),a.chain().insertContentAt(i+1,{type:t,attrs:n}).selectInsertedNode().run())},Backspace:e=>{let t,n,{editor:a}=e;for(let e of Object.values(u.e))if(a.isActive(e)){n=a.getAttributes(e),t=e;break}if(void 0===t)return!1;let{$from:i,empty:r}=a.state.selection;return!!r&&0==i.parentOffset&&a.commands.setNode("paragraph",n)},Tab:e=>{let{editor:t}=e;return t.commands.indent(1)},"Shift-Tab":e=>{let{editor:t}=e;return t.commands.indent(-1)},"Mod-]":e=>{let{editor:t}=e;return t.commands.indent(1)},"Mod-[":e=>{let{editor:t}=e;return t.commands.indent(-1)}})}),v=(e,t)=>{let n=Object.values(u.e).filter(e=>e!==t);return e.isActive(t)&&!n.some(t=>e.isActive(t))},y=(e,t)=>(0,i.tC)(e,[t.nodes.heading,t.nodes.title])},44245:(e,t,n)=>{"use strict";n.d(t,{cy:()=>nj,HF:()=>nI,FV:()=>nS,aK:()=>nE});var a=n(6029),i=n(99492),r=n(77650),l=n(55729);let o=(e,t)=>{let{stepNumber:n,generalNumber:a}=e;return null!==n&&t.step?t.step[n]:null!==a&&t.general?t.general[a]:null},s=e=>{var t,n;let a=(null==(t=e.step)?void 0:t.some(e=>null==e?void 0:e.isEmphasized))||!1,i=(null==(n=e.general)?void 0:n.some(e=>null==e?void 0:e.isEmphasized))||!1;return a||i},d=(e,t)=>{let n=o(e,t);return(null==n?void 0:n.isEmphasized)||!1},c=(e,t)=>{var n,a,i,r;let{stepNumber:l,generalNumber:o,type:s}=e;return"number"!=typeof l||isNaN(l)?"number"!=typeof o||isNaN(o)?"":null==t||null==(r=t.general)||null==(i=r[o])?void 0:i[s]:null==t||null==(a=t.step)||null==(n=a[l])?void 0:n[s]},u=e=>{let{stepNumber:t,generalNumber:n,type:a}=e;return"number"!=typeof t||isNaN(t)?"number"!=typeof n||isNaN(n)?"":"general.".concat(n,".").concat(a):"step.".concat(t,".").concat(a)},p=(e,t)=>{let{stepNumber:n}=e;return!("number"!=typeof n||isNaN(n))&&t.startsWith("step.".concat(n))},h=(e,t,n)=>{var a,i;let{stepNumber:r,generalNumber:l,type:o}=e;return null!==r&&((null==(a=t.step)?void 0:a[r])||(t.step=[...t.step||[],{text:void 0,image:{}}]),t.step[r]||(t.step[r]={}),"text"===o?t.step[r].text=n:"image"===o&&(t.step[r].image={source:"image.icon",src:n})),null!==l&&((null==(i=t.general)?void 0:i[l])||(t.general=[...t.general||[],{text:void 0,image:{}}]),t.general[l]||(t.general[l]={}),"text"===o?t.general[l].text=n:"image"===o&&(t.general[l].image={source:"image.icon",src:n})),t},g=e=>{let t=Array.from(e).find(e=>e.startsWith("step-")),n=Array.from(e).find(e=>e.startsWith("general-"));return{stepNumber:t?parseInt(t.split("-")[1])-1:null,generalNumber:n?parseInt(n.split("-")[1])-1:null}},m=(e,t)=>{let n=nS(e);if(!n||!C(n))return!1;let{stepSvgData:a}=n;return!!a&&!!t.step&&t.step.length<w(a).max},x=(e,t)=>{let n=nS(e);if(!n||!C(n))return!1;let{stepSvgData:a}=n;return!!a&&!!t.step&&t.step.length>w(a).min},f=e=>{let t=nS(e);return!!t&&!!C(t)&&t.canToggleIcons},b=(e,t)=>{let n={...e};if(e.step){let a=[...e.step],i=a.some(e=>null==e?void 0:e.text),r=a.some(e=>null==e?void 0:e.image);a.splice(t,0,{text:i?"<p>Item</p>":void 0,image:r?{source:"image.icon",src:""}:void 0,color:void 0,isEmphasized:!1}),n.step=a}return n},v=(e,t)=>{let n={...e};if(e.step){let a=[...e.step];a.splice(t,1),n.step=a}return n},y=e=>{let t=Math.min(...e.keys()),n=Math.max(...e.keys());return{step:Array.from({length:t===n?t:Math.floor((t+n)*3/4)},()=>({text:void 0,image:{}})),general:[]}},w=e=>({min:Math.min(...e.keys()),max:Math.max(...e.keys())}),C=e=>"stepSvgData"in e&&void 0!==e.stepSvgData;var A=n(58959),j=n(49611),k=n(48621),S=n(19564),I=n(95889),E=n(92685),R=n(61204),L=n(70615),D=n(74471),M=n(66082),_=n(68917),T=n(48810),N=n(29810),z=n(33612),P=n.n(z),O=n(94297),F=n(12180),H=n(15342),B=n(14300),V=n(62452),W=n(2681),U=n(43634);let G=e=>{let{selected:t,onChange:n,steps:o=5,templateKey:s}=e,{defaultColorScheme:d}=nS(s),c=(0,H.GV)(U.SJ),u=(0,V.Ik)((0,V.VH)(c)),p=Array(o).fill(0).map((e,t)=>t),h=(0,l.useMemo)(()=>Object.fromEntries(Object.entries(F.fA).map(e=>{let[t,{label:n}]=e;return[t,{label:n,scale:(0,O.M)(u,p,t)}]})),[u,o]);t&&!h[t]&&(t=void 0);let g=r.Ru._({id:"ovBPCi"});return(0,a.jsxs)(W.ms,{isLazy:!0,children:[(0,a.jsx)(W.gf,{as:j.$,variant:"toolbar",size:"sm",boxShadow:"none",leftIcon:(0,a.jsx)(k.g,{icon:i.fyG}),rightIcon:(0,a.jsx)(_.D,{}),children:t?h[t].label():g}),(0,a.jsx)(W.Q5,{zIndex:"modalPopover",children:Object.entries({default:{...h[F.gb],label:()=>g},...h}).map(e=>{let[i,{label:r,scale:l}]=e;return 1.5>[...l.values()].map(e=>P().readability(e,u)).reduce((e,t)=>Math.max(e,t),0)&&i!==t?null:(0,a.jsx)(W.tJ,{onClick:()=>{n("default"===i?d:i)},children:(0,a.jsxs)(A.z,{children:[(0,a.jsx)(T.E,{children:r()}),(0,a.jsx)(N.h,{}),"default"!==i&&(0,a.jsx)(K,{scale:l,data:p})]})},i)})})]})},K=e=>{let{scale:t,data:n}=e;return(0,a.jsx)(A.z,{spacing:1,children:n.map(e=>(0,a.jsx)(B.V,{color:t.get(e),size:B.E.small,tooltipIsDisabled:!0},e))})},Q=e=>{let{editor:t,selection:n,children:i}=e,r=n.node.type.name,{fullWidthBlock:l}=t.getAttributes(r),{templateKey:o,data:s}=n.node.attrs;return(0,a.jsxs)(R.e,{spacing:0,size:"sm",alignItems:"center",dir:"ltr",children:[M.gj.map(e=>{let{name:n,icon:i,checkActive:s,apply:d}=e;if(s&&d)return(0,a.jsx)(D.I,{label:n(),icon:i,onClick:()=>{d(t),l&&t.commands.updateAttributes(r,{fullWidthBlock:!1}),I.zS.track(I.VV.SMART_DIAGRAM_ALIGNMENT_CHANGED,{templateKey:o,alignmentType:n(),previousFullWidth:l})},isActive:!l&&s(t)},n())}),(0,a.jsx)(E.q,{}),(0,a.jsx)(G,{selected:s.colorScheme,onChange:e=>{t.commands.updateAttributes(r,{data:{...s,colorScheme:e}}),I.zS.track(I.VV.SMART_DIAGRAM_COLOR_SCHEME_CHANGED,{templateKey:o,previousColorScheme:s.colorScheme,newColorScheme:e})},steps:5,templateKey:o}),(0,a.jsx)(E.q,{}),i,(0,a.jsx)(L.G,{editor:t})]})},Z=e=>{let{editor:t,decorations:n,selection:r}=e,{data:o,templateKey:s,showIcons:d}=r.node.attrs,c=(0,l.useCallback)(e=>{try{let n=e({...o});t.commands.updateAttributesAtPos(r.from,{data:n})}catch(e){console.error("Error updating smart diagram data",e)}},[o,t.commands,r.from]),u=e=>{var t;c(t=>b(t,e)),I.zS.track(I.VV.SMART_DIAGRAM_STEPS_UPDATED,{templateKey:s,action:"add",stepIndex:e,totalSteps:(null==(t=o.steps)?void 0:t.length)||0})},p=e=>{var t;c(t=>v(t,e)),I.zS.track(I.VV.SMART_DIAGRAM_STEPS_UPDATED,{templateKey:s,action:"remove",stepIndex:e,totalSteps:(null==(t=o.steps)?void 0:t.length)||0})},h=(0,l.useCallback)(()=>{t.commands.updateAttributesAtPos(r.from,{showIcons:!d}),I.zS.track(I.VV.SMART_DIAGRAM_ICONS_TOGGLED,{templateKey:s,showIcons:!d})},[t.commands,r.from,d,s]),g=m(s,o),y=x(s,o),w=f(s);return(0,a.jsxs)(Q,{editor:t,selection:r,decorations:n,children:[w&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.z,{ps:2,children:(0,a.jsx)(j.$,{size:"sm",variant:"toolbar",onClick:()=>h(),leftIcon:(0,a.jsx)(k.g,{icon:i.cCs}),children:d?(0,a.jsx)(S.x6,{id:"dBrmK7"}):(0,a.jsx)(S.x6,{id:"TMFk/9"})})}),(0,a.jsx)(E.q,{})]}),(0,a.jsxs)(A.z,{ps:2,children:[(0,a.jsx)(j.$,{size:"sm",disabled:!g,variant:"toolbar",onClick:()=>u(0),leftIcon:(0,a.jsx)(k.g,{icon:i.q_k}),children:(0,a.jsx)(S.x6,{id:"xK4Xoz"})}),(0,a.jsx)(j.$,{size:"sm",disabled:!y,variant:"toolbar",onClick:()=>p(0),leftIcon:(0,a.jsx)(k.g,{icon:i.mGv}),children:(0,a.jsx)(S.x6,{id:"pUON+Q"})}),(0,a.jsx)(E.q,{})]})]})};var q=n(40452),J=n(41427),$=n(5061),Y=n(43607);let X=()=>(0,a.jsx)("text",{x:0,y:0,fontSize:"0",fill:"transparent",style:{opacity:0},"aria-hidden":"true",tabIndex:-1,children:"​ "},"focus-absorber");var ee=n(26420),et=n(21938),en=n(33750),ea=n.n(en),ei=n(5872),er=n(45002),el=n(8266),eo=n(29608),es=n(7915);let ed=(e,t)=>({color:"var(--body-color)",".pptx-exporting-image":{".smart-diagram-textbox":{visibility:"hidden"}},".smart-diagram-wrapper":{"foreignObject *":(0,eo.nr)()?{position:"static !important"}:void 0,".smart-diagram-textbox":{position:"relative",height:"100%",paddingX:"0.25em",display:"flex",flexDirection:"column",outlineWidth:"1px",outlineStyle:"none",outlineColor:"var(--grid-outline-color)",cursor:"text","> div:not(.drag-handle)":{display:"contents"},".ProseMirror":{width:"100%",height:"100%",display:"flex",flexDirection:"column",gap:"0.5rem","--flex-align":"var(--horizontal-align)",alignItems:"var(--horizontal-align)",justifyContent:"var(--vertical-align)","--line-height-body":"1.25",".block":{my:"0rem",width:"100%"}}},".block-heading, .block-title":{...(0,el.hQ)(e).tight,"*":{overflowWrap:"break-word",wordBreak:"normal"}},".block-paragraph":{...(0,el.xC)(e).tight,"*":{overflowWrap:"break-word",wordBreak:"normal"}},["&.is-focused, &:hover, &[".concat(es.y,"]")]:t?{".smart-diagram-textbox, .smart-diagram-selection-box":{outlineStyle:"solid"}}:void 0}}),ec=e=>{let{children:t,svgWidthPercent:n=100,...i}=e,{isNodeSelected:r,editor:l,selectNode:o,updateResizeAttrs:s,attrs:d,alignDirection:c,isEditable:u,layoutContainerSize:p}=i,h=(0,Y.FX)(),g=n?ea()(n/100/Math.min(p,1),0,1):1,{ref:m,setIsResizing:x,resizeableSx:f}=(0,er.Y3)(l),b=ed(h,u),v=(0,M.yp)(d.horizontalAlign);return(0,a.jsx)(q.s,{dir:c,w:"100%",className:ei.S,css:v,sx:{...f,...b},direction:"column",onMouseDown:o,children:(0,a.jsxs)(ee.a,{ref:m,className:(0,et.cx)("smart-diagram-wrapper",r?"is-focused":""),"data-drag-handle":!0,"data-content-reference":!0,"data-selection-ring":!0,w:d.width?"calc((".concat(d.width," * var(--font-size) / 16) * ").concat(g,")"):"calc(".concat(100*g,"% * var(--media-scale))"),maxW:"100%",position:"relative",children:[u&&r&&(0,a.jsx)(er.u4,{imageWrapperRef:m,setIsResizing:x,updateResizeAttrs:e=>{var t;let n=null!=(t=e.width)?t:d.width;n&&s({...d,...e,width:n/g})},refreshDeps:[d]}),t]})})};var eu=n(45214);let ep={SUBTLE_IMAGE:".subtle.image",SUBTLE_TEXT:".subtle.textbox",ACCENT_TEXT:".accent.textbox",ACCENT_IMAGE:".accent.image",BODY_TEXT:".card.textbox",LINE:".line",ACCENT_NO_BORDER:".accent.no-border",ACCENT_DIM:".accent.dim",ACCENT_LIGHT:".accent.light",ACCENT:".accent",SUBTLE_LIGHT:".subtle.light",SUBTLE_DIM:".subtle.dim",SUBTLE:".subtle",NEUTRAL:".neutral"},eh={[ep.SUBTLE_IMAGE]:eu.lR,[ep.SUBTLE_TEXT]:eu.lR,[ep.ACCENT_NO_BORDER]:(0,et.cx)(eu._B),[ep.ACCENT_DIM]:(0,et.cx)(eu.lX,eu.D6),[ep.ACCENT_LIGHT]:(0,et.cx)(eu.to,eu.D6),[ep.ACCENT]:(0,et.cx)(eu._B,eu.D6),[ep.SUBTLE]:eu.D6,[ep.SUBTLE_DIM]:eu.iZ,[ep.SUBTLE_LIGHT]:eu.Eb,[ep.LINE]:eu.fu,[ep.ACCENT_TEXT]:eu.ok,[ep.ACCENT_IMAGE]:eu.ok,[ep.BODY_TEXT]:eu.VN,[ep.NEUTRAL]:eu.Xj},eg={...eh,[ep.ACCENT_NO_BORDER]:(0,et.cx)(eu.bo),[ep.ACCENT_DIM]:(0,et.cx)(eu.Kh,eu._Z),[ep.ACCENT_LIGHT]:(0,et.cx)(eu.Ax,eu._Z),[ep.ACCENT]:(0,et.cx)(eu.bo,eu._Z),[ep.SUBTLE]:eu._Z},em=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ltr";for(let n of Object.values(ep))if(e.matches(n)){let a=eh[n];if("rtl"===t&&ex(e))return eg[n];return a}return""},ex=e=>["path","circle","ellipse","rect","polygon","polyline"].includes(e.tagName.toLowerCase());var ef=n(69837);let eb=e=>{let{x:t,y:n,width:i,height:r,image:l,iconSize:o=2,isEditable:s,selectItem:d,className:c,style:u}=e;return(0,a.jsx)("g",{style:u,children:(0,a.jsx)("foreignObject",{x:t,y:n,width:i,height:r,style:{overflow:"visible"},children:(0,a.jsx)(ee.a,{width:"100%",height:"100%",className:c,css:{fill:"var(--body-color)"},children:(0,a.jsx)(ef.R,{image:l||null,selectCell:s?d:void 0,iconSize:o,boxProps:{w:"100%",h:"100%"}})})})})},ev=e=>{let{element:t,id:n,data:i,isEditable:r,selectItem:l,dataLookupInfo:o,isNodeSelected:p,selectedKeyPath:h}=e,g=parseFloat(t.getAttribute("x")||"0"),m=parseFloat(t.getAttribute("y")||"0"),x=parseFloat(t.getAttribute("width")||"0"),f=parseFloat(t.getAttribute("height")||"0"),b=x<50?x:50,v=f<50?f:50;if("image"!==o.type)return null;let y=c(o,i),w=u(o),C=p&&h===w,A=s(i),j=1;A&&(d(o,i)||(j=.5));let k=em(t);return(0,a.jsx)(eb,{id:n,x:g+(x-b)/2,y:m+(f-v)/2,width:b,height:v,image:y,isEditable:r,selectItem:()=>{l(w)},isItemSelected:C,style:1!==j?{opacity:j}:void 0,className:k},w)};var ey=n(94740),ew=n(59272),eC=n(12514),eA=n(18078),ej=n(55597),ek=n(89703),eS=n(35883),eI=n(54958),eE=n(62257),eR=n.n(eE),eL=n(216),eD=n(43216);let eM=(0,l.forwardRef)((e,t)=>{let{handlePlacement:n="outside",onClick:i,isSelected:r}=e,o=(0,H.GV)(U.nD),s=(0,$.fW)(),d=(0,l.useCallback)(e=>{},[]);return o?(0,a.jsx)(eL.u,{ref:t,isSelected:r,isVisible:!0,onClick:i,onDragStart:d,...(0,eD.T)(s)[n],...eR()}):null});eM.displayName="SelectionHandle";let e_=e=>{let{hasFocus:t,onClickHandle:n,stepAttributes:o,updateStep:s,children:d,editor:c,selectItem:p,dataLookupInfo:h}=e,g=(0,ek.f)(),m=!!c,x=null==o?void 0:o.image,f=!!(null==x?void 0:x.src),b=(0,l.useMemo)(()=>x?"image.icon"===x.source?"icon":"image":"icon",[x]),v=(0,l.useCallback)(()=>{s&&s({image:null})},[s]),y=(0,l.useCallback)(e=>{p&&h?(p(u({...h,type:"image"})),c&&c.view.focus(),g({isOpen:!0}),e.stopPropagation()):c&&(c.view.focus(),g({isOpen:!0}),e.stopPropagation())},[p,h,c,g]);return(0,a.jsxs)(ey.A,{isOpen:t,autoFocus:!1,closeOnBlur:!1,closeOnEsc:!1,placement:"top",children:[(0,a.jsx)(ew.d,{children:(0,a.jsx)(eM,{handlePlacement:"top",onClick:n,isSelected:t})}),(0,a.jsx)(eC.Z,{children:(0,a.jsx)(eA.h,{width:"fit-content",children:(0,a.jsxs)(A.z,{"data-in-editor-focus":!0,children:[c&&(0,a.jsx)(D.I,{onClick:()=>{if(c&&c.state.selection instanceof eI.n){let e=c.state.selection.anchor;c.commands.selectNodeAtPos(e)}},label:r.Ru._({id:"yGxcio"}),children:(0,a.jsx)(k.g,{icon:i.Hmw,flip:"horizontal"})}),(0,a.jsx)(E.q,{}),(0,a.jsx)(eS.a,{color:null==o?void 0:o.color,setColor:e=>{null==s||s({color:e}),I.zS.track(I.VV.SMART_DIAGRAM_OPTION_UPDATED,{optionType:"elementColor",previousValue:null==o?void 0:o.color,newValue:e})},analyticsSource:"SmartDiagram"}),(0,a.jsx)(D.I,{label:r.Ru._({id:"m1crrt"}),onClick:()=>{let e=!(null==o?void 0:o.isEmphasized);null==s||s({isEmphasized:e}),I.zS.track(I.VV.SMART_DIAGRAM_OPTION_UPDATED,{optionType:"elementEmphasis",previousValue:null==o?void 0:o.isEmphasized,newValue:e})},icon:(null==o?void 0:o.isEmphasized)?ej.yy:i.yy,isActive:!1,"data-in-editor-focus":!0}),m&&(0,a.jsxs)(a.Fragment,{children:[f?(0,a.jsx)(D.I,{label:"icon"===b?(0,a.jsx)(S.x6,{id:"JE/4q/"}):(0,a.jsx)(S.x6,{id:"9IrgTy"}),icon:"icon"===b?i.cCs:i.MT7,onClick:y,"data-in-editor-focus":!0}):(0,a.jsx)(D.I,{label:"icon"===b?(0,a.jsx)(S.x6,{id:"1SYZRR"}):(0,a.jsx)(S.x6,{id:"pVb3uA"}),icon:"icon"===b?i.cCs:i.Cyq,onClick:y,"data-in-editor-focus":!0}),f&&(0,a.jsx)(D.I,{label:"icon"===b?(0,a.jsx)(S.x6,{id:"+4mjS6"}):(0,a.jsx)(S.x6,{id:"EyVcag"}),icon:i.K3F,color:"red.500",onClick:v,"data-in-editor-focus":!0})]}),d]})})})]})},eT=e=>{let{x:t,y:n,width:i,height:r,isEditable:l,selectItem:o,selectItemWithKeyPath:s,isItemSelected:d,isStepSelected:c,stepAttributes:u,updateStep:p,formattingMenuItems:h,editor:g,dataLookupInfo:m}=e;return(0,a.jsxs)("foreignObject",{x:t,y:n,width:i,height:r,style:{overflow:"visible"},children:[(0,a.jsx)(ee.a,{width:"100%",height:"100%",onMouseDown:e=>{l&&(o(),e.stopPropagation())},borderRadius:"var(--box-border-radius)",css:{outlineStyle:d||c?"solid":"none",outlineColor:d?"var(--chakra-colors-trueblue-300)":"var(--grid-outline-color)",outlineWidth:d?"2px":"1px"},className:"smart-diagram-selection-box"}),d&&(0,a.jsx)(e_,{hasFocus:d,onClickHandle:o,stepAttributes:u,updateStep:p,editor:g,selectItem:s,dataLookupInfo:m,children:h})]})},eN=e=>{let{element:t,id:n,data:i,editor:r,isEditable:l,updateData:s,selectItem:d,dataLookupInfo:c,isNodeSelected:h,selectedKeyPath:g,modifyingFns:m}=e,x=parseFloat(t.getAttribute("x")||"0"),f=parseFloat(t.getAttribute("y")||"0"),b=parseFloat(t.getAttribute("width")||"0"),v=parseFloat(t.getAttribute("height")||"0");if("selection"!==c.type)return null;let y=!h&&g===u(c),w=!!g&&p(c,g),C=o(c,i);return(0,a.jsx)(eT,{id:n,x:x,y:f,width:b,height:v,isEditable:l,selectItem:()=>{d(u(c))},selectItemWithKeyPath:d,isItemSelected:y,isStepSelected:w,stepAttributes:C||void 0,updateStep:e=>{s(t=>{let{stepNumber:n,generalNumber:a}=c;return!0===e.isEmphasized?(t.step&&(t.step=t.step.map((e,t)=>({...e,isEmphasized:t===n}))),t.general&&(t.general=t.general.map((e,t)=>({...e,isEmphasized:t===a})))):(null!==n&&t.step&&(t.step=[...t.step],t.step[n]={...t.step[n],...e}),null!==a&&t.general&&(t.general=[...t.general],t.general[a]={...t.general[a],...e})),t})},editor:r,dataLookupInfo:c,formattingMenuItems:(0,a.jsx)(ez,{canAddStep:m.canAddStep,canRemoveStep:m.canRemoveStep,addStep:m.addStep,removeStep:m.removeStep,dataLookupInfo:c})},u(c))},ez=e=>{let{canAddStep:t,canRemoveStep:n,addStep:r,removeStep:l,dataLookupInfo:o}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.q,{}),(0,a.jsx)(j.$,{disabled:!t,size:"sm",variant:"toolbar",onClick:()=>null!==o.stepNumber&&r(o.stepNumber),leftIcon:(0,a.jsx)(k.g,{icon:i.q_k}),ms:2,children:(0,a.jsx)(S.x6,{id:"hfkdR8"})}),(0,a.jsx)(j.$,{disabled:!t,size:"sm",variant:"toolbar",onClick:()=>null!==o.stepNumber&&r(o.stepNumber+1),leftIcon:(0,a.jsx)(k.g,{icon:i.q_k}),children:(0,a.jsx)(S.x6,{id:"Y1oj5r"})}),(0,a.jsx)(E.q,{}),(0,a.jsx)(D.I,{disabled:!n,label:(0,a.jsx)(S.x6,{id:"cnGeoo"}),onClick:()=>l(o.stepNumber),icon:i.yLS,color:"red.500"})]})};var eP=n(50535),eO=n(80039),eF=n(89122),eH=n(91106),eB=n(22905),eV=n(15902),eW=n(36464),eU=n(2426),eG=n(41896),eK=n(63902),eQ=n(6046),eZ=n(15253);let eq=e=>{let{editor:t}=e;return(0,eK.oR)()?(0,a.jsx)(eZ.N,{editor:t}):(0,a.jsx)(eQ.$,{editor:t})};var eJ=n(11403),e$=n(8763);let eY=eB.YY.create({name:"smartDiagramKeyboard",addOptions:()=>({parentEditor:null}),addKeyboardShortcuts(){let{parentEditor:e}=this.options;return{"Mod-z":()=>null==e?void 0:e.commands.undo(),"Mod-y":()=>null==e?void 0:e.commands.redo()}}}),eX=e=>{let{className:t,selectItem:n,onChange:i,editable:r,parentEditor:o,direction:s="ltr",...d}=e,c=(0,l.useMemo)(()=>[...(0,e$.D)(),...o?[eY.configure({parentEditor:o})]:[]],[o]),u=(0,eJ.lW)(i,500),p=(0,eG.hG)({extensions:c,...d,onUpdate(e){let{editor:t,transaction:n}=e;n.docChanged&&(n.getMeta("history$")||u({editor:t}))},onBlur:e=>{let{event:t}=e;t.relatedTarget instanceof HTMLElement&&t.relatedTarget.closest("[data-active-menu]")||p.commands.forceHideBubbleMenu(!0)},onFocus:()=>{p.commands.forceHideBubbleMenu(!1),setTimeout(()=>{o&&o.state.selection instanceof eV.n&&o.view.focus()},100)}}),h=p.view.hasFocus();p.shouldUseLiteMenus=!0,(0,l.useEffect)(()=>{p&&void 0!==d.content&&p.getHTML()!==d.content&&p.commands.setContent(d.content)},[d.content,p]),(0,l.useEffect)(()=>{p.setEditable(!!r)},[r,p]);let g=(0,l.useRef)(null),m=(0,l.useMemo)(()=>(function(e){var t;let n=eU.dX.getState(e.state);return(null==n?void 0:n.forceHide)!==!0&&((null==n||null==(t=n.tippyInstance)?void 0:t.state.isVisible)===!0||document.body.classList.contains("formatting-menu-open"))})(p),[p.state]);return(0,eF.j)({enabled:m&&r,ref:g,handler:e=>{e.target.closest("[data-active-menu]")||p.commands.forceHideBubbleMenu(!0)}}),(0,a.jsxs)(q.s,{ref:g,dir:s,direction:"column",w:"100%",h:"100%",className:(0,et.cx)("smart-diagram-textbox",t),borderRadius:"var(--box-border-radius)",justifyContent:"center",alignItems:"center",onMouseDown:e=>{n(),e.stopPropagation()},style:{outlineColor:h?"var(--chakra-ring-color)":void 0,outlineWidth:h?"2px":void 0},children:[(0,a.jsx)(eq,{editor:p}),(0,a.jsx)(eH.L8,{isDark:!1,children:(0,a.jsx)(eW.Ht,{editor:p,appendToSelector:".smart-diagram-wrapper:focus-within"})})]})},e0=e=>{let{x:t,y:n,width:i,height:r,style:l,...o}=e;return(0,a.jsx)("g",{style:l,children:(0,a.jsx)("foreignObject",{x:t,y:n,width:i,height:r,style:{overflow:"visible"},children:(0,a.jsx)(e2,{...o})})})},e1=(e,t)=>{if("rtl"===t){if("left"===e)return"right";if("right"===e)return"left"}return e},e2=e=>{let{text:t,isEditable:n,onUpdate:i,horizontalAlignClass:r="center",verticalAlignClass:l="middle",textDirection:o="ltr",selectItem:s,parentEditor:d,isItemSelected:c,fontSize:u="".concat(18,"px"),...p}=e,h=(0,eO.lI)(l),g=e1(r,o),m={...(0,M.yp)(g,o),...(0,M.AS)(g,o),"--vertical-align":h};return(0,a.jsx)(q.s,{direction:"column",w:"100%",h:"100%",css:m,justifyContent:"stretch",...p,className:(0,et.cx)(n?"is-editable":""),fontSize:u,style:{transform:"rtl"===o?"scaleX(-1)":void 0},children:(0,a.jsx)(eX,{content:t,onChange:e=>{let{editor:t}=e,n=t.state.doc.content;i((0,eP.$R)(n,t.schema))},className:p.className,editable:n,selectItem:s,isItemSelected:c,parentEditor:d,direction:o})})},e4=e=>{let t=e.classList;return t.contains("right")?"right":t.contains("left")?"left":"center"},e6=e=>{let t=e.classList;return t.contains("top")?"start":t.contains("bottom")?"end":"middle"},e5=e=>{let{element:t,id:n,data:i,isEditable:r,updateData:l,selectItem:o,dataLookupInfo:p,parentEditor:g,isNodeSelected:m,selectedKeyPath:x,direction:f="ltr"}=e,b=parseFloat(t.getAttribute("x")||"0"),v=parseFloat(t.getAttribute("y")||"0"),y=parseFloat(t.getAttribute("width")||"0"),w=parseFloat(t.getAttribute("height")||"0"),C=em(t),A=e4(t),j=e6(t);if("text"!==p.type)return null;let k=c(p,i),S=u(p),I=m&&x===S,E=s(i),R=1;return E&&(d(p,i)||(R=.5)),(0,a.jsx)(e0,{id:n,x:b,y:v,width:y,height:w,text:k,isEditable:r,onUpdate:e=>{l(t=>h(p,t,e))},className:C,selectItem:()=>{o(S)},parentEditor:g,isItemSelected:I,horizontalAlignClass:A,verticalAlignClass:j,textDirection:f,style:1!==R?{opacity:R}:void 0},S)};var e3=n(96177),e9=n(30892);let e7=e=>{if(!e)return{x:void 0,y:void 0,width:void 0,height:void 0};let[t,n,a,i]=e.split(" ").map(parseFloat);return{x:t,y:n,width:a,height:i}},e8=e=>{if(!e)return null;let t=new DOMParser().parseFromString(e,"image/svg+xml").documentElement,n=t.getAttribute("viewBox")||void 0,{width:a,height:i}=e7(n);return{element:t,props:{viewBox:n,width:a,height:i,preserveAspectRatio:"xMidYMid meet",overflow:"visible"}}},te=e=>{let t={};return Array.from(e.attributes).forEach(e=>{if("fill"===e.name)return;let n="class"===e.name?"className":e.name;["x","y","width","height","cx","cy","r","x1","y1","x2","y2","opacity","fill-opacity","stroke-width"].includes(e.name)?t[n]=parseFloat(e.value):("style"===e.name||"class"===e.name||e.name,t[n]=e.value)}),t},tt=e=>e instanceof SVGElement&&e.className&&"object"==typeof e.className?e.className.baseVal||"":e.className||"",tn=(e,t)=>[...new Set(Array.from(e.querySelectorAll('[class*="'.concat(t,'-"]'))).map(e=>{let n=tt(e).match(new RegExp("".concat(t,"-(\\d+)")));return n?parseInt(n[1]):0}).filter(e=>e>0))].sort((e,t)=>e-t),ta=e=>tn(e,"step"),ti=e=>tn(e,"general"),tr=(e,t,n,a,i,r,l)=>{let o;t.length&&(r&&(o=(0,O.M)(n,t,r,{lightnessRange:l})),t.forEach(t=>{let n=".".concat(i,"-").concat(t),r=e.querySelector(n);if(r){let e=r.querySelectorAll(a),n=o?o.get(t):void 0;n?e.forEach(e=>{let t=tt(e),a=n;t.includes("light")?a=(0,e9.Zt)(n,5):t.includes("dim")&&(a=(0,e9.Zt)(n,-5)),e.style.setProperty("--shape-bg-color-override",a)}):e.forEach(e=>{e.style.getPropertyValue("--shape-bg-color-override")&&(e.style.removeProperty("--shape-bg-color-override"),0===e.style.length&&e.removeAttribute("style"))})}}))},tl=(e,t,n,a,i,r)=>{tr(e,t,n,a,"step",i,r)},to=(e,t,n,a,i,r)=>{tr(e,t,n,a,"general",i,r)},ts=e=>{let{svgElement:t,theme:n,colorScheme:a}=e,i=(0,V.Ik)((0,V.VH)(n)),r=(0,V.kJ)(n),l=ta(t),o=ti(t),s=".accent:not(.textbox):not(.image):not(.selection)",d=".background:not(.textbox):not(.image):not(.selection)",c="monochrome"===a?th(i):void 0,u="monochrome"===a?th(r):void 0;return tl(t,l,i,s,a,c),to(t,o,i,s,a,c),tl(t,l,r,d,a,u),to(t,o,r,d,a,u),t},td=e=>{if(!e)return{};let t={};return e.split(";").forEach(e=>{let[n,a]=e.split(":");t[n]=a}),t},tc=(e,t,n,a)=>{let i,r={...e},l=e.className||"";if(l.includes("accent")&&!l.includes("textbox")&&!l.includes("image")&&!l.includes("selection")){var o,s,d,c;null!==n&&(null==(s=t.step)||null==(o=s[n])?void 0:o.color)?i=(0,e3.q9)(t.step[n].color):null!==a&&(null==(c=t.general)||null==(d=c[a])?void 0:d.color)&&(i=(0,e3.q9)(t.general[a].color))}return i&&(l.includes("light")?i["--shape-bg-color-override"]=(0,e9.Zt)(i["--shape-bg-color-override"],5):l.includes("dim")&&(i["--shape-bg-color-override"]=(0,e9.Zt)(i["--shape-bg-color-override"],-5)),r.style={...r.style,...i}),r},tu=(e,t,n,a)=>{let i,r={...e};if(s(t)&&(null!==n||null!==a)&&!d({stepNumber:n,generalNumber:a,type:"selection"},t)){var l;let t=1;(null==(l=r.style)?void 0:l.opacity)&&(t=parseFloat(r.style.opacity.toString())),void 0!==e.opacity&&(t=parseFloat(e.opacity.toString())),void 0!==e.fillOpacity&&(t=parseFloat(e.fillOpacity.toString())),i=.5*t}return void 0!==i&&(r.style={...r.style,opacity:i},void 0===r.fillOpacity&&(r.fillOpacity=i),void 0===r.strokeOpacity&&(r.strokeOpacity=i)),r},tp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,a=e7(e);return(null==a?void 0:a.height)&&a.width&&!n?Math.min(a.width/1e3*t*100,100):100},th=e=>.5>(0,e9.VU)(e)?{min:15,max:55}:{min:55,max:95},tg=e=>{let{nodes:t,data:n,isEditable:a,updateData:i,defaultFontSize:r,viewBoxWidth:o,viewBoxHeight:s,selectItem:d,editor:c,isNodeSelected:u,selectedKeyPath:p,modifyingFns:h,direction:m="ltr",globalSelectionElements:x,globalInteractiveElements:f}=e,b=[],v=x||[],y=f||[];return(Array.from(t).forEach((e,t)=>{if(e.nodeType!==Node.ELEMENT_NODE)return;let x=e.tagName.toLowerCase(),f=e.id,{stepNumber:w,generalNumber:C}=g(e.classList);if("rect"===x&&e.classList.contains("selection"))return void v.push(eN({element:e,id:f,data:n,isEditable:a,updateData:i,selectItem:d,isNodeSelected:u,selectedKeyPath:p,dataLookupInfo:{stepNumber:w,generalNumber:C,type:"selection"},modifyingFns:h,editor:c}));if("rect"===x&&e.classList.contains("textbox"))return void y.push(e5({element:e,id:f,data:n,isEditable:a,updateData:i,dataLookupInfo:{stepNumber:w,generalNumber:C,type:"text"},selectItem:d,isNodeSelected:u,selectedKeyPath:p,parentEditor:c,direction:m}));if("rect"===x&&e.classList.contains("image"))return void y.push(ev({element:e,id:f,data:n,isEditable:a,selectItem:d,dataLookupInfo:{stepNumber:w,generalNumber:C,type:"image"},isNodeSelected:u,selectedKeyPath:p}));let A=tg({nodes:e.childNodes,data:n,isEditable:a,updateData:i,defaultFontSize:r,viewBoxWidth:o,viewBoxHeight:s,selectItem:d,isNodeSelected:u,selectedKeyPath:p,editor:c,modifyingFns:h,direction:m,globalSelectionElements:v,globalInteractiveElements:y}),j=te(e);j.style=td(j.style),j=tu(j=tc(j,n,w,C),n,w,C);let k=em(e,m);k&&(j.className=k),a&&("circle"===x||"ellipse"===x||"rect"===x||"path"===x)&&("object"==typeof j.style?j.style={...j.style,pointerEvents:"none"}:j.style={pointerEvents:"none"}),b.push(l.createElement(x,{...j,key:"".concat(x,"-").concat(f||t)},A.length>0?A:void 0))}),x||f)?b:[...b,...v,...y]},tm=e=>{if(!e||"object"!=typeof e)return"";let t="",n=e=>{if(!e||"string"!=typeof e)return"";try{let t=new DOMParser().parseFromString(e,"text/html");return t.body.textContent||t.body.innerText||""}catch(e){return""}};return e.step&&Array.isArray(e.step)&&e.step.forEach(e=>{if(null==e?void 0:e.text){let a=n(e.text);t+=" "+a}}),e.general&&Array.isArray(e.general)&&e.general.forEach(e=>{if(null==e?void 0:e.text){let a=n(e.text);t+=" "+a}}),t.trim()},tx=e=>{let{svgData:t,isEditable:n=!1,data:i={},updateData:r=()=>{},selectItem:o,editor:s,isNodeSelected:d,selectedKeyPath:c,templateKey:u,svgDirection:p}=e,h=(0,l.useMemo)(()=>{let e=tm(i);if(e){let t=(0,J.R_)(e);if(t)return t}return p||(0,$.C)()},[i,p]),g=(0,l.useMemo)(()=>({addStep:e=>{r(()=>b(i,e))},removeStep:e=>{r(()=>v(i,e))},canAddStep:m(u,i),canRemoveStep:x(u,i)}),[i,r,u]),f=(0,H.GV)(U.SJ),y=(0,l.useMemo)(()=>t?e8(t):null,[t]),w=(0,l.useMemo)(()=>{if(!y)return null;let e=tg({nodes:ts({svgElement:y.element.cloneNode(!0),theme:f,colorScheme:i.colorScheme}).childNodes,data:i,isEditable:n,defaultFontSize:18,viewBoxWidth:y.props.width,viewBoxHeight:y.props.height,selectItem:o,updateData:r,editor:s,isNodeSelected:d,selectedKeyPath:c,modifyingFns:g,direction:h});return(0,a.jsxs)("svg",{...y.props,width:"100%",height:"auto",style:{maxWidth:"100%",display:"block",...y.props.style,transform:"rtl"===h?"scaleX(-1)":void 0},children:[n&&(0,a.jsx)(X,{}),e,n&&(0,a.jsx)(X,{})]})},[y,f,i,n,o,r,s,d,c,g,h]),C=(0,Y.FX)(),A=(0,l.useMemo)(()=>(null==y?void 0:y.props.viewBox)?tp(y.props.viewBox,e.svgScalingFactor||1,C):100,[null==y?void 0:y.props.viewBox,e.svgScalingFactor,C]);return(0,a.jsx)(ec,{svgWidthPercent:A,...e,children:(0,a.jsx)(q.s,{w:"100%",position:"relative",children:t&&(0,a.jsx)(q.s,{w:"100%",h:"100%",children:w})})})},tf=new Map(Object.entries({arrow_bars_1:'<svg class="arrow_bars" width="730.72064" height="121.63564000000001" viewBox="135.94768 206.94768 730.72064 121.63564000000001" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="arrow_bars" class="arrow_bars accent">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M852.616 267.766L804.904 314.531V302.766H150V232.766H804.904V221L852.616 267.766Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="189.1650390625" y="246.5625" width="577" height="40" class="step-1 accent textbox left step-1 accent textbox" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n',arrow_bars_2:'<svg class="arrow_bars" width="814.96064" height="223.40664" viewBox="93.32768 156.32768 814.96064 223.40664" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="arrow_bars" class="arrow_bars accent">\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M892.616 317.297L844.904 364.062V352.531H109V282.531H844.904V270.531L892.616 317.297Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="151.1650390625" y="296.5625" width="565" height="40" class="step-2 accent textbox left step-2 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M811.616 218.766L763.904 265.531V253.766H109V183.766H763.904V172L811.616 218.766Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="151.1650390625" y="197.5625" width="565" height="40" class="step-1 accent textbox left step-1 accent textbox" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n',arrow_bars_3:'<svg class="arrow_bars" width="898.16064" height="325.13864" viewBox="51.72768 105.72767999999999 898.16064 325.13864" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="arrow_bars" class="arrow_bars accent">\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" d="M932.616 366.828L884.904 413.594V401.766H69V331.766H884.904V320.062L932.616 366.828Z" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="113.1650390625" y="345.5625" width="563" height="40" class="step-3 accent textbox left step-3 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M852.616 268.297L804.904 315.062V303.531H69V233.531H804.904V221.531L852.616 268.297Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="113.1650390625" y="247.5625" width="563" height="40" class="step-2 accent textbox left step-2 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M771.616 169.766L723.904 216.531V204.766H69V134.766H723.904V123L771.616 169.766Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="113.1650390625" y="148.5625" width="563" height="40" class="step-1 accent textbox left step-1 accent textbox" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n',arrow_bars_4:'<svg class="arrow_bars" width="991.76064" height="427.67564" viewBox="-3.0733200000000007 86.92768 991.76064 427.67564" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="arrow_bars" class="arrow_bars accent">\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent" d="M969.615 448.766L921.903 495.531V484H15.999V414H921.903V402L969.615 448.766Z" fill="#D9DAF0" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="59.1650390625" y="427.5625" width="554" height="40" class="step-4 accent textbox left step-4 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" d="M879.615 350.062L831.903 396.828V385H15.999V315H831.903V303.297L879.615 350.062Z" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="59.1650390625" y="328.5625" width="554" height="40" class="step-3 accent textbox left step-3 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" d="M799.615 251.531L751.903 298.297V286.766H15.999V216.766H751.903V204.766L799.615 251.531Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="59.1650390625" y="230.5625" width="554" height="40" class="step-2 accent textbox left step-2 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" d="M718.616 152.766L670.904 199.531V187.766H16V117.766H670.904V106L718.616 152.766Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="59.1650390625" y="131.5625" width="554" height="40" class="step-1 accent textbox left step-1 accent textbox" fill="#E5E5E5"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("arrow_bars_","")),n]})),tb="arrow_bars",tv={key:tb,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:4,l=tf.get(r);return l?(0,a.jsx)(tx,{svgData:l,templateKey:tb,svgScalingFactor:tv.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"Yxcx0I"}),icon:i.dmS,defaultColorScheme:"monochrome",stepSvgData:tf,previewImage:{src:"/_next/static/media/arrow_bars.a69a69a4.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:Z,defaultData:()=>y(tf),svgScalingFactor:1},ty=new Map(Object.entries({bubbles_1:'<svg class="bubbles" width="217.00000000000006" height="346" viewBox="391.99999999999994 93.99999999999999 217.00000000000006 346" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M500.5 104C554.9 104 599 148.1 599 202.5C599 256.9 554.9 301 500.5 301C446.1 301 402 256.9 402 202.5C402 148.1 446.1 104 500.5 104ZM500.5 116C452.727 116 414 154.727 414 202.5C414 250.273 452.727 289 500.5 289C548.273 289 587 250.273 587 202.5C587 154.727 548.273 116 500.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect x="472.056640625" y="174.7734375" width="56" height="56" class="step-1 card image" fill="#666666"/>\n<rect id="step-1-card-textbox" x="423" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="394.5" y="96.5" width="212" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bubbles_2:'<svg class="bubbles" width="400.73" height="346" viewBox="300 93.99999999999999 400.73 346" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M592.23 104C646.631 104 690.73 148.1 690.73 202.5C690.73 256.9 646.631 301 592.23 301C551.3 301 516.201 276.034 501.329 240.5L509.854 228.963C521.034 263.792 553.688 289 592.23 289C640.003 289 678.73 250.273 678.73 202.5C678.73 154.727 640.003 116 592.23 116C553.355 116 520.471 141.645 509.569 176.94L500.986 165.327C515.657 129.354 550.983 104 592.23 104Z" fill="#666BC3" class="step-2 accent"/>\n<rect x="567.056640625" y="174.91015625" width="56" height="56" class="step-2 card image" fill="#666666"/>\n<rect id="step-2-card-textbox" x="518" y="319" width="155" height="111" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="493.5" y="96.5" width="205" height="341" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M408.5 104C446.232 104 479.008 125.216 495.551 156.369V156.254L530.205 203.146L495.551 250.037V248.63C479.008 279.783 446.232 301 408.5 301C354.1 301 310 256.9 310 202.5C310 148.1 354.1 104 408.5 104ZM408.5 116C360.727 116 322 154.727 322 202.5C322 250.273 360.727 289 408.5 289C456.273 289 495 250.273 495 202.5C495 154.727 456.273 116 408.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-image" x="381" y="175" width="56" height="56" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox" x="331" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="302.5" y="96.5" width="212" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bubbles_3:'<svg class="bubbles" width="587.33376" height="348.58976" viewBox="206.70512 92.70511999999998 587.33376 348.58976" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M684.244 104C738.644 104 782.744 148.1 782.744 202.5C782.744 256.9 738.644 301 684.244 301C643.313 301 608.215 276.034 593.343 240.5L601.868 228.963C613.048 263.792 645.702 289 684.244 289C732.017 289 770.744 250.273 770.744 202.5C770.744 154.727 732.017 116 684.244 116C645.369 116 612.484 141.645 601.583 176.94L593 165.327C607.671 129.354 642.996 104 684.244 104Z" fill="#8C90D2" class="step-3 accent"/>\n<rect x="657.056640625" y="174.91015625" width="56" height="56" class="step-3 card image" fill="#666666"/>\n<rect id="step-3-card-textbox" x="611" y="319" width="155" height="111" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="585.5" y="96.5" width="205" height="341" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2_2" d="M500.912 104C538.419 104 570.999 125.09 587.443 156.057V155.942L621.89 202.554L587.443 249.166V247.766C570.999 278.733 538.419 299.824 500.912 299.824C460.191 299.824 425.277 274.965 410.516 239.595L418.996 228.118C430.079 262.79 462.563 287.896 500.912 287.896C548.399 287.895 586.895 249.399 586.896 201.912C586.896 154.425 548.399 115.929 500.912 115.929C462.232 115.929 429.519 141.469 418.714 176.605L410.175 165.052C424.735 129.245 459.876 104 500.912 104Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-image" x="474" y="175" width="56" height="56" fill="#D9D9D9" class="step-2 card image"/>\n<rect id="step-2-card-textbox" x="427" y="319" width="155" height="111" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="401.5" y="96.5" width="198" height="341" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M316.5 104C354.232 104 387.008 125.216 403.551 156.369V156.254L438.205 203.146L403.551 250.037V248.63C387.008 279.783 354.232 301 316.5 301C262.1 301 218 256.9 218 202.5C218 148.1 262.1 104 316.5 104ZM316.5 116C268.727 116 230 154.727 230 202.5C230 250.273 268.727 289 316.5 289C364.273 289 403 250.273 403 202.5C403 154.727 364.273 116 316.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-image" x="290" y="175" width="56" height="56" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox" x="240" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="214.5" y="96.5" width="206" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bubbles_4:'<svg class="bubbles" width="777.6537600000003" height="355.90976" viewBox="111.04512 89.04511999999998 777.6537600000003 355.90976" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M775.244 104C829.644 104 873.744 148.1 873.744 202.5C873.744 256.9 829.644 301 775.244 301C734.313 301 699.215 276.034 684.343 240.5L692.868 228.963C704.048 263.792 736.702 289 775.244 289C823.017 289 861.744 250.273 861.744 202.5C861.744 154.727 823.017 116 775.244 116C736.369 116 703.484 141.645 692.583 176.94L684 165.327C698.671 129.354 733.996 104 775.244 104Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect x="748.056640625" y="174.91015625" width="56" height="56" class="step-4 card image" fill="#666666"/>\n<rect id="step-4-card-textbox" x="702" y="319" width="155" height="111" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="674.5" y="96.5" width="205" height="341" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M591.912 104C629.419 104 661.999 125.09 678.443 156.057V155.942L712.89 202.554L678.443 249.166V247.766C661.999 278.733 629.419 299.824 591.912 299.824C551.191 299.824 516.277 274.965 501.516 239.595L509.996 228.118C521.079 262.79 553.563 287.896 591.912 287.896C639.399 287.895 677.895 249.399 677.896 201.912C677.896 154.425 639.399 115.929 591.912 115.929C553.232 115.929 520.519 141.469 509.714 176.605L501.175 165.052C515.735 129.245 550.876 104 591.912 104Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-image" x="565" y="175" width="56" height="56" fill="#D9D9D9" class="step-3 card image"/>\n<rect id="step-3-card-textbox" x="518" y="319" width="155" height="111" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="493.5" y="96.5" width="198" height="341" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M408.912 104C446.419 104 478.999 125.09 495.443 156.057V155.942L529.89 202.554L495.443 249.166V247.766C478.999 278.733 446.419 299.824 408.912 299.824C368.191 299.824 333.277 274.965 318.516 239.595L326.996 228.118C338.079 262.79 370.563 287.896 408.912 287.896C456.399 287.895 494.895 249.399 494.896 201.912C494.896 154.425 456.399 115.929 408.912 115.929C370.232 115.929 337.519 141.469 326.714 176.605L318.175 165.052C332.735 129.245 367.876 104 408.912 104Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-image" x="382" y="175" width="56" height="56" fill="#D9D9D9" class="step-2 card image"/>\n<rect id="step-2-card-textbox" x="335" y="319" width="155" height="111" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="310.5" y="96.5" width="198" height="341" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M224.5 104C262.232 104 295.008 125.216 311.551 156.369V156.254L346.205 203.146L311.551 250.037V248.63C295.008 279.783 262.232 301 224.5 301C170.1 301 126 256.9 126 202.5C126 148.1 170.1 104 224.5 104ZM224.5 116C176.727 116 138 154.727 138 202.5C138 250.273 176.727 289 224.5 289C272.273 289 311 250.273 311 202.5C311 154.727 272.273 116 224.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-image" x="198" y="175" width="56" height="56" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox" x="148" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="122.5" y="96.5" width="206" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bubbles_5:'<svg class="bubbles" width="967.9737600000003" height="363.22976" viewBox="16.385119999999993 85.38511999999997 967.9737600000003 363.22976" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bubbles" class="bubbles">\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M867.244 104C921.644 104 965.744 148.1 965.744 202.5C965.744 256.9 921.644 301 867.244 301C826.313 301 791.215 276.034 776.343 240.5L784.868 228.963C796.048 263.792 828.702 289 867.244 289C915.017 289 953.744 250.273 953.744 202.5C953.744 154.727 915.017 116 867.244 116C828.369 116 795.484 141.645 784.583 176.94L776 165.327C790.671 129.354 825.996 104 867.244 104Z" fill="#B3B5E1" class="step-5 accent"/>\n<rect x="840.056640625" y="174.91015625" width="56" height="56" class="step-5 card image" fill="#666666"/>\n<rect id="step-5-card-textbox" x="794" y="319" width="155" height="111" fill="#D9D9D9" class="step-5 card textbox"/>\n<rect id="step-5-selection" x="766.5" y="96.5" width="205" height="341" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M683.912 104C721.419 104 753.999 125.09 770.443 156.057V155.942L804.89 202.554L770.443 249.166V247.766C753.999 278.733 721.419 299.824 683.912 299.824C643.191 299.824 608.277 274.965 593.516 239.595L601.996 228.118C613.079 262.79 645.563 287.896 683.912 287.896C731.399 287.895 769.895 249.399 769.896 201.912C769.896 154.425 731.399 115.929 683.912 115.929C645.232 115.929 612.519 141.469 601.714 176.605L593.175 165.052C607.735 129.245 642.876 104 683.912 104Z" fill="#8C90D2" class="step-4 accent"/>\n<rect id="step-4-card-image" x="657" y="175" width="56" height="56" fill="#D9D9D9" class="step-4 card image"/>\n<rect id="step-4-card-textbox" x="610" y="319" width="155" height="111" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="585.5" y="96.5" width="198" height="341" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M500.912 104C538.419 104 570.999 125.09 587.443 156.057V155.942L621.89 202.554L587.443 249.166V247.766C570.999 278.733 538.419 299.824 500.912 299.824C460.191 299.824 425.277 274.965 410.516 239.595L418.996 228.118C430.079 262.79 462.563 287.896 500.912 287.896C548.399 287.895 586.895 249.399 586.896 201.912C586.896 154.425 548.399 115.929 500.912 115.929C462.232 115.929 429.519 141.469 418.714 176.605L410.175 165.052C424.735 129.245 459.876 104 500.912 104Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-image" x="474" y="175" width="56" height="56" fill="#D9D9D9" class="step-3 card image"/>\n<rect id="step-3-card-textbox" x="427" y="319" width="155" height="111" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="402.5" y="96.5" width="198" height="341" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M317.912 104C355.419 104 387.999 125.09 404.443 156.057V155.942L438.89 202.554L404.443 249.166V247.766C387.999 278.733 355.419 299.824 317.912 299.824C277.191 299.824 242.277 274.965 227.516 239.595L235.996 228.118C247.079 262.79 279.563 287.896 317.912 287.896C365.399 287.895 403.895 249.399 403.896 201.912C403.896 154.425 365.399 115.929 317.912 115.929C279.232 115.929 246.519 141.469 235.714 176.605L227.175 165.052C241.735 129.245 276.876 104 317.912 104Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-image" x="291" y="175" width="56" height="56" fill="#D9D9D9" class="step-2 card image"/>\n<rect id="step-2-card-textbox" x="244" y="319" width="155" height="111" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="219.5" y="96.5" width="198" height="341" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M133.5 104C171.232 104 204.008 125.216 220.551 156.369V156.254L255.205 203.146L220.551 250.037V248.63C204.008 279.783 171.232 301 133.5 301C79.1 301 35 256.9 35 202.5C35 148.1 79.1 104 133.5 104ZM133.5 116C85.7274 116 47 154.727 47 202.5C47 250.273 85.7274 289 133.5 289C181.273 289 220 250.273 220 202.5C220 154.727 181.273 116 133.5 116Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-image" x="107" y="175" width="56" height="56" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox" x="57" y="319" width="155" height="111" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="31.5" y="96.5" width="206" height="341" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("bubbles_","")),n]})),tw="bubble_steps",tC={key:tw,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:5,l=ty.get(r);return l?(0,a.jsx)(tx,{svgData:l,templateKey:tw,svgScalingFactor:tC.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"9v8/rg"}),previewImage:{src:"/_next/static/media/bubble-steps.2a853dd7.svg",height:96,width:253,blurWidth:0,blurHeight:0},allowedColorSchemes:[],stepSvgData:ty,formattingMenu:Z,defaultData:()=>y(ty),svgScalingFactor:1};var tA=n(51684);let tj=new Map(Object.entries({bullseye_1:'<svg class="bullseye" width="736.7048" height="164.11880000000002" viewBox="107.8306 140.83259999999996 736.7048 164.11880000000002" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bullseye" class="bullseye">\n<g id="step-1" class="step-1">\n<path id="step-1-card" d="M569 226L569 224L696 224L696 226L569 226Z" fill="black" class="step-1 card"/>\n<path id="step-1-accent" d="M830.324 223.1C830.324 260.481 800.02 290.784 762.639 290.784C725.258 290.784 694.955 260.481 694.955 223.1C694.955 185.719 725.258 155.416 762.639 155.416C800.02 155.416 830.324 185.719 830.324 223.1Z" fill="#4046B4" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M830.368 222.684C830.368 260.065 800.065 290.368 762.684 290.368C725.303 290.368 695 260.065 695 222.684C695 185.303 725.303 155 762.684 155C800.065 155 830.368 185.303 830.368 222.684Z" fill="#4046B4" class="step-1 accent"/>\n<rect x="510.166015625" y="172.0625" width="50" height="50" class="step-1 card image" fill="#666666"/>\n<rect id="step-1-card-textbox-right" x="121.998" y="172.992" width="375" height="100" fill="#D9D9D9" class="step-1 card textbox right top"/>\n<rect id="step-1-selection" x="113.5" y="165.5" width="455" height="115" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bullseye_2:'<svg class="bullseye" width="863.6721600000001" height="319.21846000000005" viewBox="32.22292 79.32061999999999 863.6721600000001 319.21846000000005" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bullseye" class="bullseye">\n<g id="step-2" class="step-2">\n<path id="step-2_2" d="M495.432 332.674L495 331L689 281L689.432 282.674L495.432 332.674Z" fill="black" class="step-2"/>\n<path id="step-2-accent" d="M879.286 223.1C879.286 287.841 826.675 340.324 761.775 340.324C696.875 340.324 644.264 287.841 644.264 223.1C644.264 158.36 696.875 105.877 761.775 105.877C826.675 105.877 879.286 158.36 879.286 223.1Z" fill="#666BC3" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M878.135 223.101C878.135 158.999 826.041 107.029 761.775 107.029C697.509 107.029 645.416 158.999 645.416 223.101C645.416 287.202 697.509 339.172 761.775 339.172V340.323L760.256 340.314C696.562 339.509 645.08 288.153 644.273 224.615L644.264 223.101C644.264 158.36 696.876 105.877 761.775 105.877L763.294 105.887C827.494 106.698 879.286 158.866 879.286 223.101L879.276 224.615C878.463 288.658 826.168 340.323 761.775 340.323V339.172C826.041 339.172 878.135 287.202 878.135 223.101Z" fill="white" class="step-2 accent"/>\n<rect x="437.166015625" y="281" width="50" height="50" class="step-2 card image" fill="#666666"/>\n<rect id="step-2-card-textbox-right" x="48.832" y="281.93" width="375" height="100" fill="#D9D9D9" class="step-2 card textbox right top"/>\n<rect id="step-2-selection" x="41.5" y="273.5" width="454" height="116" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1_2" d="M495.15 149.447L495.545 147.765L700.999 195.993L700.604 197.676L495.15 149.447Z" fill="black" class="step-1"/>\n<path id="step-1-accent" d="M830.324 223.1C830.324 260.481 800.02 290.784 762.639 290.784C725.258 290.784 694.955 260.481 694.955 223.1C694.955 185.719 725.258 155.416 762.639 155.416C800.02 155.416 830.324 185.719 830.324 223.1Z" fill="#4046B4" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M829.172 223.101C829.172 186.356 799.384 156.569 762.64 156.568C725.895 156.568 696.107 186.356 696.107 223.101C696.108 259.845 725.895 289.633 762.64 289.633V290.784L761.765 290.779C725.078 290.315 695.425 260.661 694.961 223.975L694.955 223.101C694.955 185.72 725.259 155.416 762.64 155.416L763.514 155.422C800.492 155.89 830.323 186.012 830.323 223.101L830.318 223.975C829.85 260.952 799.729 290.784 762.64 290.784V289.633C799.384 289.633 829.172 259.845 829.172 223.101Z" fill="white" class="step-1 accent"/>\n<rect id="step-1-card-image" x="437.998" y="95.9297" width="50" height="50" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox-right" x="48.998" y="95.9297" width="375" height="100" fill="#D9D9D9" class="step-1 card textbox right top"/>\n<rect id="step-1-selection" x="41.5" y="88.5" width="454" height="115" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',bullseye_3:'<svg class="bullseye" width="920.46968" height="429.40247999999997" viewBox="20.296659999999996 8.290859999999999 920.46968 429.40247999999997" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bullseye" class="bullseye">\n<g id="step-3" class="step-3">\n<path id="step-3_2" d="M482.727 366.797L482.298 365.122L638.999 324.992L639.428 326.666L482.727 366.797Z" fill="black" class="step-3"/>\n<path id="step-3-accent" d="M923.065 223.812C923.065 312.572 851.111 384.526 762.351 384.526C673.591 384.526 601.637 312.572 601.637 223.812C601.637 135.052 673.591 63.0977 762.351 63.0977C851.111 63.0977 923.065 135.052 923.065 223.812Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M921.913 223.812C921.913 135.688 850.474 64.25 762.351 64.25C674.227 64.2501 602.789 135.688 602.789 223.812C602.789 311.935 674.227 383.374 762.351 383.374V384.525L760.273 384.513C673.162 383.409 602.753 313 601.649 225.889L601.637 223.812C601.637 135.052 673.591 63.0978 762.351 63.0977L764.428 63.1104C852.23 64.2224 923.064 135.745 923.064 223.812L923.052 225.889C921.94 313.691 850.417 384.525 762.351 384.525V383.374C850.474 383.374 921.913 311.935 921.913 223.812Z" fill="white" class="step-3 accent"/>\n<rect x="424.166015625" y="320.0625" width="50" height="50" class="step-3 card image" fill="#666666"/>\n<rect id="step-3-card-textbox-right" x="37.998" y="319.992" width="375" height="100" fill="#D9D9D9" class="step-3 card textbox right top"/>\n<rect id="step-3-selection" x="30.5" y="312.5" width="452" height="115" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2_2" d="M485 215V213L644 213V215L485 215Z" fill="black" class="step-2"/>\n<path id="step-2-accent" d="M879.286 224.1C879.286 288.841 826.675 341.324 761.775 341.324C696.875 341.324 644.264 288.841 644.264 224.1C644.264 159.36 696.875 106.877 761.775 106.877C826.675 106.877 879.286 159.36 879.286 224.1Z" fill="#666BC3" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M878.135 224.101C878.135 159.999 826.041 108.029 761.775 108.029C697.509 108.029 645.416 159.999 645.416 224.101C645.416 288.202 697.509 340.172 761.775 340.172V341.323L760.256 341.314C696.562 340.509 645.08 289.153 644.273 225.615L644.264 224.101C644.264 159.36 696.876 106.877 761.775 106.877L763.294 106.887C827.494 107.698 879.286 159.866 879.286 224.101L879.276 225.615C878.463 289.658 826.168 341.323 761.775 341.323V340.172C826.041 340.172 878.135 288.202 878.135 224.101Z" fill="white" class="step-2 accent"/>\n<rect id="step-2-card-image" x="426.998" y="164.992" width="50" height="50" fill="#D9D9D9" class="step-2 card image"/>\n<rect id="step-2-card-textbox-right" x="37.998" y="164.992" width="375" height="100" fill="#D9D9D9" class="step-2 card textbox right top"/>\n<rect id="step-2-selection" x="30.5" y="157.5" width="454" height="115" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1_2" d="M571.237 61.997L572.294 60.6292L718.998 173.992L717.941 175.359L571.237 61.997Z" fill="black" class="step-1"/>\n<path id="step-1-accent" d="M830.324 224.1C830.324 261.481 800.02 291.784 762.639 291.784C725.258 291.784 694.955 261.481 694.955 224.1C694.955 186.719 725.258 156.416 762.639 156.416C800.02 156.416 830.324 186.719 830.324 224.1Z" fill="#4046B4" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M829.172 224.101C829.172 187.356 799.384 157.569 762.64 157.568C725.895 157.568 696.107 187.356 696.107 224.101C696.108 260.845 725.895 290.633 762.64 290.633V291.784L761.765 291.779C725.078 291.315 695.425 261.661 694.961 224.975L694.955 224.101C694.955 186.72 725.259 156.416 762.64 156.416L763.514 156.422C800.492 156.89 830.323 187.012 830.323 224.101L830.318 224.975C829.85 261.952 799.729 291.784 762.64 291.784V290.633C799.384 290.633 829.172 260.845 829.172 224.101Z" fill="white" class="step-1 accent"/>\n<rect id="step-1-card-image" x="514.998" y="25.9922" width="50" height="50" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox" x="125.998" y="25.9922" width="375" height="100" fill="#D9D9D9" class="step-1 card textbox right top"/>\n<rect id="step-1-selection-right" x="117.5" y="18.5" width="454" height="115" stroke="black" class="step-1 selection right"/>\n</g>\n</g>\n</svg>\n',bullseye_4:'<svg class="bullseye" width="963.0036000000001" height="501.40760000000006" viewBox="19.478699999999993 2.1036999999999964 963.0036000000001 501.40760000000006" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="bullseye" class="bullseye">\n<g id="step-4" class="step-4">\n<path id="step-4_2" d="M555.463 397.023L554.356 395.695L607.999 350.992L609.105 352.32L555.463 397.023Z" fill="black" class="step-4"/>\n<path id="step-4-accent" d="M963.963 222.524C963.963 334.03 873.569 424.424 762.063 424.424C650.556 424.424 560.162 334.03 560.162 222.524C560.162 111.017 650.556 20.623 762.063 20.623C873.569 20.623 963.963 111.017 963.963 222.524Z" fill="#B3B5E1" class="step-4 accent"/>\n<path id="step-4-accent_2" d="M962.812 222.523C962.811 111.653 872.933 21.7754 762.062 21.7754C651.192 21.7755 561.315 111.653 561.314 222.523C561.314 333.394 651.192 423.272 762.062 423.272V424.424L760.757 424.42C650.286 423.72 560.865 334.3 560.166 223.829L560.162 222.523C560.162 111.017 650.556 20.6232 762.062 20.623L763.368 20.627C874.274 21.3292 963.963 111.452 963.963 222.523L963.959 223.829C963.257 334.735 873.134 424.424 762.062 424.424V423.272C872.933 423.272 962.812 333.394 962.812 222.523Z" fill="white" class="step-4 accent"/>\n<rect x="498.166015625" y="384.0625" width="50" height="50" class="step-4 card image" fill="#666666"/>\n<rect id="step-4-card-textbox-right" x="109.998" y="384.992" width="375" height="100" fill="#D9D9D9" class="step-4 card textbox right top"/>\n<rect id="step-4-selection" x="102.5" y="377.5" width="453" height="114" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3_2" d="M483.4 295.416L482.93 293.753L605.999 258.993L606.469 260.656L483.4 295.416Z" fill="black" class="step-3"/>\n<path id="step-3-accent" d="M923.065 222.812C923.065 311.572 851.111 383.526 762.351 383.526C673.591 383.526 601.637 311.572 601.637 222.812C601.637 134.052 673.591 62.0977 762.351 62.0977C851.111 62.0977 923.065 134.052 923.065 222.812Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M921.913 222.812C921.913 134.688 850.474 63.25 762.351 63.25C674.227 63.2501 602.789 134.688 602.789 222.812C602.789 310.935 674.227 382.374 762.351 382.374V383.525L760.273 383.513C673.162 382.409 602.753 312 601.649 224.889L601.637 222.812C601.637 134.052 673.591 62.0978 762.351 62.0977L764.428 62.1104C852.23 63.2224 923.064 134.745 923.064 222.812L923.052 224.889C921.94 312.691 850.417 383.525 762.351 383.525V382.374C850.474 382.374 921.913 310.935 921.913 222.812Z" fill="white" class="step-3 accent"/>\n<rect id="step-3-card-image" x="424.998" y="269.992" width="50" height="50" fill="#D9D9D9" class="step-3 card image"/>\n<rect id="step-3-card-textbox" x="37.998" y="268.992" width="375" height="100" fill="#D9D9D9" class="step-3 card textbox right top"/>\n<rect id="step-3-selection-right" x="30.5" y="262.5" width="453" height="114" stroke="black" class="step-3 selection right"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2_2" d="M484.091 172.776L484.341 171.066L648 194.993L647.75 196.703L484.091 172.776Z" fill="black" class="step-2"/>\n<path id="step-2-accent" d="M879.288 223.1C879.288 287.841 826.677 340.324 761.777 340.324C696.877 340.324 644.266 287.841 644.266 223.1C644.266 158.36 696.877 105.877 761.777 105.877C826.677 105.877 879.288 158.36 879.288 223.1Z" fill="#666BC3" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M878.137 223.101C878.137 158.999 826.043 107.029 761.777 107.029C697.511 107.029 645.418 158.999 645.418 223.101C645.418 287.202 697.511 339.172 761.777 339.172V340.323L760.258 340.314C696.564 339.509 645.082 288.153 644.275 224.615L644.266 223.101C644.266 158.36 696.878 105.877 761.777 105.877L763.296 105.887C827.496 106.698 879.288 158.866 879.288 223.101L879.278 224.615C878.465 288.658 826.17 340.323 761.777 340.323V339.172C826.043 339.172 878.137 287.202 878.137 223.101Z" fill="white" class="step-2 accent"/>\n<rect id="step-2-card-image" x="426.998" y="143.992" width="50" height="50" fill="#D9D9D9" class="step-2 card image"/>\n<rect id="step-2-card-textbox-right" x="37.998" y="143.992" width="375" height="100" fill="#D9D9D9" class="step-2 card textbox right top"/>\n<rect id="step-2-selection" x="30.5" y="138.5" width="454" height="114" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1_2" d="M570.648 60.5445L571.705 59.1768L718.994 172.992L717.938 174.359L570.648 60.5445Z" fill="black" class="step-1"/>\n<path id="step-1-accent" d="M830.322 223.1C830.322 260.481 800.018 290.784 762.637 290.784C725.256 290.784 694.953 260.481 694.953 223.1C694.953 185.719 725.256 155.416 762.637 155.416C800.018 155.416 830.322 185.719 830.322 223.1Z" fill="#4046B4" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M829.17 223.101C829.17 186.356 799.382 156.569 762.638 156.568C725.893 156.568 696.105 186.356 696.105 223.101C696.106 259.845 725.893 289.633 762.638 289.633V290.784L761.763 290.779C725.076 290.315 695.423 260.661 694.959 223.975L694.953 223.101C694.953 185.72 725.257 155.416 762.638 155.416L763.512 155.422C800.49 155.89 830.321 186.012 830.321 223.101L830.316 223.975C829.848 260.952 799.727 290.784 762.638 290.784V289.633C799.382 289.633 829.17 259.845 829.17 223.101Z" fill="white" class="step-1 accent"/>\n<rect id="step-1-card-image" x="514.998" y="24.9922" width="50" height="50" fill="#D9D9D9" class="step-1 card image"/>\n<rect id="step-1-card-textbox-right" x="125.998" y="24.9922" width="375" height="100" fill="#D9D9D9" class="step-1 card textbox right top"/>\n<rect id="step-1-selection" x="118.5" y="17.5" width="453" height="115" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("bullseye_","")),n]})),tk="bullseye",tS={key:tk,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:4,l=tj.get(r);return l?(0,a.jsx)(tx,{svgData:l,templateKey:tk,svgScalingFactor:tS.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"EV9YnT"}),icon:tA.pvD,previewImage:{src:"/_next/static/media/bullseye.d2d2476f.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],stepSvgData:tj,formattingMenu:Z,defaultData:()=>y(tj),svgScalingFactor:1},tI=new Map(Object.entries({hot_air_balloons_1:'<svg class="hot_air_balloons" width="799.6246960000001" height="442.8915960000001" viewBox="70.78670199999998 56.614802 799.6246960000001 442.8915960000001" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="hot_air_balloons" class="hot_air_balloons">\n<g id="step-1" class="step-1">\n<path id="step-1-accent-no-border" d="M748.035 436.992H746.484V395.756H748.035V436.992ZM732.565 72.9727C709.583 85.3485 692.581 127.636 692.228 178.12L692.216 178.123L745.819 398.9L639.533 178.506H639.497C639.497 178.481 639.497 178.456 639.497 178.431L639.164 177.739H639.501C639.883 124.183 680.251 80.0234 732.565 72.9727ZM759.924 72.7188C813.221 78.8861 854.631 123.493 855.018 177.74H855.034L854.909 178.665L748.852 398.581L800.729 178.124H800.744C800.389 127.286 783.151 84.7593 759.924 72.7188ZM748.035 71.9922C750.35 72.0083 752.648 72.0976 754.926 72.2559C765.757 75.9123 775.698 86.5114 783.466 102.315C792.968 121.649 798.954 148.312 799.191 177.894L748.035 395.298V71.9922ZM746.486 395.068L693.781 177.995C694.006 148.373 699.995 121.671 709.508 102.315C717.162 86.7419 726.926 76.219 737.573 72.416C740.512 72.1572 743.485 72.0131 746.486 71.9922V395.068Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_2" d="M747.164 436.129C760.419 436.129 771.164 446.874 771.164 460.129C771.164 473.384 760.419 484.129 747.164 484.129C733.909 484.129 723.164 473.384 723.164 460.129C723.164 446.874 733.909 436.129 747.164 436.129ZM747.164 439.129C735.566 439.129 726.164 448.531 726.164 460.129C726.164 471.727 735.566 481.129 747.164 481.129C758.762 481.129 768.164 471.727 768.164 460.129C768.164 448.531 758.762 439.129 747.164 439.129ZM747.164 440.129C758.21 440.129 767.164 449.083 767.164 460.129C767.164 471.175 758.21 480.129 747.164 480.129C736.118 480.129 727.164 471.175 727.164 460.129C727.164 449.083 736.118 440.129 747.164 440.129Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_3" d="M106.164 222.992C117.21 222.992 126.164 231.946 126.164 242.992C126.164 254.038 117.21 262.992 106.164 262.992C95.1184 262.992 86.1641 254.038 86.1641 242.992C86.1641 231.946 95.1184 222.992 106.164 222.992ZM106.164 225.492C96.4991 225.492 88.6641 233.327 88.6641 242.992C88.6641 252.657 96.4991 260.492 106.164 260.492C115.829 260.492 123.664 252.657 123.664 242.992C123.664 233.327 115.829 225.492 106.164 225.492ZM106.164 226.325C115.369 226.325 122.831 233.787 122.831 242.992C122.831 252.197 115.369 259.659 106.164 259.659C96.9593 259.659 89.4971 252.197 89.4971 242.992C89.4971 233.787 96.9593 226.325 106.164 226.325Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left-top" x="148.164" y="233.992" width="352" height="79" fill="#D9D9D9" class="step-1 card textbox left top"/>\n<rect id="step-1-accent-image" x="97.1641" y="233.992" width="18.33" height="18.33" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="89.6641" y="226.492" width="418" height="94" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',hot_air_balloons_2:'<svg class="hot_air_balloons" width="836.83704" height="444.18604" viewBox="79.90698 56.906980000000004 836.83704 444.18604" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="hot_air_balloons" class="hot_air_balloons">\n<g id="step-2" class="step-2">\n<path id="step-2-accent-no-border" d="M793.652 438H792.102V396.764H793.652V438ZM791.434 399.908L729.035 270.52L749.644 227.787L791.434 399.908ZM805.541 73.7266C858.838 79.8939 900.248 124.501 900.635 178.748H900.651L900.526 179.673L794.469 399.589L846.346 179.132H846.361C846.006 128.294 828.768 85.7671 805.541 73.7266ZM793.648 73C795.963 73.0161 798.261 73.1054 800.539 73.2637C811.37 76.9201 821.311 87.5192 829.079 103.323C838.581 122.656 844.567 149.32 844.805 178.901L793.648 396.306V73ZM792.099 396.076L750.703 225.586L778.854 167.215L778.966 166.397H778.951C778.781 142.533 769.621 120.781 754.653 104.285C754.808 103.963 754.964 103.642 755.12 103.323C762.774 87.7498 772.539 77.2268 783.186 73.4238C786.124 73.165 789.097 73.0209 792.099 73V396.076ZM718.503 102.432C726.133 119.444 730.844 141.973 731.017 166.736H731.003L713.944 239.227L713 237.269L729.645 166.534C729.449 142.221 724.857 120.141 717.457 103.432C717.803 103.096 718.152 102.763 718.503 102.432ZM778.182 73.9805C768.695 79.0888 760.23 89.2945 753.531 103.068C748.446 97.6569 742.725 92.8382 736.484 88.7285C748.933 81.1576 763.059 76.0187 778.182 73.9805Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_2" d="M792.777 437C806.032 437 816.777 447.745 816.777 461C816.777 474.255 806.032 485 792.777 485C779.523 485 768.777 474.255 768.777 461C768.777 447.745 779.523 437 792.777 437ZM792.777 440C781.179 440 771.777 449.402 771.777 461C771.777 472.598 781.179 482 792.777 482C804.375 482 813.777 472.598 813.777 461C813.777 449.402 804.375 440 792.777 440ZM792.777 441C803.823 441 812.777 449.954 812.777 461C812.777 472.046 803.823 481 792.777 481C781.732 481 772.777 472.046 772.777 461C772.777 449.954 781.732 441 792.777 441Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_3" d="M116 279C127.046 279 136 287.954 136 299C136 310.046 127.046 319 116 319C104.954 319 96 310.046 96 299C96 287.954 104.954 279 116 279ZM116 281.5C106.335 281.5 98.5 289.335 98.5 299C98.5 308.665 106.335 316.5 116 316.5C125.665 316.5 133.5 308.665 133.5 299C133.5 289.335 125.665 281.5 116 281.5ZM116 282.333C125.205 282.333 132.667 289.795 132.667 299C132.667 308.205 125.205 315.667 116 315.667C106.795 315.667 99.333 308.205 99.333 299C99.333 289.795 106.795 282.333 116 282.333Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left-top" x="158" y="290" width="352" height="79" fill="#D9D9D9" class="step-2 card textbox left top"/>\n<rect id="step-2-accent-image" x="107" y="290" width="18.33" height="18.33" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="99.5" y="282.5" width="418" height="94" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent-no-border" d="M684.686 437.768H683.315V358.952H684.686V437.768ZM671.021 73.8662C650.723 84.7967 635.706 122.145 635.395 166.733L635.384 166.736L682.728 361.729L588.854 167.074H588.822C588.822 167.052 588.822 167.031 588.822 167.009L588.527 166.397H588.826C589.163 119.096 624.817 80.0935 671.021 73.8662ZM695.187 73.6416C742.259 79.0887 778.833 118.485 779.175 166.397H779.189L779.078 167.215L685.407 361.447L731.226 166.736H731.239C730.926 121.836 715.701 84.2761 695.187 73.6416ZM684.686 73C686.73 73.0142 688.759 73.0926 690.771 73.2324C700.337 76.4618 709.118 85.8237 715.979 99.7822C724.371 116.858 729.657 140.408 729.867 166.534L684.686 358.548V73ZM683.315 358.346L636.766 166.624C636.964 140.462 642.253 116.877 650.655 99.7822C657.416 86.0272 666.041 76.7328 675.444 73.374C678.04 73.1455 680.665 73.0185 683.315 73V358.346Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_2" d="M684 437C697.255 437 708 447.745 708 461C708 474.255 697.255 485 684 485C670.745 485 660 474.255 660 461C660 447.745 670.745 437 684 437ZM684 440C672.402 440 663 449.402 663 461C663 472.598 672.402 482 684 482C695.598 482 705 472.598 705 461C705 449.402 695.598 440 684 440ZM684 441C695.046 441 704 449.954 704 461C704 472.046 695.046 481 684 481C672.954 481 664 472.046 664 461C664 449.954 672.954 441 684 441Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_3" d="M116 170C127.046 170 136 178.954 136 190C136 201.046 127.046 210 116 210C104.954 210 96 201.046 96 190C96 178.954 104.954 170 116 170ZM116 172.5C106.335 172.5 98.5 180.335 98.5 190C98.5 199.665 106.335 207.5 116 207.5C125.665 207.5 133.5 199.665 133.5 190C133.5 180.335 125.665 172.5 116 172.5ZM116 173.333C125.205 173.333 132.667 180.795 132.667 190C132.667 199.205 125.205 206.667 116 206.667C106.795 206.667 99.333 199.205 99.333 190C99.333 180.795 106.795 173.333 116 173.333Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left-top" x="158" y="181" width="352" height="79" fill="#D9D9D9" class="step-1 card textbox left top"/>\n<rect id="step-1-accent-image" x="107" y="181" width="18.33" height="18.33" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="99.5" y="173.5" width="418" height="94" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',hot_air_balloons_3:'<svg class="hot_air_balloons" width="925.46896" height="447.59496" viewBox="37.20252 55.20252 925.46896 447.59496" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="hot_air_balloons" class="hot_air_balloons">\n<g id="step-3" class="step-3">\n<path id="step-3-accent-no-border" d="M837.871 438H836.32V396.764H837.871V438ZM835.656 399.908L773.258 270.52L793.866 227.787L835.656 399.908ZM849.764 73.7266C903.06 79.8939 944.471 124.501 944.857 178.748H944.874L944.749 179.673L838.691 399.589L890.568 179.132H890.584C890.229 128.294 872.991 85.7671 849.764 73.7266ZM837.875 73C840.19 73.0161 842.488 73.1054 844.766 73.2637C855.596 76.9201 865.538 87.5192 873.306 103.323C882.808 122.656 888.794 149.32 889.031 178.901L837.875 396.306V73ZM836.321 396.076L794.926 225.586L823.077 167.215L823.188 166.397H823.174C823.004 142.533 813.844 120.781 798.876 104.285C799.031 103.963 799.186 103.642 799.343 103.323C806.997 87.7498 816.761 77.2268 827.408 73.4238C830.347 73.165 833.32 73.0209 836.321 73V396.076ZM762.726 102.432C770.355 119.444 775.066 141.973 775.239 166.736H775.226L758.167 239.227L757.223 237.269L773.867 166.534C773.672 142.221 769.079 120.141 761.68 103.432C762.026 103.096 762.375 102.763 762.726 102.432ZM822.4 73.9805C812.914 79.0888 804.448 89.2945 797.75 103.068C792.665 97.6569 786.944 92.8382 780.703 88.7285C793.152 81.1576 807.277 76.0187 822.4 73.9805Z" fill="#666BC3" class="step-3 accent no-border"/>\n<path id="step-3-accent-no-border_2" d="M837 437C850.255 437 861 447.745 861 461C861 474.255 850.255 485 837 485C823.745 485 813 474.255 813 461C813 447.745 823.745 437 837 437ZM837 440C825.402 440 816 449.402 816 461C816 472.598 825.402 482 837 482C848.598 482 858 472.598 858 461C858 449.402 848.598 440 837 440ZM837 441C848.046 441 857 449.954 857 461C857 472.046 848.046 481 837 481C825.954 481 817 472.046 817 461C817 449.954 825.954 441 837 441Z" fill="#666BC3" class="step-3 accent no-border"/>\n<path id="step-3-accent-no-border_3" d="M75 333C86.0457 333 95 341.954 95 353C95 364.046 86.0457 373 75 373C63.9543 373 55 364.046 55 353C55 341.954 63.9543 333 75 333ZM75 335.5C65.335 335.5 57.5 343.335 57.5 353C57.5 362.665 65.335 370.5 75 370.5C84.665 370.5 92.5 362.665 92.5 353C92.5 343.335 84.665 335.5 75 335.5ZM75 336.333C84.2047 336.333 91.667 343.795 91.667 353C91.667 362.205 84.2047 369.667 75 369.667C65.7953 369.667 58.333 362.205 58.333 353C58.333 343.795 65.7953 336.333 75 336.333Z" fill="#666BC3" class="step-3 accent no-border"/>\n<rect id="step-3-card-textbox-left-top" x="117" y="344" width="352" height="79" fill="#D9D9D9" class="step-3 card textbox left top"/>\n<rect id="step-3-accent-image" x="66" y="344" width="18.33" height="18.33" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="58.5" y="336.5" width="418" height="94" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent-no-border" d="M728.685 437.768H727.314V358.952H728.685V437.768ZM726.727 361.729L664.32 232.325L684.931 189.589L726.727 361.729ZM739.186 73.6416C786.258 79.0887 822.832 118.485 823.174 166.397H823.188L823.077 167.215L729.406 361.447L775.225 166.736H775.238C774.925 121.836 759.7 84.2761 739.186 73.6416ZM728.685 73C730.729 73.0142 732.758 73.0926 734.771 73.2324C744.336 76.4618 753.117 85.8237 759.978 99.7822C768.37 116.858 773.656 140.408 773.866 166.534L728.685 358.548V73ZM727.314 358.346L685.868 187.646L701.502 155.229L701.732 153.524C701.5 138.332 697.078 124.143 689.557 112.039C691.089 107.664 692.795 103.564 694.654 99.7822C701.415 86.0272 710.04 76.7328 719.443 73.374C722.039 73.1455 724.664 73.0185 727.314 73V358.346ZM653.161 108.945C657.424 122.034 659.951 137.669 660.068 154.49H660.057L649.146 200.857L648.324 199.154L658.876 154.314C658.745 137.989 656.334 122.822 652.279 110.069C652.57 109.692 652.865 109.318 653.161 108.945ZM715.021 73.8662C704.277 79.6514 695.014 92.8374 688.627 110.58C683.915 103.344 678.08 96.8903 671.365 91.459C683.907 82.2669 698.814 76.0504 715.021 73.8662Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_2" d="M728 437C741.255 437 752 447.745 752 461C752 474.255 741.255 485 728 485C714.745 485 704 474.255 704 461C704 447.745 714.745 437 728 437ZM728 440C716.402 440 707 449.402 707 461C707 472.598 716.402 482 728 482C739.598 482 749 472.598 749 461C749 449.402 739.598 440 728 440ZM728 441C739.046 441 748 449.954 748 461C748 472.046 739.046 481 728 481C716.954 481 708 472.046 708 461C708 449.954 716.954 441 728 441Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_3" d="M75 224C86.0457 224 95 232.954 95 244C95 255.046 86.0457 264 75 264C63.9543 264 55 255.046 55 244C55 232.954 63.9543 224 75 224ZM75 226.5C65.335 226.5 57.5 234.335 57.5 244C57.5 253.665 65.335 261.5 75 261.5C84.665 261.5 92.5 253.665 92.5 244C92.5 234.335 84.665 226.5 75 226.5ZM75 227.333C84.2047 227.333 91.667 234.795 91.667 244C91.667 253.205 84.2047 260.667 75 260.667C65.7953 260.667 58.333 253.205 58.333 244C58.333 234.795 65.7953 227.333 75 227.333Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left-top" x="117" y="235" width="352" height="79" fill="#D9D9D9" class="step-2 card textbox left top"/>\n<rect id="step-2-accent-image" x="66" y="235" width="18.33" height="18.33" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="58.5" y="227.5" width="418" height="94" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent-no-border" d="M619.596 437H618.404V321.596H619.596V437ZM607.717 73.7529C590.07 83.2555 577.015 115.725 576.744 154.488L576.735 154.49L617.894 324.01L536.283 154.784H536.256C536.256 154.765 536.256 154.746 536.256 154.727L536 154.196H536.259C536.552 113.074 567.548 79.1667 607.717 73.7529ZM628.725 73.5576C669.427 78.2676 701.1 112.176 701.731 153.524L701.501 155.229L620.223 323.764L660.056 154.49H660.067C659.795 115.455 646.559 82.8028 628.725 73.5576ZM619.596 73C621.373 73.0124 623.138 73.0806 624.887 73.2021C633.203 76.0097 640.837 84.1483 646.801 96.2832C654.097 111.128 658.693 131.601 658.875 154.314L619.596 321.243V73ZM618.404 321.067L577.936 154.393C578.108 131.648 582.707 111.145 590.012 96.2832C595.889 84.3253 603.386 76.2451 611.562 73.3252C613.818 73.1265 616.1 73.0161 618.404 73V321.067Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_2" d="M619 437C632.255 437 643 447.745 643 461C643 474.255 632.255 485 619 485C605.745 485 595 474.255 595 461C595 447.745 605.745 437 619 437ZM619 440C607.402 440 598 449.402 598 461C598 472.598 607.402 482 619 482C630.598 482 640 472.598 640 461C640 449.402 630.598 440 619 440ZM619 441C630.046 441 639 449.954 639 461C639 472.046 630.046 481 619 481C607.954 481 599 472.046 599 461C599 449.954 607.954 441 619 441Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_3" d="M75 115C86.0457 115 95 123.954 95 135C95 146.046 86.0457 155 75 155C63.9543 155 55 146.046 55 135C55 123.954 63.9543 115 75 115ZM75 117.5C65.335 117.5 57.5 125.335 57.5 135C57.5 144.665 65.335 152.5 75 152.5C84.665 152.5 92.5 144.665 92.5 135C92.5 125.335 84.665 117.5 75 117.5ZM75 118.333C84.2047 118.333 91.667 125.795 91.667 135C91.667 144.205 84.2047 151.667 75 151.667C65.7953 151.667 58.333 144.205 58.333 135C58.333 125.795 65.7953 118.333 75 118.333Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left-top" x="117" y="126" width="352" height="79" fill="#D9D9D9" class="step-1 card textbox left top"/>\n<rect id="step-1-accent-image" x="66" y="126" width="18.33" height="18.33" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="58.5" y="118.5" width="418" height="94" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',hot_air_balloons_4:'<svg class="hot_air_balloons" width="1008.6648" height="456.0409" viewBox="-1.397400000000001 53.3565 1008.6648 456.0409" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="hot_air_balloons" class="hot_air_balloons">\n<g id="step-4" class="step-4">\n<path id="step-4-accent-no-border" d="M880.871 438H879.32V396.764H880.871V438ZM878.656 399.908L816.258 270.52L836.866 227.787L878.656 399.908ZM892.76 73.7266C946.057 79.8939 987.467 124.501 987.854 178.748H987.87L987.745 179.673L881.688 399.589L933.564 179.132H933.58C933.225 128.294 915.987 85.7671 892.76 73.7266ZM880.871 73C883.186 73.0161 885.484 73.1054 887.762 73.2637C898.593 76.9201 908.534 87.5192 916.302 103.323C925.804 122.656 931.79 149.32 932.027 178.901L880.871 396.306V73ZM879.321 396.076L837.926 225.586L866.077 167.215L866.188 166.397H866.174C866.004 142.533 856.844 120.781 841.876 104.285C842.031 103.963 842.186 103.642 842.343 103.323C849.997 87.7498 859.761 77.2268 870.408 73.4238C873.347 73.165 876.32 73.0209 879.321 73V396.076ZM805.726 102.432C813.355 119.444 818.066 141.973 818.239 166.736H818.226L801.167 239.227L800.223 237.269L816.867 166.534C816.672 142.221 812.079 120.141 804.68 103.432C805.026 103.096 805.375 102.763 805.726 102.432ZM865.4 73.9805C855.914 79.0888 847.448 89.2945 840.75 103.068C835.665 97.6569 829.944 92.8382 823.703 88.7285C836.152 81.1576 850.277 76.0187 865.4 73.9805Z" fill="#4046B4" class="step-4 accent no-border"/>\n<path id="step-4-accent-no-border_2" d="M880 437C893.255 437 904 447.745 904 461C904 474.255 893.255 485 880 485C866.745 485 856 474.255 856 461C856 447.745 866.745 437 880 437ZM880 440C868.402 440 859 449.402 859 461C859 472.598 868.402 482 880 482C891.598 482 901 472.598 901 461C901 449.402 891.598 440 880 440ZM880 441C891.046 441 900 449.954 900 461C900 472.046 891.046 481 880 481C868.954 481 860 472.046 860 461C860 449.954 868.954 441 880 441Z" fill="#4046B4" class="step-4 accent no-border"/>\n<path id="step-4-accent-no-border_3" d="M38 400C49.0457 400 58 408.954 58 420C58 431.046 49.0457 440 38 440C26.9543 440 18 431.046 18 420C18 408.954 26.9543 400 38 400ZM38 402.5C28.335 402.5 20.5 410.335 20.5 420C20.5 429.665 28.335 437.5 38 437.5C47.665 437.5 55.5 429.665 55.5 420C55.5 410.335 47.665 402.5 38 402.5ZM38 403.333C47.2047 403.333 54.667 410.795 54.667 420C54.667 429.205 47.2047 436.667 38 436.667C28.7953 436.667 21.333 429.205 21.333 420C21.333 410.795 28.7953 403.333 38 403.333Z" fill="#4046B4" class="step-4 accent no-border"/>\n<rect id="step-4-card-textbox-left-top" x="79.9102" y="411" width="352" height="79" fill="#D9D9D9" class="step-4 card textbox left top"/>\n<rect id="step-4-accent-image" x="28.9102" y="411" width="18.33" height="18.33" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="21.4102" y="403.5" width="418" height="94" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent-no-border" d="M766.36 437.768H764.99V358.952H766.36V437.768ZM764.402 361.729L701.996 232.325L722.606 189.589L764.402 361.729ZM776.861 73.6416C823.934 79.0887 860.508 118.485 860.85 166.397H860.864L860.753 167.215L767.082 361.447L812.9 166.736H812.914C812.601 121.836 797.376 84.2761 776.861 73.6416ZM766.36 73C768.405 73.0142 770.434 73.0926 772.446 73.2324C782.012 76.4618 790.793 85.8237 797.653 99.7822C806.046 116.858 811.332 140.408 811.542 166.534L766.36 358.548V73ZM764.99 358.346L723.544 187.646L739.178 155.229L739.408 153.524C739.176 138.332 734.754 124.143 727.232 112.039C728.765 107.664 730.471 103.564 732.33 99.7822C739.091 86.0272 747.715 76.7328 757.119 73.374C759.714 73.1455 762.339 73.0185 764.99 73V358.346ZM690.837 108.945C695.1 122.034 697.627 137.669 697.744 154.49H697.732L686.821 200.857L686 199.154L696.552 154.314C696.421 137.989 694.01 122.822 689.955 110.069C690.246 109.692 690.54 109.318 690.837 108.945ZM752.696 73.8662C741.953 79.6514 732.69 92.8374 726.303 110.58C721.591 103.344 715.756 96.8903 709.041 91.459C721.582 82.2669 736.49 76.0504 752.696 73.8662Z" fill="#666BC3" class="step-3 accent no-border"/>\n<path id="step-3-accent-no-border_2" d="M771 437C784.255 437 795 447.745 795 461C795 474.255 784.255 485 771 485C757.745 485 747 474.255 747 461C747 447.745 757.745 437 771 437ZM771 440C759.402 440 750 449.402 750 461C750 472.598 759.402 482 771 482C782.598 482 792 472.598 792 461C792 449.402 782.598 440 771 440ZM771 441C782.046 441 791 449.954 791 461C791 472.046 782.046 481 771 481C759.954 481 751 472.046 751 461C751 449.954 759.954 441 771 441Z" fill="#666BC3" class="step-3 accent no-border"/>\n<path id="step-3-accent-no-border_3" d="M38 291C49.0457 291 58 299.954 58 311C58 322.046 49.0457 331 38 331C26.9543 331 18 322.046 18 311C18 299.954 26.9543 291 38 291ZM38 293.5C28.335 293.5 20.5 301.335 20.5 311C20.5 320.665 28.335 328.5 38 328.5C47.665 328.5 55.5 320.665 55.5 311C55.5 301.335 47.665 293.5 38 293.5ZM38 294.333C47.2047 294.333 54.667 301.795 54.667 311C54.667 320.205 47.2047 327.667 38 327.667C28.7953 327.667 21.333 320.205 21.333 311C21.333 301.795 28.7953 294.333 38 294.333Z" fill="#666BC3" class="step-3 accent no-border"/>\n<rect id="step-3-card-textbox-left-top" x="79.9102" y="302" width="352" height="79" fill="#D9D9D9" class="step-3 card textbox left top"/>\n<rect id="step-3-accent-image" x="28.9102" y="302" width="18.33" height="18.33" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="21.4102" y="294.5" width="418" height="94" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent-no-border" d="M662.598 437H661.406V321.596H662.598V437ZM619.991 146.417C619.849 149.073 619.765 151.765 619.746 154.488L619.737 154.49L660.896 324.01L597.75 193.074L619.991 146.417ZM671.727 73.5576C712.429 78.2676 744.102 112.176 744.733 153.524L744.503 155.229L663.225 323.764L703.058 154.49H703.069C702.797 115.455 689.561 82.8028 671.727 73.5576ZM662.598 73C664.375 73.0124 666.139 73.0806 667.889 73.2021C676.205 76.0097 683.839 84.1483 689.803 96.2832C697.099 111.128 701.694 131.601 701.877 154.314L662.598 321.243V73ZM661.406 321.067L620.938 154.393C620.965 150.711 621.111 147.089 621.363 143.539L621.775 142.676L621.998 141.747C621.989 140.448 621.943 139.157 621.863 137.875C623.568 121.789 627.528 107.445 633.014 96.2832C638.891 84.3253 646.388 76.2451 654.563 73.3252C656.82 73.1265 659.102 73.0161 661.406 73V321.067ZM585.653 123.203C586.484 129.187 586.951 135.489 586.996 142.001H586.986L582.475 161.397L581.781 159.961L585.994 141.852C585.948 136.059 585.566 130.438 584.891 125.065C585.137 124.441 585.392 123.82 585.653 123.203ZM650.719 73.7529C636.535 81.3906 625.32 103.865 621.322 132.52C619.375 118.622 613.319 106.044 604.42 96.0508C616.768 84.2216 632.834 76.1633 650.719 73.7529Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_2" d="M662 437C675.255 437 686 447.745 686 461C686 474.255 675.255 485 662 485C648.745 485 638 474.255 638 461C638 447.745 648.745 437 662 437ZM662 440C650.402 440 641 449.402 641 461C641 472.598 650.402 482 662 482C673.598 482 683 472.598 683 461C683 449.402 673.598 440 662 440ZM662 441C673.046 441 682 449.954 682 461C682 472.046 673.046 481 662 481C650.954 481 642 472.046 642 461C642 449.954 650.954 441 662 441Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<path id="step-2-accent-no-border_3" d="M38 182C49.0457 182 58 190.954 58 202C58 213.046 49.0457 222 38 222C26.9543 222 18 213.046 18 202C18 190.954 26.9543 182 38 182ZM38 184.5C28.335 184.5 20.5 192.335 20.5 202C20.5 211.665 28.335 219.5 38 219.5C47.665 219.5 55.5 211.665 55.5 202C55.5 192.335 47.665 184.5 38 184.5ZM38 185.333C47.2047 185.333 54.667 192.795 54.667 202C54.667 211.205 47.2047 218.667 38 218.667C28.7953 218.667 21.333 211.205 21.333 202C21.333 192.795 28.7953 185.333 38 185.333Z" fill="#8C90D2" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left-top" x="79.9102" y="193" width="352" height="79" fill="#D9D9D9" class="step-2 card textbox left top"/>\n<rect id="step-2-accent-image" x="28.9102" y="193" width="18.33" height="18.33" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="21.4102" y="185.5" width="418" height="94" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent-no-border" d="M553 437H552V284H553V437ZM543.022 73.3936C528.2 81.4684 517.236 109.06 517.008 141.999L517 142.001L551.57 286.052L483.023 142.251H483C483 142.235 483 142.218 483 142.202L482.785 141.751H483.003C483.249 106.807 509.283 77.994 543.022 73.3936ZM560.668 73.2275C595.04 77.2513 621.745 106.354 621.996 141.747L621.773 142.676L553.527 285.843L586.984 142.001H586.994C586.765 108.831 575.648 81.0836 560.668 73.2275ZM553 72.7539C554.493 72.7644 555.975 72.8225 557.444 72.9258C564.429 75.3115 570.841 82.2273 575.851 92.5391C581.979 105.153 585.839 122.551 585.992 141.852L553 283.701V72.7539ZM552 283.552L518.009 141.918C518.154 122.59 522.016 105.168 528.151 92.5391C533.088 82.3776 539.385 75.5115 546.252 73.0303C548.147 72.8614 550.064 72.7675 552 72.7539V283.552Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_2" d="M552 437C565.255 437 576 447.745 576 461C576 474.255 565.255 485 552 485C538.745 485 528 474.255 528 461C528 447.745 538.745 437 552 437ZM552 440C540.402 440 531 449.402 531 461C531 472.598 540.402 482 552 482C563.598 482 573 472.598 573 461C573 449.402 563.598 440 552 440ZM552 441C563.046 441 572 449.954 572 461C572 472.046 563.046 481 552 481C540.954 481 532 472.046 532 461C532 449.954 540.954 441 552 441Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<path id="step-1-accent-no-border_3" d="M38 73C49.0457 73 58 81.9543 58 93C58 104.046 49.0457 113 38 113C26.9543 113 18 104.046 18 93C18 81.9543 26.9543 73 38 73ZM38 75.5C28.335 75.5 20.5 83.335 20.5 93C20.5 102.665 28.335 110.5 38 110.5C47.665 110.5 55.5 102.665 55.5 93C55.5 83.335 47.665 75.5 38 75.5ZM38 76.333C47.2047 76.333 54.667 83.7953 54.667 93C54.667 102.205 47.2047 109.667 38 109.667C28.7953 109.667 21.333 102.205 21.333 93C21.333 83.7953 28.7953 76.333 38 76.333Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left-top" x="79.9102" y="84" width="352" height="79" fill="#D9D9D9" class="step-1 card textbox left top"/>\n<rect id="step-1-accent-image" x="28.9102" y="84" width="18.33" height="18.33" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="21.4102" y="76.5" width="418" height="94" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("hot_air_balloons_","")),n]})),tE="hot_air_balloons",tR={key:tE,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:4,l=tI.get(r);return l?(0,a.jsx)(tx,{svgData:l,templateKey:tE,svgScalingFactor:tR.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"5Ds1yY"}),icon:i.yM2,previewImage:{src:"/_next/static/media/hot_air_balloon.6db7640a.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",stepSvgData:tI,formattingMenu:Z,defaultData:()=>y(tI),svgScalingFactor:1},tL=new Map(Object.entries({iceberg_icons_1:'<svg class="iceberg_icons" width="814.32" height="435.8203" viewBox="93.34 49.47670000000001 814.32 435.8203" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.137C307.957 397.962 306.072 407.252 303.5 420.637L254.5 469.637L231 417.137V408.637L213.25 387.137H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.137L344.999 350.137L315.999 371.637C314.016 377.406 312.426 382.418 311.069 387.137H213.249L195.499 365.637L174.129 306.137H354.39L353.999 307.137Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.137H174.13L170 294.637C159.36 271.216 136.651 256.643 109 227.137C109.247 226.801 109.495 226.469 109.74 226.137H385.609L354.391 306.137Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 145.637L337.5 172.637L394 204.637L385.609 226.137H109.74C131.313 196.945 144.614 180.826 159 147.137L160.421 144.137H166.846C164.932 146.754 164.424 149.061 164 152.637C159.879 162.321 157.165 167.745 151.5 177.137C141.279 189.176 136.783 196.9 128 210.137L123 218.137V220.637L233.5 212.137L270.5 191.137C269.722 179.753 272.476 173.422 281 162.137C283.168 158.406 283.645 156.396 282.5 152.637L270.847 144.137H321.607L322.5 145.637Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.1367C280.948 93.4269 286.901 97.0982 297.493 103.632L297.501 103.637L321.608 144.137H270.848L240.001 121.637C246.708 101.22 251.58 88.7555 252.001 74.1367C231.212 85.7865 217.838 92.8554 211.001 100.137L199.001 124.137C188.124 132.784 179.864 134.33 169.001 141.637C168.13 142.527 167.425 143.346 166.847 144.137H160.422L163.501 137.637C189.956 125.875 199.846 117.528 205.501 98.6367C217.083 86.4132 232.165 78.6253 255.501 65.1367H257.501L271.001 85.1367Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 85.2734C438.046 85.2734 447 94.2277 447 105.273C447 116.319 438.046 125.273 427 125.273C416.629 125.273 408.103 117.38 407.1 107.273H299.583L298.393 105.273H407C407 94.2277 415.954 85.2734 427 85.2734Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="82.2734" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-image" x="417" y="95.2734" width="20" height="20" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="409.5" y="74.7734" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_icons_2:'<svg class="iceberg_icons" width="814.32" height="435.8197" viewBox="93.34 50.2033 814.32 435.8197" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.863C307.957 398.689 306.072 407.978 303.5 421.363L254.5 470.363L231 417.863V409.363L213.25 387.863H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.863L344.999 350.863L315.999 372.363C314.016 378.133 312.426 383.144 311.069 387.863H213.249L195.499 366.363L174.129 306.863H354.39L353.999 307.863Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.863H174.13L170 295.363C159.36 271.942 136.651 257.37 109 227.863C109.247 227.528 109.495 227.195 109.74 226.863H385.609L354.391 306.863Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 146.363L337.5 173.363L394 205.363L385.609 226.863H109.74C131.313 197.671 144.614 181.553 159 147.863L160.421 144.863H166.846C164.932 147.48 164.424 149.788 164 153.363C159.879 163.048 157.165 168.472 151.5 177.863C141.279 189.903 136.783 197.626 128 210.863L123 218.863V221.363L233.5 212.863L270.5 191.863C269.722 180.48 272.476 174.149 281 162.863C283.168 159.132 283.645 157.123 282.5 153.363L270.847 144.863H321.607L322.5 146.363Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.8633C280.948 94.1535 286.901 97.8248 297.493 104.358L297.501 104.363L321.608 144.863H270.848L240.001 122.363C246.708 101.947 251.58 89.482 252.001 74.8633C231.212 86.5131 217.838 93.5819 211.001 100.863L199.001 124.863C188.124 133.511 179.864 135.057 169.001 142.363C168.13 143.254 167.425 144.073 166.847 144.863H160.422L163.501 138.363C189.956 126.602 199.846 118.254 205.501 99.3633C217.083 87.1398 232.165 79.3519 255.501 65.8633H257.501L271.001 85.8633Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 86C438.046 86 447 94.9543 447 106C447 117.046 438.046 126 427 126C416.629 126 408.103 118.107 407.1 108H299.583L298.393 106H407C407 94.9543 415.954 86 427 86Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="83" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-image" x="417" y="96" width="20" height="20" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="409.5" y="75.5" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M427 166C438.046 166 447 174.954 447 186C447 197.046 438.046 206 427 206C415.954 206 407 197.046 407 186H359.57L356.039 184H407.1C408.103 173.893 416.629 166 427 166Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="465" y="163" width="427" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-accent-image" x="417" y="176" width="20" height="20" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="409.5" y="155.5" width="490" height="60" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_icons_3:'<svg class="iceberg_icons" width="814.32" height="435.8197" viewBox="93.34 50.2033 814.32 435.8197" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.863C307.957 398.689 306.072 407.978 303.5 421.363L254.5 470.363L231 417.863V409.363L213.25 387.863H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.863L344.999 350.863L315.999 372.363C314.016 378.133 312.426 383.144 311.069 387.863H213.249L195.499 366.363L174.129 306.863H354.39L353.999 307.863Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.863H174.13L170 295.363C159.36 271.942 136.651 257.37 109 227.863C109.247 227.528 109.495 227.195 109.74 226.863H385.609L354.391 306.863Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 146.363L337.5 173.363L394 205.363L385.609 226.863H109.74C131.313 197.671 144.614 181.553 159 147.863L160.421 144.863H166.846C164.932 147.48 164.424 149.788 164 153.363C159.879 163.048 157.165 168.472 151.5 177.863C141.279 189.903 136.783 197.626 128 210.863L123 218.863V221.363L233.5 212.863L270.5 191.863C269.722 180.48 272.476 174.149 281 162.863C283.168 159.132 283.645 157.123 282.5 153.363L270.847 144.863H321.607L322.5 146.363Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.8633C280.948 94.1535 286.901 97.8248 297.493 104.358L297.501 104.363L321.608 144.863H270.848L240.001 122.363C246.708 101.947 251.58 89.482 252.001 74.8633C231.212 86.5131 217.838 93.5819 211.001 100.863L199.001 124.863C188.124 133.511 179.864 135.057 169.001 142.363C168.13 143.254 167.425 144.073 166.847 144.863H160.422L163.501 138.363C189.956 126.602 199.846 118.254 205.501 99.3633C217.083 87.1398 232.165 79.3519 255.501 65.8633H257.501L271.001 85.8633Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 86C438.046 86 447 94.9543 447 106C447 117.046 438.046 126 427 126C416.629 126 408.103 118.107 407.1 108H299.583L298.393 106H407C407 94.9543 415.954 86 427 86Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="83" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-image" x="417" y="96" width="20" height="20" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="409.5" y="75.5" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M427 166C438.046 166 447 174.954 447 186C447 197.046 438.046 206 427 206C415.954 206 407 197.046 407 186H359.57L356.039 184H407.1C408.103 173.893 416.629 166 427 166Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="465" y="163" width="427" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-accent-image" x="417" y="176" width="20" height="20" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="409.5" y="155.5" width="490" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M427 246C438.046 246 447 254.954 447 266C447 277.046 438.046 286 427 286C416.29 286 407.546 277.581 407.025 267H370L370.78 265H407.025C407.546 254.419 416.29 246 427 246Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="465" y="243" width="427" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-accent-image" x="417" y="256" width="20" height="20" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="409.5" y="235.5" width="490" height="60" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_icons_4:'<svg class="iceberg_icons" width="814.32" height="435.8197" viewBox="93.34 50.2033 814.32 435.8197" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.863C307.957 398.689 306.072 407.978 303.5 421.363L254.5 470.363L231 417.863V409.363L213.25 387.863H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.863L344.999 350.863L315.999 372.363C314.016 378.133 312.426 383.144 311.069 387.863H213.249L195.499 366.363L174.129 306.863H354.39L353.999 307.863Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.863H174.13L170 295.363C159.36 271.942 136.651 257.37 109 227.863C109.247 227.528 109.495 227.195 109.74 226.863H385.609L354.391 306.863Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 146.363L337.5 173.363L394 205.363L385.609 226.863H109.74C131.313 197.671 144.614 181.553 159 147.863L160.421 144.863H166.846C164.932 147.48 164.424 149.788 164 153.363C159.879 163.048 157.165 168.472 151.5 177.863C141.279 189.903 136.783 197.626 128 210.863L123 218.863V221.363L233.5 212.863L270.5 191.863C269.722 180.48 272.476 174.149 281 162.863C283.168 159.132 283.645 157.123 282.5 153.363L270.847 144.863H321.607L322.5 146.363Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.8633C280.948 94.1535 286.901 97.8248 297.493 104.358L297.501 104.363L321.608 144.863H270.848L240.001 122.363C246.708 101.947 251.58 89.482 252.001 74.8633C231.212 86.5131 217.838 93.5819 211.001 100.863L199.001 124.863C188.124 133.511 179.864 135.057 169.001 142.363C168.13 143.254 167.425 144.073 166.847 144.863H160.422L163.501 138.363C189.956 126.602 199.846 118.254 205.501 99.3633C217.083 87.1398 232.165 79.3519 255.501 65.8633H257.501L271.001 85.8633Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 86C438.046 86 447 94.9543 447 106C447 117.046 438.046 126 427 126C416.629 126 408.103 118.107 407.1 108H299.583L298.393 106H407C407 94.9543 415.954 86 427 86Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="83" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-image" x="417" y="96" width="20" height="20" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="409.5" y="75.5" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M427 166C438.046 166 447 174.954 447 186C447 197.046 438.046 206 427 206C415.954 206 407 197.046 407 186H359.57L356.039 184H407.1C408.103 173.893 416.629 166 427 166Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="465" y="163" width="427" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-accent-image" x="417" y="176" width="20" height="20" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="409.5" y="155.5" width="490" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M427 246C438.046 246 447 254.954 447 266C447 277.046 438.046 286 427 286C416.29 286 407.546 277.581 407.025 267H370L370.78 265H407.025C407.546 254.419 416.29 246 427 246Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="465" y="243" width="427" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-accent-image" x="417" y="256" width="20" height="20" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="409.5" y="235.5" width="490" height="60" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M427 326C438.046 326 447 334.954 447 346C447 357.046 438.046 366 427 366C416.629 366 408.103 358.107 407.1 348H345.627L346.046 346H407C407 334.954 415.954 326 427 326Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="465" y="323" width="427" height="45" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-accent-image" x="417" y="336" width="20" height="20" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="409.5" y="315.5" width="490" height="60" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_icons_5:'<svg class="iceberg_icons" width="814.32" height="435.8197" viewBox="93.34 50.2033 814.32 435.8197" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg_icons" class="iceberg_icons">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M311.07 387.863C307.957 398.689 306.072 407.978 303.5 421.363L254.5 470.363L231 417.863V409.363L213.25 387.863H311.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M353.999 307.863L344.999 350.863L315.999 372.363C314.016 378.133 312.426 383.144 311.069 387.863H213.249L195.499 366.363L174.129 306.863H354.39L353.999 307.863Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M354.391 306.863H174.13L170 295.363C159.36 271.942 136.651 257.37 109 227.863C109.247 227.528 109.495 227.195 109.74 226.863H385.609L354.391 306.863Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M322.5 146.363L337.5 173.363L394 205.363L385.609 226.863H109.74C131.313 197.671 144.614 181.553 159 147.863L160.421 144.863H166.846C164.932 147.48 164.424 149.788 164 153.363C159.879 163.048 157.165 168.472 151.5 177.863C141.279 189.903 136.783 197.626 128 210.863L123 218.863V221.363L233.5 212.863L270.5 191.863C269.722 180.48 272.476 174.149 281 162.863C283.168 159.132 283.645 157.123 282.5 153.363L270.847 144.863H321.607L322.5 146.363Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M271.001 85.8633C280.948 94.1535 286.901 97.8248 297.493 104.358L297.501 104.363L321.608 144.863H270.848L240.001 122.363C246.708 101.947 251.58 89.482 252.001 74.8633C231.212 86.5131 217.838 93.5819 211.001 100.863L199.001 124.863C188.124 133.511 179.864 135.057 169.001 142.363C168.13 143.254 167.425 144.073 166.847 144.863H160.422L163.501 138.363C189.956 126.602 199.846 118.254 205.501 99.3633C217.083 87.1398 232.165 79.3519 255.501 65.8633H257.501L271.001 85.8633Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M427 86C438.046 86 447 94.9543 447 106C447 117.046 438.046 126 427 126C416.629 126 408.103 118.107 407.1 108H299.583L298.393 106H407C407 94.9543 415.954 86 427 86Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="465" y="83" width="427" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-accent-image" x="417" y="96" width="20" height="20" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="409.5" y="75.5" width="490" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M427 166C438.046 166 447 174.954 447 186C447 197.046 438.046 206 427 206C415.954 206 407 197.046 407 186H359.57L356.039 184H407.1C408.103 173.893 416.629 166 427 166Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="465" y="163" width="427" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-accent-image" x="417" y="176" width="20" height="20" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="409.5" y="155.5" width="490" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M427 246C438.046 246 447 254.954 447 266C447 277.046 438.046 286 427 286C416.29 286 407.546 277.581 407.025 267H370L370.78 265H407.025C407.546 254.419 416.29 246 427 246Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="465" y="243" width="427" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-accent-image" x="417" y="256" width="20" height="20" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="409.5" y="235.5" width="490" height="60" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M427 326C438.046 326 447 334.954 447 346C447 357.046 438.046 366 427 366C416.629 366 408.103 358.107 407.1 348H345.627L346.046 346H407C407 334.954 415.954 326 427 326Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="465" y="323" width="427" height="45" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-accent-image" x="417" y="336" width="20" height="20" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="409.5" y="315.5" width="490" height="60" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M427 407C438.046 407 447 415.954 447 427C447 438.046 438.046 447 427 447C416.629 447 408.103 439.107 407.1 429H296L298 427H407C407 415.954 415.954 407 427 407Z" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="465" y="404" width="427" height="45" fill="#D9D9D9" class="step-5 card textbox left"/>\n<rect id="step-5-accent-image" x="417" y="417" width="20" height="20" fill="#D9D9D9" class="step-5 accent image"/>\n<rect id="step-5-selection" x="409.5" y="396.5" width="490" height="60" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("iceberg_icons_","")),n]})),tD=new Map(Object.entries({iceberg_1:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_2:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M431 176C436.523 176 441 180.477 441 186C441 191.523 436.523 196 431 196C425.477 196 421 191.523 421 186H369.57L366.039 184H421.2C422.127 179.436 426.162 176 431 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="457" y="164" width="411" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="449.5" y="156.5" width="426" height="60" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_3:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M431 176C436.523 176 441 180.477 441 186C441 191.523 436.523 196 431 196C425.477 196 421 191.523 421 186H369.57L366.039 184H421.2C422.127 179.436 426.162 176 431 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="457" y="164" width="411" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="449.5" y="156.5" width="426" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M431 257C436.523 257 441 261.477 441 267C441 272.523 436.523 277 431 277C425.477 277 421 272.523 421 267H380L380.78 265H421.2C422.127 260.436 426.162 257 431 257Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="457" y="245" width="411" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="449.5" y="237.5" width="426" height="60" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_4:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M431 176C436.523 176 441 180.477 441 186C441 191.523 436.523 196 431 196C425.477 196 421 191.523 421 186H369.57L366.039 184H421.2C422.127 179.436 426.162 176 431 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="457" y="164" width="411" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="449.5" y="156.5" width="426" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M431 257C436.523 257 441 261.477 441 267C441 272.523 436.523 277 431 277C425.477 277 421 272.523 421 267H380L380.78 265H421.2C422.127 260.436 426.162 257 431 257Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="457" y="245" width="411" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="449.5" y="237.5" width="426" height="60" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M431 338C436.523 338 441 342.477 441 348C441 353.523 436.523 358 431 358C425.477 358 421 353.523 421 348H355.627L356.046 346H421.2C422.127 341.436 426.162 338 431 338Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" x="457" y="325" width="411" height="45" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-selection" x="449.5" y="317.5" width="426" height="60" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',iceberg_5:'<svg class="iceberg" width="778.96" height="434.46" viewBox="104.02 51.019999999999996 778.96 434.46" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="iceberg" class="iceberg">\n<g id="general-5" class="general-5">\n<path id="general-5-accent" d="M321.07 388C317.957 398.826 316.072 408.115 313.5 421.5L264.5 470.5L241 418V409.5L223.25 388H321.07Z" fill="#D9DAF0" class="general-5 accent"/>\n</g>\n<g id="general-4" class="general-4">\n<path id="general-4-accent" d="M363.999 308L354.999 351L325.999 372.5C324.016 378.27 322.426 383.281 321.069 388H223.249L205.499 366.5L184.129 307H364.39L363.999 308Z" fill="#B3B5E1" class="general-4 accent"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M364.391 307H184.13L180 295.5C169.36 272.079 146.651 257.506 119 228C119.247 227.665 119.495 227.332 119.74 227H395.609L364.391 307Z" fill="#8C90D2" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<path id="general-2-accent" d="M332.5 146.5L347.5 173.5L404 205.5L395.609 227H119.74C141.313 197.808 154.614 181.69 169 148L170.421 145H176.846C174.932 147.617 174.424 149.924 174 153.5C169.879 163.185 167.165 168.609 161.5 178C151.279 190.039 146.783 197.763 138 211L133 219V221.5L243.5 213L280.5 192C279.722 180.617 282.476 174.286 291 163C293.168 159.269 293.645 157.259 292.5 153.5L280.847 145H331.607L332.5 146.5Z" fill="#666BC3" class="general-2 accent"/>\n</g>\n<g id="general-1" class="general-1">\n<path id="general-1-accent" d="M281.001 86C290.948 94.2902 296.901 97.9615 307.493 104.495L307.501 104.5L331.608 145H280.848L250.001 122.5C256.708 102.083 261.58 89.6187 262.001 75C241.212 86.6498 227.838 93.7187 221.001 101L209.001 125C198.124 133.647 189.864 135.194 179.001 142.5C178.13 143.39 177.425 144.21 176.847 145H170.422L173.501 138.5C199.956 126.738 209.846 118.391 215.501 99.5C227.083 87.2765 242.165 79.4886 265.501 66H267.501L281.001 86Z" fill="#4046B4" class="general-1 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M430.997 98C436.52 98 440.997 102.477 440.997 108C440.997 113.523 436.52 118 430.997 118C425.474 118 420.997 113.523 420.997 108H309.581L308.391 106H421.197C422.124 101.436 426.159 98 430.997 98Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="457" y="85" width="411" height="45" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="449.5" y="77.5" width="426" height="60" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M431 176C436.523 176 441 180.477 441 186C441 191.523 436.523 196 431 196C425.477 196 421 191.523 421 186H369.57L366.039 184H421.2C422.127 179.436 426.162 176 431 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="457" y="164" width="411" height="45" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="449.5" y="156.5" width="426" height="60" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M431 257C436.523 257 441 261.477 441 267C441 272.523 436.523 277 431 277C425.477 277 421 272.523 421 267H380L380.78 265H421.2C422.127 260.436 426.162 257 431 257Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="457" y="245" width="411" height="45" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="449.5" y="237.5" width="426" height="60" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M431 338C436.523 338 441 342.477 441 348C441 353.523 436.523 358 431 358C425.477 358 421 353.523 421 348H355.627L356.046 346H421.2C422.127 341.436 426.162 338 431 338Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" x="457" y="325" width="411" height="45" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-selection" x="449.5" y="317.5" width="426" height="60" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M431 419C436.523 419 441 423.477 441 429C441 434.523 436.523 439 431 439C425.477 439 421 434.523 421 429H306L308 427H421.2C422.127 422.436 426.162 419 431 419Z" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-card-textbox-left" x="457" y="406" width="411" height="45" fill="#D9D9D9" class="step-5 card textbox left"/>\n<rect id="step-5-selection" x="449.5" y="398.5" width="426" height="60" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("iceberg_","")),n]})),tM="iceberg",t_={key:tM,Component:e=>{var t,n;let{data:i,showIcons:r}=e,l=null!=(n=null==(t=i.step)?void 0:t.length)?n:5,o=(r?tL:tD).get(l);return o?(0,a.jsx)(tx,{svgData:o,templateKey:tM,svgScalingFactor:t_.svgScalingFactor,...e}):(console.error("No SVG data found for key",l),null)},label:()=>r.Ru._({id:"bxoNRj"}),icon:i.CcM,previewImage:{src:"/_next/static/media/iceberg.19ae6dcf.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",stepSvgData:tL,formattingMenu:Z,defaultData:()=>y(tL),svgScalingFactor:1,canToggleIcons:!0},tT=new Map(Object.entries({ideas_1:'<svg class="ideas" width="407" height="398.217" viewBox="296 4 407 398.217" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ideas" class="ideas">\n<g id="general-1" class="general-1">\n<rect id="general-1-accent" x="306" y="14" width="387" height="62" rx="17.2811" fill="#1A378E" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="320" y="25" width="360" height="40" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-subtle" x="390.597" y="219.406" width="218.894" height="172.811" rx="5.76036" fill="#E3EAF8" class="step-1 subtle"/>\n<rect id="step-1-subtle-textbox" x="410" y="264" width="180" height="112" fill="#D9D9D9" class="step-1 subtle textbox"/>\n<g id="step-1-accent" class="step-1 accent">\n<circle id="step-1-accent_2" cx="500.044" cy="219.406" r="34.5622" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_3" cx="500.044" cy="154.89" r="17.2811" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_4" cx="500.044" cy="116.297" r="8.64054" fill="#1A378E" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="480.999" y="199.984" width="38" height="38" fill="#D9D9D9" class="step-1 accent image"/>\n</g>\n<rect id="step-1-selection" x="382.5" y="99.5" width="235" height="301" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',ideas_2:'<svg class="ideas" width="540.3684000000001" height="372.78340000000003" viewBox="229.60829999999999 3.6083 540.3684000000001 372.78340000000003" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ideas" class="ideas">\n<g id="general-1" class="general-1">\n<rect id="general-1-accent" x="306" y="14" width="387" height="62" rx="17.2811" fill="#1A378E" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="320" y="25" width="360" height="40" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-subtle" x="240" y="193" width="219" height="173" rx="5.76036" fill="#E3EAF8" class="step-1 subtle"/>\n<rect id="step-1-subtle-textbox" x="259.586" y="236.992" width="180" height="112" fill="#D9D9D9" class="step-1 subtle textbox"/>\n<g id="step-1-accent" class="step-1 accent">\n<circle id="step-1-accent_2" cx="349.446" cy="193.484" r="34.5622" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_3" cx="395.529" cy="149.133" r="17.2811" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_4" cx="421.45" cy="116.297" r="8.64054" fill="#1A378E" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="330.586" y="173.984" width="38" height="38" fill="#D9D9D9" class="step-1 accent image"/>\n</g>\n<rect id="step-1-selection" x="233.5" y="96.5" width="232" height="277" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-subtle" x="540.585" y="190.328" width="219" height="172.81" rx="5.76036" fill="#E3EAF8" class="step-2 subtle"/>\n<rect id="step-2-subtle-textbox" x="560.586" y="235.328" width="180" height="112" fill="#D9D9D9" class="step-2 subtle textbox"/>\n<g id="step-2-accent" class="step-2 accent">\n<circle id="step-2-accent_2" cx="649.814" cy="190.82" r="34.5622" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_3" cx="601.427" cy="146.469" r="17.2811" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_4" cx="573.777" cy="113.633" r="8.64054" fill="#1A378E" class="step-2 accent"/>\n<rect id="step-2-accent-image" x="631.586" y="171.328" width="38" height="38" fill="#D9D9D9" class="step-2 accent image"/>\n</g>\n<rect id="step-2-selection" x="533.5" y="96.5" width="233" height="277" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',ideas_3:'<svg class="ideas" width="759.80944" height="407.44043999999997" viewBox="120.80227999999998 -0.61172 759.80944 407.44043999999997" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ideas" class="ideas">\n<g id="general-1" class="general-1">\n<rect id="general-1-accent" x="306" y="14" width="387" height="62" rx="17.2811" fill="#1A378E" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="320" y="25" width="360" height="40" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-subtle" x="135.414" y="193.484" width="218.894" height="172.811" rx="5.76036" fill="#E3EAF8" class="step-1 subtle"/>\n<rect id="step-1-subtle-textbox" x="155" y="236.992" width="180" height="112" fill="#D9D9D9" class="step-1 subtle textbox"/>\n<g id="step-1-accent" class="step-1 accent">\n<circle id="step-1-accent_2" cx="244.861" cy="193.484" r="34.5622" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_3" cx="290.943" cy="149.133" r="17.2811" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_4" cx="316.865" cy="116.297" r="8.64054" fill="#1A378E" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="226" y="173.984" width="38" height="38" fill="#D9D9D9" class="step-1 accent image"/>\n</g>\n<rect id="step-1-selection" x="128.5" y="98.5" width="234" height="275" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-subtle" x="391.598" y="219.406" width="218.894" height="172.811" rx="5.76036" fill="#E3EAF8" class="step-2 subtle"/>\n<rect id="step-2-subtle-textbox" x="411" y="261.992" width="180" height="112" fill="#D9D9D9" class="step-2 subtle textbox"/>\n<g id="step-2-accent" class="step-2 accent">\n<circle id="step-2-accent_2" cx="501.045" cy="219.406" r="34.5622" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_3" cx="501.045" cy="154.89" r="17.2811" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_4" cx="501.045" cy="116.297" r="8.64054" fill="#1A378E" class="step-2 accent"/>\n<rect id="step-2-accent-image" x="482" y="199.984" width="38" height="38" fill="#D9D9D9" class="step-2 accent image"/>\n</g>\n<rect id="step-2-selection" x="383.5" y="99.5" width="235" height="301" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-subtle" x="647" y="190.328" width="219" height="177" rx="5.76036" fill="#E3EAF8" class="step-3 subtle"/>\n<rect id="step-3-subtle-textbox" x="667" y="235.328" width="180" height="112" fill="#D9D9D9" class="step-3 subtle textbox"/>\n<g id="step-3-accent" class="step-3 accent">\n<circle id="step-3-accent_2" cx="756.228" cy="190.82" r="34.5622" fill="#1A378E" class="step-3 accent"/>\n<circle id="step-3-accent_3" cx="707.842" cy="146.469" r="17.2811" fill="#1A378E" class="step-3 accent"/>\n<circle id="step-3-accent_4" cx="680.191" cy="113.633" r="8.64054" fill="#1A378E" class="step-3 accent"/>\n<rect id="step-3-accent-image" x="738" y="171.328" width="38" height="38" fill="#D9D9D9" class="step-3 accent image"/>\n</g>\n<rect id="step-3-selection" x="639.5" y="97.5" width="235" height="278" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',ideas_4:'<svg class="ideas" width="896.48" height="413.722" viewBox="50.758 -3.240000000000002 896.48 413.722" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ideas" class="ideas">\n<g id="general-1" class="general-1">\n<rect id="general-1-accent" x="306" y="14" width="387" height="62" rx="17.2811" fill="#1A378E" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="320" y="25" width="360" height="40" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-subtle" x="67.998" y="187.992" width="191" height="173" rx="5.76036" fill="#E3EAF8" class="step-1 subtle"/>\n<rect id="step-1-subtle-textbox" x="83.998" y="231.992" width="160" height="112" fill="#D9D9D9" class="step-1 subtle textbox"/>\n<g id="step-1-accent" class="step-1 accent">\n<circle id="step-1-accent_2" cx="163.445" cy="189.484" r="34.5622" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_3" cx="209.527" cy="145.133" r="17.2811" fill="#1A378E" class="step-1 accent"/>\n<circle id="step-1-accent_4" cx="235.449" cy="112.297" r="8.64054" fill="#1A378E" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="144.584" y="169.984" width="38" height="38" fill="#D9D9D9" class="step-1 accent image"/>\n</g>\n<rect id="step-1-selection" x="60.5" y="95.5" width="206" height="274" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<rect id="step-4-subtle" x="738.998" y="188.992" width="191" height="177" rx="5.76036" fill="#E3EAF8" class="step-4 subtle"/>\n<rect id="step-4-subtle-textbox" x="753.998" y="234.992" width="160" height="112" fill="#D9D9D9" class="step-4 subtle textbox"/>\n<g id="step-4-accent" class="step-4 accent">\n<circle id="step-4-accent_2" cx="833.812" cy="189.82" r="34.5622" fill="#1A378E" class="step-4 accent"/>\n<circle id="step-4-accent_3" cx="785.426" cy="145.469" r="17.2811" fill="#1A378E" class="step-4 accent"/>\n<circle id="step-4-accent_4" cx="757.775" cy="112.633" r="8.64054" fill="#1A378E" class="step-4 accent"/>\n<rect id="step-4-accent-image" x="815.584" y="170.328" width="38" height="38" fill="#D9D9D9" class="step-4 accent image"/>\n</g>\n<rect id="step-4-selection" x="731.5" y="95.5" width="207" height="279" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-subtle" x="290.584" y="217.242" width="191" height="176" rx="5.76036" fill="#E3EAF8" class="step-2 subtle"/>\n<rect id="step-2-subtle-textbox" x="306.998" y="263.992" width="160" height="112" fill="#D9D9D9" class="step-2 subtle textbox"/>\n<g id="step-2-accent" class="step-2 accent">\n<circle id="step-2-accent_2" cx="386.629" cy="216.664" r="34.5622" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_3" cx="402.426" cy="151.979" r="17.2811" fill="#1A378E" class="step-2 accent"/>\n<circle id="step-2-accent_4" cx="413.102" cy="112.81" r="8.64054" fill="#1A378E" class="step-2 accent"/>\n<rect id="step-2-accent-image" x="367.998" y="197.992" width="38" height="38" fill="#D9D9D9" class="step-2 accent image"/>\n</g>\n<rect id="step-2-selection" x="283.5" y="95.5" width="207" height="305" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-subtle" x="514.998" y="215.992" width="191" height="175" rx="5.76036" fill="#E3EAF8" class="step-3 subtle"/>\n<rect id="step-3-subtle-textbox" x="531.998" y="261.992" width="160" height="112" fill="#D9D9D9" class="step-3 subtle textbox"/>\n<g id="step-3-accent" class="step-3 accent">\n<circle id="step-3-accent_2" cx="610.629" cy="215.664" r="34.5622" fill="#1A378E" class="step-3 accent"/>\n<circle id="step-3-accent_3" cx="591.577" cy="150.598" r="17.2811" fill="#1A378E" class="step-3 accent"/>\n<circle id="step-3-accent_4" cx="584.29" cy="112.698" r="8.64054" fill="#1A378E" class="step-3 accent"/>\n<rect id="step-3-accent-image" x="590.998" y="195.992" width="38" height="38" fill="#D9D9D9" class="step-3 accent image"/>\n</g>\n<rect id="step-3-selection" x="507.5" y="95.5" width="207" height="303" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("ideas_","")),n]})),tN="ideas",tz={key:tN,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:3,l=tT.get(r);return l?(0,a.jsx)(tx,{svgData:l,templateKey:tN,svgScalingFactor:tz.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"zaDZll"}),icon:tA.rC2,previewImage:{src:"/_next/static/media/ideas.f8852ea0.svg",height:96,width:253,blurWidth:0,blurHeight:0},stepSvgData:tT,defaultData:()=>y(tT),formattingMenu:Z,svgScalingFactor:1},tP=new Map([[4,'<svg width="1001" height="407" viewBox="0 0 1001 407" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="diagram content">\n<g id="general-1">\n<g class="general-1 accent no-border">\n<path d="M283.999 219.004L262.999 201.004C262.999 201.004 265.999 282.154 335.499 303.004C404.999 323.854 439.499 286.504 439.499 286.504L412.999 284.004L411.499 257.504C411.499 257.504 386.499 278.004 345.999 264.004C305.499 250.004 303.999 202.504 303.999 202.504L283.999 219.004Z" fill="#D9DAF0" class="general-1 accent no-border"></path>\n<path d="M373.689 91.7354C398.041 92.0439 420.47 100.332 438.484 114.104L438.492 114.097L439.011 114.51C439.674 115.023 440.331 115.542 440.981 116.07V116.08L444.005 119.041L444.771 120.231L444.781 120.221L444.779 120.245L444.786 120.256L444.777 120.264L442.704 146.708L441.401 146.837L441.4 146.825L421.091 148.89H420.756L417.216 149.241L416.713 148.877L416.716 148.875C404.763 138.644 389.241 132.465 372.278 132.465C334.985 132.465 304.657 162.33 303.913 199.463L284.223 216.201L263.201 197.844C264.798 138.966 313.022 91.7269 372.278 91.7266L373.689 91.7354Z" fill="#D9DAF0" class="general-1 accent no-border"></path>\n<path d="M586.251 249.424L586.189 253.843L586.167 253.867L584.181 276.568L563.287 278.451H563.285L558.284 278.758L558.119 278.607L558.122 278.605L419.693 151.481L444.276 149.433L445.224 149.473L445.297 147.729H445.321L447.158 121.688L586.251 249.424Z" fill="#D9DAF0" class="general-1 accent no-border"></path>\n</g>\n<rect x="342.91" y="171.992" width="55" height="55" fill="#D9D9D9" class="general-1 card image"></rect>\n</g>\n<g id="general-2">\n<g class="general-2 accent no-border">\n<path d="M742.096 201.26L742.018 204.487C738.657 262.215 690.792 307.992 632.234 307.992L630.813 307.983C603.726 307.64 578.999 297.5 560.009 280.944L586.303 278.332L588.398 251.606C600.338 261.387 615.602 267.256 632.234 267.256C667.711 267.256 696.968 240.56 700.999 206.14L700.93 206.146L720.316 186.445L742.096 201.26ZM743.184 202L743.078 202.01L743.08 201.93L743.184 202Z" fill="#8C90D2" class="general-2 accent no-border"></path>\n<path d="M557.5 116.011L558.897 142.198L581.829 144.758L585.916 145.134L585.917 145.135L443.5 283.998L437.171 277.562L443.5 284.002L416.401 281.739L415 255.014L414.999 255.013L415 255.011V255L415.005 255.006L557.483 115.992L557.5 116.011Z" fill="#8C90D2" class="general-2 accent no-border"></path>\n<path d="M720.5 184.001L701 204.001C701 204.001 705.5 148.322 658.5 131.501C611.5 114.68 587.5 143.001 587.5 143.001L561.5 140.001L559.5 113.501C559.5 113.501 610.027 70.7187 668 92.5027C746.5 122 742 199.001 742 199.001L720.5 184.001Z" fill="#8C90D2" class="general-2 accent no-border"></path>\n</g>\n<rect x="601.91" y="171.992" width="55" height="55" fill="#D9D9D9" class="general-2 card image"></rect>\n</g>\n<g id="step-1">\n<g class="step-1 accent line">\n<circle cx="370.994" cy="108.526" r="5.47234" fill="#4046B4" stroke="#4046B4" stroke-width="0.576036" class="step-1 accent"></circle>\n<line x1="370.994" y1="106.223" x2="370.994" y2="40.5546" stroke="#4046B4" stroke-width="1.15207" class="step-1 accent line"></line>\n<line x1="231.593" y1="41.131" x2="371.57" y2="41.131" stroke="#4046B4" stroke-width="1.15207" class="step-1 accent line"></line>\n</g>\n<rect x="15.9097" y="23.9922" width="215" height="90" fill="#D9D9D9" class="step-1 card textbox top right"></rect>\n<rect x="8.5" y="15.5" width="376" height="106" stroke="black" class="step-1 selection"></rect>\n</g>\n<g id="step-2">\n<g class="step-2 accent line">\n<circle cx="5.76036" cy="5.76036" r="5.47234" transform="matrix(-1 0 0 1 636.544 102.766)" fill="#4046B4" stroke="#4046B4" stroke-width="0.576036" class="step-2 accent"></circle>\n<line y1="-0.576036" x2="65.6681" y2="-0.576036" transform="matrix(4.37114e-08 -1 -1 -4.37114e-08 630.208 106.223)" stroke="#4046B4" stroke-width="1.15207" class="step-2 accent line"></line>\n<line y1="-0.576036" x2="139.977" y2="-0.576036" transform="matrix(-1 -8.74228e-08 -8.74228e-08 1 770.185 41.707)" stroke="#4046B4" stroke-width="1.15207" class="step-2 accent line"></line>\n</g>\n<rect x="769.91" y="23.9922" width="215" height="90" fill="#D9D9D9" class="step-2 card textbox top left"></rect>\n<rect x="616.5" y="15.5" width="376" height="106" stroke="black" class="step-2 selection"></rect>\n</g>\n<g id="step-3">\n<g class="step-3 accent line">\n<circle cx="630.78" cy="286.517" r="5.47234" transform="rotate(180 630.78 286.517)" fill="#4046B4" stroke="#4046B4" stroke-width="0.576036" class="step-3 accent"></circle>\n<line x1="630.78" y1="288.82" x2="630.78" y2="354.488" stroke="#4046B4" stroke-width="1.15207" class="step-3 accent line"></line>\n<line x1="770.181" y1="353.912" x2="630.204" y2="353.912" stroke="#4046B4" stroke-width="1.15207" class="step-3 accent line"></line>\n</g>\n<rect x="769.911" y="288.992" width="215" height="90" fill="#D9D9D9" class="step-3 card textbox bottom left"></rect>\n<rect x="616.5" y="271.5" width="376" height="115" stroke="black" class="step-3 selection"></rect>\n</g>\n<g id="step-4">\n<g class="step-4 accent line">\n<circle cx="5.76036" cy="5.76036" r="5.47234" transform="matrix(1 0 0 -1 365.233 292.277)" fill="#4046B4" stroke="#4046B4" stroke-width="0.576036" class="step-4 accent"></circle>\n<line y1="-0.576036" x2="65.6681" y2="-0.576036" transform="matrix(-4.37114e-08 1 1 4.37114e-08 371.57 288.82)" stroke="#4046B4" stroke-width="1.15207" class="step-4 accent line"></line>\n<line y1="-0.576036" x2="139.977" y2="-0.576036" transform="matrix(1 8.74228e-08 8.74228e-08 -1 231.593 353.336)" stroke="#4046B4" stroke-width="1.15207" class="step-4 accent line"></line>\n</g>\n<rect x="16.9097" y="288.992" width="215" height="90" fill="#D9D9D9" class="step-4 card textbox bottom right"></rect>\n<rect x="9.5" y="271.5" width="375" height="115" stroke="black" class="step-4 selection"></rect>\n</g>\n</g>\n</svg>']]),tO="infinity",tF={key:tO,Component:e=>{var t,n;let i=null!=(n=null==(t=e.data.step)?void 0:t.length)?n:4,r=tP.get(i);return r?(0,a.jsx)(tx,{svgData:r,templateKey:tO,svgScalingFactor:tF.svgScalingFactor,...e}):(console.error("No SVG data found for key",i),null)},label:()=>r.Ru._({id:"5o9DHo"}),icon:tA.C8j,previewImage:{src:"/_next/static/media/infinity.e9530b60.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],formattingMenu:Z,stepSvgData:tP,defaultData:()=>y(tP),svgScalingFactor:1},tH=new Map(Object.entries({inputs_1:'<svg class="inputs-frame" width="178.50699999999995" height="358.81419" viewBox="416.812 -8.80469 178.50699999999995 358.81419" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="505.676" cy="268.005" r="72.0045" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="448.16796875" y="224.888671875" width="113" height="84" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-card" d="M506.065 1.19531C549.835 1.19531 585.319 36.6786 585.319 80.449C585.319 118.653 558.287 150.541 522.306 158.035L506.066 179.99L489.824 158.035C453.844 150.541 426.813 118.652 426.812 80.449C426.812 36.6788 462.295 1.19554 506.065 1.19531Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="446.1482639312744" y="28.67947769165039" width="118.87247467041016" height="103.46308135986328" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="424.55" y="1.55034" width="162.899" height="178.309" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',inputs_2:'<svg class="inputs-frame" width="179.7741076" height="552.9447976000001" viewBox="416.2724462 -9.438243800000002 179.7741076 552.9447976000001" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="506.005" cy="268.005" r="72.0045" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="448.3046875" y="224.888671875" width="113" height="84" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-card" d="M506.159 1.19531C549.929 1.19531 585.413 36.6786 585.413 80.449C585.412 118.653 558.38 150.541 522.4 158.035L506.16 179.99L489.918 158.035C453.938 150.541 426.906 118.652 426.906 80.449C426.906 36.6788 462.389 1.19554 506.159 1.19531Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-background-textbox" x="446.04472732543945" y="28.678998947143555" width="118.87247467041016" height="103.46308135986328" class="step-1 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="424.55" y="1.55034" width="162.899" height="178.309" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-card" d="M506.159 532.873C549.929 532.873 585.413 497.389 585.413 453.619C585.412 415.415 558.38 383.527 522.4 376.034L506.16 354.078L489.918 376.034C453.938 383.527 426.906 415.416 426.906 453.619C426.906 497.389 462.389 532.872 506.159 532.873Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-textbox" x="446.0434226989746" y="404.52800369262695" width="118.87246704101562" height="103.46308135986328" class="step-2 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="424.55" y="352.55" width="162.899" height="181.611" stroke="black" stroke-width="1.10067" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',inputs_3:'<svg class="inputs-frame" width="488.649511908186" height="475.4939509379731" viewBox="260.5234661138445 -8.80469 488.649511908186 475.4939509379731" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="504.848" cy="268.005" r="72.0045" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="447.99609375" y="224.888671875" width="113" height="84" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-card" d="M505.26 1.19531C549.031 1.19531 584.514 36.6786 584.514 80.449C584.514 118.653 557.482 150.541 521.502 158.035L505.262 179.99L489.019 158.035C453.039 150.541 426.008 118.652 426.008 80.449C426.008 36.6788 461.49 1.19554 505.26 1.19531Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-background-textbox" x="445.9876461029053" y="28.679119110107422" width="118.8724594116211" height="103.46307373046875" class="step-1 background textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="423.55" y="1.55034" width="162.899" height="178.309" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-card" d="M727.954 419.55C705.832 455.986 658.362 467.59 621.926 445.469C590.124 426.16 577.241 387.541 589.187 353.803L579.117 329.186L605.603 326.763C630.026 300.598 670.234 294.213 702.036 313.521C738.472 335.643 750.076 383.114 727.954 419.55Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-textbox" x="603.6639595031738" y="327.5473346710205" width="115.76468658447266" height="100.75816345214844" class="step-2 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="577.536" y="300.536" width="162.928" height="157.569" stroke="black" stroke-width="1.0719" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-card" d="M281.742 419.552C303.864 455.988 351.334 467.592 387.77 445.471C419.573 426.162 432.456 387.543 420.509 353.805L430.579 329.188L404.093 326.765C379.671 300.6 339.463 294.215 307.66 313.523C271.224 335.645 259.621 383.116 281.742 419.552Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-textbox" x="289.23258781433105" y="328.61923027038574" width="115.76468658447266" height="100.75816345214844" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="269.536" y="300.536" width="162.928" height="157.569" stroke="black" stroke-width="1.0719" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',inputs_4:'<svg class="inputs-frame" width="485.52697156902235" height="403.9478105147339" viewBox="262.7500142154889 83.97449096101654 485.52697156902235 403.9478105147339" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="504.942" cy="268.005" r="72.0045" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="447.90234375" y="224.888671875" width="113" height="84" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-card" d="M731.194 137.011C748.713 174.386 732.615 218.887 695.24 236.405C662.617 251.695 624.568 241.375 603.77 213.649L578.523 208.569L590.77 185.915C582.768 152.193 599.179 116.348 631.801 101.057C669.176 83.5391 713.676 99.636 731.194 137.011Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="607.0376777648926" y="119.26197814941406" width="112.10124969482422" height="97.56961059570312" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="576.519" y="93.1332" width="162.962" height="152.582" stroke="black" stroke-width="1.03797" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-card" d="M725.134 440.784C703.012 477.22 655.542 488.823 619.106 466.702C587.304 447.394 574.42 408.775 586.367 375.036L576.297 350.419L602.783 347.996C627.205 321.832 667.413 315.446 699.216 334.755C735.652 356.877 747.256 404.348 725.134 440.784Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-textbox" x="605.5553016662598" y="348.65286445617676" width="115.76468658447266" height="100.75816345214844" class="step-2 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="574.036" y="321.641" width="162.928" height="157.569" stroke="black" stroke-width="1.0719" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-card" d="M285.922 440.786C308.044 477.221 355.514 488.825 391.95 466.704C423.752 447.396 436.635 408.777 424.689 375.038L434.759 350.421L408.273 347.998C383.851 321.834 343.642 315.448 311.84 334.757C275.404 356.879 263.8 404.349 285.922 440.786Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-textbox" x="290.6206588745117" y="348.65286445617676" width="115.76468658447266" height="100.75816345214844" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="273.036" y="321.641" width="162.928" height="157.569" stroke="black" stroke-width="1.0719" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4-card" d="M279.833 137.011C262.314 174.386 278.412 218.887 315.787 236.405C348.41 251.695 386.459 241.375 407.257 213.649L432.503 208.569L420.257 185.915C428.258 152.193 411.848 116.348 379.226 101.057C341.851 83.5391 297.351 99.636 279.833 137.011Z" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-textbox" x="292.7338809967041" y="119.26197814941406" width="112.10124969482422" height="97.56961059570312" class="step-4 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="270.519" y="93.1332" width="162.962" height="152.582" stroke="black" stroke-width="1.03797" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',inputs_5:'<svg class="inputs-frame" width="512.2251206155178" height="533.5220571429118" viewBox="243.83414809631702 -9.260039560440612 512.2251206155178 533.5220571429118" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="500.364" cy="268.005" r="72.0045" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="442.8046875" y="224.666015625" width="113" height="84" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-card" d="M500.464 1C544.234 1 579.717 36.4833 579.717 80.2537C579.717 118.457 552.685 150.346 516.705 157.839L500.465 179.795L484.222 157.839C448.243 150.346 421.211 118.457 421.211 80.2537C421.211 36.4835 456.693 1.00023 500.464 1Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="440.78979682922363" y="28.680381774902344" width="118.87246704101562" height="103.46308135986328" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="418.55" y="2.01909" width="162.899" height="178.309" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-card" d="M739.058 238.205C755.732 273.779 740.41 316.135 704.836 332.808C669.262 349.482 626.907 334.16 610.233 298.586C609.212 296.408 608.313 294.205 607.529 291.984L584.211 278.083L603.977 260.172C606.751 236.533 621.319 214.827 644.454 203.984C680.028 187.31 722.384 202.631 739.058 238.205Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-textbox" x="621.3227615356445" y="221.86018753051758" width="106.69878387451172" height="92.86746215820312" class="step-2 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="582.494" y="195.494" width="163.012" height="145.229" stroke="black" stroke-width="0.987952" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-card" d="M694.282 475.791C672.16 512.226 624.69 523.83 588.254 501.709C556.452 482.4 543.569 443.782 555.515 410.043L545.445 385.426L571.931 383.003C596.354 356.839 636.562 350.453 668.364 369.762C704.801 391.884 716.404 439.354 694.282 475.791Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-textbox" x="572.2368774414062" y="385.61923027038574" width="115.76468658447266" height="100.75816345214844" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="544.161" y="357.536" width="162.928" height="157.569" stroke="black" stroke-width="1.0719" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4-card" d="M307.063 476.865C329.185 513.301 376.655 524.905 413.091 502.783C444.893 483.475 457.776 444.856 445.83 411.118L455.9 386.5L429.414 384.077C404.991 357.913 364.783 351.527 332.98 370.836C296.544 392.958 284.941 440.429 307.063 476.865Z" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-textbox" x="315.7336082458496" y="387.7630214691162" width="115.76468658447266" height="100.75816345214844" class="step-4 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="295.161" y="357.536" width="162.928" height="157.569" stroke="black" stroke-width="1.0719" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5 subtle">\n<path id="step-5-card" d="M260.795 237.964C244.221 273.325 259.451 315.427 294.812 332.002C330.173 348.575 372.274 333.345 388.848 297.984C389.993 295.541 390.985 293.066 391.83 290.569L417.992 272.441L394.05 253.558C389.656 232.536 375.775 213.765 354.832 203.948C319.471 187.374 277.369 202.603 260.795 237.964Z" fill="#D5D6EF" class="step-5 subtle"/>\n<rect id="step-5-textbox" x="272.46336936950684" y="218.76586532592773" width="106.05986785888672" height="92.31137084960938" class="step-5 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="254.491" y="196.491" width="163.018" height="144.359" stroke="black" stroke-width="0.982036" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n',inputs_6:'<svg class="inputs-frame" width="509.43735410427956" height="553.0159533599999" viewBox="251.8570997979695 -10.297031179999998 509.43735410427956 553.0159533599999" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="inputs-frame">\n<g id="general-1" class="general-1 accent">\n<circle id="general-1-card" cx="506.005" cy="267.005" r="72.0045" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="448.21484375" y="224.630859375" width="113" height="84" class="general-1 accent textbox" fill="#E5E5E5"/>\n</g>\n<g id="step-1" class="step-1 subtle">\n<path id="step-1-card" d="M506.221 0.337891C549.992 0.337891 585.475 35.8212 585.475 79.5916C585.475 117.795 558.443 149.684 522.463 157.177L506.222 179.132L489.98 157.177C454 149.683 426.969 117.795 426.969 79.5916C426.969 35.8214 462.451 0.338118 506.221 0.337891Z" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-textbox" x="446.00854682922363" y="28.082778930664062" width="118.87246704101562" height="103.46308135986328" class="step-1 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="424.55" y="0.550336" width="162.899" height="178.309" stroke="black" stroke-width="1.10067" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 subtle">\n<path id="step-2-card" d="M743.577 164.324C761.095 201.7 744.998 246.2 707.622 263.719C675 279.009 636.951 268.688 616.152 240.963L590.906 235.883L603.153 213.229C595.151 179.506 611.562 143.661 644.184 128.371C681.559 110.853 726.059 126.949 743.577 164.324Z" fill="#D5D6EF" class="step-2 subtle"/>\n<rect id="step-2-textbox" x="615.0867290496826" y="144.05670166015625" width="112.10124969482422" height="97.56961059570312" class="step-2 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="587.519" y="119.133" width="162.962" height="152.582" stroke="black" stroke-width="1.03797" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 subtle">\n<path id="step-3-card" d="M737.923 401.794C715.801 438.23 668.331 449.834 631.895 427.713C600.093 408.404 587.209 369.786 599.156 336.047L589.086 311.43L615.572 309.007C639.994 282.842 680.203 276.457 712.005 295.765C748.441 317.887 760.045 365.358 737.923 401.794Z" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-textbox" x="616.0365085601807" y="311.59579277038574" width="115.76468658447266" height="100.75816345214844" class="step-3 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="587.536" y="282.641" width="162.928" height="157.569" stroke="black" stroke-width="1.0719" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 subtle">\n<path id="step-4-card" d="M506.221 532.084C549.992 532.084 585.475 496.6 585.475 452.83C585.475 414.626 558.443 382.738 522.463 375.244L506.222 353.289L489.98 375.244C454 382.738 426.969 414.626 426.969 452.83C426.969 496.6 462.451 532.083 506.221 532.084Z" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-textbox" x="447.1092185974121" y="402.2665672302246" width="118.87246704101562" height="103.46308135986328" class="step-4 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="424.55" y="351.621" width="162.899" height="181.611" stroke="black" stroke-width="1.10067" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5 subtle">\n<path id="step-5-card" d="M273.711 401.796C295.833 438.232 343.303 449.836 379.739 427.715C411.541 408.406 424.425 369.788 412.478 336.049L422.548 311.432L396.062 309.009C371.64 282.844 331.431 276.459 299.629 295.767C263.193 317.889 251.589 365.36 273.711 401.796Z" fill="#D5D6EF" class="step-5 subtle"/>\n<rect id="step-5-textbox" x="279.31755447387695" y="311.59579277038574" width="115.76468658447266" height="100.75816345214844" class="step-5 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="261.536" y="282.641" width="162.928" height="157.569" stroke="black" stroke-width="1.0719" class="step-5 selection"/>\n</g>\n<g id="step-6" class="step-6 subtle">\n<path id="step-6-card" d="M270.145 164.06C252.627 201.435 268.724 245.936 306.1 263.454C338.722 278.744 376.771 268.424 397.57 240.698L422.816 235.618L410.569 212.964C418.571 179.242 402.161 143.397 369.539 128.106C332.163 110.588 287.663 126.685 270.145 164.06Z" fill="#D5D6EF" class="step-6 subtle"/>\n<rect id="step-6-textbox" x="283.89685440063477" y="144.05670166015625" width="112.10124969482422" height="97.56961059570312" class="step-6 textbox subtle" fill="#E5E5E5"/>\n<rect id="step-6-selection" x="261.519" y="119.133" width="162.962" height="152.582" stroke="black" stroke-width="1.03797" class="step-6 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,a=t.match(/_([0-9]+)$/);return[a?Number(a[1]):1,n]})),tB="inputs",tV={key:tB,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:6,l=tH.get(r);return l?(0,a.jsx)(tx,{svgData:l,templateKey:tB,svgScalingFactor:tV.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"ExKlRL"}),previewImage:{src:"/_next/static/media/inputs.02f3f294.svg",height:96,width:253,blurWidth:0,blurHeight:0},allowedColorSchemes:[],stepSvgData:tH,formattingMenu:Z,defaultData:()=>y(tH)},tW=new Map(Object.entries({nested_diamond_4:'<svg class="nested_diamond" width="923.3276130002498" height="479.32827550001747" viewBox="40.23968724975512 61.31402474999518 923.3276130002498 479.32827550001747" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="nested_diamond" class="nested_diamond">\n<g id="step-4" class="step-4">\n<path id="step-4-neutral" d="M289.735 517.933C289.7 517.968 289.663 518 289.628 518.034C290.622 518.138 291.631 518.192 292.652 518.192H917.037C932.928 518.192 945.811 505.31 945.811 489.419V452.973C945.811 437.082 932.928 424.199 917.037 424.199H383.468L289.735 517.933Z" fill="#F5F2F2" class="step-4 neutral"/>\n<path id="step-4-accent-no-border" d="M357.167 447.532C359.119 445.58 359.119 442.414 357.167 440.461L283.356 366.65C281.403 364.697 278.237 364.697 276.285 366.65L202.473 440.461C200.521 442.414 200.521 445.58 202.473 447.532L276.285 521.344C278.237 523.296 281.403 523.296 283.356 521.344L357.167 447.532Z" fill="#4046B4" class="step-4 accent no-border"/>\n<rect id="step-4-card-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-4 card textbox left" x="485.808" y="448"/>\n<rect id="step-4-accent-image" width="45" height="45" fill="#D9D9D9" class="step-4 accent image" x="257" y="421"/>\n<rect id="step-4-selection" x="252.308" y="413.5" width="661" height="87" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-neutral" d="M402.325 405.019H917.037C932.928 405.019 945.81 392.136 945.811 376.245V339.799C945.811 323.908 932.928 311.025 917.037 311.025H496.318L402.325 405.019Z" fill="#F5F2F2" class="step-3 neutral"/>\n<path id="step-3-accent-no-border" d="M283.37 270.328C281.418 268.375 278.253 268.375 276.3 270.328L154.288 392.339C152.336 394.292 152.336 397.458 154.288 399.411L276.3 521.422C278.253 523.374 281.418 523.374 283.37 521.422L405.382 399.411C407.335 397.458 407.335 394.292 405.382 392.339L283.37 270.328ZM276.285 364.523C278.237 362.571 281.402 362.571 283.355 364.523L358.227 439.395C360.18 441.348 360.18 444.514 358.227 446.466L283.355 521.337C281.402 523.29 278.237 523.29 276.285 521.337L201.412 446.466C199.46 444.514 199.46 441.348 201.412 439.395L276.285 364.523Z" fill="#666BC3" class="step-3 accent no-border"/>\n<rect id="step-3-card-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-3 card textbox left" x="485.808" y="335"/>\n<rect id="step-3-image-accent" width="45" height="45" fill="#D9D9D9" class="step-3 image accent" x="257" y="307"/>\n<rect id="step-3-selection" x="252.308" y="299.5" width="661" height="88" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-neutral" d="M497.572 291.842H917.037C932.928 291.842 945.81 278.959 945.811 263.068V226.622C945.811 210.731 932.928 197.848 917.037 197.848H403.578L497.572 291.842Z" fill="#F5F2F2" class="step-2 neutral"/>\n<path id="step-2-accent-no-border" d="M283.428 175.496C281.476 173.543 278.31 173.543 276.357 175.496L107.096 344.756C105.144 346.709 105.144 349.875 107.096 351.828L151.917 396.647C151.012 394.783 151.331 392.475 152.878 390.928L276.299 267.507C278.252 265.555 281.418 265.555 283.371 267.507L406.791 390.928C408.405 392.542 408.685 394.985 407.63 396.886L452.689 351.828C454.641 349.875 454.642 346.709 452.689 344.756L283.428 175.496Z" fill="#B3B5E1" class="step-2 accent no-border"/>\n<rect id="step-2-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-2 card textbox left" x="485.808" y="221"/>\n<rect id="step-2-accent-image" width="45" height="45" fill="#D9D9D9" class="step-2 accent image" x="257" y="212"/>\n<rect id="step-2-selection" x="252.308" y="204.5" width="662" height="70" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-neutral" d="M292.652 84.6738C291.923 84.6738 291.201 84.7007 290.485 84.7539L384.397 178.667H917.037C932.928 178.667 945.81 165.785 945.811 149.894V113.447C945.811 97.5561 932.928 84.6739 917.037 84.6738H292.652Z" fill="#F5F2F2" class="step-1 neutral"/>\n<path id="step-1-accent-no-border" d="M283.267 80.5347C281.315 78.5822 278.148 78.5822 276.196 80.5347L59.4604 297.27C57.5078 299.223 57.5079 302.389 59.4604 304.341L104.896 349.776C103.517 347.824 103.7 345.108 105.447 343.361L276.294 172.513C278.247 170.561 281.412 170.561 283.365 172.513L454.212 343.361C455.81 344.958 456.1 347.367 455.084 349.259L500.002 304.341C501.955 302.389 501.955 299.223 500.002 297.27L283.267 80.5347Z" fill="#D9DAF0" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-1 card textbox left" x="485.808" y="109"/>\n<rect id="step-1-accent-image" width="45" height="45" fill="#D9D9D9" class="step-1 accent image" x="257" y="109"/>\n<rect id="step-1-selection" x="254.308" y="101.5" width="657" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',nested_diamond_2:'<svg class="nested_diamond" width="728.0270400000003" height="282.1467900000028" viewBox="136.99947999999972 125.99948000000013 728.0270400000003 282.1467900000028" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="nested_diamond" class="nested_diamond">\n<g id="step-2" class="step-2">\n<path id="step-2-neutral" d="M307.541 371.017H822.253C838.144 371.017 851.026 358.134 851.026 342.243V305.797C851.026 289.906 838.144 277.023 822.253 277.023H401.534L307.541 371.017Z" fill="#F5F2F2" class="step-2 neutral"/>\n<path id="step-2-accent-no-border" d="M355.343 318.87C357.295 316.918 357.295 313.752 355.343 311.799L281.531 237.988C279.579 236.035 276.413 236.035 274.46 237.988L200.649 311.799C198.696 313.752 198.696 316.918 200.649 318.87L274.46 392.681C276.413 394.634 279.579 394.634 281.531 392.681L355.343 318.87Z" fill="#4046B4" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-2 card textbox left" x="394.02700000000004" y="304.014"/>\n<rect id="step-2-accent-image" width="40" height="40" fill="#D9D9D9" class="step-2 accent image" x="258" y="287"/>\n<rect id="step-2-selection" x="253.52599999999995" y="281.504" width="568" height="75" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-neutral" d="M402.788 257.842H822.253C838.144 257.842 851.026 244.959 851.026 229.068V192.622C851.026 176.731 838.144 163.848 822.253 163.848H308.794L402.788 257.842Z" fill="#F5F2F2" class="step-1 neutral"/>\n<path id="step-1-accent-no-border" d="M281.546 141.464C279.594 139.512 276.429 139.512 274.476 141.464L152.464 263.476C150.512 265.429 150.512 268.595 152.464 270.547L274.476 392.559C276.428 394.511 279.594 394.511 281.546 392.559L403.558 270.547C405.511 268.595 405.511 265.429 403.558 263.476L281.546 141.464ZM274.46 235.66C276.413 233.707 279.579 233.707 281.532 235.66L356.403 310.532C358.355 312.484 358.355 315.65 356.403 317.603L281.532 392.474C279.579 394.427 276.413 394.427 274.46 392.474L199.588 317.603C197.636 315.65 197.636 312.484 199.588 310.532L274.46 235.66Z" fill="#666BC3" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left" width="420" height="45" fill="#D9D9D9" class="step-1 card textbox left" x="394.02700000000004" y="187"/>\n<rect id="step-1-accent-image" width="40" height="40" fill="#D9D9D9" class="step-1 accent image" x="258" y="187"/>\n<rect id="step-1-selection" x="253.52599999999995" y="179.5" width="568" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',nested_diamond_3:'<svg class="nested_diamond" width="885.2266540000002" height="382.9001790000003" viewBox="57.97693549999997 116.9764105000004 885.2266540000002 382.9001790000003" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="nested_diamond" class="nested_diamond">\n<g id="step-3" class="step-3">\n<path id="step-3-neutral" d="M270.104 467.905C270.07 467.94 270.032 467.973 269.997 468.007C270.991 468.111 272 468.165 273.021 468.165H897.406C913.297 468.165 926.18 455.283 926.18 439.392V402.945C926.18 387.054 913.297 374.172 897.406 374.172H363.837L270.104 467.905Z" fill="#F5F2F2" class="step-3 neutral"/>\n<path id="step-3-accent-no-border" d="M326.535 407.484C328.488 405.531 328.488 402.365 326.535 400.412L252.724 326.601C250.771 324.649 247.605 324.649 245.653 326.601L171.841 400.412C169.889 402.365 169.889 405.531 171.841 407.484L245.653 481.295C247.605 483.247 250.771 483.247 252.724 481.295L326.535 407.484Z" fill="#4046B4" class="step-3 accent no-border"/>\n<rect id="step-3-card-textbox-left" width="457" height="45" fill="#D9D9D9" class="step-3 card textbox left" x="435.18100000000004" y="396.008"/>\n<rect id="step-3-accent-image" width="40" height="40" fill="#D9D9D9" class="step-3 accent image" x="229" y="378.023"/>\n<rect id="step-3-selection" x="224.67999999999995" y="370.504" width="674" height="78" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-neutral" d="M426.641 304.434C428.593 306.386 428.593 309.551 426.641 311.504L383.176 354.969H897.402C913.293 354.969 926.176 342.086 926.176 326.195V289.742C926.176 273.851 913.293 260.969 897.402 260.969H383.176L426.641 304.434Z" fill="#F5F2F2" class="step-2 neutral"/>\n<path id="step-2-accent-no-border" d="M252.74 230.294C250.787 228.342 247.622 228.342 245.669 230.294L123.658 352.306C121.705 354.259 121.705 357.425 123.658 359.377L245.669 481.389C247.622 483.341 250.787 483.341 252.74 481.389L374.751 359.377C376.704 357.425 376.704 354.259 374.751 352.306L252.74 230.294ZM245.654 324.49C247.606 322.537 250.772 322.537 252.725 324.49L327.596 399.362C329.549 401.314 329.549 404.48 327.596 406.433L252.725 481.304C250.772 483.257 247.606 483.257 245.654 481.304L170.782 406.433C168.829 404.48 168.829 401.314 170.782 399.362L245.654 324.49Z" fill="#666BC3" class="step-2 accent no-border"/>\n<rect id="step-2-card-textbox-left" width="457" height="45" fill="#D9D9D9" class="step-2 card textbox left" x="435.18100000000004" y="287.008"/>\n<rect id="step-2-accent-image" width="40" height="40" fill="#D9D9D9" class="step-2 accent image" x="229" y="275"/>\n<rect id="step-2-selection" x="224.67999999999995" y="267.5" width="674" height="72" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-neutral" d="M273.021 149.643C272.293 149.643 271.57 149.669 270.854 149.723L364.767 243.636H897.406C913.297 243.636 926.18 230.753 926.18 214.862V178.416C926.18 162.525 913.297 149.643 897.406 149.643H273.021Z" fill="#F5F2F2" class="step-1 neutral"/>\n<path id="step-1-accent-no-border" d="M252.797 135.464C250.844 133.512 247.679 133.512 245.726 135.464L76.4646 304.726C74.5125 306.678 74.5125 309.844 76.4646 311.796L121.286 356.616C120.381 354.753 120.7 352.444 122.248 350.897L245.669 227.476C247.621 225.523 250.787 225.523 252.74 227.476L376.161 350.897C377.775 352.511 378.054 354.953 377 356.855L422.058 311.796C424.011 309.844 424.01 306.678 422.058 304.726L252.797 135.464Z" fill="#B3B5E1" class="step-1 accent no-border"/>\n<rect id="step-1-card-textbox-left" width="457" height="45" fill="#D9D9D9" class="step-1 card textbox left" x="435.18100000000004" y="173.008"/>\n<rect id="step-1-accent-image" width="40" height="40" fill="#D9D9D9" class="step-1 accent image" x="229" y="176"/>\n<rect id="step-1-selection" x="224.67999999999995" y="165.5" width="674" height="60" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("nested_diamond_","")),n]})),tU="nested_diamond",tG={key:tU,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:3,l=tW.get(r);return l?(0,a.jsx)(tx,{svgData:l,templateKey:tU,svgScalingFactor:tG.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"C5zvEL"}),icon:i.euE,previewImage:{src:"/_next/static/media/nested_diamonds.fbef844a.svg",height:96,width:253,blurWidth:0,blurHeight:0},allowedColorSchemes:[],stepSvgData:tW,formattingMenu:Z,defaultData:()=>y(tW),defaultColorScheme:"monochrome",svgScalingFactor:1},tK=new Map(Object.entries({packed_circles_1:'<svg class="packed_circles-frame" width="320" height="320" viewBox="341 108 320 320" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="501" cy="268" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="376.16796875" y="190.0625" width="247" height="161" class="step-1 textbox accent" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="351.5" y="118.5" width="299" height="299" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',packed_circles_2:'<svg class="packed_circles-frame" width="570.96416" height="377.96016" viewBox="215.01992 79.01992 570.96416 377.96016" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="376" cy="240" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="249.16796875" y="161.0625" width="251" height="163" class="step-1 textbox accent" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="226.5" y="90.5" width="299" height="299" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<circle id="step-2-accent" cx="655.004" cy="326" r="120" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="561.16796875" y="264.0625" width="185" height="121" class="step-2 textbox accent" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="535.5" y="206.5" width="239" height="239" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',packed_circles_3:'<svg class="packed_circles-frame" width="583.44" height="499.44" viewBox="208.78 17.78 583.44 499.44" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="370" cy="179" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="237.16796875" y="96.0625" width="263" height="171" class="step-1 textbox accent" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="220.5" y="29.5" width="299" height="299" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<circle id="step-2-accent" cx="661" cy="166" r="120" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="557.16796875" y="98.0625" width="205" height="133" class="step-2 textbox accent" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="541.5" y="46.5" width="239" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<circle id="step-3-accent" cx="551" cy="396" r="110" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="460.16796875" y="333.0625" width="179" height="131" class="step-3 textbox accent" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="441.5" y="286.5" width="219" height="219" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',packed_circles_4:'<svg class="packed_circles-frame" width="748.8" height="486.8" viewBox="126.6 50.6 748.8 486.8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="291" cy="329" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-selection" x="129.5" y="170.5" width="315" height="315" stroke="black" class="step-1 selection"/>\n<rect id="step-1-accent-textbox" x="164.16796875" y="247.0625" width="251" height="163" class="step-1 textbox accent" fill="#E5E5E5"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<circle id="step-2-accent" cx="542" cy="185" r="120" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="443.16796875" y="120.0625" width="195" height="127" class="step-2 textbox accent" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="414.5" y="57.5" width="255" height="255" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<circle id="step-3-accent" cx="751" cy="324" r="110" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="661.16796875" y="262.0625" width="177" height="129" class="step-3 textbox accent" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="641.5" y="214.5" width="219" height="219" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<circle id="step-4-accent" cx="544" cy="423" r="100" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="459.16796875" y="363.0625" width="167" height="121" class="step-4 textbox accent" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="437.5" y="319.5" width="211" height="211" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',packed_circles_5:'<svg class="packed_circles-frame" width="748.8" height="550.8" viewBox="126.6 -13.4 748.8 550.8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="packed_circles-frame">\n<g id="step-1" class="step-1 accent">\n<circle id="step-1-accent" cx="291" cy="329" r="150" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="164.16796875" y="247.0625" width="251" height="163" class="step-1 textbox accent" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="141.5" y="179.5" width="315" height="315" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<circle id="step-2-accent" cx="542" cy="185" r="120" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="443.16796875" y="120.0625" width="195" height="127" class="step-2 textbox accent" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="422.5" y="65.5" width="255" height="255" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<circle id="step-3-accent" cx="751" cy="324" r="110" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="661.16796875" y="262.0625" width="177" height="129" class="step-3 textbox accent" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="641.5" y="214.5" width="219" height="219" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<circle id="step-4-accent" cx="544" cy="423" r="100" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="459.16796875" y="363.0625" width="167" height="121" class="step-4 textbox accent" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="444.5" y="323.5" width="199" height="199" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5 accent">\n<circle id="step-5-accent" cx="343.5" cy="88.5" r="87.5" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-accent-textbox" x="268.16796875" y="41.0625" width="147" height="96" class="step-5 textbox accent" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="256.5" y="1.5" width="174" height="174" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,a=t.match(/_([0-9]+)$/);return[a?Number(a[1]):1,n]})),tQ="packed_circles",tZ={key:tQ,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:5,l=tK.get(r);return l?(0,a.jsx)(tx,{svgData:l,templateKey:tQ,svgScalingFactor:tZ.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"QhL7JY"}),icon:i.GEE,defaultColorScheme:"monochrome",stepSvgData:tK,previewImage:{src:"/_next/static/media/packed-circles.50bed684.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:Z,defaultData:()=>y(tK),svgScalingFactor:1},tq=new Map(Object.entries({pinwheel_4:'<svg class="pinwheel" width="965.1158399999999" height="471.75724" viewBox="18.44008 32.12168 965.1158399999999 471.75724" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="pinwheel" class="pinwheel">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M499.646 257.01C497.493 257.23 495.522 258.062 493.905 259.326L393.133 158.178L499.099 50.6816L499.646 257.01Z" fill="#4046B4" class="step-1 accent"/>\n<path id="step-1-accent_2" d="M492.525 260.598C490.948 262.323 489.903 264.543 489.651 266.998L392.09 266.321L392.261 159.473L492.525 260.598Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="439" y="143" width="35" height="35" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-card-textbox" x="37" y="169" width="334" height="79" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="27.5" y="135.5" width="455" height="121" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M718.061 266.454L511.945 267.001C511.72 264.795 510.852 262.78 509.535 261.142L610.564 160.488L718.061 266.454Z" fill="#666BC3" class="step-2 accent"/>\n<path id="step-2-accent_2" d="M609.268 159.62L508.242 259.785C506.483 258.22 504.229 257.201 501.742 256.994L502.419 159.449L609.268 159.62Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-image" x="593" y="213" width="35" height="35" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-card-textbox" x="520" y="61" width="334" height="79" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="512.5" y="54.5" width="349" height="202" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M608.346 377.823L502.38 485.319L501.832 279.309C504.078 279.102 506.13 278.233 507.795 276.898L608.346 377.823Z" fill="#8C90D2" class="step-3 accent"/>\n<path id="step-3-accent_2" d="M609.39 269.679L609.219 376.527L509.156 275.606C510.746 273.823 511.773 271.53 511.962 269.002L609.39 269.679Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-image" x="526.996" y="360" width="35" height="35" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-card-textbox" x="630.996" y="283" width="334" height="79" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="520.5" y="274.5" width="453" height="127" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M489.62 268.908C489.766 271.116 490.55 273.149 491.792 274.824L390.82 375.422L283.324 269.456L489.62 268.908Z" fill="#B3B5E1" class="step-4 accent"/>\n<path id="step-4-accent_2" d="M493.034 276.232C494.787 277.918 497.085 279.04 499.64 279.302L498.966 376.463L392.117 376.292L493.034 276.232Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-image" x="373" y="294.002" width="35" height="35" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-card-textbox" x="147" y="393" width="334" height="79" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="139.5" y="286.502" width="349" height="193" stroke="black" class="step-4 selection"/>\n</g>\n<g id="general-1" class="general-1">\n<circle id="general-1-subtle" cx="501" cy="268" r="9" fill="#D9DAF0" class="general-1 subtle"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("pinwheel_","")),n]})),tJ="pinwheel",t$={key:tJ,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:1,l=tq.get(r);return l?(0,a.jsx)(tx,{svgData:l,templateKey:tJ,svgScalingFactor:t$.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"MVp6kM"}),icon:i.SiZ,previewImage:{src:"/_next/static/media/pinwheel.728e4518.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",stepSvgData:tq,formattingMenu:Z,defaultData:()=>y(tq),svgScalingFactor:1},tY=new Map([[4,'<svg class="puzzle" width="994.2397920000001" height="493.886492" viewBox="4.789203999999998 14.192504 994.2397920000001 493.886492" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="puzzle" class="puzzle">\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M575.792 33.3125C591.699 33.3125 604.594 46.2075 604.594 62.1143V73.6348H669.108V139.879H680.631C696.537 139.879 709.432 152.774 709.433 168.681C709.433 184.587 696.538 197.482 680.631 197.482H669.108V257.967H611.505V252.206C611.505 233.118 596.03 217.645 576.942 217.645C557.854 217.645 542.38 233.118 542.38 252.206V257.967H484.776V199.211H490.537C509.625 199.211 525.099 183.736 525.1 164.648C525.099 145.56 509.625 130.087 490.537 130.087H484.776V73.6348H546.99V62.1143C546.99 46.2075 559.885 33.3125 575.792 33.3125Z" fill="#D9DAF0" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" opacity="0.5" x="733.909" y="118.992" width="246" height="97" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-accent-image" opacity="0.5" x="535.909" y="128.992" width="86" height="74" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="528.5" y="111.5" width="459" height="112" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M575.792 223.406C591.699 223.406 604.594 236.301 604.594 252.208V263.729H669.108V329.973H680.631C696.537 329.973 709.432 342.868 709.433 358.774C709.433 374.681 696.538 387.576 680.631 387.576H669.108V448.061H611.505V442.3C611.505 423.212 596.03 407.738 576.942 407.738C557.854 407.738 542.38 423.212 542.38 442.3V448.061H484.776V389.305H490.537C509.625 389.305 525.099 373.83 525.1 354.742C525.099 335.654 509.625 320.181 490.537 320.181H484.776V263.729H546.99V252.208C546.99 236.301 559.885 223.406 575.792 223.406Z" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="733.909" y="305" width="246" height="97" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-accent-image" x="535.909" y="315" width="86" height="74" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="528.5" y="296.5" width="459" height="112" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M351.713 264.305V270.064C351.713 289.153 367.186 304.627 386.274 304.627C405.363 304.627 420.837 289.153 420.837 270.064V264.305H478.44V324.788H489.963C505.869 324.788 518.764 337.683 518.765 353.59C518.765 369.497 505.87 382.391 489.963 382.392H478.44V448.636H413.926V460.157C413.926 476.064 401.031 488.959 385.124 488.959C369.217 488.959 356.322 476.064 356.322 460.157V448.636H294.108V392.185H299.869C318.957 392.185 334.432 376.71 334.432 357.622C334.432 338.534 318.957 323.061 299.869 323.061H294.108V264.305H351.713Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox-right" x="23.9092" y="305" width="246" height="97" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-accent-image" x="347.909" y="327" width="86" height="74" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="16.5" y="297.5" width="426" height="111" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M354.595 79.4004C354.595 98.4884 370.068 113.963 389.156 113.963C408.244 113.963 423.719 98.4885 423.719 79.4004V73.6406H480.17V135.853H491.691C507.598 135.853 520.493 148.748 520.493 164.654C520.493 180.561 507.598 193.456 491.691 193.456H480.17V257.972H413.927V269.493C413.927 285.4 401.031 298.295 385.124 298.295C369.218 298.295 356.323 285.4 356.322 269.493V257.972H295.839V200.368H301.6C320.687 200.368 336.161 184.894 336.161 165.807C336.161 146.719 320.688 131.244 301.6 131.244H295.839V73.6406H354.595V79.4004Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-image" x="348" y="141.008" width="86" height="74" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-card-textbox-right" x="25" y="119.008" width="245" height="96" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-selection" x="16.5" y="111.508" width="425" height="111" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n']]),tX="puzzle",t0={key:tX,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:4,l=tY.get(r);return l?(0,a.jsx)(tx,{svgData:l,templateKey:tX,svgScalingFactor:t0.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"nT0180"}),icon:tA.wvb,defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],previewImage:{src:"/_next/static/media/puzzle.f9b38688.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:Z,stepSvgData:tY,defaultData:()=>y(tY),svgScalingFactor:1},t1=new Map([[1,'<svg class="quadrant" width="1001" height="501" viewBox="0 0 1001 501" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="quadrant" class="quadrant">\n<path id="general-6-accent" d="M510.64 430.569C511.202 431.131 511.202 432.043 510.64 432.605L501.475 441.77C500.913 442.332 500.001 442.332 499.439 441.77L490.274 432.605C489.712 432.043 489.711 431.131 490.274 430.569C490.836 430.006 491.748 430.007 492.31 430.569L499.017 437.275L499.017 69.8051L492.31 76.5117C491.748 77.0739 490.836 77.074 490.274 76.5117C489.711 75.9493 489.712 75.0377 490.274 74.4753L499.439 65.3105C500.001 64.7481 500.913 64.7481 501.475 65.3105L510.64 74.4753C511.202 75.0377 511.202 75.9493 510.64 76.5117C510.077 77.074 509.166 77.0739 508.603 76.5117L501.897 69.8051L501.897 437.275L508.603 430.569C509.166 430.007 510.077 430.006 510.64 430.569Z" fill="#4046B4" class="general-6 accent"/>\n<path id="general-5-accent" d="M778.005 233.851C778.567 233.289 779.479 233.289 780.041 233.851L789.206 243.016C789.768 243.579 789.768 244.49 789.206 245.053L780.041 254.217C779.479 254.78 778.567 254.78 778.005 254.217C777.442 253.655 777.442 252.743 778.005 252.181L784.711 245.474H215.628L222.335 252.181C222.897 252.743 222.897 253.655 222.335 254.217C221.773 254.78 220.861 254.78 220.299 254.217L211.134 245.053C210.571 244.49 210.571 243.579 211.134 243.016L220.299 233.851C220.861 233.289 221.773 233.289 222.335 233.851C222.897 234.414 222.897 235.325 222.335 235.888L215.628 242.594H784.711L778.005 235.888C777.442 235.325 777.442 234.414 778.005 233.851Z" fill="#4046B4" class="general-5 accent"/>\n<rect id="general-4-card-textbox" y="226" width="197" height="35" fill="#D9D9D9" class="general-4 card textbox"/>\n<rect id="general-3-card-textbox" x="310.656" y="455.152" width="380.183" height="34.5621" fill="#D9D9D9" class="general-3 card textbox"/>\n<rect id="general-2-card-textbox" x="803" y="226" width="197" height="35" fill="#D9D9D9" class="general-2 card textbox"/>\n<rect id="general-1-card-textbox" x="310.083" y="17.3652" width="380.183" height="34.5621" fill="#D9D9D9" class="general-1 card textbox"/>\n<g id="step-3" class="step-3">\n<circle id="step-3-accent" cx="371.042" cy="300.042" r="23.0417" fill="#D5D6EF" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="276" y="334" width="202" height="71" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-accent-image" x="357.14" y="286.418" width="28" height="28" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="262.25" y="269.25" width="218.5" height="144.5" stroke="black" stroke-width="0.5" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<circle id="step-4-accent" cx="641.902" cy="300.747" r="23.0417" fill="#D5D6EF" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="541" y="335" width="202" height="71" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-accent-image" x="628" y="287" width="28" height="28" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="533.25" y="270.25" width="217.5" height="143.5" stroke="black" stroke-width="0.5" class="step-4 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-accent" cx="641.902" cy="115.747" r="23.0417" fill="#D5D6EF" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="541" y="150" width="202" height="71" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-accent-image" x="628" y="102" width="28" height="28" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="533.25" y="85.25" width="217.5" height="143.5" stroke="black" stroke-width="0.5" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<circle id="step-1-accent" cx="370.902" cy="115.747" r="23.0417" fill="#D5D6EF" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="270" y="150" width="202" height="71" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-accent-image" x="357" y="102" width="28" height="28" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="262.25" y="85.25" width="217.5" height="143.5" stroke="black" stroke-width="0.5" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n\n    ']]),t2="quadrants",t4={key:t2,Component:e=>{let t=t1.get(1);return t?(0,a.jsx)(tx,{svgData:t,templateKey:t2,svgScalingFactor:t4.svgScalingFactor,...e}):(console.error("No SVG data found for key",1),null)},label:()=>r.Ru._({id:"o/Eq9R"}),icon:tA.Nfw,previewImage:{src:"/_next/static/media/quadrant.755601ce.svg",height:96,width:253,blurWidth:0,blurHeight:0},stepSvgData:t1,formattingMenu:Z,defaultData:()=>y(t1),svgScalingFactor:1},t6=new Map(Object.entries({ribbon_arrows_2:'<svg class="ribbon_arrows" width="436.64399999999995" height="463.68179999999995" viewBox="283.309 35.2422 436.64399999999995 463.68179999999995" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ribbon_arrows" class="ribbon_arrows">\n<g id="step-1" class="step-1">\n<g id="step-1-accent" class="step-1 accent">\n<path d="M307.145 191.594H498.764L481.87 206.649L465 222.005V315.155H307.145V191.594Z" fill="#B3B5E1"/>\n</g>\n<rect id="step-1-textbox-card-top" x="293.309" y="368.125" width="220.148" height="120.799" fill="black" class="step-1 textbox card top"/>\n<rect id="step-1-accent-image" x="374.594" y="224.75" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="284.551" y="184.484" width="235" height="313" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M709.953 285.188L648.453 371.791V345.727H465.168V222.165H648.453V198.586L709.953 285.188Z" fill="#D9DAF0" class="step-2 accent"/>\n<path id="step-2-accent-dim" d="M499 222.008V191.508L465 222.008H499Z" fill="#8C90D2" class="step-2 accent dim"/>\n<rect id="step-2-textbox-card-bottom" x="480.715" y="45.2422" width="220.148" height="120.799" fill="black" class="step-2 textbox card bottom"/>\n<rect id="step-2-accent-image" x="542.809" y="257.484" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="454.551" y="36.4844" width="264" height="344" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',ribbon_arrows_3:'<svg class="ribbon_arrows" width="584.87" height="525.2318" viewBox="208.1625 4.6587 584.87 525.2318" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ribbon_arrows" class="ribbon_arrows">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M223 191H414.62L397.726 206.055L380.855 221.411V314.562H223V191Z" fill="#8C90D2" class="step-1 accent"/>\n<rect id="step-1-card-textbox-bottom" x="219.41" y="15.9062" width="227" height="121" fill="black" class="step-1 card textbox bottom"/>\n<rect id="step-1-accent-image" x="288.992" y="223.984" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="211.5" y="7.5" width="244" height="314" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent-dim" d="M414 221.5V191L380 221.5H414Z" fill="#666BC3" class="step-2 accent dim"/>\n<path id="step-2-accent" d="M380 221H571.62L554.726 236.055L537.855 251.411V344.562H380V221Z" fill="#B3B5E1" class="step-2 accent"/>\n<rect id="step-2-card-textbox-top" x="365.766" y="397.844" width="220.148" height="120.799" fill="black" class="step-2 card textbox top"/>\n<rect id="step-2-accent-image" x="447.051" y="254.469" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="356.5" y="212.5" width="238" height="313" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent-dim" d="M571 251.5V221L537 251.5H571Z" fill="#8C90D2" class="step-3 accent dim"/>\n<path id="step-3-accent" d="M781.785 314.603L720.285 401.205V375.141H537V251.579H720.285V228L781.785 314.603Z" fill="#D9DAF0" class="step-3 accent"/>\n<rect id="step-3-card-textbox-bottom" x="553.172" y="74.9609" width="220.148" height="120.799" fill="black" class="step-3 card textbox bottom"/>\n<rect id="step-3-accent-image" x="615.266" y="287.211" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="529.5" y="66.5" width="261" height="343" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',ribbon_arrows_4:'<svg class="ribbon_arrows" width="772.63472" height="532.45352" viewBox="115.39964 1.047839999999999 772.63472 532.45352" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ribbon_arrows" class="ribbon_arrows">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M157 162H348.62L331.726 177.055L314.855 192.411V285.562H157V162Z" fill="#666BC3" class="step-1 accent"/>\n<rect id="step-1-card-textbox-top" x="130.258" y="332.367" width="220.148" height="120.799" fill="black" class="step-1 card textbox top"/>\n<rect id="step-1-accent-image" x="221.703" y="193.508" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="122.5" y="153.5" width="235" height="309" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent-dim" d="M348 192.5V162L314 192.5H348Z" fill="#4046B4" class="step-2 accent dim"/>\n<path id="step-2-accent" d="M314 192H505.62L488.726 207.055L471.855 222.411V315.562H314V192Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-textbox-card-bottom" x="310.176" y="15.9062" width="227" height="121" fill="black" class="step-2 textbox card bottom"/>\n<rect id="step-2-accent-image" x="379.758" y="223.984" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="304.5" y="6.5" width="242" height="314" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent-dim" d="M505 222.5V192L471 222.5H505Z" fill="#666BC3" class="step-3 accent dim"/>\n<path id="step-3-accent" d="M471 222H662.62L645.726 237.055L628.855 252.411V345.562H471V222Z" fill="#B3B5E1" class="step-3 accent"/>\n<rect id="step-3-textbox-card-top" x="456.531" y="397.844" width="220.148" height="120.799" fill="black" class="step-3 textbox card top"/>\n<rect id="step-3-accent-image" x="537.816" y="254.469" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="449.5" y="214.5" width="235" height="312" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent-dim" d="M662 252.5V222L628 252.5H662Z" fill="#8C90D2" class="step-4 accent dim"/>\n<path id="step-4-accent" d="M873.176 314.907L811.676 401.51V375.445H628.391V251.884H811.676V228.305L873.176 314.907Z" fill="#D9DAF0" class="step-4 accent"/>\n<rect id="step-4-textbox-card-bottom" x="643.938" y="74.9609" width="220.148" height="120.799" fill="black" class="step-4 textbox card bottom"/>\n<rect id="step-4-accent-image" x="706.031" y="287.211" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="620.5" y="68.5" width="260" height="339" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',ribbon_arrows_5:'<svg class="ribbon_arrows" width="926.441048" height="565.119158" viewBox="44.33612599999999 -10.573984 926.441048 565.119158" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="ribbon_arrows" class="ribbon_arrows">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M79.0508 148.984H270.67L253.776 164.04L236.906 179.396V272.546H79.0508V148.984Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-bottom" x="62.1523" y="7.24219" width="220.148" height="120.799" fill="black" class="step-1 card textbox bottom"/>\n<rect id="step-1-accent-image" x="144.566" y="181.102" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="52.5508" y="1.48438" width="240" height="278" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M236.051 178.984H427.67L410.776 194.04L393.906 209.396V302.546H236.051V178.984Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-textbox-card-top" x="210.043" y="350.453" width="220.148" height="120.799" fill="black" class="step-2 textbox card top"/>\n<rect id="step-2-accent-image" x="301.488" y="211.586" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="200.551" y="168.484" width="237" height="313" stroke="black" class="step-2 selection"/>\n<g id="step-2-accent-dim" class="step-2 accent dim">\n<path d="M270.051 179.484V148.984L236.051 179.484H270.051Z" fill="#4046B4"/>\n<path d="M270.051 179.484V148.984L236.051 179.484H270.051Z" fill="black" fill-opacity="0.2"/>\n</g>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M393.051 208.984H584.67L567.776 224.04L550.906 239.396V332.546H393.051V208.984Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox-bottom" x="389.961" y="33.9844" width="227" height="121" fill="black" class="step-3 card textbox bottom"/>\n<rect id="step-3-accent-image" x="459.543" y="242.07" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="381.551" y="26.4844" width="243" height="316" stroke="black" class="step-3 selection"/>\n<path id="step-3-accent-dim" d="M427.051 209.484V178.984L393.051 209.484H427.051Z" fill="#4046B4" class="step-3 accent dim"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M550.051 238.984H741.67L724.776 254.04L707.906 269.396V362.546H550.051V238.984Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-textbox-card-top" x="536.316" y="415.93" width="220.148" height="120.799" fill="black" class="step-4 textbox card top"/>\n<rect id="step-4-accent-image" x="617.602" y="272.547" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-selection" x="526.551" y="231.484" width="240" height="313" stroke="black" class="step-4 selection"/>\n<path id="step-4-accent-dim" d="M584.051 239.484V208.984L550.051 239.484H584.051Z" fill="#666BC3" class="step-4 accent dim"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent-dim" d="M742.051 269.484V238.984L708.051 269.484H742.051Z" fill="#8C90D2" class="step-5 accent dim"/>\n<path id="step-5-accent" d="M952.961 332.985L891.461 419.588V393.523H708.176V269.962H891.461V246.383L952.961 332.985Z" fill="#D9DAF0" class="step-5 accent"/>\n<rect id="step-5-card-textbox-bottom" x="723.723" y="93.0469" width="220.148" height="120.799" fill="black" class="step-5 card textbox bottom"/>\n<rect id="step-5-accent-image" x="785.816" y="305.289" width="56.4482" height="56.4482" fill="#D9D9D9" class="step-5 accent image"/>\n<rect id="step-5-selection" x="700.551" y="85.4844" width="262" height="342" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("ribbon_arrows_","")),n]})),t5="ribbon_arrows",t3={key:t5,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:5,l=t6.get(r);return l?(0,a.jsx)(tx,{svgData:l,templateKey:t5,svgScalingFactor:t3.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"aBHvyl"}),previewImage:{src:"/_next/static/media/ribbon_arrows.297df46f.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],formattingMenu:Z,stepSvgData:t6,defaultData:()=>y(t6),svgScalingFactor:1},t9=new Map(Object.entries({rings_1:'<svg class="rings" width="237.077" height="232.29580000000004" viewBox="381.996 14.9922 237.077 232.29580000000004" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M583.151 168.645C583.151 145.05 564.025 125.922 540.43 125.922H460.645C437.05 125.922 417.922 145.05 417.922 168.645C417.922 192.239 437.05 211.367 460.645 211.367H540.43C564.024 211.367 583.151 192.239 583.151 168.645ZM609.073 168.645C609.073 206.555 578.341 237.288 540.43 237.288H460.645C422.734 237.288 392 206.555 392 168.645C392 130.733 422.733 100 460.645 100H540.43C578.341 100 609.073 130.734 609.073 168.645Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="391.996" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="383.5" y="13.5" width="235" height="236" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',rings_2:'<svg class="rings" width="358.851" height="370.9998" viewBox="320.996 14.9922 358.851 370.9998" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M479.43 100C513.021 100 540.975 124.129 546.909 156H520.248C514.858 138.578 498.622 125.922 479.43 125.922H399.645C376.05 125.922 356.922 145.05 356.922 168.645C356.922 192.239 376.05 211.367 399.645 211.367H454.059C454.039 211.466 454.019 211.566 454 211.665H479.037C479.599 211.665 480.158 211.65 480.714 211.629C480.744 211.533 480.776 211.438 480.808 211.343C499.159 210.761 514.586 198.608 520.039 181.938H546.786C540.595 213.486 512.793 237.288 479.43 237.288H399.645C361.734 237.288 331 206.555 331 168.645C331 130.733 361.733 100 399.645 100H479.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="330.996" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="318.5" y="15.5" width="241" height="236" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M601.203 156C639.114 156 669.847 186.734 669.847 224.645C669.847 262.555 639.114 293.288 601.203 293.288H521.418C487.938 293.288 460.056 269.319 453.996 237.605H479.033C479.588 237.605 480.141 237.598 480.692 237.585C486.175 254.854 502.334 267.367 521.418 267.367H601.203C624.798 267.367 643.925 248.239 643.925 224.645C643.925 201.05 624.798 181.922 601.203 181.922H553.991C553.993 181.927 553.994 181.932 553.996 181.938H518.978C500.65 182.646 486.047 194.898 480.71 211.629C480.154 211.65 479.595 211.665 479.033 211.665H453.996C459.956 180.476 486.758 156.777 519.496 156H601.203Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="452.996" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="439.5" y="145.5" width="243" height="244" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',rings_3:'<svg class="rings" width="482" height="370.9998" viewBox="260 14.9922 482 370.9998" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M418.43 100C452.021 100 479.975 124.129 485.909 156H459.248C453.858 138.578 437.622 125.922 418.43 125.922H338.645C315.05 125.922 295.922 145.05 295.922 168.645C295.922 192.239 315.05 211.367 338.645 211.367H393.059C393.039 211.466 393.019 211.566 393 211.665H418.037C418.599 211.665 419.158 211.65 419.714 211.629C419.744 211.533 419.776 211.438 419.808 211.343C438.159 210.761 453.586 198.608 459.039 181.938H485.786C479.595 213.486 451.793 237.288 418.43 237.288H338.645C300.734 237.288 270 206.555 270 168.645C270 130.733 300.733 100 338.645 100H418.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="270" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="259.5" y="14.5" width="236" height="232" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M608.024 236C601.849 267.568 573.853 293.288 540.477 293.288H484.862C484.865 293.274 484.867 293.26 484.869 293.246H458.326C426.353 292.163 399.926 267.333 393.527 237H417.211C418.299 237 419.432 236.92 420.5 237C426.053 252.561 440.275 266.719 457.455 267.245C463.21 267.421 475.262 267.452 484.392 267.458C484.385 267.428 484.38 267.397 484.374 267.367H515.055C515.038 267.453 515.02 267.54 515.004 267.626H540.041C540.602 267.626 541.162 267.611 541.718 267.59C541.744 267.508 541.771 267.426 541.798 267.345C560.188 266.786 575.836 252.707 581.283 236H608.024ZM540.477 156C574.054 156 602.074 178.648 608.024 210.5H581.358C575.956 193.099 559.655 181.922 540.477 181.922H460.691C441.132 181.922 424.643 194.105 419.574 212.041C418.79 212.014 418.002 212 417.211 212H393.039C398.586 179.654 426.763 156 460.691 156H540.477Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="392" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="382.5" y="148.5" width="236" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M583.484 236.289C549.893 236.289 521.94 213.16 516.005 181.289H542.666C548.057 198.711 564.292 210.367 583.484 210.367H663.27C686.865 210.367 705.992 191.24 705.992 167.645C705.992 144.05 686.864 124.922 663.27 124.922H608.855C608.875 124.823 608.895 124.723 608.914 124.624H583.877C583.315 124.624 582.757 124.639 582.2 124.66C582.17 124.756 582.138 124.851 582.106 124.946C563.755 125.528 548.205 139.331 542.752 156.001H516.005C522.196 124.452 550.121 99.0012 583.484 99.001H663.27C701.181 99.001 731.914 129.734 731.914 167.645C731.914 205.556 701.181 236.289 663.27 236.289H583.484Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="516" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="505.5" y="14.5" width="236" height="232" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',rings_4:'<svg class="rings" width="607.36" height="374.3598" viewBox="197.32 13.3122 607.36 374.3598" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M357.43 100C391.021 100 418.975 124.129 424.909 156H398.248C392.858 138.578 376.622 125.922 357.43 125.922H277.645C254.05 125.922 234.922 145.05 234.922 168.645C234.922 192.239 254.05 211.367 277.645 211.367H332.059C332.039 211.466 332.019 211.566 332 211.665H357.037C357.599 211.665 358.158 211.65 358.714 211.629C358.744 211.533 358.776 211.438 358.808 211.343C377.159 210.761 392.586 198.608 398.039 181.938H424.786C418.595 213.486 390.793 237.288 357.43 237.288H277.645C239.734 237.288 209 206.555 209 168.645C209 130.733 239.733 100 277.645 100H357.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="209" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="198.5" y="14.5" width="236" height="232" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M547.024 236C540.849 267.568 512.853 293.288 479.477 293.288H423.862C423.865 293.274 423.867 293.26 423.869 293.246H397.326C365.353 292.163 338.926 267.333 332.527 237H356.211C357.299 237 358.432 236.92 359.5 237C365.053 252.561 379.275 266.719 396.455 267.245C402.21 267.421 414.262 267.452 423.392 267.458C423.385 267.428 423.38 267.397 423.374 267.367H454.055C454.038 267.453 454.02 267.54 454.004 267.626H479.041C479.602 267.626 480.162 267.611 480.718 267.59C480.744 267.508 480.771 267.426 480.798 267.345C499.188 266.786 514.836 252.707 520.283 236H547.024ZM479.477 156C513.054 156 541.074 178.648 547.024 210.5H520.358C514.956 193.099 498.655 181.922 479.477 181.922H399.691C380.132 181.922 363.643 194.105 358.574 212.041C357.79 212.014 357.002 212 356.211 212H332.039C337.586 179.654 365.763 156 399.691 156H479.477Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="331" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="321.5" y="146.5" width="236" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M685.571 180.898C678.948 212.467 649.123 236.288 613.33 236.288H553.69C553.692 236.274 553.695 236.26 553.697 236.246H525.233C490.944 235.163 462.604 212.216 455.742 181.883H481.141C482.307 181.883 483.464 181.924 484.609 182.004C490.564 197.565 505.875 209.719 524.298 210.245C530.469 210.421 543.395 210.452 553.185 210.458C553.178 210.428 553.173 210.397 553.166 210.367H586.068C586.05 210.453 586.031 210.54 586.014 210.626H612.863C613.465 210.626 614.065 210.611 614.662 210.59C614.69 210.508 614.719 210.426 614.747 210.345C634.469 209.786 651.052 197.606 656.893 180.898H685.571ZM613.33 99C649.339 99.0003 679.307 123.109 685.688 154.961H657.091C651.298 137.559 633.897 124.922 613.33 124.922H527.769C506.794 124.922 489.111 138.065 483.675 156.002C482.834 155.975 481.989 155.961 481.141 155.961H455.219C461.167 123.615 491.385 99 527.769 99H613.33Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="455.219" y="24.9922" width="231.638" height="60" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="443.5" y="14.5" width="252" height="232" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<g id="step-4-accent" class="step-4 accent">\n<path d="M724.211 155C762.122 155 792.854 185.734 792.854 223.645C792.854 261.555 762.122 292.288 724.211 292.288H644.426C610.946 292.288 583.064 268.319 577.004 236.605H602.041C602.596 236.605 603.149 236.598 603.7 236.585C609.183 253.854 625.342 266.367 644.426 266.367H724.211C747.806 266.367 766.932 247.239 766.933 223.645C766.933 200.05 747.806 180.922 724.211 180.922H676.999C677.001 180.927 677.002 180.932 677.004 180.938H641.985C623.658 181.646 609.055 193.898 603.718 210.629C603.161 210.65 602.603 210.665 602.041 210.665H577.004C582.963 179.476 609.766 155.777 642.504 155H724.211Z" fill="white"/>\n<path d="M724.211 155C762.122 155 792.854 185.734 792.854 223.645C792.854 261.555 762.122 292.288 724.211 292.288H644.426C610.946 292.288 583.064 268.319 577.004 236.605H602.041C602.596 236.605 603.149 236.598 603.7 236.585C609.183 253.854 625.342 266.367 644.426 266.367H724.211C747.806 266.367 766.932 247.239 766.933 223.645C766.933 200.05 747.806 180.922 724.211 180.922H676.999C677.001 180.927 677.002 180.932 677.004 180.938H641.985C623.658 181.646 609.055 193.898 603.718 210.629C603.161 210.65 602.603 210.665 602.041 210.665H577.004C582.963 179.476 609.766 155.777 642.504 155H724.211Z" fill="#8C90D2"/>\n</g>\n<rect id="step-4-card-textbox" x="577" y="314.992" width="216" height="60" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="567.5" y="146.5" width="236" height="239" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n',rings_5:'<svg class="rings" width="736.32" height="379.3198" viewBox="132.84 10.8322 736.32 379.3198" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M295.43 100C329.021 100 356.975 124.129 362.909 156H336.248C330.858 138.578 314.622 125.922 295.43 125.922H215.645C192.05 125.922 172.922 145.05 172.922 168.645C172.922 192.239 192.05 211.367 215.645 211.367H270.059C270.039 211.466 270.019 211.566 270 211.665H295.037C295.599 211.665 296.158 211.65 296.714 211.629C296.744 211.533 296.776 211.438 296.808 211.343C315.159 210.761 330.586 198.608 336.039 181.938H362.786C356.595 213.486 328.793 237.288 295.43 237.288H215.645C177.734 237.288 147 206.555 147 168.645C147 130.733 177.733 100 215.645 100H295.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="147" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="136.5" y="14.5" width="236" height="232" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M485.024 236C478.849 267.568 450.853 293.288 417.477 293.288H361.862C361.865 293.274 361.867 293.26 361.869 293.246H335.326C303.353 292.163 276.926 267.333 270.527 237H294.211C295.299 237 296.432 236.92 297.5 237C303.053 252.561 317.275 266.719 334.455 267.245C340.21 267.421 352.262 267.452 361.392 267.458C361.385 267.428 361.38 267.397 361.374 267.367H392.055C392.038 267.453 392.02 267.54 392.004 267.626H417.041C417.602 267.626 418.162 267.611 418.718 267.59C418.744 267.508 418.771 267.426 418.798 267.345C437.188 266.786 452.836 252.707 458.283 236H485.024ZM417.477 156C451.054 156 479.074 178.648 485.024 210.5H458.358C452.956 193.099 436.655 181.922 417.477 181.922H337.691C318.132 181.922 301.643 194.105 296.574 212.041C295.79 212.014 295.002 212 294.211 212H270.039C275.586 179.654 303.763 156 337.691 156H417.477Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="269" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="259.5" y="146.5" width="236" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M607.801 180.898C601.625 212.467 573.814 236.288 540.438 236.288H484.823C484.826 236.274 484.828 236.26 484.83 236.246H458.287C426.313 235.163 399.887 212.216 393.488 181.883H417.172C418.26 181.883 419.339 181.924 420.406 182.004C425.959 197.565 440.236 209.719 457.416 210.245C463.171 210.421 475.223 210.452 484.353 210.458C484.346 210.428 484.341 210.397 484.335 210.367H515.016C514.999 210.453 514.981 210.54 514.965 210.626H540.002C540.563 210.626 541.122 210.611 541.679 210.59C541.705 210.508 541.732 210.426 541.759 210.345C560.149 209.786 575.612 197.606 581.06 180.898H607.801ZM540.438 99C574.015 99.0003 601.96 123.109 607.91 154.961H581.244C575.842 137.559 559.616 124.922 540.438 124.922H460.652C441.093 124.922 424.604 138.065 419.535 156.002C418.751 155.975 417.963 155.961 417.172 155.961H393C398.547 123.615 426.724 99 460.652 99H540.438Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="393" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="386.5" y="14.5" width="236" height="232" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M730.024 235C723.849 266.568 695.853 292.288 662.477 292.288H606.862C606.865 292.274 606.867 292.26 606.869 292.246H580.326C548.353 291.163 521.926 266.333 515.527 236H539.211C540.299 236 541.432 235.92 542.5 236C548.053 251.561 562.275 265.719 579.455 266.245C585.21 266.421 597.262 266.452 606.392 266.458C606.385 266.428 606.38 266.397 606.374 266.367H637.055C637.038 266.453 637.02 266.54 637.004 266.626H662.041C662.602 266.626 663.162 266.611 663.718 266.59C663.744 266.508 663.771 266.426 663.798 266.345C682.188 265.786 697.836 251.707 703.283 235H730.024ZM662.477 155C696.054 155 724.074 177.648 730.024 209.5H703.358C697.956 192.099 681.655 180.922 662.477 180.922H582.691C563.132 180.922 546.643 193.105 541.574 211.041C540.79 211.014 540.002 211 539.211 211H515.039C520.586 178.654 548.763 155 582.691 155H662.477Z" fill="#8C90D2" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="515" y="314.992" width="216" height="60" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="505.5" y="146.5" width="236" height="239" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M705.484 235.287C671.893 235.287 643.94 212.158 638.005 180.287H664.666C670.057 197.709 686.292 209.365 705.484 209.365H785.27C808.865 209.365 827.992 190.238 827.992 166.643C827.992 143.048 808.864 123.92 785.27 123.92H730.855C730.875 123.821 730.895 123.721 730.914 123.622H705.877C705.315 123.622 704.757 123.637 704.2 123.658C704.17 123.754 704.138 123.849 704.106 123.944C685.755 124.526 670.205 138.329 664.752 154.999H638.005C644.196 123.45 672.121 97.9992 705.484 97.999H785.27C823.181 97.999 853.914 128.732 853.914 166.643C853.914 204.554 823.181 235.287 785.27 235.287H705.484Z" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="639" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-5 card textbox"/>\n<rect id="step-5-selection" x="628.5" y="14.5" width="236" height="232" stroke="black" class="step-5 selection"/>\n</g>\n</g>\n</svg>\n',rings_6:'<svg class="rings" width="863.2" height="384.1998" viewBox="62.4 8.392199999999999 863.2 384.1998" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="rings" class="rings">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M227.43 100C261.021 100 288.975 124.129 294.909 156H268.248C262.858 138.578 246.622 125.922 227.43 125.922H147.645C124.05 125.922 104.922 145.05 104.922 168.645C104.922 192.239 124.05 211.367 147.645 211.367H202.059C202.039 211.466 202.019 211.566 202 211.665H227.037C227.599 211.665 228.158 211.65 228.714 211.629C228.744 211.533 228.776 211.438 228.808 211.343C247.159 210.761 262.586 198.608 268.039 181.938H294.786C288.595 213.486 260.793 237.288 227.43 237.288H147.645C109.734 237.288 79.0002 206.555 79 168.645C79 130.733 109.733 100 147.645 100H227.43Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="79" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-selection" x="68.5" y="18.5" width="236" height="232" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M417.024 236C410.849 267.568 382.853 293.288 349.477 293.288H293.862C293.865 293.274 293.867 293.26 293.869 293.246H267.326C235.353 292.163 208.926 267.333 202.527 237H226.211C227.299 237 228.432 236.92 229.5 237C235.053 252.561 249.275 266.719 266.455 267.245C272.21 267.421 284.262 267.452 293.392 267.458C293.385 267.428 293.38 267.397 293.374 267.367H324.055C324.038 267.453 324.02 267.54 324.004 267.626H349.041C349.602 267.626 350.162 267.611 350.718 267.59C350.744 267.508 350.771 267.426 350.798 267.345C369.188 266.786 384.836 252.707 390.283 236H417.024ZM349.477 156C383.054 156 411.074 178.648 417.024 210.5H390.358C384.956 193.099 368.655 181.922 349.477 181.922H269.691C250.132 181.922 233.643 194.105 228.574 212.041C227.79 212.014 227.002 212 226.211 212H202.039C207.586 179.654 235.763 156 269.691 156H349.477Z" fill="#8C90D2" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="201" y="315.992" width="216" height="60" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-selection" x="190.5" y="146.5" width="236" height="239" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M539.801 180.898C533.625 212.467 505.814 236.288 472.438 236.288H416.823C416.826 236.274 416.828 236.26 416.83 236.246H390.287C358.313 235.163 331.887 212.216 325.488 181.883H349.172C350.26 181.883 351.339 181.924 352.406 182.004C357.959 197.565 372.236 209.719 389.416 210.245C395.171 210.421 407.223 210.452 416.353 210.458C416.346 210.428 416.341 210.397 416.335 210.367H447.016C446.999 210.453 446.981 210.54 446.965 210.626H472.002C472.563 210.626 473.122 210.611 473.679 210.59C473.705 210.508 473.732 210.426 473.759 210.345C492.149 209.786 507.612 197.606 513.06 180.898H539.801ZM472.438 99C506.015 99.0003 533.96 123.109 539.91 154.961H513.244C507.842 137.559 491.616 124.922 472.438 124.922H392.652C373.093 124.922 356.604 138.065 351.535 156.002C350.751 155.975 349.963 155.961 349.172 155.961H325C330.547 123.615 358.724 99 392.652 99H472.438Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="325" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-selection" x="314.5" y="18.5" width="236" height="232" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M662.024 235C655.849 266.568 627.853 292.288 594.477 292.288H538.862C538.865 292.274 538.867 292.26 538.869 292.246H512.326C480.353 291.163 453.926 266.333 447.527 236H471.211C472.299 236 473.432 235.92 474.5 236C480.053 251.561 494.275 265.719 511.455 266.245C517.21 266.421 529.262 266.452 538.392 266.458C538.385 266.428 538.38 266.397 538.374 266.367H569.055C569.038 266.453 569.02 266.54 569.004 266.626H594.041C594.602 266.626 595.162 266.611 595.718 266.59C595.744 266.508 595.771 266.426 595.798 266.345C614.188 265.786 629.836 251.707 635.283 235H662.024ZM594.477 155C628.054 155 656.074 177.648 662.024 209.5H635.358C629.956 192.099 613.655 180.922 594.477 180.922H514.691C495.132 180.922 478.643 193.105 473.574 211.041C472.79 211.014 472.002 211 471.211 211H447.039C452.586 178.654 480.763 155 514.691 155H594.477Z" fill="#8C90D2" class="step-4 accent"/>\n<rect id="step-4-card-textbox" x="447" y="314.992" width="216" height="60" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="436.5" y="146.5" width="236" height="239" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M784.801 179.898C778.625 211.467 750.814 235.288 717.438 235.288H661.823C661.826 235.274 661.828 235.26 661.83 235.246H635.287C603.313 234.163 576.887 211.216 570.488 180.883H594.172C595.26 180.883 596.339 180.924 597.406 181.004C602.959 196.565 617.236 208.719 634.416 209.245C640.171 209.421 652.223 209.452 661.353 209.458C661.346 209.428 661.341 209.397 661.335 209.367H692.016C691.999 209.453 692.032 209.281 692.016 209.367H717C717.561 209.367 717.944 209.389 718.5 209.367C718.526 209.285 718.732 209.426 718.759 209.345C737.149 208.786 752.612 196.606 758.06 179.898H784.801ZM717.438 98C751.015 98.0003 778.96 122.109 784.91 153.961H758.244C752.842 136.559 736.616 123.922 717.438 123.922H637.652C618.093 123.922 601.604 137.065 596.535 155.002C595.751 154.975 594.963 154.961 594.172 154.961H570C575.547 122.615 603.724 98 637.652 98H717.438Z" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="571" y="24.9922" width="216" height="60" fill="#D9D9D9" class="step-5 card textbox"/>\n<rect id="step-5-selection" x="560.5" y="18.5" width="236" height="232" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-6" class="step-6">\n<rect id="step-6-card-textbox" x="693" y="313.992" width="216" height="60" fill="#D9D9D9" class="step-6 card textbox"/>\n<path id="step-6-accent" d="M839.363 153.629C877.315 153.629 908.08 184.395 908.08 222.346C908.08 260.298 877.315 291.063 839.363 291.063H759.494C725.978 291.063 698.067 267.069 692 235.321H717.064C717.619 235.321 718.173 235.314 718.725 235.301C724.213 252.588 740.389 265.114 759.494 265.114H839.363C862.983 265.114 882.13 245.966 882.131 222.346C882.131 198.726 862.983 179.579 839.363 179.578H792.101C792.103 179.584 792.105 179.589 792.106 179.594H757.051C738.704 180.303 724.085 192.568 718.742 209.317C718.185 209.338 717.626 209.353 717.064 209.353H692C697.966 178.131 724.797 154.407 757.57 153.629H839.363Z" fill="#8C90D2" class="step-6 accent"/>\n<rect id="step-6-selection" x="678.5" y="146.5" width="236" height="239" stroke="black" class="step-6 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("rings_","")),n]})),t7="rings",t8={key:t7,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:5,l=t9.get(r);return l?(0,a.jsx)(tx,{svgData:l,templateKey:t7,svgScalingFactor:t8.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"ZoIl0W"}),icon:tA.CQO,previewImage:{src:"/_next/static/media/rings.9591dd73.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"alternating",allowedColorSchemes:["alternating"],stepSvgData:t9,formattingMenu:Z,defaultData:()=>y(t9),svgScalingFactor:1},ne=new Map(Object.entries({slope_2:'<svg class="slope-frame" width="365.779" height="395.13800000000003" viewBox="318 148 365.779 395.13800000000003" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="slope-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M411.944 204.898C458.306 204.898 495.889 242.482 495.889 288.843V533.138H328V288.843C328 242.482 365.583 204.898 411.944 204.898ZM412 222.328C376.101 222.328 347 251.43 347 287.328C347 323.227 376.101 352.328 412 352.328C447.899 352.328 477 323.227 477 287.328C477 251.43 447.899 222.328 412 222.328Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="331.1689453125" y="372.92578125" width="160" height="128" class="step-1 accent textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="329.5" y="251.5" width="166" height="258" stroke="black" class="step-1 selection"/>\n<rect id="step-1-card-image" x="384" y="260" width="55" height="55" class="step-1 image subtle" fill="#666666"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" fill-rule="evenodd" clip-rule="evenodd" d="M589.835 158C636.196 158 673.779 195.583 673.779 241.944V533.131H505.891V241.944C505.891 195.583 543.474 158 589.835 158ZM590.002 175.328C554.103 175.328 525.002 204.43 525.002 240.328C525.002 276.227 554.103 305.328 590.002 305.328C625.9 305.328 655.002 276.227 655.002 240.328C655.002 204.43 625.9 175.328 590.002 175.328Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="511.1669921875" y="326.92578125" width="156" height="128" class="step-2 accent textbox" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="507.5" y="204.5" width="166" height="258" stroke="black" class="step-2 selection"/>\n<rect id="step-2-card-image" x="562" y="213" width="55" height="55" class="step-2 image subtle" fill="#666666"/>\n</g>\n</g>\n</svg>\n',slope_3:'<svg class="slope-frame" width="545.5278400000002" height="443.00984000000005" viewBox="228.50907999999998 101.50907999999998 545.5278400000002 443.00984000000005" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="slope-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M322.944 205.789C369.306 205.789 406.889 243.372 406.889 289.733V534.028H239V289.733C239 243.372 276.583 205.789 322.944 205.789ZM323 223.219C287.101 223.219 258 252.32 258 288.219C258 324.117 287.101 353.219 323 353.219C358.899 353.219 388 324.117 388 288.219C388 252.32 358.899 223.219 323 223.219Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-image" x="295" y="260" width="55" height="55" class="step-1 image subtle" fill="#666666"/>\n<rect id="step-1-accent-textbox" x="242.1689453125" y="373.0625" width="160" height="128" class="step-1 accent textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="240.5" y="252.5" width="166" height="258" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" fill-rule="evenodd" clip-rule="evenodd" d="M500.827 158.891C547.188 158.891 584.771 196.474 584.771 242.835V534.021H416.883V242.835C416.883 196.474 454.466 158.891 500.827 158.891ZM500.994 176.219C465.096 176.219 435.994 205.32 435.994 241.219C435.994 277.117 465.096 306.219 500.994 306.219C536.893 306.219 565.994 277.117 565.994 241.219C565.994 205.32 536.893 176.219 500.994 176.219Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-card-image" x="473" y="213" width="55" height="55" class="step-2 image subtle" fill="#666666"/>\n<rect id="step-2-accent-textbox" x="422.1748046875" y="327.0625" width="156" height="128" class="step-2 accent textbox" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="418.5" y="205.5" width="166" height="258" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" fill-rule="evenodd" clip-rule="evenodd" d="M679.159 112C725.764 112 763.546 149.782 763.546 196.387V534.022H594.773V196.387C594.773 149.782 632.554 112 679.159 112ZM678.996 129.219C643.098 129.219 613.996 158.32 613.996 194.219C613.996 230.117 643.098 259.219 678.996 259.219C714.895 259.219 743.996 230.117 743.996 194.219C743.996 158.32 714.895 129.219 678.996 129.219Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="599.1728515625" y="280.0625" width="160" height="128" class="step-3 accent textbox" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="595.5" y="158.5" width="168" height="258" stroke="black" class="step-3 selection"/>\n<rect id="step-3-card-image" x="651" y="166" width="55" height="55" class="step-3 image subtle" fill="#666666"/>\n</g>\n</g>\n</svg>\n',slope_4:'<svg class="slope-frame" width="730.53344" height="497.01644" viewBox="135.95127999999997 50.95127999999998 730.53344 497.01644" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="slope-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M233.944 205.68C280.306 205.68 317.889 243.263 317.889 289.624V533.919H150V289.624C150 243.263 187.583 205.68 233.944 205.68ZM234 223.109C198.101 223.109 169 252.211 169 288.109C169 324.008 198.101 353.109 234 353.109C269.899 353.109 299 324.008 299 288.109C299 252.211 269.899 223.109 234 223.109Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="153.1689453125" y="374.0625" width="160" height="128" class="step-1 accent textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="151.5" y="252.5" width="166" height="258" stroke="black" class="step-1 selection"/>\n<rect id="step-1-card-image" x="206" y="260" width="55" height="55" class="step-1 image subtle" fill="#666666"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" fill-rule="evenodd" clip-rule="evenodd" d="M411.827 158.781C458.188 158.781 495.771 196.364 495.771 242.726V533.912H327.883V242.726C327.883 196.364 365.466 158.781 411.827 158.781ZM411.994 176.109C376.096 176.109 346.994 205.211 346.994 241.109C346.994 277.008 376.096 306.109 411.994 306.109C447.893 306.109 476.994 277.008 476.994 241.109C476.994 205.211 447.893 176.109 411.994 176.109Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="332.1748046875" y="327.0625" width="160" height="128" class="step-2 accent textbox" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="329.5" y="205.5" width="166" height="258" stroke="black" class="step-2 selection"/>\n<rect id="step-2-card-image" x="384" y="213" width="55" height="55" class="step-2 image subtle" fill="#666666"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" fill-rule="evenodd" clip-rule="evenodd" d="M590.159 111.891C636.764 111.891 674.546 149.672 674.546 196.277V533.913H505.773V196.277C505.773 149.672 543.554 111.891 590.159 111.891ZM589.996 129.109C554.098 129.109 524.996 158.211 524.996 194.109C524.996 230.008 554.098 259.109 589.996 259.109C625.895 259.109 654.996 230.008 654.996 194.109C654.996 158.211 625.895 129.109 589.996 129.109Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="510.1728515625" y="280.0625" width="160" height="128" class="step-3 accent textbox" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="506.5" y="158.5" width="168" height="258" stroke="black" class="step-3 selection"/>\n<rect id="step-3-card-image" x="562" y="166" width="55" height="55" class="step-3 image subtle" fill="#666666"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent" fill-rule="evenodd" clip-rule="evenodd" d="M768.491 65C814.852 65 852.436 102.583 852.436 148.944V533.913H684.547V148.944C684.547 102.583 722.13 65 768.491 65ZM767.998 82.1094C732.1 82.1094 702.998 111.211 702.998 147.109C702.998 183.008 732.1 212.109 767.998 212.109C803.897 212.109 832.998 183.008 832.998 147.109C832.998 111.211 803.897 82.1094 767.998 82.1094Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="687.1708984375" y="233.0625" width="160" height="128" class="step-4 accent textbox" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="685.5" y="111.5" width="166" height="258" stroke="black" class="step-4 selection"/>\n<rect id="step-4-card-image" x="740" y="119" width="55" height="55" class="step-4 image subtle" fill="#666666"/>\n</g>\n</g>\n</svg>\n',slope_5:'<svg class="slope-frame" width="915.5390400000001" height="551.0230399999999" viewBox="43.39348 0.3934799999999967 915.5390400000001 551.0230399999999" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="slope-frame">\n<g id="step-1" class="step-1 accent">\n<path id="step-1-accent" fill-rule="evenodd" clip-rule="evenodd" d="M144.944 205.57C191.306 205.57 228.889 243.153 228.889 289.515V533.81H61V289.515C61 243.153 98.5832 205.57 144.944 205.57ZM145 223C109.101 223 80 252.101 80 288C80 323.899 109.101 353 145 353C180.899 353 210 323.899 210 288C210 252.101 180.899 223 145 223Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-accent-textbox" x="64.1689453125" y="377.0625" width="160" height="125" class="step-1 accent textbox" fill="#E5E5E5"/>\n<rect id="step-1-selection" x="62.5" y="252.5" width="166" height="258" stroke="black" class="step-1 selection"/>\n<rect id="step-1-card-image" x="117" y="260" width="55" height="55" class="step-1 image subtle" fill="#666666"/>\n</g>\n<g id="step-2" class="step-2 accent">\n<path id="step-2-accent" fill-rule="evenodd" clip-rule="evenodd" d="M322.827 158.672C369.188 158.672 406.771 196.255 406.771 242.616V533.803H238.883V242.616C238.883 196.255 276.466 158.672 322.827 158.672ZM322.994 176C287.096 176 257.994 205.101 257.994 241C257.994 276.899 287.096 306 322.994 306C358.893 306 387.994 276.899 387.994 241C387.994 205.101 358.893 176 322.994 176Z" fill="#666BC3" class="step-2 accent"/>\n<rect id="step-2-accent-textbox" x="242.1748046875" y="327.0625" width="160" height="128" class="step-2 accent textbox" fill="#E5E5E5"/>\n<rect id="step-2-selection" x="239.5" y="205.5" width="167" height="258" stroke="black" class="step-2 selection"/>\n<rect id="step-2-card-image" x="295" y="213" width="55" height="55" class="step-2 image subtle" fill="#666666"/>\n</g>\n<g id="step-3" class="step-3 accent">\n<path id="step-3-accent" fill-rule="evenodd" clip-rule="evenodd" d="M501.159 111.781C547.764 111.781 585.546 149.563 585.546 196.168V533.804H416.773V196.168C416.773 149.563 454.554 111.781 501.159 111.781ZM500.996 129C465.098 129 435.996 158.101 435.996 194C435.996 229.899 465.098 259 500.996 259C536.895 259 565.996 229.899 565.996 194C565.996 158.101 536.895 129 500.996 129Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-accent-textbox" x="421.1728515625" y="280.0625" width="160" height="128" class="step-3 accent textbox" fill="#E5E5E5"/>\n<rect id="step-3-selection" x="417.5" y="158.5" width="168" height="258" stroke="black" class="step-3 selection"/>\n<rect id="step-3-card-image" x="473" y="166" width="55" height="55" class="step-3 image subtle" fill="#666666"/>\n</g>\n<g id="step-4" class="step-4 accent">\n<path id="step-4-accent" fill-rule="evenodd" clip-rule="evenodd" d="M679.491 64.8906C725.852 64.8906 763.436 102.474 763.436 148.835V533.804H595.547V148.835C595.547 102.474 633.13 64.8907 679.491 64.8906ZM678.998 82C643.1 82 613.998 111.101 613.998 147C613.998 182.899 643.1 212 678.998 212C714.897 212 743.998 182.899 743.998 147C743.998 111.101 714.897 82 678.998 82Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-textbox" x="598.1708984375" y="233.0625" width="160" height="128" class="step-4 accent textbox" fill="#E5E5E5"/>\n<rect id="step-4-selection" x="596.5" y="111.5" width="166" height="258" stroke="black" class="step-4 selection"/>\n<rect id="step-4-card-image" x="651" y="119" width="55" height="55" class="step-4 image subtle" fill="#666666"/>\n</g>\n<g id="step-5" class="step-5 accent">\n<path id="step-5-background" fill-rule="evenodd" clip-rule="evenodd" d="M857.382 18C903.743 18 941.326 55.5832 941.326 101.944V533.809H773.438V101.944C773.438 55.5832 811.021 18 857.382 18ZM858 35C822.101 35 793 64.1015 793 100C793 135.899 822.101 165 858 165C893.899 165 923 135.899 923 100C923 64.1015 893.899 35 858 35Z" fill="#D9DAF0" class="step-5 background accent"/>\n<rect id="step-5-background-textbox" x="776.1689453125" y="186.0625" width="160" height="128" class="step-5 background textbox accent" fill="#E5E5E5"/>\n<rect id="step-5-selection" x="773.5" y="64.5" width="168" height="258" stroke="black" class="step-5 selection"/>\n<rect id="step-5-card-image" x="830" y="69" width="55" height="55" class="step-5 image subtle" fill="#666666"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,a=t.match(/_([0-9]+)$/);return[a?Number(a[1]):1,n]})),nt="slope",nn={key:nt,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:4,l=ne.get(r);return l?(0,a.jsx)(tx,{svgData:l,templateKey:nt,svgScalingFactor:nn.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"ppRU+y"}),icon:i.pyr,defaultColorScheme:"monochrome",stepSvgData:ne,previewImage:{src:"/_next/static/media/slope.09a45f04.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:Z,defaultData:()=>y(ne),svgScalingFactor:1},na=new Map(Object.entries({square_cycle_4:'<svg class="square_cycle-frame" width="1004.640208" height="416.520508" viewBox="0.7737960000000008 14.160495999999998 1004.640208 416.520508" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="square_cycle-frame">\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M353.612 208.309H368.938V227.029H311.333V411.361H495.664V357.993H488.703V373.226C488.703 374.179 487.496 374.592 486.912 373.838L444.927 319.605C444.648 319.245 444.648 318.741 444.927 318.381L486.912 264.148C487.496 263.395 488.703 263.808 488.703 264.761V280.993H495.664V227.029H438.062V208.309H453.385L403.499 169.426L353.612 208.309Z" fill="#B3B5E1" class="step-4 accent"/>\n<rect id="step-4-accent-image" x="378" y="294" width="50" height="50" fill="#D9D9D9" class="step-4 accent image"/>\n<rect id="step-4-card-textbox" x="20.0938" y="271" width="263" height="96" fill="#D9D9D9" class="step-4 card textbox"/>\n<rect id="step-4-selection" x="11.5938" y="263.5" width="434" height="111" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M504.88 284.631H486.16V269.307L447.277 319.193L486.16 369.079V353.755H504.88V411.359H689.211V227.027H635.453V234.741H651.686C652.639 234.741 653.052 235.949 652.298 236.532L598.065 278.518C597.705 278.797 597.201 278.796 596.841 278.518L542.608 236.532C541.855 235.949 542.267 234.741 543.221 234.741H558.453V227.027H504.88V284.631Z" fill="#8C90D2" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="714.094" y="271" width="263" height="96" fill="#D9D9D9" class="step-3 card textbox"/>\n<rect id="step-3-accent-image" x="572.094" y="294" width="50" height="50" fill="#D9D9D9" class="step-3 accent image"/>\n<rect id="step-3-selection" x="555.594" y="263.5" width="430" height="111" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M504.88 88.2266H512.469V71.9941C512.469 71.0411 513.676 70.6283 514.26 71.3818L556.245 125.614C556.524 125.975 556.524 126.478 556.245 126.839L514.26 181.071C513.676 181.825 512.469 181.412 512.469 180.459V165.227H504.88V217.812H562.485V236.533H547.158L597.045 275.416L646.931 236.533H631.609V217.812H689.211V33.4805H504.88V88.2266Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="723.094" y="79" width="263" height="96" fill="#D9D9D9" class="step-2 card textbox"/>\n<rect id="step-2-accent-image" x="573.094" y="101" width="50" height="50" fill="#D9D9D9" class="step-2 accent image"/>\n<rect id="step-2-selection" x="553.594" y="72.5" width="439" height="111" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M311.322 217.812H364.207V210.978H348.975C348.021 210.978 347.609 209.77 348.362 209.187L402.595 167.201C402.955 166.922 403.459 166.922 403.819 167.201L458.052 209.187C458.805 209.77 458.393 210.977 457.439 210.978H441.207V217.812H495.654V160.208H514.375V175.532L553.258 125.646L514.375 75.7598V91.084H495.654V33.4805H311.322V217.812Z" fill="#D9DAF0" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="20.0938" y="80" width="263" height="96" fill="#D9D9D9" class="step-1 card textbox"/>\n<rect id="step-1-accent-image" x="378.094" y="103" width="50" height="50" fill="#D9D9D9" class="step-1 accent image"/>\n<rect id="step-1-selection" x="11.5938" y="72.5" width="434" height="111" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e,a=t.match(/_([0-9]+)$/);return[a?Number(a[1]):1,n]})),ni="square_arrows",nr={key:ni,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:4,l=na.get(r);return l?(0,a.jsx)(tx,{svgData:l,templateKey:ni,svgScalingFactor:nr.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"Rnzk97"}),previewImage:{src:"/_next/static/media/square_arrows.b7d5390b.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],formattingMenu:Z,stepSvgData:na,defaultData:()=>y(na),svgScalingFactor:1},nl=new Map(Object.entries({swoosh_1:'<svg class="swoosh" width="817.44" height="186.44" viewBox="89.28 95.28 817.44 186.44" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="swoosh" class="swoosh">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M433 181.39H236.218C206.003 181.39 181.509 205.974 181.509 236.299V266H105V197.697C105 149.816 143.674 111 191.382 111H433V181.39Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="453" y="115.002" width="438" height="64.1481" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="446.5" y="107.5" width="455" height="80" stroke="black" class="step-1 selection"/>\n</g>\n</g>\n</svg>\n',swoosh_2:'<svg class="swoosh" width="892.32" height="260.32" viewBox="51.83999999999999 58.84 892.32 260.32" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="swoosh" class="swoosh">\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox-left" x="489" y="80.9863" width="438" height="63.9035" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="481.5" y="71.5" width="455" height="79" stroke="black" class="step-1 selection"/>\n<path id="step-1-accent" d="M469 147.071H227.538C179.862 147.071 141.213 185.869 141.213 233.729V302H69V191.545C69 127.731 120.532 76.0002 184.101 76H469V147.071Z" fill="#666BC3" class="step-1 accent"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M469 217.39H272.218C242.003 217.39 217.509 241.974 217.509 272.299V302H141V233.697C141 185.816 179.674 147 227.382 147H469V217.39Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="489" y="151.002" width="438" height="64.1481" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="481.5" y="145.5" width="455" height="76" stroke="black" class="step-2 selection"/>\n</g>\n</g>\n</svg>\n',swoosh_3:'<svg class="swoosh" width="956.7999618015795" height="329.80003605632817" viewBox="19.600037463835477 23.599963209086837 956.7999618015795 329.80003605632817" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="swoosh" class="swoosh">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M500 109.071H326.394C326.394 109.071 297.972 109.113 268.476 109.071C224.705 109.071 227.025 109.071 203.926 109.844C184.529 112.185 168.031 117.693 151.532 128.708C137.034 137.721 126.035 149.738 115.036 167.764C109.536 178.279 100.537 195.303 100.112 222.862V335H38.1298L38.1298 192.635C35.0432 122.199 87.0382 38.0805 192.264 42.1415L500 42.1415V109.071Z" fill="#B3B5E1" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="520" y="44.9922" width="438" height="64" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="512.5" y="38.5" width="455" height="75" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="520" y="113.986" width="438" height="63.9035" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="512.5" y="109.5" width="455" height="74" stroke="black" class="step-2 selection"/>\n<path id="step-2-accent" d="M500 180.071H258.538C210.862 180.071 172.213 218.869 172.213 266.729V335H100V224.545C100 160.731 151.532 109 215.101 109H500V180.071Z" fill="#666BC3" class="step-2 accent"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M500 250.39H303.218C273.003 250.39 248.509 274.974 248.509 305.299V335H172V266.697C172 218.816 210.674 180 258.382 180H500V250.39Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox-left" x="520" y="184.002" width="438" height="64.1481" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="512.5" y="178.5" width="455" height="76" stroke="black" class="step-3 selection"/>\n</g>\n</g>\n</svg>\n',swoosh_4:'<svg class="swoosh" width="1019.2" height="398.209" viewBox="-11.600000000000001 -10.600000000000001 1019.2 398.209" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="swoosh" class="swoosh">\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M530 75.4842H334C334 75.4842 301.858 75.5389 268.5 75.4842C219 75.4842 202.406 75.251 195.5 76.4838C132.5 83.9803 86.5 129.462 73 183.441C71.5 188.938 68.5 195.935 68.5 219.925V368.009H8V183.441C9 87.4789 85 10.51 182.312 11.0102H530V75.4842Z" fill="#D9DAF0" class="step-1 accent"/>\n<rect id="step-1-card-textbox-left" x="550" y="9" width="438" height="63.9742" fill="#D9D9D9" class="step-1 card textbox left"/>\n<rect id="step-1-selection" x="544.5" y="4.5" width="450" height="73" stroke="black" class="step-1 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<path id="step-2-accent" d="M530 142.078H356.394C356.394 142.078 327.972 142.121 298.476 142.078C254.705 142.078 257.025 142.078 233.926 142.852C214.529 145.193 198.031 150.701 181.532 161.716C167.034 170.729 156.035 182.746 145.036 200.771C139.536 211.286 130.537 228.31 130.112 255.87V368.008H68.1298L68.1298 225.643C65.0432 155.207 117.038 71.0883 222.264 75.1494L530 75.1493V142.078Z" fill="#B3B5E1" class="step-2 accent"/>\n<rect id="step-2-card-textbox-left" x="550" y="78" width="438" height="64" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect id="step-2-selection" x="544.5" y="73.5" width="450" height="73" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<rect id="step-3-card-textbox-left" x="550" y="146.994" width="438" height="63.9035" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-selection" x="544.5" y="142.5" width="450" height="74" stroke="black" class="step-3 selection"/>\n<path id="step-3-accent" d="M530 213.079H288.538C240.862 213.079 202.213 251.877 202.213 299.737V368.008H130V257.552C130 193.739 181.532 142.008 245.101 142.008H530V213.079Z" fill="#666BC3" class="step-3 accent"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M530 283.398H333.218C303.003 283.398 278.509 307.981 278.509 338.306V368.008H202V299.705C202 251.824 240.674 213.008 288.382 213.008H530V283.398Z" fill="#4046B4" class="step-4 accent"/>\n<rect id="step-4-card-textbox-left" x="550" y="217.01" width="438" height="64.1481" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-selection" x="544.5" y="211.5" width="450" height="75" stroke="black" class="step-4 selection"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("swoosh_","")),n]})),no="swoosh",ns={key:no,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:4,l=nl.get(r);return l?(0,a.jsx)(tx,{svgData:l,templateKey:no,svgScalingFactor:ns.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"ba37aB"}),previewImage:{src:"/_next/static/media/swoosh.2b045b37.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultColorScheme:"monochrome",allowedColorSchemes:["monochrome"],stepSvgData:nl,formattingMenu:Z,defaultData:()=>y(nl),svgScalingFactor:1},nd=new Map(Object.entries({versus_2:'<svg class="versus" width="1031.68" height="448.791" viewBox="-19.84 -19.84 1031.68 448.791" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="386.565" cy="221.324" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="321.999" y="170.992" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-subtle" cx="766.361" cy="228.052" r="20.2416" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M746 225L746 227L709 227L709 225L746 225Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="793" y="164" width="199" height="114" fill="#D9D9D9" class="step-2 card textbox left"/>\n<rect x="756.5361595153809" y="215.720703125" width="20.89386749267578" height="26.497655868530273" class="step-2 subtle image" fill="#666666"/>\n<rect id="step-2-selection" x="701.5" y="157.5" width="298" height="128" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<circle id="step-1-subtle" cx="236.242" cy="227.052" r="20.2416" fill="#D5D6EF" class="step-1 subtle"/>\n<path id="step-1-accent" d="M293 224L293 226L256 226L256 224L293 224Z" fill="#4046B4" class="step-1 accent"/>\n<rect id="step-1-card-textbox" x="10" y="163" width="199" height="114" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-image" x="224" y="215.531" width="20.8939" height="26.4977" fill="#D9D9D9" class="step-1 subtle image"/>\n<rect id="step-1-selection" x="2.5" y="156.5" width="298" height="128" stroke="black" class="step-1 selection"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M502.637 409.111L499.756 409.111L499.756 34.6875L502.637 34.6875L502.637 409.111Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.145 128)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="550.999" y="170.986" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n</g>\n</svg>\n',versus_3:'<svg class="versus" width="1031.68" height="448.791" viewBox="-19.84 -19.84 1031.68 448.791" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="386.565" cy="221.324" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="321.999" y="170.992" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="step-3" class="step-3">\n<circle id="step-3-subtle" cx="766.361" cy="228.052" r="20.2416" fill="#D5D6EF" class="step-3 subtle"/>\n<path id="step-3-accent" d="M746 225L746 227L709 227L709 225L746 225Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="793" y="164" width="199" height="114" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect x="756.5361595153809" y="215.720703125" width="20.89386749267578" height="26.497655868530273" class="step-3 subtle image" fill="#666666"/>\n<rect id="step-3-selection" x="701.5" y="157.5" width="298" height="128" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-subtle" cx="23.3111" cy="23.3111" r="23.3111" transform="matrix(-1 0 0 1 300.287 331.109)" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M295.043 339.92L293.376 338.291L334.647 297.969L336.314 299.598L295.043 339.92Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="9" y="295" width="228" height="112" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-subtle-image" x="262.235" y="341.748" width="27.711" height="26.4977" fill="#D9D9D9" class="step-2 subtle image"/>\n<rect id="step-2-selection" x="1.5" y="285.5" width="343" height="131" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M292.046 102.681L293.713 101.052L336.164 142.527L334.497 144.156L292.046 102.681Z" fill="#4046B4" class="step-1 accent"/>\n<circle id="step-1-subtle" cx="23.3111" cy="23.3111" r="23.3111" transform="matrix(-1 0 0 1 300.283 62.1875)" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="8" y="31" width="234" height="113" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-image" x="262.822" y="72.25" width="27.711" height="26.4977" fill="#D9D9D9" class="step-1 subtle image"/>\n<rect id="step-1-selection" x="0.5" y="23.5" width="343" height="128" stroke="black" class="step-1 selection"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M502.637 409.111L499.756 409.111L499.756 34.6875L502.637 34.6875L502.637 409.111Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.145 128)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="550.999" y="170.986" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n</g>\n</svg>\n',versus_4:'<svg class="versus" width="1031.68" height="451.68" viewBox="-19.84 -19.84 1031.68 451.68" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="386.565" cy="221.324" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="321.999" y="170.992" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.145 128.006)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="550.999" y="170.992" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M705.623 339.662L703.955 341.291L663.273 301.545L664.94 299.916L705.623 339.662Z" fill="#4046B4" class="step-4 accent"/>\n<circle id="step-4-subtle" cx="720.354" cy="357.42" r="23.3111" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-card-textbox" x="762" y="300" width="229" height="112" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect x="706.749626159668" y="342.78515625" width="27.711048126220703" height="26.497655868530273" class="step-4 subtle image" fill="#666666"/>\n<rect id="step-4-selection" x="656.5" y="290.5" width="343" height="129" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<path id="step-3-accent" d="M702.472 99.4219L704.16 101.051L660.592 143.102L658.904 141.473L702.472 99.4219Z" fill="#4046B4" class="step-3 accent"/>\n<circle id="step-3-subtle" cx="721.106" cy="85.4984" r="23.4535" fill="#D5D6EF" class="step-3 subtle"/>\n<rect id="step-3-card-textbox" x="758" y="31" width="234" height="113" fill="#D9D9D9" class="step-3 card textbox left"/>\n<rect id="step-3-subtle-image" x="707.381" y="72.25" width="28.0506" height="26.4977" fill="#D9D9D9" class="step-3 subtle image"/>\n<rect id="step-3-selection" x="651.5" y="23.5" width="348" height="128" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-subtle" cx="23.3111" cy="23.3111" r="23.3111" transform="matrix(-1 0 0 1 305.287 334.109)" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M300.043 342.92L298.376 341.291L339.647 300.969L341.314 302.598L300.043 342.92Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="14" y="298" width="228" height="112" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-subtle-image" x="267.235" y="344.748" width="27.711" height="26.4977" fill="#D9D9D9" class="step-2 subtle image"/>\n<rect id="step-2-selection" x="6.5" y="288.5" width="343" height="131" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M293.046 102.681L294.713 101.052L337.164 142.527L335.497 144.156L293.046 102.681Z" fill="#4046B4" class="step-1 accent"/>\n<circle id="step-1-subtle" cx="23.3111" cy="23.3111" r="23.3111" transform="matrix(-1 0 0 1 301.283 62.1875)" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="9" y="31" width="234" height="113" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-image" x="263.822" y="72.25" width="27.711" height="26.4977" fill="#D9D9D9" class="step-1 subtle image"/>\n<rect id="step-1-selection" x="1.5" y="23.5" width="343" height="128" stroke="black" class="step-1 selection"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M502.637 409.111L499.756 409.111L499.756 34.6875L502.637 34.6875L502.637 409.111Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n</g>\n</svg>\n',versus_5:'<svg class="versus" width="1034.8" height="453.8" viewBox="-19.900000000000002 -19.900000000000002 1034.8 453.8" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="387.048" cy="220.572" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="322.482" y="170.24" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.628 127.254)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="551.482" y="170.24" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n<g id="step-5" class="step-5">\n<path id="step-5-accent" d="M703.623 340.662L701.955 342.291L661.273 302.545L662.94 300.916L703.623 340.662Z" fill="#4046B4" class="step-5 accent"/>\n<circle id="step-5-subtle" cx="718.354" cy="358.42" r="23.3111" fill="#D5D6EF" class="step-5 subtle"/>\n<rect id="step-5-card-textbox" opacity="0.5" x="760" y="301" width="229" height="112" fill="#D9D9D9" class="step-5 card textbox left"/>\n<rect x="704.266227722168" y="344.537109375" width="27.711048126220703" height="26.497655868530273" class="step-5 subtle image" fill="#666666"/>\n<rect id="step-5-selection" x="654.5" y="291.5" width="343" height="129" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M705.472 98.4219L707.16 100.051L663.592 142.102L661.904 140.473L705.472 98.4219Z" fill="#4046B4" class="step-4 accent"/>\n<circle id="step-4-subtle" cx="724.106" cy="84.4984" r="23.4535" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-card-textbox" x="761" y="30" width="234" height="113" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-subtle-image" x="710.381" y="71.25" width="28.0506" height="26.4977" fill="#D9D9D9" class="step-4 subtle image"/>\n<rect id="step-4-selection" x="654.5" y="22.5" width="348" height="128" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<circle id="step-3-subtle" cx="22.1957" cy="22.1957" r="22.1957" transform="matrix(-1 0 0 1 321.012 337.225)" fill="#D5D6EF" class="step-3 subtle"/>\n<path id="step-3-accent" d="M315.196 344.92L313.684 343.291L351.101 302.969L352.612 304.598L315.196 344.92Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="57" y="309" width="206" height="105" fill="#D9D9D9" class="step-3 card textbox right"/>\n<rect id="step-3-subtle-image" x="285.453" y="346.748" width="25.1226" height="26.4977" fill="#D9D9D9" class="step-3 subtle image"/>\n<rect id="step-3-selection" x="49.1396" y="301.5" width="303.362" height="120" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<rect id="step-2-card-textbox" x="11" y="165" width="199" height="114" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-subtle-image" x="226" y="218" width="25.1226" height="26.4977" fill="#D9D9D9" class="step-2 subtle image"/>\n<rect id="step-2-selection" x="5.5" y="158.5" width="298" height="128" stroke="black" class="step-2 selection"/>\n<circle id="step-2-subtle" cx="20.2416" cy="20.2416" r="20.2416" transform="matrix(-1 0 0 1 256.881 208.811)" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M257 226L257 228L294 228L294 226L257 226Z" fill="#4046B4" class="step-2 accent"/>\n</g>\n<g id="step-1" class="step-1">\n<rect id="step-1-card-textbox" x="58" y="20" width="188" height="114" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-image" x="275" y="67" width="25.1226" height="26.4977" fill="#D9D9D9" class="step-1 subtle image"/>\n<rect id="step-1-selection" x="54.5" y="12.5" width="298" height="128" stroke="black" class="step-1 selection"/>\n<path id="step-1-accent" d="M305.087 94.377L303.399 96.0059L346.968 138.057L348.655 136.428L305.087 94.377Z" fill="#4046B4" class="step-1 accent"/>\n<circle id="step-1-subtle" cx="23.4535" cy="23.4535" r="23.4535" transform="matrix(-1 0 0 1 309.907 57)" fill="#D5D6EF" class="step-1 subtle"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M503.12 408.359L500.239 408.359L500.239 33.9355L503.12 33.9355L503.12 408.359Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n</g>\n</svg>\n',versus_6:'<svg class="versus" width="1032.72" height="451.72" viewBox="-19.86 -19.86 1032.72 451.72" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g id="versus" class="versus">\n<g id="general-1" class="general-1">\n<circle id="general-1-accent" cx="387.048" cy="220.572" r="93.3178" fill="#4046B4" class="general-1 accent"/>\n<rect id="general-1-accent-textbox" x="322.482" y="170.24" width="130" height="104" fill="#D9D9D9" class="general-1 accent textbox"/>\n</g>\n<g id="general-2" class="general-2">\n<circle id="general-2-accent" cx="93.3178" cy="93.3178" r="93.3178" transform="matrix(-1 0 0 1 709.628 127.254)" fill="#4046B4" class="general-2 accent"/>\n<rect id="general-2-accent-textbox" x="551.482" y="170.24" width="130" height="104" fill="#D9D9D9" class="general-2 accent textbox"/>\n</g>\n<g id="step-6" class="step-6">\n<path id="step-6-accent" d="M700.948 339.911L699.423 341.539L662.225 301.793L663.75 300.164L700.948 339.911Z" fill="#4046B4" class="step-6 accent"/>\n<circle id="step-6-subtle" cx="714.418" cy="357.667" r="22.2905" fill="#D5D6EF" class="step-6 subtle"/>\n<rect id="step-6-card-textbox" x="753" y="308" width="208" height="104" fill="#D9D9D9" class="step-6 card textbox left"/>\n<rect x="701.4912185668945" y="343.78515625" width="25.337772369384766" height="26.497655868530273" class="step-6 subtle image" fill="#666666"/>\n<rect id="step-6-selection" x="655.5" y="291.5" width="314" height="128" stroke="black" class="step-6 selection"/>\n</g>\n<g id="step-5" class="step-5">\n<circle id="step-5-subtle" cx="775.877" cy="222.298" r="22.2905" fill="#D5D6EF" class="step-5 subtle"/>\n<path id="step-5-accent" d="M755.391 218.844L755.391 221.147L705.794 221.147L705.794 218.844L755.391 218.844Z" fill="#4046B4" class="step-5 accent"/>\n<rect id="step-5-card-textbox" x="808" y="167" width="185" height="104" fill="#D9D9D9" class="step-5 card textbox left"/>\n<rect id="step-5-subtle-image" x="764.018" y="210.779" width="25.3378" height="26.4977" fill="#D9D9D9" class="step-5 subtle image"/>\n<rect id="step-5-selection" x="702.5" y="158.5" width="298" height="120" stroke="black" class="step-5 selection"/>\n</g>\n<g id="step-4" class="step-4">\n<path id="step-4-accent" d="M697.587 94.6699L699.111 96.2989L659.757 138.35L658.232 136.721L697.587 94.6699Z" fill="#4046B4" class="step-4 accent"/>\n<circle id="step-4-subtle" cx="714.419" cy="80.7456" r="22.2905" fill="#D5D6EF" class="step-4 subtle"/>\n<rect id="step-4-card-textbox" x="748" y="26" width="209" height="104" fill="#D9D9D9" class="step-4 card textbox left"/>\n<rect id="step-4-subtle-image" x="702.021" y="67.498" width="25.3378" height="26.4977" fill="#D9D9D9" class="step-4 subtle image"/>\n<rect id="step-4-selection" x="650.5" y="18.5" width="314" height="127" stroke="black" class="step-4 selection"/>\n</g>\n<g id="step-3" class="step-3">\n<circle id="step-3-subtle" cx="22.1957" cy="22.1957" r="22.1957" transform="matrix(-1 0 0 1 311.493 336.473)" fill="#D5D6EF" class="step-3 subtle"/>\n<path id="step-3-accent" d="M305.677 344.168L304.166 342.539L341.582 302.217L343.094 303.846L305.677 344.168Z" fill="#4046B4" class="step-3 accent"/>\n<rect id="step-3-card-textbox" x="47" y="309" width="206" height="103" fill="#D9D9D9" class="step-3 card textbox right"/>\n<rect id="step-3-subtle-image" x="275.935" y="345.996" width="25.1226" height="26.4977" fill="#D9D9D9" class="step-3 subtle image"/>\n<rect id="step-3-selection" x="39.5" y="292.5" width="311" height="128" stroke="black" class="step-3 selection"/>\n</g>\n<g id="step-2" class="step-2">\n<circle id="step-2-subtle" cx="23.0414" cy="23.0414" r="23.0414" transform="matrix(-1 0 0 1 242.463 199.258)" fill="#D5D6EF" class="step-2 subtle"/>\n<path id="step-2-accent" d="M242.463 223.451V221.147H293.73V223.451H242.463Z" fill="#4046B4" class="step-2 accent"/>\n<rect id="step-2-card-textbox" x="9" y="166" width="183" height="104" fill="#D9D9D9" class="step-2 card textbox right"/>\n<rect id="step-2-subtle-image" x="205.021" y="207.898" width="27.0737" height="26.4977" fill="#D9D9D9" class="step-2 subtle image"/>\n<rect id="step-2-selection" x="1.5" y="158.5" width="302" height="120" stroke="black" class="step-2 selection"/>\n</g>\n<g id="step-1" class="step-1">\n<path id="step-1-accent" d="M299.817 98.9275L301.446 97.2985L342.921 138.773L341.292 140.402L299.817 98.9275Z" fill="#4046B4" class="step-1 accent"/>\n<circle id="step-1-subtle" cx="23.0414" cy="23.0414" r="23.0414" transform="matrix(-1 0 0 1 308.131 58.7051)" fill="#D5D6EF" class="step-1 subtle"/>\n<rect id="step-1-card-textbox" x="47" y="26" width="206" height="105" fill="#D9D9D9" class="step-1 card textbox right"/>\n<rect id="step-1-subtle-image" x="271.265" y="68.498" width="27.0737" height="26.4977" fill="#D9D9D9" class="step-1 subtle image"/>\n<rect id="step-1-selection" x="39.5" y="18.5" width="310" height="128" stroke="black" class="step-1 selection"/>\n</g>\n<g id="general-3" class="general-3">\n<path id="general-3-accent" d="M503.12 408.359L500.239 408.359L500.239 33.9355L503.12 33.9355L503.12 408.359Z" fill="#4046B4" class="general-3 accent"/>\n</g>\n</g>\n</svg>\n'}).map(e=>{let[t,n]=e;return[Number(t.replace("versus_","")),n]})),nc="versus",nu={key:nc,Component:e=>{var t,n;let{data:i}=e,r=null!=(n=null==(t=i.step)?void 0:t.length)?n:6,l=nd.get(r);return l?(0,a.jsx)(tx,{svgData:l,templateKey:nc,svgScalingFactor:nu.svgScalingFactor,...e}):(console.error("No SVG data found for key",r),null)},label:()=>r.Ru._({id:"HHQOYx"}),icon:tA.fGk,previewImage:{src:"/_next/static/media/versus.25a7f3a8.svg",height:96,width:253,blurWidth:0,blurHeight:0},formattingMenu:Z,stepSvgData:nd,defaultData:()=>y(nd),svgScalingFactor:1},np=(e,t,n,a)=>{let i=n/2,r=e*a,l=t*a,o=-i,s=-e,d=-t;return{path:["M ".concat(o,",").concat(s),"L ".concat(i,",").concat(d),"A ".concat(l,",").concat(t," 0 0,0 ").concat(i,",").concat(t),"L ".concat(o,",").concat(e),"A ".concat(r,",").concat(e," 0 0,1 ").concat(o,",").concat(s),"Z"].join(" "),iconCenterX:-r}},nh=e=>{let{index:t,totalSegments:n,label:i,icon:r,color:l,updateLabel:o,selectItem:s,isEditable:d,isNodeSelected:c,selectedKeyPath:u,editor:p,x:h,segmentLength:g}=e,m=100/n,x=40+m*(t+1),{path:f,iconCenterX:b}=np(40+m*t,x,g,.35),v=(0,e3.q9)(l);return(0,a.jsxs)("g",{style:v,children:[(0,a.jsx)("ellipse",{cx:h+g/2,cy:140,rx:.35*x,ry:x,className:(0,et.cx)(eu._B,eu.D6),style:{opacity:.5}}),(0,a.jsx)("g",{transform:"translate(".concat(h,", ").concat(140,")"),children:(0,a.jsx)("path",{d:f,className:eu.D6})}),(0,a.jsx)(eb,{x:h+b-22.5,y:117.5,width:45,height:45,image:r,isEditable:d,selectItem:()=>s("segments[".concat(t,"].icon")),isItemSelected:c&&u==="segments[".concat(t,"].icon")}),(0,a.jsx)(e0,{x:h,transform:"translateX(-50%)",y:140+x+20,width:g+40,height:550-(140+x+20),fontSize:16.2,text:i,isEditable:d,onUpdate:o,selectItem:()=>s("segments[".concat(t,"].label")),parentEditor:p,isItemSelected:c&&u==="segments[".concat(t,"].label"),verticalAlign:"start"})]})},ng={key:"funnelDiagram",Component:e=>{let t,{data:n,updateData:i,selectItem:r,isEditable:l,editor:o,isNodeSelected:s,selectedKeyPath:d,...c}=e,{segments:u}=n,p=(0,H.GV)(U.SJ),h=(0,V.Ik)((0,V.VH)(p)),g=Array.from({length:u.length},(e,t)=>t);n.colorScheme&&(t=(0,O.M)(h,g,n.colorScheme));let m=(937-40*(u.length-1))/u.length,x=m/2+14;return(0,a.jsx)(ec,{...c,data:n,updateData:i,selectItem:r,isEditable:l,editor:o,isNodeSelected:s,selectedKeyPath:d,children:(0,a.jsx)("svg",{viewBox:"0 0 ".concat(1e3," ").concat(550),preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:u.map((e,n)=>(0,a.jsx)(nh,{index:n,totalSegments:u.length,label:e.label,icon:e.icon,color:e.color||(null==t?void 0:t.get(n)),isEditable:l,selectItem:r,isNodeSelected:s,selectedKeyPath:d,editor:o,x:x+n*(m+40),segmentLength:m,updateLabel:e=>i(t=>(t.segments[n].label=e,t))},n))})})},label:()=>r.Ru._({id:"MWYJBI"}),icon:i.AKc,formattingMenu:Q,disabled:!0},nm=425,nx=535,nf=555,nb=287.5,nv=e=>{let{x:t,color:n,icon:i,label:r,updateLabel:l,selectItem:o,isEditable:s,isNodeSelected:d,selectedKeyPath:c,editor:u,index:p}=e,h=(0,e3.q9)(n);return(0,a.jsxs)("g",{transform:"translate(".concat(t,", 0)"),style:h,children:[(0,a.jsx)("rect",{x:12.5,y:205,width:140,height:330,className:eu.D6}),(0,a.jsx)("rect",{x:0,y:205,width:165,height:20,rx:5,ry:5,className:eu.D6}),(0,a.jsx)("rect",{x:0,y:nx-20,width:165,height:20,rx:5,ry:5,className:eu.D6}),(0,a.jsx)(eb,{x:57.5,y:345,width:50,height:50,image:i,isEditable:s,selectItem:()=>o("pillars[".concat(p,"].icon")),isItemSelected:d&&c==="pillars[".concat(p,"].icon")}),(0,a.jsx)(e0,{x:82.5,y:nf,width:214.5,transform:"translateX(-50%)",height:80,fontSize:18,text:r,isEditable:s,onUpdate:l,selectItem:()=>o("pillars[".concat(p,"].label")),parentEditor:u,isItemSelected:d&&c==="pillars[".concat(p,"].label"),verticalAlign:"start"})]})},ny={key:"pillars",Component:e=>{let{data:t,updateData:n,isEditable:i,selectItem:r,editor:l,isNodeSelected:o,selectedKeyPath:s,...d}=e,{title:c,pillars:u}=t,p=(()=>{let e=u.length;if(e<=1)return[417.5];let t=e>1?(850-165*e)/(e-1):0;return u.map((e,n)=>75+n*(165+t))})(),h="".concat(75,",").concat(205," ").concat(925,",").concat(205," ").concat(500+nm/2,",").concat(5," ").concat(500-nm/2,",").concat(5);return(0,a.jsx)(ec,{...d,data:t,updateData:n,selectItem:r,isEditable:i,editor:l,isNodeSelected:o,selectedKeyPath:s,children:(0,a.jsxs)("svg",{viewBox:"0 0 ".concat(1e3," ").concat(650),preserveAspectRatio:"xMidYMid meet",overflow:"visible",children:[(0,a.jsx)("polygon",{points:h,className:eu.D6}),(0,a.jsx)(e0,{x:nb,y:5,width:nm,height:200,fontSize:18,text:c,isEditable:i,onUpdate:e=>{n(t=>(t.title=e,t))},selectItem:()=>r("title"),parentEditor:l,isItemSelected:o&&"title"===s,verticalAlign:"middle",className:eu.lR}),(0,a.jsx)("rect",{x:75,y:nx,width:850,height:20,className:eu.D6,rx:5,ry:5}),u.map((e,t)=>(0,a.jsx)(nv,{x:p[t],color:e.color,icon:e.icon,label:e.label,updateLabel:e=>{n(n=>(n.pillars[t].label=e,n))},isEditable:i,selectItem:r,isNodeSelected:o,selectedKeyPath:s,editor:l,index:t},t))]})})},label:()=>r.Ru._({id:"xGL+6k"}),icon:tA.PKn,disabled:!0,formattingMenu:Q},nw=e=>[e.leftCircle,e.rightCircle,e.topCircle,e.leftRightIntersection,e.topLeftIntersection,e.topRightIntersection,e.allIntersection].some(e=>null==e?void 0:e.isEmphasized),nC=(e,t)=>t?(null==e?void 0:e.isEmphasized)?.5:.25:.5,nA=(e,t)=>t?(null==e?void 0:e.isEmphasized)?1:.5:1,nj={pillars:ny,venn:{key:"venn",Component:e=>{var t;let n,{data:r,updateData:o,isEditable:s,selectItem:d,editor:c,isNodeSelected:u,selectedKeyPath:p}=e,{topCircle:h,leftCircle:g,rightCircle:m,topLeftIntersection:x,leftRightIntersection:f,topRightIntersection:b,allIntersection:v}=r,y=!!h,w=nw(r),C=(0,l.useCallback)(()=>{y&&o(e=>({leftCircle:{...e.leftCircle},rightCircle:{...e.rightCircle},leftRightIntersection:{...e.leftRightIntersection},topCircle:void 0,topLeftIntersection:void 0,topRightIntersection:void 0,allIntersection:void 0}))},[y,o]),A=(0,l.useCallback)(()=>{y&&o(e=>({leftCircle:{...e.rightCircle},rightCircle:{...e.topCircle},leftRightIntersection:{...e.topRightIntersection},topCircle:void 0,topLeftIntersection:void 0,topRightIntersection:void 0,allIntersection:void 0}))},[y,o]),j=(0,l.useCallback)(()=>{y&&o(e=>({leftCircle:{...e.leftCircle},rightCircle:{...e.topCircle},leftRightIntersection:{...e.topLeftIntersection},topCircle:void 0,topLeftIntersection:void 0,topRightIntersection:void 0,allIntersection:void 0}))},[y,o]),k=y?3:2,S=(0,H.GV)(U.SJ),I=(0,V.Ik)((0,V.VH)(S));if(r.colorScheme){let e=Array.from({length:k},(e,t)=>t);n=(0,O.M)(I,e,r.colorScheme)}let R=(0,e3.q9)((null==h?void 0:h.color)||(null==n?void 0:n.get(0))||I),L=(0,e3.q9)((null==g?void 0:g.color)||(null==n?void 0:n.get(1))||I),M=(0,e3.q9)((null==m?void 0:m.color)||(null==n?void 0:n.get(2))||I);return(0,a.jsx)(ec,{...e,svgWidthPercent:75,children:(0,a.jsxs)("svg",{viewBox:y?"0 0 1000 938":"0 0 1000 625",preserveAspectRatio:"xMidYMid meet",overflow:"visible",style:{"--shape-border-width":"1.25px"},children:[(0,a.jsx)(X,{}),(0,a.jsx)("g",{style:L,children:(0,a.jsx)("circle",{cx:312.5,cy:y?625:312.5,r:312.5,className:eu._B,fillOpacity:nC(g,w),strokeOpacity:nC(g,w),style:s?{pointerEvents:"none"}:void 0})}),(0,a.jsx)("g",{style:M,children:(0,a.jsx)("circle",{cx:687.5,cy:y?625:312.5,r:312.5,className:eu._B,fillOpacity:nC(m,w),strokeOpacity:nC(m,w),style:s?{pointerEvents:"none"}:void 0})}),y&&(0,a.jsx)("g",{style:R,children:(0,a.jsx)("circle",{cx:500,cy:312.5,r:312.5,className:eu._B,fillOpacity:nC(h,w),strokeOpacity:nC(h,w),style:s?{pointerEvents:"none"}:void 0})}),(0,a.jsx)(eT,{x:0,y:312.5*!!y,width:625,height:625,isEditable:s,selectItem:()=>{d("leftCircle")},updateStep:e=>{o(t=>(t.leftCircle={...t.leftCircle,...e},t))},isItemSelected:!u&&"leftCircle"===p,isStepSelected:!u&&"leftCircle"===p,formattingMenuItems:(0,a.jsx)(a.Fragment,{children:y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.q,{}),(0,a.jsx)(D.I,{size:"sm",variant:"toolbar",onClick:A,icon:i.yLS,color:"red.500"})]})}),stepAttributes:g,editor:c}),(0,a.jsx)(eT,{x:375,y:312.5*!!y,width:625,height:625,isEditable:s,selectItem:()=>{d("rightCircle")},updateStep:e=>{o(t=>(t.rightCircle={...t.rightCircle,...e},t))},isItemSelected:!u&&"rightCircle"===p,isStepSelected:!u&&"rightCircle"===p,formattingMenuItems:(0,a.jsx)(a.Fragment,{children:y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.q,{}),(0,a.jsx)(D.I,{size:"sm",variant:"toolbar",onClick:j,icon:i.yLS,color:"red.500"})]})}),stepAttributes:m,editor:c}),y&&(0,a.jsx)(eT,{x:187.5,y:0,width:625,height:625,isEditable:s,selectItem:()=>{d("topCircle")},updateStep:e=>{o(t=>(t.topCircle&&(t.topCircle={...t.topCircle,...e}),t))},isItemSelected:!u&&"topCircle"===p,isStepSelected:!u&&"topCircle"===p,formattingMenuItems:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.q,{}),(0,a.jsx)(D.I,{size:"sm",variant:"toolbar",onClick:C,icon:i.yLS,color:"red.500"})]}),stepAttributes:h,editor:c}),y&&h&&(0,a.jsx)(e0,{x:250,y:50,width:500,height:250,fontSize:24,className:eu.ok,text:h.text,isEditable:s,onUpdate:e=>{o(t=>(t.topCircle&&(t.topCircle.text=e),t))},selectItem:()=>d("topCircle.text"),parentEditor:c,isItemSelected:u&&"topCircle.text"===p,style:w?{opacity:nA(h,w)}:void 0}),(0,a.jsx)(e0,{x:y?25:50,y:y?550:50,width:y?350:300,height:y?300:525,fontSize:24,className:eu.ok,text:null!=(t=null==g?void 0:g.text)?t:"",isEditable:s,onUpdate:e=>{o(t=>(t.leftCircle||(t.leftCircle={text:""}),t.leftCircle.text=e,t))},selectItem:()=>d("leftCircle.text"),parentEditor:c,isItemSelected:u&&"leftCircle.text"===p,textAlign:"center",style:w?{opacity:nA(g,w)}:void 0}),(0,a.jsx)(e0,{x:y?625:675,y:y?550:50,width:y?350:300,height:y?300:525,fontSize:24,className:eu.ok,text:m.text,isEditable:s,onUpdate:e=>{o(t=>(t.rightCircle.text=e,t))},selectItem:()=>d("rightCircle.text"),parentEditor:c,isItemSelected:u&&"rightCircle.text"===p,textAlign:"center",style:w?{opacity:nA(m,w)}:void 0}),y&&x&&(0,a.jsx)(e0,{x:212.5,y:300,width:212.5,height:225,fontSize:24,className:eu.ok,text:x.text,isEditable:s,onUpdate:e=>{o(t=>(t.topLeftIntersection&&(t.topLeftIntersection.text=e),t))},selectItem:()=>d("topLeftIntersection.text"),parentEditor:c,isItemSelected:u&&"topLeftIntersection.text"===p,style:w?{opacity:nA(x,w)}:void 0}),y&&b&&(0,a.jsx)(e0,{x:575,y:300,width:212.5,height:225,fontSize:24,className:eu.ok,text:b.text,isEditable:s,onUpdate:e=>{o(t=>(t.topRightIntersection&&(t.topRightIntersection.text=e),t))},selectItem:()=>d("topRightIntersection.text"),parentEditor:c,isItemSelected:u&&"topRightIntersection.text"===p,style:w?{opacity:nA(b,w)}:void 0}),(0,a.jsx)(e0,{x:y?437.5:400,y:y?650:150,width:y?125:200,height:y?100:325,fontSize:24,className:eu.ok,text:f.text,isEditable:s,onUpdate:e=>{o(t=>(t.leftRightIntersection.text=e,t))},selectItem:()=>d("leftRightIntersection.text"),parentEditor:c,isItemSelected:u&&"leftRightIntersection.text"===p,textAlign:"center",style:w?{opacity:nA(f,w)}:void 0}),y&&v&&(0,a.jsx)(e0,{x:425,y:400,width:150,height:225,fontSize:24,className:eu.ok,text:v.text,isEditable:s,onUpdate:e=>{o(t=>(t.allIntersection&&(t.allIntersection.text=e),t))},selectItem:()=>d("allIntersection.text"),parentEditor:c,isItemSelected:u&&"allIntersection.text"===p,style:w?{opacity:nA(v,w)}:void 0}),(0,a.jsx)(X,{})]})})},label:()=>r.Ru._({id:"z5TX2d"}),icon:tA.cvw,previewImage:{src:"/_next/static/media/venn.ada3eb84.svg",height:96,width:253,blurWidth:0,blurHeight:0},defaultData:()=>({leftCircle:{text:"<h2>A</h2>",color:void 0,isEmphasized:!1},rightCircle:{text:"<h2>B</h2>",color:void 0,isEmphasized:!1},leftRightIntersection:{text:"A & B",color:void 0,isEmphasized:!1}}),formattingMenu:e=>{let{editor:t,selection:n,decorations:r}=e,{data:o}=n.node.attrs,s=(0,l.useCallback)(e=>{try{let a=e({...o});t.commands.updateAttributesAtPos(n.from,{data:a})}catch(e){console.error("Error updating Venn diagram data",e)}},[o,t.commands,n.from]),d=(0,l.useCallback)(()=>{s(e=>({...e,topCircle:{text:"<h3>C</h3>",color:void 0,isEmphasized:!1},topLeftIntersection:{text:"A & C",color:void 0,isEmphasized:!1},topRightIntersection:{text:"B & C",color:void 0,isEmphasized:!1},allIntersection:{text:"A & B & C",color:void 0,isEmphasized:!1}}))},[s]),c=(0,l.useCallback)(()=>{s(e=>({leftCircle:e.leftCircle,rightCircle:e.rightCircle,leftRightIntersection:e.leftRightIntersection,topCircle:void 0,topLeftIntersection:void 0,topRightIntersection:void 0,allIntersection:void 0}))},[s]),u=!!o.topCircle;return(0,a.jsx)(Q,{editor:t,selection:n,decorations:r,children:(0,a.jsxs)(A.z,{children:[!u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.$,{size:"sm",variant:"toolbar",onClick:d,leftIcon:(0,a.jsx)(k.g,{icon:i.q_k}),ms:2,children:(0,a.jsx)(S.x6,{id:"Fgzljt"})}),(0,a.jsx)(E.q,{})]}),u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.$,{size:"sm",variant:"toolbar",onClick:c,leftIcon:(0,a.jsx)(k.g,{icon:i.mGv}),ms:2,children:(0,a.jsx)(S.x6,{id:"DUcdY9"})}),(0,a.jsx)(E.q,{})]})]})})}},funnel:ng,[t7]:t8,[tk]:tS,[t5]:t3,[tN]:tz,[tB]:tV,[t2]:t4,[no]:ns,[nc]:nu,[tO]:tF,[ni]:nr,[tX]:t0,[tw]:tC,[tU]:tG,[tQ]:tZ,[tb]:tv,[tJ]:t$,[tM]:t_,[nt]:nn,[tE]:tR},nk={bullseye_composable:tk,quadrant:t2,"square-arrows":ni,bubbles:tw},nS=e=>(nk[e]&&(e=nk[e]),nj[e]),nI=e=>{let t=nS(e);return null==t?void 0:t.formattingMenu},nE=e=>!!nj[e]},44637:(e,t,n)=>{"use strict";n.d(t,{Us:()=>d,h6:()=>u,mz:()=>c});var a=n(55729),i=n(91938),r=n(88586),l=n(69768),o=n(82927),s=n(11403);let d=()=>{if(""===i.$.SHARE_TOKEN)return;let{searchParams:e}=new URL(window.location.href);e.delete("token");let t=Object.fromEntries(e.entries());(0,l.g5)({query:t})},c=e=>{let{user:t,isGammaAdminUser:n}=(0,o.ur)(),[l,{error:c}]=(0,r.TW5)();(0,s.KW)("[useAccessLinkCollaborator]: Error updating collaborator.",c),(0,a.useEffect)(()=>{var a;if(!t||!e)return;let s=null==(a=e.accessLinks)?void 0:a.find(e=>e.token===i.$.SHARE_TOKEN);if(!s)return;let c=o.lO.createForUser({...t,__typename:"User"});s.permission&&s.permission!==r.aXG.View&&c.cannot(s.permission,e)&&!n?l({variables:{docId:e.id}}).then(()=>{d(),(0,i.y)("SHARE_TOKEN","")}).catch(e=>console.error("[useAccessLinkCollaborator]: Error adding collaborator.",e)):d()},[l,e,t,n])},u=(e,t)=>{var n;if(!e||t)return null;let a=null==e||null==(n=e.accessLinks)?void 0:n.find(e=>e.token===i.$.SHARE_TOKEN);return a&&a.permission?a:null}},44798:(e,t,n)=>{"use strict";n.d(t,{B7:()=>S,RM:()=>k,Sx:()=>v,U9:()=>I,Z8:()=>y,ab:()=>j,hB:()=>R,ms:()=>L});var a=n(63867),i=n(55729),r=n(80116),l=n(34832),o=n(58809),s=n(28630),d=n(89942),c=n(15342),u=n(92397),p=n(43634),h=n(15607),g=n(33201),m=n(82927),x=n(6807),f=n(53756);let b=e=>{var t,n;if(!(e instanceof a.nh))return null;if("smartLayoutCell"===e.node.type.name&&(null==(t=e.node.textContent)?void 0:t.length)>=5)return e.node.content;let i=e.$from;for(;i.depth>0;){let e=i.node(i.depth);if("smartLayoutCell"===e.type.name&&(null==(n=e.textContent)?void 0:n.length)>=5)return e.content;i=i.doc.resolve(i.before(i.depth))}return null},v=e=>(0,i.useCallback)(()=>{if(!e)return null;let{selection:t}=e.state,n=(0,h.IV)(t.$from,g.jg)[0],a=n&&(0,u.Ub)(n.node,n.pos),{content:i}=e.state.doc.slice(a.pos+1,a.pos+a.node.nodeSize-1),l=b(t);return l?(0,r.KC)(e,l):(0,r.KC)(e,i)},[e]),y=e=>{let{editor:t,prompt:n,stylePrompt:a,addPrompt:r}=e,o=(0,c.GV)(p.sK),[s,d]=(0,i.useState)(!1),u=v(t),h=(0,i.useCallback)(()=>{d(!0),r("","push")},[r]),g=(0,i.useCallback)(e=>{r(e,"update")},[r]),x=(0,i.useCallback)(()=>{d(!1)},[]),f=(0,i.useCallback)(e=>{console.error("Error enhancing image",e),d(!1)},[]),{generate:b}=(0,l.pt)("EnhanceAIImage",{onStart:h,onContent:g,onComplete:x,onError:f,timeout:3e4}),y=(0,i.useCallback)(()=>{var e,i;if(s||!(null==o?void 0:o.id))return;let r=null==(e=(0,m.bs)(null==o?void 0:o.id))?void 0:e.id;return b({variables:{currentPrompt:n,stylePrompt:a,cardHtml:(null==t?void 0:t.isSiteNavbarEditor)?void 0:null!=(i=u())?i:void 0},workspaceId:r}).promise},[s,null==o?void 0:o.id,b,n,a,null==t?void 0:t.isSiteNavbarEditor,u]);return{isEnhancing:s,setIsEnhancing:d,runEnhanceImagePrompt:y}},w=e=>e.ind===e.history.length-1,C=e=>e.history[e.history.length-1],A={load:(e,t)=>({history:[t],ind:0}),push(e,t){return""===C(e).trim()?this.replace(e,t):{history:[...e.history,t],ind:e.history.length}},replace(e,t){let n=e.history.slice(0,-1);return{history:[...n,t],ind:n.length}},select(e,t){return w(e)&&C(e)===t?e:this.push(e,t)}},j=()=>{let e=(0,i.useRef)(!1),[t,n]=(0,i.useState)({history:[""],ind:0}),a=(0,i.useCallback)((t,a)=>{"load"===a&&n(e=>A.load(e,t)),"push"===a&&n(e=>A.push(e,t)),"update"===a&&(e.current?n(e=>A.push(e,t)):n(e=>A.replace(e,t))),"select"===a&&n(e=>A.select(e,t)),e.current="update"!==a},[]),r=(0,i.useCallback)(()=>{let{ind:e}=t;e<=0||n(e=>({...e,ind:e.ind-1}))},[t]),l=(0,i.useCallback)(()=>{let{history:e,ind:a}=t;a>=e.length-1||n(e=>({...e,ind:e.ind+1}))},[t]),{ind:o,history:s}=t;return{prompt:s[o]||"",addPrompt:a,promptPageInfo:{curr:o+1,total:s.length,canGoNext:o<s.length-1,canGoPrev:o>0},nextPrompt:l,prevPrompt:r}},k=()=>{let[e,t]=(0,x.M)("aiImageRatings",{});return{saveImageRating:(0,i.useCallback)((n,a)=>{n.savedMediaId&&(e[n.savedMediaId]=a,t(e))},[]),hasRatedImage:(0,i.useCallback)(t=>!t.savedMediaId||!!e[t.savedMediaId],[])}},S=(e,t)=>{let n=(0,c.GV)(p.sX),a=n&&!e?"doc":"user",r="doc"===a?"workspaceSavedMedia":"userSavedMedia",{data:l,loading:o}=(0,f.L)({docId:n,interactionId:e,scope:a,count:3});return{savedMedia:(0,i.useMemo)(()=>{var e;return((null==l||null==(e=l[r])?void 0:e.edges)||[]).map(e=>e.node).filter(e=>{if(t){var n;return(null==e||null==(n=e.attrs)?void 0:n.query)===t}return!0})},[l,r,t]),isLoading:o}},I=()=>{let e=(0,c.GV)(o.Jo),t=(0,d.ez)("ai_models_plus",null==e?void 0:e.organization),n=(0,d.ez)("ai_premium_models",null==e?void 0:e.organization),a=t&&n?"pro":t?"plus":"free";return e=>E(e,a)},E=(e,t)=>{let n=(0,s.kO)(e);if(!(0,s.CX)(e))return!1;let a=["free","plus","pro"];return a.indexOf(t)>=a.indexOf(n)},R=(e,t)=>{let n=(0,d.vT)("ai_models_plus",t),a=(0,d.vT)("ai_premium_models",t);return E(e,n&&a?"pro":n?"plus":"free")},L=(e,t)=>{let n=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(!t)return;let a=n.current;if(!a)return;let i=a.querySelector('[data-popover-scroll-id="'.concat(e,'"]'));if(!(i instanceof HTMLElement))return;let r=i.offsetHeight/2,l=a.offsetHeight/2,o=i.offsetTop-l+r;a.scrollTo({top:o,behavior:"instant"})},[t,e]),{scrollContainerRef:n}}},44911:(e,t,n)=>{"use strict";n.d(t,{$:()=>I});var a=n(22905),i=n(23513),r=n(52055),l=n(41896),o=n(15607),s=n(46957),d=n(6029),c=n(49611),u=n(26420),p=n(80314),h=n(48810),g=n(21938),m=n(55729),x=n(92739),f=n(15342),b=n(48932),v=n(40077),y=n(96177),w=n(43634),C=n(15587),A=n(21699),j=n(31394);let k=e=>{let{editor:t,node:n,decorations:a}=e,{href:i,variant:r,color:o}=n.attrs,s=(0,f.GV)(w.Cl),k=(0,A.Ms)(a),S=s&&k,I=(0,C.v)(a),{linkUrl:E,handleClick:R,isCurrentPage:L}=(0,b.c)({url:i}),{interceptLinkClick:D,linkUrlSafe:M,isUntrusted:_,linkInterceptEnabled:T}=(0,x.i)(E),N=T&&!0!==t.isSiteNavbarEditor,{textColor:z}=(0,y.S0)(o),P="solid"===r?{backgroundColor:o||"var(--button-color)",backgroundImage:o?void 0:"var(--button-gradient)",borderRadius:"var(--button-border-radius, var(--box-border-radius))",fontFamily:"var(--body-font)"}:"outline"===r?{border:"0px",boxShadow:"inset 0 0 0 max(1px, var(--shape-border-width)) ".concat(o||"var(--button-color)"),backgroundColor:"var(--shape-bg-color-override, var(--card-color))",borderRadius:"var(--button-border-radius, var(--box-border-radius))",fontFamily:"var(--body-font)"}:{borderRadius:"var(--button-border-radius, var(--box-border-radius))",fontFamily:"var(--body-font)"},O=(0,m.useMemo)(()=>({...(0,j.s)({variant:r})}),[r]);return(0,d.jsx)(l.VR,{children:(0,d.jsx)(c.$,{as:S?u.a:p.N,isDisabled:!!N&&_,cursor:s?"text":"pointer",userSelect:s?"auto":"none",href:N?M||void 0:E,onClick:N?D:R,...O,style:P,className:(0,g.cx)("button","solid"===r&&v.Dv),"data-export-as-image":!0,"data-export-link":i,sx:{"@media print":{width:"auto"},outline:k?"2px solid var(--chakra-ring-color) !important":void 0,lineHeight:"var(--line-height-body)"},"data-is-current-page":L,children:(0,d.jsxs)(h.E,{as:"div",noOfLines:S||I?void 0:1,wordBreak:"break-all",style:{color:"solid"===r?z||"var(--button-color-inverted)":"outline"===r?o||"var(--button-color)":void 0},textAlign:"center",children:[I&&(0,d.jsx)(h.E,{opacity:"0.3",pointerEvents:"none",contentEditable:!1,pos:"absolute",w:"100%",left:"0",textAlign:"center",children:"…"}),(0,d.jsx)(l.$p,{})]})})})};var S=n(9100);let I=a.bP.create({name:"button",content:"(text | emoji)*",marks:"",defining:!0,isolating:!0,selectable:!1,addNodeView:()=>(0,l.gu)(k,{update:s.z0}),addAttributes:()=>({href:{default:""},variant:{default:"solid"},color:{default:null}}),addCommands:()=>({addButtonToGroup:e=>t=>{let{state:n,chain:a}=t,i=n.doc.nodeAt(e);if(!i)return!1;let l=e+i.nodeSize-1;return a().insertContentAt(l,{...(0,r.G)().button,attrs:{variant:S.Dn[i.type.name].defaultVariant,href:""}}).selectInsertedNode().run(),!0},handleButtonDelete:e=>t=>{let{dispatch:n,state:r,chain:l}=t;if(!n)return!0;let s=(0,a.KP)(e=>"button"===e.type.name)(r.selection);if(!s||e&&!(0,o.Op)(s.node))return!1;let d=(0,a.KP)(e=>"buttonGroup"===e.type.name)(r.selection),c=(0,a.KP)(e=>"navbarButtons"===e.type.name)(r.selection),u=(0,a.KP)(e=>"navbarLinks"===e.type.name)(r.selection);return c||u||!d||1!==d.node.childCount?c&&1===c.node.childCount||u&&1===u.node.childCount?l().deleteNode("button").blur().run():l().deleteNode("button").command(e=>{let{tr:t}=e,n=(0,i.n)(t.doc.resolve(s.pos-1),-1);return n&&t.setSelection(n),!0}).focus().run():l().deleteNode("buttonGroup").command(e=>{let{tr:t}=e,n=(0,i.n)(t.doc.resolve(d.pos));return n&&t.setSelection(n),!0}).focus().run(),!0}}),parseHTML:()=>[{tag:"button"}],renderHTML(e){let{HTMLAttributes:t}=e;return["button",(0,a.KV)(t),0]}})},45002:(e,t,n)=>{"use strict";n.d(t,{X0:()=>f,Y3:()=>x,u4:()=>b});var a=n(6029),i=n(88507),r=n(47687),l=n.n(r),o=n(55729),s=n(9014),d=n(84431),c=n(14389),u=n(11403),p=n(38537);let h="resizeable-control-wrapper",g=(0,s.yX)([s.cM]),m=(e,t)=>Math.max(e,c.MK*Math.max(t.clientWidth/t.clientHeight,1));function x(e){let[t,n]=(0,o.useState)(!1),a=(0,u.jm)(),r=(0,o.useRef)(null),l=(0,p.KS)(r),[s,d]=(0,o.useState)(!1),c=(0,o.useCallback)(()=>{var t,a;null==(t=(a=e.commands).forceHideBubbleMenu)||t.call(a,!0),n(!0)},[e]),h=(0,o.useCallback)(()=>{var t,a;null==(t=(a=e.commands).forceHideBubbleMenu)||t.call(a,!1),n(!1)},[e]);return(0,i.w)(()=>{var t,n;null==(t=(n=e.commands).forceHideBubbleMenu)||t.call(n,s||l)},[e,s,l]),{ref:r,isResizing:s,setIsResizing:d,isAnimating:t,resizeableSx:{".moveable-control":{display:a||l||t?"none":""}},onLayoutAnimationStart:c,onLayoutAnimationComplete:h}}let f={[".".concat(h)]:{zIndex:"".concat(d.$.resizeableWrapper),".moveable-control":{bg:"white",border:"2px solid var(--chakra-colors-trueblue-300)",w:"".concat(8,"px"),h:"".concat(8,"px"),opacity:1,zIndex:10,borderRadius:0,_hover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal","&.moveable-ne, &.moveable-sw":{cursor:"nesw-resize"},"&.moveable-nw, &.moveable-se":{cursor:"nwse-resize"},"&.moveable-se, &.moveable-ne, &.moveable-e":{marginLeft:"-".concat(5,"px")},"&.moveable-sw, &.moveable-nw, &.moveable-w":{marginLeft:"-".concat(3,"px")},"&.moveable-ne, &.moveable-nw, &.moveable-n":{marginTop:"-".concat(3,"px")},"&.moveable-se, &.moveable-sw, &.moveable-s":{marginTop:"-".concat(5,"px")},"&.moveable-e, &.moveable-w":{cursor:"ew-resize",marginTop:"-".concat(4,"px")},"&.moveable-n, &.moveable-s":{cursor:"ns-resize",marginLeft:"-".concat(4,"px")}},".moveable-line":{display:"none"}}},b=e=>{let{imageWrapperRef:t,setIsResizing:n,updateResizeAttrs:i,refreshDeps:r,keepRatio:s=!0,onResizing:d}=e,u=(0,o.useRef)(null);return(0,o.useEffect)(()=>{setTimeout(()=>{requestAnimationFrame(()=>{var e,t;null==(e=u.current)||e.updateRect(),null==(t=u.current)||t.updateTarget()})},300)},[r]),(0,o.useEffect)(()=>{let e=()=>{var e;null==(e=u.current)||e.updateTarget()},t=l()(e,250);return document.addEventListener("drop",e),window.addEventListener("resize",t),()=>{document.removeEventListener("drop",e),window.removeEventListener("resize",t)}},[]),(0,a.jsx)(g,{ref:e=>{u.current=e},className:h,target:t.current,renderDirections:["se","nw","sw","ne","n","s","e","w"],keepRatio:s,draggable:!1,resizable:!0,origin:!1,onResizeStart:()=>{n(!0)},onResize:e=>{let{target:t,width:n,height:a}=e,i=m(n,t),r=s?a:m(a,t);t.style.width="".concat(i,"px"),s||(t.style.height="".concat(r,"px")),null==d||d({width:i,height:r})},onResizeEnd:e=>{let{target:t}=e,a=t.clientWidth,r=t.clientHeight,l=parseFloat(getComputedStyle(t).fontSize)/c.Ef;i({width:a/l,height:s?null:r/l,isAuto:!1}),n(!1),t.style.width="",t.style.height=""}})}},45176:(e,t,n)=>{"use strict";n.d(t,{Aj:()=>i,BA:()=>c,I0:()=>a,Vj:()=>l,XJ:()=>r,ZX:()=>d,mj:()=>s,pg:()=>o});let a=.8,i=12,r=8,l=15,o=5,s=1,d=2,c=.1},45214:(e,t,n)=>{"use strict";n.d(t,{Ax:()=>R,D6:()=>h,Eb:()=>m,Kh:()=>E,L$:()=>ea,Lp:()=>p,P7:()=>f,QI:()=>$,Re:()=>z,SA:()=>c,VN:()=>A,Xj:()=>x,_B:()=>b,_Z:()=>S,bo:()=>I,eI:()=>w,fu:()=>C,gt:()=>J,iZ:()=>g,lR:()=>j,lX:()=>v,n3:()=>q,ok:()=>k,py:()=>L,s:()=>M,to:()=>y,uk:()=>u});var a=n(30892),i=n(28615),r=n(95695),l=n(62452),o=n(40077),s=n(14122),d=n(96177);let c="themed-html-shape-background",u="themed-html-shape-outline",p="themed-svg-shape-outline",h="themed-svg-shape-background",g="themed-svg-shape-background-dim",m="themed-svg-shape-background-light",x="themed-svg-neutral-background",f="themed-html-shape-fill",b="themed-svg-shape-fill",v="themed-svg-shape-fill-dim",y="themed-svg-shape-fill-light",w="themed-line",C="themed-svg-line",A="themed-shape-outside-text",j="themed-shape-text-over-background",k="themed-shape-text-over-fill",S="themed-svg-shape-background-rtl",I="themed-svg-shape-fill-rtl",E="themed-svg-shape-fill-dim-rtl",R="themed-svg-shape-fill-light-rtl",L=()=>({[".".concat(c)]:M,[".".concat(u)]:_,[".".concat(h)]:z,[".".concat(p)]:N,[".".concat(g)]:P,[".".concat(m)]:O,[".".concat(x)]:F,[".".concat(w)]:K,[".".concat(C)]:Q,[".".concat(f)]:B,[".".concat(b)]:V,[".".concat(v)]:W,[".".concat(y)]:U,[".".concat(A)]:Z,[".".concat(j)]:H,[".".concat(k)]:G}),D="var(--shape-shadow-color, var(--shape-border-color-override, var(--shape-border-color)))",M={borderRadius:"var(--box-border-radius)",boxShadow:"var(--shape-shadow, var(--shape-shadow-size) var(--shape-shadow-size) var(--shape-shadow-blur) ".concat(D,")"),border:"var(--shape-border-width) solid var(--shape-border-color-override, var(--shape-border-color))",background:"var(--shape-bg-color-override, var(--shape-bg-image, var(--shape-bg-color-alpha)))",backgroundColor:"var(--shape-bg-color-override, var(--shape-bg-color-alpha))","--body-color":"var(--shape-text-color)",...(0,o.U2)("var(--shape-text-color)")},_={background:"var(--card-background-color)",border:"var(--line-thickness) solid var(--shape-border-color-override, var(--shape-border-color))",borderRadius:"var(--box-border-radius)",boxShadow:"var(--shape-shadow, var(--shape-shadow-size) var(--shape-shadow-size) var(--shape-shadow-blur) ".concat(D,")"),...(0,o.U2)("var(--body-color)")},T={stroke:"var(--shape-border-color-override, var(--shape-border-color))",strokeWidth:"var(--shape-border-width)",vectorEffect:"non-scaling-stroke",strokeLinejoin:"round",strokeLinecap:"round"},N={...T,fill:"none"},z={...T,fill:"var(--shape-bg-color-override, var(--shape-bg-image-svg) var(--shape-bg-color-alpha))",filter:"var(--shape-filter, drop-shadow(var(--shape-shadow-size) var(--shape-shadow-size) var(--shape-shadow-blur) ".concat(D,"))")},P={...T,fill:"var(--shape-bg-color-override, var(--shape-bg-color-alpha-dim))"},O={...T,fill:"var(--shape-bg-color-override, var(--shape-bg-color-alpha-light))"},F={...T,fill:"var(--neutral-background-color)"},H={"--body-color":"var(--shape-text-color)",...(0,o.U2)("var(--shape-text-color)")},B={background:"var(--shape-bg-color-override, var(--shape-fill))"},V={fill:"var(--shape-bg-color-override, var(--shape-fill-svg))"},W={fill:"var(--shape-bg-color-override, var(--shape-fill-svg-dim))"},U={fill:"var(--shape-bg-color-override, var(--shape-fill-svg-light))"},G={"--body-color":"var(--shape-fill-text-color)",...(0,o.U2)("var(--shape-fill-text-color)"),...(0,s.t)("var(--shape-fill-text-color)")},K={backgroundColor:"var(--shape-border-color-override, var(--line-color))",borderRadius:"var(--box-border-radius)"},Q={stroke:"var(--shape-border-color-override, var(--line-color))",strokeLinejoin:"round",strokeLinecap:"round"},Z={...(0,o.U2)("var(--body-color)")},q=e=>{let{cardColor:t,bodyColor:n,config:i,theme:o}=e,s=(0,l.Ik)(t),c=(0,l.Ik)((0,l.QD)(o,i.shapeColorScheme)),u=(0,l.GV)(o,i.shapeColorScheme,i.shapeFill),p="custom"===i.shapeColorScheme?"var(--neutral-border-color)":u,h=r.z0[i.shapeFill].opacity,g=(0,a.sN)(s,c,h),m=(0,a.$p)(s),x=m?(0,a.Zt)(g,3):(0,a.Zt)(g,-3),f=m?(0,a.Zt)(g,-3):(0,a.Zt)(g,3),b=(0,l.Ik)(n),v=h>0&&!(0,a.a6)(c,b)?(0,d.S0)(c).textColor:b,y=(0,l.Ik)((0,l.VH)(o)),w=(0,d.S0)(y).textColor;return{"--shape-bg-image":"none"===i.shapeFill||"accent"!==i.shapeColorScheme?void 0:"var(--accent-gradient-background)","--shape-bg-color-alpha":g,"--shape-bg-color-alpha-dim":x,"--shape-bg-color-alpha-light":f,"--shape-bg-color":c,"--shape-border-color":u,"--shape-text-color":v,"--line-color":p,"--shape-bg-image-svg":"none"===i.shapeFill||"accent"!==i.shapeColorScheme?"url(#transparent)":"url(#theme-accent-background-gradient-linear)","--shape-bg-image-svg-rtl":"none"===i.shapeFill||"accent"!==i.shapeColorScheme?"url(#transparent)":"url(#theme-accent-background-gradient-linear-rtl)","--shape-fill":"var(--accent-gradient-fill, var(--accent-color))","--shape-fill-opacity":h,"--shape-fill-svg":"url(#theme-accent-gradient-linear) var(--accent-color)","--shape-fill-svg-rtl":"url(#theme-accent-gradient-linear-rtl) var(--accent-color)","--shape-fill-svg-dim":"var(--accent-color-dim)","--shape-fill-svg-light":"var(--accent-color-light)","--shape-fill-text-color":w}},J=e=>{var t;let{config:n}=e,a=r.T5[n.roundness].blockRadius,i=null==(t=r.OE[n.buttonRoundness])?void 0:t.borderRadius,{shapeBorderEm:l,lineThicknessEm:o}=r.ws[n.shapeBorder];return{"--box-border-radius":"sm"===n.roundness&&l>0?"1px":"".concat(a,"em"),"--shape-border-width":"".concat(l,"em"),"--line-thickness":"max(round(".concat(o,"em, 1px), 1px)"),"--button-border-radius":i}},$=e=>{let{cardColor:t,config:n}=e,a=(0,l.Ik)(t),o=r.kI[n.shapeShadow],s=r.ws[n.shapeBorder].shadowSizeEm;if("getShadow"in o)return{"--shape-shadow":o.getShadow(a),"--clickable-shadow":o.getClickShadow(a),"--shape-filter":o.shapeFilter};{let{shadowDistance:e,shadowBlur:n,shadowColorScheme:a,pdfShadow:r}=o,l="block"===a?void 0:Y(t),d="0 0.25em 0.375em -0.0625em rgba(0, 0, 0, 0.1), 0 0.125em 0.25em -0.0625em rgba(0, 0, 0, 0.06)";return i.rS&&!r?{"--shape-shadow":"none","--clickable-shadow":"none","--shape-filter":"none"}:0===e&&"0"===n?{"--shape-shadow":"none","--clickable-shadow":d}:{"--shape-shadow-size":"".concat(e*s,"em"),"--shape-shadow-blur":n,"--shape-shadow-color":l,"--clickable-shadow":d,"--shape-filter":void 0}}},Y=e=>{let t=(0,l.Ik)(e);return .35>(0,a.VU)(t)?(0,a.$3)("white",.25):(0,a.$3)((0,a.PE)(t,.2),.125)},X={...T,fill:"var(--shape-bg-color-override, var(--shape-bg-image-svg-rtl, var(--shape-bg-image-svg)) var(--shape-bg-color-alpha))",filter:"var(--shape-filter, drop-shadow(calc(-1 * var(--shape-shadow-size)) var(--shape-shadow-size) var(--shape-shadow-blur) ".concat(D,"))")},ee={fill:"var(--shape-bg-color-override, var(--shape-fill-svg-rtl, var(--shape-fill-svg)))"},et={fill:"var(--shape-bg-color-override, var(--shape-fill-svg-dim))"},en={fill:"var(--shape-bg-color-override, var(--shape-fill-svg-light))"},ea=()=>({[".".concat(S)]:X,[".".concat(I)]:ee,[".".concat(E)]:et,[".".concat(R)]:en})},45318:(e,t,n)=>{"use strict";n.d(t,{V:()=>p});var a=n(6029),i=n(49611),r=n(55597),l=n(48621),o=n(19564),s=n(15342),d=n(35292),c=n(92137),u=n(55084);let p=e=>{let{onClick:t,image:n,backFrom:p}=e,{toggleBuddyChatPanel:h,isBuddyChatPanelOpen:g}=(0,c.n)(),m=(0,s.jL)();return(0,d.l)(n)?(0,a.jsx)(i.$,{size:"sm",variant:"solid",leftIcon:(0,a.jsx)(l.g,{icon:r.p7g}),onClick:()=>{!g&&(h(),p&&m((0,u.Po)(p))),t()},children:(0,a.jsx)(o.x6,{id:"xWEvuo"})}):null}},45373:(e,t,n)=>{"use strict";n.d(t,{Ht:()=>a4});var a=n(6029),i=n(26420),r=n(58959),l=n(91106),o=n(22905),s=n(63867),d=n(55729),c=n(22249),u=n(15342),p=n(94922),h=n(19297),g=n(98968),m=n(73813),x=n(55424),f=n(61964),b=n(43634),v=n(33201),y=n(54929),w=n(2426);let C=e=>{let t=(0,d.useRef)(null),n=(0,y.cq)(),{editor:i,tippyOptions:r,onHide:l,targetElement:o}=e;return(0,d.useEffect)(()=>{i&&i.commands.command(e=>{let{tr:a}=e;return a.setMeta(w.dX,{element:t.current,tippyOptions:r,panelLifecycle:n,onHide:l,targetElement:o}),!0})},[i,r,n,l,o]),(0,a.jsx)("div",{ref:t,className:e.className,style:{visibility:"hidden"},id:"gamma-formatting-bubble-menu",children:e.children})};var A=n(50861),j=n(43607),k=n(61204),S=n(78140),I=n(36999),E=n(49611),R=n(41283),L=n(99492),D=n(48621),M=n(19564),_=n(77650),T=n(7957),N=n(80180),z=n(92685),P=n(24813),O=n(74471);let F=e=>{let{editor:t,attrs:n,selection:i}=e,r=(0,T._w)(),o=r[n.variant],s=o?o.icon:L.jyJ;return(0,a.jsxs)(S.W,{isLazy:!0,onClose:()=>(0,P.q)(t),children:[(0,a.jsx)(l.Tz,{placement:"top",label:(0,a.jsx)(M.x6,{id:"H8b4pf"}),"aria-label":_.Ru._({id:"H8b4pf"}),children:(0,a.jsx)(I.I,{as:E.$,variant:"toolbar",rightIcon:(0,a.jsx)(D.g,{icon:L.Jt$,transform:"shrink-6"}),size:"sm",onMouseDown:N.Fw,children:(0,a.jsx)(D.g,{icon:s})})}),(0,a.jsx)(R.c,{maxW:"auto",children:(0,a.jsxs)(k.e,{flex:"row",alignItems:"center",children:[Object.entries(r).map(e=>{let[r,{name:l,icon:o}]=e;return(0,a.jsx)(O.I,{label:l,icon:o,isActive:n.icon&&n.variant===r,onClick:()=>{t.chain().focus().updateAttributes("calloutBox",{variant:r,icon:!0}).selectNodeAtPos(i.from).run()}},l)}),(0,a.jsx)(z.q,{}),(0,a.jsx)(O.I,{label:n.icon?(0,a.jsx)(M.x6,{id:"Cs6LHm"}):(0,a.jsx)(M.x6,{id:"pjF2Hd"}),icon:L.Dfk,isActive:!n.icon,onClick:()=>{t.chain().focus().updateAttributes("calloutBox",{icon:!n.icon}).selectNodeAtPos(i.from).run()}},"icon")]})})]})};var H=n(35883),B=n(70615),V=n(46898),W=n(48810),U=n(80314),G=n(32380),K=n(87386),Q=n(8255),Z=n(63821),q=n(82328),J=n(65280),$=n(68301),Y=n(22445),X=n(11235),ee=n(67909),et=n(36071),en=n(54731),ea=n(17920),ei=n(3674),er=n(96500),el=n(40691),eo=n(57405),es=n(26385),ed=n(74676),ec=n(16426),eu=n(16491),ep=n(91938),eh=n(58809),eg=n(46091),em=n(37605),ex=n(97315),ef=n(76373),eb=n(85455),ev=n(43183),ey=n(11916),ew=n(17928);let eC=e=>{let{cardId:t,format:n,doc:i,editor:r,icon:l,badge:o,accentColor:s,label:d}=e,{handleExport:c,exportInProgress:u}=(0,ey.Up)({doc:i,source:"card_export_menu",editor:r,format:n,formatLabel:d,cardIds:[t],interceptFileExport:void 0});return(0,a.jsx)(ex.N,{onClick:c,icon:l,formatLabel:d,accentColor:s,badge:o,exportInProgress:u,exportInProgressNote:(0,a.jsx)(M.x6,{id:"SJjTti"})})},eA=e=>{let{cardId:t,doc:n,editor:i,icon:r,badge:l,accentColor:o,label:s}=e,{interceptFileExport:d}=(0,ef.w)({doc:n,source:"card_export_menu",editor:i,fileName:n.title,cardIds:[t]}),{handleExport:c,exportInProgress:u}=(0,ey.Up)({doc:n,source:"card_export_menu",editor:i,format:"google_slides",formatLabel:s,cardIds:[t],interceptFileExport:d});return(0,a.jsx)(ex.N,{onClick:c,icon:r,formatLabel:s,accentColor:o,badge:l,exportInProgress:u,exportInProgressNote:(0,a.jsx)(M.x6,{id:"SJjTti"})})},ej=e=>"google_slides"===e.format?(0,a.jsx)(eu.G_,{clientId:ep.$.GOOGLE_DRIVE_IMPORT_CLIENT_ID,children:(0,a.jsx)(eA,{...e})}):(0,a.jsx)(eC,{...e}),ek=(0,eg.A)(e=>{let{isOpen:t,onClose:n,onOpen:i,cardId:r,editor:l}=e,o=(0,u.GV)(eh.Jo),s=(0,$.u)("googleSlidesExport");return(0,a.jsxs)(ee.aF,{isOpen:t,onClose:n,size:"lg",children:[(0,a.jsx)(et.m,{}),(0,a.jsxs)(en.$,{children:[(0,a.jsx)(ea.r,{children:(0,a.jsx)(M.x6,{id:"xRJ+bN"})}),(0,a.jsx)(ei.s,{}),(0,a.jsx)(er.c,{}),(0,a.jsx)(el.c,{pt:"6",children:(0,a.jsxs)(eo.T,{spacing:4,align:"start",children:[(0,a.jsxs)(es.B,{spacing:2,w:"100%",children:[(0,a.jsx)(ej,{cardId:r,format:"image",label:"PNG",icon:eb.q.png.icon,accentColor:eb.q.png.accentColor,doc:o,editor:l}),(0,a.jsx)(ej,{cardId:r,format:"pdf",label:"PDF",icon:eb.q.pdf.icon,accentColor:eb.q.pdf.accentColor,doc:o,editor:l}),(0,a.jsx)(ej,{cardId:r,format:"pptx",label:"PPTX",icon:eb.q.pptx.icon,accentColor:eb.q.pptx.accentColor,doc:o,editor:l}),s&&(0,a.jsx)(ej,{cardId:r,format:"google_slides",label:"Google Slides",icon:eb.q.google_slides.icon,accentColor:eb.q.google_slides.accentColor,badge:(0,a.jsx)(ed.E,{colorScheme:"green",children:(0,a.jsx)(M.x6,{id:"isRobC"})}),doc:o,editor:l})]}),(0,a.jsx)(W.E,{fontSize:"sm",color:"gray.600",children:(0,a.jsx)(M.x6,{id:"8LhjM/",components:{0:(0,a.jsx)(E.$,{variant:"link",as:"span",size:"sm",cursor:"pointer",onClick:()=>{n(),ew.LF.emit(ew.DN.OPEN_PAGE_SETUP,"cards")}})}})}),(0,a.jsx)(ev.w,{onClose:n,onOpen:i,segmentEvent:em.VV.GAMMA_PRO_UPSELL_EXPORT_SETTINGS_REMOVE_WATERMARK,doc:o})]})}),(0,a.jsx)(ec.j,{children:(0,a.jsx)(k.e,{children:(0,a.jsx)(E.$,{onClick:()=>{n()},children:(0,a.jsx)(M.x6,{id:"DPfwMq"})})})})]})]})});var eS=n(96632),eI=n(16936),eE=n(35292),eR=n(76565),eL=n(40268),eD=n(98071),eM=n(27246),e_=n(52762),eT=n(60908);let eN=e=>{let{editor:t,selection:n,decorations:i}=e,{node:r,from:o}=n,s=r.attrs,c=(0,eM.Bn)(i),u=(0,eD.jh)(s,null==c?void 0:c.layout),p=(0,d.useCallback)(e=>{o&&t.commands.updateAttributesAtPos(o,{fitType:e})},[t,o]),h="fit"===u;return(0,a.jsx)(l.Tz,{label:h?(0,a.jsx)(M.x6,{id:"sShDhp"}):(0,a.jsx)(M.x6,{id:"VPxUGR"}),placement:"top",children:(0,a.jsx)(eI.K,{variant:h?"activeToolbar":"toolbar",size:"sm",icon:(0,a.jsx)(D.g,{icon:L.GZ1}),onClick:()=>p(h?"fill":"fit"),boxSize:7,p:0,my:0,"aria-label":_.Ru._({id:"l1XNCT"}),isActive:h})})};var ez=n(89122),eP=n(94740),eO=n(59272),eF=n(18078),eH=n(25311),eB=n(80074),eV=n(33787),eW=n(33750),eU=n.n(eW),eG=n(50333),eK=n.n(eG),eQ=n(74158),eZ=n(12354),eq=n(56603),eJ=n(16595);let e$=e=>{let[t,n]=(0,d.useState)(null);return(0,d.useEffect)(()=>((()=>{let t=new Image;t.src=e,t.onload=()=>{let{naturalWidth:e,naturalHeight:a}=t;n(e/a)}})(),()=>{n(null)}),[e]),t},eY=(e,t,n)=>{let a=e.view.domAtPos(t);if(!a)return;let{node:i,offset:r}=a,l=i.childNodes[r].querySelector("[data-change-focus-point-el]");l&&(l.style.backgroundPosition=n?"".concat(n.x,"% ").concat(n.y,"%"):"")},eX=e=>{var t;return null==(t=(0,eJ.um)(e))?void 0:t.backgroundPos},e0=(e,t,n)=>{if(!t||!n)return;let a=(0,eq.d_)(e.state,n);if(!a)return void console.error("ChangeFocusPoint - relative pos is null");eY(e,a,null);let i=e.state.doc.nodeAt(a);if(!i)return;let r=(0,eJ.um)(i),l=(0,eJ.wH)(i,{...r,backgroundPos:t});e.commands.updateAttributesAtPos(a,l)},e1=e=>{let{editor:t,pos:n,node:a,isOpen:i}=e,r=(0,d.useRef)(null),l=(0,d.useRef)(null),o=(0,d.useRef)(null),[s,c]=(0,d.useState)(!1),u=(0,d.useRef)(),p=(0,d.useCallback)(e=>{let a=r.current;if(a){if(u.current=e,!e){a.style.left="calc(50% - 10px)",a.style.top="calc(50% - 10px)",c(!1);return}a.style.left="calc(".concat(e.x,"% - 10px)"),a.style.top="calc(".concat(e.y,"% - 10px)"),eY(t,n,e),c(50!==e.x||50!==e.y)}},[t,n]);(0,d.useEffect)(()=>{i&&p(eX(a))},[i,a,p]);let h=(0,d.useCallback)(()=>{let e={x:50,y:50};p(e);let a=(0,eq.JO)(t.state,n);e0(t,e,a)},[p,t,n]),g=(0,d.useCallback)(e=>{let t=l.current;if(!t)return;let n=t.getBoundingClientRect(),a=n.width,i=n.height,r=(e.clientX-n.left)/a,o=(e.clientY-n.top)/i;p({x:eK()(100*eU()(r,0,1),2),y:eK()(100*eU()(o,0,1),2)})},[p]);return(0,d.useEffect)(()=>{let e=r.current,a=l.current;if(!e||!a)return;o.current=(0,eq.JO)(t.state,n);let i=()=>{a.addEventListener("mousemove",g),window.addEventListener("mouseup",s)},s=()=>{a.removeEventListener("mousemove",g),window.removeEventListener("mouseup",s),e0(t,u.current,o.current)};return e.addEventListener("mousedown",i),()=>{e.removeEventListener("mousedown",i)}},[t,g,n]),(0,d.useEffect)(()=>{let e=l.current;if(!e)return;o.current=(0,eq.JO)(t.state,n);let a=t=>{e.addEventListener("mousemove",g),window.addEventListener("mouseup",i),g(t)},i=()=>{e.removeEventListener("mousemove",g),window.removeEventListener("mouseup",i),e0(t,u.current,o.current)};return e.addEventListener("mousedown",a),()=>{e.removeEventListener("mousedown",a)}},[t,g,n]),{dotRef:r,dotContainerRef:l,canReset:s,resetDotPosition:h}},e2=e=>{let{node:t,editor:n,pos:r,isDisabled:o=!1}=e,s=(0,eJ.um)(t),c=(null==s?void 0:s.src)||(null==s?void 0:s.tempUrl),p=e$(c),h=(0,eJ.Df)(n,t,r,s),g=(0,eQ.d4)((0,eZ.CU)(h)),{dotRef:m,dotContainerRef:x,canReset:f,resetDotPosition:b}=e1({editor:n,pos:r,node:t,isOpen:g}),v=(0,u.jL)();return(0,d.useEffect)(()=>()=>{v((0,eZ.zs)())},[v]),(0,ez.j)({ref:{current:x.current},handler(){v((0,eZ.zs)())}}),(0,a.jsxs)(eP.A,{strategy:"absolute",placement:"top",isOpen:g,onClose:()=>v((0,eZ.zs)()),children:[(0,a.jsx)(l.Tz,{label:(0,a.jsx)(M.x6,{id:"BmxaoW"}),placement:"top",children:(0,a.jsx)(i.a,{my:1,children:(0,a.jsx)(eO.d,{children:(0,a.jsx)(eI.K,{variant:"toolbar",size:"sm",icon:(0,a.jsx)(D.g,{icon:L.xD0}),boxSize:7,p:0,my:0,isDisabled:o,"aria-label":_.Ru._({id:"BmxaoW"}),onClick:()=>{v((0,eZ.sI)({id:h}))}})})})}),(0,a.jsx)(eF.h,{children:(0,a.jsx)(eH.e,{p:1,children:(0,a.jsxs)(i.a,{ref:x,userSelect:"none",position:"relative",children:[(0,a.jsx)(i.a,{ref:m,borderRadius:"full",boxSize:5,pos:"absolute",zIndex:"overlay",border:"2px solid",borderColor:"gray.50",pointerEvents:"none",boxShadow:"0 0 0 2px rgba(0,0,0,.1)",bg:"white"}),c&&(0,a.jsx)(eB.g,{maxW:"300px",ratio:p||1,position:"relative",children:(0,a.jsx)(eV._,{pointerEvents:"none",src:(0,eT.Ub)(c,eT.p7,s.meta),fallbackSrc:c,objectFit:"cover",position:"absolute",top:0,insetStart:0,width:"100%",height:"100%"})}),(0,a.jsx)(E.$,{opacity:+!!f,pos:"absolute",bottom:3,insetEnd:3,variant:"plain",size:"xs",onClick:b,children:(0,a.jsx)(M.x6,{id:"OfhWJH"})})]})})})]})};var e4=n(84714),e6=n(62452),e5=n(23907),e3=n(99430),e9=n(40452);let e7=e=>{let{icon:t,label:n,children:i,iconProps:r,isHidden:l,...o}=e;return l?null:(0,a.jsxs)(es.B,{direction:"row",spacing:8,alignItems:"center",justifyContent:"space-between",...o,children:[(0,a.jsxs)(e9.s,{gap:4,alignItems:"center",children:[t&&(0,a.jsx)(D.g,{icon:t,fixedWidth:!0,...r}),(0,a.jsx)(W.E,{children:n})]}),i]})},e8=e=>{let{icon:t,label:n,onClick:i,colorScheme:r="gray",secondaryIcon:l,secondaryLabel:o,secondaryAction:s,secondaryColorScheme:d="gray"}=e;return(0,a.jsxs)(e9.s,{px:5,py:3,bg:"gray.50",mx:-4,mb:-4,justifyContent:o?"space-between":"center",alignItems:"center",children:[o&&s&&(0,a.jsx)(E.$,{variant:"link",size:"sm",colorScheme:d,leftIcon:l?(0,a.jsx)(D.g,{icon:l,fixedWidth:!0}):void 0,onClick:s,onMouseDown:N.Fw,children:o}),(0,a.jsx)(E.$,{variant:"link",size:"sm",colorScheme:r,leftIcon:t?(0,a.jsx)(D.g,{icon:t,fixedWidth:!0}):void 0,onClick:i,onMouseDown:N.Fw,children:n})]})},te=e=>{let{...t}=e;return(0,a.jsx)(er.c,{my:1,...t})},tt=e=>{let{children:t,...n}=e;return(0,a.jsx)(es.B,{spacing:4,p:4,...n,children:t})},tn="14px",ta="28px",ti=e=>{let{label:t,withSidePadding:n=!1,children:i,...r}=e;return(0,a.jsxs)(es.B,{direction:"row",spacing:3,...r,children:[t&&(0,a.jsx)(es.B,{alignSelf:"center",justifyContent:"start",minWidth:i?"max-content":"100%",h:ta,pl:n?tn:void 0,children:(0,a.jsx)(e9.s,{justifyContent:"flex-start",alignItems:"center",width:"100%",height:"100%",children:t})}),i&&(0,a.jsx)(es.B,{alignSelf:"center",width:"100%",pr:n?tn:void 0,h:ta,children:(0,a.jsx)(e9.s,{justifyContent:"flex-end",alignItems:"center",width:"100%",height:"100%",children:i})})]})};var tr=n(66082);let tl=e=>{let{editor:t}=e;return(0,a.jsx)(k.e,{dir:"ltr",spacing:1,size:"sm",children:tr.gj.map(e=>{let{name:n,icon:i,checkActive:r,apply:l}=e;if(r&&l)return(0,a.jsx)(O.I,{label:n(),icon:i,onClick:()=>{l(t)},isActive:r(t),my:0},n())})})};var to=n(68917),ts=n(29810);let td=e=>{let{contributors:t,hiddenContributorIds:n,toggleOneVisibleContributor:i,toggleAllVisibleContributors:r,isDisabled:o=!1}=e,s=(null==n?void 0:n.length)===0;return(0,a.jsxs)(S.W,{isLazy:!0,children:[(0,a.jsx)(I.I,{as:E.$,variant:"plain",size:"sm",boxShadow:"none",minW:"max-content",textAlign:"left",rightIcon:(0,a.jsx)(to.D,{}),isDisabled:o,children:s?(0,a.jsx)(M.x6,{id:"lZw9AX"}):(0,a.jsx)(M.x6,{id:"8Tg/JR"})}),(0,a.jsx)(R.c,{minWidth:"max-content",padding:0,children:(0,a.jsxs)(es.B,{spacing:1,py:3,children:[(0,a.jsx)(ti,{label:(0,a.jsx)(M.x6,{id:"lZw9AX"}),withSidePadding:!0,children:(0,a.jsx)(e3.d,{isChecked:s,onChange:r})}),(0,a.jsx)(er.c,{py:2}),(0,a.jsx)(ti,{label:(0,a.jsx)(l._x,{children:(0,a.jsx)(W.E,{children:(0,a.jsx)(M.x6,{id:"8Tg/JR"})})}),withSidePadding:!0}),t.map(e=>(0,a.jsx)(tc,{contributor:e,contributors:t,toggleOneVisibleContributor:i,hiddenContributorIds:n,allVisible:s},e.user.id))]})})]})},tc=e=>{let{contributor:t,contributors:n,toggleOneVisibleContributor:i,hiddenContributorIds:r,allVisible:o}=e,s=n.length-r.length==1&&!r.includes(t.user.id);return(0,a.jsxs)(ti,{label:(0,a.jsxs)(e9.s,{alignItems:"center",gap:2,children:[(0,a.jsx)(l.Vc,{size:"xs",src:t.user.profileImageUrl,opacity:o?.5:1}),(0,a.jsx)(W.E,{fontSize:"md",fontFamily:"body",opacity:o?.5:1,sx:{cursor:o?"default":"text"},children:t.user.displayName})]}),paddingY:1.25,withSidePadding:!0,children:[(0,a.jsx)(ts.h,{w:4}),(0,a.jsx)(e3.d,{isChecked:!r.includes(t.user.id),onChange:()=>i(t.user.id),disabled:s})]})},tu=e=>{let{contributors:t,hiddenContributorIds:n,hasMultipleContributors:i,toggleOneVisibleContributor:r,toggleAllVisibleContributors:l}=e;return(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"YqsXfH"}),icon:L.VFr,children:(0,a.jsx)(td,{contributors:t,hiddenContributorIds:n,toggleOneVisibleContributor:r,toggleAllVisibleContributors:l,isDisabled:!i})})};var tp=n(8527),th=n(2241);let tg=e=>{let{children:t,...n}=e,{content:i}=(0,tp.o)("Popover");return(0,a.jsx)(th.B.div,{__css:i,p:0,overflow:"hidden",borderWidth:0,minW:"auto",width:"auto",...n,children:t})},tm=()=>({square:{icon:L.Nfw,label:(0,a.jsx)(M.x6,{id:"du/PIl"})},landscape:{icon:L.vti,label:(0,a.jsx)(M.x6,{id:"BZXXSi"})},portrait:{icon:L.b0A,label:(0,a.jsx)(M.x6,{id:"79gnko"})}}),tx=e=>{let{selection:t,editor:n}=e,i=tm(),r=t.node.attrs;return(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"7bRShe"}),icon:L.VGw,children:(0,a.jsx)(k.e,{children:Object.entries(i).map(e=>{let[i,{icon:l,label:o}]=e;return(0,a.jsx)(O.I,{icon:l,label:o,onClick:()=>{n.chain().updateAttributes("gallery",{dimensions:i}).setNodeSelection(t.from).run()},isActive:r.dimensions===i},i)})})})};var tf=n(50933),tb=n(45176);let tv=e=>{let{selection:t,editor:n}=e,i=t.node.attrs.thumbHeight||tb.Aj,r=(0,d.useCallback)(e=>{n.chain().updateAttributes("gallery",{thumbHeight:e}).setNodeSelection(t.from).focus().run()},[n,t.from]);return(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"Cj2Gtd"}),icon:L.dwj,children:(0,a.jsxs)(tf.Ap,{"aria-label":"gallery-slider",min:tb.pg,max:tb.Vj,step:.25,value:i,onChange:r,w:"120px",focusThumbOnChange:!1,colorScheme:"trueblue",size:"sm",children:[(0,a.jsx)(tf.hB,{children:(0,a.jsx)(tf.hJ,{})}),(0,a.jsx)(tf.OQ,{background:"trueblue.500"})]})})};var ty=n(80215);let tw=e=>{let{selection:t,editor:n}=e,i=t.node.attrs.thumbSpacing||tb.mj,r=(0,d.useCallback)(e=>{n.chain().updateAttributes("gallery",{thumbSpacing:e}).setNodeSelection(t.from).focus().run()},[n,t.from]);return(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"EL5s3L"}),icon:L.dwj,children:(0,a.jsxs)(tf.Ap,{"aria-label":"gallery-slider",min:tb.BA,max:tb.ZX,step:.1,value:i,onChange:r,w:"120px",focusThumbOnChange:!1,colorScheme:"trueblue",size:"sm",children:[(0,a.jsx)(tf.hB,{children:(0,a.jsx)(tf.hJ,{})}),(0,a.jsx)(tf.OQ,{background:"trueblue.500"})]})})},tC=e=>{let{selection:t,editor:n}=e,i=t.node.attrs,r=!0===i.stretchFill||null===i.stretchFill;return(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"57WAKT"}),icon:L.fGk,children:(0,a.jsx)(e3.d,{isChecked:r,onChange:()=>{n.chain().updateAttributes("gallery",{stretchFill:!i.stretchFill}).setNodeSelection(t.from).run()}})})};var tA=n(55597),tj=n(90184),tk=n(24903),tS=n(66824),tI=n(49249),tE=n(83143),tR=n(71093),tL=n(89703),tD=n(2681),tM=n(37930),t_=n(48478);let tT=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{none:{label:(0,a.jsx)(M.x6,{id:"gIjBW2"})},expand:{label:(0,a.jsx)(M.x6,{id:"1A3EXy"})},newTab:{label:e?(0,a.jsx)(M.x6,{id:"YdDilE"}):(0,a.jsx)(M.x6,{id:"XGRJzS"})}}},tN=e=>{let{handleClickBehaviorChange:t,currentClickBehavior:n,enableNoClickBehavior:i=!1,canAddLink:r=!1}=e,l=tT(r);return(0,a.jsxs)(S.W,{closeOnSelect:!0,isLazy:!0,autoSelect:!1,children:[(0,a.jsx)(I.I,{as:E.$,"data-testid":"click-behavior-dropdown",size:"sm",rightIcon:(0,a.jsx)(D.g,{fixedWidth:!0,icon:L.Jt$,transform:"shrink-6"}),boxShadow:"none",onMouseDown:N.Fw,children:l[n].label}),(0,a.jsx)(R.c,{zIndex:2,children:(0,a.jsx)(tM.i,{type:"radio",onChange:e=>{t(e)},value:n,children:Object.entries(l).map(e=>{let[t,{label:n}]=e;return"none"!==t||i?(0,a.jsx)(t_.k,{value:t,onMouseOver:N.Fw,onMouseDown:N.Fw,"data-testid":"click-behavior-option-".concat(t),children:(0,a.jsx)(W.E,{children:n})},t):null})})})]})};var tz=n(72470),tP=n(38036),tO=n(77979),tF=n(62964),tH=n(19546),tB=n(37327),tV=n(15607),tW=n(15577),tU=n(4192),tG=n(70259),tK=n(39247),tQ=n(70006),tZ=n(31090),tq=n(27229);let tJ=(0,d.memo)(e=>{let{label:t,icon:n,isFocused:i,focusedItemEl:l,onClick:o,onMouseMove:s}=e;return(0,a.jsx)(tZ.ck,{px:2,py:2,mx:2,borderRadius:"md",ref:i?l:null,bg:i?"trueblue.50":"none",onClick:o,onMouseMove:s,onMouseDown:N.Fw,role:"option",cursor:"pointer",tabIndex:-1,children:(0,a.jsxs)(r.z,{pointerEvents:"none",children:[(0,a.jsx)(D.g,{icon:n,fixedWidth:!0,size:"sm"}),(0,a.jsx)(W.E,{noOfLines:1,fontSize:"sm",w:"100%",children:t})]})})});tJ.displayName="Option";let t$=(0,d.memo)(e=>{let{items:t,inputValue:n,focusedIndex:r,interactionRef:o,isScrollingRef:s,isFiltered:c,onMouseMove:u,onSelectItem:p}=e,h=t.reduce((e,t,n)=>("page"===t.type?e.pages.push({item:t,index:n}):"card"===t.type?e.cards.push({item:t,index:n}):"url"===t.type&&e.url.push({item:t,index:n}),e),{pages:[],cards:[],url:[]}),g=(0,d.useRef)(null),m=(0,d.useRef)(null);return(0,d.useEffect)(()=>{if("keyboard"!==o.current)return;let e=m.current,t=g.current;if(!e||!t)return;let n=t.clientHeight,a=e.offsetTop,i=e.offsetHeight;s.current=!0,t.scrollTo({top:a-n/2+i/2,behavior:"smooth"});let r=setTimeout(()=>{s.current=!1},50);return()=>{clearTimeout(r)}},[r,m,g,o,s]),(0,a.jsx)(i.a,{children:(0,a.jsxs)(tZ.B8,{ref:g,pos:"relative",overflowY:"auto",maxH:"min(300px, 50vh)",children:[h.pages.map((e,t)=>{let{item:o,index:s}=e;return(0,a.jsxs)(i.a,{children:[0===t&&(0,a.jsx)(l._x,{ml:4,my:1,children:c?(0,a.jsx)(M.x6,{id:"rXYeDA",values:{inputValue:n}}):(0,a.jsx)(M.x6,{id:"QIUdjp"})}),(0,a.jsx)(tJ,{label:tY(o),icon:L.A4h,isFocused:s===r,focusedItemEl:m,onClick:()=>p(o),onMouseMove:()=>u(s)})]},o.docId)}),h.cards.map((e,t)=>{let{item:o,index:s}=e;return(0,a.jsxs)(i.a,{children:[0===t&&(0,a.jsx)(l._x,{ml:4,my:1,children:c?(0,a.jsx)(M.x6,{id:"m+j0l8",values:{inputValue:n}}):(0,a.jsx)(M.x6,{id:"Ccpbzh"})}),(0,a.jsx)(tJ,{label:tY(o),icon:L.vti,isFocused:s===r,focusedItemEl:m,onClick:()=>p(o),onMouseMove:()=>u(s)})]},o.cardId)}),h.url.map((e,t)=>{let{item:n,index:o}=e;return(0,a.jsxs)(i.a,{children:[0===t&&(0,a.jsx)(l._x,{ml:4,my:1,children:(0,a.jsx)(M.x6,{id:"wuJqqq"})}),(0,a.jsx)(tJ,{label:n.value,icon:L.CQO,isFocused:o===r,focusedItemEl:m,onClick:()=>p(n),onMouseMove:()=>u(o)})]},"custom".concat(o))})]})})});t$.displayName="ListBox";let tY=e=>e.title||("card"===e.type?_.Ru._({id:"gLDJuJ"}):_.Ru._({id:"kveQAJ"})),tX=(e,t)=>tY(t).trim().toLowerCase().includes(e.trim().toLowerCase()),t0=e=>{let t=(0,tW.Se)(e)||(0,tB.hc)(e)?e:"https://"+e;return(0,tW.AY)(t)?t:""},t1=e=>{let{items:t,inputValue:n}=e;return(0,d.useMemo)(()=>{let e=t0(n),a=[...t.filter(e=>tX(n,e)),""!==e?{type:"url",value:e}:null].filter(e=>!!e),i=a.length!==t.length;return{filteredItems:a,isFiltered:i}},[t,n])},t2=e=>{let{items:t,inputValue:n,onSelect:a,onRevert:i,popoverRef:r}=e,{isOpen:l,onClose:o,onOpen:s}=(0,tq.j)(),[c,u]=(0,d.useState)(null),p=(0,d.useRef)(null),h=(0,d.useRef)(!1),g=(0,d.useCallback)(()=>{o(),u(null)},[o]),m=(0,d.useCallback)(()=>{n&&(s(),u(0))},[n,s]),x=(0,d.useCallback)(e=>{var t;(null==(t=r.current)?void 0:t.contains(e.relatedTarget))||g()},[g,r]),f=(0,d.useCallback)(e=>{a(e),g()},[g,a]),b=(0,d.useCallback)(e=>{switch(p.current="keyboard",e.key){case"Enter":case"Tab":{if(null===c)return;e.preventDefault();let n=t[c];n?f(n):g();return}case"Escape":e.preventDefault(),g(),i();return;case"ArrowDown":e.preventDefault(),l?u(e=>((null!=e?e:0)+1)%t.length):(s(),u(0));return;case"ArrowUp":e.preventDefault(),l?u(e=>{let n=(null!=e?e:0)-1;return n<0?t.length-1:n}):(s(),u(t.length-1));return}},[i,g,l,c,t,f,s]),v=(0,d.useCallback)(e=>{h.current||(p.current="mouse",u(e))},[]);return{isOpen:l,onClose:o,onOpen:s,focusedIndex:c,setFocusedIndex:u,handleSelectItem:f,onMouseMove:v,onKeyDown:b,onBlur:x,onFocus:m,interactionRef:p,isScrollingRef:h}},t4=(0,d.memo)(e=>{let{items:t,onSelect:n,onRevert:i,inputValue:r,setInputValue:l,inputRef:o}=e,s=(0,d.useRef)(null),{filteredItems:c,isFiltered:u}=t1({items:t,inputValue:r}),{onKeyDown:p,onMouseMove:h,focusedIndex:g,setFocusedIndex:m,interactionRef:x,isOpen:f,onClose:b,onOpen:v,onBlur:y,onFocus:w,handleSelectItem:C,isScrollingRef:A}=t2({items:c,onSelect:n,onRevert:i,popoverRef:s,inputValue:r}),j=(0,d.useCallback)(e=>{l(e.target.value),f||v(),m(0)},[f,v,m,l]),k=(0,d.useCallback)(()=>{f||(v(),m(0))},[f,v,m]);return(0,a.jsxs)(eP.A,{isLazy:!0,isOpen:f,onClose:b,autoFocus:!1,returnFocusOnClose:!1,matchWidth:!0,placement:"bottom",children:[(0,a.jsx)(eO.d,{children:(0,a.jsx)(tP.p,{ref:o,size:"sm",placeholder:_.Ru._({id:"BHFH/3"}),value:r,onKeyDown:p,onFocus:w,onBlur:y,onChange:j,onClick:k})}),(0,a.jsx)(eF.h,{ref:s,w:"100%",h:"100%",display:0===c.length?"none":void 0,tabIndex:-1,_focusVisible:{outline:"none"},children:(0,a.jsx)(t$,{items:c,isFiltered:u,onSelectItem:C,onMouseMove:h,inputValue:r,focusedIndex:g,interactionRef:x,isScrollingRef:A})})]})});t4.displayName="PageAwareLinkComboBox";var t6=n(99552),t5=n(85732);let t3=e=>{let{site:t}=e;return{linkablePages:null==t?void 0:t.routes.map(e=>{var t;return{docId:e.docId,title:null==(t=e.doc)?void 0:t.title}})}},t9=e=>{let{href:t,linkablePages:n}=e;if(!t)return null;let a=(0,t5.uT)(t);if(!a)return{href:t};let{docId:i,cardId:r}=a;return{...i&&(null==n?void 0:n.find(e=>e.docId===i))||null,href:t,cardId:r}},t7=e=>{let{href:t}=e,n=(0,u.GV)(t6.Gd);return(0,d.useMemo)(()=>{let{linkablePages:e}=t3({site:n}),a=t9({href:t,linkablePages:e}),i=(null==a?void 0:a.docId)&&(null==n?void 0:n.id)&&(0,tQ.pF)({docId:null==a?void 0:a.docId})||t,r=null==e?void 0:e.some(e=>e.docId===(null==a?void 0:a.docId));return{linkablePages:e,existingLink:a,newTabUrl:i,isPageLink:r}},[t,n])},t8=e=>{var t;let{href:n,inputValue:o,setInputValue:s,setHref:c,clearHref:p,inputRef:h,onCloseFocusRef:g}=e,m=(0,u.GV)(b.sX),x=(0,u.GV)(tK.rZ),{existingLink:f,linkablePages:v}=t7({href:n}),y=(0,d.useMemo)(()=>[...(v||[]).map(e=>({type:"page",docId:e.docId,title:e.title})),...x.map(e=>({type:"card",cardId:e.id,title:e.title}))],[v,x]),w=null==f?void 0:f.title,C=null!=(t=null==f?void 0:f.cardId)?t:void 0,{title:A}=(0,tG.d)({cardId:C}),j=(0,d.useCallback)(e=>{var t;e&&(c("url"===e.type?e.value:"page"===e.type?(0,tQ.LN)({docId:e.docId,docTitle:e.title,absolute:!0}):(0,tQ.Io)({cardId:e.cardId,docId:m})),null==g||null==(t=g.current)||t.focus({preventScroll:!0}))},[m,c,g]),k=(null==f?void 0:f.href)&&!f.docId;if(!f||k)return(0,a.jsx)(t4,{items:y,inputValue:o,setInputValue:s,inputRef:h,onSelect:j,onRevert:()=>{var e;s(n),null==g||null==(e=g.current)||e.focus()}});{let e=C?A||(0,a.jsx)(M.x6,{id:"gLDJuJ"}):w||(0,a.jsx)(M.x6,{id:"kveQAJ"});return(0,a.jsx)(r.z,{spacing:1,children:(0,a.jsx)(tU.vw,{pr:1,children:(0,a.jsxs)(r.z,{spacing:1,children:[(0,a.jsx)(D.g,{icon:C?L.vti:L.A4h}),(0,a.jsx)(l.Tz,{label:e,placement:"top",children:(0,a.jsx)(i.a,{noOfLines:1,children:e})}),p&&(0,a.jsx)(l.Tz,{label:(0,a.jsx)(M.x6,{id:"484LKL"}),placement:"top",children:(0,a.jsx)(eI.K,{size:"xs",minHeight:4,height:4,variant:"ghost","aria-label":_.Ru._({id:"484LKL"}),icon:(0,a.jsx)(D.g,{icon:L.yYc}),onMouseDown:N.Fw,onClick:()=>{p(),s("")}})})]})})})}},ne="link-input-invalid-url",nt=e=>{let{editor:t,href:n,updateHref:r,clearHref:o,removeLink:s,isEmbedLink:c=!1}=e,[p,h]=(0,d.useState)(n),g=(0,d.useRef)(null),m=(0,d.useRef)(null),x=(0,V.d)(),f=p!==n,v=!!(t.multipageEnabled||t.isSiteNavbarEditor),y=(0,u.GV)(b.bO),w=(0,tV.Cf)(n,y),{newTabUrl:C}=t7({href:n});(0,d.useEffect)(()=>{h(n)},[n]),(0,d.useEffect)(()=>{!n&&g.current&&setTimeout(()=>{var e;null==g||null==(e=g.current)||e.focus()})},[n]);let A=(0,d.useCallback)(e=>{if(!e)return;let t=e;if(c){let n=(0,tF.Sf)(e);n&&(t=n)}if(t=(0,tW.Se)(t)||(0,tB.hc)(t)?t:"https://"+t,!(0,tW.AY)(t)){r(""),x.isActive(ne)||x({id:ne,title:(0,a.jsx)(M.x6,{id:"sBZMWb"}),description:(0,a.jsx)(M.x6,{id:"jEw0Mr"}),status:"error",position:"top",duration:3e3,isClosable:!0});return}r(t),h(t)},[c,x,r]),j=(0,d.useCallback)(e=>{if(w){let a=(0,tV.Ww)(n);(0,tH.T)(t,e,a)}else try{window.open(C,"_blank")}catch(e){console.error("(caught) LinkInput error going to URL",e)}},[w,t,n,C]);return(0,a.jsxs)(e9.s,{gap:2,justify:"space-between",alignItems:"center",children:[v&&!c?(0,a.jsxs)(e9.s,{flex:1,children:[(0,a.jsx)(t8,{href:n,inputValue:p,setInputValue:h,setHref:A,clearHref:o,inputRef:g,onCloseFocusRef:m}),(0,a.jsx)(i.a,{w:"0",h:"0",ref:m,tabIndex:-1})]}):(0,a.jsxs)(tz.M,{children:[(0,a.jsx)(tP.p,{"data-testid":"link-input",ref:g,value:p,placeholder:_.Ru._({id:"Ilf1mg"}),onChange:e=>{h(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&(e.preventDefault(),A(p),t.commands.focus())},size:"sm"}),p.length>0&&f&&(0,a.jsx)(tO.t,{top:"50%",transform:"translateY(-50%)",children:(0,a.jsx)(l.Tz,{placement:"top",label:(0,a.jsx)(M.x6,{id:"tfDRzk"}),children:(0,a.jsx)(eI.K,{"aria-label":_.Ru._({id:"tfDRzk"}),variant:"ghost",size:"xs",onClick:()=>{A(p)},icon:(0,a.jsx)(D.g,{icon:L.e68})})})})]}),(0,a.jsxs)(k.e,{spacing:1,size:"sm",onMouseDown:N.Fw,children:[s&&(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"484LKL"}),icon:L.vev,onClick:s,my:0}),n&&(0,a.jsx)(O.I,{label:w?(0,a.jsx)(M.x6,{id:"088Oxr"}):(0,a.jsx)(M.x6,{id:"fOj0+R"}),icon:w?L.dmS:L.vMs,onClick:j,my:0})]})]})};var nn=n(85595);let na=e=>{let{buttonList:t}=e,n=t.filter(e=>!e.isHidden),r=1===n.length,o=n.length<=5?5:4,s=n.slice(0,o),d=n.slice(o,n.length);return(0,a.jsxs)(k.e,{size:"sm",width:"100%",children:[s.map(e=>{let{key:t,label:n,ariaLabel:o,action:s,icon:d,customIcon:c,isDisabled:u=!1,isLoading:p=!1,customButton:h}=e;return h||(d||c?(0,a.jsx)(l.Tz,{label:n,placement:"top",children:(0,a.jsx)(i.a,{flex:r?void 0:1,width:r?"33%":void 0,tabIndex:u?-1:void 0,children:(0,a.jsx)(eI.K,{"aria-label":o,icon:c||(0,a.jsx)(D.g,{icon:d,fixedWidth:!0}),onClick:s,w:"100%",isDisabled:u,isLoading:p,onMouseDown:N.Fw,shadow:"none"})})},t):null)}),!!d.length&&(0,a.jsxs)(S.W,{children:[(0,a.jsx)(l.Tz,{placement:"top",label:(0,a.jsx)(M.x6,{id:"3Siwmw"}),children:(0,a.jsx)(I.I,{as:eI.K,"aria-label":_.Ru._({id:"3Siwmw"}),icon:(0,a.jsx)(D.g,{icon:L.Dwc,fixedWidth:!0}),flex:1,shadow:"none"})}),(0,a.jsx)(R.c,{children:d.map(e=>{let{key:t,label:n,action:i,icon:r,customIcon:l}=e;return(0,a.jsx)(nn.D,{icon:l||r&&(0,a.jsx)(D.g,{icon:r,fixedWidth:!0}),onClick:i,children:n},t)})})]})]})},ni=()=>({inset:{title:_.Ru._({id:"Jn5DbR"})},circle:{title:_.Ru._({id:"7xMmki"})}}),nr=e=>{let{clipType:t,onChange:n}=e;return t?(0,a.jsxs)(tD.ms,{children:[(0,a.jsx)(tD.gf,{size:"sm",borderRadius:"full",minWidth:"105px",rightIcon:(0,a.jsx)(D.g,{icon:L.Jt$,transform:"shrink-6"}),variant:"toolbar",ps:2,onMouseDown:N.Fw,children:ni()[t].title}),(0,a.jsx)(tD.Q5,{children:Object.entries(ni()).map(e=>{let[r,{title:l}]=e;return(0,a.jsx)(tD.tJ,{value:r,fontSize:"sm",fontWeight:600,icon:(0,a.jsx)(i.a,{visibility:r===t?"visible":"hidden",children:(0,a.jsx)(D.g,{icon:L.e68})}),onMouseDown:N.Fw,onClick:()=>{n(r)},children:(0,a.jsx)(W.E,{children:l})},r)})})]}):null},nl={expand:L.bMI,newTab:L.Ju_,none:L.IPg};var no=n(65772),ns=n(46617);let nd=e=>{let{editor:t,selection:n,handleDuplicate:i}=e,r=(0,d.useCallback)(()=>{t.chain().insertContentAt(n.from+n.node.nodeSize,n.node.toJSON()).selectInsertedNode().run()},[t,n]);return(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"euc6Ns"}),icon:L.$3n,onClick:i||r,testId:"duplicate-node-button"})},nc=e=>{let{editor:t,label:n}=e;return(0,a.jsx)(O.I,{onClick:()=>{t.chain().selectParentNode().run()},label:n,children:(0,a.jsx)(D.g,{icon:L.Hmw,flip:"horizontal"})})};var nu=n(10500);let np={src:"/_next/static/media/layout-3-cols.478d87d6.svg",height:25,width:20,blurWidth:0,blurHeight:0},nh={src:"/_next/static/media/layout-30-70.019e8aa0.svg",height:25,width:20,blurWidth:0,blurHeight:0},ng={src:"/_next/static/media/layout-4-cols.bc7869e3.svg",height:25,width:20,blurWidth:0,blurHeight:0},nm={src:"/_next/static/media/layout-50-50.a28ea4d4.svg",height:25,width:20,blurWidth:0,blurHeight:0},nx={src:"/_next/static/media/layout-70-30.abcf64e9.svg",height:25,width:20,blurWidth:0,blurHeight:0},nf=()=>[{name:_.Ru._({id:"oCWIE5"}),testId:"layout-preset-5050",image:nm,value:[50,50]},{name:_.Ru._({id:"eWUI4Z"}),testId:"layout-preset-7030",image:nx,value:[70,30]},{name:_.Ru._({id:"hOcihM"}),testId:"layout-preset-3070",image:nh,value:[30,70]},{name:_.Ru._({id:"OnuuaA"}),testId:"layout-preset-3col",image:np,value:[33.33,33.33,33.34]},{name:_.Ru._({id:"hexbw8"}),testId:"layout-preset-4col",image:ng,value:[25,25,25,25]}];var nb=n(83650),nv=n(54229),ny=n(81136),nw=n(9100);let nC=()=>({link:{title:(0,a.jsx)(M.x6,{id:"yzF66j"})},button:{title:(0,a.jsx)(M.x6,{id:"hxBFty"})},preview:{title:(0,a.jsx)(M.x6,{id:"rdUucN"})},inline:{title:(0,a.jsx)(M.x6,{id:"KKBlUU"})}}),nA=e=>{let{editor:t,selection:n,isDisabled:i}=e,r=(0,o.KP)(e=>"button"===e.type.name)(n),l=n instanceof s.U3?r?"button":"link":n.node.type.name,c="link"===l,u="button"===l,p=t.getAttributes(l),h=u?"button":c?"link":"displayStyle"in p&&p.displayStyle||"inline",g=(0,d.useCallback)(e=>{if(l===e)return;let n="inline"===e||"preview"===e;switch(l){case"link":n?t.commands.convertLinkToMedia(e):"button"===e&&t.commands.convertLinkToButton();break;case"button":"link"===e?t.commands.convertButtonToLink():n&&t.commands.convertButtonToMedia(e);break;default:"link"===e?t.commands.convertMediaToLink():"button"===e?t.commands.convertMediaToButton():t.commands.updateAttributes(l,{displayStyle:e})}},[t,l]),m=nC();return(0,a.jsxs)(S.W,{closeOnSelect:!0,isLazy:!0,autoSelect:!1,children:[(0,a.jsx)(I.I,{as:E.$,"data-testid":"display-style-dropdown",isDisabled:i,size:"sm",rightIcon:(0,a.jsx)(D.g,{fixedWidth:!0,icon:L.Jt$,transform:"shrink-6"}),boxShadow:"none",onMouseDown:N.Fw,children:m[h].title}),(0,a.jsx)(R.c,{zIndex:2,children:(0,a.jsx)(tM.i,{type:"radio",onChange:g,value:h,children:Object.entries(m).map(e=>{let[t,{title:n}]=e;return(0,a.jsx)(t_.k,{value:t,onMouseDown:N.Fw,"data-testid":"display-style-option-".concat(t),children:(0,a.jsx)(W.E,{children:n})},t)})})})]})},nj=e=>{let{editor:t,selection:n}=e,{href:i}=t.getAttributes("button"),{isPageLink:r}=t7({href:i}),l=(0,u.GV)(b.SJ),o=(0,e6.jO)(l),c=(0,e6.Ik)(o),p=(0,ny.yh)(o),h=t.getAttributes("button").color,g=n.$from.node(-1),m=nw.Dn[g.type.name],x=(0,nw.vf)().filter(e=>m.variants.includes(e.key)),f=(0,d.useCallback)(()=>t.commands.handleButtonDelete(!1),[t]),v=(0,d.useCallback)(e=>{t.commands.updateAttributes("button",{color:e})},[t]);return(0,a.jsxs)(tt,{overflow:"hidden",children:[m.linkDropdownEnabled&&i&&(n instanceof s.U3||n instanceof s.nh)&&(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"/SVg/B"}),icon:L.n2$,children:(0,a.jsx)(nA,{editor:t,selection:n,isDisabled:r})}),(0,a.jsx)(nt,{href:i||"",updateHref:e=>{t.commands.updateAttributes("button",{href:e})},clearHref:()=>{t.commands.updateAttributes("button",{href:""})},editor:t}),x.length>=2&&(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"q6YAHa"}),icon:L.Cpz,children:(0,a.jsx)(k.e,{spacing:1,size:"sm",onMouseDown:N.Fw,children:x.map(e=>{let{name:n,icon:i,key:r}=e;return(0,a.jsx)(O.I,{label:n,icon:i,onClick:()=>{t.commands.updateAttributes("button",{variant:r})},isActive:t.isActive("button",{variant:r}),my:0},n)})})}),m.alignEnabled&&(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"0j+RGO"}),icon:L.ecg,children:(0,a.jsx)(k.e,{dir:"ltr",spacing:0,size:"sm",onMouseDown:N.Fw,children:tr.gj.map(e=>{let{name:n,icon:i,checkActive:r,apply:l}=e;if(r&&l)return(0,a.jsx)(O.I,{label:n(),icon:i,onClick:()=>{l(t)},isActive:r(t),my:0},n())})})}),m.colorEnabled&&(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"jZlrte"}),icon:L.wIs,children:(0,a.jsx)(k.e,{spacing:0,size:"sm",onMouseDown:N.Fw,children:(0,a.jsxs)(S.W,{isLazy:!0,children:[(0,a.jsx)(nb.v,{color:h||c,isDefaultColor:null===h||h===c}),(0,a.jsx)(R.c,{overflow:"hidden",children:(0,a.jsx)(nv.b,{currentColor:h||(p?null:c),setColor:v,source:"ButtonColor"})})]})})}),(0,a.jsx)(e8,{label:(0,a.jsx)(M.x6,{id:"cnGeoo"}),icon:L.yLS,onClick:f,colorScheme:"red"})]})};var nk=n(29347),nS=n(23103);let nI="embed-formatting-invalid-error";var nE=n(49146),nR=n(23908),nL=n(36693),nD=n(20061),nM=n(3448),n_=n(33612),nT=n.n(n_);let nN=(e,t)=>{let n=new Set;for(let a of e)if(n.add(a[t]),n.size>1)return!1;return[...n][0]},nz=(e,t,n)=>nN(function(e,t){let n=function(e,t){if("string"==typeof e){if(!t.marks[e])throw Error("There is no mark type named '".concat(e,"'. Maybe you forgot to add the extension?"));return t.marks[e]}return e}(t,e.schema),{from:a,to:i,empty:r}=e.selection,l=[];return r?(e.storedMarks&&l.push(...e.storedMarks),l.push(...e.selection.$head.marks())):e.doc.nodesBetween(a,i,e=>{l.push(...e.marks)}),l.filter(e=>e.type.name===n.name).map(e=>({...e.attrs}))}(e,t),n),nP=e=>{let{editor:t,isLinkText:n,defaultTextColor:a}=e,i=nH(t,a,n),r=nB(t,n),l=n&&t.state.selection.empty,o=(0,d.useCallback)(e=>{l?t.chain().focus().extendMarkRange("link").setHighlightColor(e).setTextSelection({from:t.state.selection.from,to:t.state.selection.to}).run():t.chain().focus().setHighlightColor(e).run()},[t,l]),s=(0,d.useCallback)(e=>{l?t.chain().focus().extendMarkRange("link").setTextColor(e).setTextSelection({from:t.state.selection.from,to:t.state.selection.to}).run():t.chain().focus().setTextColor(e).run()},[t,l]);return{highlightColor:r,resetColorAndHighlight:(0,d.useCallback)(()=>{l?t.chain().focus().extendMarkRange("link").unsetMark("textColor").unsetMark("highlight").setTextSelection({from:t.state.selection.from,to:t.state.selection.to}).run():t.chain().focus().unsetMark("textColor").unsetMark("highlight").run()},[t,l]),setHighlightColor:o,setTextColor:s,textColor:i}},nO=e=>{let{editor:t,defaultTextColor:n,testId:i,disabled:r,useMenuButton:o=!1,isLinkText:s=!1}=e,{textColor:d,highlightColor:c,setHighlightColor:u,setTextColor:p,resetColorAndHighlight:h}=nP({editor:t,isLinkText:s,defaultTextColor:n});return(0,a.jsxs)(S.W,{isLazy:!0,onClose:()=>(0,P.q)(t),children:[o?(0,a.jsx)(nb.v,{color:c.color||d.color||void 0,isDefaultColor:!c.color&&"default"===d.state,disabled:r,"data-testid":i,isMixed:"mixed"===c.state||"mixed"===d.state}):(0,a.jsx)(l.Tz,{placement:"top",label:(0,a.jsx)(M.x6,{id:"76ESgh"}),children:(0,a.jsx)(I.I,{isDisabled:r,as:E.$,variant:"toolbar",rightIcon:(0,a.jsx)(D.g,{icon:L.Jt$,transform:"shrink-6"}),"data-testid":i,onMouseDown:N.Fw,size:"sm",children:(0,a.jsx)(nV,{color:c.color||d.color||void 0})})}),(0,a.jsx)(R.c,{overflow:"hidden",children:(0,a.jsxs)(nE.t,{isFitted:!0,variant:"soft-rounded",size:"md",defaultIndex:+!!c.color,children:[(0,a.jsxs)(nR.w,{children:[(0,a.jsx)(nL.o,{children:(0,a.jsx)(l.Tz,{label:(0,a.jsx)(M.x6,{id:"xeiujy"}),placement:"top",children:(0,a.jsx)(D.g,{icon:L.jrc})})}),(0,a.jsx)(nL.o,{children:(0,a.jsx)(l.Tz,{label:(0,a.jsx)(M.x6,{id:"gtEbeW"}),placement:"top",children:(0,a.jsx)(D.g,{icon:L.nps})})})]}),(0,a.jsxs)(nD.T,{children:[(0,a.jsx)(nM.K,{p:0,pt:2,children:(0,a.jsx)(nv.b,{currentColor:d.color||null,setColor:p,unsetColor:h,source:"TextColor"})}),(0,a.jsx)(nM.K,{p:0,pt:2,children:(0,a.jsx)(nv.b,{currentColor:c.color||"",setColor:u,unsetColor:h,source:"TextHighlight"})})]})]})})]})},nF=e=>{let{from:t}=e.state.selection,n=e.view.domAtPos(t),a=n.node instanceof HTMLElement?n.node:n.node.parentElement;if(!a)return null;let i=getComputedStyle(a).getPropertyValue("color");return i&&"rgba(0, 0, 0, 0)"!==i?nT()(i).toHexString().toUpperCase():null},nH=(e,t,n)=>{let{selection:a,doc:i,schema:r}=e.state,{from:l,to:o}=a,s=n?(0,tV.Cm)(i,l,o,r.marks.highlight):i.rangeHasMark(l,o,r.marks.highlight),d=n?(0,tV.Cm)(i,l,o,r.marks.textColor):i.rangeHasMark(l,o,r.marks.textColor);if(s)return{state:null,color:null};{if(!d)return{state:"default",color:t||nF(e)};let n=nz(e.state,"textColor","hex");return n?{state:null,color:n}:{state:"mixed",color:t||null}}},nB=(e,t)=>{let{selection:n,doc:a,schema:i}=e.state,{from:r,to:l}=n,o=t?(0,tV.Cm)(a,r,l,i.marks.highlight):a.rangeHasMark(r,l,i.marks.highlight);if(t?(0,tV.Cm)(a,r,l,i.marks.textColor):a.rangeHasMark(r,l,i.marks.textColor))return{state:null,color:null};{if(!o)return{state:"default",color:null};let t=nz(e.state,"highlight","hex");return t?{state:null,color:t}:{state:"mixed",color:null}}},nV=e=>{let{color:t,fixedWidth:n,isChecked:i}=e;return(0,a.jsxs)(es.B,{spacing:"2px",children:[(0,a.jsx)(W.E,{children:i?(0,a.jsx)(nu.S,{}):(0,a.jsx)(D.g,{icon:tA.jrc,fixedWidth:n,size:t?"sm":void 0,transform:{y:3*!!t}})}),t&&(0,a.jsx)(e9.s,{w:5,h:1.5,bg:t,borderRadius:"sm",borderWidth:"1px",borderColor:"blackAlpha.400"})]})};var nW=n(44245),nU=n(95889),nG=n(33633),nK=n(83743),nQ=n(24302),nZ=n(77364),nq=n(647),nJ=n(95563),n$=n(83049);let nY=n(27748).o0,nX=nY+100;var n0=n(78686);let n1=e=>{let{searchQuery:t,onChange:n,placeholder:i}=e,r={searchInputBorderColor:(0,nQ.dU)("gray.200","whiteAlpha.200"),searchInputBackgroundColor:(0,nQ.dU)("whiteAlpha.900","blackAlpha.900"),searchInputTextColor:(0,nQ.dU)("gray.800","gray.50"),searchInputCloseColorScheme:(0,nQ.dU)("blackAlpha","gray")};return(0,a.jsxs)(tz.M,{size:"md",children:[(0,a.jsx)(tO.W,{pointerEvents:"none",color:"gray.400",children:(0,a.jsx)(n0.W,{})}),(0,a.jsx)(tP.p,{placeholder:i,value:t,onChange:n,backgroundColor:r.searchInputBackgroundColor,color:r.searchInputTextColor}),t&&(0,a.jsx)(tO.t,{p:4,children:(0,a.jsx)(eI.K,{variant:"ghost",colorScheme:r.searchInputCloseColorScheme,size:"xs","aria-label":_.Ru._({id:"V8yTm6"}),icon:(0,a.jsx)(D.g,{icon:L.Jyw}),onClick:()=>n({target:{value:""}})})})]})};var n2=n(25722),n4=n(55847),n6=n(90278),n5=n(77249),n3=n(86687);let n9=e=>{let{initialFamily:t=null,selectedVariantHash:n=null,editor:a,selectedSmartLayoutPos:i}=e,[r,l]=(0,d.useState)(t),[o,s]=(0,d.useState)(""),[c,u]=(0,d.useState)(null),p=null,h=null,g=null;try{let e=void 0!==i?null==a?void 0:a.state.doc.nodeAt(i):null;g=(h=(p=void 0!==i&&a?(0,v.j5)(a,i):null)?(0,n4.Rv)(p):null)?(0,n6.aG)(null==e?void 0:e.attrs,h.direction):null}catch(e){console.error("[SmartLayout] unable to find decorations at ".concat(i),e.message)}let{isHorizontal:m}=(0,n2.i)(g||{},(null==h?void 0:h.numCells)||0,(null==h?void 0:h.containerSize)||0);(0,d.useEffect)(()=>{if(n){let{key:e}=(0,n5.A)(n),t=(0,n3.ML)().find(t=>t.variants.some(t=>t.variant.key===e));u((null==t?void 0:t.family.key)||null)}},[]);let x=(0,d.useCallback)(e=>{s(e.target.value),e.target.value.trim()&&r&&l(null)},[r]),f=(0,d.useCallback)(e=>e.map(e=>({...e,visible:!r||e.family.key===r})),[r]),b=(0,d.useCallback)(e=>{if(!o.trim())return e.map(e=>({...e,variants:e.variants.map(e=>({...e,options:e.options.map(e=>({...e,visible:!0}))}))}));let t=o.toLowerCase().trim();return e.map(e=>{let n=e.variants.map(n=>({...n,options:n.options.map(a=>({...a,visible:a.name().toLowerCase().includes(t)||n.variant.name().toLowerCase().includes(t)||e.family.name().toLowerCase().includes(t)}))})),a=n.some(e=>e.options.some(e=>e.visible));return{...e,variants:n,visible:a}})},[o]),y=(0,d.useCallback)(e=>e.map(e=>({...e,variants:e.variants.map(e=>({...e,options:e.options.map(e=>({...e,visible:e.visible&&(!e.hideIfVertical||m)}))}))})),[m]),w=(0,d.useCallback)(e=>{if(!c)return e;let t=e.findIndex(e=>e.family.key===c);if(-1===t)return e;let n=e[t],a=[...e];return a.splice(t,1),a.unshift({...n,family:{...n.family,name:()=>_.Ru._({id:"+0acwA"}),icon:L.i7d}}),a},[c]);return{selectedFamilyKey:r,setSelectedFamilyKey:l,searchQuery:o,handleSearchChange:x,filteredVariants:(0,d.useMemo)(()=>{let e=[...(0,n3.ML)()];return w(e=y(e=b(e=f(e))))},[f,b,y,w]),suggestedFamilyKey:c}},n7=d.memo(e=>{var t;let{selectedFamilyKey:n,setSelectedFamilyKey:r,searchQuery:l,handleSearchChange:o,suggestedFamilyKey:s}=e,c={dropdownBgColor:(0,nQ.dU)("blackAlpha.100","whiteAlpha.100"),dropdownBgHoverColor:(0,nQ.dU)("blackAlpha.300","whiteAlpha.300"),dropdownTextColor:(0,nQ.dU)("gray.800","white")},u=(0,d.useMemo)(()=>{let e=[];return(0,n3.ML)().forEach(t=>{t.family.key===s?e.unshift({value:t.family.key,icon:L.i7d,label:_.Ru._({id:"+0acwA"})}):e.push({value:t.family.key,icon:t.family.icon,label:t.family.name()})}),[{value:"",icon:L.Qyz,label:_.Ru._({id:"XbthhE"})},...e]},[s]);return(0,a.jsxs)(e9.s,{px:4,pb:2,direction:"column",gap:2,children:[(0,a.jsx)(i.a,{mb:1,children:(0,a.jsx)(n1,{searchQuery:l,onChange:o,placeholder:_.Ru._({id:"CYJHZl"})})}),(0,a.jsxs)(e9.s,{alignItems:"center",gap:2,children:[(0,a.jsx)(W.E,{fontSize:"xs",mb:1,children:(0,a.jsx)(M.x6,{id:"2BreKV"})}),(0,a.jsxs)(S.W,{children:[(0,a.jsx)(I.I,{as:E.$,display:"flex",rightIcon:(0,a.jsx)(D.g,{icon:L.Jt$}),variant:"unstyled",size:"xs",textAlign:"start",bgColor:c.dropdownBgColor,color:c.dropdownTextColor,borderRadius:"md",px:2,_hover:{bgColor:c.dropdownBgHoverColor},children:s===n?(0,a.jsx)(M.x6,{id:"+0acwA"}):n?null==(t=(0,n3.dQ)()[n])?void 0:t.family.name():(0,a.jsx)(M.x6,{id:"XbthhE"})}),(0,a.jsx)(R.c,{children:(0,a.jsx)(tM.i,{type:"radio",value:n||"",onChange:e=>r(""===e?null:String(e)),children:u.map(e=>(0,a.jsx)(t_.k,{value:e.value,children:(0,a.jsxs)(e9.s,{alignItems:"center",gap:2,children:[(0,a.jsx)(D.g,{icon:e.icon,fixedWidth:!0}),e.label]})},e.value))})})]})]})]})});n7.displayName="FilterControls";let n8=(e,t)=>({...e,...Object.fromEntries(Object.entries(t).filter(n=>{let[a]=n;return null===e[a]||void 0===e[a]||null===t[a]}))}),ae=e=>{let{baseContent:t,variants:n}=e;return(0,K.createDocWithCards)({settings:{cardDimensions:"16x9"}},n.map(e=>{var n,a;return{type:"card",attrs:{id:e.key},content:[{type:"cardLayoutItem",content:[{...t,attrs:{...t.attrs,options:{...null==(n=t.attrs)?void 0:n.options,...e.options},variantKey:e.variantKey},content:(null==(a=e.cellAttrs)?void 0:a.label)&&t.content?t.content.map(t=>"smartLayoutCell"===t.type?{...t,attrs:n8(t.attrs||{},e.cellAttrs||{})}:t):t.content}]}]}}))},at=(e,t,n)=>{try{var a,i;let r=e.chain(),{key:l,options:s}=(0,n5.A)(t);r.updateAttributesAtPos(n,{variantKey:l,options:s});let d=(0,n3.y_)()[t];if(!d)return;let{cellAttrs:c}=d;if(c){let t=e.view.state.doc.nodeAt(n);if(!t)return;(0,o.xe)(t,x.q).forEach(e=>{let t=n+e.pos+1,a=n8(e.node.attrs,c);r.updateNestedAttributesAtPos(t,a)})}let u=null==(i=e.view.state.doc.nodeAt(n))||null==(a=i.attrs)?void 0:a.variantKey;u!==l&&nU.zS.track(nU.VV.SMART_LAYOUT_VARIANT_CHANGED,{previousVariant:u,newVariant:l,method:"variant-panel"}),r.run()}catch(e){console.error("[Smart Layout Variant Panel] Error updating variant",e)}};var an=n(65950),aa=n(58568);let ai=d.memo(e=>{let{item:t,isSelected:n,onClick:i}=e,{ref:r,width:l}=(0,aa.Lh)();return(0,a.jsx)(e9.s,{ref:r,direction:"column",onClick:i,cursor:"pointer",overflow:"hidden",transition:"all 0.2s",color:n?"trueblue.600":"gray.800",bgColor:n?"trueblue.200":"transparent",_hover:{backgroundColor:n?"trueblue.150":"trueblue.100"},position:"relative",w:"100%",px:2,pt:2,pb:1,borderRadius:"md",css:{"--editor-width":"".concat(l&&1!==l?l:173,"px"),"--line-thickness":"1px"},h:"100%",children:(0,a.jsx)(an.N,{cardId:t.key,zoomIn:t.zoomIn,shadow:"md",border:"1px solid",borderColor:"gray.200",borderRadius:"md",minH:"80px",maxH:"100px"})})});ai.displayName="VariantCard";let ar=()=>(0,a.jsx)(e9.s,{direction:"column",w:"100%",gap:1,opacity:.7,px:4,children:Array.from({length:3}).map((e,t)=>(0,a.jsxs)(e9.s,{direction:"column",w:"100%",mb:4,children:[(0,a.jsx)(e9.s,{alignItems:"center",justifyContent:"space-between",mb:2,children:(0,a.jsxs)(e9.s,{px:2,py:1,alignItems:"center",flex:1,children:[(0,a.jsx)(i.a,{as:"span",fontSize:"lg",me:2,children:(0,a.jsx)(i.a,{w:"16px",h:"16px",bg:"gray.200",borderRadius:"sm"})}),(0,a.jsx)(i.a,{w:"120px",h:"20px",bg:"gray.200",borderRadius:"md"})]})}),(0,a.jsx)(nK.r,{columns:2,spacing:4,children:Array.from({length:4}).map((e,t)=>(0,a.jsxs)(e9.s,{direction:"column",overflow:"hidden",h:"100px",position:"relative",children:[(0,a.jsx)(i.a,{flex:1,borderWidth:"1px",borderColor:"gray.200",borderRadius:"md",w:"100%",position:"relative",bg:"gray.50"}),(0,a.jsx)(e9.s,{direction:"row",alignItems:"center",mt:2,children:(0,a.jsx)(i.a,{w:"80px",h:"16px",bg:"gray.200",borderRadius:"md"})})]},t))})]},t))}),al=e=>({visibility:e?"visible":"hidden",height:e?"auto":"0",overflow:"hidden",position:e?"relative":"absolute",pointerEvents:e?"auto":"none","aria-hidden":!e,tabIndex:e?void 0:-1}),ao=Object.assign(e=>{let{selectedSmartLayoutRange:t,closePanel:n,editor:i,node:r}=e;return(0,j.lC)(i,!0),(0,d.useEffect)(()=>{var e;let a=null==i||null==(e=i.state.selection)?void 0:e.from,{from:r,to:l}=t||{};if(!r||!l||!a)return void n();let o=null==i?void 0:i.state.doc.nodeAt(r),s=(null==o?void 0:o.type.name)==="smartLayout";(a===r||a>r&&a<l)&&s||n()},[null==i?void 0:i.state.selection,t,n,null==i?void 0:i.state.doc]),(0,a.jsx)(as,{closePanel:n,selectedSmartLayoutRange:t,editor:i,node:r})},{panelPosition:"right",panelName:"smart-layout-variant",canCollapse:!1,minWidth:400}),as=e=>{let{closePanel:t,selectedSmartLayoutRange:n,editor:i,node:r}=e,[l,o]=(0,d.useState)(null),[s,c]=(0,d.useState)(null);(0,d.useEffect)(()=>{var e,t;if(!n||!n.from)return;let a=r&&(null==r||null==(e=r.attrs)?void 0:e.variantKey)||"",i=r&&(null==r||null==(t=r.attrs)?void 0:t.options)||{};o((0,n5.Z)(a,i)),c(ae({baseContent:null==r?void 0:r.toJSON(),variants:(0,n3.pK)()}))},[]);let u={bgColor:(0,nQ.dU)("white","gray.800"),textColor:(0,nQ.dU)("gray.800","white")},p=(0,d.useCallback)(e=>{i&&n&&n.from&&(o(e),requestAnimationFrame(()=>{n.from&&at(i,e,n.from)}))},[i,n]);return l?(0,a.jsx)(nq.Z,{bgColor:u.bgColor,w:"100%",pt:4,children:(0,a.jsxs)(e9.s,{direction:"column",overflowX:"hidden",w:"100%",h:"100%",children:[(0,a.jsxs)(e9.s,{position:"relative",px:4,children:[(0,a.jsx)(e9.s,{flex:1,children:(0,a.jsx)(nJ.N,{children:(0,a.jsx)(M.x6,{id:"uNnHCK"})})}),(0,a.jsx)(nZ.J,{onClick:t})]}),(0,a.jsx)(ad,{combinedContent:s,savedVariantHash:l,handleSelectVariant:p,editor:i,selectedSmartLayoutPos:null==n?void 0:n.from})]})}):null},ad=d.memo(e=>{let{combinedContent:t,savedVariantHash:n,handleSelectVariant:r,editor:l,selectedSmartLayoutPos:o}=e,{selectedFamilyKey:s,setSelectedFamilyKey:c,searchQuery:u,handleSearchChange:p,filteredVariants:h,suggestedFamilyKey:g}=n9({selectedVariantHash:n,editor:l,selectedSmartLayoutPos:o}),[m,x]=(0,d.useState)(!1),[f,b]=(0,d.useState)(!0);return((0,d.useEffect)(()=>{b(!0);let e=setTimeout(()=>{x(!0)},nY),t=setTimeout(()=>{b(!1)},nX);return()=>{clearTimeout(e),clearTimeout(t)}},[]),t)?(0,a.jsxs)(e9.s,{direction:"column",h:"100%",overflowY:"auto",flex:1,pt:4,children:[(0,a.jsx)(n7,{selectedFamilyKey:s,setSelectedFamilyKey:c,searchQuery:u,handleSearchChange:p,suggestedFamilyKey:g}),f&&(0,a.jsx)(ar,{}),m&&(0,a.jsx)(n$.q,{initialContent:t,children:(0,a.jsx)(e9.s,{direction:"column",w:"100%",gap:1,children:h.map((e,t)=>{let l=e.visible,o=al(l);return(0,a.jsxs)(e9.s,{direction:"column",w:"100%",...o,children:[l&&(0,a.jsx)(e9.s,{alignItems:"center",justifyContent:"space-between",children:(0,a.jsxs)(e9.s,{px:4,py:1,alignItems:"center",flex:1,children:[(0,a.jsx)(i.a,{as:"span",fontSize:"lg",me:2,children:e.family.icon&&(0,a.jsx)(D.g,{icon:e.family.icon,fixedWidth:!0,size:"sm"})}),(0,a.jsx)(W.E,{children:e.family.name()})]})}),(0,a.jsx)(nK.r,{columns:2,gap:1,px:2,pb:2*!!l,...o,children:e.variants.flatMap(e=>e.options.map(e=>{let t=al(l&&e.visible);return(0,a.jsx)(d.Fragment,{children:(0,a.jsx)(i.a,{...t,children:(0,a.jsx)(ai,{item:e,isSelected:n===e.key,onClick:()=>{r(e.key)}})})},e.key)}))})]},t)})})})]}):null});ad.displayName="SmartLayoutVariantList";let ac=()=>{let{togglePanel:e,isPanelOpen:t}=(0,nG.ww)(ao);return{toggleSmartLayoutVariantPanel:e,isSmartLayoutVariantPanelOpen:t}};var au=n(5380),ap=n(22115),ah=n(23144);let ag=e=>{let{variant:t,variantKey:n,updateVariant:i}=e,r=(0,d.useMemo)(()=>{var e;let t=(0,n3.ML)(),r=null==(e=t.find(e=>e.variants.some(e=>e.variant.key===n)))?void 0:e.family.key;return t.map(e=>{let t=r===e.family.key;return{key:"family-".concat(e.family.key),label:e.family.name(),icon:e.family.icon,background:t?"trueblue.50":void 0,items:e.variants.map(e=>{let t=e.variant,r=n===t.key;return{key:"variant-".concat(t.key),label:t.name(),icon:r?(0,a.jsx)(nu.S,{}):(0,a.jsx)(D.g,{fixedWidth:!0,icon:t.icon}),background:r?"trueblue.50":void 0,onClick:()=>i(t.key)}})}})},[n,i]),l=(0,d.useRef)(null),{onContextMenu:o,menuProps:s}=(0,ap.pO)(l);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.$,{variant:"toolbar",rightIcon:(0,a.jsx)(D.g,{icon:L.Jt$,transform:"shrink-6"}),leftIcon:(0,a.jsx)(D.g,{icon:t.icon,fixedWidth:!0}),size:"sm","data-testid":"smart-layout-variant-dropdown",onMouseDown:e=>o(e),ref:l,children:t.name()}),(0,a.jsx)(ap.tz,{...s,menuItems:r,size:"small"})]})};var am=n(39078),ax=n(35616),af=n(56124),ab=n(12514);let av=e=>{let{editor:t,testId:n,disabled:i,icon:r,label:o}=e,s=tr.gj.map(e=>{let{key:n,name:i,shortcut:r,icon:l,checkActive:o,apply:s}=e;return(0,a.jsx)(O.I,{icon:l,label:i(),onClick:()=>null==s?void 0:s(t),isActive:null==o?void 0:o(t),testId:n,shortcut:r},n)});return t.shouldUseLiteMenus?(0,a.jsx)(k.e,{spacing:0,children:s}):(0,a.jsxs)(S.W,{isLazy:!0,onClose:()=>(0,P.q)(t),children:[(0,a.jsx)(l.Tz,{placement:"top",label:o,children:(0,a.jsx)(I.I,{isDisabled:i,as:E.$,variant:"toolbar","data-testid":n,onMouseDown:N.Fw,rightIcon:(0,a.jsx)(D.g,{icon:L.Jt$,transform:"shrink-6"}),children:r&&(0,a.jsx)(D.g,{icon:r})})}),(0,a.jsx)(ab.Z,{children:(0,a.jsx)(R.c,{minW:"auto",zIndex:"modalPopover",dir:"ltr",children:s})})]})};var ay=n(83550),aw=n(82172),aC=n(11215),aA=n(76083);let aj=()=>({list:{label:_.Ru._({id:"Ci8I/9"})},wrap:{label:_.Ru._({id:"T4+jD7"})}}),ak=()=>{let e=(0,aA.Vo)();return[{key:"toggle",name:()=>_.Ru._({id:"JFciKP"}),icon:L.ijD,node:"toggle",description:()=>_.Ru._({id:"rhfAX6"}),apply:t=>{(0,aA.Jb)(e.toggle,nU.oU.FORMATTING_MENU),t.chain().wrapWithToggle().run()},group:"wrap"},{key:"convertToNestedCard",name:()=>_.Ru._({id:"lOmsEK"}),node:"card",description:()=>_.Ru._({id:"gRMoQV"}),icon:L.ViY,apply:t=>{(0,aA.Jb)(e.insertCardInside,nU.oU.FORMATTING_MENU),t.chain().convertToNestedCard().run()},checkDisabled:e=>!e.schema.nodes.card||!(0,tV.pO)(e,"card"),group:"wrap"},{key:"blockquote",name:()=>_.Ru._({id:"OLMhPm"}),node:"blockquote",description:()=>_.Ru._({id:"2yuhT7"}),icon:L.R9H,shortcut:"> Quote",apply:e=>e.chain().wrapWithAnnotations("blockquote").run(),checkDisabled:e=>!(0,tV.pO)(e,"blockquote"),group:"wrap"},{key:"calloutBox",name:()=>_.Ru._({id:"1E4ojF"}),node:"calloutBox",description:()=>_.Ru._({id:"4Wf98Z"}),icon:L.iW_,apply:e=>e.chain().wrapWithAnnotations("calloutBox",{variant:"info"}).run(),checkDisabled:e=>!(0,tV.pO)(e,"calloutBox"),group:"wrap"},{key:"listToCards",name:()=>_.Ru._({id:"FJ18tL"}),icon:L.vGi,description:()=>_.Ru._({id:"hWesxP"}),group:"list",apply:e=>e.commands.listToCards(),checkDisabled:e=>!(0,aw.Jx)(e)},...(0,aC.P3)()]};var aS=n(80116),aI=n(67864),aE=n(71737),aR=n(42644),aL=n(55786),aD=n(43944),aM=n(91656);let a_=[[{key:"textColor",name:()=>_.Ru._({id:"MapzEo"}),icon:L.jrc,shortcut:"Mod+Shift+H",enabledForTables:!0,checkDisabled:aE.NO}],[{key:"bold",name:()=>_.Ru._({id:"KmydK6"}),mark:"bold",icon:tA.l5I,shortcut:"Mod+B",enabledForTables:!0},{key:"italic",name:()=>_.Ru._({id:"pzutoc"}),mark:"italic",icon:L.SIw,shortcut:"Mod+I",enabledForTables:!0},{key:"underline",name:()=>_.Ru._({id:"YyXtnN"}),mark:"underline",icon:L.chs,shortcut:"Mod+U",enabledForTables:!0},{key:"strike",name:()=>_.Ru._({id:"WhOsNE"}),mark:"strike",icon:L.$6A,shortcut:"Mod+Shift+X",enabledForTables:!0},{key:"code",name:()=>_.Ru._({id:"EWPtMO"}),mark:"code",icon:L.jTw,shortcut:"Mod+Shift+C"},{key:"math",name:()=>_.Ru._({id:"l8rp1O"}),apply:e=>e.commands.convertToMathInline(),icon:L.Dkf,featureFlag:"math",shortcut:"$$",checkDisabled:()=>!0},{key:"removeFormatting",name:()=>_.Ru._({id:"bj5jMy"}),icon:L.Dkb,apply:e=>e.chain().unsetAllMarks().focus().run(),enabledForTables:!0}],[{key:"link",name:()=>_.Ru._({id:"yzF66j"}),mark:"link",icon:L.CQO,shortcut:"Mod+K"},{key:"footnote",name:()=>_.Ru._({id:"ONAJuB"}),icon:L.sxe,apply:e=>{(0,aL.J)((0,aR.Vo)().footnote,nU.oU.FORMATTING_MENU),e.chain().toggleFootnote().run()},checkActive:e=>e.isActive("footnoteLabel"),shortcut:"Mod+Alt+F",checkDisabled:e=>(0,tk.Q)(e)||!(0,tV.pO)(e,"footnote")||(0,aE.NO)(e)}],[{key:"numbered",name:()=>_.Ru._({id:"M3G9ZD"}),icon:L.Tsj,node:"numbered",checkActive:e=>(0,aD.Lf)(e,aM.e.Numbered),shortcut:"Mod+/ or Mod+Shift+7",apply:e=>e.chain().toggleListItems({variant:aM.e.Numbered}).focus().run()},{key:"bullet",name:()=>_.Ru._({id:"ynb7Kh"}),icon:L.pch,node:"bullet",checkActive:e=>(0,aD.Lf)(e,aM.e.Bullet),apply:e=>e.chain().toggleListItems({variant:aM.e.Bullet}).focus().run(),shortcut:"Mod+. or Mod+Shift+8"},{key:"todo",name:()=>_.Ru._({id:"rCIbrq"}),icon:L.AgW,node:"todo",checkActive:e=>(0,aD.Lf)(e,aM.e.Todo),shortcut:"Mod+, or Mod+Shift+9",apply:e=>{let{from:t,to:n}=e.state.selection;e.chain().toggleListItems({variant:aM.e.Todo}).run(),requestAnimationFrame(()=>e.chain().focus().setTextSelection({from:t,to:n}).run())}}],[{key:"alignText",name:()=>_.Ru._({id:"6Hkcin"}),icon:L.ecg,enabledForTables:!0}],[{key:"convertText",name:()=>_.Ru._({id:"cXIM1U"}),checkDisabled:e=>!!e.shouldUseLiteMenus,icon:L.VH5},{key:"rewriteText",name:()=>_.Ru._({id:"C4t1b/"}),icon:tA.p7g,checkDisabled:e=>!!e.shouldUseLiteMenus,featureFlag:"aiRewrite",needsConnection:!0},{key:"visualizeText",name:()=>_.Ru._({id:"vzQMNK"}),icon:L.Gmj,apply:e=>{let{from:t,to:n}=e.state.selection,a=e.state.doc.slice(t,n),i=(0,aS.KC)(e,a.content).trim();i&&e.chain().setTextSelection(n).insertSmartDiagram({attrs:{},selectedText:i}).run()},checkDisabled:e=>{if(e.shouldUseLiteMenus)return!0;let{from:t,to:n}=e.state.selection;return 0===e.state.doc.textBetween(t,n).trim().length},featureFlag:"visualizeText",needsConnection:!0}],[{key:"comment",name:()=>_.Ru._({id:"oFsfkI"}),icon:L.DN2,checkDisabled:e=>(0,tk.Q)(e)||(0,aE.NO)(e)||!!e.shouldUseLiteMenus,needsConnection:!0,apply:e=>{let{selection:t}=e.state,{from:n,to:a}=t,[i]=(0,tV.TK)(e.state.doc.resolve(n),(e,t)=>(0,aI.cE)(t));if(!i)return void console.warn("[TEXT_FORMATTING_COMMANDS] Add comment - Unable to find annotatable parent for this selection");let r=(0,tV.r$)(e.state.doc,n,a,e=>"footnote"!==e.type.name&&"cardNotes"!==e.type.name,"__BLOCK_SEPARATOR_PLACEHOLDER").split("__BLOCK_SEPARATOR_PLACEHOLDER").join("<br /><br />");ew.LF.emit(ew.DN.CREATE_COMMENT_FROM_SELECTION,{selectionPos:n,parentPos:i.pos,text:r})}}]],aT=function(e,t){var n;let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!(t.needsConnection&&a||t.featureFlag&&!$.of.get(t.featureFlag)||(null==(n=t.checkDisabled)?void 0:n.call(t,e)))||(t.node?!(0,tV.aq)(e,t.node):!!t.mark&&!(0,tV.Au)(e,t.mark))},aN=e=>{let{editor:t,testId:n,disabled:i,icon:r,label:o}=e,{isInOfflineMode:s}=(0,q.u)(),d=ak().filter(e=>e.apply&&!aT(t,e,s));return 0===d.length?null:(0,a.jsxs)(S.W,{isLazy:!0,onClose:()=>(0,P.q)(t),children:[(0,a.jsx)(l.Tz,{placement:"top",label:o,children:(0,a.jsx)(I.I,{isDisabled:i,as:E.$,variant:"toolbar","data-testid":n,onMouseDown:N.Fw,rightIcon:(0,a.jsx)(D.g,{icon:L.Jt$,transform:"shrink-6"}),children:r&&(0,a.jsx)(D.g,{icon:r})})}),(0,a.jsx)(ab.Z,{children:(0,a.jsx)(R.c,{maxH:"min(25em, 45vh)",overflowY:"auto",maxW:"400px",children:Object.entries(aj()).map(e=>{let[n,{label:i}]=e,r=d.filter(e=>e.group===n);return 0===r.length?null:(0,a.jsx)(ay.r,{title:i,children:r.map(e=>{let{key:n,icon:i,name:r,description:l,apply:o}=e;return(0,a.jsxs)(nn.D,{value:n,icon:(0,a.jsx)(D.g,{icon:i,fixedWidth:!0}),onClick:()=>o(t),"data-testid":"text-convert-menu-".concat(n),children:[(0,a.jsx)(W.E,{children:r()}),l&&(0,a.jsx)(W.E,{color:"gray.400",fontSize:"sm",children:l()})]},n)})},n)})})})]})};var az=n(13731),aP=n.n(az);let aO=()=>({rephrase:{label:_.Ru._({id:"bKWhYP"})},visualize:{label:_.Ru._({id:"6n7jtr"})},reformat:{label:_.Ru._({id:"ILEG4I"})}}),aF=[{key:"rephrase.better",type:"rephrase",name:()=>_.Ru._({id:"24nR0A"}),icon:L.DKF,featureFlag:"aiRewrite",description:()=>_.Ru._({id:"8KfRLQ"}),apply:e=>{if($.of.get("buddyEdit")){let{from:t,to:n}=e.state.selection,a=e.state.doc.textBetween(t,n);ew.LF.emit("queueBuddyEditMessage",{message:_.Ru._({id:"Us1RzN",values:{plainText:a}})})}else ew.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"b5W83S"})})}},{key:"rephrase.expand",type:"rephrase",name:()=>_.Ru._({id:"XhF4Jp"}),icon:L.t6y,description:()=>_.Ru._({id:"fB02Qr"}),apply:e=>{if($.of.get("buddyEdit")){let{from:t,to:n}=e.state.selection,a=e.state.doc.textBetween(t,n);ew.LF.emit("queueBuddyEditMessage",{message:_.Ru._({id:"SnevVr",values:{plainText:a}})})}else ew.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"OXmWnl"})})},featureFlag:"aiRewrite"},{key:"rephrase.condense",type:"rephrase",name:()=>_.Ru._({id:"g/NDyG"}),icon:L.nr0,description:()=>_.Ru._({id:"Yrd0bz"}),apply:e=>{if($.of.get("buddyEdit")){let{from:t,to:n}=e.state.selection,a=e.state.doc.textBetween(t,n);ew.LF.emit("queueBuddyEditMessage",{message:_.Ru._({id:"4oqnEl",values:{plainText:a}})})}else ew.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"jBaWwf"})})},featureFlag:"aiRewrite"},{key:"visualize.keypoints",type:"visualize",name:()=>_.Ru._({id:"n+v3I1"}),description:()=>_.Ru._({id:"E9axcX"}),icon:L.bef,node:"smartLayout",checkDisabled:e=>$.of.get("buddyEdit"),apply:()=>{ew.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"bXgpVx"})})}},{key:"visualize.images",type:"visualize",name:()=>_.Ru._({id:"laUyeH"}),description:()=>_.Ru._({id:"ADlAam"}),icon:L.yvG,checkDisabled:e=>$.of.get("buddyEdit"),apply:()=>{ew.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"p2oHY3"})})}},{key:"visualize.timeline",type:"visualize",name:()=>_.Ru._({id:"Oh+9k8"}),description:()=>_.Ru._({id:"Qx1qQH"}),icon:L.v6v,checkDisabled:e=>$.of.get("buddyEdit"),apply:()=>{ew.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"4ReFRy"})})}},{key:"reformat.columns",type:"reformat",name:()=>_.Ru._({id:"KyPPwt"}),description:()=>_.Ru._({id:"52Y/fs"}),icon:L.fq7,node:"gridLayout",checkDisabled:e=>$.of.get("buddyEdit"),apply:()=>{ew.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"Y0UR8y"})})}},{key:"reformat.table",type:"reformat",name:()=>_.Ru._({id:"84sVti"}),description:()=>_.Ru._({id:"CxvNve"}),icon:L.w97,node:"table",checkDisabled:e=>$.of.get("buddyEdit"),apply:()=>{ew.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"rU0fs4"})})}},{key:"reformat.toggles",type:"reformat",name:()=>_.Ru._({id:"aRUmvo"}),icon:L.Ke8,node:"toggle",description:()=>_.Ru._({id:"914Ln8"}),checkDisabled:e=>$.of.get("buddyEdit"),apply:()=>{ew.LF.emit("queueDesignPartnerTask",{message:_.Ru._({id:"rivjMe"})})}}],aH=()=>Object.entries(aP()(aF,"type")),aB=e=>{let{editor:t,testId:n,disabled:i,icon:r,label:o}=e,s=(0,V.d)(),{isInOfflineMode:d}=(0,q.u)();return(0,a.jsxs)(S.W,{isLazy:!0,onClose:()=>(0,P.q)(t),children:[(0,a.jsx)(l.Tz,{placement:"top",label:o,children:(0,a.jsx)(I.I,{isDisabled:i,as:E.$,variant:"toolbar","data-testid":n,onMouseDown:N.Fw,color:"trueblue.500",rightIcon:(0,a.jsx)(D.g,{icon:L.Jt$,transform:"shrink-6"}),children:r&&(0,a.jsx)(D.g,{icon:r})})}),(0,a.jsx)(ab.Z,{children:(0,a.jsx)(R.c,{maxH:"min(25em, 45vh)",overflowY:"auto",maxW:"450px",children:aH().map(e=>{let[n,i]=e,{label:r,featureFlag:l}=aO()[n];if(l&&!$.of.get(l))return;let o=i.map(e=>{if(!(!e.apply||aT(t,e,d)))return(0,a.jsxs)(nn.D,{value:e.key,icon:(0,a.jsx)(D.g,{icon:e.icon,fixedWidth:!0}),onClick:()=>aV(e,t,s),children:[(0,a.jsx)(W.E,{children:e.name()}),e.description&&(0,a.jsx)(W.E,{color:"gray.400",fontSize:"sm",children:e.description()})]},e.key)}).filter(Boolean);return o.length?(0,a.jsx)(ay.r,{title:r,children:o},n):null})})})]})},aV=(e,t,n)=>{let{apply:i}=e;if(!i)return;let l=i(t);if(!l)return;let o=n({position:"top",isClosable:!1,duration:null,status:"loading",colorScheme:"gray",variant:"subtle",title:(0,a.jsx)(M.x6,{id:"j4ZLea"})});l.then(()=>{n.close(o);let e=n({title:(0,a.jsxs)(r.z,{children:[(0,a.jsxs)(W.E,{noOfLines:1,children:[(0,a.jsx)(M.x6,{id:"hAmdL3"})," "]}),(0,a.jsx)(U.N,{textDecoration:"underline",onClick:()=>{(0,G.tN)(t.state),n.close(e)},children:(0,a.jsx)(M.x6,{id:"9uI/rE"})})]}),status:"success",duration:3e3,position:"top"})}).catch(e=>{n.close(o),n({title:(0,a.jsx)(M.x6,{id:"mTQLsL"}),description:e.message,status:"error",duration:3e3,position:"top"})})};var aW=n(6760),aU=n(404),aG=n(92699),aK=n(17406),aQ=n(12117),aZ=n(80274);let aq=(e,t)=>!!t&&(e||!t.startsWith("/")),aJ=e=>{let{editor:t}=e,{isInOfflineMode:n}=(0,q.u)(),i=(0,u.GV)(b.SJ),{bodyFont:l,headingFont:o}=i,s=e=>{t.chain().focus().setFontSize(e).run()},c=(0,tV.zi)(t,"heading"),p=(0,tV.zi)(t,"title"),h=(0,tV.zi)(t,"body"),g=(0,d.useCallback)(()=>{i.workspaceId?(0,aG.vd)({theme:i}):(0,aG.L6)({theme:i})},[i]);if(!h&&!c&&!p)return null;let m=(0,aQ.Xw)(t),x="default",f=(0,aZ.o)("default");x=t.isActive("title")?(0,aZ.bn)(t.getAttributes("title").level)||"default":t.isActive("heading")?(0,aZ.bZ)(t.getAttributes("heading").level)||"default":1===m.length&&m[0]||"default",f=(0,aZ.o)(x)||f;let v=e=>"".concat(Math.sqrt(e),"em"),y=(0,aE.NO)(t),w=!!t.extensionManager.extensions.find(e=>"slashMenu"===e.name);return(0,a.jsxs)(S.W,{closeOnSelect:!0,isLazy:!0,children:[(0,a.jsx)(I.I,{size:"sm",as:E.$,rightIcon:(0,a.jsx)(D.g,{icon:L.Jt$,transform:"shrink-6"}),variant:"toolbar",pl:2,children:f.label}),(0,a.jsxs)(R.c,{maxH:"min(60em, 45vh)",overflowY:"auto",minW:"260px",children:[h&&(0,a.jsx)(tM.i,{type:"radio",value:x,children:(0,aK.QD)().filter(e=>{let[t]=e;return!(y&&"default"!==t)}).map(e=>{let[t,{label:n,size:i,flagged:o,shortcut:d}]=e,c=aq(w,d);return(0,a.jsx)(t_.k,{value:t,onClick:()=>s(t),children:(0,a.jsxs)(r.z,{children:[(0,a.jsx)(W.E,{fontFamily:l,fontSize:v(i),children:n}),c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ts.h,{}),(0,a.jsx)(W.E,{color:"gray.400",children:d})]})]})},t)})}),c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(aW.N,{}),(0,a.jsx)(tM.i,{type:"radio",value:x,children:(0,aK.KG)().reverse().map(e=>{let[t,{label:n,size:i,shortcut:l}]=e,d=aq(w,l);return(0,a.jsx)(t_.k,{value:t,onClick:()=>s(t),children:(0,a.jsxs)(r.z,{children:[(0,a.jsx)(W.E,{fontSize:v(i),fontWeight:"bold",fontFamily:o,children:n}),d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ts.h,{}),(0,a.jsx)(W.E,{color:"gray.400",children:l})]})]})},t)})})]}),p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(aW.N,{}),(0,a.jsx)(tM.i,{type:"radio",value:x,children:(0,aK.Y5)().map(e=>{let[t,{label:n,size:i,shortcut:l}]=e,d=aq(w,l);return(0,a.jsx)(t_.k,{value:t,onClick:()=>s(t),children:(0,a.jsxs)(r.z,{children:[(0,a.jsx)(W.E,{fontSize:v(i),fontWeight:"bold",fontFamily:o,children:n}),d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ts.h,{}),(0,a.jsx)(W.E,{color:"gray.400",children:l})]})]})},t)})})]}),(0,a.jsx)(aU.N,{label:(0,a.jsx)(M.x6,{id:"gJpKw8"}),leftIcon:(0,a.jsx)(D.g,{icon:L.tiU,fixedWidth:!0}),onClick:g,isDisabled:n})]})]})},a$=e=>{let{editor:t,filterBy:n}=e,{isInOfflineMode:i}=(0,q.u)(),l="rtl"===(0,tr.CY)(t)?"alignRight":"alignLeft",o=()=>{let e=tr.gj.find(e=>e.alignment===(0,tr.F0)(t));if(e)return e.icon;let n=tr.gj.find(e=>e.key===l);return(null==n?void 0:n.icon)||L.ecg};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.e,{isAttached:!0,onMouseDown:N.Fw,children:(0,a.jsx)(aJ,{editor:t})},"text"),a_.map((e,l)=>(0,a.jsx)(k.e,{spacing:0,size:"sm",onMouseDown:N.Fw,_empty:{display:"none"},children:e.filter(e=>{let a=!aT(t,e,i);return n?a&&e[n]:a}).map(e=>{let{key:n,name:i,shortcut:l,icon:s,mark:d,node:c,checkActive:u,apply:p}=e,h=p||(d?e=>e.chain().toggleMark(d).focus().run():()=>{}),g=u?u(t):d?t.isActive(d):c?t.isActive(c):void 0;if("textColor"===n)return(0,a.jsx)(nO,{shortcut:l,icon:s,editor:t},n);if("rewriteText"===n)return(0,a.jsx)(aB,{editor:t,shortcut:l,icon:s,testId:n,label:i()},n);if("convertText"===n)return(0,a.jsx)(aN,{editor:t,shortcut:l,icon:s,testId:n,label:i()},n);if("alignText"===n)return(0,a.jsx)(av,{editor:t,shortcut:l,icon:o(),testId:n,label:i()},n);if("visualizeText"===n)return(0,a.jsx)(E.$,{variant:"toolbar",isActive:g,onClick:()=>h(t),children:(0,a.jsxs)(r.z,{spacing:1,alignItems:"center",justifyContent:"center",children:[(0,a.jsx)(D.g,{icon:s}),(0,a.jsx)(W.E,{children:i()})]})},n);else return(0,a.jsx)(O.I,{label:i(),shortcut:l,isActive:g,onClick:()=>h(t),icon:s,testId:n},n)})},l))]})};var aY=function(e){return e.enabledForTables="enabledForTables",e}({});let aX=e=>{let{editor:t,selection:n}=e,i=n.isRowSelection(),l=n.isColSelection(),d=i&&l,c=(0,o.KP)(af.hj)(n);c&&s.nh.create(t.state.doc,null==c?void 0:c.pos);let u=Math.min(n.$anchorCell.pos,n.$headCell.pos),p=Math.max(n.$anchorCell.pos,n.$headCell.pos),{colMinPercent:h,newColSize:g}=t.schema.nodes[ax.X.name].spec,m=n.getTableNode(),x=(0,am.cG)(m.attrs.colWidths,g,h);return(0,a.jsxs)(r.z,{spacing:1,children:[(0,a.jsx)(a$,{editor:t,filterBy:aY.enabledForTables}),(0,a.jsx)(z.q,{}),i&&!d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"1ct6G/"}),onClick:()=>{t.commands.addRowBefore(),requestAnimationFrame(()=>{t.commands.focus(u)})},testId:"add-row-before-button",children:(0,a.jsx)(D.g,{icon:L.UiS})}),(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"JUmxSq"}),onClick:()=>{t.commands.addRowAfter(),requestAnimationFrame(()=>{t.chain().focus(p).goToNextCell().run()})},testId:"add-row-after-button",children:(0,a.jsx)(D.g,{icon:L.UiS,rotation:180})}),(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"0cspe/"}),icon:L.yLS,onClick:()=>t.chain().focus().deleteRow().run(),color:"red.500",testId:"delete-row-button"})]}),l&&!d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"mwcRkO"}),onClick:()=>{let{left:e}=(0,f._t)(t.state.selection);t.commands.addColumnBefore(e),requestAnimationFrame(()=>{t.commands.focus(u)})},isDisabled:!x,testId:"add-col-before-button",children:(0,a.jsx)(D.g,{icon:L.UiS,rotation:270})}),(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"/93cy4"}),onClick:()=>{let{left:e}=(0,f._t)(t.state.selection);t.commands.addColumnAfter(e),requestAnimationFrame(()=>{t.chain().focus(u).goToNextCell().run()})},isDisabled:!x,testId:"add-col-after-button",children:(0,a.jsx)(D.g,{icon:L.UiS,rotation:90})}),(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"GAohqx"}),icon:L.yLS,onClick:()=>{t.commands.deleteColumn(),requestAnimationFrame(()=>{t.commands.focus(u)})},color:"red.500",testId:"delete-col-button"})]}),d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"SOkhdm"}),icon:L.yC$,onClick:()=>t.commands.equalizeColumns(),testId:"equalize-columns-button"}),(0,a.jsx)(z.q,{}),(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"HSI88F"}),icon:L.yLS,onClick:()=>t.chain().focus().deleteTable().run(),color:"red.500",testId:"delete-table-button"})]})]})},a0=[{component:aX,predicate:e=>e instanceof f.rn&&e.isColSelection(),offsetPx:16},{component:aX,predicate:e=>e instanceof f.rn&&e.isRowSelection(),offsetPx:12},{component:e=>{let{editor:t,selection:n}=e,i=(0,u.GV)(b.SJ),r=n.node,l=(0,e6.Ik)((0,e6.VH)(i));return r?(0,a.jsx)(e5.z,{attributes:r.attrs,updateAttributes:e=>{t.chain().updateAttributes("chart",e).focus().run()},accentColor:l,setEditing:()=>{t.commands.editSelectedChart()},editor:t,inline:!0}):null},predicate:e=>{var t,n;return e instanceof s.nh&&(null==(n=e.node)||null==(t=n.type)?void 0:t.name)==="chart"},isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,i=(0,u.GV)(b.SJ),r=t.getAttributes("link").href||"",l=!t.shouldUseLiteMenus,{isPageLink:o}=t7({href:r}),s=(0,e6.Ik)((0,e6.Jh)(i)),c=(0,d.useCallback)(e=>{t.commands.updateSurroundingLink(e)},[t]),p=(0,tL.f)(),h=(0,d.useCallback)(e=>{t.view.focus(),p({isOpen:!0}),e.stopPropagation()},[t,p]);return(0,a.jsxs)(tt,{children:[l&&r&&!(0,tB.hc)(r)&&(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"/SVg/B"}),icon:L.CQO,children:(0,a.jsx)(nA,{editor:t,selection:n,isDisabled:o})}),(0,a.jsx)(nt,{href:r,updateHref:c,clearHref:()=>{t.commands.updateSurroundingLink("")},removeLink:()=>t.commands.removeSurroundingLink(),editor:t}),l&&(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"0j+RGO"}),icon:L.ecg,children:(0,a.jsx)(k.e,{dir:"ltr",spacing:0,size:"sm",onMouseDown:N.Fw,children:tr.gj.map(e=>{let{name:n,key:i,icon:r,shortcut:l,checkActive:o,apply:s}=e;if(o&&s)return(0,a.jsx)(O.I,{label:n(),shortcut:l,isActive:o(t),onClick:()=>{s(t)},icon:r,testId:i,my:0},i)})})}),l&&(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"jZlrte"}),icon:L.wIs,children:(0,a.jsx)(nO,{editor:t,useMenuButton:!0,isLinkText:!0,defaultTextColor:s})}),l&&!(0,tB.hc)(r)&&(0,a.jsx)(e8,{label:(0,a.jsx)(M.x6,{id:"sxkWRg"}),onClick:h,icon:L.BH7})]})},predicate:(e,t)=>e instanceof s.U3&&t.isActive("link"),isPopover:!0},{component:nj,predicate:(e,t)=>t.isActive("button")&&!t.isSiteNavbarEditor,isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,{node:i,from:r}=n,l=e=>!!i&&JSON.stringify(e)===JSON.stringify(i.attrs.colWidths),{verticalAlign:o}=t.getAttributes("gridCell"),s=(0,d.useCallback)(e=>{t.chain().updateAttributes("gridCell",{verticalAlign:e===o?null:e}).selectNodeAtPos(n.from).focus().run()},[t,n,o]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(k.e,{spacing:1,size:"sm",alignItems:"center",children:[(0,a.jsxs)(tD.ms,{isLazy:!0,children:[(0,a.jsx)(tD.gf,{as:E.$,variant:"toolbar",rightIcon:(0,a.jsx)(D.g,{icon:L.Jt$}),size:"sm","data-testid":"layout-preset-dropdown",children:(0,a.jsx)(M.x6,{id:"6v+N4U",values:{0:i.childCount}})}),(0,a.jsx)(tD.Q5,{"data-in-editor-focus":!0,fontSize:"md",children:nf().map(e=>{let{testId:n,name:i,image:o,value:s}=e;return(0,a.jsx)(tD.tJ,{"data-testid":n,icon:l(s)?(0,a.jsx)(nu.S,{w:"2rem"}):(0,a.jsx)(eV._,{h:"1rem",w:"2rem",objectFit:"cover",src:o.src}),onClick:()=>{r&&t.commands.useLayoutPreset(r,s)},children:i},i)})})]}),(0,a.jsx)(O.I,{onClick:()=>s("start"),isActive:"start"===o,label:_.Ru._({id:"/Q0jUh"}),children:(0,a.jsx)(no.a_t,{})}),(0,a.jsx)(O.I,{onClick:()=>s("center"),isActive:"center"===o,label:_.Ru._({id:"QhuQN2"}),children:(0,a.jsx)(no.o9M,{})}),(0,a.jsx)(O.I,{onClick:()=>s("end"),isActive:"end"===o,label:_.Ru._({id:"EPnxoe"}),children:(0,a.jsx)(no.Awj,{})}),(0,a.jsx)(z.q,{}),(0,a.jsx)(B.G,{editor:t})]})})},predicate:e=>e instanceof s.nh&&(0,h.X6)(e.node)},{component:e=>{let{editor:t,selection:n,decorations:i}=e,{isInOfflineMode:l}=(0,q.u)(),{node:o,from:s}=n,{attrs:c,isNested:u,isFirstCard:p}=(0,X.f)({node:o,decorations:i,editor:t}),{isOpen:h,onOpen:g,onClose:m}=(0,Y.E)({id:"downloadCardAsImageDisclosure"}),x=(0,d.useCallback)(()=>{null==t||t.commands.duplicateCard(s)},[t,s]),f=(0,d.useCallback)(()=>{null==t||t.commands.unnestCard(s)},[t,s]),b=(0,d.useCallback)(()=>{null==t||t.chain().mergeCardsAtPos(s).focus().run()},[t,s]),v=(0,V.d)(),y=(0,d.useCallback)(()=>{let e=t.state.doc.nodeAt(s),n=e&&(0,K.getCardTitle)(e.toJSON());t.chain().deleteCard(s).focus().run();let i=_.Ru._({id:"0MWv65",values:{displayTitle:n?'"'.concat(n,'"'):"card"}}),l=_.Ru._({id:"9uI/rE"}),o=v({title:(0,a.jsxs)(r.z,{children:[(0,a.jsx)(W.E,{noOfLines:1,children:i}),(0,a.jsx)(U.N,{textDecoration:"underline",onClick:()=>{(0,G.tN)(t.state),v.close(o)},children:l})]}),status:"info",duration:3e3,position:"top"})},[t,s,v]),w=(0,$.u)("aiCardDesigner"),C=(0,d.useCallback)(()=>{var e;let t=null==(e=n.node)?void 0:e.attrs.id;if(!t)return;let a=prompt("What do you want to change?",Z.s);a&&Q.R.emit("openSuggestionEditor",{cardId:t,userMessage:a})},[n]),A=(0,$.u)("copyCardsToDeck"),j=(0,J.T)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(k.e,{spacing:1,size:"sm",alignItems:"center",children:[(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"BTDPLo"}),testId:"duplicate-card",onClick:x,icon:L.$3n}),u&&(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"b+J8Wt"}),testId:"merge-into-parent-card",onClick:f,icon:L.ndq}),!u&&!p&&(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"kV34zB"}),testId:"merge-into-card-above",onClick:b,icon:L.INu}),w&&(0,a.jsx)(O.I,{onClick:C,icon:L.ESE,label:"Design with AI"}),(0,a.jsx)(eS.g,{attrs:c}),A&&(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"IAsTWw"}),onClick:()=>j([o]),icon:L.Rvk,flipIcon:"horizontal",isDisabled:l}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"xRJ+bN"}),testId:"download-card",onClick:g,icon:L.a_I,isDisabled:l}),(0,a.jsx)(ek,{onOpen:g,isOpen:h,onClose:m,cardId:c.id,editor:t})]}),(0,a.jsx)(B.G,{editor:t,handleDelete:y})]})})},predicate:e=>e instanceof s.nh&&(0,v.jg)(e.node),offsetPx:0},{component:e=>{var t;let{editor:n,selection:i,decorations:r}=e,{node:s,from:d}=i,c=(0,eM.Bn)(r),u=s.attrs,p=(0,eD.jh)(u,null==c?void 0:c.layout),h=(0,eD.JH)(u,null==c?void 0:c.layout),g=(null==(t=u.background)?void 0:t.type)===e_.h.IMAGE,m=(0,eE.l)(u.background.image),x=(0,o.eL)(n.state.doc.resolve(d),v.jg),f=s.attrs.background.type===e_.h.IMAGE&&u.background.image&&!(0,eT.v7)(u.background.image.src);return(0,a.jsx)(k.e,{spacing:1,size:"sm",alignItems:"center",children:"accent"===u.itemId&&(0,a.jsxs)(a.Fragment,{children:[h&&(0,a.jsx)(eN,{editor:n,selection:i,decorations:r}),f&&(0,a.jsx)(e2,{editor:n,pos:d,node:s,isDisabled:"fit"===p}),(h||f)&&(0,a.jsx)(z.q,{}),g&&u.background.image&&(m?(0,a.jsx)(eR.a,{attrs:u.background.image,editor:n,variant:"toolbar",size:"sm"}):(0,a.jsx)(e4.g,{editor:n,selection:i,decorations:r})),(0,a.jsx)(l.Tz,{label:g?(0,a.jsx)(M.x6,{id:"XQFMOm"}):(0,a.jsx)(M.x6,{id:"P5MuiB"}),placement:"top",children:(0,a.jsx)(eI.K,{onClick:()=>{let e=null==x?void 0:x.node.attrs.id;e&&eL.R.emit("toggleEditBackgroundDrawer",{openDrawer:!0,cardId:e})},variant:"toolbar",size:"sm",icon:(0,a.jsx)(D.g,{icon:L.MT7}),boxSize:7,p:0,"aria-label":g?_.Ru._({id:"Ov693i"}):_.Ru._({id:"B6vyEa"})})}),(0,a.jsx)(z.q,{}),(0,a.jsx)(l.Tz,{label:g?(0,a.jsx)(M.x6,{id:"sGYCGx"}):(0,a.jsx)(M.x6,{id:"6vLq+T"}),placement:"top",children:(0,a.jsx)(eI.K,{onClick:()=>(0,eD.kB)(n,d,g),variant:"toolbar",size:"sm",icon:g?(0,a.jsx)(D.g,{icon:L.K3F}):(0,a.jsx)(D.g,{icon:L.yLS}),color:"red.500",boxSize:7,p:0,"aria-label":g?_.Ru._({id:"sGYCGx"}):_.Ru._({id:"6vLq+T"})})})]})})},predicate:e=>e instanceof s.nh&&(0,p.wL)(e.node),offsetPx:6},{component:e=>{let{editor:t,selection:n}=e,i=n.$from.parent.childCount<ns.ZS,{verticalAlign:r}=n.node.attrs,l=(0,d.useCallback)(e=>{t.chain().updateAttributes("gridCell",{verticalAlign:e===r?null:e}).selectNodeAtPos(n.from).focus().run()},[t,r,n]);return(0,a.jsxs)(k.e,{spacing:1,size:"sm",alignItems:"center",children:[(0,a.jsx)(nc,{editor:t,label:_.Ru._({id:"NFoeBH"}),icon:L.tjk}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z.q,{}),(0,a.jsx)(O.I,{label:_.Ru._({id:"bZ9ges"}),icon:L.UiS,iconRotation:270,onClick:()=>{t.chain().insertContentAt(n.from,ns.eK).run()},testId:"add-col-before-button"}),(0,a.jsx)(O.I,{label:_.Ru._({id:"7ibPpM"}),icon:L.UiS,iconRotation:90,onClick:()=>{t.chain().insertContentAt(n.from+n.node.nodeSize,ns.eK).run()},testId:"add-col-after-button"}),(0,a.jsx)(nd,{editor:t,selection:n})]}),(0,a.jsx)(O.I,{onClick:()=>l("start"),isActive:"start"===r,label:_.Ru._({id:"/Q0jUh"}),children:(0,a.jsx)(no.a_t,{})}),(0,a.jsx)(O.I,{onClick:()=>l("center"),isActive:"center"===r,label:_.Ru._({id:"QhuQN2"}),children:(0,a.jsx)(no.o9M,{})}),(0,a.jsx)(O.I,{onClick:()=>l("end"),isActive:"end"===r,label:_.Ru._({id:"EPnxoe"}),children:(0,a.jsx)(no.Awj,{})}),(0,a.jsx)(z.q,{}),(0,a.jsx)(B.G,{editor:t,handleDelete:()=>{t.chain().selectInsideNodeAtPos(n.from).handleLayoutDelete(!0,!1).run()}})]})},predicate:e=>e instanceof s.nh&&(0,h.NJ)(e.node)},{component:e=>{let{editor:t,selection:n,decorations:i}=e,{node:l}=n,{options:o,variantKey:s}=l.attrs,c=(0,ah.BJ)(s),{toggleSmartLayoutVariantPanel:u}=ac(),p=(0,d.useCallback)(e=>{t.commands.updateNestedAttributesAtPos(n.from,e)},[t,n.from]),h=(0,d.useCallback)(()=>{u({override:"open",isResizable:!1,props:{selectedSmartLayoutRange:{from:n.from,to:n.to},editor:t,node:l}})},[u,n.from,n.to,t,l]),g=(0,d.useCallback)(e=>{p({variantKey:e}),nU.zS.track(nU.VV.SMART_LAYOUT_VARIANT_CHANGED,{previousVariant:s,newVariant:e,method:"formatting-menu-dropdown"})},[p,s]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(r.z,{spacing:2,children:[(0,a.jsx)(ag,{variant:c,variantKey:s,updateVariant:g}),(0,a.jsx)(z.q,{}),(0,a.jsx)(k.e,{size:"sm",children:c.options.map(e=>{var r,d;let c=(0,n4.Rv)(i),u=l.attrs,h=(0,n6.aG)(u);if(e.checkEnabled&&!e.checkEnabled({options:h,attrs:u,deco:c,node:l}))return null;let g=null!=(d=o[e.key])?d:null==(r=e.defaultValue)?void 0:r.call(e,{ctx:"menu"});return(0,a.jsx)(e.Control,{value:g,updateValue:(a,i)=>{p({options:{...o,[e.key]:a}}),i&&l.forEach((i,r)=>{t.commands.updateNestedAttributesAtPos(n.from+r+1,{options:{...i.attrs.options,[e.key]:a}})}),nU.zS.track(nU.VV.SMART_LAYOUT_OPTION_UPDATED,{variantKey:s,optionKey:e.key,previousValue:g,newValue:a,updateChildren:i,method:"formatting-menu"})},editor:t,option:e},e.key)})}),(0,a.jsx)(z.q,{}),(0,a.jsx)(E.$,{variant:"toolbar",rightIcon:(0,a.jsx)(D.g,{icon:L.LFz}),size:"sm",onClick:h,children:(0,a.jsx)(M.x6,{id:"vR68Ol"})}),(0,a.jsx)(z.q,{}),(0,a.jsx)(B.G,{editor:t})]})})},predicate:(e,t,n)=>e instanceof s.nh&&(0,x.M)(e.node)&&"smart-layout-variant"!==n.right},{component:e=>{let{editor:t,selection:n}=e,{node:i,from:r}=n,l=i.attrs.id,s=(0,x.M)(null==n?void 0:n.$from.parent)?null==n?void 0:n.$from.parent:null,{editImage:c,startRemoveBg:u,isRemovingBg:p}=(0,au.c)({editor:t,backgroundRemovalId:l,getPos:()=>r}),h=(0,au.m)({editor:t,node:i,parentNode:s}),{toggleSmartLayoutVariantPanel:g}=ac(),m=(0,d.useCallback)(e=>{let n=(0,o.eL)(e,x.M);if(!n)return;let a=n.pos,i=a+n.node.nodeSize;t.commands.selectParentNode(),g({override:"open",isResizable:!1,props:{selectedSmartLayoutRange:{from:a,to:i},editor:t,node:n.node}})},[g,t]);if(!h)return null;let{addColumnBefore:f,addColumnAfter:b,canChangeFocusPointAndRemoveBackground:v,canEditImageWithAI:y,hasImage:w,imageSlot:C,imageType:A,addDirection:j,parentVariant:S,cellOptions:I,handleDelete:R,updateAttributes:T,resetImage:N}=h;return(0,a.jsxs)(k.e,{spacing:1,size:"sm",alignItems:"center",children:[(0,a.jsx)(nc,{editor:t,label:_.Ru._({id:"NFoeBH"}),icon:null==S?void 0:S.icon}),(0,a.jsx)(z.q,{}),v&&(0,a.jsx)(e2,{editor:t,pos:r,node:i}),y?(0,a.jsx)(eR.a,{editor:t,attrs:i.attrs.image,variant:"toolbar"}):v&&(0,a.jsx)(e4.j,{onClick:u,disabled:p}),"always"===C||w?(0,a.jsx)(O.I,{label:"icon"===A?(0,a.jsx)(M.x6,{id:"JE/4q/"}):(0,a.jsx)(M.x6,{id:"9IrgTy"}),icon:"icon"===A?L.cCs:L.MT7,onClick:c}):"optional"===C?(0,a.jsx)(O.I,{label:"icon"===A?(0,a.jsx)(M.x6,{id:"1SYZRR"}):(0,a.jsx)(M.x6,{id:"pVb3uA"}),icon:"icon"===A?L.cCs:L.Cyq,onClick:c}):null,w&&(0,a.jsx)(O.I,{label:"icon"===A?(0,a.jsx)(M.x6,{id:"+4mjS6"}):(0,a.jsx)(M.x6,{id:"EyVcag"}),icon:L.K3F,color:"red.500",onClick:()=>N(r)}),("always"===C||w)&&(0,a.jsx)(z.q,{}),(0,a.jsx)(O.I,{label:_.Ru._({id:"w7mkyz"}),iconRotation:"bottom"===j?void 0:270,icon:L.UiS,onClick:()=>f(r),testId:"add-col-before-button"}),(0,a.jsx)(O.I,{label:_.Ru._({id:"1e37Dl"}),icon:L.UiS,iconRotation:"bottom"===j?180:90,onClick:()=>b(r+i.nodeSize),testId:"add-col-after-button"}),(0,a.jsx)(nd,{editor:t,selection:n}),(null==S?void 0:S.cellOptions.length)&&(null==S?void 0:S.cellOptions.length)>0?(0,a.jsx)(z.q,{}):null,(0,a.jsx)(k.e,{size:"sm",children:null==S?void 0:S.cellOptions.map(e=>{var l,o;let s=i.attrs;if(e.checkEnabled&&!e.checkEnabled({options:s.options,attrs:s}))return null;let d=null!=(o=I[e.key])?o:null==(l=e.defaultValue)?void 0:l.call(e,{ctx:"menu"});return(0,a.jsx)(e.Control,{value:d,updateValue:t=>{T(n.from,{options:{...I,[e.key]:t}}),nU.zS.track(nU.VV.SMART_LAYOUT_CELL_OPTION_UPDATED,{variantKey:null==S?void 0:S.key,optionKey:e.key,previousValue:d,newValue:t})},editor:t,option:e,pos:r},e.key)})}),(0,a.jsx)(z.q,{}),(0,a.jsx)(E.$,{variant:"toolbar",rightIcon:(0,a.jsx)(D.g,{icon:L.LFz}),size:"sm",onClick:()=>m(n.$from),children:(0,a.jsx)(M.x6,{id:"vR68Ol"})}),(0,a.jsx)(z.q,{}),(0,a.jsx)(B.G,{editor:t,handleDelete:R})]})},predicate:e=>e instanceof s.nh&&(0,x.q)(e.node)},{component:e=>{let{selection:t,editor:n}=e,r=0===t.node.childCount,{layout:o,stretchFill:s}=t.node.attrs,c=(0,d.useCallback)(()=>{n.chain().deleteSelectionAndSelectNear().run()},[n]);return r?null:(0,a.jsx)(i.a,{minW:"300px",children:(0,a.jsxs)(tt,{children:[!r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(es.B,{w:"100%",direction:"row",justify:"space-between",alignItems:"flex-start",children:(0,a.jsx)(l._x,{children:(0,a.jsx)(M.x6,{id:"U+kFad"})})}),(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"rdU729"}),icon:L.yOA,children:(0,a.jsx)(ty.lQ,{editor:n,selection:t})}),"grid"===o&&(0,a.jsx)(tx,{editor:n,selection:t}),"flex"===o&&(0,a.jsx)(tC,{editor:n,selection:t}),(0,a.jsx)(tv,{editor:n,selection:t}),"logo"===o&&(0,a.jsx)(tw,{editor:n,selection:t}),"flex"===o&&!0!==s&&null!==s&&(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"0j+RGO"}),icon:L.ecg,children:(0,a.jsx)(k.e,{dir:"ltr",spacing:0,size:"sm",onMouseDown:N.Fw,_empty:{display:"none"},children:tr.gj.map(e=>{let{key:i,name:r,shortcut:l,icon:o,apply:s,checkActive:d}=e;if(!n||!s||!d)return null;let c=d(n);return(0,a.jsx)(O.I,{shortcut:l,icon:o,label:r(),onClick:()=>{s(n),n.chain().setNodeSelection(t.from).run()},isActive:c,testId:i},i)})})})]}),(0,a.jsx)(e8,{label:(0,a.jsx)(M.x6,{id:"cnGeoo"}),icon:L.yLS,colorScheme:"red",onClick:c})]})})},predicate:e=>e instanceof s.nh&&(0,g.Pb)(e.node),isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,i=n.node.attrs;return(0,a.jsxs)(k.e,{spacing:2,size:"sm",flex:"row",alignItems:"center",children:[(0,a.jsx)(F,{editor:t,attrs:i,selection:n}),(0,a.jsx)(H.a,{color:i.color||void 0,setColor:e=>{t.chain().focus().updateAttributes("calloutBox",{color:e}).selectNodeAtPos(n.from).run()},editor:t,analyticsSource:"CalloutBox"}),(0,a.jsx)(z.q,{}),(0,a.jsx)(B.G,{editor:t})]})},predicate:e=>e instanceof s.nh&&"calloutBox"===e.node.type.name},{component:e=>{let{editor:t,selection:n}=e,i=n.node.type.name,{fullWidthBlock:r}=t.getAttributes(i),l=(0,d.useCallback)(e=>{var n,a;e.stopPropagation(),null==(n=(a=t.commands).editSelectedDrawingBlock)||n.call(a)},[t]);return(0,a.jsxs)(k.e,{spacing:0,size:"sm",alignItems:"center",dir:"ltr",children:[tr.gj.map(e=>{let{name:n,icon:l,checkActive:o,apply:s}=e;if(o&&s)return(0,a.jsx)(O.I,{label:n(),icon:l,onClick:()=>{s(t),r&&t.commands.updateAttributes(i,{fullWidthBlock:!1})},isActive:!r&&o(t)},n())}),(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"ePK91l"}),icon:L.MT7,onClick:l}),(0,a.jsx)(z.q,{}),(0,a.jsx)(B.G,{editor:t})]})},predicate:e=>e instanceof s.nh&&("drawing"===e.node.type.name||"diagram"===e.node.type.name)},{component:e=>{let{editor:t,selection:n,decorations:i}=e,{templateKey:r}=n.node.attrs,l=(0,nW.HF)(r);return l?(0,a.jsx)(l,{editor:t,selection:n,decorations:i}):null},predicate:e=>e instanceof s.nh&&"smartDiagram"===e.node.type.name&&e.node.attrs.templateKey},{component:e=>{let{editor:t,selection:n}=e,{fullWidthBlock:i}=n.node.attrs,l=(0,tL.f)(),o=(0,d.useCallback)(e=>{t.view.focus(),l({isOpen:!0}),e.stopPropagation()},[t,l]),s=(0,tk.Q)(t),c=(0,g.qK)(n.$from);return(0,a.jsxs)(r.z,{spacing:0,children:[!c&&!s&&(0,a.jsxs)(e9.s,{dir:"ltr",children:[tr.gj.map(e=>{let{name:r,icon:l,checkActive:o,apply:s}=e;if(o&&s)return(0,a.jsx)(O.I,{label:r(),icon:l,onClick:()=>{s(t),i&&t.commands.updateAttributes(n.node.type.name,{fullWidthBlock:!1})},isActive:!i&&o(t)},r())}),(0,a.jsx)(z.q,{})]}),(0,a.jsxs)(k.e,{spacing:0,size:"sm",alignItems:"center",children:[(0,a.jsxs)(a.Fragment,{children:[c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(nc,{editor:t,label:_.Ru._({id:"+v0hYZ"}),icon:L.Qyz}),(0,a.jsx)(z.q,{})]}),(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"ePK91l"}),icon:L.MT7,onClick:o,testId:"edit-button"})]}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z.q,{}),(0,a.jsx)(B.G,{editor:t})]})]})]})},predicate:e=>e instanceof s.nh&&"mediaPlaceholder"===e.node.type.name},{component:e=>{let{editor:t,selection:n}=e,l=n.node.attrs,{resize:o,fullWidthBlock:s,id:c,src:p,tempUrl:h,href:m,clickBehavior:x}=l,{isInOfflineMode:f}=(0,q.u)(),{enterZoom:b}=(0,tR.RL)(c),v=(0,tL.f)(),y=(0,d.useCallback)(e=>{t.view.focus(),v({isOpen:!0}),e.stopPropagation()},[t,v]),w=(0,$.u)("disableRemoveBackground"),C=(0,A.gk)(x),j=(0,d.useCallback)(e=>{t.commands.updateAttributes(eZ._V.name,{clickBehavior:e})},[t]),S=(0,d.useCallback)(e=>{t.commands.updateAttributes(eZ._V.name,{href:e})},[t]),{setCropClipType:I,confirmCrop:E,cancelCrop:R,startCrop:T,resetCrop:z}=(0,tS.E)(t),P=(0,u.GV)(eZ.$k),F=(0,d.useCallback)(()=>{(0,g.wG)(n)},[n]),H=(0,tk.Q)(t),B=(0,g.qK)(n.$from),V=(0,eT.SV)(p||h),W=(0,eT.v7)(p||h),U=!B&&!H&&!W,G=!V&&!w&&!W,K=(0,u.GV)((0,eZ.iZ)(c)),{startRemoveBg:Q,isRemovingBg:Z}=(0,tI.D)({editor:t,id:c}),J=!!((null==o?void 0:o.clipPath)&&(null==o?void 0:o.clipType)),Y=(0,eE.l)(l),X=(0,d.useCallback)(()=>{Z&&eZ.RR.emit("cancelRemoveBg",{id:c}),t.chain().deleteSelectionAndSelectNear().run()},[t,c,Z]),ee=(0,d.useMemo)(()=>[{key:"zoom",ariaLabel:_.Ru._({id:"ACjxWW"}),label:(0,a.jsx)(M.x6,{id:"ACjxWW"}),action:b,icon:L.bMI},{key:"addComment",ariaLabel:_.Ru._({id:"oFsfkI"}),label:(0,a.jsx)(M.x6,{id:"oFsfkI"}),action:F,icon:L.DN2,isHidden:H,isDisabled:f},{key:"crop",ariaLabel:_.Ru._({id:"qKx+US"}),label:(0,a.jsx)(M.x6,{id:"qKx+US"}),action:()=>{T({id:c,clipType:null==o?void 0:o.clipType})},icon:L.K1P,isHidden:!U,isDisabled:Z},{key:"removeBackground",canRemoveBackground:G,ariaLabel:_.Ru._({id:"YOCRHt"}),label:(0,a.jsxs)(e9.s,{alignItems:"center",justifyContent:"center",children:[(0,a.jsx)(M.x6,{id:"ylbfBl"}),(0,a.jsx)(tj.G,{type:"removeBackground",ms:2,color:"gray.400"})]}),customIcon:(0,a.jsxs)(i.a,{as:"span",className:"fa-layers fa-fw",children:[(0,a.jsx)(D.g,{icon:L.sAw,size:"lg"}),(0,a.jsx)(D.g,{icon:tA.X46,size:"xs",transform:"shrink-5"})]}),action:Q,isHidden:!G||Y,isDisabled:f,isLoading:Z},{key:"ai",customButton:(0,a.jsx)(eR.a,{editor:t,attrs:l,variant:"plain",height:"100%"},"ai"),isHidden:!Y,ariaLabel:_.Ru._({id:"EVnzPs"}),label:(0,a.jsx)(M.x6,{id:"EVnzPs"}),action:()=>{}},{key:"editGallery",ariaLabel:_.Ru._({id:"ATVjaW"}),label:(0,a.jsx)(M.x6,{id:"+v0hYZ"}),action:()=>{t.chain().selectParentNode().run()},icon:L.Qyz,isHidden:!B},{key:"edit",ariaLabel:_.Ru._({id:"ePK91l"}),label:(0,a.jsx)(M.x6,{id:"ePK91l"}),action:y,icon:L.MT7}],[F,G,U,y,t,b,c,H,B,f,Z,null==o?void 0:o.clipType,T,Q,Y,l]);return(0,a.jsxs)(tt,{children:[!K&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(na,{buttonList:ee}),(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"0j+RGO"}),icon:L.ecg,isHidden:!U,children:(0,a.jsx)(k.e,{dir:"ltr",spacing:0,size:"sm",onMouseDown:N.Fw,children:tr.gj.map(e=>{let{name:n,key:i,icon:r,shortcut:l,checkActive:d,apply:c}=e;if(d&&c)return(0,a.jsx)(O.I,{label:n(),shortcut:l,isActive:!s&&d(t),onClick:()=>{c(t),s&&t.commands.updateAttributes(eZ._V.name,{fullWidthBlock:!1,resize:{...o,width:null}})},isDisabled:Z,icon:r,testId:i,my:0},i)})})}),(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"S58tkK"}),icon:nl[C],children:(0,a.jsx)(tN,{currentClickBehavior:C,handleClickBehaviorChange:j,enableNoClickBehavior:!0,canAddLink:!0})}),"newTab"===C&&(0,a.jsx)(nt,{editor:t,href:m||"",updateHref:S,clearHref:()=>{S("")}}),(0,a.jsx)(e8,{label:(0,a.jsx)(M.x6,{id:"cnGeoo"}),icon:L.yLS,onClick:X,colorScheme:"red",secondaryLabel:(0,tE.bT)(n.node)?(0,a.jsx)(M.x6,{id:"5eaf8Z"}):void 0,secondaryAction:(0,tE.bT)(n.node)?()=>(0,tE.LQ)(t):void 0,secondaryIcon:(0,tE.bT)(n.node)?L.ub2:void 0})]}),U&&K&&(0,a.jsxs)(r.z,{alignSelf:"stretch",my:-3,mx:-2,zIndex:"menu",children:[(0,a.jsx)(nr,{clipType:P,onChange:e=>{I({clipType:e})}}),(0,a.jsxs)(k.e,{spacing:0,size:"sm",alignItems:"center",children:[(0,a.jsx)(O.I,{label:(0,a.jsx)(M.x6,{id:"6Z0nnS"}),icon:L.ub2,isDisabled:!J,onClick:()=>{z({id:c})},my:0}),(0,a.jsx)(O.I,{color:"red.500",label:(0,a.jsx)(M.x6,{id:"7Bn152"}),icon:L.Jyw,onClick:()=>{R({id:c})},my:0}),(0,a.jsx)(O.I,{color:"green.500",label:(0,a.jsx)(M.x6,{id:"ryQtQS"}),icon:L.e68,onClick:()=>{E({id:c})},my:0})]})]})]})},predicate:e=>e instanceof s.nh&&"image"===e.node.type.name,isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,i=(0,V.d)(),r=(0,tL.f)(),l=(0,d.useCallback)(e=>{t.view.focus(),r({isOpen:!0}),e.stopPropagation()},[t,r]),o=(0,d.useCallback)(()=>{t.chain().deleteSelectionAndSelectNear().run()},[t]),s=(0,d.useCallback)(e=>{"none"!==e&&t.commands.updateAttributes(n.node.type.name,{clickBehavior:e})},[t,n]),c=(0,d.useCallback)(e=>{let r="embed.custom";(0,tF.Yq)(e,e=>{r=e.source||r,(0,nk.vI)({editor:t,selection:n,attrs:e,sourceKey:r})}).catch(e=>{i.isActive(nI)||i({id:nI,title:(0,a.jsx)(M.x6,{id:"MWOB3g"}),description:(0,a.jsx)(M.x6,{id:"iEFpL0"}),status:"error",position:"top",duration:3e3,isClosable:!0}),console.error("[caught] EmbedVideoFormattingMenu error fetching URL",e)})},[t,i,n]),u=t.getAttributes(n.node.type.name),p="displayStyle"in u&&u.displayStyle||"inline",h=(0,A.Zj)(u),m=(0,g.qK)(n.$from),x="video"===n.node.type.name,f=(0,A.eb)(u,"preview"===p&&!m),b=u.source?(0,nS.B)(u.source):null,v="inline"===p&&(x||(null==b?void 0:b.inlineInteractive))&&!m;return(0,a.jsxs)(tt,{children:[!m&&(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"/SVg/B"}),icon:"inline"===p?L.c9S:L.$qH,children:(0,a.jsx)(nA,{editor:t,selection:n})}),(0,a.jsx)(nt,{href:h||"",updateHref:c,editor:t,isEmbedLink:!0}),!v&&(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"S58tkK"}),icon:"newTab"===f?L.Ju_:L.bMI,children:(0,a.jsx)(tN,{currentClickBehavior:f,handleClickBehaviorChange:s})}),(0,a.jsx)(e8,{label:(0,a.jsx)(M.x6,{id:"cnGeoo"}),icon:L.yLS,onClick:o,colorScheme:"red",secondaryAction:l,secondaryIcon:L.BH7,secondaryLabel:(0,a.jsx)(M.x6,{id:"sxkWRg"})})]})},predicate:e=>e instanceof s.nh&&(0,A._Y)(e.node),isPopover:!0},{component:e=>{let{editor:t,selection:n}=e,{nested:i}=n.node.attrs;return(0,a.jsxs)(k.e,{spacing:0,size:"sm",children:[(0,a.jsx)(O.I,{testId:"toc-top-level-cards",label:(0,a.jsx)(M.x6,{id:"RiLgqi"}),icon:L.ITF,onClick:()=>{t.commands.updateAttributes("tableOfContents",{nested:!1})},isActive:!i}),(0,a.jsx)(O.I,{testId:"toc-nested-cards",label:(0,a.jsx)(M.x6,{id:"nTkST4"}),icon:L.QLL,onClick:()=>{t.commands.updateAttributes("tableOfContents",{nested:!0})},isActive:i})]})},predicate:e=>e instanceof s.nh&&"tableOfContents"===e.node.type.name},{component:e=>{let{editor:t}=e,{showTime:n=!0,hiddenContributorIds:i=[]}=t.getAttributes("contributors"),r=(0,u.GV)(b.zB)||[],{toggleShowTime:o,toggleOneVisibleContributor:s,toggleAllVisibleContributors:c}=function(e){let t=(0,d.useCallback)(()=>{e.commands.toggleShowTime()},[e]);return{toggleShowTime:t,toggleOneVisibleContributor:(0,d.useCallback)(t=>{e.commands.toggleOneContributorVisibility(t)},[e]),toggleAllVisibleContributors:(0,d.useCallback)(()=>{e.commands.toggleAllContributorsVisibility()},[e])}}(t),p=r.length>1,h=(0,d.useCallback)(()=>{t.chain().deleteSelectionAndSelectNear().run()},[t]);return(0,a.jsxs)(tt,{children:[(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"0j+RGO"}),icon:L.ecg,children:(0,a.jsx)(tl,{editor:t})}),(0,a.jsx)(e7,{label:(0,a.jsx)(M.x6,{id:"4ep6pq"}),icon:L.a$,children:(0,a.jsx)(e3.d,{isChecked:n,onChange:o})}),p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(te,{}),(0,a.jsx)(tu,{contributors:r,hasMultipleContributors:p,hiddenContributorIds:i,toggleOneVisibleContributor:s,toggleAllVisibleContributors:c})]}),(0,a.jsxs)(W.E,{fontSize:"xs",color:"gray.600",textAlign:"center",children:[(0,a.jsx)(M.x6,{id:"Xqn2KO"})," ",(0,a.jsx)(l.qT,{label:(0,a.jsx)(M.x6,{id:"CYpThg"})})]}),(0,a.jsx)(e8,{label:(0,a.jsx)(M.x6,{id:"cnGeoo"}),icon:L.yLS,colorScheme:"red",onClick:h})]})},predicate:e=>e instanceof s.nh&&"contributors"===e.node.type.name,isPopover:!0},{component:a$,predicate:e=>e instanceof s.U3}],a1=[{component:nj,predicate:(e,t)=>{var n,a;let i=null==(n=document)?void 0:n.activeElement,r=!!(null==i?void 0:i.closest('[data-active-menu="navigation"]')),l=!!(null==i?void 0:i.closest("[data-navbar-editor]"));return(r||l)&&t.isActive("button")&&!!t.isSiteNavbarEditor&&!t.multipageEnabled&&!(null==(a=document)?void 0:a.querySelector("[".concat(m.hu,"]")))},isPopover:!0}],a2={backgroundColor:"white",shadow:"lg"},a4=e=>{let{editor:t,scrollingParentSelector:n,menuContext:s,appendToSelector:p}=e;(0,j.lC)(t);let{hideTooltips:h,GammaTooltipHiderContext:g}=(0,l.ku)(),m=(0,u.GV)(b.Du),x=(0,u.GV)(c.Vt),f=t.state.selection,y=!m&&("navigation"===s?a1:a0).find(e=>e.predicate(f,t,x)),w=[];try{(0,o.BQ)(t.state.selection)&&(w=(0,v.j5)(t,t.state.selection.from))}catch(e){console.error("[FormattingMenu] unable to find decorations at ".concat(t.state.selection.from),e.message)}let A=(0,d.useMemo)(()=>({maxWidth:"none",zIndex:"var(--chakra-zIndices-popover)",placement:"top",appendTo:p?()=>document.querySelector(p):void 0,popperOptions:{modifiers:[{name:"flip",options:{fallbackPlacements:["top","top-start","top-end","bottom","bottom-start","bottom-end"]}},{name:"preventOverflow",options:{boundary:n?document.querySelector(n):void 0,altAxis:!0}}]}}),[n,p]),k="navigation"===s?"navigation":"editor";return(0,a.jsx)(g,{children:(0,a.jsx)(l.L8,{isDark:!1,children:(0,a.jsxs)(C,{editor:t,onHide:h,tippyOptions:A,children:[y&&y.isPopover&&(0,a.jsx)(tg,{"data-in-editor-focus":!0,"data-active-menu":k,"data-testid":"formatting-menu",fontFamily:"body",children:(0,a.jsx)(y.component,{editor:t,selection:f,decorations:w})}),y&&!y.isPopover&&(0,a.jsx)(i.a,{"data-active-menu":k,borderRadius:"xl",...a2,w:"auto",minW:"0px",h:"fit-content",position:"relative",bottom:y.offsetPx?"".concat(y.offsetPx,"px"):"0","data-in-editor-focus":!0,"data-testid":"formatting-menu",fontFamily:"body",children:(0,a.jsx)(r.z,{spacing:3,px:2,minH:10,children:(0,a.jsx)(y.component,{editor:t,selection:f,decorations:w})})})]})})})}},45574:(e,t,n)=>{"use strict";n.d(t,{Df:()=>i.Df,Ki:()=>i.Ki,Q8:()=>a.Q,XJ:()=>i.XJ,bY:()=>i.bY,um:()=>i.um,wH:()=>i.wH,wt:()=>i.wt,yK:()=>i.yK});var a=n(14812),i=n(16595)},45611:(e,t,n)=>{"use strict";n.d(t,{K:()=>g,e:()=>c});var a=n(29614),i=n(90047),r=n(44245),l=n(73099),o=n(98088),s=n(82927),d=n(95011);let c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{e=e.replace(/<icon([^>]*?)\/?\s*>/gi,"<icon$1></icon>");let c=new DOMParser().parseFromString(e,"text/html");if(p(c),t.removeImagesFromLayouts){var n;u(c,(null==(n=t.imageOptions)?void 0:n.provider)||"aiGenerated"),h(c)}let g=(0,s.gx)(),m=(0,l.h)(c,"img[searches], img[query], icon[query]").map(async e=>{var n,r,l,o,s,c,u,p,h;if(e.getAttribute("bookmark"))return;let m=e.getAttribute("query")||e.getAttribute("prompt")||"",x=null==(n=t.imageOptions)?void 0:n.generateStyle,f=null==(r=t.imageOptions)?void 0:r.stylePreset,b=null==(l=t.imageOptions)?void 0:l.artStylePreset,v=null==(o=t.imageOptions)?void 0:o.artStylePrompt,y=null==(s=t.imageOptions)?void 0:s.visualsMenuEnabled,w="icon"===e.tagName.toLowerCase()||"icon"===e.getAttribute("type"),C="web"==e.getAttribute("provider")?"web":"aiGenerated",A=(null==(c=t.imageOptions)?void 0:c.provider)=="auto"?C:null==(u=t.imageOptions)?void 0:u.provider,j=(0,i.e)({query:m,provider:w?"fontawesome":A||"web",license:null==(p=t.imageOptions)?void 0:p.license,model:null==(h=t.imageOptions)?void 0:h.model,stylePrompt:x,stylePreset:f,artStylePreset:b,artStylePrompt:v,visualsMenuEnabled:y}),k=new d.t,S=t.loadImages?await (0,i.a)({loadImageId:j.loadImageId,loadImageParams:j.loadImageParams,context:{workspaceId:g},imageStore:k}):{};e.setAttribute(a.A,JSON.stringify({...j,...S}))}),x=(0,l.h)(c,"smart-diagram[prompt]").map(async e=>{let t=e.getAttribute("prompt"),n=e.getAttribute("variant"),i=e.getAttribute("language");if(!t||!n)return void console.warn("Smart diagram missing prompt or variant",e);if(!(0,r.aK)(n))return void console.warn("Invalid smart diagram variant",n);let l=(0,o.z)();e.setAttribute(a.A,JSON.stringify({id:l,aiGenerateParams:{prompt:t,language:i||void 0},aiGenerateStatus:"queued",templateKey:n}))});return await Promise.all([...m,...x]),c.body.innerHTML}catch(t){return console.error("Error transforming AI HTML",t),e}},u=(e,t)=>{if("none"===t)return void e.querySelectorAll('img:not([type="icon"])').forEach(e=>{e.hasAttribute("src")||e.remove()})},p=e=>{let t=e.getElementsByTagName("*");for(let e=0;e<t.length;e++){let n=t[e],a=n.style.textAlign;n.removeAttribute("style"),a&&(n.style.textAlign=a)}},h=e=>{e.querySelectorAll("section").forEach(e=>{if(!e.querySelector("div.body"))return;let t=e.querySelector(":scope > img:not(.accent-image)");t&&t.classList.add("accent-image")})},g=e=>{try{let t=e.getAttribute(a.A);return JSON.parse(t||"")}catch(t){return console.error("[Image] Error parsing ".concat(a.A," attrs"),e,t),!1}}},45666:(e,t,n)=>{"use strict";n.d(t,{g:()=>x,r:()=>f});var a=n(831),i=n.n(a),r=n(91938),l=n(68301),o=n(60908),s=n(5541),d=n(6272),c=n(19521),u=n(32756),p=n(96104),h=n.n(p);let g=async(e,t)=>{let n=e.split(" ")[0],a="".concat(r.$.FRONTEND_URL,"/api/icons/search?count=5&query=").concat(n);try{var i;let e=await fetch(a,{credentials:"include",signal:null==t?void 0:t.signal}),n=null==(i=await e.json())?void 0:i.data;if(!n||0===n.length)return console.warn("[fetchIcons] No icons found. Using default set"),h()(m);return console.debug("[AI fetchIcons] fetched icons",n),n}catch(e){return console.error("(caught) [fetchIcons] fetchResults:",e),h()(m)}},m=[u.X46,u.$UM,u.yy,u.DN2,u.us_,u.A4h].map(e=>{let t=(0,c.Kk)(e),[n,a]=t.icon;return{id:e.iconName,provider:"fa",styles:["light"],src:"".concat(r.$.FRONTEND_URL,"/api/icons/").concat(e.iconName,".svg?provider=fa&style=light"),html:t.html[0],width:n,height:a}}),x=async e=>{let{query:t,provider:n,options:a={},count:i=35,prefetch:r=!1,abortController:c}=e,u="web"===n?l.of.get("webImageProviderType"):void 0;if("fontawesome"===n)return(await g(t,c)).map(e=>({id:e.id,imageUrl:e.src,width:e.width,height:e.height,attributionUrl:"",thumbnailUrl:"",credit:""}));let p=b({query:t,provider:n,options:{type:u,...a},count:i});try{let e=await (0,s.X)(p,{credentials:"include",signal:null==c?void 0:c.signal}),t=await e.json();if(!((null==t?void 0:t.length)>=0))throw Error(t);return r&&Promise.all(t.map(e=>(0,o.GV)(e.imageUrl))).then(()=>{console.debug("[fetchImageSearchResults] images downloaded in background")}).catch(e=>{console.debug("[fetchImageSearchResults] error downloading image:",e)}),t}catch(e){if((0,d.z)(e))throw e;return console.error("(caught) [fetchImages] fetchResults:",e),[]}},f=async e=>{let{queries:t,count:n,provider:a,prefetch:r,options:l}=e,o=(await Promise.all(t.map(e=>x({query:e,count:n,provider:a,prefetch:r,options:l}).then(t=>t.map(t=>({query:e,image:t,provider:a})))))).flat();return i()(o,e=>e.image.id||e.image.imageUrl)},b=e=>{let{query:t,count:n,provider:a,options:i={}}=e,l=new URLSearchParams,o=r.$.API_HOST||"https://api.gamma.app";return l.append("query",t),l.append("provider",a),l.append("count",String(n)),Object.entries(i).forEach(e=>{let[t,n]=e;void 0!==n&&l.append(t,String(n))}),"".concat(o).concat("/media/images/search","?").concat(l.toString())}},45934:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var a=n(51684),i=n(77650);let r={key:"image.pictographic.icon",featureFlag:"pictographicIconsSearch",label:()=>i.Ru._({id:"aW5SOA"}),description:()=>i.Ru._({id:"cR6GgR"}),icon:a.g3w,keywords:["pictographic","icons","illustrations"]}},45943:(e,t,n)=>{"use strict";n.d(t,{Mu:()=>h,kf:()=>m,tE:()=>g});var a=n(22905),i=n(15902),r=n(63867),l=n(15607),o=n(15577),s=n(70006),d=n(23513),c=n(9893),u=n(37327);let p=e=>"gallery"===e.type.name,h=(e,t,n)=>{var c;let h=f(n);if(h.length>0)return h.forEach(t=>{let{mark:n}=t;(0,u.E0)(n)||(0,u.uI)(n.attrs.href,e)}),!1;let m=null==(c=t.clipboardData)?void 0:c.getData("text/plain");if(!m||!g(m))return!1;let{selection:b}=e.state;if(b instanceof r.U3&&!b.empty)return t.preventDefault(),x(e,m),!0;if(m.match(s.D_)||(0,o.Zj)(m))return!1;if(!e.schema.nodes.embed)return(0,u.uI)(m,e),!1;let v=b instanceof i.n,y=b.empty&&["paragraph","heading","title"].includes(b.$from.parent.type.name)&&(0,l.Op)(b.$from.parent),w=p(b.$from.parent),C=(0,a.BQ)(b)&&p(b.node);if(!(y||w||C||v))return!1;let A=b.from-1,j=C?{from:b.to-1,to:b.to-1}:y?{from:A,to:A+b.$from.parent.nodeSize}:{from:b.from,to:b.to};return e.chain().setTextSelection(j).insertEmbedAndFetchMetadata(m,void 0,!0).command(e=>{let{tr:t}=e,n=(0,d.i)(t);return n&&t.setSelection(n),!0}).run(),!0},g=e=>(0,o.Se)(e)&&!e.includes("\n")&&(0,o.AY)(e),m=e=>1===e.content.childCount&&e.content.firstChild.isTextblock&&g(e.content.firstChild.textContent),x=(e,t)=>{e.commands.setMark(c.N.name,{href:t}),(0,u.uI)(t,e)},f=e=>{let t=[];return e.content.descendants((e,n)=>{e.marks.filter(e=>"link"===e.type.name).forEach(e=>{t.push({mark:e,pos:n})})}),t}},46007:(e,t,n)=>{"use strict";n.d(t,{QC:()=>c,ZD:()=>l,cZ:()=>o,eT:()=>s,z3:()=>d});var a=n(89557),i=n(16419),r=n.n(i);function l(e){return e===a.A.pdf}function o(e,t){var n,i;return l(e)||(n=e)===a.A.doc||n===a.A.docx||"ppt"===(i=(i=t).toLocaleLowerCase())||"pptx"===i}function s(e){return"otf"===(e=e.toLocaleLowerCase())||"ttf"===e}let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!+e)return"0 Bytes";let n=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,n)).toFixed(t<0?0:t))," ").concat(["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n])},c=e=>e.name&&r()(e.name.split("."))||""},46091:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(6029);n(55729);var i=n(82328);let r=e=>t=>{let{isInOfflineMode:n}=(0,i.u)();return n?null:(0,a.jsx)(e,{...t})}},46510:(e,t,n)=>{"use strict";n.d(t,{M5:()=>d,Vk:()=>l,rj:()=>o,wC:()=>s});var a=n(23460),i=n(19297);let r=e=>{var t;let{view:n,event:a}=e,i=null==(t=n.posAtCoords({left:a.clientX,top:a.clientY}))?void 0:t.inside;if(!i||-1==i)return null;let{doc:r}=n.state,l=r.nodeAt(i);return{pos:i,node:l}},l=(e,t,n)=>{var l;if(n&&!(0,i.Ny)(n,e.state.schema)||!((null==(l=t.target)?void 0:l.hasAttribute("data-media-node-wrapper"))||(0,a.xX)(t.target,e.dom,e=>e.hasAttribute("data-media-node-wrapper"))))return null;let s=r({view:e,event:t});if(!s||n&&n.content.firstChild===s.node)return null;let d=o(t.target,e);return d&&s.node?{pos:s.pos,node:s.node,side:d}:null},o=(e,t)=>{let n=(0,a.GE)(e,t.dom,"data-media-add-side");return null==n?void 0:n.getAttribute("data-media-add-side")},s=e=>{let{side:t,pasteContent:n,node:a}=e;return{type:"gridLayout",content:[{type:"gridCell",content:"left"===t?n:[a.toJSON()]},{type:"gridCell",content:"left"===t?[a.toJSON()]:n}]}},d=e=>{let{side:t,node:n}=e;return"left"===t?2:n.nodeSize+4}},46609:(e,t,n)=>{"use strict";n.d(t,{B:()=>o});var a=n(22905),i=n(91656),r=n(23050);let l=e=>{let{selection:t}=e,n=t.$head||t.$anchor,r=(0,a.eL)(n,e=>"paragraph"===e.type.name||(0,i.x)(e));return r&&r.node.content.size?r:null},o=e=>{let{view:t,state:n,isFlagEnabled:a,editor:i}=e;if(!a)return null;let{selection:o}=n,{empty:s}=o,d=r.nD.getState(n),c=l(n),u=null==d?void 0:d.loading;return t.hasFocus()&&s&&c&&i.isEditable&&!u?c:null}},46617:(e,t,n)=>{"use strict";n.d(t,{BM:()=>r,ZS:()=>a,eK:()=>i});let a=4,i={type:"gridCell",content:[{type:"paragraph"}]},r="gridLayout"},46675:(e,t,n)=>{"use strict";n.d(t,{HT:()=>d,Wz:()=>p,lz:()=>u});var a=n(94289),i=n(63867),r=n(97255),l=n(96197),o=n(48413),s=n(14503);class d extends i.LN{map(e,t){let n=e.resolve(t.map(this.$anchorCell.pos)),a=e.resolve(t.map(this.$headCell.pos));if((0,s.NH)(n)&&(0,s.NH)(a)&&(0,s.kV)(n,a)){let e=this.$anchorCell.node(-1)!=n.node(-1);return e&&this.isRowSelection()?d.rowSelection(n,a):e&&this.isColSelection()?d.colSelection(n,a):new d(n,a)}return i.U3.between(n,a)}content(){let e=this.$anchorCell.node(-1),t=o.J.get(e),n=this.$anchorCell.start(-1),i=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),r={},l=[];for(let n=i.top;n<i.bottom;n++){let o=[];for(let a=n*t.width+i.left,l=i.left;l<i.right;l++,a++){let n=t.map[a];if(!r[n]){r[n]=!0;let a=t.findCell(n),l=e.nodeAt(n),d=i.left-a.left,c=a.right-i.right;if(d>0||c>0){let e=l.attrs;d>0&&(e=(0,s.Pn)(e,0,d)),c>0&&(e=(0,s.Pn)(e,e.colspan-c,c)),l=a.left<i.left?l.type.createAndFill(e):l.type.create(e,l.content)}if(a.top<i.top||a.bottom>i.bottom){let e=(0,s.ob)(l.attrs,"rowspan",Math.min(a.bottom,i.bottom)-Math.max(a.top,i.top));l=a.top<i.top?l.type.createAndFill(e):l.type.create(e,l.content)}o.push(l)}}l.push(e.child(n).copy(a.FK.from(o)))}let d=this.isColSelection()&&this.isRowSelection()?e:l;return new a.Ji(a.FK.from(d),1,1)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Ji.empty,n=e.steps.length,r=this.ranges;if(0===t.size){if(this.isSelectingAllCells())return void(0,l.CG)(this,e);if(this.isRowSelection())return void(0,l.QN)(this,e);if(this.isColSelection())return void(0,l.Kl)(this,e)}for(let i=0;i<r.length;i++){let{$from:l,$to:o}=r[i],s=e.mapping.slice(n);e.replace(s.map(l.pos),s.map(o.pos),i?a.Ji.empty:t)}let o=i.LN.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,t){this.replace(e,new a.Ji(a.FK.from(t),0,0))}getTableNode(){return this.$anchorCell.node(-1)}isSelectingAllCells(){return o.J.get(this.$anchorCell.node(-1)).map.length===this.ranges.length}everyCell(e){let t=!0;return this.forEachCell((n,a)=>{e(n,a)||(t=!1)}),t}forEachCell(e){let t=this.$anchorCell.node(-1),n=o.J.get(t),a=this.$anchorCell.start(-1),i=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-a,this.$headCell.pos-a));for(let n=0;n<i.length;n++)e(t.nodeAt(i[n]),a+i[n])}isColSelection(){let e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);return!(Math.min(e,t)>0)&&Math.max(e+this.$anchorCell.nodeAfter.attrs.rowspan,t+this.$headCell.nodeAfter.attrs.rowspan)==this.$headCell.node(-1).childCount}static colSelection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=o.J.get(e.node(-1)),a=e.start(-1),i=n.findCell(e.pos-a),r=n.findCell(t.pos-a),l=e.node(0);return i.top<=r.top?(i.top>0&&(e=l.resolve(a+n.map[i.left])),r.bottom<n.height&&(t=l.resolve(a+n.map[n.width*(n.height-1)+r.right-1]))):(r.top>0&&(t=l.resolve(a+n.map[r.left])),i.bottom<n.height&&(e=l.resolve(a+n.map[n.width*(n.height-1)+i.right-1]))),new d(e,t)}isRowSelection(){let e=o.J.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),a=e.colCount(this.$headCell.pos-t);return!(Math.min(n,a)>0)&&Math.max(n+this.$anchorCell.nodeAfter.attrs.colspan,a+this.$headCell.nodeAfter.attrs.colspan)==e.width}eq(e){return e instanceof d&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=o.J.get(e.node(-1)),a=e.start(-1),i=n.findCell(e.pos-a),r=n.findCell(t.pos-a),l=e.node(0);return i.left<=r.left?(i.left>0&&(e=l.resolve(a+n.map[i.top*n.width])),r.right<n.width&&(t=l.resolve(a+n.map[n.width*(r.top+1)-1]))):(r.left>0&&(t=l.resolve(a+n.map[r.top*n.width])),i.right<n.width&&(e=l.resolve(a+n.map[n.width*(i.top+1)-1]))),new d(e,t)}toJSON(){return{type:"CellSelection2",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new d(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return new d(e.resolve(t),e.resolve(n))}getBookmark(){return new c(this.$anchorCell.pos,this.$headCell.pos)}constructor(e,t=e){let n=e.node(-1),a=o.J.get(n),r=e.start(-1),l=a.rectBetween(e.pos-r,t.pos-r),s=e.node(0),d=a.cellsInRect(l).filter(e=>e!=t.pos-r);d.unshift(t.pos-r);let c=d.map(e=>{let t=n.nodeAt(e),a=e+r+1;return new i.yn(s.resolve(a),s.resolve(a+t.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=t,this.$anchorCell=e,this.$headCell=t}}if(!d.prototype.jsonID)try{i.LN.jsonID("CellSelection2",d)}catch(e){}class c{map(e){return new c(e.map(this.anchor),e.map(this.head))}resolve(e){let t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&(0,s.kV)(t,n)?new d(t,n):i.LN.near(n,1)}constructor(e,t){this.anchor=e,this.head=t,this.anchor=e,this.head=t}}function u(e){if(!(e.selection instanceof d))return null;let t=[];return e.selection.forEachCell((e,n)=>{t.push(r.NZ.node(n,n+e.nodeSize,{class:"selectedCell"}))}),r.zF.create(e.doc,t)}function p(e,t,n){let a,r,l=(t||e).selection,s=(t||e).doc;if(l instanceof i.nh&&(r=l.node.type.spec.tableRole)){if("cell"==r||"header_cell"==r)a=d.create(s,l.from);else if("row"==r){let e=s.resolve(l.from+1);a=d.rowSelection(e,e)}else if(!n){let e=o.J.get(l.node),t=l.from+1,n=t+e.map[e.width*e.height-1];a=d.create(s,t+1,n)}}else l instanceof i.U3&&function(e){let{$from:t,$to:n}=e;if(t.pos==n.pos||t.pos<t.pos-6)return!1;let a=t.pos,i=n.pos,r=t.depth;for(;r>=0&&!(t.after(r+1)<t.end(r));r--,a++);for(let e=n.depth;e>=0&&!(n.before(e+1)>n.start(e));e--,i--);return a==i&&/row|table/.test(t.node(r).type.spec.tableRole)}(l)?a=i.U3.create(s,l.from):l instanceof i.U3&&function(e){let t,n,{$from:a,$to:i}=e;for(let e=a.depth;e>0;e--){let n=a.node(e);if("cell"===n.type.spec.tableRole||"header_cell"===n.type.spec.tableRole){t=n;break}}for(let e=i.depth;e>0;e--){let t=i.node(e);if("cell"===t.type.spec.tableRole||"header_cell"===t.type.spec.tableRole){n=t;break}}return t!==n&&0===i.parentOffset}(l)&&(a=i.U3.create(s,l.$from.start(),l.$from.end()));return a&&(t||(t=e.tr)).setSelection(a),t}},46875:(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var a=n(58809),i=n(89942),r=n(15342);let l=()=>{let e=(0,r.GV)(a.Jo);return(0,i.ez)("card_margin_elements",null==e?void 0:e.organization)}},46957:(e,t,n)=>{"use strict";n.d(t,{R$:()=>o,w_:()=>r,z0:()=>l});var a=n(68301);n(6845);let i=(e,t)=>{let n=e.filter(e=>Object.keys(e.spec).length>0),a=t.filter(e=>Object.keys(e.spec).length>0),i=n.map(e=>JSON.stringify(e.spec)),r=a.map(e=>JSON.stringify(e.spec));return{removed:i.filter(e=>!r.includes(e)),added:r.filter(e=>!i.includes(e))}},r=(e,t)=>{let n=e.filter(e=>Object.keys(e.spec).length>0),a=t.filter(e=>Object.keys(e.spec).length>0);return n.length!==a.length||JSON.stringify(n.map(e=>e.spec))!==JSON.stringify(a.map(e=>e.spec))},l=e=>{let{newNode:t,oldNode:n,updateProps:l,oldDecorations:o,newDecorations:s}=e;if(JSON.stringify(t.attrs)!==JSON.stringify(n.attrs))return l(),!0;if(r(o,s)){if(a.of.get("debugLogging")){let e=i(o,s);console.debug("============== decos ================"),console.debug("decos changed",t.type.name),e.removed.length>0&&console.debug("%c  decos removed: ".concat(e.removed.join(" ")," "),"color: red"),e.added.length>0&&console.debug("%c  decos added:   ".concat(e.added.join(" ")," "),"color: green")}l()}return!0},o=e=>{let{newNode:t,oldNode:n,updateProps:a}=e;return t.content.childCount!==n.content.childCount?(a(),!0):l(e)}},46979:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var a=n(81498);class i{get data(){if(this._data)return this._data;let e=this.findIndices();if(e.labelsOnly){let t=this.source.columns.slice(e.from.column,e.to.column+1);return new a.h({columns:t,rows:[],cells:[]})}let t=this.source.rows.slice(e.from.row,e.to.row+1),n=this.source.columns.slice(e.from.column,e.to.column+1),i=t.flatMap(e=>n.map(t=>this.source.getCell({row:e.id,column:t.id}))).filter(e=>!!e);return new a.h({rows:t,columns:n,cells:i})}clear(){let e=this.findIndices(),{rows:t,columns:n}=this.source;for(let a=e.from.column;a<=e.to.column;a++){let i=n[a];if(this.includesLabels&&(i.label=""),!e.labelsOnly)for(let n=e.from.row;n<=e.to.row;n++){let e=t[n],a=this.source.getCell({row:e.id,column:i.id});a?a.clear():this.source.setEmptyCell(e,i)}}}includes(e){if("isLabel"in e)return this.includesLabelCell(e.column);let t=this.findIndices(),n=this.source.findCellIndex(e);return!!n&&!t.labelsOnly&&!!(t.from.row<=n.row)&&!!(t.to.row>=n.row)&&!!(t.from.column<=n.column)&&!!(t.to.column>=n.column)}includesLabelCell(e){if(!this.includesLabels)return!1;let t=this.source.columns.findIndex(t=>{let{id:n}=t;return n===e});if(t<0)return!1;let n=this.findIndices();return n.from.column<=t&&n.to.column>=t}findIndices(){let{rows:e,columns:t}=this.source,n=t.findIndex(e=>{let{id:t}=e;return t===this.from.column}),a=t.findIndex(e=>{let{id:t}=e;return t===this.to.column});if(!this.to.row)return{from:{column:n},to:{column:a},labelsOnly:!0};let i=e.findIndex(e=>{let{id:t}=e;return t===this.from.row}),r=e.findIndex(e=>{let{id:t}=e;return t===this.to.row});if(-1!==[i,r,n,a].indexOf(-1))throw Error("Invalid range");return{from:{row:i,column:n},to:{row:r,column:a},labelsOnly:!1}}static nonEmpty(e){function t(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.getLines(t);for(let t=n?a.length-1:0;t!==(n?-1:a.length);n?t--:t++){let n=a[t];if(!n.isEmpty(e))return n}return null}let n=t("row"),a=t("row",!0),i=t("column"),r=t("column",!0);return n&&a&&i&&r?new this(e,{row:n.id,column:i.id},{row:a.id,column:r.id},!0):null}constructor(e,t,n,a=!1){this.source=e,this.from=t,this.to=n,this.includesLabels=a,this._data=void 0}}},47314:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});let a=e=>Array.from(new DOMParser().parseFromString(e,"text/html").body.childNodes).some(e=>1===e.nodeType)},47880:(e,t,n)=>{"use strict";n.d(t,{O:()=>l});var a=n(55729),i=n(15342),r=n(30286);let l=e=>{let t=(0,i.jL)();(0,a.useEffect)(()=>{t((0,r.dB)({locale:e||null}))},[e]),(0,a.useEffect)(()=>()=>{t((0,r.dB)({locale:null}))},[])}},48413:(e,t,n)=>{"use strict";let a,i;if(n.d(t,{J:()=>l,r:()=>r}),"undefined"!=typeof WeakMap){let e=new WeakMap;a=t=>e.get(t),i=(t,n)=>(e.set(t,n),n)}else{let e=[],t=0;a=t=>{for(let n=0;n<e.length;n+=2)if(e[n]==t)return e[n+1]},i=(n,a)=>(10==t&&(t=0),e[t++]=n,e[t++]=a)}class r{constructor(e,t,n,a){this.left=e,this.top=t,this.right=n,this.bottom=a}}class l{findCell(e){for(let t=0;t<this.map.length;t++){let n=this.map[t];if(n!=e)continue;let a=t%this.width,i=t/this.width|0,l=a+1,o=i+1;for(let e=1;l<this.width&&this.map[t+e]==n;e++)l++;for(let e=1;o<this.height&&this.map[t+this.width*e]==n;e++)o++;return new r(a,i,l,o)}throw RangeError("No cell with offset "+e+" found")}firstRowCells(){return this.map.slice(0,this.width)}firstColCells(){return this.map.filter((e,t)=>t%this.width==0)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw RangeError("No cell with offset "+e+" found")}nextCell(e,t,n){let{left:a,right:i,top:r,bottom:l}=this.findCell(e);return"horiz"==t?(n<0?0==a:i==this.width)?null:this.map[r*this.width+(n<0?a-1:i)]:(n<0?0==r:l==this.height)?null:this.map[a+this.width*(n<0?r-1:l)]}rectBetween(e,t){let{left:n,right:a,top:i,bottom:l}=this.findCell(e),{left:o,right:s,top:d,bottom:c}=this.findCell(t);return new r(Math.min(n,o),Math.min(i,d),Math.max(a,s),Math.max(l,c))}cellsInRect(e){let t=[],n={};for(let a=e.top;a<e.bottom;a++)for(let i=e.left;i<e.right;i++){let r=a*this.width+i,l=this.map[r];!n[l]&&(n[l]=!0,i==e.left&&i&&this.map[r-1]==l||a==e.top&&a&&this.map[r-this.width]==l||t.push(l))}return t}positionAt(e,t,n){for(let a=0,i=0;;a++){let r=i+n.child(a).nodeSize;if(a==e){let n=t+e*this.width,a=(e+1)*this.width;for(;n<a&&this.map[n]<i;)n++;return n==a?r-1:this.map[n]}i=r}}static get(e){return a(e)||i(e,function(e){if("table"!=e.type.spec.tableRole)throw RangeError("Not a table node: "+e.type.name);let t=function(e){let t=-1,n=!1;for(let a=0;a<e.childCount;a++){let i=e.child(a),r=0;if(n)for(let t=0;t<a;t++){let n=e.child(t);for(let e=0;e<n.childCount;e++){let i=n.child(e);t+i.attrs.rowspan>a&&(r+=i.attrs.colspan)}}for(let e=0;e<i.childCount;e++){let t=i.child(e);r+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=r:t!=r&&(t=Math.max(t,r))}return t}(e),n=e.childCount,a=[],i=0,r=null,o=[];for(let e=0,i=t*n;e<i;e++)a[e]=0;for(let l=0,s=0;l<n;l++){let d=e.child(l);s++;for(let e=0;;e++){for(;i<a.length&&0!=a[i];)i++;if(e==d.childCount)break;let c=d.child(e),{colspan:u,rowspan:p,colwidth:h}=c.attrs;for(let e=0;e<p;e++){if(e+l>=n){(r||(r=[])).push({type:"overlong_rowspan",pos:s,n:p-e});break}let d=i+e*t;for(let e=0;e<u;e++){0==a[d+e]?a[d+e]=s:(r||(r=[])).push({type:"collision",row:l,pos:s,n:u-e});let n=h&&h[e];if(n){let a=(d+e)%t*2,i=o[a];null==i||i!=n&&1==o[a+1]?(o[a]=n,o[a+1]=1):i==n&&o[a+1]++}}}i+=u,s+=c.nodeSize}let c=(l+1)*t,u=0;for(;i<c;)0==a[i++]&&u++;u&&(r||(r=[])).push({type:"missing",row:l,n:u}),s++}let s=new l(t,n,a,r),d=!1;for(let e=0;!d&&e<o.length;e+=2)null!=o[e]&&o[e+1]<n&&(d=!0);return d&&function(e,t,n){e.problems||(e.problems=[]);for(let a=0,i={};a<e.map.length;a++){let r=e.map[a];if(i[r])continue;i[r]=!0;let l=n.nodeAt(r),o=null;for(let n=0;n<l.attrs.colspan;n++){let i=t[2*((a+n)%e.width)];null==i||l.attrs.colwidth&&l.attrs.colwidth[n]==i||((o||(o=function(e){if(e.colwidth)return e.colwidth.slice();let t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}(l.attrs)))[n]=i)}o&&e.problems.unshift({type:"colwidth mismatch",pos:r,colwidth:o})}}(s,o,e),s}(e))}constructor(e,t,n,a){this.width=e,this.height=t,this.map=n,this.problems=a}}},48687:(e,t,n)=>{"use strict";n.d(t,{X:()=>m,m:()=>g});var a=n(6029),i=n(34807),r=n(26420),l=n(33750),o=n.n(l),s=n(15342),d=n(43607),c=n(43634),u=n(85235),p=n(28615),h=n(98874);let g=6,m=e=>{var t;let n,{containerSize:l,numCells:m,options:x,mobileMaxColumns:f=1,forceBalance:b=!1}=e,v=(null==(t=Object.values((0,h.rO)()).find(e=>e.width===x.cellSize))?void 0:t.targetColumns)||3,y=40/v,w=(0,d.FX)(),C=(0,s.GV)(c.wC)===u.w.SLIDE_VIEW,A=(0,s.GV)(c.yh),j=(0,i.A)({base:f,sm:2,md:3,xl:4},{fallback:w?"base":"xl"})||f,k=p.D1||C||A?4:w?f:j,S=o()(40*l,10,10*k),I=Math.max(1,Math.floor(S/y)),E=Math.min(I,m);if(b&&m>E&&m<=4)for(;E>=1&&m%E!=0;E--);let R=Math.ceil(m/E),L=m%E;if(L&&"center"===x.horizontalAlign){let e=(E-L)/2;n=(0,a.jsx)(r.a,{gridColumn:"span ".concat(e*g),gridRow:"".concat(R),className:"grid-offset"})}else if(L&&"right"===x.horizontalAlign){let e=E-L;n=(0,a.jsx)(r.a,{gridColumn:"span ".concat(e*g),gridRow:"".concat(R),className:"grid-offset"})}return{maxWidth:S,targetWidth:y,targetColumns:v,maxColumns:I,columns:E,lastRowAligner:n}}},48932:(e,t,n)=>{"use strict";n.d(t,{c:()=>p});var a=n(81278),i=n(55729),r=n(58809),l=n(8944),o=n(15342),s=n(11403),d=n(85732),c=n(63902),u=n(44141);let p=e=>{let{url:t,nonPublishedUrl:n}=e,{push:p}=(0,a.useRouter)(),h=(0,s.En)(),g=(0,o.GV)(r.Jo),m=(0,c.oR)(),x=(0,o.GV)(l.C),f=m?(0,d.M7)({url:t,doc:g,previewEnabled:x}):n||t,b=h&&(0,d.uH)(t,g),v=(0,i.useCallback)(e=>{(0,u.jv)(f)&&(e.preventDefault(),p(f,void 0,{shallow:!0}))},[f,p]);return(0,i.useMemo)(()=>({linkUrl:f,handleClick:x?v:void 0,isCurrentPage:b}),[v,f,x,b])}},49023:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var a=n(55729),i=n(88586),r=n(15342),l=n(7554),o=n(82927);let s=()=>{let e=(0,o.gx)(),t=(0,r.jL)(),{data:n,loading:s}=(0,i.Snx)({variables:{workspaceId:e,archived:!1},skip:!e,fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),{data:d,loading:c}=(0,i.Snx)({variables:{workspaceId:null,archived:!1},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),u=(0,a.useMemo)(()=>(null==d?void 0:d.themes)||[],[null==d?void 0:d.themes]),p=(0,a.useMemo)(()=>(null==n?void 0:n.themes)||[],[null==n?void 0:n.themes]);return(0,a.useEffect)(()=>{u.length>0&&t((0,l.cA)({globalThemes:u}))},[t,u]),(0,a.useEffect)(()=>{p.length>0&&t((0,l._N)({workspaceThemes:p}))},[t,p]),{isLoadingThemes:s||c,globalThemes:u}}},49106:(e,t,n)=>{"use strict";n.d(t,{P:()=>r});var a=n(99492),i=n(77650);let r={key:"image.giphy",label:()=>i.Ru._({id:"E435oC",values:{GIPHY_PROPER_NOUN:"GIPHY"}}),description:()=>i.Ru._({id:"AbFJB5"}),icon:a.MEP,image:{src:"/_next/static/media/giphy.2d92c9c6.svg",height:2500,width:2500,blurWidth:0,blurHeight:0},keywords:["gif","animation","animated","giphy"],resizeToFit:!0}},49172:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var a=n(6029),i=n(83743),r=n(69388),l=n(26420),o=n(49611),s=n(16936),d=n(1139),c=n(53996),u=n(99492),p=n(48621),h=n(91106),g=n(19564),m=n(77650),x=n(55729),f=n(62171),b=n(60908);let v=e=>{let{accentImages:t,isDark:n,handleDelete:v,handleItemClick:y,currentAttributes:w,editType:C}=e,A=(0,x.useCallback)(e=>t=>{v&&(t.stopPropagation(),v(e))},[v]),j=(0,x.useCallback)(e=>()=>{y&&y(e)},[y]);return(0,a.jsx)(i.r,{gap:2,columns:{base:2,"2xl":3},children:t.map(e=>{let t=(0,f.FD)(e,n,b.p7),i=("node"===C||"accessory"===C)&&e.image,x=i?{...e.image,source:e.source}:e,k=i?(null==w?void 0:w.src)===e.image.src:(null==w?void 0:w.accentId)===e.accentId;return(0,a.jsx)(r.E,{children:(0,a.jsxs)(l.a,{as:o.$,variant:"unstyled",backgroundColor:n?"black":"white",cursor:y?"pointer":void 0,...t,opacity:1,width:"100%",borderRadius:"base",shadow:"md",minH:"100px",position:"relative",role:"group",onClick:j(x),children:[v&&(0,a.jsx)(h.Tz,{label:(0,a.jsx)(g.x6,{id:"Rz0Yis"}),placement:"top",children:(0,a.jsx)(s.K,{"aria-label":m.Ru._({id:"Rz0Yis"}),icon:(0,a.jsx)(p.g,{icon:u.yLS}),onClick:A(e),isRound:!0,position:"absolute",top:1,insetEnd:1,size:"sm",color:"red.600",opacity:0,_hover:{color:"red.600"},_groupHover:{opacity:1}})}),w&&(0,a.jsx)(d.z,{in:k,children:(0,a.jsx)(l.a,{pointerEvents:"none",color:"white",pos:"absolute",inset:0,bg:"rgba(0,0,0,.5)",borderRadius:"base",children:(0,a.jsx)(c.o,{h:"100%",w:"100%",children:(0,a.jsx)(p.g,{icon:u.e68})})})})]})},e.accentId)})})}},49249:(e,t,n)=>{"use strict";n.d(t,{D:()=>f,_:()=>b});var a=n(46898),i=n(77650),r=n(55729),l=n(26814),o=n(6018),s=n(58929),d=n(71877),c=n(15342),u=n(95889),p=n(12354),h=n(43634),g=n(82927),m=n(60908),x=n(61250);let f=e=>{let{editor:t,id:n}=e,a=(0,c.jL)(),i=(0,c.GV)((0,x.No)(n)),o=(0,c.GV)((0,x.AL)(n)),s=(0,r.useCallback)(()=>{a((0,p.WE)({id:n})),p.RR.emit("startRemoveBg",{id:n}),requestAnimationFrame(()=>{var e,n;null==(e=(n=t.commands).refreshBubbleMenu)||e.call(n)})},[a,t,n]);return{startRemoveBg:(0,l.tO)(s,"removeBackground",u.VV.GAMMA_PRO_UPSELL_REMOVE_BACKGROUND),isRemovingBg:i,isRemoveBgLoading:"loading"===o}},b=e=>{let{editor:t,id:n,src:l,updateAttributes:u}=e,f=(0,c.jL)(),b=(0,c.CU)(),v=(0,a.d)(),y=(0,c.GV)(h.sK),w=t.isEditable,C=(0,c.GV)((0,x.AL)(n)),A=(0,c.GV)((0,x.Vr)(n));return(0,r.useEffect)(()=>{if(!w||!l)return;let e=new AbortController,a=async a=>{var r,c,u;let h,{id:x}=a,b=null==(r=(0,g.bs)(null==y?void 0:y.id))?void 0:r.id;if(n!==x||!l||!b)return;t.state.doc.descendants((e,t)=>"image"!==e.type.name||e.attrs.id!==n||(h=e,!1));let w=null==h||null==(c=h.attrs.meta)?void 0:c.width,C=null==h||null==(u=h.attrs.meta)?void 0:u.height;try{f((0,p.GP)({id:n,status:"loading"}));let t=await (0,d.w)({imageUrl:l,workspaceId:b,abortController:e,width:w,height:C});f((0,p.BS)({id:n,url:t})),(0,o.R)("removeBackground",y),await (0,m.GV)(t),setTimeout(()=>{requestAnimationFrame(()=>{p.RR.emit("endRemoveBg",{id:n,url:t})})},500)}catch(a){if(a instanceof s.f&&"aborted"===a.type)return;let e=s.f.userFacingErrorDescription(a);v({title:i.Ru._({id:"xwVKp4"}),position:"top",description:e,status:"error",duration:5e3,isClosable:!0}),f((0,p.N2)({id:n})),requestAnimationFrame(()=>{var e,n;null==(e=(n=t.commands).refreshBubbleMenu)||e.call(n)})}},r=t=>{let{id:n}=t;f((0,p.N2)({id:n})),e.abort("User aborted")};return p.RR.on("startRemoveBg",a),p.RR.on("cancelRemoveBg",r),()=>{p.RR.off("startRemoveBg",a),p.RR.off("cancelRemoveBg",r)}},[n,t,l,u,f,b,w,y,v]),(0,r.useEffect)(()=>{if(w&&l)return p.RR.on("endRemoveBg",async e=>{let{id:a,url:i}=e;n===a&&(u({src:i||(0,x.Vr)(n)(b.getState()),source:"image.custom"}),requestAnimationFrame(()=>{f((0,p.N2)({id:n})),requestAnimationFrame(()=>{var e,n;null==(e=(n=t.commands).refreshBubbleMenu)||e.call(n)})}))})},[n,u,t,f,b,w,l]),{bgRemovalInProgress:"loading"===C,removeBgUrl:A}}},49251:(e,t,n)=>{"use strict";n.d(t,{G:()=>P});var a=n(6029),i=n(68068),r=n(36071),l=n(60628),o=n(17920),s=n(58959),d=n(29810),c=n(40691),u=n(40452),p=n(3674),h=n(65327),g=n(19564),m=n(63867),x=n(55729),f=n(45318),b=n(82328),v=n(59230),y=n(36145);let w=e=>{let{currentAttributes:t,updateAttributes:n,editor:a,isMounted:i}=e,r=(0,x.useRef)({currentAttributes:t,updateAttributes:n,sourceKey:t.source});r.current.currentAttributes=t,r.current.updateAttributes=n,(0,x.useEffect)(()=>{r.current.sourceKey=r.current.currentAttributes.source},[t.tempUrl,t.src]),(0,x.useEffect)(()=>{if(!a||i)return;let{src:e,tempUrl:t,uploadStatus:n}=r.current.currentAttributes;t&&!e&&n!==v.A.Uploading&&(console.log("[useUploadOnUnmount] uploading tempUrl:",t),r.current.updateAttributes({uploadStatus:v.A.Uploading,source:r.current.sourceKey}),(0,y.XE)(a,t))},[a,i])};var C=n(69540),A=n(83488),j=n(75748),k=n(15342),S=n(12354),I=n(66079),E=n(62917),R=n(78481),L=n(15607),D=n(43607),M=n(43634),_=n(3864),T=n(92198),N=n(89703),z=n(29347);let P=x.memo(e=>{var t,n;let{editor:v}=e;(0,D.lC)(v);let y=(0,D.CJ)(v),P=(0,N.f)(),O=(0,k.GV)(M.nD),F=v.state.selection,H=(0,x.useMemo)(()=>(0,z.Am)(v,F),[v,F]),B=null==H?void 0:H.id,V=(0,k.GV)((0,S.No)(B||"")),{currentMediaDrawerSourceKey:W,setMediaDrawerSourceKeyAction:U,isQuickAction:G}=(0,E.Bz)(),K=I.Fn[W],{isConnected:Q}=(0,b.u)(),Z=!!(Q||K.availableOffline),q=(0,k.GV)(M.rp),J=H&&(0,z.Nx)(v,H.type),$=y&&!!(q&&J&&O),Y=(0,x.useRef)(null),X=(0,x.useCallback)(()=>{P({isOpen:!1}),F instanceof m.nh&&v.chain().selectNodeAtPos(F.from,!1).focus().run()},[v,F,P]),ee=(0,R.N)(v);(0,x.useEffect)(()=>{J||P({isOpen:!1})},[J,P]),(0,x.useEffect)(()=>{$&&setTimeout(()=>{if(!Y.current||!Z)return;let e=(0,h.ep)(Y.current);e&&!(e.length<1)&&requestAnimationFrame(()=>{let t=e[0];null==t||t.focus()})},100)},[Z,$,v]),(0,x.useEffect)(()=>{if(!H)return;let{attrs:e,mediaType:t,type:n}=H;(0,z.Nx)(v,n)&&(!v.isSiteNavbarEditor||(0,L.We)(v))&&!G&&U("embed"===t&&null===e.source?A.J.key:e.source||W)},[H,v,U,W,G]);let[et,en]=(0,x.useState)("");(0,x.useEffect)(()=>{var e;(null==H||null==(e=H.attrs)?void 0:e.query)?en(H.attrs.query):en("")},[null==H||null==(t=H.attrs)?void 0:t.query]);let ea=(0,x.useCallback)(e=>{V&&S.RR.emit("cancelRemoveBg",{id:B||""}),(0,z.vI)({editor:v,selection:F,sourceKey:W,attrs:e,resizeToFit:null==K?void 0:K.resizeToFit})},[v,V,W,F,B,null==K?void 0:K.resizeToFit]),ei={...null==H?void 0:H.attrs,query:et||(null==H||null==(n=H.attrs)?void 0:n.query)};w({currentAttributes:ei,updateAttributes:ea,editor:v,isMounted:$});let er=(0,x.useCallback)(()=>{(0,z.vI)({editor:v,selection:F,sourceKey:W,attrs:{source:W},nodeName:"mediaPlaceholder",resetAttrs:!0})},[W,F,v]),el=(0,_.o)(),eo=(null==H?void 0:H.editType)||"node",es=(0,x.useCallback)(e=>(null==H?void 0:H.mediaType)==="embed"?"embed"===e.nodeName||"video"===e.nodeName:(null==H?void 0:H.mediaType)==="image"?"image"===e.nodeName:(null==H?void 0:H.mediaType)==="icon"?"image.icon"===e.key||"image.custom"===e.key||"image.pictographic.icon"===e.key:!!e.nodeName,[H]),ed=I.ez[W],ec=C.h[W]||{};return(0,a.jsxs)(i._s,{isOpen:$,onClose:X,size:el,trapFocus:!1,blockScrollOnMount:!1,children:[(0,a.jsx)(r.m,{background:"none"}),(0,a.jsxs)(l.z,{onKeyDown:ee,"data-in-editor-focus":!0,"data-testid":"media-drawer","data-test-media-source":W,children:[(0,a.jsx)(o.r,{fontSize:"x-large",children:(0,a.jsxs)(s.z,{me:7,children:[(0,a.jsx)(g.x6,{id:"xYilR2"}),(0,a.jsx)(d.h,{}),(null==H?void 0:H.mediaType)==="image"&&!v.isSiteNavbarEditor&&(0,a.jsx)(f.V,{onClick:X,image:null==H?void 0:H.attrs,backFrom:{source:"mediaDrawer",id:(null==H?void 0:H.attrs.id)||""}})]})}),(0,a.jsxs)(c.c,{overflowX:"hidden",sx:{scrollbarGutter:"stable"},display:"flex",flexDirection:"column",pt:0,children:[(0,a.jsx)(j.r,{isConnected:Z,description:(0,a.jsx)(g.x6,{id:"2y7sUG"}),mb:6}),(0,a.jsx)(T.H,{currentSource:K,onChange:e=>U(e,!0),isValidSource:es}),K&&(0,a.jsx)(u.s,{ref:Y,opacity:Z?1:.4,pointerEvents:Z?"initial":"none",flex:"1",direction:"column",children:(0,a.jsx)(ed,{editor:v,updateAttributes:ea,currentAttributes:ei,resetToPlaceholder:er,editType:eo,closeDrawer:X,mediaSearchQuery:et,setMediaSearchQuery:en,...ec})})]}),(0,a.jsx)(p.s,{"data-testid":"media-drawer-close"})]})]})});P.displayName="MediaDrawer"},49309:(e,t,n)=>{"use strict";n.d(t,{S:()=>l});var a=n(6029),i=n(56570),r=n(42328);n(55729);let l=e=>{let{children:t,...n}=e;return(0,a.jsx)(i.x,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},gap:6,...n,children:(0,a.jsx)(r.N,{children:t})})}},49337:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var a=n(55729),i=n(15342),r=n(70006),l=n(37377);let o=function(){let{initializeViaQuery:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{initializeViaQuery:!1},t=(0,i.jL)(),n=(0,a.useCallback)(()=>{let e=window.Intercom;e&&(e("show"),t((0,l.YN)({isOpen:!0})))},[t]);return(0,a.useEffect)(()=>{e&&"true"===(0,r.sF)()["get-support"]&&n()},[e,n]),n}},49776:(e,t,n)=>{"use strict";n.d(t,{U:()=>l});var a=n(15342),i=n(43634),r=n(95197);let l=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{cardMarginSettings:t}=(0,a.GV)(i.Uu),n=(0,r.D3)(t);return e&&n}},50171:(e,t,n)=>{"use strict";n.d(t,{g:()=>o});var a=n(77650);let i=()=>[{id:"basic",name:()=>a.Ru._({id:"0wJVK+"}),templateIds:["blankCard","titleWith2ColumnImageLeft","titleWith2ColumnImageRight","titleWith2ColumnContent","titleWith2ColumnContentAndHeadings","titleWith3ColumnContent","titleWith3ColumnContentAndHeadings","titleWith4ColumnContent","titleWithBullets","titleWithBulletsAndImage"]},{id:"cardLayouts",name:()=>a.Ru._({id:"125H9i"}),templateIds:["accentLeft","accentRight","accentTop","accentRightFit","accentLeftFit","accentBackground"]},{id:"images",name:()=>a.Ru._({id:"an5hVd"}),templateIds:["titleWith2ImageColumns","titleWith3ImageColumns","titleWith4ImageColumns","titleWith3ImagesWithText","imageGallery","titleWithTeamPhotos"]},{id:"collections",name:()=>a.Ru._({id:"MISW12"}),templateIds:["titleWithTextBoxes","titleWithTimeline","titleWithLargeBulletList","titleWithIconsWithText","titleWithSmallIconsAndText","titleWithArrows"]},{id:"data",name:()=>a.Ru._({id:"+60MiA"}),templateIds:["titleWithColumnChart","titleWithBarChart","titleWithLineChart","titleWithPieChart","titleWithDonutChart","titleWithStats","barStatsWithText","titleWithCircleStats","titleWith3RowTable"]},{id:"embeds",name:()=>a.Ru._({id:"aTofd0"}),templateIds:["titleWithYouTubeEmbed","titleWithWebpageEmbed"]},{id:"progressiveDisclosure",name:()=>a.Ru._({id:"rd7L5e"}),templateIds:["titleWith3NestedCards","titleWith3Toggles"]},{id:"pyramid",name:()=>a.Ru._({id:"96Rp0u"}),templateIds:["funnelWithText","steppedPyramidWithText","pyramidWithTitleAndTextOutside","leftSteppedPyramidWithTitleAndTextOutside"]},{id:"calls-to-action",name:()=>a.Ru._({id:"gm+qKB"}),templateIds:["titleWithContentAndButton"]},{id:"misc",name:()=>a.Ru._({id:"RDie0n"}),templateIds:["titleCard","titleWithGif","titleWithDiagram"]},{id:"cardPlaceholder",name:()=>a.Ru._({id:"hx1ePY"}),templateIds:["titleWith2ColumnImageLeft","titleWith2ColumnContent","accentRight","titleWith3ImageColumns"]}],r=["basic","cardLayouts","images","collections","charts","pyramid","data","embeds","progressiveDisclosure","calls-to-action","misc"],l={default:r,insertWidget:r,modal:r,placeholder:["cardPlaceholder"]},o=e=>l[e].map(e=>i().find(t=>t.id===e)).filter(e=>!!e)},50507:(e,t,n)=>{"use strict";n.d(t,{iT:()=>o,l2:()=>u,s2:()=>d,st:()=>s,wz:()=>c});var a=n(77650),i=n(12562),r=n(50171),l=n(17633);let o=()=>{let e=()=>a.Ru._({id:"6MDj8K"});return{blankCard:{id:"blankCard",createdBy:null,name:()=>a.Ru._({id:"UQOvxZ"}),description:()=>a.Ru._({id:"V7lf6B"}),jsonContent:l.w.card([l.w.heading()]),keywords:["blank"]},titleWithBullets:{id:"titleWithBullets",name:()=>a.Ru._({id:"jzSy62"}),createdBy:null,description:()=>a.Ru._({id:"605WM6"}),jsonContent:l.w.card([l.w.heading(),l.w.bullet(),l.w.bullet(),l.w.bullet(),l.w.bullet()]),keywords:["heading","bullets"]},titleWithBulletsAndImage:{id:"titleWithBulletsAndImage",name:()=>a.Ru._({id:"ciw/iY"}),createdBy:null,description:()=>a.Ru._({id:"kTU/Ne"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.bullet(),l.w.bullet(),l.w.bullet(),l.w.bullet()],[l.w.mediaPlaceholder()]])]),keywords:["heading","bullets"]},titleWith2ColumnContent:{id:"titleWith2ColumnContent",createdBy:null,name:()=>a.Ru._({id:"uVQ8y8"}),description:()=>a.Ru._({id:"pRDCBH"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.paragraph(e())],[l.w.paragraph(e())]])]),keywords:["title","2 column","split","paragraph"]},titleWith2ColumnContentAndHeadings:{id:"titleWith2ColumnContentAndHeadings",createdBy:null,name:()=>a.Ru._({id:"/ESRO3"}),description:()=>a.Ru._({id:"acTyiC"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.h3(),l.w.paragraph(e())],[l.w.h3(),l.w.paragraph(e())]])]),keywords:["title","2 column","split","paragraph"]},titleWith3ColumnContent:{id:"titleWith3ColumnContent",createdBy:null,name:()=>a.Ru._({id:"YmAqYT"}),description:()=>a.Ru._({id:"od0FQb"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.paragraph(e())],[l.w.paragraph(e())],[l.w.paragraph(e())]])]),keywords:["heading","3 column","paragraph"]},titleWith3ColumnContentAndHeadings:{id:"titleWith3ColumnContentAndHeadings",createdBy:null,name:()=>a.Ru._({id:"3tQQ39"}),description:()=>a.Ru._({id:"Yno39F"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.h4(),l.w.paragraph(e())],[l.w.h4(),l.w.paragraph(e())],[l.w.h4(),l.w.paragraph(e())]])]),keywords:["heading","3 column","paragraph"]},titleWith4ColumnContent:{id:"titleWith4ColumnContent",createdBy:null,name:()=>a.Ru._({id:"+a/yD6"}),description:()=>a.Ru._({id:"h5ySm8"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.paragraph(e())],[l.w.paragraph(e())],[l.w.paragraph(e())],[l.w.paragraph(e())]])]),keywords:["heading","4 column","paragraph"]},titleWith2ColumnImageLeft:{id:"titleWith2ColumnImageLeft",createdBy:null,name:()=>a.Ru._({id:"6edF/U"}),description:()=>a.Ru._({id:"SzGG7G"}),jsonContent:l.w.card([l.w.columns([[l.w.mediaPlaceholder()],[l.w.heading(),l.w.paragraph(e())]],{cellAttrs:{verticalAlign:"center"}})]),keywords:["title","2 column","image","left"]},titleWith2ColumnImageRight:{id:"titleWith2ColumnImageRight",createdBy:null,name:()=>a.Ru._({id:"afp0nb"}),description:()=>a.Ru._({id:"M7cuHB"}),jsonContent:l.w.card([l.w.columns([[l.w.heading(),l.w.paragraph(e())],[l.w.mediaPlaceholder()]],{cellAttrs:{verticalAlign:"center"}})]),keywords:["title","2 column","image","right"]},titleWith2ImageColumns:{id:"titleWith2ImageColumns",createdBy:null,name:()=>a.Ru._({id:"oVMU3f"}),description:()=>a.Ru._({id:"sqVSP2"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.mediaPlaceholder(),l.w.h3(),l.w.paragraph(e())],[l.w.mediaPlaceholder(),l.w.h3(),l.w.paragraph(e())]])]),keywords:["heading","2 column","image"]},titleWith3ImageColumns:{id:"titleWith3ImageColumns",createdBy:null,name:()=>a.Ru._({id:"ZjjVJt"}),description:()=>a.Ru._({id:"kmtZuD"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.mediaPlaceholder(),l.w.h4(),l.w.paragraph(e())],[l.w.mediaPlaceholder(),l.w.h4(),l.w.paragraph(e())],[l.w.mediaPlaceholder(),l.w.h4(),l.w.paragraph(e())]])]),keywords:["heading","3 column","paragraph","image"]},titleWith4ImageColumns:{id:"titleWith4ImageColumns",createdBy:null,name:()=>a.Ru._({id:"Re1S+b"}),description:()=>a.Ru._({id:"+x8oem"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.mediaPlaceholder(),l.w.h4(),l.w.paragraph(e())],[l.w.mediaPlaceholder(),l.w.h4(),l.w.paragraph(e())],[l.w.mediaPlaceholder(),l.w.h4(),l.w.paragraph(e())],[l.w.mediaPlaceholder(),l.w.h4(),l.w.paragraph(e())]])]),keywords:["heading","4 column","image"]},titleWith3ImagesWithText:{id:"titleWith3ImagesWithText",createdBy:null,name:()=>a.Ru._({id:"cDxTeG"}),description:()=>a.Ru._({id:"rwJuIz"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("imagesText",[l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())])],{options:{cellSize:10,shapeSize:"full",horizontalAlign:"left",imageShape:"square"}})]),keywords:["heading","image","layout"]},imageGallery:{id:"imageGallery",createdBy:null,name:()=>a.Ru._({id:"Oho0T7"}),description:()=>a.Ru._({id:"H87HG1"}),jsonContent:l.w.card([l.w.heading(),l.w.gallery([l.w.mediaPlaceholder({source:"image.custom"}),l.w.mediaPlaceholder({source:"image.custom"}),l.w.mediaPlaceholder({source:"image.custom"})])]),keywords:["heading","gallery","image"]},titleWithTeamPhotos:{id:"titleWithTeamPhotos",createdBy:null,name:()=>a.Ru._({id:"+kQMBP"}),description:()=>a.Ru._({id:"tt2nIz"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("imagesText",[l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"6YtxFj"})),l.w.paragraph(a.Ru._({id:"GDvlUT"})),l.w.paragraph(a.Ru._({id:"Nu4oKW"}),{fontSize:"sm"})]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"6YtxFj"})),l.w.paragraph(a.Ru._({id:"GDvlUT"})),l.w.paragraph(a.Ru._({id:"Nu4oKW"}),{fontSize:"sm"})]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"6YtxFj"})),l.w.paragraph(a.Ru._({id:"GDvlUT"})),l.w.paragraph(a.Ru._({id:"Nu4oKW"}),{fontSize:"sm"})])],{options:{cellSize:10,shapeSize:"full",horizontalAlign:"center",imageShape:"circle"}})]),keywords:["heading","image","team"]},accentRight:{id:"accentRight",createdBy:null,name:()=>a.Ru._({id:"Czo70+"}),description:()=>a.Ru._({id:"x5nYRE"}),jsonContent:l.w.card([l.w.heading(),l.w.paragraph(e())],{layout:"right"}),keywords:["accent"]},accentRightFit:{id:"accentRightFit",createdBy:null,name:()=>a.Ru._({id:"1BvkHE"}),description:()=>a.Ru._({id:"oItvxV"}),jsonContent:l.w.card([l.w.heading(),l.w.paragraph(e())],{layout:"right"},{fitType:"fit"}),keywords:["accent"]},accentLeft:{id:"accentLeft",createdBy:null,name:()=>a.Ru._({id:"5HMSY5"}),description:()=>a.Ru._({id:"c/I4N2"}),jsonContent:l.w.card([l.w.heading(),l.w.paragraph(e())],{layout:"left"}),keywords:["accent"]},accentLeftFit:{id:"accentLeftFit",createdBy:null,name:()=>a.Ru._({id:"bGTdlK"}),description:()=>a.Ru._({id:"r4fLNa"}),jsonContent:l.w.card([l.w.heading(),l.w.paragraph(e())],{layout:"left"},{fitType:"fit"}),keywords:["accent"]},accentTop:{id:"accentTop",createdBy:null,name:()=>a.Ru._({id:"BUdX7X"}),description:()=>a.Ru._({id:"QuKih6"}),jsonContent:l.w.card([l.w.heading(),l.w.paragraph(e())],{layout:"top"}),keywords:["accent"]},accentBackground:{id:"accentBackground",createdBy:null,name:()=>a.Ru._({id:"CDFCZ5"}),description:()=>a.Ru._({id:"uFWjQ5"}),jsonContent:l.w.card([l.w.heading(),l.w.paragraph(e())],{layout:"behind"}),keywords:["accent"]},titleWith3NestedCards:{id:"titleWith3NestedCards",createdBy:null,name:()=>a.Ru._({id:"ORoO1f"}),description:()=>a.Ru._({id:"J89hiV"}),jsonContent:l.w.card([l.w.heading(),l.w.card([l.w.heading(),l.w.paragraph()]),l.w.card([l.w.heading(),l.w.paragraph()]),l.w.card([l.w.heading(),l.w.paragraph()])]),keywords:["heading","nested","card"]},titleWith3Toggles:{id:"titleWith3Toggles",createdBy:null,name:()=>a.Ru._({id:"Sf3ASu"}),description:()=>a.Ru._({id:"58JI2k"}),jsonContent:l.w.card([l.w.heading(),l.w.toggle([l.w.paragraph(e())]),l.w.toggle([l.w.paragraph(e())]),l.w.toggle([l.w.paragraph(e())])]),keywords:["heading","toggle"]},titleWithTimeline:{id:"titleWithTimeline",createdBy:null,name:()=>a.Ru._({id:"cklVjM"}),description:()=>a.Ru._({id:"Wdyt2J"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("timeline",[l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())])],{options:{orientation:"vertical",twoSided:!1}})]),keywords:["heading","timeline"]},titleWithLargeBulletList:{id:"titleWithLargeBulletList",createdBy:null,name:()=>a.Ru._({id:"F5uDGO"}),description:()=>a.Ru._({id:"g1FTqD"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("bigBullets",[l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())])],{options:{cellSize:20}})]),keywords:["heading","bullet","list"]},titleWithIconsWithText:{id:"titleWithIconsWithText",createdBy:null,name:()=>a.Ru._({id:"joUkNe"}),description:()=>a.Ru._({id:"DHZYRd"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("iconsText",[l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())])],{options:{cellSize:10,shapeSize:"md",horizontalAlign:"center"}})]),keywords:["heading","icons"]},titleWithSmallIconsAndText:{id:"titleWithSmallIconsAndText",createdBy:null,name:()=>a.Ru._({id:"AhHG+7"}),description:()=>a.Ru._({id:"L8/5yN"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("iconsText",[l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())])],{options:{cellSize:10,shapeSize:"sm",horizontalAlign:"left"}})]),keywords:["heading","icons"]},titleWithTextBoxes:{id:"titleWithTextBoxes",createdBy:null,name:()=>a.Ru._({id:"b7qbjN"}),description:()=>a.Ru._({id:"Cg0xBG"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("solidBoxes",[l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())])],{options:{cellSize:15}})]),keywords:["heading","boxes"]},titleWithArrows:{id:"titleWithArrows",createdBy:null,name:()=>a.Ru._({id:"YUGjgn"}),description:()=>a.Ru._({id:"SnGUtD"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("arrows",[l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())]),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())])],{options:{cellSize:10}})]),keywords:["arrows","process","sequence","flow"]},titleWithColumnChart:{id:"titleWithColumnChart",createdBy:null,name:()=>a.Ru._({id:"kaIve5"}),description:()=>a.Ru._({id:"EE/H36"}),jsonContent:l.w.card([l.w.heading(),l.w.columnChart()]),keywords:["heading","chart","column chart"],featureFlag:"enableCharts"},titleWithBarChart:{id:"titleWithBarChart",createdBy:null,name:()=>a.Ru._({id:"JXpNuP"}),description:()=>a.Ru._({id:"2s/J1+"}),jsonContent:l.w.card([l.w.heading(),l.w.barChart()]),keywords:["heading","chart","bar chart"],featureFlag:"enableCharts"},titleWithLineChart:{id:"titleWithLineChart",createdBy:null,name:()=>a.Ru._({id:"Kt/Lzz"}),description:()=>a.Ru._({id:"eRabUB"}),jsonContent:l.w.card([l.w.heading(),l.w.lineChart()]),keywords:["heading","chart","line chart"],featureFlag:"enableCharts"},titleWithPieChart:{id:"titleWithPieChart",createdBy:null,name:()=>a.Ru._({id:"5+y+OQ"}),description:()=>a.Ru._({id:"zIzb1A"}),jsonContent:l.w.card([l.w.heading(),l.w.pieChart()]),keywords:["heading","chart","pie chart"],featureFlag:"enableCharts"},titleWithDonutChart:{id:"titleWithDonutChart",createdBy:null,name:()=>a.Ru._({id:"DNipMm"}),description:()=>a.Ru._({id:"MWtClR"}),jsonContent:l.w.card([l.w.heading(),l.w.donutChart()]),keywords:["heading","chart","donut chart"],featureFlag:"enableCharts"},titleWithStats:{id:"titleWithStats",createdBy:null,name:()=>a.Ru._({id:"w0arAq"}),description:()=>a.Ru._({id:"YEhR/1"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("stats",[l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"nH8BJ4"})),l.w.paragraph(e())],{label:"25%"}),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"nH8BJ4"})),l.w.paragraph(e())],{label:"3/4"}),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"nH8BJ4"})),l.w.paragraph(e())],{label:"50"})],{options:{cellSize:15,shapeSize:"lg"}})]),keywords:["heading","stats"]},barStatsWithText:{id:"barStatsWithText",createdBy:null,name:()=>a.Ru._({id:"LYRXtx"}),description:()=>a.Ru._({id:"DgfiYp"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("barStats",[l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"nH8BJ4"})),l.w.paragraph(e())],{label:"25%"}),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"nH8BJ4"})),l.w.paragraph(e())],{label:"3/4"})],{options:{cellSize:20}})]),keywords:["heading","stats"]},titleWithCircleStats:{id:"titleWithCircleStats",createdBy:null,name:()=>a.Ru._({id:"mvpFPS"}),description:()=>a.Ru._({id:"9AzsRa"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("circleStats",[l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())],{label:"25%"}),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())],{label:"1/3"}),l.w.smartLayoutCell([l.w.h3(a.Ru._({id:"HX5SVx"})),l.w.paragraph(e())],{label:"75"})],{options:{cellSize:10,horizontalAlign:"center"}})]),keywords:["arrows","process","sequence","flow"]},titleWith3RowTable:{id:"titleWith3RowTable",createdBy:null,name:()=>a.Ru._({id:"aDo58o"}),description:()=>a.Ru._({id:"2ZoOCu"}),jsonContent:l.w.card([l.w.heading(),l.w.table([l.w.tableRow([l.w.tableCell([l.w.paragraph()]),l.w.tableCell([l.w.paragraph()]),l.w.tableCell([l.w.paragraph()])]),l.w.tableRow([l.w.tableCell([l.w.paragraph()]),l.w.tableCell([l.w.paragraph()]),l.w.tableCell([l.w.paragraph()])]),l.w.tableRow([l.w.tableCell([l.w.paragraph()]),l.w.tableCell([l.w.paragraph()]),l.w.tableCell([l.w.paragraph()])])])]),keywords:["heading","table"]},funnelWithText:{id:"funnelWithText",createdBy:null,name:()=>a.Ru._({id:"ETqzyH"}),description:()=>a.Ru._({id:"GxaYRj"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.smartLayout("funnel",[l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()])],{options:{numbered:!0,outsideText:!1}})],[l.w.h2(),l.w.paragraph(e())]],{cellAttrs:{verticalAlign:"center"}})]),keywords:["heading","funnel"]},steppedPyramidWithText:{id:"steppedPyramidWithText",createdBy:null,name:()=>a.Ru._({id:"6xmZsQ"}),description:()=>a.Ru._({id:"GqW7Xg"}),jsonContent:l.w.card([l.w.heading(),l.w.columns([[l.w.smartLayout("staircase",[l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()])],{options:{outsideText:!1,horizontalAlign:"center"}})],[l.w.h2(),l.w.paragraph(e())]],{cellAttrs:{verticalAlign:"center"}})]),keywords:["heading","pyramid","stepped","staircase"]},leftSteppedPyramidWithTitleAndTextOutside:{id:"leftSteppedPyramidWithTitleAndTextOutside",createdBy:null,name:()=>a.Ru._({id:"6j13ZR"}),description:()=>a.Ru._({id:"JGF7vo"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("staircase",[l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()])],{options:{outsideText:!1,horizontalAlign:"left"}})]),keywords:["heading","pyramid","stepped","staircase"]},pyramidWithTitleAndTextOutside:{id:"pyramidWithTitleAndTextOutside",createdBy:null,name:()=>a.Ru._({id:"l1mM+L"}),description:()=>a.Ru._({id:"L0QPEt"}),jsonContent:l.w.card([l.w.heading(),l.w.smartLayout("pyramid",[l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()]),l.w.smartLayoutCell([l.w.h3()])],{options:{numbered:!0,outsideText:!0}})]),keywords:["heading","pyramid"]},titleWithContentAndButton:{id:"titleWithContentAndButton",name:()=>a.Ru._({id:"FJJPAA"}),createdBy:null,description:()=>a.Ru._({id:"itiMvE"}),jsonContent:l.w.card([l.w.heading(),l.w.paragraph(e()),l.w.buttons([l.w.button(a.Ru._({id:"uWe4QF"}),{variant:"solid"}),l.w.button(a.Ru._({id:"zwWKhA"}),{variant:"outline"})])]),keywords:["button","heading","paragraph"]},titleWithYouTubeEmbed:{id:"titleWithYouTubeEmbed",createdBy:null,name:()=>a.Ru._({id:"D1Tqqj"}),description:()=>a.Ru._({id:"s0st+i"}),jsonContent:l.w.card([l.w.heading(),l.w.mediaPlaceholder({source:"video.youtube"})]),keywords:["heading","embed","video"]},titleWithWebpageEmbed:{id:"titleWithWebpageEmbed",createdBy:null,name:()=>a.Ru._({id:"8FOKyw"}),description:()=>a.Ru._({id:"0ngLOJ"}),jsonContent:l.w.card([l.w.heading(),l.w.mediaPlaceholder({source:"embed.custom"})]),keywords:["heading","embed","webpage"]},titleCard:{id:"titleCard",createdBy:null,name:()=>a.Ru._({id:"5U/oBM"}),description:()=>a.Ru._({id:"rYur7N"}),jsonContent:l.w.card([l.w.title(),l.w.h2()]),keywords:["title"]},titleWithGif:{id:"titleWithGif",createdBy:null,name:()=>a.Ru._({id:"wRkP2d"}),description:()=>a.Ru._({id:"kHFDdm"}),jsonContent:l.w.card([l.w.heading(),l.w.mediaPlaceholder({source:"image.giphy"})]),keywords:["heading","embed","webpage"]},titleWithDiagram:{id:"titleWithDiagram",createdBy:null,name:()=>a.Ru._({id:"i+ShMB"}),description:()=>a.Ru._({id:"6i4/hD"}),jsonContent:l.w.card([l.w.heading(),l.w.diagram()]),keywords:["heading","diagram"],featureFlag:"tldraw2"}}},s=()=>Object.values(o()),d=()=>s().reduce((e,t)=>(e[t.id]=t.jsonContent,e),{}),c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return(0,r.g)(e).map(e=>{let{name:t,templateIds:n}=e,a=n.map(e=>o()[e]);return{subcategory:t(),items:a}})},u=(e,t,n)=>{try{if(t.featureFlag&&!i.of.get(t.featureFlag)||(null==n?void 0:n(t)))return!0;return!1}catch(e){return!0}}},50729:(e,t,n)=>{"use strict";var a=Object.create?function(e,t,n,a){void 0===a&&(a=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,i)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]};Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)}(n(10139),t)},50764:(e,t,n)=>{"use strict";n.d(t,{bA:()=>C,lF:()=>b,L3:()=>f,pl:()=>v,JL:()=>y});var a=n(22905),i=n(63867),r=n(97255),l=n(5061),o=n(15607),s=n(29608),d=n(67864),c=n(61385),u=n(47665),p=n(16264),h=n(61964),g=n(56603);let m=new i.hs("BlockHoverKey");class x{getHoverAbsPos(e){return this.hoverPos?(0,g.d_)(e,this.hoverPos):null}getAnnotableAbsPos(e){return this.annotatablePos?(0,g.d_)(e,this.annotatablePos):null}apply(e,t){let n=e.getMeta(m);return n&&"setHoverPos"in n&&this.handleSetPos(t,n),this}handleSetPos(e,t){return this.hoverPos=null===t.setHoverPos?null:(0,g.JO)(e,t.setHoverPos),this.annotatablePos=null===t.setAnnotatablePos?null:(0,g.JO)(e,t.setAnnotatablePos),this}constructor(){this.hoverPos=null,this.annotatablePos=null}}let f=e=>{var t;return(null==(t=e.find(e=>e.spec.isTableHover))?void 0:t.spec)||{}},b=e=>{var t;return(null==(t=e.find(e=>e.spec.isTableFocus))?void 0:t.spec)||{}},v=e=>e.some(e=>e.spec.isAnnotatableHover),y=e=>e.some(e=>e.spec.isBlockHover),w=(e,t)=>(0,d.Ti)(e,t)||(0,p.cC)(e);function C(e){return new i.k_({key:m,state:{init:()=>new x,apply:(e,t,n,a)=>t.apply(e,a)},props:{handleDOMEvents:{mousemove(e,t){if((0,s.Xb)()||!t.target.closest(".".concat(c.QJ)))return;let{clientX:n,clientY:a}=t,i=e.posAtCoords({left:n,top:a}),r=i&&e.state.doc.resolve(i.inside),o=null,d=null;if((null==r?void 0:r.nodeAfter)&&(o=r.pos,(0,u.jg)(r.nodeAfter)||(0,u.sw)(r.nodeAfter)||(d=r.pos)),!d){let t=(0,l.ix)()?100:-100,i=e.posAtCoords({left:n+t,top:a}),r=i&&e.state.doc.resolve(i.inside);(null==r?void 0:r.nodeAfter)&&!(0,u.jg)(r.nodeAfter)&&!(0,u.sw)(r.nodeAfter)&&(d=r.pos)}let p=m.getState(e.state);if(o!==p.getHoverAbsPos(e.state)||d!==p.getAnnotableAbsPos(e.state)){let t=e.state.tr;t.setMeta(m,{setHoverPos:o,setAnnotatablePos:d}),e.dispatch(t)}}},decorations(e){var t,n;let i,l=m.getState(e),s=l.getHoverAbsPos(e);if(null===s)return r.zF.empty;try{i=e.doc.resolve(s)}catch(e){return r.zF.empty}let c=[];(0,o.IV)(i,w).forEach(e=>{let{pos:t,node:n}=e;c.push(r.NZ.node(t,t+n.nodeSize,{},{isBlockHover:!0}))});let u=(0,a.eL)(i,e=>"table"===e.type.name),p=(null==(t=i.nodeAfter)?void 0:t.type.name)==="tableCell"?{pos:i.pos,node:i.nodeAfter}:(0,a.eL)(i,e=>"tableCell"===e.type.name);if(u&&p){let{left:e,top:t}=h.J3.get(u.node).findCell(p.pos-(u.pos+1));c.push(r.NZ.node(u.pos,u.pos+u.node.nodeSize,{},{isTableHover:!0,rowHover:t,colHover:e}))}let g=e.selection.$from,x=(0,a.eL)(g,e=>"table"===e.type.name),f=(null==(n=g.nodeAfter)?void 0:n.type.name)==="tableCell"?{pos:g.pos,node:g.nodeAfter}:(0,a.eL)(g,e=>"tableCell"===e.type.name);if(x&&f){let{left:e}=h.J3.get(x.node).findCell(f.pos-(x.pos+1));c.push(r.NZ.node(x.pos,x.pos+x.node.nodeSize,{},{isTableFocus:!0,colFocus:e}))}let b=l.getAnnotableAbsPos(e);if(null!==b){let t;try{t=e.doc.resolve(b)}catch(e){return r.zF.empty}(0,o.IV)(t,d.Ti).forEach(e=>{let{pos:t,node:n}=e;c.push(r.NZ.node(t,t+n.nodeSize,{},{isAnnotatableHover:!0}))})}try{return r.zF.create(e.doc,c)}catch(e){return r.zF.empty}}}})}},50861:(e,t,n)=>{"use strict";n.d(t,{Bv:()=>s,Ez:()=>b,JY:()=>h,Kk:()=>f,Xs:()=>x,Zj:()=>p,_Y:()=>c,bi:()=>d,eb:()=>g,gk:()=>m,lQ:()=>u});var a=n(83740),i=n(45934),r=n(14389),l=n(60908);let o=["image","video","embed","mediaPlaceholder"],s=e=>d(e.type),d=e=>o.includes(e.name),c=e=>"video"===e.type.name||"embed"===e.type.name,u=e=>e.href||e.url||e.sourceUrl||e.embedUrl||void 0,p=e=>{var t;return(null==(t=e.embed)?void 0:t.url)?e.embed.url:"embedUrl"in e&&e.embedUrl?e.embedUrl:u(e)},h=e=>{var t,n;let a=e.attrs;return[null==(t=a.meta)?void 0:t.title,null==(n=a.meta)?void 0:n.site].filter(Boolean).join(" - ")},g=(e,t)=>{var n;return null!=(n=e.clickBehavior)?n:t?"newTab":"expand"},m=e=>null!=e?e:"expand",x=e=>(0,l.SV)((null==e?void 0:e.src)||(null==e?void 0:e.tempUrl))&&(e.source===a.f.key||e.source===i.u.key),f=(e,t)=>{if(!e)return e;try{let n=new URL(e);return n.searchParams.set("ctx",t||"inline-svg"),n.toString()}catch(t){return console.error("[getSrcUrlForInlineSvg] Error with src url for inline SVG",t),e}},b=e=>{let{width:t,height:n,resize:a}=e.meta||{};if(!t||!n||(null==a?void 0:a.isAuto)===!1)return e;let i=r.St,l=window.innerHeight*r.Mg;return n/t*i>l?{...e,resize:{width:Math.min(i,t/n*l),clipType:null,clipPath:null,clipAspectRatio:null,isAuto:!0}}:e}},51022:(e,t,n)=>{"use strict";n.d(t,{DL:()=>r,is:()=>o,rw:()=>i,yI:()=>l});var a=n(89942);let i=5e4,r=1e5,l=1e5,o=()=>{let e=(0,a.ez)("ai_tokens_pro"),t=(0,a.ez)("ai_tokens_plus");return{maxTokens:e?l:t?r:i,canUpgrade:!e}}},51312:(e,t,n)=>{"use strict";n.d(t,{d:()=>c});var a=n(6029),i=n(58959),r=n(48810),l=n(3276),o=n(91106),s=n(19564),d=n(5061);let c=e=>{let{imageElement:t,isError:n,isLoading:c,isCompact:u=!1}=e,p=(0,d.fW)();return t&&"image"===t.type?n?(0,a.jsxs)(i.z,{dir:p?"rtl":void 0,spacing:1,children:[(0,a.jsx)(r.E,{color:"red.500",fontSize:"xxs",children:(0,a.jsx)(s.x6,{id:"yabRr8"})}),(0,a.jsx)(o.qT,{color:"red.500",fontSize:u?"xxs":void 0,display:"block",lineHeight:"0",label:(0,a.jsx)(s.x6,{id:"mjco3+"})})]}):c?(0,a.jsx)(l.y,{size:"xs"}):null:null}},51650:()=>{},51808:(e,t,n)=>{"use strict";n.d(t,{z:()=>d});var a=n(6029),i=n(61204),r=n(49611),l=n(91106),o=n(77650);let s=[{key:"sm",name:()=>o.Ru._({id:"58+81B"}),buttonText:()=>o.Ru._({id:"ZQA8ce"}),description:()=>o.Ru._({id:"LX+k3Q"})},{key:"md",name:()=>o.Ru._({id:"ovBPCi"}),buttonText:()=>o.Ru._({id:"Tmu3kA"}),description:()=>o.Ru._({id:"Of2q2s"})},{key:"lg",name:()=>o.Ru._({id:"I5S9ZE"}),buttonText:()=>o.Ru._({id:"SMwD6s"}),description:()=>o.Ru._({id:"nRirkB"})}],d=e=>{let{contentWidth:t,defaultContentWidth:n,setWidth:o,allowedWidths:d=["sm","md","lg"]}=e;return(0,a.jsx)(i.e,{isAttached:!0,size:"sm",display:"flex",children:s.filter(e=>d.includes(e.key)).map(e=>{let i=t||e.key!==n?e.key===t?"trueblue.100":void 0:"trueblue.50";return(0,a.jsx)(l.Tz,{label:(0,a.jsx)(l.c8,{label:e.name(),description:e.description()}),placement:"top",children:(0,a.jsx)(r.$,{"aria-label":e.name(),px:"2.5",boxShadow:"none",variant:"plain",bg:i,onClick:()=>{o(e.key)},children:e.buttonText()})},e.key)})})}},52055:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var a=n(77650),i=n(7957),r=n(81570),l=n(50507);let o=()=>a.Ru._({id:"9FTolD"}),s=()=>({title:{type:"title",attrs:{level:1}},h1:{type:"heading",attrs:{level:1}},normalText:{type:"paragraph"},h2:{type:"heading",attrs:{level:2}},h3:{type:"heading",attrs:{level:3}},h4:{type:"heading",attrs:{level:4}},bulletedList:{type:"bullet",attrs:{indent:0}},numberedList:{type:"numbered",attrs:{indent:0}},todoList:{type:"todo",attrs:{indent:0}},blockquote:{type:"blockquote",content:[{type:"paragraph"}]},codeBlock:{type:"codeBlock"},mathBlock:{type:"math_display"},button:{type:"button",content:[{type:"text",text:a.Ru._({id:"uWe4QF"})}]},buttonGroup:{type:"buttonGroup",content:[{type:"button",content:[{type:"text",text:a.Ru._({id:"uWe4QF"})}]}]},table2:{type:"table",content:[{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]}]},table3:{type:"table",content:[{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]}]},table4:{type:"table",content:[{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]},{type:"tableRow",content:[{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]},{type:"tableCell",attrs:{colspan:1,rowspan:1},content:[{type:"paragraph"}]}]}]},columns2:{type:"gridLayout",content:[{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]}]},columns3:{type:"gridLayout",content:[{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]}]},columns4:{type:"gridLayout",content:[{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]},{type:"gridCell",content:[{type:"paragraph"}]}]},insertCardInside:{type:"card",content:[{type:"cardLayoutItem",attrs:{itemId:"body",background:{}},content:[{type:"heading",attrs:{level:1}}]}]},aiCardAfter:{type:"card",attrs:{generatorInput:r.O},content:[{type:"paragraph"}]},imageCard:{type:"card",content:[{type:"cardImageItem"}]},codeCard:{type:"card",content:[{type:"cardCodeItem"}]},footnote:{type:"footnote",content:[{type:"paragraph"}]},contributors:{type:"contributors"},divider:{type:"divider"},tableOfContents:[{type:"heading",attrs:{level:3},content:[{type:"text",text:o()}]},{type:"tableOfContents"}],gallery:{type:"gallery",content:[]},logoGallery:{type:"gallery",attrs:{layout:"logo"},content:[]},...(0,l.s2)(),...(0,i.i)(),toggle:{type:"toggle",content:[{type:"toggleSummary"},{type:"paragraph"}]}})},52297:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});let a={},i=async e=>{let t=a[e];if(t&&t.expires&&new Date(t.expires)-3e5>Date.now())return a[e];let n=await fetch("/api/transloadit/signature",{method:"POST",body:JSON.stringify({templateId:e})}),{signature:i,expires:r}=await n.json();return i&&r?(a[e]={signature:i,expires:r},a[e]):(console.error("Error getting Transloadit signature"),{signature:"",expires:""})}},52842:(e,t,n)=>{"use strict";n.d(t,{PN:()=>r,fJ:()=>i,lK:()=>l});var a=n(77650);let i="card-layout",r="25px",l={accentImage:()=>a.Ru._({id:"YXjp37"}),cardBackground:()=>a.Ru._({id:"VShVKA"})}},53138:(e,t,n)=>{"use strict";n.d(t,{TH:()=>u,YC:()=>g,kT:()=>p,nK:()=>h});var a=n(58495),i=n(87996),r=n(59230),l=n(52762),o=n(91242),s=n(46007),d=n(60908),c=n(16595);let u=(e,t,n,o)=>{var s;let u,p={type:l.h.IMAGE,source:i.mx.key,image:{uploadStatus:r.A.Uploading,source:i.mx.key}};(0,d.aI)(n.type)?(p.image.showPlaceholder=!0,u="HEIC_tempId_".concat((0,a.Ak)())):u=URL.createObjectURL(n),p.image.tempUrl=u;let h=(t,n)=>{if(!u&&!n)return;let a=u||n;(0,c.Ki)(e,a,t)};t.setNodeAttribute(o,"background",p).setMeta("imageUploadUpdateAttrs",!0),(0,i.QM)(n,null==(s=e.storage.mediaUpload)?void 0:s.orgId,{onOriginalFileUpload:h,onUploadComplete:h,onUploadFailed:t=>{(0,c.wt)(e,u,t),URL.revokeObjectURL(u)}})},p=(e,t)=>t.map(t=>(0,d.u3)(t.type)?g(t,e):(0,s.cZ)(t.type,(0,s.QC)(t))?m(t,e):null).filter(e=>null!==e),h=function(e,t,n){let a=p(e,t);if(0==a.length)return;let i=a.map(e=>e.content),r=e.state.doc.resolve(n),l=r.parent.inlineContent,s=n;l&&0===r.parentOffset?s=n-1:l&&null===r.nodeAfter&&(s=n+1),e.chain().insertContentAt(s,i,{updateSelection:!1}).command(e=>{var t;let{tr:n}=e,a=n.doc.resolve(n.mapping.map(s)),i=(0,o.s)(n.doc.resolve(a.pos-((null==(t=a.nodeBefore)?void 0:t.nodeSize)||1)));return i&&n.setSelection(i),!0}).run(),a.forEach(e=>{e.upload()}),setTimeout(()=>{e.commands.scrollIntoView()},200)},g=(e,t)=>{let n={uploadStatus:r.A.Uploading,source:i.mx.key};(0,d.aI)(e.type)?(n.showPlaceholder=!0,n.tempUrl="HEIC_tempId_".concat((0,a.Ak)())):n.tempUrl=URL.createObjectURL(e);let l=(e,a)=>{let i=n.tempUrl;(i||a)&&(0,c.Ki)(t,i||a,e)},o={onOriginalFileUpload:l,onUploadComplete:l,onUploadFailed:e=>{n.tempUrl&&((0,c.wt)(t,n.tempUrl,e),URL.revokeObjectURL(n.tempUrl))}};return{name:e.name,content:{type:"image",attrs:n},upload:()=>{var n;return(0,i.QM)(e,null==(n=t.storage.mediaUpload)?void 0:n.orgId,o)}}},m=(e,t)=>{let n=URL.createObjectURL(e),a={...(0,c.bY)(e),url:n},r=(e,a)=>{(n||a)&&(0,c.XJ)(t,n||a,e)},l={onOriginalFileUpload:r,onUploadComplete:r};return{name:e.name,content:{type:"embed",attrs:a},upload:()=>{var n;return(0,i.QM)(e,null==(n=t.storage.mediaUpload)?void 0:n.orgId,l,"node","doc")}}}},53615:(e,t,n)=>{"use strict";n.d(t,{D1:()=>s,Yj:()=>u,Z2:()=>g,n_:()=>x,os:()=>d,s6:()=>h,uY:()=>p});var a=n(34787),i=n(38394),r=n(45943),l=n(66607),o=n(50535);let s=(e,t)=>{if(!e.isEditable||!t.clipboardData)return!1;let n=t.clipboardData.getData("text/plain");if(!n||(0,r.tE)(n))return!1;let a=t.clipboardData.getData("text/html");if(null==a?void 0:a.includes("data-pm-slice"))return!1;let{state:i}=e;if(i.selection.$from.parent.type.spec.code){let t=i.tr.insertText(n);return e.view.dispatch(t),!0}let l=t.clipboardData.getData("vscode-editor-data"),o=l?JSON.parse(l):void 0,s=null==o?void 0:o.mode;if(!(!a||"markdown"===s||c(n)))return!1;let{from:d,to:u}=i.selection;return t.preventDefault(),e.commands.insertMarkdownAt({from:d,to:u},n)},d=(e,t,n)=>{let i=a.xI.parse(e),{slice:r}=(0,l.S)(i,t,n,{preserveWhitespace:!1});return r},c=e=>{let t=e.match(/^```/gm);if(t&&t.length>1||e.match(/\[[^]+\]\(https?:\/\/\S+\)/gm)||e.match(/\[[^]+\]\(\/\S+\)/gm)||e.match(/^#{1,6}\s+\S+/gm))return!0;let n=e.match(/^\s*[\d-*].\s\S+/gm);return!!(n&&n.length>1||e.match(/^\s*-{3,}\s*$/gm))},u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;t&&(i.A.prototype.escape=e=>e);let a=n.turndown(e);return t&&(i.A.prototype.escape=b),a},p=e=>a.xI.parse(e,{}),h=(e,t,n,a,i)=>{try{let r=e.slice(t,n).content,l=(0,o.t8)(r,e.type.schema),s=document.createElement("div");s.appendChild(l);let d=s.innerHTML;return u(d,a,i)}catch(a){return console.error("[caught] rangeToMarkdown: ",t,n,e.nodeSize,a),""}},g=(e,t,n)=>h(e,0,void 0,t,n),m=(e,t)=>{try{return e.getAttribute(t)}catch(e){return null}},x=()=>new i.A({headingStyle:"atx",bulletListMarker:"-",codeBlockStyle:"fenced",hr:"---"}).remove(["style"]).addRule("list",{filter:["ul","ol"],replacement:function(e,t){let n=t.parentNode;return((null==n?void 0:n.nodeName.match(/^(UL|OL)$/i))&&(e="    "+e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ")),(null==n?void 0:n.nodeName)==="LI"&&n.lastElementChild===t)?"\n"+e:"\n\n"+e+"\n\n"}}).addRule("listItem",{filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");let a=n.bulletListMarker||"-",i=a+" ",r=t.parentNode,l=m(t,"indent");if(null!==l){let e=parseInt(l,10);!isNaN(e)&&e>0&&(i="    ".repeat(e)+i)}let o=m(t,"variant");if(1===t.children.length&&t.children[0].nodeName.match(/^(UL|OL)$/i)&&t.textContent===t.children[0].textContent)i="    ";else if((null==r?void 0:r.nodeName)==="OL"){let e=r.getAttribute("start"),n=Array.prototype.indexOf.call(Array.prototype.filter.call(r.children,e=>"LI"===e.nodeName),t),l=e?Number(e)+n:n+1;i=i.replace(a,l+".")}else if("numbered"===o){let e=m(t,"start")||1;i=i.replace(a,e+".")}return i+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}}),f=x(),b=i.A.prototype.escape},53756:(e,t,n)=>{"use strict";n.d(t,{L:()=>s,X:()=>o});var a=n(55729),i=n(88586),r=n(82960);let l=["GetSavedMedia","GetUserSavedMedia","GetWorkspaceSavedMedia"],o=e=>{var t;let{docId:n,themeId:r,interactionId:o,scope:d="legacy",count:c=18,savedMediaContext:u}=e,{data:p,loading:h,fetchMore:g}=s({scope:d,docId:n,themeId:r,interactionId:o,count:c,savedMediaContext:u}),m=(0,a.useMemo)(()=>{switch(d){case"user":return"userSavedMedia";case"doc":return"workspaceSavedMedia";default:return"savedMedia"}},[d]),x=(0,a.useMemo)(()=>{var e;return((null==p||null==(e=p[m])?void 0:e.edges)||[]).map(e=>e.node)},[p,m]),f=null==p||null==(t=p[m])?void 0:t.pageInfo,[b,v]=(0,a.useState)(!1),y=(0,a.useCallback)(async()=>{if((null==f?void 0:f.hasNextPage)&&(null==f?void 0:f.endCursor)){v(!0);try{await g({variables:{after:f.endCursor},updateQuery:(e,t)=>{var n,a;let{fetchMoreResult:i}=t;if(!i)return e;let r=(null==(n=i[m])?void 0:n.edges)||[],l=[...(null==(a=e[m])?void 0:a.edges)||[],...r];return{...e,[m]:{...i[m],edges:l}}}})}catch(e){console.error("Error loading more images:",e)}finally{v(!1)}}},[g,f,m]),[w,C]=(0,a.useState)(null),[A,j]=(0,a.useState)(!1),[k,S]=(0,a.useState)(!1),[I]=(0,i.GQw)(),[E]=(0,i.t77)(),[R]=(0,i.sIv)(),L=(0,a.useCallback)(async e=>{C(e),j(!0);try{await I({variables:{id:e},update:t=>{t.evict({id:t.identify({id:e,__typename:"SavedMedia"})}),t.gc()},refetchQueries:l})}catch(e){console.error("Error deleting image:",e)}finally{C(null),j(!1)}},[I]),D=(0,a.useCallback)(async e=>{try{await R({variables:{ids:e},refetchQueries:l})}catch(e){console.error("Error unarchiving images:",e)}},[R]),M=(0,a.useCallback)(async e=>{let t=!1;S(!0);try{await E({variables:{ids:e},update:t=>{e.forEach(e=>{t.evict({id:t.identify({id:e,__typename:"SavedMedia"})})}),t.gc()},refetchQueries:l})}catch(e){console.error("Error deleting images:",e),t=!0}finally{S(!1)}return t?{success:!1}:{success:!0,undo:()=>D(e)}},[E,D]);return{history:x,loadMore:y,isLoadingMore:b,canLoadMore:!!(null==f?void 0:f.hasNextPage),isLoading:h,deleteImage:L,deletingId:w,isDeleting:A,isDeletingMany:k,deleteMany:M}},s=e=>{let{scope:t,interactionId:n,docId:a,themeId:l,count:o=18,savedMediaContext:s}=e,d={workspaceId:(0,r.x)(s),types:[i.zut.Image],source:"image.ai-generated",first:o,...n?{interactionId:n}:{}},c={type:i.zut.Image,source:"image.ai-generated",first:o},u={...a?{docId:a}:{},...l?{themeId:l}:{}},p=(0,i.abJ)({variables:{...d},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:"user"!==t}),h=(0,i.Gc5)({variables:{...d,...u},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:"doc"!==t}),g=(0,i.N3Q)({variables:{...c,...u},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",skip:"legacy"!==t});return"user"===t?p:"doc"===t?h:g}},53885:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});let a=new(n(63867)).hs("annotation")},53891:(e,t,n)=>{"use strict";n.d(t,{Hy:()=>o,Rv:()=>d,bG:()=>l,p8:()=>s,vb:()=>r});var a=n(15342),i=n(43634);let r=e=>{let t=(0,a.KA)();return(0,i.q)(e)(t.getState())||!1},l=(e,t)=>{(0,a.KA)().dispatch((0,i.z1)({toggleIds:[e],isExpanded:t}))},o=(e,t)=>{let n=[],r=(0,a.KA)();e.state.doc.descendants(e=>{if(!s(e))return;let{id:t}=e.attrs;n.push(t)}),r.dispatch((0,i.z1)({toggleIds:n,isExpanded:t}))},s=e=>"toggle"===e.type.name,d=e=>"toggleSummary"===e.type.name},54229:(e,t,n)=>{"use strict";n.d(t,{b:()=>R});var a=n(6029),i=n(57405),r=n(96500),l=n(40452),o=n(49611),s=n(99492),d=n(48621),c=n(19564),u=n(55729),p=n(95889),h=n(77650),g=n(83550),m=n(58959),x=n(48810),f=n(29810),b=n(83743),v=n(82328),y=n(14300);let w=e=>{let{label:t,colors:n,setColor:i,currentColor:r,isDefault:l,handleAddColorButtonClick:s}=e,{isInOfflineMode:d}=(0,v.u)();return(0,a.jsx)(g.r,{children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(m.z,{px:"2",fontSize:"sm",w:"100%",justifyContent:"space-between",alignItems:"center",mb:"2",mt:+!!s,children:[(0,a.jsx)(x.E,{children:t}),(0,a.jsx)(f.h,{}),s&&(0,a.jsx)(o.$,{variant:"link",fontSize:"sm",onClick:s,isDisabled:d,children:(0,a.jsx)(c.x6,{id:"ePK91l"})})]}),(0,a.jsx)(b.r,{gap:1.5,columns:6,p:2,pt:0,children:n.map((e,t)=>{let{hex:n,name:o}=e;return(0,a.jsx)(y.V,{name:o,color:n,setColor:i,isActive:l?null===r:r===n},t)})})]})})},C=()=>[{key:"black",hex:"#000000",name:h.Ru._({id:"THokF3"})},{key:"dark-gray",hex:"#4D4D4D",name:h.Ru._({id:"uUMrFZ"})},{key:"gray",hex:"#808080",name:h.Ru._({id:"qS5//Q"})},{key:"light-gray",hex:"#CCCCCC",name:h.Ru._({id:"xa/b9m"})},{key:"white-smoke",hex:"#F2F2F2",name:h.Ru._({id:"rGj3KB"})},{key:"white",hex:"#FFFFFF",name:h.Ru._({id:"5Ex+AP"})},{key:"light-sun",hex:"#FCEC99",name:h.Ru._({id:"nOXj3q"})},{key:"peach",hex:"#FFD1A7",name:h.Ru._({id:"68+2yw"})},{key:"salmon",hex:"#FAA1A1",name:h.Ru._({id:"TrGQaZ"})},{key:"lavender",hex:"#D8AFF8",name:h.Ru._({id:"gc4DdH"})},{key:"baby-blue",hex:"#AFCBF8",name:h.Ru._({id:"+bmpN5"})},{key:"pale-green",hex:"#AEE4BD",name:h.Ru._({id:"hUOhvE"})},{key:"gold",hex:"#F9D933",name:h.Ru._({id:"FYlHHU"})},{key:"orange",hex:"#FFA44F",name:h.Ru._({id:"4OE5Sf"})},{key:"red",hex:"#F44444",name:h.Ru._({id:"wRTiSD"})},{key:"purple",hex:"#B05EF1",name:h.Ru._({id:"mF9LxA"})},{key:"blue",hex:"#5E98F1",name:h.Ru._({id:"Zn5crm"})},{key:"green",hex:"#5CC97B",name:h.Ru._({id:"VmkjGB"})},{key:"dark-goldenrod",hex:"#957D00",name:h.Ru._({id:"vWWr+k"})},{key:"brown",hex:"#995515",name:h.Ru._({id:"JLxwQS"})},{key:"maroon",hex:"#910D0D",name:h.Ru._({id:"cg4yu3"})},{key:"dark-purple",hex:"#5E208E",name:h.Ru._({id:"oqSDkM"})},{key:"midnight-blue",hex:"#204C8E",name:h.Ru._({id:"QCyMdk"})},{key:"forest-green",hex:"#1F7135",name:h.Ru._({id:"HVCLqF"})}],A=e=>{let{setColor:t,currentColor:n}=e;return(0,a.jsx)(w,{label:h.Ru._({id:"Zp2USm"}),colors:C(),setColor:t,currentColor:n})};var j=n(15342),k=n(92699),S=n(62452),I=n(43634);let E=e=>{let{setColor:t,currentColor:n,showAddColorButton:i=!0}=e,r=(0,j.GV)(I.SJ),l=(0,S.ND)(r,!0).map(e=>{let t=(0,S.Ik)(e);return{hex:t,key:t}});return(0,a.jsx)(w,{label:h.Ru._({id:"J1XRO3"}),colors:l,setColor:t,currentColor:n,...i?{handleAddColorButtonClick:()=>{r.workspaceId?(0,k.vd)({theme:r}):(0,k.L6)({theme:r})}}:{},addColorLabel:null===r.workspaceId?h.Ru._({id:"0TWTg2"}):h.Ru._({id:"TExCtI"})})},R=e=>{let{currentColor:t,setColor:n,unsetColor:h=()=>n(null),source:g,showAddColorButton:m=!0}=e,x=(0,p.st)(),f=(0,u.useCallback)(e=>{null==x||x.track(p.VV.COLOR_PICKER_SET_COLOR,{color:e,source:g}),n(e)},[n,x,g]),b=(0,u.useCallback)(()=>{null==x||x.track(p.VV.COLOR_PICKER_RESET,{source:g}),h()},[h,x,g]);return(0,p.JQ)(e=>{e.track(p.VV.COLOR_PICKER_OPENED,{source:g})},[g]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.T,{divider:(0,a.jsx)(r.c,{}),p:0,align:"start",children:[(0,a.jsx)(E,{showAddColorButton:m,setColor:f,currentColor:t}),(0,a.jsx)(A,{setColor:f,currentColor:t})]}),(0,a.jsx)(l.s,{px:5,py:3,bg:"gray.50",alignItems:"center",justifyContent:"center",mx:-2,mb:-2,mt:2,children:(0,a.jsx)(o.$,{onClick:b,variant:"link",size:"sm",colorScheme:"gray",leftIcon:(0,a.jsx)(d.g,{icon:s.U23}),children:(0,a.jsx)(c.x6,{id:"L+rMC9"})})})]})}},54604:(e,t,n)=>{"use strict";n.d(t,{E:()=>c});var a=n(55729),i=n(39247),r=n(68301),l=n(15342),o=n(43634),s=n(85235),d=n(6845);n(61385);let c=e=>{let t=(0,a.useRef)("doc"),n=(0,l.CU)(),c=(0,l.GV)(i.NG),u=(0,l.GV)(n=>{let a=(0,o.$i)(n)||"",i=(0,o.Ev)(n),l=(0,o.bO)(n),d=(0,o.wC)(n),u=i.parents[a]||[],p=u.reduce((e,t)=>e[t],i.tree),h=l.includes(a),g=d===s.w.SLIDE_VIEW;if(g&&!h||!g&&h)return t.current;if(!g&&!h)return"doc";let m=l.filter(e=>p[e]&&!(null==c?void 0:c[e])),x=e=>p[e]?m.indexOf(e)-m.indexOf(a):1/0,f=x(e),b=u.indexOf(e)>-1,v=m.some(t=>p[t][e]&&1>=Math.abs(x(t))),y=a===e,w=r.of.get("presentModeFlat"),C=i.parents[e];if(!C)return t.current;let A=C.includes(a);return v||w&&A?"presentCollapsed":b?"presentParent":y?"presentCurrent":-1===f?"presentPrev":1===f?"presentNext":"doc"});return(0,a.useEffect)(()=>{t.current=u;let a=n.getState();if((0,o.e4)(a))return;let i=r.of.get("presentModeFlat");"presentCollapsed"!==u||i?["presentParent","presentCurrent","presentPrev","presentNext"].includes(u)&&(0,d.wE)(e,!1):(0,d.wE)(e,!0)},[n,u,e]),[u,t.current]}},54678:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var a=n(51684),i=n(77650),r=n(21959),l=n(76083),o=n(70666);let s=()=>[{key:"barChartVertical",name:()=>i.Ru._({id:"kaIve5"}),icon:a.s67,chartType:"bar"},{key:"barChartHorizontal",name:()=>i.Ru._({id:"JXpNuP"}),icon:a.Mkm,chartType:"horizontal-bar"},{key:"lineChart",name:()=>i.Ru._({id:"Kt/Lzz"}),icon:a.gK3,chartType:"line"},{key:"pieChart",name:()=>i.Ru._({id:"5+y+OQ"}),icon:a.W1p,chartType:"pie"},{key:"donutChart",name:()=>i.Ru._({id:"DNipMm"}),icon:a.oDg,chartType:"donut"}].map(e=>({nodeName:"chart",keywords:["graph",e.chartType],featureFlag:"enableCharts",execute:t=>{t.chain().insertChart(e.chartType,!0).editSelectedChart().run()},dragStartFn:t=>{let n=(0,r.r4)();(0,l.fS)(t,{type:"chart",attrs:{chartType:e.chartType,id:n,data:(0,o.$)(e.chartType)||{}}})},dragEndFn:e=>{e.commands.editSelectedChart()},...e}))},54958:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var a=n(60449),i=n.n(a),r=n(94289),l=n(63867);class o extends l.LN{parseKeyPath(e){let t=e.split(".");if(t.length>=2&&("step"===t[0]||"general"===t[0])){let n,a=t[0],i=parseInt(t[1]),r=t[2];if(isNaN(i))return{keyPath:e,selectionType:"property",propertyName:e};switch(r){case"text":n="text";break;case"image":n="image";break;default:n="step"}return{keyPath:e,selectionType:n,..."step"===a?{stepIndex:i}:{generalIndex:i},elementType:r||"selection"}}return{keyPath:e,selectionType:"property",propertyName:e}}map(e,t){let{deleted:n,pos:a}=t.mapResult(this.anchor),i=e.resolve(a);return n?l.LN.near(i):new o(i,this.keyPath)}content(){let e=this.getItemData();switch(this.context.selectionType){case"text":case"property":if("string"==typeof e){let t=this.node.type.schema.text(e);return new r.Ji(r.FK.from(t),0,0)}break;case"image":case"step":if(e&&"object"==typeof e)return new r.Ji(r.FK.empty,0,0)}return new r.Ji(r.FK.from(this.node),0,0)}getItemData(){var e,t,n,a,r,l,o,s,d,c;if(!this.node.attrs.data)return null;let u=this.node.attrs.data;switch(this.context.selectionType){case"step":if(void 0!==this.context.stepIndex)return null==(e=u.step)?void 0:e[this.context.stepIndex];if(void 0!==this.context.generalIndex)return null==(t=u.general)?void 0:t[this.context.generalIndex];break;case"text":if(void 0!==this.context.stepIndex)return null==(a=u.step)||null==(n=a[this.context.stepIndex])?void 0:n.text;if(void 0!==this.context.generalIndex)return null==(l=u.general)||null==(r=l[this.context.generalIndex])?void 0:r.text;break;case"image":if(void 0!==this.context.stepIndex)return null==(s=u.step)||null==(o=s[this.context.stepIndex])?void 0:o.image;if(void 0!==this.context.generalIndex)return null==(c=u.general)||null==(d=c[this.context.generalIndex])?void 0:d.image}return i()(u,this.keyPath)}getSelectionBounds(){return{type:this.context.selectionType,keyPath:this.keyPath,isTextSelection:"text"===this.context.selectionType,isImageSelection:"image"===this.context.selectionType,isStepSelection:"step"===this.context.selectionType,isPropertySelection:"property"===this.context.selectionType}}isInlineEditable(){return"text"===this.context.selectionType||"property"===this.context.selectionType}getSelectionDescription(){switch(this.context.selectionType){case"text":if(void 0!==this.context.stepIndex)return"Step ".concat(this.context.stepIndex+1," text");if(void 0!==this.context.generalIndex)return"General element ".concat(this.context.generalIndex+1," text");return"Text element";case"image":if(void 0!==this.context.stepIndex)return"Step ".concat(this.context.stepIndex+1," image");if(void 0!==this.context.generalIndex)return"General element ".concat(this.context.generalIndex+1," image");return"Image element";case"step":if(void 0!==this.context.stepIndex)return"Step ".concat(this.context.stepIndex+1);if(void 0!==this.context.generalIndex)return"General element ".concat(this.context.generalIndex+1);return"Step element";case"property":return"Property: ".concat(this.context.propertyName||this.keyPath);default:return"Selection: ".concat(this.keyPath)}}eq(e){return e instanceof o&&e.anchor==this.anchor&&e.keyPath==this.keyPath}toJSON(){return{type:"diagramItem",anchor:this.anchor,key:this.keyPath,selectionType:this.context.selectionType}}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new r.Ji(r.FK.empty,0,0);if(0===t.size&&"step"===this.context.selectionType){let t=JSON.parse(JSON.stringify(this.node.attrs.data));void 0!==this.context.stepIndex&&t.step&&(t.step.splice(this.context.stepIndex,1),e.setNodeMarkup(this.anchor,void 0,{...this.node.attrs,data:t}))}}static fromJSON(e,t){if("number"!=typeof t.anchor||"string"!=typeof t.key)throw RangeError("Invalid input for DiagramItemSelection.fromJSON");return new o(e.resolve(t.anchor),t.key)}static create(e,t,n){return new this(e.resolve(t),n)}static isSelectable(e){return"smartDiagram"===e.type.name&&e.attrs.data}static createStepSelection(e,t,n){return new this(e.resolve(t),"step.".concat(n,".selection"))}static createTextSelection(e,t,n){return new this(e.resolve(t),"step.".concat(n,".text"))}static createImageSelection(e,t,n){return new this(e.resolve(t),"step.".concat(n,".image"))}static createPropertySelection(e,t,n){return new this(e.resolve(t),n)}constructor(e,t){let n=e.nodeAfter;super(e,e.node(0).resolve(e.pos+n.nodeSize)),this.keyPath=t,this.node=n,this.context=this.parseKeyPath(t)}}if(o.prototype.visible=!1,!o.prototype.jsonID)try{l.LN.jsonID("diagramItem",o)}catch(e){}},55424:(e,t,n)=>{"use strict";n.d(t,{M:()=>i,q:()=>a});let a=e=>"smartLayoutCell"===e.type.name,i=e=>"smartLayout"===e.type.name},55670:(e,t,n)=>{"use strict";n.d(t,{S:()=>p});var a=n(40077),i=n(17006),r=n(62452);let l=e=>{let t="linear-gradient"===(0,r.Lz)(e).type?a.XA:a.N5;return{".card-code-item":{h1:(0,i.bh)("h1",e),h2:(0,i.bh)("h2",e),h3:(0,i.bh)("h3",e),h4:(0,i.bh)("h4",e),"h1, h2, h3, h4, h5, h6":{...t,width:"100%"},"img:not([src])":{width:"100%",backgroundColor:"gray.200",borderRadius:"var(--box-border-radius)",aspectRatio:"16/9"},"> *":{borderRadius:"var(--card-border-radius)"}}}};var o=n(61385),s=n(68093),d=n(23746),c=n(45214),u=n(58251);let p=(e,t)=>({...(0,a.dd)(e),...(0,d.EB)(e,t),...(0,i.tX)(e),...(0,s.V)(e),...(0,c.py)(),...(0,c.L$)(),...(0,u.zz)(),...l(e),[".".concat(o.QJ," .").concat(o._P)]:e.config.contentStyles})},55786:(e,t,n)=>{"use strict";n.d(t,{J:()=>l,f:()=>r});var a=n(94289),i=n(95889);let r=(e,t)=>{let n=Array.isArray(t)?t:[t],i=a.Ji.fromJSON(e.schema,{content:n});e.view.dragging={slice:i,move:!0},e.commands.setTextSelection(e.state.selection.from)},l=(e,t)=>{i.zS.track(i.VV.NODE_INSERTED,{node_name:e.nodeName,command:e.key,method:t}),"card"===e.nodeName&&i.zS.track(i.VV.CARD_CREATED,{method:t,command:e.key})}},55847:(e,t,n)=>{"use strict";n.d(t,{JD:()=>v,Rv:()=>f,fw:()=>b,r$:()=>x});var a=n(38867),i=n.n(a),r=n(63867),l=n(97255),o=n(41427),s=n(5061),d=n(15607),c=n(15597),u=n(36512),p=n(90010),h=n(66082),g=n(1636),m=n(79018);let x=e=>{let{doc:t}=e,n=[];return t.descendants((a,c)=>{let u;if(a.type.name!==g.o.name)return;let x=i()((0,d.F2)(a.content).map(e=>(0,m.x9)(e.attrs.label))),f=v(t.resolve(c)),b=(0,h.er)(e,c,c+a.nodeSize),y=(0,o.KQ)(a)||b||(0,s.C)(),w=e.selection instanceof r.nh&&e.selection.node===a||e.selection.from>c&&e.selection.to<c+a.nodeSize;a.forEach((e,t,n)=>{e.attrs.options.isEmphasized&&(u=n)});let C=(0,p.i4)(t,"scaleContentToFit"),A={isSmartLayoutDecoration:!0,direction:y,numCells:a.childCount,containerSize:f,scaleContentToFit:!!C};return n.push(l.NZ.node(c,c+a.nodeSize,{},A)),a.forEach((e,t,i)=>{let r=c+1+t,o={isSmartLayoutCellDecoration:!0,direction:y,index:i,numCells:a.childCount,maxLabelValue:x,smartLayoutAttrs:a.attrs,layoutContainerSize:f,isContentEmpty:(0,d.mf)(e),isLayoutFocused:w,emphasizedIndex:u,scaleContentToFit:!!C};n.push(l.NZ.node(r,r+e.nodeSize,{},o))}),!1}),l.zF.create(t,n)},f=e=>{let t=e.find(e=>e.spec.isSmartLayoutDecoration);return t?t.spec:(console.error("[SmartLayout] Decoration not found. This should never happen!",e),{isSmartLayoutDecoration:!0,direction:"ltr",numCells:0,containerSize:1})},b=e=>{let t=e.find(e=>e.spec.isSmartLayoutCellDecoration);return t?t.spec:(console.error("[SmartLayoutCell] Decoration not found. This should never happen!",e),{isSmartLayoutCellDecoration:!0,direction:"ltr",numCells:0,index:0,smartLayoutAttrs:{options:{},fullWidthBlock:!1},layoutContainerSize:1,isContentEmpty:!1,isLayoutFocused:!1})},v=e=>{let t=1;try{for(let a=e.depth;a>0;a--){let i=e.node(a),r=e.index(a-1);if("gridCell"===i.type.name){let n=e.node(a-1).attrs.colWidths;n&&n[r]&&(t*=parseInt(n[r])/100)}if("card"===i.type.name){var n;let{layout:a,layoutTemplateColumns:r,container:l}=i.attrs;if("left"===a){let e=r?parseInt(r.split(" ")[1])/100:c.Ib;t*=e}if("right"===a){let e=r?parseInt(r.split(" ")[0])/100:c.Ib;t*=e}let o=e.doc.firstChild.attrs,s=null!=(n=l.width)?n:o.settings.defaultContentWidth;"lg"===s?t*=u.br/u.Vy:"sm"===s&&(t*=u.lA/u.Vy);break}}}catch(e){console.error("[SmartLayout] Error getting container size decoration",e)}return t}},55860:(e,t,n)=>{"use strict";n.d(t,{D:()=>s,n:()=>o});var a=n(58495),i=n(63867),r=n(67200),l=n(77467);let o=()=>(0,a.Ak)(5),s=l.S.extend({name:"UniqueToggleId"}).configure({attributeName:"id",types:["toggle"],initialValue:o,filterTransaction:r.kz,pluginKey:new i.hs("UniqueToggleId")})},55978:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return{default:null,parseHTML:n=>{let a=n.getAttribute("data-".concat(t));if(a)return a;let i=e();return console.debug("[configureIdAttribute] generating id in parseHTML",i),i}}}},56124:(e,t,n)=>{"use strict";n.d(t,{VM:()=>o,dM:()=>l,hj:()=>i,ht:()=>r});var a=n(61964);let i=e=>"table"===e.type.name,r=e=>"tableCell"===e.type.name,l=500,o=e=>{let t=a.J3.get(e);return t.height*t.width>l}},56143:(e,t,n)=>{"use strict";n.d(t,{No:()=>j,YI:()=>I});var a=n(6029),i=n(46898),r=n(26420),l=n(26385),o=n(48810),s=n(58959),d=n(83638),c=n(25223),u=n(40162),p=n(36218),h=n(61204),g=n(49611),m=n(16936),x=n(99492),f=n(48621),b=n(91106),v=n(19564),y=n(77650),w=n(97139),C=n.n(w),A=n(55729);let j=e=>{let{isDark:t,feedbackTags:n=[],trackRating:m,trackFeedback:b}=e,[y,w]=(0,A.useState)(null),[j,E]=(0,A.useState)(!1),[R,L]=(0,A.useState)(""),[D,M]=(0,A.useState)(new Set),_=(0,A.useRef)(null),T=(0,i.d)(),N=(0,A.useCallback)(e=>{w(e),null==m||m(e),T({title:(0,a.jsx)(v.x6,{id:"2gZOCV"}),status:"success",position:"top",duration:1e3}),setTimeout(()=>{var e;null==_||null==(e=_.current)||e.scrollIntoView({behavior:"smooth"})},200)},[m,T]),z=(0,A.useCallback)(e=>{e||(null==b||b(y,C().sanitize(R),Array.from(D)),T({title:(0,a.jsx)(v.x6,{id:"+Rq0s/"}),status:"success",position:"top",duration:2e3,isClosable:!0})),E(!0)},[R,D,y,b,T]);return(0,a.jsx)(r.a,{p:4,borderRadius:"lg",border:"1px solid",borderColor:t?"whiteAlpha.100":"gray.200",position:"relative",children:j?(0,a.jsxs)(o.E,{color:t?"green.400":"green.600",textAlign:"center",children:[(0,a.jsx)(f.g,{icon:x.QRE})," ",(0,a.jsx)(v.x6,{id:"SOk0EB"})]}):(0,a.jsxs)(l.B,{spacing:4,children:[(0,a.jsxs)(l.B,{alignItems:"center",spacing:"1",children:[(0,a.jsx)(o.E,{fontSize:"sm",color:t?"whiteAlpha.800":"gray.500",children:(0,a.jsx)(v.x6,{id:"/djJcD"})}),y?(0,a.jsxs)(o.E,{textAlign:"center",color:t?"green.400":"green.600",children:[(0,a.jsx)(f.g,{icon:x.QRE})," ",(0,a.jsx)(v.x6,{id:"SOk0EB"})]}):(0,a.jsx)(o.E,{children:(0,a.jsx)(v.x6,{id:"cguR5Y"})})]}),(0,a.jsx)(s.z,{fontSize:"xl",width:"100%",children:k.map(e=>{let{key:n,ariaLabel:i,label:r,icon:l,color:o}=e,s=y===n;return(0,a.jsx)(S,{ariaLabel:i,label:r,icon:l,color:o,onClick:()=>N(n),isSelected:s,isDisabled:!1,isDark:t},n)})}),y&&"good"!==y&&n.length>0&&(0,a.jsxs)(d.MJ,{children:[(0,a.jsx)(c.l,{fontSize:"sm",color:t?"whiteAlpha.800":"gray.500",children:(0,a.jsx)(v.x6,{id:"467HY8"})}),(0,a.jsx)(u.B,{children:n.map(e=>{let{key:n,label:i}=e;return(0,a.jsx)(u.Q,{onClick:()=>{M(e=>{let t=new Set(e);return t.has(n)?t.delete(n):t.add(n),t})},children:(0,a.jsx)(I,{label:i,isDark:t,isSelected:D.has(n)})},n)})})]}),y&&(0,a.jsxs)(d.MJ,{textAlign:"center",children:[(0,a.jsx)(c.l,{fontSize:"sm",color:t?"whiteAlpha.800":"gray.500",children:"good"===y?(0,a.jsx)(v.x6,{id:"AmM8eQ"}):(0,a.jsx)(v.x6,{id:"PhJTrf"})}),(0,a.jsx)(p.T,{value:R,onChange:e=>{L(e.target.value)},placeholder:"",size:"sm",mb:"4"}),(0,a.jsxs)(h.e,{spacing:"4",ref:_,children:[(0,a.jsx)(g.$,{variant:"text",onClick:()=>{z(!0)},children:(0,a.jsx)(v.x6,{id:"6Uau97"})}),(0,a.jsx)(g.$,{variant:"solid",isDisabled:""===R&&0===D.size,onClick:()=>z(!1),minW:32,children:(0,a.jsx)(v.x6,{id:"hQRttt"})})]})]})]})})},k=[{key:"bad",label:(0,a.jsx)(v.x6,{id:"XSfVsn"}),ariaLabel:()=>y.Ru._({id:"XSfVsn"}),icon:x.wB1,color:"red"},{key:"meh",label:(0,a.jsx)(v.x6,{id:"0ASQJH"}),ariaLabel:()=>y.Ru._({id:"0ASQJH"}),icon:x.s_F,color:"yellow"},{key:"good",label:(0,a.jsx)(v.x6,{id:"9ZYnL5"}),ariaLabel:()=>y.Ru._({id:"9ZYnL5"}),icon:x.Qpm,color:"green"}],S=e=>{let{label:t,ariaLabel:n,icon:i,color:r,isSelected:l,onClick:s,isDisabled:d,isDark:c}=e,u=c?"".concat(r,".200"):"".concat(r,".100"),p=c?"".concat(r,".600"):"".concat(r,".500");return(0,a.jsx)(b.Tz,{label:t,placement:"top",children:(0,a.jsx)(m.K,{"aria-label":n(),boxShadow:"none",bg:l?u:c?"whiteAlpha.300":"gray.50",_disabled:{opacity:"".concat(l?1:.5),cursor:"not-allowed"},color:l?p:c?"whiteAlpha.800":"gray.500",_hover:{backgroundColor:"".concat(r,".100"),color:"".concat(r,".500")},flex:1,icon:(0,a.jsx)(o.E,{fontSize:"2xl",children:(0,a.jsx)(f.g,{icon:i})}),isDisabled:d,variant:"plain",onClick:s})})},I=e=>{let{label:t,isDark:n,isSelected:i}=e;return(0,a.jsx)(g.$,{variant:"plain",size:"sm",height:"6",boxShadow:"none",bgGradient:"none",bg:i?n?"purple.500":"purple.100":n?"gray.700":"gray.50",color:i?n?"white":"purple.700":n?"white":"gray.700",borderColor:n?"whiteAlpha.200":"blackAlpha.200",_hover:{color:void 0},cursor:"pointer",children:t})}},56288:(e,t,n)=>{"use strict";n.d(t,{gk:()=>o,dC:()=>r,EC:()=>s});var a=n(55729);let i=a.useLayoutEffect,r=()=>{let e=(0,a.useRef)(null);return i(()=>{let t=document.createElement("div");return t.className="gamma-tooltip-portal",document.body.appendChild(t),e.current=t,()=>{document.body.contains(t)&&document.body.removeChild(t),e.current=null}},[]),e},l=(0,a.createContext)(null),o=l.Provider,s=()=>(0,a.useContext)(l)},56711:(e,t,n)=>{"use strict";n.d(t,{M:()=>k});var a=n(6029),i=n(67909),r=n(36071),l=n(54731),o=n(3674),s=n(40691),d=n(26385),c=n(26420),u=n(23293),p=n(48810),h=n(49611),g=n(58959),m=n(16426),x=n(91106),f=n(19564),b=n(55729),v=n(99038),y=n(15342),w=n(95889),C=n(63902),A=n(43634),j=n(16410);let k=e=>{let{link:t,confirmFunction:n,onClose:k}=e,S=(0,y.GV)(A.sX),I=(0,w.st)(),E=(0,b.useRef)(!1),R=(0,C.oR)()?"gamma.site":"gamma.app";return(0,b.useEffect)(()=>{E.current||(E.current=!0,null==I||I.track(w.VV.ABUSE_LINK_INTERCEPT_SHOWN,{docId:S,link:t}))},[I,S,t]),(0,a.jsxs)(i.aF,{isOpen:!0,trapFocus:!1,onClose:()=>k("cancel"),children:[(0,a.jsx)(r.m,{}),(0,a.jsxs)(l.$,{children:[(0,a.jsx)(o.s,{}),(0,a.jsx)(s.c,{alignItems:"center",textAlign:"center",children:(0,a.jsxs)(d.B,{mt:8,spacing:4,children:[(0,a.jsx)(c.a,{mx:"auto",children:(0,a.jsx)(x.uh,{w:"16"})}),(0,a.jsx)(u.D,{size:"lg",children:(0,a.jsx)(f.x6,{id:"7kvRf4",values:{GAMMA_PROPER_NOUN:v.On}})}),(0,a.jsx)(p.E,{children:(0,a.jsx)(f.x6,{id:"wkyxjZ",values:{gammaProperty:R},components:{0:(0,a.jsx)("code",{})}})}),(0,a.jsx)(p.E,{fontSize:"sm",py:1,borderRadius:"sm",color:"gray.600",fontFamily:"mono",bg:"blackAlpha.100",children:t}),(0,a.jsx)(d.B,{spacing:2,mt:2,children:(0,a.jsx)(h.$,{variant:"plain",onClick:()=>{n(t),null==I||I.track(w.VV.ABUSE_LINK_INTERCEPT_CONTINUE,{docId:S,link:t}),k("continue")},children:(0,a.jsx)(f.x6,{id:"xGVfLh"})})}),(0,a.jsx)(h.$,{onClick:()=>{null==I||I.track(w.VV.ABUSE_LINK_INTERCEPT_CANCEL,{docId:S,link:t}),k("cancel")},variant:"solid",children:(0,a.jsx)(f.x6,{id:"zx59ra"})}),(0,a.jsx)(g.z,{pt:2,flex:1,children:(0,a.jsx)(j._,{docId:S,buttonType:"button",onSubmitReport:()=>k("report")})})]})}),(0,a.jsx)(m.j,{})]})]})}},56801:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});class a extends Error{constructor(e,t){super(e),this.code=t,this.name="AccountStateError"}}},57860:(e,t,n)=>{"use strict";n.d(t,{h:()=>l});var a=n(55729),i=n(75484);let r=()=>{},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,a.useMemo)(()=>(r(),new i.K(e)),[]),n=function(){let[,e]=(0,a.useState)(0);return()=>e(e=>e+1)}();return(0,a.useEffect)(()=>{let e=!0;return t.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e&&n()})})}),()=>{t.destroy(),e=!1}},[t]),t}},57963:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var a=n(6029),i=n(36218),r=n(55729),l=n(11403);let o=(0,r.forwardRef)((e,t)=>{let{initialHeight:n="1em",bottomSpacing:o=0,onChange:s,resizeOnMount:d=!0,onKeyDown:c,...u}=e,p=(0,r.useRef)(null),h=null!=t?t:p,[g,m]=(0,r.useState)(!1),x=(0,r.useCallback)(()=>{"function"!=typeof h&&(null==h?void 0:h.current)&&(h.current.style.height=n,h.current.style.height="".concat(h.current.scrollHeight+o,"px"))},[n,h,o]),[f,b]=(0,r.useState)(!1);(0,l.Vg)(()=>{if(!f&&!d)return void b(!0);x()},[x,u.value,f,d],[u.value]);let v=(0,l.jm)(100);return(0,r.useEffect)(()=>{v&&x()},[v,x]),(0,a.jsx)(i.T,{h:n,minH:n,ref:h,resize:"none",overflow:"hidden",...u,onCompositionStart:()=>m(!0),onCompositionEnd:()=>m(!1),onChange:e=>{x(),null==s||s(e)},onKeyDown:e=>{g||null==c||c(e)}})});o.displayName="ResizingTextarea"},58082:(e,t,n)=>{"use strict";n.d(t,{a:()=>o,x:()=>s});var a=n(15342),i=n(95714),r=n(43634),l=n(16309);let o=e=>{let t=(0,a.GV)(r.SJ),{cardColorSolid:n,bodyColorSolid:i,primaryColorSolid:l,isCardDark:o}=s(e,t);return{theme:t,isDark:o,cardColor:n,bodyColor:i,primaryColor:l}},s=(e,t)=>{let{cardColorOverride:n}=(0,l.tg)(e);return(0,i.Dh)(t,n)}},58240:(e,t,n)=>{"use strict";n.d(t,{v:()=>d});var a=n(55729),i=n(91938),r=n(68301),l=n(23460);class o{static observeElement(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return"function"!=typeof IntersectionObserver?()=>{}:o.instance.doObserveElement(...t)}static get instance(){return o._instance||(o._instance=new o),o._instance}doObserveElement(e,t,n){let{rootMargin:a="0px 0px 0px 0px",root:i=null}=n,r=this.getObserverForRoot(i,a);return this.callbacksMap.has(r)||this.callbacksMap.set(r,new Map),this.callbacksMap.get(r).set(e,t),r.observe(e),()=>{this.disconnect(e,a,i)}}disconnect(e,t,n){var a,i;let r=this.getObserverForRoot(n,t,!0);if(!r)return;r.unobserve(e);let l=this.callbacksMap.get(r);l&&l.delete(e),(null==l||!l.size)&&(r.disconnect(),this.callbacksMap.delete(r),null==(a=this.intersectionObserversMap.get(n))||a.delete(t),(null==(i=this.intersectionObserversMap.get(n))?void 0:i.size)||this.intersectionObserversMap.delete(n))}getObserverForRoot(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.intersectionObserversMap.has(e)){if(n)return;this.intersectionObserversMap.set(e,new Map)}let a=this.intersectionObserversMap.get(e);if(!a.has(t)){if(n)return;a.set(t,new IntersectionObserver(this.intersectionCallback.bind(this),{root:e,rootMargin:t}))}return a.get(t)}intersectionCallback(e,t){let n=new Map,a=this.callbacksMap.get(t);a&&(e.forEach(e=>{n.has(e.target)||n.set(e.target,[]),n.get(e.target).push(e)}),n.forEach((e,t)=>{try{var n;null==(n=a.get(t))||n(e)}catch(e){console.error(e)}}))}constructor(){this.intersectionObserversMap=new Map,this.callbacksMap=new Map}}o._instance=null;class s{get stats(){let e={};return this.entries.forEach(t=>{var n;let{status:a}=t;e[a]=(null!=(n=e[a])?n:0)+1}),e}static get instance(){return s._instance||(s._instance=new s),s._instance}constructor(){this.entries=new Map,i.$.DEBUG_ENABLED&&"object"==typeof globalThis&&(globalThis.gammaInViewportStats=this)}}s._instance=void 0;let d=function(){var e,t,n;let{intersectionMargin:i="100% 0px 100% 0px",memoGroup:d,...c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=(0,r.u)("enableVirtualization"),p=(0,a.useId)(),h=(0,a.useRef)(),g=(0,a.useRef)(),m=u?c.dimensions?"HIDDEN":"PENDING":"VISIBLE",[x,f]=(0,a.useState)(m),b=(0,a.useRef)(x),[v,y]=(0,a.useState)(null!=(n=c.dimensions)?n:void 0),w=(0,a.useMemo)(()=>{let e=()=>{if("HIDDEN"===b.current&&h.current){let e=h.current.getBoundingClientRect();y({width:e.width,height:e.height})}f(b.current)},t=null;return function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;b.current=n,t&&(clearTimeout(t),t=null),t=setTimeout(()=>{t=null,e()},a)}},[]),C=null==c?void 0:c.loading,A=(e,t)=>{var n,a;if(!u){w("VISIBLE"),null==(n=g.current)||n.call(g);return}if(!e||C){null==(a=g.current)||a.call(g);return}let r=(0,l.Hc)(e,t);g.current=o.observeElement(e,e=>{var t;let n=null!=(t=b.current)?t:"PENDING",a=e.find(e=>e.isIntersecting);if("VISIBLE"!==n&&a)return void w("VISIBLE");"HIDDEN"===n||a||w("HIDDEN",1500)},{root:r,rootMargin:i})},j=(0,a.useCallback)(()=>{if(!h.current){var e;null==(e=g.current)||e.call(g);return}if(!c.loading){if(A(h.current,d),!c.dimensions&&!v){let e=h.current.getBoundingClientRect();y({width:e.width,height:e.height})}"PENDING"===b.current&&w("HIDDEN")}},[w,c.loading,null==(e=c.dimensions)?void 0:e.width,null==(t=c.dimensions)?void 0:t.height,null==v?void 0:v.width,null==v?void 0:v.height,d]),k=(0,a.useCallback)(e=>{h.current!==e&&(h.current=e,j())},[j]);return(0,a.useEffect)(()=>{var e;return s.instance.entries.set(p,{status:x,el:null!=(e=h.current)?e:null}),()=>{s.instance.entries.delete(p)}},[x,p]),{inViewport:"PENDING"===x?void 0:"VISIBLE"===x,ref:k,dimensions:v}}},58251:(e,t,n)=>{"use strict";n.d(t,{a0:()=>a,zz:()=>i});let a="themed-table",i=()=>({[".".concat(a)]:r}),r={border:"0.0625em solid var(--neutral-border-color)",borderRadius:"var(--box-border-radius)","tbody tr":{_even:{backgroundColor:"blackAlpha.50"},_odd:{backgroundColor:"whiteAlpha.50"}},td:{borderInlineStart:"0.0625em solid var(--shape-border-color)",_first:{borderInlineStartWidth:"0"}}}},58568:(e,t,n)=>{"use strict";n.d(t,{Lf:()=>c,Lh:()=>d});var a=n(55765),i=n.n(a),r=n(55729);class l{observe(e,t){this.observer?(this.observer.observe(e),this.observedElements.set(e,t)):t(s)}unobserve(e){this.observer&&(this.observer.unobserve(e),this.observedElements.delete(e),this.nextTickCallbacks.delete(e))}handleResize(e){let t=!1;for(let n of e){let e=this.observedElements.get(n.target);e&&(t=!0,this.nextTickCallbacks.set(n.target,()=>{e(n.contentRect)}))}t&&this.queueProcess()}queueProcess(){this.frameId&&(cancelAnimationFrame(this.frameId),this.frameId=null),this.frameId=requestAnimationFrame(()=>{for(let e of this.nextTickCallbacks.values())e();this.frameId=null})}constructor(){this.observedElements=new Map,this.nextTickCallbacks=new Map,this.frameId=null,this.observer=null,"undefined"!=typeof ResizeObserver&&(this.observer=new ResizeObserver(e=>this.handleResize(e)))}}let o=i()(()=>new l),s={width:1,height:1,top:0,left:0,fontSize:0};function d(e){let t=(0,r.useRef)(null),[{height:n,width:a},i]=(0,r.useState)(s);return(0,r.useEffect)(()=>{let e=t.current;return e&&o().observe(e,i),()=>{e&&o().unobserve(e)}},[e]),{ref:t,width:a,height:n}}function c(e){let t=(0,r.useRef)(null),[{height:n,width:a,top:i,left:l,fontSize:d},c]=(0,r.useState)(s);return(0,r.useEffect)(()=>{let e=t.current;return e&&o().observe(e,t=>{var n;c({width:t.width,height:t.height,top:e.offsetTop,left:e.offsetLeft,fontSize:null!=(n=parseFloat(window.getComputedStyle(e).fontSize))?n:16})}),()=>{e&&o().unobserve(e)}},[e]),{ref:t,width:a,height:n,top:i,left:l,fontSize:d}}},58617:(e,t,n)=>{"use strict";n.d(t,{c:()=>d});var a=n(22905),i=n(59275),r=n(41896),l=n(38934),o=n(46957),s=n(58638);let d=i.Ay.extend({selectable:!0,draggable:!0,group:"block media",priority:l.y.Image,addOptions(){var e;return{...null==(e=this.parent)?void 0:e.call(this),placeholders:{}}},addNodeView:()=>(0,r.gu)(s.v,{update:o.z0}),parseHTML:()=>[{tag:"img[src], img[tempUrl]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,a.KV)(t,{class:"gamma-simple-image"})]},addAttributes:()=>({src:{},tempUrl:{},uploadStatus:{},source:{},showPlaceholder:{}})})},58638:(e,t,n)=>{"use strict";n.d(t,{v:()=>c});var a=n(6029),i=n(26420),r=n(80314),l=n(33787),o=n(59230),s=n(41896),d=n(4522);let c=e=>{let{node:t}=e,{src:n,tempUrl:c,uploadStatus:u,showPlaceholder:p,id:h}=t.attrs;return(0,a.jsxs)(s.VR,{as:"div",children:[p&&(0,a.jsx)(d.VM,{...e}),!p&&(n||c)&&(0,a.jsxs)(i.a,{position:"relative",w:"100%",children:[(0,a.jsx)(r.N,{className:"image-link",href:n||c||"",target:"_blank",children:(0,a.jsx)(l._,{src:n||c||""})}),u==o.A.Uploading&&(0,a.jsx)(d.Td,{}),u==o.A.Error&&(0,a.jsx)(d.Hy,{})]})]})};c.displayName="simple-image-view"},58929:(e,t,n)=>{"use strict";n.d(t,{P:()=>o,f:()=>l});var a=n(77650),i=n(7836),r=n(68301);class l extends Error{static errorLogLevel(e){return"rate_limited"===e.type||"aborted"===e.type?"info":"network"===e.type||"timeout"===e.type?"warning":"error"}static async fromResponse(e){let t,n=e.clone();try{t=await e.json()}catch(e){t=await n.text()}let a=l.getTypeFromStatus(e.status);return new l({name:"fetch returned ".concat(e.status),type:a,body:t,message:(null==t?void 0:t.message)||e.statusText})}static getTypeFromStatus(e){switch(e){case 400:return"bad_request";case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not_found";case 409:return"conflict";case 429:return"rate_limited";default:return e>=500?"server":"network"}}static fromError(e,t){let n=new l({type:e,name:t.name,message:t.message});return n.stack=t.stack,n}static fromUserAbort(e){return new l({name:"User aborted fetch request",type:"aborted",message:e,body:{reason:e}})}static userFacingErrorDescription(e){if(e instanceof l)return e.userFacingErrorDescription()}logLevel(){return l.errorLogLevel(this)}logToErrorTracker(){if(r.of.get("disableAiErrorLogging"))return;let e=this.logLevel();("error"===e||"warning"===e)&&(0,i.EJ)(this,{customErrorType:"fetch"})}userFacingErrorDescription(){switch(this.type){case"rate_limited":return a.Ru._({id:"M68C8m"});case"network":return a.Ru._({id:"ZLU2WX"});default:return}}constructor(e){super(e.message),this.name=e.name,this.body=e.body,this.type=e.type}}async function o(e){var t,n;let a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null!=(t=r.parseResponse)?t:e=>e;a=!1===r.captureException?()=>{}:"function"==typeof r.captureException?r.captureException:e=>e.logToErrorTracker();let s=void 0!==r.maxDuration?AbortSignal.timeout(r.maxDuration):void 0,d=i.signal?AbortSignal.any([i.signal,s].filter(e=>!!e)):s;try{let t=await fetch(e,{...i,signal:d});if(!t.ok)throw await l.fromResponse(t);try{return await o(t)}catch(e){throw l.fromError("parse",e)}}catch(t){let e;throw a(e=(null==(n=i.signal)?void 0:n.aborted)?l.fromUserAbort(i.signal.reason):(null==s?void 0:s.aborted)?l.fromError("timeout",t):t instanceof l?t:l.fromError("network",t)),e}}},58964:(e,t,n)=>{"use strict";n.d(t,{Up:()=>a.U,MN:()=>l,hb:()=>o,TV:()=>d,qD:()=>c,mx:()=>u,GQ:()=>p.G,uF:()=>g,fo:()=>m.f,Zd:()=>v,Pl:()=>y.P,fG:()=>C,RA:()=>A,yj:()=>j,UX:()=>k,Oz:()=>S,Ve:()=>I,OO:()=>E,fX:()=>R,NR:()=>J,Dc:()=>$,sI:()=>L,Dr:()=>D,Il:()=>M,un:()=>T.u,xT:()=>_.x,sS:()=>z,fb:()=>P,st:()=>O,Ow:()=>F,w:()=>B,V2:()=>V,ap:()=>W,ae:()=>U.a,O5:()=>G,Rn:()=>K.R,Jp:()=>Q.J,r9:()=>Z,N$:()=>q});var a=n(40061),i=n(51684),r=n(77650);let l={label:()=>"Airtable",key:"embed.airtable",description:()=>r.Ru._({id:"KlL5LU"}),icon:i.Qte,image:{src:"/_next/static/media/airtable.e403549a.svg",height:64,width:64,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/airtable.com/,categories:["app","form"],defaultDisplayStyle:"inline",inlineInteractive:!0,iframeOptions:{allowPopups:!0},rewriteEmbedUrl:e=>{try{if(e.includes("/embed/"))return e;let t=new URL(e);return t.pathname="/embed".concat(t.pathname),t.toString()}catch(t){return e}},keywords:["airtable","database","spreadsheet","table"]},o={label:()=>"Amplitude",key:"embed.amplitude",keywords:["amplitude","analytics"],description:()=>r.Ru._({id:"wa1wV8"}),icon:i.q9c,image:{src:"/_next/static/media/amplitude.5828f141.svg",height:64,width:64,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/analytics.amplitude.com/};var s=n(81107);let d={key:"image.bing",label:()=>r.Ru._({id:"2V6hMo"}),icon:s.uu9,image:{src:"/_next/static/media/bing.0f94cfbe.svg",height:1024,width:678,blurWidth:0,blurHeight:0},keywords:["image","photo","bing","pic"]},c={label:()=>"Calendly",key:"embed.calendly",description:()=>r.Ru._({id:"grPhlY"}),icon:i.okg,image:{src:"/_next/static/media/calendly.d1a57857.svg",height:150,width:150,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/calendly.com/,defaultDisplayStyle:"inline",inlineInteractive:!0,categories:["form"],iframeOptions:{allowPopups:!0},keywords:["calendly","meeting","schedule","appointment"]},u={label:()=>r.Ru._({id:"bk8Zu0"}),key:"image.custom",description:()=>r.Ru._({id:"RPwTMJ"}),icon:i.Cyq,keywords:["image","upload"],resizeToFit:!0};var p=n(77569),h=n(55452);let g={label:()=>"Figma",key:"embed.figma",icon:s.slN,keywords:["design","prototype","wireframe","figjam","whiteboard"],description:()=>r.Ru._({id:"riUMyL"}),image:{src:"/_next/static/media/figma.14e7d0c1.svg",height:2500,width:1667,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/www.figma.com/,canEmbedPrivate:!0,forcePreviewOnMobile:!0,rewriteEmbedUrl:e=>{if(e.includes("embed.figma.com"))return e;let t=e.match(/figma\.com\/(file|proto|design|board)\/([^/?]+)\/([^/?]+)/);if(!t)return e;let[,n,a,i]=t;try{return"https://embed.figma.com/".concat(n,"/").concat(a,"/").concat(i,"?embed-host=share")}catch(t){return console.error("[FigmaProvider] Error rewriting Figma URL: ".concat(t)),h.l7("figmaEmbedData",{type:n,designId:a,title:i,url:e}),h.Cp(t),e}}};var m=n(83740),x=n(99038),f=n(15577),b=n(70006);let v={label:()=>"Gamma embed",key:"embed.gamma",icon:i.c9S,keywords:["embed"],description:()=>r.Ru._({id:"XLlwPZ",values:{GAMMA_ARTIFACT_PROPER_NOUN:x.TP}}),image:{src:"/_next/static/media/GammaIconLogoSquareGradient.b0f7e174.svg",height:40,width:40,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/(www\.|staging\.)?gamma.app/,canEmbedPrivate:!0,forcePreviewOnMobile:!0,rewriteEmbedUrl:e=>{if((0,b.fS)(e))return e;let t=(0,b.TY)(e),n=(0,f.t$)(e)||"gamma.app";return"https://".concat(n,"/embed/").concat(t)}};var y=n(49106),w=n(35816);let C={label:()=>"Google Drive",key:"embed.gdrive",description:()=>r.Ru._({id:"1q3pN1",values:{SHEETS_PROPER_NOUN:"Sheets",DOCS_PROPER_NOUN:"Docs",SLIDES_PROPER_NOUN:"Slides",GAMMA_ARTIFACT_PROPER_NOUN:x.TP}}),icon:s.xG9,image:w.A,urlRegex:/^https?:\/\/docs.google.com\//,canEmbedPrivate:!0,rewriteEmbedUrl:e=>{if(!e.includes("/presentation/"))return new URL(e.replace("/preview","/edit")).toString();{let t=new URL(e.replace("/edit","/preview"));return t.searchParams.set("rm","minimal"),t.toString()}},keywords:["docs","sheet","slide","gdrive","document"]},A={label:()=>"Google Form",key:"embed.google.form",description:()=>r.Ru._({id:"sgbNf4"}),icon:s.xG9,image:{src:"/_next/static/media/google-form.c5494f4d.svg",height:66,width:48,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/docs.google.com\/forms/,canEmbedPrivate:!0,keywords:["google form","form","survey","questionnaire"],defaultDisplayStyle:"inline",inlineInteractive:!0,categories:["form"],iframeOptions:{allowPopups:!0}},j={key:"image.google",label:()=>r.Ru._({id:"h2JWN5"}),icon:s.FjH,image:{src:"/_next/static/media/google-image.5d5a5835.svg",height:24,width:24,blurWidth:0,blurHeight:0},keywords:["image","photo"]},k={key:"color.gradient",label:()=>r.Ru._({id:"/S8bMP"}),description:()=>r.Ru._({id:"/XRwS6"}),icon:i.S7o,keywords:["gradient","color","mesh"]},S={label:()=>"Instagram",key:"embed.instagram",icon:s.QV6,image:{src:"/_next/static/media/instagram.d0a61bd7.svg",height:132,width:132,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/www.instagram.com/,defaultDisplayStyle:"inline",iframeOptions:{allowPopups:!0},inlineInteractive:!0,preferHtml:!0,keywords:["instagram","insta","social"],minWidth:"328px"},I={label:()=>"Jotform",key:"embed.jotform",description:()=>r.Ru._({id:"7yLOnm"}),icon:i.n2$,image:{src:"/_next/static/media/jotform.0a55e4a9.svg",height:334,width:304,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/form\.jotform\.com/,defaultDisplayStyle:"inline",inlineInteractive:!0,categories:["form"],iframeOptions:{allowPopups:!0},keywords:["jotform","form","survey","questionnaire"]},E={key:"image.lexica",featureFlag:"lexicaImageSearch",label:()=>r.Ru._({id:"cSVX+F"}),description:()=>r.Ru._({id:"RdyK6U"}),image:{src:"/_next/static/media/lexica.8699ff3f.png",height:48,width:48,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEVMaXH///+/v78xMTG2trYNDQ0SEhKwsLC6urqnp6cTTeQWAAAACnRSTlMAAd82rxZZ466vHPM4JQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAChJREFUeJxjYGBgZmYAAUYGTnYog4MJymDBYCCk2FlZwQxmNjY2VgYADLgAbROHxbEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},keywords:["ai","lexica","stable diffusion","generated","photo","photography","image"]},R={key:"video.loom",label:()=>r.Ru._({id:"yrPgHm"}),description:()=>r.Ru._({id:"NMTPSf"}),icon:i.n2W,image:{src:"/_next/static/media/loom.a033778e.svg",height:190,width:190,blurWidth:0,blurHeight:0},urlRegex:/^https:\/\/www.loom.com/,rewriteEmbedUrl:e=>{if(!e.includes("/embed/"))return e;let t=new URL(e);return t.searchParams.set("hideEmbedTopBar","true"),t.toString()},keywords:["video","recording","loom","screen"]},L={key:"embed.microsoft.office",label:()=>"Office 365",description:()=>r.Ru._({id:"cbRq5v",values:{MICROSOFT_PROPER_NOUN:"Microsoft",WORD_PROPER_NOUN:"Word",POWERPOINT_PROPER_NOUN:"PowerPoint",EXCEL_PROPER_NOUN:"Excel",ONENOTE_PROPER_NOUN:"OneNote"}}),icon:s.uu9,image:{src:"/_next/static/media/office-365.868363a8.svg",height:48,width:48,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/.*\.sharepoint\.com\//,canEmbedPrivate:!0,iframeOptions:{allowPopups:!0},rewriteEmbedUrl:e=>{let t=new URL(e.replace("/:p:/r","").replace("/doc2.aspx","/Doc.aspx"));return t.searchParams.set("action","embedview"),t.searchParams.delete("mobileredirect"),t.toString()},keywords:["word","excel","powerpoint","office","microsoft","msoffice"]},D={label:()=>r.Ru._({id:"yA1Sb+",values:{MIRO_PROPER_NOUN:"Miro"}}),key:"embed.miro",icon:i.Kuo,description:()=>r.Ru._({id:"Px3dYF"}),image:{src:"/_next/static/media/miro.78878247.svg",height:2500,width:2500,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/miro.com/,canEmbedPrivate:!0,forcePreviewOnMobile:!0,iframeOptions:{allowPopups:!0},keywords:["whiteboard","workshop","brainstorm","miro"],rewriteEmbedUrl:e=>(e.includes("/embed/")||e.includes("/live-embed/")||(e=e.replace("/board/","/embed/")),e.includes("embedAutoplay=")||(e+=(e.includes("?")?"&":"?")+"embedAutoplay=true&autoplay=yep"),e)},M={label:()=>r.Ru._({id:"1r0gtu"}),key:"embed.pdf",description:()=>r.Ru._({id:"2SUV3x"}),icon:i.O_q,urlRegex:/\.pdf$/,image:{src:"/_next/static/media/PDF_icon.2d280cf2.svg",height:512,width:512,blurWidth:0,blurHeight:0},featureFlag:"uploadPDF",iframeOptions:{noSandbox:!0},downloadable:!0,keywords:["pdf","doc","upload","file"]};var _=n(83658),T=n(45934),N=n(55597);let z={key:"embed.microsoft.powerbi",label:()=>"PowerBI",image:{src:"/_next/static/media/powerbi.94baf198.svg",height:630,width:630,blurWidth:0,blurHeight:0},icon:N.hem,urlRegex:/^https?:\/\/app\.powerbi\.com\//,canEmbedPrivate:!0,iframeOptions:{allowPopups:!0},keywords:["microsoft","powerbi"]},P={label:()=>r.Ru._({id:"toutGW"}),key:"image.qrCode",icon:n(99492).Yop,keywords:["qr","qrcode"],resizeToFit:!0},O={label:()=>"Spotify",key:"video.spotify",keywords:["spotify","music","podcast","playlist","song","album"],description:()=>r.Ru._({id:"lrKTd0"}),icon:s.QEP,image:{src:"/_next/static/media/spotify.2dd06f33.svg",height:1333,width:1333,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/open.spotify.com/,preferHtml:!0},F={label:()=>"Tally Form",key:"embed.tally",description:()=>r.Ru._({id:"Qzo1BZ"}),icon:i.n2$,image:{src:"/_next/static/media/tally.dd047104.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAANlBMVEVMaXE0E101El/WGcw0EV71GOI0E1ouBVgwEVs1EmAzEl40El9uFIbjG9v/Hu+cF6U3E1//HPTo62sPAAAAEnRSTlMAXX1kJiNdBtn+7KX26aH8oEjnHZjJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAANUlEQVR4nC3GQRKAIAzF0CjF9isK3v+yDB3eJsE3LJLBI0kDsFvqP8Cp9n4V8IiyCteB56QJO9EBVMm1x1cAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},urlRegex:/^https?:\/\/tally.so/,defaultDisplayStyle:"inline",inlineInteractive:!0,categories:["form"],iframeOptions:{allowPopups:!0}},H=/\/video\/(\d+)/,B={label:()=>"TikTok",key:"video.tiktok",icon:s.AIX,image:{src:"/_next/static/media/tiktok.cbd7f7ff.svg",height:256,width:256,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/www.tiktok.com/,defaultDisplayStyle:"inline",iframeOptions:{allowPopups:!0},preferHtml:!0,rewriteEmbedUrl(e){var t;let n=null==(t=e.match(H))?void 0:t[1];return n?"https://www.tiktok.com/embed/v2/".concat(n):e},keywords:["tiktok","video","social"],minWidth:"325px",maxWidth:"325px"},V={key:"embed.twitter",label:()=>"Tweet",icon:s.HQ1,image:{src:"/_next/static/media/twitter.c7499c85.svg",height:1110,width:1110,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/(www\.)?twitter\.com/,keywords:["twitter","tweet"],preferHtml:!0,defaultDisplayStyle:"inline",inlineInteractive:!0},W={label:()=>"Typeform",key:"embed.typeform",description:()=>r.Ru._({id:"yjYR46"}),icon:N.n2$,image:{src:"/_next/static/media/typeform.6d709d2e.svg",height:800,width:800,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/([a-z0-9]*\.)?typeform\.com/,defaultDisplayStyle:"inline",inlineInteractive:!0,categories:["form"],iframeOptions:{allowPopups:!0},keywords:["typeform","form","survey","questionnaire"]};var U=n(93043);let G={key:"video.vimeo",label:()=>r.Ru._({id:"M1Uyl1"}),icon:s.vYD,image:{src:"/_next/static/media/vimeo.4de20653.svg",height:48,width:48,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/(player\.)?vimeo\.com/,keywords:["vimeo","video"]};var K=n(14368),Q=n(83488);let Z={label:()=>"Wistia",key:"video.wistia",icon:i.n2W,image:{src:"/_next/static/media/wistia.613af213.svg",height:1899,width:2500,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/fast.wistia.net/,keywords:["wistia","video"]},q={key:"video.youtube",label:()=>r.Ru._({id:"7J5KkU"}),icon:s.B4m,image:{src:"/_next/static/media/youtube.b0610934.svg",height:461,width:461,blurWidth:0,blurHeight:0},urlRegex:/^https?:\/\/www\.youtube\.com/,keywords:["youtube","video"]},J=[d,y.P,j,K.R,E,U.a,q,R,g,A,C,Q.J,u,P,a.U,L,z,V,G,p.G,M,D,l,o,Z,O,B,S,k,m.f,c,W,I,F,v,_.x,T.u],$=Object.fromEntries(Object.values(J).flat().map(e=>[e.key,e]))},59080:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});let a={cardLayoutsEnabled:!1},i=e=>{if(!e)return{...a};let t=null;return("doc"===e.type.name?t=e.nodeAt(0):"document"===e.type.name&&(t=e),t)?{...a,...t.attrs.docFlags}:(console.debug("[getDocFlags] could not find document node, returning defaults"),{...a})}},59230:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var a=function(e){return e[e.Done=0]="Done",e[e.Uploading=1]="Uploading",e[e.Error=2]="Error",e[e.Queued=3]="Queued",e}({})},59320:(e,t,n)=>{"use strict";n.d(t,{Ey:()=>l,S5:()=>i,iq:()=>a,se:()=>r});let a="350px",i=1,r="temp-id",l=128},59543:(e,t,n)=>{"use strict";n.d(t,{t:()=>l});var a=n(68301),i=n(83747);class r extends i.b{initialize(){this.on("cardViewed",e=>{let{cardId:t,interval:n}=e;this.viewedCards[t]=this.viewedCards[t]||0,this.viewedCards[t]+=n});let e=()=>{var e;this.cardViewedThreshold=null!=(e=a.of.get("cardViewedThreshold"))?e:5e3};a.of.subscribe("cardViewedThreshold",e),e()}flush(){let e={};for(let t in this.viewedCards){let n=this.viewedCards[t];n&&!(n<this.cardViewedThreshold)&&(e[t]=Math.floor(n/1e3))}this.emit("flush",{viewed:e}),this.viewedCards={}}destroy(){this.flush(),this.off("cardViewed"),this.off("flush")}constructor(...e){super(...e),this.viewedCards={},this.cardViewedThreshold=a.of.get("cardViewedThreshold")}}let l=new r},59684:(e,t,n)=>{"use strict";n.d(t,{$v:()=>i,Bb:()=>a,K$:()=>s,hY:()=>l,tF:()=>r,tq:()=>o});class a extends Error{constructor(e,t={}){super(e),this.opts=t}}a.prototype.name="DesignPartnerError";class i extends a{constructor(e,t={}){super(e,t)}}i.prototype.name="CouldNotApplySuggestionError";class r extends a{constructor(e,t={}){super(e,t)}}r.prototype.name="InvalidResponseError";class l extends a{constructor(e,t={}){super(e,t)}}l.prototype.name="NoopSuggestionError";class o extends a{constructor(e,t={}){super("InputTooLongError: ".concat(e),t)}}o.prototype.name="InputTooLongError";class s extends a{constructor(e,t={}){super("ParsedSuggestionError: ".concat(e),t)}}l.prototype.name="ParsedSuggestionError"},59712:(e,t,n)=>{"use strict";n.d(t,{e$:()=>m,Rj:()=>g});var a=n(63867),i=n(97255),r=n(22905);let l=new a.hs("suggestion"),o={from:0,to:0};var s=n(91106),d=n(33750),c=n.n(d),u=n(55729),p=n(67733),h=n(23624);let g=e=>{let{ref:t,selectItem:n,options:a}=e,[i,r]=(0,u.useState)(0),l=(0,u.useRef)(null),o=(0,u.useRef)({selectedIndex:i,options:a,selectItem:n});return o.current={selectedIndex:i,options:a,selectItem:n},(0,u.useImperativeHandle)(t,()=>{let e=e=>{let{key:t}=e,n=o.current;return"ArrowUp"===t?(e.preventDefault(),n.selectedIndex<=0?r(a.length-1):r(c()(n.selectedIndex-1,0,n.options.length-1))):"ArrowDown"===t?(e.preventDefault(),n.selectedIndex>=n.options.length-1?r(0):r(c()(n.selectedIndex+1,0,n.options.length-1))):("Enter"===t||"Tab"===t)&&(e.preventDefault(),n.options.length>0&&n.selectItem(i)),e.stopPropagation(),e.preventDefault(),!0};return{onKeyDown:t=>{let{event:n}=t;return!!["ArrowUp","ArrowDown","Enter","Tab"].includes(n.key)&&e(n)}}}),(0,u.useEffect)(()=>{if(l.current){var e;null==l||null==(e=l.current)||e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}},[i]),{selectedIndex:i,selectedItemEl:l}},m=e=>{let{char:t,MenuComponent:n,pluginKey:d,command:c,allowSpaces:u=!1,...g}=e;return r.YY.create({...g,addOptions:()=>({HTMLAttributes:{},suggestion:{char:t,pluginKey:d,allowSpaces:u,startOfLine:!1,command:c,render:()=>{let e=null,t=null;return{onStart:a=>{if(t&&e){e.updateProps(a),t.setProps({getReferenceClientRect:a.clientRect}),t.show();return}e=new h.N(n,{props:a,editor:a.editor});let i=a.editor.view.dom.parentElement;t=(0,p.Ay)(i,{getReferenceClientRect:a.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start",zIndex:s.t1.zIndices.dropdown,popperOptions:{modifiers:[{name:"preventOverflow",options:{padding:{bottom:8}}},{name:"flip",options:{fallbackPlacements:["auto-start"]}}]}})},onUpdate(n){null==e||e.updateProps(n),null==t||t.setProps({getReferenceClientRect:n.clientRect})},onKeyDown(n){var a;return"Escape"===n.event.key?(null==t||t.destroy(),null==e||e.destroy(),t=null,e=null,!0):null==e||null==(a=e.ref)?void 0:a.onKeyDown(n)},onExit(n){!0!==d.getState(n.editor.view.state).active&&(null==t||t.destroy(),null==e||e.destroy(),t=null,e=null)}}}}}),addProseMirrorPlugins(){return[function(e){let t,{pluginKey:n=l,editor:s,char:d="@",allowSpaces:c=!1,prefixSpace:u=!0,startOfLine:p=!1,decorationTag:h="span",decorationClass:g="suggestion",command:m=()=>null,items:x=()=>[],render:f=()=>({}),allow:b=()=>!0}=e,v=null==f?void 0:f(),y=e=>{e.dispatch(e.state.tr.setMeta(n,{active:!1,decorationId:"",key:null,range:o,query:null,text:null,composing:!1}))};return new a.k_({key:n,view(){return{update:async(e,n)=>{var a,i,r,l,o;let d=null==(a=this.key)?void 0:a.getState(n),c=null==(i=this.key)?void 0:i.getState(e.state),u=d.active&&c.active&&d.range.from!==c.range.from,p=!d.active&&c.active,h=d.active&&!c.active,g=!p&&!h&&d.query!==c.query,f=p||u,b=g&&!u,y=h||u;if(!f&&!b&&!y)return;let w=y&&!f?d:c,C=document.querySelector('[data-decoration-id="'.concat(w.decorationId,'"]'));t={editor:s,range:w.range,query:w.query,text:w.text,items:b||f?await x({editor:s,query:w.query}):[],command:e=>{m({editor:s,range:w.range,props:e})},decorationNode:C,clientRect:C?()=>{var e;let{decorationId:t}=null==(e=this.key)?void 0:e.getState(s.state);return document.querySelector('[data-decoration-id="'.concat(t,'"]')).getBoundingClientRect()}:null},y&&(null==v||null==(r=v.onExit)||r.call(v,t)),b&&(null==v||null==(l=v.onUpdate)||l.call(v,t)),f&&(null==v||null==(o=v.onStart)||o.call(v,t))},destroy:()=>{var e;t&&(null==v||null==(e=v.onExit)||e.call(v,t))}}},state:{init:()=>({active:!1,decorationId:"",range:o,key:null,query:null,text:null,composing:!1}),apply(e,t,a,i){let l;l=e.getMeta(n)?{...e.getMeta(n)}:{...t};let{isEditable:h}=s,{composing:g}=s.view,{selection:m}=e,{empty:x,from:f}=m;if(l.composing=g,!l.active&&l.key!==d)return l;if(l.active&&l.key===d)return l.key=null,l;if(h&&(x||s.view.composing)){t.range&&(f<t.range.from||f>t.range.to)&&!g&&!t.composing&&(l.active=!1);let e=function(e){var t;let{char:n,allowSpaces:a,prefixSpace:i,startOfLine:l,$position:o}=e,s=(0,r.GG)(n),d=new RegExp("\\s".concat(s,"$")),c=l?"^":"",u=a?RegExp("".concat(c).concat(s,".*?(?=\\s").concat(s,"|$)"),"gm"):RegExp("".concat(c,"(?:^)?").concat(s,"[^\\s").concat(s,"]*"),"gm"),p=null==(t=o.nodeBefore)?void 0:t.text;if(!p)return null;let h=o.pos-p.length,g=Array.from(p.matchAll(u)).pop();if(!g||void 0===g.input||void 0===g.index)return null;let m=g.input.slice(Math.max(0,g.index-1),g.index),x=/^[\s\0]?$/.test(m);if(i&&!x)return null;let f=h+g.index,b=f+g[0].length;return(a&&d.test(p.slice(b-1,b+1))&&(g[0]+=" ",b+=1),f<o.pos&&b>=o.pos)?{range:{from:f,to:b},query:g[0].slice(n.length),text:g[0]}:null}({char:d,allowSpaces:c,prefixSpace:u,startOfLine:p,$position:m.$from}),n="id_".concat(Math.floor(0xffffffff*Math.random()));e&&b({editor:s,state:i,range:e.range})?(l.active=!0,l.decorationId=t.decorationId?t.decorationId:n,l.range=e.range,l.query=e.query,l.text=e.text):l.active=!1}else l.active=!1;return l.active||(l.decorationId=null,l.range=o,l.query=null,l.text=null),l}},props:{handleKeyDown(e,t){var a;let i=e.state.tr,r=this.getState(e.state);if(!r)return!1;let{active:l,range:o}=r;if(!o)return!1;if(l||t.key!==d||t.metaKey){if(!l)return!1;"Escape"===t.key&&y(e)}else{let a={...r};a.active=!0,a.key=t.key,a.query="",e.dispatch(i.setMeta(n,a))}return(null==v||null==(a=v.onKeyDown)?void 0:a.call(v,{view:e,event:t,range:o}))||!1},decorations(e){let t=this.getState(e);if(!t)return null;let{active:n,range:a,decorationId:r}=t;return n&&a?i.zF.create(e.doc,[i.NZ.inline(a.from,a.to,{nodeName:h,class:g,"data-decoration-id":r||""})]):null}}})}({editor:this.editor,...this.options.suggestion})]}})}},59858:(e,t,n)=>{"use strict";n.d(t,{R4:()=>r,S0:()=>i});var a=n(53587);n(52762);let i=e=>!!e.backgroundType,r=e=>e.key!==a.j},60277:(e,t,n)=>{"use strict";n.d(t,{S:()=>g,_:()=>u});var a=n(55452),i=n(22905),r=n(94289),l=n(63867),o=n(38934),s=n(62040),d=n(64205),c=n(74677);let u=new l.hs("UniqueAttribute"),p=new Map,h=e=>{let{editor:t,tr:n,node:i,initialValue:r,pos:l,attributeName:o,syncWithFilmstrip:s,pluginKey:d}=e;(s="function"==typeof s?s():!!s)&&!d&&console.error("Cannot sync with filmstrip without plugin key");let c=(()=>{if(t.isThumbnail&&s&&d){var e,n;let t=null==(e=p.get(d))?void 0:e.shift();if(t&&(null==(n=t.type)?void 0:n.name)===i.type.name&&t.pos===l)return console.debug("%c [UniqueAttribute] Reused ".concat(o,' "').concat(t.val,'" for ').concat(i.type.name),"background-color: deeppink",{pos:l}),t.val;a.Cp({message:"Mismatch trying to reuse attribute",attributeName:o,nodeType:i.type,pos:l,existing:t})}return r()})();return!t.isThumbnail&&s&&d&&(p.has(d)||p.set(d,[]),p.get(d).push({type:i.type,val:c,pos:l}),console.debug("%c [UniqueAttribute] Should reuse ".concat(o,' "').concat(c,'" for ').concat(i.type.name),"background-color: deeppink",{pos:l})),n.setNodeMarkup(l,void 0,{...i.attrs,[o]:c}),{node:i,val:c,pos:l}},g=i.YY.create({name:"UniqueAttribute",priority:o.y.UniqueAttribute,addOptions(){return{attributeName:"",pluginKey:new l.hs(this.name),types:[],initialValue:()=>void 0,filterTransaction:null,syncWithFilmstrip:!1}},addGlobalAttributes(){return[{types:this.options.types,attributes:{[this.options.attributeName]:{default:null,parseHTML:e=>this.options.parseHTML?this.options.parseHTML(e):e.getAttribute("data-".concat(this.options.attributeName)),renderHTML:e=>this.options.renderHTML?this.options.renderHTML(e):e[this.options.attributeName]?{["data-".concat(this.options.attributeName)]:e[this.options.attributeName]}:{}}}}]},onCreate(){let{view:e,state:t}=this.editor;if(this.editor.isReadOnly)return;let{tr:n,doc:r}=t,{types:l,attributeName:o,pluginKey:s,initialValue:d,callback:c}=this.options,u=(0,i.xe)(r,e=>l.includes(e.type.name)&&null===e.attrs[o]).map(e=>{let{node:t,pos:a}=e;return h({editor:this.editor,pos:a,node:t,tr:n,syncWithFilmstrip:!1,initialValue:d,attributeName:o,pluginKey:s})});0!==u.length&&(a.wd("UniqueAttribute onCreate fixed missing ids",{extra:{results:u,tr:n,attributeName:o,types:l}}),e.dispatch(n),c&&c(this.editor,u,n.doc))},addProseMirrorPlugins(){let e=!1;return[new l.k_({key:this.options.pluginKey,appendTransaction:(e,t,n)=>{let a=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),r=this.options.filterTransaction&&e.some(e=>{var t,n;return!(null==(t=(n=this.options).filterTransaction)?void 0:t.call(n,e))});if(!a||r)return;let{tr:l}=n,{types:o,attributeName:p,syncWithFilmstrip:g,initialValue:m,callback:x,pluginKey:f}=this.options,b=function(e,t){let n=new s.dL(e);return t.forEach(e=>{e.steps.forEach(e=>{n.step(e)})}),n}(t.doc,e),{mapping:v}=b,y=(0,c.A)(b),w=[],C=e.some(e=>!0===e.getMeta(u));if(y.forEach(e=>{let t={from:e.newStart,to:e.newEnd},a=(0,i.Nx)(n.doc,t,e=>o.includes(e.type.name)),r=function(e){let t=e.filter((t,n)=>e.indexOf(t)!==n);return(0,d.A)(t)}(a.map(e=>{let{node:t}=e;return t.attrs[p]}).filter(e=>null!==e));a.forEach(e=>{var t;let{node:n,pos:a}=e,i=null==(t=l.doc.nodeAt(a))?void 0:t.attrs[p];if(!i)return void w.push(h({editor:this.editor,pos:a,node:n,tr:l,syncWithFilmstrip:g,initialValue:m,attributeName:p,pluginKey:f}));let{deleted:o}=v.invert().mapResult(a),s=o&&r.includes(i),d=o&&C;if(s||d){let e=h({editor:this.editor,pos:a,node:n,tr:l,syncWithFilmstrip:g,initialValue:m,attributeName:p,pluginKey:f});w.push(e),console.debug("%c [UniqueAttribute][".concat(this.options.types,"] Replaced ").concat(n.attrs[p]," with new val: ").concat(e.val),"background-color: deeppink",{override:d,newNode:s})}})}),x&&x(this.editor,w,l.doc),l.steps.length)return l},props:{handleDOMEvents:{drop:(t,n)=>{var a,i;return((null==(a=t.dragging)?void 0:a.move)!==!0||(null==(i=n.dataTransfer)?void 0:i.effectAllowed)==="copy")&&(e=!0),!1},paste:()=>(e=!0,!1)},transformPasted:t=>{var n;if(!e)return t;let{types:a,attributeName:i}=this.options,l=e=>{let t=[];return e.forEach(e=>{if(e.isText)return void t.push(e);if(!a.includes(e.type.name))return void t.push(e.copy(l(e.content)));let n=e.type.create({...e.attrs,[i]:null},l(e.content),e.marks);t.push(n)}),r.FK.from(t)},o=this.options.transformPasted?this.options.transformPasted(t,this.options,null===this||void 0===this||null==(n=this.editor)?void 0:n.gammaDocId):new r.Ji(l(t.content),t.openStart,t.openEnd);return e=!1,o}}})]}})},60281:(e,t,n)=>{"use strict";n.d(t,{O:()=>et});var a=n(6029),i=n(16936),r=n(57405),l=n(72470),o=n(77979),s=n(26420),d=n(38036),c=n(83638),u=n(25223),p=n(99492),h=n(48621),g=n(91106),m=n(19564),x=n(77650),f=n(18833),b=n(30361),v=n.n(b),y=n(55729),w=n(82328),C=n(80180),A=n(11403),j=n(79807),k=n(91938),S=n(45666),I=n(20196),E=n(60908);let R=e=>(0,y.useCallback)(t=>{fetch("".concat(k.$.API_HOST||"","/media/images/track"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:e,id:t.id})})},[e]),L=e=>{let{provider:t,enablePagination:n,resultsPerPage:a}=e,[i,r]=(0,y.useState)(""),[l,o]=(0,y.useState)([]),[s,d]=(0,y.useState)(!1),[c,u]=(0,y.useState)(!1),[p,h]=(0,y.useState)(1),[g,m]=(0,y.useState)("All"),x=(0,y.useRef)(g),[f,b]=(0,y.useState)(0),v=n&&l.length>0&&p<6&&f===a,w=(0,y.useCallback)(async(e,n)=>{d(!0),u(!1);try{let i={license:x.current,page:n,gammaFeature:"mediaDrawer"};"bing"===t&&(i.minWidth=I.s.minWidth,i.maxWidth=I.s.maxWidth);let r=await (0,S.g)({query:e,count:a,provider:t,options:i});if(d(!1),!((null==r?void 0:r.length)>=0))throw Error("No images found");let l=r.filter(e=>(0,E.zk)(e.imageUrl));b(l.length),o(e=>e.concat(l))}catch(e){u(!0),d(!1),console.error("(caught) [ImageSearchGrid] fetchResults:",e)}},[t,a]),C=(0,y.useCallback)(e=>{o([]),b(0),h(1),r(e),w(e,1)},[w]),A=(0,y.useCallback)(()=>{w(i,p+1),h(p+1)},[w,i,p]),j=(0,y.useCallback)(()=>{r(""),o([]),h(1),b(0)},[]),k=(0,y.useCallback)(e=>{m(e),x.current=e,j(),C(i)},[j,C,i]);return{search:C,isLoading:s,loadMore:A,canLoadMore:v,hasError:c,imageResults:l,resetResults:j,searchQuery:i,license:g,updateLicense:k}};var D=n(40452),M=n(49611),_=n(48810),T=n(64268),N=n(51504),z=n(83743),P=n(69388),O=n(41781),F=n(29452),H=n.n(F),B=n(38420),V=n(8327),W=n(33787),U=n(1139),G=n(53996),K=n(80314);let Q=(0,y.memo)(e=>{let{image:t,isSelected:n,onImageClick:i,resizeThumbnail:r}=e,l=r?(0,E.Ub)(t.thumbnailUrl,E.p7):t.thumbnailUrl;return(0,a.jsxs)(M.$,{borderRadius:"base",overflow:"hidden",display:"block",variant:"ghost",width:"100%",opacity:1,textAlign:"left",pos:"relative",p:0,minH:"auto",h:"auto",_hover:{shadow:"outline"},_active:{shadow:"outline"},transition:"box-shadow .2s ease",cursor:"pointer",onClick:()=>i(t),sx:{_focusVisible:{".attribution-container":{opacity:1}},_hover:{".attribution-container":{opacity:1}}},"data-testid":"image-search-grid-item",children:[(0,a.jsx)(W._,{w:"100%",src:l,fallback:(0,a.jsx)(O.E,{height:"120px",borderRadius:"base"})}),(0,a.jsx)(U.z,{in:n,children:(0,a.jsx)(s.a,{pointerEvents:"none",color:"white",pos:"absolute",inset:0,bg:"rgba(0,0,0,.5)",borderRadius:"base",children:(0,a.jsx)(G.o,{h:"100%",w:"100%",children:(0,a.jsx)(h.g,{icon:p.e68})})})}),!t.thumbnailUrl&&(0,a.jsx)(P.E,{width:"100%",children:(0,a.jsx)(O.E,{height:"80px",borderRadius:"base"})}),(0,a.jsxs)(s.a,{left:0,right:0,bottom:0,p:2,pos:"absolute",color:"white",fontSize:"xs",textOverflow:"ellipsis",overflow:"hidden",bg:"linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 100%)",borderBottomRadius:"base",className:"attribution-container",opacity:0,transitionProperty:"common",transitionDuration:"normal",children:[t.attributionUrl&&t.credit&&(0,a.jsx)(g.Tz,{label:t.credit,placement:"left",children:(0,a.jsx)(K.N,{mr:1,target:"_blank",rel:"noopener noreferrer",href:t.attributionUrl,tabIndex:-1,children:(0,a.jsx)(h.g,{transform:"shrink-4",icon:p.AaJ})})}),t.credit]})]})});Q.displayName="ImageSearchGridItem";let Z=e=>{let{searchQuery:t,currentImageUrl:n,updateAttributes:i,provider:r,imageResults:l,isLoading:o,canLoadMore:d,loadMore:c,hasError:u,resultsPerPage:p,resizeThumbnails:h}=e,g=R(r),x=(0,y.useCallback)(e=>{g(e),i((0,V.TF)(e,t,r))},[r,t,g,i]),f=l.map(e=>{let t=e.imageUrl.split("?")[0],i=n&&n.split("?")[0];return(0,a.jsx)(Q,{provider:r,image:e,isSelected:t===i,onImageClick:x,resizeThumbnail:h},e.id)});return(0,a.jsxs)(D.s,{direction:"column",align:"stretch",children:[o&&0===l.length&&(0,a.jsx)(q,{resultsPerPage:p}),l.length>0&&(0,a.jsx)(B.A,{columnsCount:3,gutter:"0.5rem",children:f}),d&&(0,a.jsx)(M.$,{variant:"plain",onClick:c,mt:4,isLoading:o,children:(0,a.jsx)(m.x6,{id:"yQ2kGp"})}),0===l.length&&!o&&(0,a.jsx)(s.a,{width:"100%",textAlign:"center",padding:"10px",children:(0,a.jsx)(_.E,{style:{color:"gray"},children:(0,a.jsx)(m.x6,{id:"SihI8q",values:{searchQuery:t}})})}),u&&(0,a.jsxs)(T.F,{status:"error",children:[(0,a.jsx)(N._,{}),(0,a.jsx)(m.x6,{id:"Fkbzp8"})]})]})},q=e=>{let{resultsPerPage:t}=e;return(0,a.jsx)(z.r,{columns:3,spacing:2,children:H()(t).map((e,t)=>(0,a.jsx)(P.E,{children:(0,a.jsx)(O.E,{height:"120px",borderRadius:"base"})},t))})},J="75px",$=y.memo(e=>{let{image:t,isSelected:n,onImageClick:i}=e;return(0,a.jsx)(P.E,{height:J,width:J,children:(0,a.jsx)(M.$,{borderRadius:"base",bgColor:n?"deepocean.100":void 0,color:"gray.800",display:"block",width:"100%",height:"100%",maxH:"100%",pos:"relative",_hover:{bgColor:n?"deepocean.100":"deepocean.50"},_active:{bgColor:"deepocean.100"},transition:"box-shadow .2s ease",variant:"ghost",cursor:"pointer",onClick:()=>i(t),"data-testid":"image-search-grid-item",children:(0,a.jsx)(s.a,{height:"100%",maxH:"100%",sx:{img:{width:"100%",height:"100%",objectFit:"contain"}},children:(0,a.jsx)("img",{src:t.thumbnailUrl,alt:t.title||"Image search result",style:{width:"100%",height:"100%",objectFit:"contain"}})})})},t.id)});$.displayName="ImageSearchGridItem";let Y=e=>{let{searchQuery:t,currentImageUrl:n,updateAttributes:i,provider:r,imageResults:l,isLoading:o,canLoadMore:d,loadMore:c,hasError:u,resultsPerPage:p,resultEntityType:h="image"}=e,g=R(r),x=(0,y.useCallback)(e=>{g(e),i((0,V.TF)(e,t,r))},[r,t,g,i]),f=l.map(e=>{let t=e.imageUrl.split("?")[0],i=n&&n.split("?")[0];return(0,a.jsx)($,{image:e,isSelected:t===i,onImageClick:x},e.id)});return(0,a.jsxs)(D.s,{direction:"column",align:"stretch",children:[o&&0===l.length&&(0,a.jsx)(X,{resultsPerPage:p}),l.length>0&&(0,a.jsx)(z.r,{gap:2,columns:{base:4,"2xl":6},children:f}),d&&(0,a.jsx)(M.$,{variant:"plain",onClick:c,mt:4,isLoading:o,children:(0,a.jsx)(m.x6,{id:"yQ2kGp"})}),0===l.length&&!o&&(0,a.jsx)(s.a,{width:"100%",textAlign:"center",padding:"10px",children:(0,a.jsx)(_.E,{style:{color:"gray"},children:"icon"===h?(0,a.jsx)(m.x6,{id:"2AY48J",values:{searchQuery:t}}):(0,a.jsx)(m.x6,{id:"SihI8q",values:{searchQuery:t}})})}),u&&(0,a.jsxs)(T.F,{status:"error",children:[(0,a.jsx)(N._,{}),"icon"===h?(0,a.jsx)(m.x6,{id:"5hlcZg"}):(0,a.jsx)(m.x6,{id:"Fkbzp8"})]})]})},X=e=>{let{resultsPerPage:t}=e;return(0,a.jsx)(z.r,{columns:{base:4,"2xl":6},spacing:2,children:H()(t).map((e,t)=>(0,a.jsx)(P.E,{height:J,children:(0,a.jsx)(O.E,{height:"100%",borderRadius:"base"})},t))})},ee=(0,f.P)(i.K),et=e=>{let{currentImageUrl:t,updateAttributes:n,defaultQuery:i,randomQueries:f,provider:b,enablePagination:k=!0,enableSearch:S=!0,enableLicenseFilter:I=!1,resultsPerPage:E=18,resizeThumbnails:R=!1,resultEntityType:D="image",mediaSearchQuery:M,setMediaSearchQuery:_,displayAsGrid:T=!1}=e,[N,z]=(0,y.useState)(""),{isInOfflineMode:P}=(0,w.u)(),{search:O,isLoading:F,loadMore:H,canLoadMore:B,hasError:V,imageResults:W,resetResults:U,searchQuery:G,license:K,updateLicense:Q}=L({provider:b,enablePagination:k,resultsPerPage:E});(0,y.useEffect)(()=>{_&&G!==M&&_(G)},[G,_,M]),(0,A.Vg)(()=>{if(!P){if(i){z(i),O(i);return}z(""),f?O(v()(f)||""):U()}},[i,P,f,U,O],[b]);let q=(0,y.useCallback)(()=>{let e=v()(f);e&&O(e)},[f,O]),J=(0,A.lW)(O,1e3);return(0,a.jsxs)(r.T,{spacing:4,align:"stretch",translate:"no",children:[(0,a.jsx)(g.Tz,{placement:"top",label:(0,a.jsx)(m.x6,{id:"wj1Zq8"}),isDisabled:S,children:(0,a.jsxs)(l.M,{size:"md",children:[(0,a.jsx)(o.W,{pointerEvents:"none",children:(0,a.jsx)(s.a,{color:"gray.400",children:(0,a.jsx)(h.g,{icon:p.MjD})})}),(0,a.jsx)(d.p,{isDisabled:!S,placeholder:"icon"===D?x.Ru._({id:"oMAM3/"}):x.Ru._({id:"6YBjmV"}),value:N,onChange:e=>{z(e.target.value),J(e.target.value)},"data-testid":"image-search-input"}),f&&(0,a.jsx)(o.t,{children:(0,a.jsx)(g.Tz,{placement:"top",label:(0,a.jsx)(m.x6,{id:"OVjfHO"}),children:(0,a.jsx)(ee,{icon:(0,a.jsx)(h.g,{icon:p.xNJ}),"aria-label":"Surprise me",variant:"ghost",onClick:q,size:"sm",whileTap:{y:"-5px"},onMouseDown:C.Fw})})})]})}),I&&(0,a.jsxs)(c.MJ,{children:[(0,a.jsx)(u.l,{fontSize:"sm",fontWeight:"semibold",children:(0,a.jsx)(m.x6,{id:"6TSHCF"})}),(0,a.jsx)(j.V,{value:K,onChange:Q})]}),G&&(T?(0,a.jsx)(Y,{updateAttributes:n,currentImageUrl:t,searchQuery:G,provider:b,imageResults:W,isLoading:F,canLoadMore:B,loadMore:H,hasError:V,resultsPerPage:E,resizeThumbnails:R,resultEntityType:D}):(0,a.jsx)(Z,{updateAttributes:n,currentImageUrl:t,searchQuery:G,provider:b,imageResults:W,isLoading:F,canLoadMore:B,loadMore:H,hasError:V,resultsPerPage:E,resizeThumbnails:R}))]})}},60300:(e,t,n)=>{"use strict";n.d(t,{I2:()=>E,Li:()=>R,Rj:()=>I,UE:()=>w,vi:()=>M});var a=n(22905),i=n(68301),r=n(26312),l=n(15342),o=n(85011),s=n(43634),d=n(33201),c=n(80911),u=n(53957),p=n(23460),h=n(15607),g=n(6845),m=n(92397),x=n(61385),f=n(47665),b=n(53891),v=n(4967);let y=()=>i.of.get("presentModeFlat"),w=(e,t)=>{let n=t.pos?e.state.doc.nodeAt(t.pos):null;return n&&I(n,t.cardId)},C=e=>{let{tr:t,editor:n,spotlight:a,bias:i=0,method:r="replace"}=e;t.setMeta(v.n,a);let l=v.n.getState(n.state);if(a.cardId||(0,u.o)({cardId:null,method:r,emitChange:!1}),l.cardId!==a.cardId&&a.cardId){(0,u.o)({cardId:a.cardId,method:r,emitChange:!1});let e=(0,f.W0)(n,a.cardId);e&&t.setSelection(c.J.create(t.doc,e.pos,i))}n.commands.user({spotlight:a})},A=(e,t)=>{if(!t)return;let n=document.querySelector("".concat(e," ").concat((0,x.OB)(t)));n&&(null==n||n.classList.add("cardWiggle"),setTimeout(()=>{null==n||n.classList.remove("cardWiggle")},750))},j=(e,t)=>{let n=w(e,t),a=n&&t.cardId&&t.pos&&M(e,t.cardId,t.pos,e=>I(e,t.cardId),!0).cardId!==t.cardId;return{isSpotlightingBlock:n,isSpotlightingFirstBlock:a}},k=e=>{switch(e.type.name){case"card":return!(0,g.Wq)(e);case"toggle":return(0,b.vb)(e.attrs.id);default:return!1}},S=e=>{switch(e.type.name){case"card":return(0,g.wE)(e.attrs.id,!0),!0;case"toggle":return(0,b.bG)(e.attrs.id,!1),!0;default:return!1}},I=(e,t)=>{switch(e.type.name){case"paragraph":case"heading":case"title":case"math_display":case"codeBlock":return e.textContent.trim().length>0||e.content.content.some(e=>"text"!==e.type.name);case"calloutBox":case"blockquote":case"bullet":case"numbered":case"todo":case"embed":case"video":case"image":case"mediaPlaceholder":case"gallery":case"drawing":case"diagram":case"smartDiagram":case"chart":case"contributors":case"tableOfContents":case"toggleSummary":case"table":case"buttonGroup":case"gridCell":case"smartLayoutCell":return!0;case"toggle":return!(0,b.vb)(e.attrs.id);case"card":{let n=(0,s.Ev)((0,l.KA)().getState()).parents[e.attrs.id].slice(-1)[0];if(y())return!0===(0,g.Wq)(e)&&!1===(0,g.Wq)(n);return n===t}default:return!1}},E=e=>{switch(e.type.name){case"toggle":return(0,b.vb)(e.attrs.id);case"card":return!(0,g.Wq)(e);case"footnote":case"gallery":case"gridCell":case"smartLayoutCell":case"table":case"cardNotes":case"blockquote":case"calloutBox":return!1;default:return!0}},R=a.YY.create({name:"spotlight",addOptions:()=>({scrollerSelector:"body"}),addCommands(){var e=this;return{syncSpotlightAndScroll:e=>{let{spotlight:t,scroll:n,scrollOffset:a,isFollowing:i=!1}=e;return e=>{let{editor:l,view:o,tr:s}=e,{pos:c,cardId:u}=t,p=v.n.getState(l.state).cardId!==u;if(c){let e=o.state.doc.nodeAt(c),t=o.nodeDOM(c);if(e&&t instanceof HTMLElement){console.debug("[Spotlight.syncSpotlight] Scrolling to specific card at pos: ".concat(c),t);let n=(0,d.jg)(e)&&e.attrs.id===u;setTimeout(()=>requestAnimationFrame(()=>{n?N({}):T({element:t})}),p?x.y0:0)}}else if(null==n?void 0:n.pos){let{pos:e,pct:t}=n;setTimeout(()=>requestAnimationFrame(()=>{l.commands.scrollToPositionInCard(e,t||void 0,a)}),p?x.y0:0)}return(0,r.up)({following:i}),(0,r.ki)({cardId:u}),C({editor:l,tr:s,spotlight:{pos:c,cardId:u}}),!0}},spotlightCardById:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let{editor:a,view:i}=n,r=v.n.getState(a.state),l=(0,f.W0)(a,e);if(!l)return!0;let o=a.state.doc.resolve(l.pos),s=o.depth>1&&y(),d=s?(0,m.hT)(a.state.doc,l.pos):l;if(d){let n=r.cardId!==e;if(s){(0,g.wE)(e,!1),(0,m.Ib)({pos:o.pos,editor:a});let t=i.nodeDOM(l.pos);t instanceof HTMLElement&&setTimeout(()=>requestAnimationFrame(()=>{T({element:t,behavior:"smooth"})}),n?x.y0:0)}return t&&y()?a.commands.spotlightNextBlock(!1,{pos:l.pos,cardId:e}):a.commands.syncSpotlightAndScroll({spotlight:{pos:null,cardId:d.node.attrs.id}})}return!0}},spotlightCurrentCard:()=>e=>{var t,n,a,i,r,l;let o,{editor:s,tr:c}=e,u=()=>{console.warn("[Spotlight.spotlightCurrentCard] Couldnt find a card to spotlight, so using first card.");let e=s.view.state.doc.nodeAt(1);return e&&(0,d.jg)(e)?C({editor:s,tr:c,spotlight:{pos:null,cardId:e.attrs.id}}):console.error("[Spotlight.spotlightCurrentCard] nodeAt(1) is unexpectedly not a card. Cannot spotlight"),!0};if(!document.querySelector(this.options.scrollerSelector))return u();let p=s.state.selection.from,g=p&&s.view.coordsAtPos(p);if(g&&g.top<window.innerHeight&&g.bottom>0)console.debug("%c [Spotlight.spotlightCurrentCard] Using cursor pos","background-color: deeppink",{posToUse:o=p});else{let e=(0,h.ls)(s,this.options.scrollerSelector,135).pos;console.debug("%c [Spotlight.spotlightCurrentCard] Using top center pos","background-color: deeppink",{posToUse:o=null==e?void 0:e.pos})}(!o||o<2)&&console.warn("%c [Spotlight.spotlightCurrentCard] Using fallback pos","background-color: deeppink",{posToUse:o=2});let x=y()?(0,m.hT)(s.state.doc,o):(0,m.Tv)(s,o,!1);if(null==x||null==(n=x.node)||null==(t=n.attrs)?void 0:t.hidden){let e=x;for(;x&&(null==x||null==(i=x.node)||null==(a=i.attrs)?void 0:a.hidden);)x=L(s,x.pos);if(!x)for(x=e;x&&(null==x||null==(l=x.node)||null==(r=l.attrs)?void 0:r.hidden);)x=L(s,x.pos,!0)}return x&&x.pos?(y()&&(0,m.Ib)({editor:s,pos:o}),C({editor:s,tr:c,spotlight:{pos:null,cardId:x.node.attrs.id}}),!0):u()},ascendUpToParentCard:function(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return n=>{let{editor:i,view:l,tr:o}=n,s=v.n.getState(i.state),c=s.pos;if(!c){let t=(0,h.ls)(i,e.options.scrollerSelector,window.innerHeight/2).pos;c=null==t?void 0:t.pos}if(!c)return!1;let u=i.view.state.doc.nodeAt(c),p=(0,m.Tv)(i,c,!1);if(y())return!!p&&!!t&&(A(e.options.scrollerSelector,s.cardId),!0);if(!p)return!1;let g=(0,a.eL)(i.state.doc.resolve(p.pos),d.jg);if(!g)return p&&t&&A(e.options.scrollerSelector,p.node.attrs.id),!1;{let e=l.nodeDOM(p.pos);if(!e)return console.warn("[Spotlight.ascendUpToParentCard] Cant find dom node",{domNode:e,presentingCard:p,parentOfPresentingCard:g,node:u,lastSpotlight:s}),!1;let t=g.node.attrs.id,{isSpotlightingBlock:n}=j(i,s);if(n)return i.commands.spotlightNextBlock(!1,{pos:g.pos,cardId:t});(0,r.ki)({cardId:t}),C({editor:i,tr:o,spotlight:{pos:null,cardId:t}}),_(T,x.M2)({element:e})}return!0}},descendIntoCurrentCard:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"replace";return n=>{let{editor:a,tr:i}=n,r=v.n.getState(a.state),l=e||r.pos;if(y())return a.commands.spotlightExpandCard(l);if(!l)return!0;let o=a.view.state.doc.nodeAt(l);if(!(o&&(0,d.jg)(o)&&o.attrs.id!==r.cardId))return!0;let s=o.attrs.id,{isSpotlightingBlock:c}=j(a,r);return(console.debug("[Spotlight.descendIntoCurrentCard]",{node:o,isSpotlightingBlock:c}),c)?a.commands.spotlightNextBlock(!1,{pos:l,cardId:s}):(C({editor:a,tr:i,spotlight:{pos:null,cardId:s},method:t}),setTimeout(()=>{requestAnimationFrame(()=>{N({})})},x.y0),!0)}},spotlightCollapseCard:e=>t=>{let{editor:n,tr:a}=t;if(!y())return n.commands.ascendUpToParentCard();let i=n.view.state.doc.nodeAt(e);if(!i||!(0,d.jg)(i))return console.warn("[Spotlight.spotlightCollapseCard] pos does not resolve to a card node. This is a noop",e),!0;let r=v.n.getState(n.state),l=i.attrs.id;return(0,g.wE)(l,!0),C({editor:n,tr:a,spotlight:r}),(0,o.H1)("editor").scrollElementIntoView({element:n.view.nodeDOM(e),attempts:0,offsetFromTop:null}),!0},spotlightCollapseNearestExpandableNode:e=>t=>{let{editor:n,tr:i}=t,r=v.n.getState(n.state),l=e||n.state.selection.from,s={pos:l,node:n.view.state.doc.nodeAt(l)};if(!s.node||!k(s.node)){let e=(0,a.eL)(n.state.doc.resolve(l),k);s.node=(null==e?void 0:e.node)||null,s.pos=(null==e?void 0:e.pos)||0}let d=s.pos&&(0,m.hT)(n.state.doc,s.pos);if(!s.node||!s.pos||!d||d.node.attrs.id===s.node.attrs.id)return console.warn("[Spotlight.spotlightCollapseNearestExpandableNode] pos does not resolve to a valid collapsible node. This is a noop",s.pos),!1;if(!(d.pos<=s.pos&&d.pos+d.node.nodeSize>=s.pos))return console.warn("[Spotlight.spotlightCollapseNearestExpandableNode] posToUse is outside of the presenting card. This is a noop",s.pos),!1;console.debug("[Spotlight.spotlightCollapseNearestExpandableNode]",{result:s});let u=S(s.node);return u&&((0,o.H1)("editor").scrollElementIntoView({element:n.view.nodeDOM(s.pos),attempts:0,offsetFromTop:null}),s.pos===n.state.selection.from?n.commands.reHighlightExpandableNode():i.setSelection(c.J.create(n.state.doc,s.pos)),w(n,r)&&C({editor:n,tr:i,spotlight:{pos:s.pos,cardId:d.node.attrs.id}})),u},spotlightExpandCard:e=>t=>{let{editor:n}=t,a=v.n.getState(n.state),i=e&&n.view.state.doc.nodeAt(e);if(!i||!(0,d.jg)(i))return console.warn("[Spotlight.spotlightExpandCard] pos does not resolve to a card node. This is a noop",e),!0;let r=i.attrs.id,{isSpotlightingBlock:l}=j(n,a);return(0,g.wE)(r,!1),console.debug("[Spotlight.spotlightExpandCard]",{node:i,isSpotlightingBlock:l}),setTimeout(()=>{l?n.commands.spotlightNextBlock(!1,{pos:e,cardId:r},"smooth"):n.commands.scrollToPositionInCard(e,0,50)},x.M2),!0},spotlightNextExpandedCard:e=>t=>{let{editor:n,commands:a}=t,i=v.n.getState(n.state);if(!i.pos||!i.cardId)return!0;let r=(0,m.hT)(n.state.doc,i.pos),l=(0,f.Oq)(n,i.pos);if(!r||!l)return!0;let o={node:null,pos:null,cardId:null},s=i.pos;return(n.state.doc.descendants((t,a,i)=>{if(!e&&o.pos)return!1;let r=!(0,g.Wq)(t);if(!((0,d.jg)(t)&&r&&(e?a<s:a>s)))return r;let c=t!==l.node||!e;if(!c){let{isSpotlightingFirstBlock:e}=j(n,{pos:s,cardId:t.attrs.id});c=!e}return c&&(o.node=t,o.pos=a,o.cardId=t.attrs.id),r}),o.pos&&o.cardId)?a.spotlightNextBlock(!1,{pos:o.pos,cardId:o.cardId}):(A(this.options.scrollerSelector,r.node.attrs.id),!0)},spotlightNextCard:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top";return n=>{let{editor:i,commands:l,tr:o}=n,s=v.n.getState(i.state),c=s.pos,{isSpotlightingBlock:u,isSpotlightingFirstBlock:p}=j(i,s);if(u&&y())return l.spotlightNextExpandedCard(e);if(!c){let e=(0,f.W0)(i,s.cardId);c=null==e?void 0:e.pos}if(!c)return console.warn("[Spotlight.spotlightNextCard] Could not find posToUse",{lastSpotlight:s}),!1;let h=i.view.state.doc.nodeAt(c),g=!!(h&&e&&u&&!p&&h.attrs.id!==s.cardId),m=h&&s.cardId&&h.attrs.id===s.cardId?{node:h,pos:c}:(0,a.eL)(i.state.doc.resolve(c),d.jg),b=g?m:(null==m?void 0:m.pos)?L(i,m.pos,e):null;if(b&&null!==b.pos){console.debug("[Spotlight.spotlightNextCard] Found next card:",{next:b,posToUse:c,isSpotlightingBlock:u});let n=b.node.attrs.id,a=b.pos;if(u)return i.commands.spotlightNextBlock(!1,{pos:a,cardId:n});(0,r.ki)({cardId:n}),C({editor:i,tr:o,bias:e?1:-1,spotlight:{pos:null,cardId:n}});let l=s.cardId!==n,d="top"==t?N:z;null!==t&&setTimeout(()=>{d({sync:!0,behavior:"auto"})},l?x.y0:0)}else console.debug("[Spotlight.spotlightNextCard] No next node. Will attempt to ascendUp",{lastSpotlight:s,posToUse:c,node:h}),i.commands.ascendUpToParentCard();return!0}},spotlightNextBlock:(e,t,n)=>a=>{let{editor:i,tr:l}=a,o=v.n.getState(i.state);if(!o.cardId)return!0;let s=i.state.selection,u=s instanceof c.J,p=u&&(-1===s.side&&e||1===s.side&&!e)?-1:0,h=u?e?s.to+p:s.from+p:void 0,g=(null==t?void 0:t.cardId)||o.cardId,f=(null==t?void 0:t.pos)||o.pos||h,b=u&&null===o.pos&&(0,d.jg)(s.node)&&1===s.$from.depth,{pos:w,cardId:A,domNode:j}=f&&!b?M(i,g,f,I,e):D(i,o.cardId,this.options.scrollerSelector,e);if(null!==w&&j instanceof HTMLElement){var k;let t=y()?null==(k=(0,m.hT)(i.state.doc,w))?void 0:k.node.attrs.id:A;if(!t)return!0;(0,r.ki)({cardId:t}),console.debug("%c [Spotlight.spotlightNextBlock]","background-color: deeppink",{prevCardId:o.cardId,cardId:t,pos:w}),setTimeout(()=>{T({element:j,behavior:n})},o.cardId===t?0:x.y0),C({editor:i,tr:l,bias:e?1:-1,spotlight:{pos:w,cardId:t}})}else i.commands.ascendUpToParentCard();return!0},spotlightNodeAtPos:e=>t=>{let{editor:n,tr:a}=t,i=v.n.getState(n.state);if(!i.cardId)return!1;let r=i.cardId,l=(0,h.TK)(n.state.doc.resolve(e),e=>I(e)),o=l.reverse().find((e,t)=>!(t!==l.length-1&&E(e.node)));return!!o&&(o.pos!==i.pos?(C({editor:n,tr:a,spotlight:{pos:o.pos,cardId:r}}),!0):n.commands.turnOffSpotlight())},turnOffSpotlight:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t=>{let{editor:n,tr:a}=t,i=v.n.getState(n.state);return C({editor:n,tr:a,spotlight:{pos:null,cardId:e?null:i.cardId}}),!0}},scrollToPositionInCard:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a=>{let{editor:i}=a,r=(0,p.Oc)((0,h.NR)(i,e)),l=null==r?void 0:r.getBoundingClientRect();if(!r||!l)return!0;let o=(t||0)*l.height;return console.debug("%c [Spotlight.scrollToPositionInCard]","background-color: deeppink",JSON.stringify({pos:e,offset:n-o}),r),(0,p.BX)({element:r,color:"deeppink",requiredCookie:"spotlightScrollDebug=true"}),T({element:r,offset:n-o}),!0}},scrollToNodeWithPin:(e,t)=>()=>(console.debug("%c [Spotlight.scrollToNodeWithPin] WITH NODE","background-color: deeppink",{scrollToNode:e}),_(T,x.M2,0)({element:e,offset:t}),!0)}},addProseMirrorPlugins(){return[(0,v._)((e,t)=>I(e,t),this.editor)]}}),L=function(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.view.state.doc.nodeAt(t),l=r&&(0,d.jg)(r)?{node:r,pos:t}:(0,a.eL)(e.state.doc.resolve(t),d.jg);if(!l)return;let o=e.state.doc.resolve(i?l.pos:l.pos+(null==(n=l.node)?void 0:n.nodeSize)),s=i?o.nodeBefore:o.nodeAfter;if(!s)return;let c=i?o.pos-s.nodeSize:o.pos;if((0,d.jg)(s))return(console.debug("[Spotlight.findNextDirectSiblingCard]",{nextNode:s,nextPos:c}),s.attrs.hidden)?L(e,c,i):{node:s,pos:c}},D=function(e,t,n){var a;let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={node:null,pos:null,cardId:null,domNode:null},l=(null==(a=(0,h.ls)(e,n,135).pos)?void 0:a.inside)||null,o=l?e.state.doc.nodeAt(l):null;if(!l||!o)return r;if(o.attrs.id===t)return M(e,t,l,e=>I(e,t),i);let s=e.state.doc.resolve(l),d=(0,f.Oq)(e,s.before());if(!d)return r;let c=s.before(d.depth+2),u=e.state.doc.nodeAt(c);return u&&I(u,t)?(r.pos=e.state.doc.resolve(c).pos,r.node=u,r.cardId=null==d?void 0:d.node.attrs.id,r.domNode=e.view.nodeDOM(r.pos),r):M(e,t,c,e=>I(e,t),i)},M=function(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l={node:null,pos:null,cardId:null,domNode:null},o=e.state.doc.resolve(n),s=e.view.state.doc.nodeAt(n),c=(0,a.eL)(o,e=>(0,d.jg)(e)&&e.attrs.id===t),u=s&&(0,d.jg)(s)&&(null==s?void 0:s.attrs.id)===t?{node:s,pos:n}:c;if(!u)return console.debug("[Spotlight.findNextNode] - No card found:",{cardId:t,from:n,node:s}),l;let p=(e,t)=>{let a=e.attrs.id;e.descendants((o,s)=>{let d=t+s+1,c=i(o,a)&&(r?d<n:d>n);return(!!r||!l.node)&&(c&&(l.node=o,l.pos=d,l.cardId=e.attrs.id),E(o))})};p(u.node,u.pos);let h=u.pos;for(;null===l.pos;){let t=L(e,h,r);if(t)p(t.node,t.pos),h=t.pos;else break}return null!==l.pos&&(l.domNode=e.view.nodeDOM(l.pos)),console.debug("[Spotlight.findNextNode]",{result:l}),l},_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return a=>{let i,r={...a,sync:!0,behavior:"auto"};e(r);let l=!1;Promise.race([new Promise(e=>setTimeout(()=>e(!1),n+t+300)),new Promise(e=>{i=()=>e(!0),a.element.addEventListener("transitionend",i)})]).then(e=>{console.debug("[scrollTo withDurationPin] transitionend race result",e),l=!0}).finally(()=>{a.element.removeEventListener("transitionend",i)});let o=+new Date,s=()=>requestAnimationFrame(()=>{e(r),(new Date-o<t+n||!l)&&s()});setTimeout(s,n)}},T=e=>{var t;let{element:n,sync:a=!1,behavior:i="smooth",offset:r}=e;if(!(0,p.IK)(n)){let e=n.querySelector("[data-content-reference]");if(!e||!(0,p.IK)(e))return;n=e}let l=(0,o.H1)("editor");if(!(null==(t=l.scroller)?void 0:t.clientHeight))return;let s=(0,p.sR)(n,l.scrollSelector),d=n.clientHeight/2,c=.45*l.scroller.clientHeight-d,u=s-Math.max(void 0!==r?r:c,125);l.scrollTo({top:u,sync:a,behavior:i})},N=e=>{let{sync:t=!1,behavior:n="smooth"}=e;(0,o.H1)("editor").scrollTo({top:0,behavior:n,sync:t})},z=e=>{let{sync:t=!1,behavior:n="smooth"}=e,a=(0,o.H1)("editor"),i=a.scroller;i&&a.scrollTo({top:i.scrollHeight,behavior:n,sync:t})}},60522:(e,t,n)=>{"use strict";n.d(t,{g:()=>a});let a="PURCHASE_COMPLETE"},61106:(e,t,n)=>{"use strict";n.d(t,{x:()=>a.x});var a=n(85328)},61292:(e,t,n)=>{"use strict";function a(e){let t=e.cached.tableNodeTypes;if(!t)for(let n in t=e.cached.tableNodeTypes={},e.nodes){let a=e.nodes[n],i=a.spec.tableRole;i&&(t[i]=a)}return t}n.d(t,{e:()=>a})},61651:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});let a={LIGHT_BG:"gray.200",LIGHT_COLOR:"gray.300",LIGHT_ICON_COLOR:"gray.400",LIGHT_BTN_HOVER_BG:"gray.50",LIGHT_BTN_HOVER_COLOR:"gray.500",LIGHT_AI_BTN_HOVER_BG:"trueblue.100",LIGHT_AI_BTN_HOVER_COLOR:"trueblue.300",DARK_BG:"gray.700",DARK_COLOR:"gray.600",DARK_ICON_COLOR:"gray.600",DARK_BTN_HOVER_BG:"gray.600",DARK_BTN_HOVER_COLOR:"gray.400",DARK_AI_BTN_HOVER_BG:"trueblue.800",DARK_AI_BTN_HOVER_COLOR:"trueblue.300",LIGHT_GALLERY_BG:"gray.50",DARK_GALLERY_BG:"gray.800"}},61964:(e,t,n)=>{"use strict";n.d(t,{rn:()=>i.HT,J3:()=>o.J,cq:()=>K.cq,gC:()=>K.gC,JD:()=>K.JD,AL:()=>F,Tn:()=>K.Tn,Kl:()=>K.Kl,QN:()=>K.QN,rO:()=>K.rO,CG:()=>K.CG,lD:()=>K.lD,rP:()=>c,D8:()=>K.D8,aH:()=>s.aH,w7:()=>K.w7,_t:()=>K._t,i4:()=>K.i4,L0:()=>K.L0,LF:()=>Q,_G:()=>K._G,Qg:()=>K.Qg,uC:()=>K.uC});var a=n(63867),i=n(46675),r=n(56124),l=n(61292),o=n(48413),s=n(14503);let d=new a.hs("fix-tables");function c(e,t){let n,a=(t,a)=>{"table"!=t.type.spec.tableRole||(0,r.VM)(t)||(n=function(e,t,n,a){let i,r,c=o.J.get(t);if(!c.problems)return a;a||(a=e.tr);let u=[];for(let e=0;e<c.height;e++)u.push(0);for(let e=0;e<c.problems.length;e++){let i=c.problems[e];if("collision"==i.type){let e=t.nodeAt(i.pos);for(let t=0;t<e.attrs.rowspan;t++)u[i.row+t]+=i.n;a.setNodeMarkup(a.mapping.map(n+1+i.pos),void 0,(0,s.Pn)(e.attrs,e.attrs.colspan-i.n,i.n))}else if("missing"==i.type)u[i.row]+=i.n;else if("overlong_rowspan"==i.type){let e=t.nodeAt(i.pos);a.setNodeMarkup(a.mapping.map(n+1+i.pos),void 0,(0,s.ob)(e.attrs,"rowspan",e.attrs.rowspan-i.n))}else if("colwidth mismatch"==i.type){let e=t.nodeAt(i.pos);a.setNodeMarkup(a.mapping.map(n+1+i.pos),void 0,(0,s.ob)(e.attrs,"colwidth",i.colwidth))}}for(let e=0;e<u.length;e++)u[e]&&(null==i&&(i=e),r=e);for(let o=0,s=n+1;o<c.height;o++){let n=t.child(o),d=s+n.nodeSize,c=u[o];if(c>0){let t="cell";n.firstChild&&(t=n.firstChild.type.spec.tableRole);let u=[];for(let n=0;n<c;n++)u.push((0,l.e)(e.schema)[t].createAndFill());let p=(0==o||i==o-1)&&r==o?s+1:d-1;a.insert(a.mapping.map(p),u)}s=d}return a.setMeta(d,{fixTables:!0})}(e,t,a,n))};return t?t.doc!=e.doc&&function e(t,n,a,i){let r=t.childCount,l=n.childCount;e:for(let o=0,s=0;o<l;o++){let l=n.child(o);for(let e=s,n=Math.min(r,o+3);e<n;e++)if(t.child(e)==l){s=e+1,a+=l.nodeSize;continue e}i(l,a),s<r&&t.child(s).sameMarkup(l)?e(t.child(s),l,a+1,i):l.nodesBetween(0,l.content.size,i,a+1),a+=l.nodeSize}}(t.doc,e.doc,0,a):e.doc.descendants(a),n}var u=n(89217),p=n(94289),h=n(62040);function g(e,t){let n=e.createAndFill();return new h.dL(n).replace(0,n.content.size,t).doc}function m(e,t,n,a,i,r,l,o){if(0==l||l==t.height)return!1;let d=!1;for(let c=i;c<r;c++){let i=l*t.width+c,r=t.map[i];if(t.map[i-t.width]==r){d=!0;let i=n.nodeAt(r),{top:u,left:p}=t.findCell(r);e.setNodeMarkup(e.mapping.slice(o).map(r+a),void 0,(0,s.ob)(i.attrs,"rowspan",l-u)),e.insert(e.mapping.slice(o).map(t.positionAt(l,p,n)),i.type.createAndFill((0,s.ob)(i.attrs,"rowspan",u+i.attrs.rowspan-l))),c+=i.attrs.colspan-1}}return d}function x(e,t,n,a,i,r,l,o){if(0==l||l==t.width)return!1;let d=!1;for(let c=i;c<r;c++){let i=c*t.width+l,r=t.map[i];if(t.map[i-1]==r){d=!0;let i=n.nodeAt(r),u=t.colCount(r),p=e.mapping.slice(o).map(r+a);e.setNodeMarkup(p,void 0,(0,s.Pn)(i.attrs,l-u,i.attrs.colspan-(l-u))),e.insert(p+i.nodeSize,i.type.createAndFill((0,s.Pn)(i.attrs,0,l-u))),c+=i.attrs.rowspan-1}}return d}function f(e,t,n,a,r){let s=n?e.doc.nodeAt(n-1):e.doc,d=o.J.get(s),{top:c,left:u}=a,h=u+r.width,g=c+r.height,f=e.tr,b=0;function v(){s=n?f.doc.nodeAt(n-1):f.doc,d=o.J.get(s),b=f.mapping.maps.length}(function(e,t,n,a,i,r,o){let s,d,c=e.doc.type.schema,u=(0,l.e)(c);if(i>t.width)for(let r=0,l=0;r<t.height;r++){let o=n.child(r);l+=o.nodeSize;let c=[],p=null==o.lastChild||o.lastChild.type==u.cell?s||(s=u.cell.createAndFill()):d||(d=u.header_cell.createAndFill());for(let e=t.width;e<i;e++)c.push(p);e.insert(e.mapping.slice(0).map(l-1+a),c)}if(r>t.height){let l=[];for(let e=0,a=(t.height-1)*t.width;e<Math.max(t.width,i);e++){let i=!(e>=t.width)&&n.nodeAt(t.map[a+e]).type==u.header_cell;l.push(i?d||(d=u.header_cell.createAndFill()):s||(s=u.cell.createAndFill()))}let c=u.row.create(null,p.FK.from(l)),h=[];for(let e=t.height;e<r;e++)h.push(c);e.insert(e.mapping.slice(o).map(a+n.nodeSize-2),h)}return!!(s||d)})(f,d,s,n,h,g,0)&&v(),m(f,d,s,n,u,h,c,b)&&v(),m(f,d,s,n,u,h,g,b)&&v(),x(f,d,s,n,c,g,u,b)&&v(),x(f,d,s,n,c,g,h,b)&&v();for(let e=c;e<g;e++){let t=d.positionAt(e,u,s),a=d.positionAt(e,h,s);f.replace(f.mapping.slice(b).map(t+n),f.mapping.slice(b).map(a+n),new p.Ji(r.rows[e-c],0,0))}v(),f.setSelection(new i.HT(f.doc.resolve(n+d.positionAt(c,u,s)),f.doc.resolve(n+d.positionAt(g-1,h-1,s)))),t(f)}let b=(0,u.K)({ArrowLeft:y("horiz",-1),ArrowRight:y("horiz",1),ArrowUp:y("vert",-1),ArrowDown:y("vert",1),"Shift-ArrowLeft":w("horiz",-1),"Shift-ArrowRight":w("horiz",1),"Shift-ArrowUp":w("vert",-1),"Shift-ArrowDown":w("vert",1),Backspace:C,"Mod-Backspace":C,Delete:C,"Mod-Delete":C});function v(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function y(e,t){return(n,r,l)=>{let o=n.selection;if(o instanceof i.HT)return v(n,r,a.LN.near(o.$headCell,t));if("horiz"!=e&&!o.empty)return!1;let d=k(l,e,t);if(null==d)return!1;if("horiz"==e)return v(n,r,a.LN.near(n.doc.resolve(o.head+t),t));{let i=n.doc.resolve(d),l=(0,s.oD)(i,e,t),o;return o=l?a.LN.near(l,1):t<0?a.LN.near(n.doc.resolve(i.before(-1)),-1):a.LN.near(n.doc.resolve(i.after(-1)),1),v(n,r,o)}}}function w(e,t){return(n,a,r)=>{let l=n.selection;if(!(l instanceof i.HT)){let a=k(r,e,t);if(null==a)return!1;l=new i.HT(n.doc.resolve(a))}let o=(0,s.oD)(l.$headCell,e,t);return!!o&&v(n,a,new i.HT(l.$anchorCell,o))}}function C(e,t){let n=e.selection;if(!(n instanceof i.HT))return!1;if(t){let a=e.tr,i=(0,l.e)(e.schema).cell.createAndFill().content;n.forEachCell((e,t)=>{e.content.eq(i)||a.replace(a.mapping.map(t+1),a.mapping.map(t+e.nodeSize-1),new p.Ji(i,0,0))}),a.docChanged&&t(a)}return!0}function A(e,t,n){if(!(0,s.aH)(e.state.selection))return!1;let a=function(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:a}=e;for(;1==t.childCount&&(n>0&&a>0||"table"==t.firstChild.type.spec.tableRole);)n--,a--,t=t.firstChild.content;let i=t.firstChild,r=i.type.spec.tableRole,o=i.type.schema,s=[];if("row"==r)for(let e=0;e<t.childCount;e++){let i=t.child(e).content,r=e?0:Math.max(0,n-1),d=e<t.childCount-1?0:Math.max(0,a-1);(r||d)&&(i=g((0,l.e)(o).row,new p.Ji(i,r,d)).content),s.push(i)}else{if("cell"!=r&&"header_cell"!=r)return null;s.push(n||a?g((0,l.e)(o).row,new p.Ji(t,n,a)).content:t)}return function(e,t){let n=[];for(let e=0;e<t.length;e++){let a=t[e];for(let t=a.childCount-1;t>=0;t--){let{rowspan:i,colspan:r}=a.child(t).attrs;for(let t=e;t<e+i;t++)n[t]=(n[t]||0)+r}}let a=0;for(let e=0;e<n.length;e++)a=Math.max(a,n[e]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(p.FK.empty),n[i]<a){let r=(0,l.e)(e).cell.createAndFill(),o=[];for(let e=n[i];e<a;e++)o.push(r);t[i]=t[i].append(p.FK.from(o))}return{height:t.length,width:a,rows:t}}(o,s)}(n),r=e.state.selection;if(r instanceof i.HT){a||(a={width:1,height:1,rows:[p.FK.from(g((0,l.e)(e.state.schema).cell,n))]});let t=r.$anchorCell.node(-1),i=r.$anchorCell.start(-1),d=o.J.get(t).rectBetween(r.$anchorCell.pos-i,r.$headCell.pos-i);return a=function(e,t,n){let{width:a,height:i,rows:r}=e;if(a!=t){let e=[],n=[];for(let a=0;a<r.length;a++){let i=r[a],l=[];for(let n=e[a]||0,r=0;n<t;r++){let o=i.child(r%i.childCount);n+o.attrs.colspan>t&&(o=o.type.create((0,s.Pn)(o.attrs,o.attrs.colspan,n+o.attrs.colspan-t),o.content)),l.push(o),n+=o.attrs.colspan;for(let t=1;t<o.attrs.rowspan;t++)e[a+t]=(e[a+t]||0)+o.attrs.colspan}n.push(p.FK.from(l))}r=n,a=t}if(i!=n){let e=[];for(let t=0,a=0;t<n;t++,a++){let l=[],o=r[a%i];for(let e=0;e<o.childCount;e++){let a=o.child(e);t+a.attrs.rowspan>n&&(a=a.type.create((0,s.ob)(a.attrs,"rowspan",Math.max(1,n-a.attrs.rowspan)),a.content)),l.push(a)}e.push(p.FK.from(l))}r=e,i=n}return{width:a,height:i,rows:r}}(a,d.right-d.left,d.bottom-d.top),f(e.state,e.dispatch,i,d,a),!0}if(!a)return!1;{let t=(0,s.t6)(e.state.selection),n=t.start(-1);return f(e.state,e.dispatch,n,o.J.get(t.node(-1)).findCell(t.pos-n),a),!0}}function j(e,t){var n;let a;if(t.ctrlKey||t.metaKey)return!1;let r=S(e,t.target);if(t.shiftKey&&e.state.selection instanceof i.HT)l(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(a=(0,s.KW)(e.state.selection.$anchor))&&(null==(n=I(e,t))?void 0:n.pos)!=a.pos)l(a,t),t.preventDefault();else if(!r)return!1;function l(t,n){let a=I(e,n),r=null==s.dX.getState(e.state);if(!a||!(0,s.kV)(t,a))if(!r)return!1;else a=t;let l=new i.HT(t,a);if(r||!e.state.selection.eq(l)){let n=e.state.tr.setSelection(l);r&&n.setMeta(s.dX,t.pos),e.dispatch(n)}}function o(){e.root.removeEventListener("mouseup",o),e.root.removeEventListener("dragstart",o),e.root.removeEventListener("mousemove",d),null!=s.dX.getState(e.state)&&e.dispatch(e.state.tr.setMeta(s.dX,-1))}function d(n){let a=s.dX.getState(e.state),i;if(null!=a)i=e.state.doc.resolve(a);else if(S(e,n.target)!=r&&!(i=I(e,t)))return o();i&&l(i,n)}return e.root.addEventListener("mouseup",o),e.root.addEventListener("dragstart",o),e.root.addEventListener("mousemove",d),!1}function k(e,t,n){if(!(e.state.selection instanceof a.U3))return null;let{$head:i}=e.state.selection;for(let a=i.depth-1;a>=0;a--){let r=i.node(a);if((n<0?i.index(a):i.indexAfter(a))!=(n<0?0:r.childCount))break;if("cell"==r.type.spec.tableRole||"header_cell"==r.type.spec.tableRole){let r=i.before(a),l="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?r:null}}return null}function S(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function I(e,t){let n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?(0,s.KW)(e.state.doc.resolve(n.pos)):null}var E=n(50333),R=n.n(E),L=n(97255),D=n(5061),M=n(38537),_=n(60122),T=n(46814),N=n(56603);let z=new a.hs("tableColumnResizing");class P{getActiveHandleAbs(e){return null===this.activeHandle?null:(0,N.d_)(e,this.activeHandle)}reset(){return this.activeHandle=null,this.dragging=null,this}setHandle(e,t){if(null===t.setHandle)return this.activeHandle=null,this;let n=_.pJ.getState(e);if(!n)return this;let{type:a,binding:i}=n;return this.activeHandle=(0,T.Bw)(t.setHandle,a,i.mapping),this}setDragging(e){return this.dragging=e.setDragging,this}apply(e,t){let n=e.getMeta(z);return n&&"setHandle"in n?this.setHandle(t,n):n&&"setDragging"in n?this.setDragging(n):n&&"reset"in n?this.reset():this}constructor(e=null,t=null){this.activeHandle=e,this.dragging=t}}var O=n(39078);function F(){let{handleWidth:e=5,colMinPercent:t=10,lastColumnResizable:n=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new a.k_({key:z,state:{init:()=>new P,apply:(e,t,n,a)=>t.apply(e,a)},props:{attributes:e=>null!==z.getState(e).getActiveHandleAbs(e)?{class:"resize-cursor"}:{class:""},handleDOMEvents:{mousemove:(t,a)=>((function(e,t,n,a){if(!e.editable)return;let i=z.getState(e.state);if(i.dragging)return;let r=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target),l=null;if(r){let a=(0,D.ix)(),{left:i,right:o}=r.getBoundingClientRect();a?o-t.clientX<=n?l=H(e,t,"left"):t.clientX-i<=n&&(l=H(e,t,"right")):t.clientX-i<=n?l=H(e,t,"left"):o-t.clientX<=n&&(l=H(e,t,"right"))}if(l!==i.getActiveHandleAbs(e.state)){if(!a&&null!==l&&W(e.state.doc.resolve(l)))return;B(e,l)}})(t,a,e,n),!1),mouseleave:e=>((function(e){let t=z.getState(e.state);null===t.getActiveHandleAbs(e.state)||t.dragging||B(e,null)})(e),!1),mousedown:(e,n)=>((function(e,t,n){if(!e.editable)return;let i=z.getState(e.state),r=i.getActiveHandleAbs(e.state);if(null===r||i.dragging)return;let l=e.state.doc.resolve(r),o=l.node(-1),s=l.start(-1),d=[...o.attrs.colWidths],c=V(l),u=function(e,t){let n=e.domAtPos(t),a=e.domAtPos(t).node;for(;"TABLE"!=a.nodeName;)a=a.parentNode;return n.node.childNodes[n.offset].scrollWidth}(e,r),p=U(e,l),h=G(e,l),g=e.state.doc.resolve(r+2);e.state.selection.from>s&&e.state.selection.from<s+o.nodeSize||e.dispatch(e.state.tr.setSelection(a.LN.findFrom(g,1)));let m={setDragging:{startX:t.clientX,startWidth:u,colWidths:d,tableWidth:h,colIndex:c}};e.dispatch(e.state.tr.setMeta(z,m));let x=null;function f(t){window.removeEventListener("mouseup",f),window.removeEventListener("mousemove",b);let n=z.getState(e.state);if(n.dragging){if(null===x)return void e.dispatch(e.state.tr.setMeta(z,{setDragging:null}));if(n.dragging)try{let t=n.getActiveHandleAbs(e.state);(function(e,t,n){let a=e.state.doc.resolve(t).before(-1),i=e.state.tr;e.dispatch(i.setNodeMarkup(a,void 0,{colWidths:[...n]}).setMeta("annotationEvent",{type:"update-node-attrs",pos:a}))})(e,t,x),e.dispatch(e.state.tr.setMeta(z,{setDragging:null}))}catch(t){e.dispatch(e.state.tr.setMeta(z,{reset:!0}))}x=null}}function b(t){if(!t.which)return f(t);let a=z.getState(e.state),i=a.getActiveHandleAbs(e.state);if(!a.dragging||null===i)return;let{colIndex:r,colWidths:l}=a.dragging,o=function(e,t){let{tableWidth:n}=e,a=t.clientX-e.startX,i=(0,D.ix)()?-a:a;return R()(100*i/n,2)}(a.dragging,t);(function(e,t,n){let a=e.state.doc.resolve(t),i=U(e,a).querySelectorAll("colgroup > col.col-width-control");n.forEach((e,t)=>{i.item(t).style.width="".concat(e,"%")})})(e,i,x=(0,O.H0)(l,r,o,n)),(0,M.i$)(p)}window.addEventListener("mouseup",f),window.addEventListener("mousemove",b),t.preventDefault()})(e,n,t),!1)},decorations(e){let t=z.getState(e).getActiveHandleAbs(e);if(null!==t)return function(e,t){let n=[];try{let a=e.doc.resolve(t),i=a.node(-1),r=o.J.get(i),l=a.start(-1),s=r.colCount(a.pos-l)+a.nodeAfter.attrs.colspan;for(let e=0;e<r.height;e++){let t=s+e*r.width-1;if((s==r.width||r.map[t]!=r.map[t+1])&&(0==e||r.map[t-1]!=r.map[t-1-r.width])){let e=r.map[t],a=l+e+i.nodeAt(e).nodeSize-1,o=document.createElement("div");o.className="column-resize-handle",n.push(L.NZ.widget(a,o))}}return L.zF.create(e.doc,n)}catch(e){return console.error("(caught) columnResizing error: ".concat(e.message)),L.zF.empty}}(e,t)},nodeViews:{}}})}function H(e,t,n){let a=e.posAtCoords({left:t.clientX,top:t.clientY});if(!a)return null;let{inside:i}=a,r=(0,s.KW)(e.state.doc.resolve(i+1));if(!r)return null;if("right"===n)return r.pos;let l=o.J.get(r.node(-1)),d=r.start(-1),c=l.map.indexOf(r.pos-d);return c%l.width==0?null:d+l.map[c-1]}function B(e,t){e.dispatch(e.state.tr.setMeta(z,{setHandle:t}))}let V=e=>{let t=e.node(-1),n=o.J.get(t),a=e.start(-1);return n.colCount(e.pos-a)},W=e=>{let t=e.node(-1),n=o.J.get(t);return V(e)===n.width-1},U=(e,t)=>{let n=e.domAtPos(t.start(-1)).node;for(;"TABLE"!=n.nodeName;)n=n.parentNode;return n},G=(e,t)=>U(e,t).scrollWidth;var K=n(96197);function Q(){let{allowTableNodeSelection:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new a.k_({key:s.dX,state:{init:()=>null,apply(e,t){let n=e.getMeta(s.dX);if(null!=n)return -1==n?null:n;if(null==t||!e.docChanged)return t;let{deleted:a,pos:i}=e.mapping.mapResult(t);return a?null:i}},props:{decorations:i.lz,handleDOMEvents:{mousedown:j},createSelectionBetween:e=>null!=s.dX.getState(e.state)?e.state.selection:null,handleKeyDown:b,handlePaste:A},appendTransaction:(t,n,a)=>(0,i.Wz)(a,c(a,n),e)})}},62590:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var a=n(22905),i=n(33201),r=n(58082),l=n(47665);let o=(e,t)=>{let n,o,{state:s}=e;if(!s)return;let d=[];try{(n=(0,a.eL)(null==e?void 0:e.state.doc.resolve(s.selection.from),l.jg))&&(d=(0,i.j5)(e,n.pos),o=(0,r.x)(d,t).isCardDark)}catch(e){console.error(e)}return o}},62695:(e,t,n)=>{"use strict";n.d(t,{B:()=>s,j:()=>o});var a=n(55729),i=n(15342),r=n(15350),l=n(9119);let o=(e,t)=>(0,a.useCallback)(()=>{e.chain().focus().selectNodeAtPos(t(),!1).run(),setTimeout(()=>{e.view.focus()})},[e,t]),s=()=>{let e=(0,i.jL)(),t=(0,i.GV)(r.Pj),n=(0,i.GV)(r.kW),o=(0,i.GV)(l.HF);return{currentMediaDrawerSourceKey:t,isQuickAction:n,setMediaDrawerSourceKeyAction:(0,a.useCallback)(function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e((0,r.st)({sourceKey:t,overrideDefault:n}))},[e]),currentEditBackgroundDrawerSourceKey:o,setBackgroundDrawerSourceKeyAction:(0,a.useCallback)(t=>{e((0,l.mR)({sourceKey:t}))},[e])}}},62917:(e,t,n)=>{"use strict";n.d(t,{Ub:()=>r,Bz:()=>a.B,j8:()=>a.j}),n(84343);var a=n(62695);let i=["image.custom","image.web","image.ai-generated","accent.theme"],r=e=>i.includes(e)},62961:(e,t,n)=>{"use strict";n.d(t,{v:()=>g});var a=n(6029),i=n(19564),r=n(55729),l=n(88586),o=n(82328),s=n(75748),d=n(53587),c=n(66079),u=n(52762),p=n(92198);let h=(e,t)=>{if(!e.source&&e.type===u.h.IMAGE){var n;return null==(n=e.image)?void 0:n.source}return!e.source&&t?c.dO:e.source},g=(0,r.memo)(e=>{let{editor:t,defaultMessage:n,isDark:u,setCurrentSourceKey:g,currentSourceKey:m,currentSource:x,updateCurrentBackground:f,currentBackground:b,isValidSource:v,editType:y="background",contextualTheme:w,defaultToNoBackgroundSource:C=!1,closeDrawer:A}=e,{isConnected:j}=(0,o.u)(),k=(0,r.useCallback)(e=>{let t=c.Fn[e];t.backgroundType&&f({type:t.backgroundType,source:e,[t.backgroundType]:void 0})},[f]),S=(0,r.useCallback)(()=>k(m),[m,k]),I=(0,r.useCallback)(e=>{e===c.dO&&k(c.dO),g(e)},[g,k]),E=h(b,C);(0,r.useEffect)(()=>{E&&c.Fn[E]&&g(E)},[E,g]);let R=!!(j||(null==x?void 0:x.availableOffline)),L=c.ez[m],D="themeBackground"===y?l.rWX.Theme:l.rWX.Doc;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.r,{isConnected:R,description:(0,a.jsx)(i.x6,{id:"nfjtFu"}),mb:3,my:6}),(0,a.jsx)(p.H,{isValidSource:v,onChange:I,currentSource:x}),x&&(0,a.jsx)(L,{closeDrawer:A,editor:t,updateAttributes:e=>{x.backgroundType&&(x.key===d.j?f(e):f({type:x.backgroundType,[x.backgroundType]:{...e},source:m}))},currentAttributes:(e=>x.backgroundType?x.key===d.j?e:e[x.backgroundType]||{}:{})(b),resetToPlaceholder:S,editType:y,isDark:u,contextualTheme:w,savedMediaContext:D}),m===c.dO&&n]})});g.displayName="BackgroundPanel"},62964:(e,t,n)=>{"use strict";n.d(t,{VG:()=>R,Yq:()=>E,Sf:()=>k});var a=n(6029),i=n(57405),r=n(23293),l=n(58959),o=n(38036),s=n(49611),d=n(64268),c=n(51504),u=n(19564),p=n(77650),h=n(55729),g=n(15342),m=n(43634),x=n(60908),f=n(15577);let b={thumbnail:void 0,embed:void 0,meta:void 0,sourceUrl:void 0},v=e=>{let{links:{icon:t},meta:{title:n,description:a,duration:i,site:r,medium:l}={}}=e;return{...Object.entries({title:null==n?void 0:n.slice(0,200),description:null==a?void 0:a.slice(0,500),duration:i,site:r,medium:l}).reduce((e,t)=>{let[n,a]=t;return a?{...e,[n]:a}:e},{}),icon:t&&t[0]?t[0].href:void 0}},y=async e=>{var t,n,a,i,r,l;let o=await fetch("https://cdn.iframe.ly/api/iframely/?url=".concat(encodeURIComponent(e),"&key=").concat("a68bac8b6624d46b6d0ba46e5b3f8971","&iframe=1&omit_script=1")),s=await o.json();if(console.debug("[Iframely]",s),s.error)return Promise.reject(s);let{html:d,links:c,meta:u}=s,{player:p,reader:h,app:g,thumbnail:m}=c,x=p||h||g,f=x?x.filter(e=>"text/html"===e.type&&e.href)[0]||x[0]:null,b=u&&!u.xframe&&(!u.csp||!u.csp.includes("frame-ancestors"));return{sourceUrl:(null==u?void 0:u.canonical)||e,embed:f?{url:f.href,html:d,height:null==(t=f.media)?void 0:t.height,width:(null==(n=f.media)?void 0:n.width)||(null==(a=f.media)?void 0:a["max-width"]),aspectRatio:null==(i=f.media)?void 0:i["aspect-ratio"]}:b?{url:e}:void 0,meta:v(s),thumbnail:m&&m[0]?{src:m[0].href,height:null==(r=m[0].media)?void 0:r.height,width:null==(l=m[0].media)?void 0:l.width}:void 0}};var w=n(66265),C=n(77569),A=n(58964),j=n(83488);let k=e=>{try{var t,n;let a=new DOMParser().parseFromString(e,"text/html");return(null==(t=a.querySelector("iframe"))?void 0:t.src)||(null==(n=a.querySelector("blockquote"))?void 0:n.cite)||!1}catch(e){return!1}},S=e=>{let t=e.match(/^https?:\/\/www\.tiktok\.com/),n=e.match(/^https?:\/\/(www\.|staging\.)?gamma.app/);return t||n},I=async e=>{var t,n,a,i,r;let l,o;try{if(S(e)){let t=e.split("?")[0];l=await y(t)}else l=await y(e)}catch(t){if(403===t.status||404===t.status||415===t.status){for(let{key:t,urlRegex:n,canEmbedPrivate:a,defaultDisplayStyle:i}of A.NR)if(n&&e.match(n)&&a)return{...b,source:t,proxy:!1,url:e,meta:{title:p.Ru._({id:"SuoEIZ"})},sourceUrl:e,displayStyle:i||"inline"}}throw Error("Code: ".concat(t.status,". Message: ").concat(t.error))}if(!l)throw Error("No link metadata found");for(let{key:e,urlRegex:t}of A.NR)if(t&&(null==(i=l.sourceUrl)?void 0:i.match(t))){o=e;break}if(o){let e=A.Dc[o];return{...b,...l,source:o,proxy:!1,url:(null==(r=l.embed)?void 0:r.url)||l.sourceUrl,displayStyle:e.defaultDisplayStyle}}return(null==(t=l.meta)?void 0:t.medium)=="audio"||(null==(n=l.meta)?void 0:n.medium)==="video"?{...b,...l,source:C.G.key}:(null==(a=l.embed)?void 0:a.url)?{...b,...l,source:j.J.key,proxy:!1,url:l.embed.url}:{...b,...l,source:j.J.key,proxy:!0,url:e}},E=async(e,t)=>await I(e).then(e=>(t(e),e)).then(e=>L(e,t)),R=e=>{let{currentUrl:t="",updateAttributes:n,handleSubmit:g,handleDataSubmit:m,placeholder:b,noHeader:v}=e,[y,w]=(0,h.useState)(t||""),[C,A]=(0,h.useState)(),j=y!==t;(0,h.useEffect)(()=>{t&&w(t)},[t]),(0,h.useEffect)(()=>{A(void 0)},[y]);let S=(0,h.useCallback)(e=>{if(0===e.indexOf("data:")){if(m){try{(0,x.Xz)(e)}catch(e){A(p.Ru._({id:"YqH0TR"}));return}return m(e)}return void A(p.Ru._({id:"YqH0TR"}))}let t=k(e);return(t&&(e=t),(0,f.Se)(e)||(e="https://"+e,(0,f.AY)(e)))?g?g(e):n?E(e,n).catch(e=>{console.error("Error fetching URL",e),A(p.Ru._({id:"dZyJFB"}))}):void console.error("No submit handler provided"):void A(p.Ru._({id:"YqH0TR"}))},[m,g,n]),I=(0,h.useCallback)(()=>{S(y.trim())},[S,y]),R=(0,h.useCallback)(e=>{t||S(e.clipboardData.getData("text/plain").trim())},[t,S]);return(0,a.jsxs)(i.T,{align:"flex-start",spacing:4,w:"100%",children:[!v&&(0,a.jsx)(r.D,{size:"md",children:(0,a.jsx)(u.x6,{id:"D89ve+"})}),(0,a.jsxs)(l.z,{align:"flex-start",spacing:2,w:"100%",children:[(0,a.jsx)(o.p,{placeholder:b,onKeyDown:e=>{"Enter"===e.key&&I()},onPaste:R,value:y,onChange:e=>w(e.target.value),flex:1,"data-testid":"url-input"}),(0,a.jsx)(s.$,{onClick:I,isDisabled:!j,children:(0,a.jsx)(u.x6,{id:"4pSxwB"})})]}),C&&(0,a.jsxs)(d.F,{status:"error",children:[(0,a.jsx)(c._,{}),C]})]})},L=async(e,t)=>{let n=(0,g.KA)().getState(),a=(0,m.aQ)(n);if(!a)return void console.error("[uploadIframelyThumbnail] No orgId specified, bailing");let i={...e.thumbnail},r=i.src;if(r&&void 0!==i)try{await (0,w.j_)(r,a,{onUploadComplete:e=>(i&&(i.src=e.src,i.width=e.meta.width,i.height=e.meta.height,t({thumbnail:i})),Promise.resolve()),onOriginalFileUpload:e=>(i&&(i.src=e.src,i.width=e.meta.width,i.height=e.meta.height,t({thumbnail:i})),Promise.resolve()),onUploadFailed:e=>(console.error("[iframely] Thumbnail upload error: ",e),Promise.reject())},"iframelyThumbnail")}catch(e){console.error("[iframely] Thumbnail upload error: ",e)}}},63255:(e,t,n)=>{"use strict";n.d(t,{WI:()=>s,X0:()=>d});var a=n(43944),i=n(8266);let r=[...Array(a.uw+1).keys()],l="1.6em",o=["disc","circle","square"],s=e=>({listStyle:o[e%o.length],paddingStart:"0.4em",_after:{ps:"0.4em"},marginStart:"calc(".concat(e+1," * ").concat(l," - 0.4em)")}),d={[i.UX]:{margin:"0",marginBottom:i.X8,textAlign:"start","&.first-block":{marginTop:i.jz}},"ol.block-numbered":{listStyle:"none"},".block-todo":{listStyle:"none","label.chakra-checkbox":{pointerEvents:"none",".chakra-checkbox__control":{pointerEvents:"auto",width:"1em",height:"1em",top:"calc(0.5lh - 0.5em)",position:"relative",borderRadius:"var(--box-border-radius)",borderColor:"var(--link-color)",borderWidth:"0.125em","&[data-checked]":{backgroundColor:"var(--link-color)",color:"var(--body-color-inverted)"},svg:{fontSize:"0.5em"}}}},".block-bullet, .block-todo":{li:{position:"relative"}}};r.forEach(e=>{d['ol.block-numbered[indent="'.concat(e,'"]')]={"li[data-node-view-content]":{ms:"calc(".concat(e+1," * ").concat(l,")"),position:"relative",_before:{position:"absolute","inset-inline-start":"-".concat(l),content:'attr(data-list-counter) "."'}}}}),r.forEach(e=>{d['ul.block-bullet[indent="'.concat(e,'"]')]={"li[data-node-view-content]":s(e)},d['ul.block-todo[indent="'.concat(e,'"]')]={"li.todo":{ms:"calc(".concat(e+1," * ").concat(l,")"),listStyle:"none"},".chakra-checkbox__control":{"inset-inline-start":"-".concat(l)}}})},63562:(e,t,n)=>{"use strict";n.d(t,{ni:()=>o,nm:()=>s,oR:()=>d,sT:()=>l});var a=n(94289),i=n(15440),r=n(66607);let l=(e,t)=>{if(!e.content||!e.content[0].content)return null;let n=e.content[0].content.find(e=>e.attrs&&e.attrs.id===t);return n?(e.content[0].content=[n],e):null},o=(e,t)=>{let n=null;if("html"===t.type)n=(0,r.S)(t.html,e.schema).slice;else if("json"===t.type){let i=a.FK.fromJSON(e.schema,t.json);n=new a.Ji(i,0,0)}else throw Error("Unsupported Modification content type ".concat(t.type));return n},s=(e,t,n)=>{var a,r;let l=i.G.getState(e.state);if(!l)return t;let o=(null==l?void 0:l.getExistingRangeId(e.state,n))||null;return o||(null==(a=(r=e.commands).setInteractionRange)||a.call(r,t,n),t)},d=(e,t)=>{let n=i.G.getState(e.state);return(null==n?void 0:n.getRange(e.state,t))||null}},63674:(e,t,n)=>{"use strict";n.d(t,{us:()=>c,Z7:()=>o,jt:()=>d,Vr:()=>g,OP:()=>h,xV:()=>s,yw:()=>u,jp:()=>p});var a=n(84462),i=n.n(a),r=n(50998),l=n.n(r);let o=i()((e,t,n)=>{let a="__react_svg_text_measurement_id_gamma";n=null!=n?n:document.body;try{let i=document.getElementById(a);if(!i){let e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.style.width="0",e.style.height="0",e.style.position="absolute",e.style.top="-100%",e.style.left="-100%",(i=document.createElementNS("http://www.w3.org/2000/svg","text")).setAttribute("id",a),e.appendChild(i),n.appendChild(e)}let r=i.ownerSVGElement;r&&r.parentNode&&r.parentNode!==n&&(r.parentNode.removeChild(r),n.appendChild(r)),Object.assign(i.style,t),i.textContent=e;let l=i.getBoundingClientRect();return{width:i.getComputedTextLength(),height:l.height}}catch(e){return null}}),s=(e,t)=>{let n=e.length,a=Array(n);return e.forEach((e,i)=>{a[(i+t)%n]=e}),a},d=e=>e?1:16;function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=window.getComputedStyle(e).fontSize;if(!n)return t;let[a,i]=(()=>{let e=n.split(""),a=e.findIndex(e=>e.match(/[a-z]/i));return -1===a?["".concat(t),"px"]:[e.splice(0,a).join(""),e.join("")]})();return"px"!==i.toLowerCase()?t:Number.parseFloat(a)}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=Math.abs(e),i=a%t,r=a-i;return 0===i?e:n*(e<0?-1:1)==-1||0===n&&i<t/2?r*(e<0?-1:1):(r+t)*(e<0?-1:1)}let p=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{exact:a}=n,r=e.length,o=new Map,s=/\W/,d=-1,c=e,u=0,p=r,h=i()(t);for(;0!==d;){o.set(p,d);let t=Math.floor(Math.abs(p-u)/2);if(0===t){if(a)return!1;if(1===d)return c;if(1===o.get(p-1))return l()(e,{length:p-1,separator:s});return!1}if(u=p,(p+=t*d)>r)return!1;d=h(c=l()(e,{length:p,separator:s}))}return c};function h(e){let t=e.target,n={x:e.clientX,y:e.clientY};if(t instanceof SVGElement){var a,i;t=null!=(i=null==(a=t.ownerSVGElement)?void 0:a.parentElement)?i:null}let r=null==t?void 0:t.offsetParent;if(r){let e=r.getBoundingClientRect();n.x-=e.left,n.y-=e.top}return n}let g=i()((e,t)=>{let{fontFamily:n,fontSize:a,fontWeight:i}=t,r={widths:[],heights:[],maxWidth:0,maxHeight:0};return e.length&&e.forEach(e=>{let{width:t,height:l}=o("".concat(e),{fontFamily:n,fontSize:a,fontWeight:i})||{width:0,height:0};r.widths.push(t),r.heights.push(l),t>r.maxWidth&&(r.maxWidth=t),l>r.maxHeight&&(r.maxHeight=l)}),r})},63821:(e,t,n)=>{"use strict";n.d(t,{F:()=>v,s:()=>b});var a=n(77650),i=n(9922),r=n.n(i),l=n(58495),o=n(55729),s=n(30481),d=n(92053),c=n(73581),u=n(80116),p=n(40240),h=n(45611),g=n(12562),m=n(15342),x=n(66607),f=n(48993);let b="Translate this to Spanish please",v=e=>{let{editor:t}=e,n=(0,m.jL)();return(0,o.useCallback)(async e=>{let{doc:i,cardId:l,message:o}=e;if(!t)return;let s={};i.descendants(e=>{if("card"===e.type.name){let n=e.attrs.id;if(l!==n)return!1;let a=(0,u.KC)(t,e.content);return s[n]={html:a,node:e},!1}return!0});let d=Object.values(s).map(e=>{let{node:t}=e;return{cardId:l,variant:{label:a.Ru._({id:"HxF6Fk"}),card:r()(t.toJSON()),id:"original"},autoselect:!0}});n((0,f.uw)(d)),Object.values(s).forEach(async e=>{let{node:a,html:i}=e,r=await y({editor:t,html:i,node:a,message:o});n((0,f.uw)([{cardId:l,variant:r,autoselect:!0}]))})},[n,t])},y=async e=>{let{html:t,node:n,message:i,editor:r}=e,o=(0,p.$F)(),u=d.i.prepare({variables:{html:t,message:i}}),m=await (0,c.U)(u,o,{timeout:g.of.get("aiRequestTimeouts").suggestContent}),{suggestion:f}=(0,s.z7)(m),{content:b}=(0,x.S)(await (0,h.e)(f,{loadImages:!0}),r.schema),v={...n.toJSON(),content:b.toJSON()};return{id:(0,l.Ak)(5),label:a.Ru._({id:"nyQWMb"}),card:v}}},63902:(e,t,n)=>{"use strict";n.d(t,{Um:()=>c,oR:()=>s});var a=n(6029),i=n(55729),r=n(85732);let l=i.createContext({publishedVersionOverride:!1}),o=()=>(0,i.useContext)(l);function s(){let{publishedVersionOverride:e}=o();return e||(0,r.NF)()}let d={publishedVersionOverride:!0},c=e=>{let{children:t}=e;return(0,a.jsx)(l.Provider,{value:d,children:t})}},64056:(e,t,n)=>{"use strict";n.d(t,{Cn:()=>p,I4:()=>d,Sm:()=>s,eq:()=>u});var a=n(9922),i=n.n(a),r=n(23460),l=n(17633),o=n(66082);let s=e=>{var t;let{horizontalAlign:n,eventTarget:a,node:r,newContent:o,editor:s}=e,d=a.closest("[data-media-node-wrapper]"),u=Math.round(((null==d||null==(t=d.querySelector("img"))?void 0:t.clientWidth)||100)/((null==d?void 0:d.clientWidth)||100)*100),p=[l.w.paragraph()],h=c(a,s.view),g=i()(r.toJSON());return g.attrs.resize={},{type:"gridLayout",attrs:{colWidths:(()=>{switch(n){case"center":return[(100-u)/2,u,(100-u)/2];case"right":return[100-u,u];default:return[u,100-u]}})()},content:(()=>{switch(n){case"center":return[{type:"gridCell",content:"left"===h&&o?o:p},{type:"gridCell",content:[g]},{type:"gridCell",content:"right"===h&&o?o:p}];case"right":return[{type:"gridCell",content:o||p},{type:"gridCell",content:[g]}];default:return[{type:"gridCell",content:[g]},{type:"gridCell",content:o||p}]}})()}},d=e=>{let{horizontalAlign:t,prevPos:n}=e;switch(t){case"center":case"right":return n+4;default:return n+2}},c=(e,t)=>{let n=(0,r.xX)(e,t.dom,e=>e.hasAttribute("data-media-add-side"));return null==n?void 0:n.getAttribute("data-media-add-side")},u=e=>{let{view:t,from:n,to:a,node:i}=e,r=(0,o.er)(t.state,n,a);return i.attrs.horizontalAlign||("rtl"===r?"right":"left")},p=e=>{let{eventTarget:t,horizontalAlign:n,nodeSize:a,editor:i}=e,r=c(t,i.view);switch(n){case"right":return 2;case"center":return"left"===r?2:a+7;default:return a+4}}},64072:(e,t,n)=>{"use strict";n.d(t,{C:()=>du});var a=n(57398),i=n(58497),r=n(91938),l=n(87140),o=n(22905),s=n(51589),d=n(62040),c=n(41896),u=n(46957),p=n(6029),h=n(26420),g=n(84886);let m=e=>(0,p.jsx)(g.u,{...e,children:(0,p.jsxs)(h.a,{position:"relative","data-selection-ring":"padded",children:[(0,p.jsx)(c.$p,{as:"blockquote"}),(0,p.jsx)(h.a,{position:"absolute",left:"0",top:"0",height:"100%",w:"var(--line-thickness)",backgroundColor:"var(--accent-color)",backgroundImage:"var(--accent-gradient)"})]})}),x=s.Ay.extend({group:"cardBlock layoutBlock footnoteBlock tableBlock smartLayoutBlock",content:"(block | calloutBlock)+",addNodeView:()=>(0,c.gu)(m,{update:u.z0}),addCommands(){var e;return{...null==(e=this.parent)?void 0:e.call(this),unwrapQuoteOnDelete:()=>e=>{let{state:t,tr:n}=e,{selection:a}=t;if(!a.empty)return!1;let i=(0,o.KP)(e=>e.type.name===x.name)(a);if(!i||!(a.from<=i.pos+2))return!1;let r=a.$from.blockRange(a.$to);if(!r)return!1;let l=(0,d.jP)(r);return!!l&&(n.lift(r,l),!0)}}}});var f=n(41885);let b=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,v=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,y=f.Ay.extend({addInputRules(){return[(0,o.OX)({find:b,type:this.type}),(0,o.OX)({find:v,type:this.type})]},renderHTML(e){let{HTMLAttributes:t}=e;return["b",(0,o.KV)(this.options.HTMLAttributes,t),0]}});var w=n(44911),C=n(9343),A=n(9100);let j=o.bP.create({name:"buttonGroup",content:"button{1, ".concat(A.r4,"}"),group:"block",allowGapCursor:!1,addNodeView:()=>(0,c.gu)(C.r,{update:u.R$}),parseHTML:()=>[{tag:"div[class=button-group]"},{tag:"buttons"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,o.KV)(t,{class:"button-group"}),0]},renderHTMLforAI(e){let{node:t}=e;return["buttons",{},0]}});var k=n(58959),S=n(48810),I=n(21938),E=n(48621),R=n(55729),L=n(40077),D=n(62452),M=n(30892),_=n(58082),T=n(43216),N=n(93770),z=n(17006),P=n(7957);let O=e=>{let{node:t,editor:n,getPos:a,decorations:i}=e,{variant:r,icon:l,color:o}=t.attrs,{firstChildSize:s}=(0,N.P)(i),{theme:d,isDark:u}=(0,_.a)(i),m=(0,z.bh)(s,d),x=(0,D.Ik)((0,D.VH)(d)),{colors:f,icon:b}=(0,P.Tg)(r),{backgroundColor:v,iconColor:y,bodyColor:w}=o?F(o):H(u,f,x),C=(0,R.useCallback)(()=>{n.isEditable&&n.commands.selectNodeAtPos(a())},[n,a]);return(0,p.jsx)(g.u,{...e,children:(0,p.jsxs)(h.a,{backgroundColor:"".concat(v," !important"),pt:"0.25em",pb:"0.5em",px:"1em",className:"calloutBox",borderRadius:"var(--box-border-radius)",css:{"--body-color":w,"--heading-color":w},"data-selection-ring":!0,pos:"relative",children:[(0,p.jsxs)(k.z,{direction:"row",align:s?"baseline":"flex-start",spacing:"1em",children:[l&&(0,p.jsx)(S.E,{sx:m,onClick:C,color:y,mt:s?void 0:"1em",contentEditable:!1,children:(0,p.jsx)(E.g,{icon:b,fixedWidth:!0})}),(0,p.jsx)(c.$p,{style:{flex:"1 1 auto",minWidth:0},className:(0,I.cx)(L.Dv)})]}),(0,p.jsx)(T.A,{handlePlacement:"outside",...e})]})})},F=e=>{let t=(0,M.$p)(e),n=t?(0,M.PE)(e,.7):(0,M.PE)(e,.3);return{backgroundColor:e,bodyColor:t?"white":"black",iconColor:n}},H=(e,t,n)=>{if("accent"===t){let t=e?(0,M.PE)(n,.15):(0,M.PE)(n,.85),a=e?(0,M.PE)(n,.7):(0,M.PE)(n,.3);return{backgroundColor:t,bodyColor:e?"white":"black",iconColor:a}}let a=e?t.dark:t.light;return{backgroundColor:a.backgroundColor,bodyColor:e?"white":"black",iconColor:a.iconColor}},B=o.bP.create({name:"calloutBox",group:"cardBlock layoutBlock footnoteBlock smartLayoutBlock",content:"(block | calloutBlock)+",selectable:!0,isolating:!0,containerHandle:!0,addAttributes:()=>({variant:{default:"note",parseHTML:e=>e.getAttribute("variant"),renderHTML:e=>({variant:e.variant})},icon:{default:!0},color:{renderHTML:e=>({color:e.color}),parseHTML:e=>e.getAttribute("color")}}),addNodeView:()=>(0,c.gu)(O,{update:u.z0}),parseHTML:()=>[{tag:"aside"}],renderHTML(e){let{HTMLAttributes:t}=e;return["aside",(0,o.KV)(t,{class:"calloutBox"}),0]}});var V=n(26406),W=n(6845),U=n(86812),G=n(72688),K=n(29614),Q=n(45611),Z=n(55978),q=n(15607),J=n(98088),$=n(53996),Y=n(59230),X=n(15342),ee=n(89703),et=n(62917),en=n(43634),ea=n(85235),ei=n(80180),er=n(60908),el=n(4522);let eo=e=>{var t,n;let{node:a,editor:i,getPos:r}=e,{image:l}=a.attrs,{src:o,tempUrl:s,uploadStatus:d,showPlaceholder:c}=l,u=(0,X.GV)(en.nD),h=d===Y.A.Uploading,m=(0,X.GV)(en.wC)===ea.w.SLIDE_VIEW,x=(0,ee.f)(),f=(0,et.j8)(i,r),b=(0,R.useCallback)(()=>{u&&(f(),x({isOpen:!0}))},[u,x,f]),v=c||!o&&!s;return(0,p.jsx)(g.u,{...e,children:(0,p.jsxs)($.o,{className:"image-card",position:"relative",w:"100%",h:"100%",onClick:f,onDoubleClick:b,"data-selection-ring":!0,"data-selection-background":!0,"data-drag-handle":!0,onMouseDown:ei.Fw,borderRadius:"var(--card-border-radius)",bg:"black",overflow:"hidden",children:[v?(0,p.jsx)(el.Pf,{w:"100%",css:{aspectRatio:"16 / 9"},isLoading:"queued"===l.loadImageStatus,loadingProvider:null==(t=l.loadImageParams)?void 0:t.provider,hasUploadError:"error"===l.loadImageStatus,promptPreview:null==(n=l.loadImageParams)?void 0:n.query}):(0,p.jsx)(er.Me,{src:o||s||"",alt:"",h:m?"100vh":void 0,objectFit:"contain"}),h&&u&&(0,p.jsx)(el.Td,{}),d===Y.A.Error&&(0,p.jsx)(el.Hy,{})]})})},es=o.bP.create({name:"cardImageItem",atom:!0,selectable:!1,draggable:!1,isolating:!0,imageKeyPath:"image",accessoryImageKey:"image",addNodeView:()=>(0,c.gu)(eo,{update:u.z0}),parseHTML:()=>[{tag:"img[class=image-card][".concat(K.A,"]"),getAttrs:e=>({image:(0,Q.K)(e)}),priority:1e3},{tag:"img[class=image-card]"}],addAttributes:()=>({id:(0,Z.e)(J.z),image:{...(0,q.tb)("image"),default:{}}}),renderHTML(e){let{HTMLAttributes:t}=e;return["img",(0,o.KV)(t,{class:"image-card"})]},renderHTMLforAI(e){let{node:t}=e,{image:n}=t.attrs;return["img",{class:"image-card",prompt:n.query}]}});var ed=n(8327),ec=n(38934),eu=n(52762),ep=n(38194),eh=n(40452),eg=n(97481),em=n.n(eg),ex=n(22115),ef=n(40240),eb=n(40061),ev=n(53587),ey=n(69370),ew=n(49249),eC=n(43607),eA=n(78893),ej=n(82689),ek=n(5061),eS=n(76083),eI=n(15587),eE=n(25600),eR=n(17496),eL=n(26385),eD=n(56570),eM=n(55597),e_=n(91106),eT=n(19564),eN=n(77650),ez=n(831),eP=n.n(ez),eO=n(82328),eF=n(22445),eH=n(37605),eB=n(91792),eV=n(55786),eW=n(46898),eU=n(67909),eG=n(36071),eK=n(54731),eQ=n(3674),eZ=n(17920),eq=n(40691),eJ=n(99492),e$=n(36432),eY=n(50507),eX=n(9455),e0=n(41710);let e1=(0,R.memo)(e=>{let{editor:t,onClose:n,handleAddCard:a,recentlyUsedTemplates:i}=e,r=(0,eW.d)(),l=(0,eY.wz)("modal"),o=(0,R.useCallback)(e=>{r({status:"success",title:eN.Ru._({id:"WJGAWS"}),duration:1300,isClosable:!1,position:"top"}),n(),a(e,"modal")},[n,a,r]),s=i.filter(e=>!(0,eY.l2)(t,e)).slice(0,e0.q);return(0,p.jsx)(e_.L8,{isDark:!1,children:(0,p.jsxs)(eU.aF,{isOpen:!0,onClose:n,size:{base:"5xl","2xl":"6xl"},children:[(0,p.jsx)(eG.m,{}),(0,p.jsxs)(eK.$,{children:[(0,p.jsx)(eQ.s,{}),(0,p.jsx)(eZ.r,{children:(0,p.jsx)(eT.x6,{id:"HNcS3K"})}),(0,p.jsx)(eq.c,{pb:6,children:(0,p.jsxs)(eL.B,{spacing:6,children:[!!s.length&&(0,p.jsxs)(eL.B,{children:[(0,p.jsxs)(S.E,{color:"gray.600",children:[(0,p.jsx)(E.g,{icon:eJ.a$,fixedWidth:!0})," ",(0,p.jsx)(eT.x6,{id:"uabU9X"})]}),(0,p.jsx)(eD.x,{templateColumns:"repeat(auto-fill, minmax(calc(".concat(eX.dG.lg," + 0.4em), 1fr))"),gap:3,children:s.map(e=>{let{jsonContent:t,id:n,name:a}=e;return(0,p.jsx)(e$.F,{isDark:!1,isSelected:!1,tooltip:a(),label:a(),onClick:()=>o(n),w:"auto",templateIcon:(0,p.jsx)(eX.LK,{content:t,isDark:!1,borderRadius:"base",size:"lg"})},n)})})]}),l.map(e=>{let{subcategory:n,items:a}=e;return(0,p.jsxs)(eL.B,{children:[(0,p.jsx)(S.E,{color:"gray.600",children:n}),(0,p.jsx)(eD.x,{templateColumns:"repeat(auto-fill, minmax(calc(".concat(eX.dG.lg," + 0.4em), 1fr))"),gap:3,children:a.filter(e=>!(0,eY.l2)(t,e)).map(e=>{let{id:t,name:n,jsonContent:a}=e,r=!!i.find(e=>{let{id:n}=e;return n===t});return(0,p.jsx)(e$.F,{isDark:!1,isSelected:!1,tooltip:"".concat(n()," ").concat(r?eN.Ru._({id:"uabU9X"}):""),label:n(),onClick:()=>o(t),w:"auto",templateIcon:(0,p.jsx)(eX.LK,{content:a,isDark:!1,borderRadius:"base",size:"lg"}),boxShadow:"none"},t)})})]},n)})]})})]})]})})});var e2=n(6807),e4=n(65148),e6=n(94922),e5=n(64642);let e3=(0,R.memo)(e=>{let{setCardContent:t,editor:n,isFocused:a,edgeLayoutsDisabled:i,isNested:r,isCardDark:l}=e,{isInOfflineMode:o}=(0,eO.u)(),{isOpen:s,onClose:d,onOpen:c}=(0,eF.E)({id:"cardTemplatesModal"}),u=(0,eB.rd)(),h=l||u,[g,m]=(0,e2.M)(e4.E.recentlyUsedCardTemplateIds,[]),x=(0,R.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"placeholder";t(e),"aiCardAfter"!==e&&m((0,e5.s)(e,g));let a="placeholder"===n?eH.oU.CARD_TEMPLATE_PLACEHOLDER:eH.oU.CARD_TEMPLATE_MODAL;(0,eV.J)({nodeName:"card",key:e},a)},[t,g,m]),[f,b]=(0,R.useMemo)(()=>{let e=g.map(e=>(0,eY.iT)()[e]).filter(e=>!!e),t=(0,eY.wz)("placeholder").flatMap(e=>{let{items:t}=e;return t});return[eP()([...e,...t],"id").filter(e=>!!e).filter(e=>!(0,eY.l2)(n,e,e=>{var t;let{jsonContent:n}=e;return i&&(0,e6.sP)(null==(t=n.attrs)?void 0:t.layout)})),e]},[i,n,g]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(e_.L8,{isDark:h,children:(0,p.jsx)(eR.S,{in:a||s,onAnimationComplete:()=>{var e,t;null==(e=(t=n.commands).refreshBubbleMenu)||e.call(t)},children:(0,p.jsxs)(eL.B,{overflow:"hidden",mx:16,mb:12,contentEditable:!1,onMouseDown:ei.Fw,cursor:"default",fontFamily:"body",color:"var(--body-color-muted)",children:[(0,p.jsx)(S.E,{fontSize:"sm",fontWeight:"normal",children:(0,p.jsx)(eT.x6,{id:"3h21H3"})}),(0,p.jsxs)(eD.x,{templateColumns:"repeat(auto-fill, minmax(calc(".concat(eX.dG.md," + var(--chakra-space-1-5)), 1fr))"),fontSize:"1rem",gap:2,children:[f.slice(0,r?2:4).map(e=>{let{id:t,jsonContent:n,name:a}=e;return(0,p.jsx)(e$.F,{tooltip:a(),isDark:h,templateIcon:(0,p.jsx)(eX.LK,{content:n,isDark:h,borderRadius:"base",maxH:"5em",overflow:"hidden"}),isSelected:!1,onClick:()=>x(t),w:"auto",minW:"auto",fontSize:"1em"},t)}),(0,p.jsx)(e$.F,{tooltip:eN.Ru._({id:"bHT6mZ"}),label:(0,p.jsx)(eT.x6,{id:"iTylMl"}),isDark:h,templateIcon:(0,p.jsx)(E.g,{icon:eM.Qyz,fixedWidth:!0}),isSelected:!1,onClick:c,fontSize:"1em"}),!o&&(0,p.jsx)(e$.F,{isDark:h,templateIcon:(0,p.jsx)(E.g,{icon:eM.p7g,fixedWidth:!0}),label:(0,p.jsx)(eT.x6,{id:"ziAjHi"}),tooltip:eN.Ru._({id:"tkZYgO"}),isSelected:!1,onClick:()=>{x("aiCardAfter")},fontSize:"1em"})]})]})})}),s&&(0,p.jsx)(e1,{editor:n,onClose:d,handleAddCard:x,recentlyUsedTemplates:b})]})});e3.displayName="ChooseCardTemplatePlaceholder";var e9=n(33787),e7=n(19705),e8=n(4913),te=n(95197),tt=n(84033);let tn=e=>{let{isNested:t,isMobileDevice:n,cardMarginSettings:a,cardAttrs:i}=e,r=(0,X.GV)(en.Jq),{areElementsCurrentlyHiddenBySettings:l}=(0,tt.j)(i);return n||t||(0,te.Nk)(a)||"webpage"===r||l};var ta=n(36433);let ti=(e,t)=>{let n=(0,te.cP)("top",e)?"top":"bottom",a=t["".concat(n,"Center")],i=t["".concat(n,"Left")],r=t["".concat(n,"Right")],l=(0,te.cP)("center",e);return!!a&&(!a||!!i||!!r||l)},tr=e=>{var t;let{element:n,position:a,cardId:i,shouldStretch:r,isWidthConstrained:l,containerHeight:o}=e,s=(0,X.GV)(en.uF),{flex:d,text:c}=(0,te.o)(a),u=(null==n?void 0:n.type)==="image"||(null==n?void 0:n.type)==="themeLogo",h=(null==n?void 0:n.type)==="text"||(null==n?void 0:n.type)==="cardNumbers",{logoSrc:g,logoImage:m}=(0,ta.G)(),x=(null==n?void 0:n.type)==="image"?null==(t=n.imageAttrs)?void 0:t.meta:null==m?void 0:m.meta,f=(null==n?void 0:n.type)==="image"?(0,te._V)(n):g,b=f&&(0,er.Ub)(f,er.Rb,x)||f,v=(0,R.useMemo)(()=>i&&(null==n?void 0:n.type)==="cardNumbers"?(0,te.RP)(s.indexOf(i),n.startIndex,n.startNumber):"",[n,i,s]),y=null==x?void 0:x.aspect_ratio,w=(0,R.useMemo)(()=>(0,e8.I6)(n,y),[n,y]),C=(0,X.GV)(en.SJ),A=null==C?void 0:C.config.roundness,j=(0,R.useMemo)(()=>(0,e8.lX)(o,n,A,y,d),[n,A,o,y,d]);return!n&&(0,te.cP)("center",a)?null:(0,p.jsxs)(eh.s,{alignItems:"center",justifyContent:d,flex:r?1:void 0,flexShrink:u?0:void 0,flexBasis:u&&l?"calc(50% - ".concat(.25,"em)"):void 0,children:[h&&(0,p.jsxs)(S.E,{fontSize:"calc(".concat(e7.Vn,"em / var(--media-scale))"),ps:"calc(".concat(j.start,"em / var(--media-scale))"),pe:"calc(".concat(j.end,"em / var(--media-scale))"),opacity:.65,noOfLines:1,fontFamily:"var(--body-font)",color:"var(--body-color)",fontWeight:"var(--body-font-weight)",textAlign:c,children:["cardNumbers"===n.type&&v,"text"===n.type&&n.content]}),u&&b&&(0,p.jsx)(e9._,{src:b,h:"calc(".concat(w,"em / var(--media-scale))"),ps:"calc(".concat(j.start,"em / var(--media-scale))"),pe:"calc(".concat(j.end,"em / var(--media-scale))"),objectFit:"contain"})]})},tl=(e,t,n,a)=>{let i=(0,te.cP)("top",e);if("top"===t&&i)return null;if(!(0,te.cP)("center",e)||"left"!==t&&"right"!==t)return e;let r=i?"top":"bottom",l="left"===t?"".concat(r,"Left"):"".concat(r,"Right"),o="left"===t?"".concat(r,"Right"):"".concat(r,"Left");return(0,te.M3)(n[l],a)||(0,te.M3)(n[o],a)?(0,te.M3)(n[l],a)?l:(0,te.M3)(n[o],a)?o:e:null},to=(e,t,n)=>Object.entries(e).reduce((a,i)=>{let[r,l]=i;if((0,te.M3)(l,n))return a;let o=tl(r,t,e,n);return o?{...a,[o]:l}:a},{}),ts=(e,t,n,a)=>{if("left"!==n&&"right"!==n)return!1;let i=t["".concat(e,"Left")],r=t["".concat(e,"Center")],l=t["".concat(e,"Right")],o=!(0,te.M3)(i,a)&&((null==i?void 0:i.type)==="image"||(null==i?void 0:i.type)==="themeLogo"),s=!(0,te.M3)(l,a)&&((null==l?void 0:l.type)==="image"||(null==l?void 0:l.type)==="themeLogo");return o&&!r&&s},td=e=>{let{cardNode:t,isNested:n,isMobileDevice:a,displayLayout:i}=e,r=null==t?void 0:t.attrs,{cardMarginSettings:l}=(0,X.GV)(en.Uu),{hideFromFirst:o,hideFromLast:s,...d}=l,c=tn({isNested:n,cardMarginSettings:l,isMobileDevice:a,cardAttrs:r}),{logoSrc:u}=(0,ta.G)(),g=to(d,i,u),m=ts("top",g,i,u),x=ts("bottom",g,i,u),f=(0,X.GV)(en.SJ),b=null==f?void 0:f.config.roundness,v=(0,e8.hn)(l,b),y=(0,R.useMemo)(()=>(0,e8.mE)(l),[l]),w=(0,R.useMemo)(()=>(0,e8.JP)(b,y),[b,y]);return c?null:(0,p.jsxs)(h.a,{dir:"ltr",css:{"--margin-padding":"calc(".concat(w,"em / var(--media-scale))")},children:[(0,p.jsx)(k.z,{"data-card-margin-elements":"top",position:"absolute",pointerEvents:"none",justifyContent:"space-between",alignItems:"center",h:"calc(".concat(v,"em / var(--media-scale))"),p:"var(--margin-padding)",top:0,insetStart:0,insetEnd:0,spacing:"".concat(.5,"em"),overflow:"hidden",children:["topLeft","topCenter","topRight"].map(e=>(0,p.jsx)(tr,{element:g[e],position:e,cardId:null==t?void 0:t.attrs.id,shouldStretch:ti(e,g),isWidthConstrained:m,containerHeight:y},e))}),(0,p.jsx)(k.z,{"data-card-margin-elements":"bottom",position:"absolute",pointerEvents:"none",justifyContent:"space-between",alignItems:"center",h:"calc(".concat(v,"em / var(--media-scale))"),p:"var(--margin-padding)",bottom:0,insetStart:0,insetEnd:0,spacing:"".concat(.5,"em"),overflow:"hidden",children:["bottomLeft","bottomCenter","bottomRight"].map(e=>(0,p.jsx)(tr,{element:g[e],position:e,cardId:null==t?void 0:t.attrs.id,shouldStretch:ti(e,g),isWidthConstrained:x,containerHeight:y},e))})]})};var tc=n(16309),tu=n(54604),tp=n(80314),th=n(32380),tg=n(87386),tm=n(94289),tx=n(11324),tf=n(75074),tb=n(65280),tv=n(68301),ty=n(54229),tw=n(96632),tC=n(24813),tA=n(17226),tj=n(19842),tk=n(71340),tS=n(18232),tI=n(98071),tE=n(95465),tR=n(71737);let tL=e=>{let{editor:t,cardNode:n,cardPos:a,cardId:i,displayLayout:r,hasCardNotesNode:l}=e,o=(0,eW.d)(),s=(0,tb.T)(),d=(0,tv.u)("copyCardsToDeck"),c=(0,X.GV)(en.nD),u=(0,tE.K)(),h=i===(0,X.GV)(en.uF)[0],g=(0,tS._)(t,a),m=(0,R.useCallback)(()=>{if(!t||!n)return;let e=t.state.doc.nodeAt(a),i=e&&(0,tg.getCardTitle)(e.toJSON());t.chain().deleteCard(a).focus().run();let r=eN.Ru._({id:"0MWv65",values:{displayTitle:i?'"'.concat(i,'"'):"card"}}),l=eN.Ru._({id:"9uI/rE"}),s=o({title:(0,p.jsxs)(k.z,{children:[(0,p.jsx)(S.E,{noOfLines:1,children:r}),(0,p.jsx)(tp.N,{textDecoration:"underline",onClick:()=>{(0,th.tN)(t.state),o.close(s)},children:l})]}),status:"info",duration:3e3,position:"top"})},[t,n,a,o]),x=(0,R.useCallback)(()=>{if(!t||!n)return;let e=tm.FK.from([n]);(0,tA.E)(e,t,!1)},[t,n]),f=(0,R.useCallback)(()=>{t&&void 0!==a&&t.chain().mergeCardsAtPos(a).focus().run()},[t,a]),b=(0,R.useCallback)(()=>{if(!t||!n)return;let e=n.attrs,i={background:{type:eu.h.NONE,source:void 0},cardSize:void 0,verticalAlign:void 0,container:{...e.container,width:void 0,background:void 0},layout:"blank"};(0,tC.e)(t,a,i)},[t,n,a]),{setCardColor:v,currentColor:y,themeCardColor:w}=(0,tk.Q)({editor:t,attrs:null==n?void 0:n.attrs,getPos:()=>a}),C=(0,R.useCallback)(()=>{if(!t||!i||!n)return;c&&!l&&(0,tR.ni)(t,a);let e=(0,tf.Ix)((0,X.KA)().getState());tx.R.emit("toggle",{clickedCardId:i,activeNotesCardId:e})},[t,i,n,a,l,c]),{onCopyLinkClick:A}=(0,tw.L)({cardId:null==n?void 0:n.attrs.id}),j=(0,R.useCallback)(()=>{t&&i&&A()},[t,i,A]);return(0,R.useMemo)(()=>t?[{key:"card-options",title:(0,p.jsx)(eT.x6,{id:"kryGs+"})},{divider:!0},{key:"copy-card",label:(0,p.jsx)(eT.x6,{id:"Bq0HJ4"}),icon:eJ.jPR,onClick:x},...d?[{key:"copy-card-to-deck",label:(0,p.jsx)(eT.x6,{id:"IAsTWw"}),icon:(0,p.jsx)(E.g,{icon:eJ.Rvk,flip:"horizontal"}),onClick:()=>n&&s([n])}]:[],...h?[]:[{key:"merge-card-with-above",label:(0,p.jsx)(eT.x6,{id:"lxx9kE"}),icon:eJ.INu,onClick:f}],{divider:!0},{key:"change-card-color",label:(0,p.jsx)(eT.x6,{id:"D/jD8b"}),icon:eJ.fyG,items:[{key:"color-picker",element:e=>(0,p.jsx)(ty.b,{currentColor:null!=y?y:w,setColor:t=>{v(t),null==e||e()},source:"CardColor"})}]},{key:"reset-styling",label:(0,p.jsx)(eT.x6,{id:"6hU6uw"}),icon:eJ.ub2,onClick:b},{divider:!0},{key:"card-notes",label:(0,p.jsx)(eT.x6,{id:"PFP9+0"}),icon:eJ.bLf,onClick:C},{key:"copy-private-link",label:u?(0,p.jsx)(eT.x6,{id:"F0YmUY"}):(0,p.jsx)(eT.x6,{id:"j7DOt7"}),icon:eJ.CQO,onClick:j},{divider:!0},{key:"layout",label:eN.Ru._({id:"rdU729"}),icon:eJ.swh,items:tj.bI.map(e=>({key:e,label:(0,tI.Nu)(e),checked:r===e,icon:(0,p.jsx)(tj.Ed,{layout:e,isSelected:r===e}),onClick:()=>g(e)}))},{divider:!0},{key:"delete",label:(0,p.jsx)(eT.x6,{id:"cnGeoo"}),icon:eJ.yLS,onClick:m,color:"red.500"}]:[],[t,x,d,h,f,b,C,u,j,m,n,s,y,w,v,r,g])};var tD=n(47665),tM=n(27246);let t_=(e,t,n)=>{if(n)return{};if("behind"===e||"blank"===e)return{borderRadius:"var(--card-border-radius)"};if("left"===e)return"accent"===t?{borderLeftRadius:"var(--card-border-radius)"}:"body"===t?{borderRightRadius:"var(--card-border-radius)"}:{};if("right"===e)return"body"===t?{borderLeftRadius:"var(--card-border-radius)"}:"accent"===t?{borderRightRadius:"var(--card-border-radius)"}:{};if("top"===e||"mobileLeft"===e)return"body"===t?{borderBottomRadius:"var(--card-border-radius)"}:"accent"===t?{borderTopRadius:"var(--card-border-radius)"}:{};if("mobileRight"===e){if("accent"===t)return{borderBottomRadius:"var(--card-border-radius)"};if("body"===t)return{borderTopRadius:"var(--card-border-radius)"}}return{}},tT=e=>{var t;let n,{node:a,getPos:i,decorations:r,editor:l}=e,s=a.attrs,d=(0,ek.fW)(),u=(0,tM.Bn)(r);try{let e=i();n=(0,o.eL)(null==l?void 0:l.state.doc.resolve(e),tD.jg)}catch(e){console.error(e)}let{isNested:h,insideSideLayout:g,displayLayout:m,hasCardNotesNode:x,isCardDark:f}=(0,tc.tg)(r),b=(null==u?void 0:u.layout)==="blank",v=t_(u.layout,s.itemId,"full"===u.cardSize),y={flexDirection:"column",justifyContent:s.verticalAlign||"var(--card-vertical-align)"},w=(0,e6.lH)(null==u?void 0:u.layout),C=w&&!w.items[s.itemId],[A]=(0,tu.E)(u.cardId),j=(0,eI.v)(r),k=(0,X.GV)(en.nD),S=(0,eE.DM)(r),I=(0,R.useCallback)(e=>{if(!n)return;let t=(0,eS.GO)()[e]||(0,eS.GO)().blankCard,{layoutTemplateColumns:a,...i}=n.node.attrs;t.attrs={...i,...t.attrs};let r=n.pos,o=n.pos+n.node.nodeSize;l.chain().insertContentAt({from:r,to:o},t,{updateSelection:!1}).selectInsertedNode().run()},[l,n]),E=tL({editor:l,cardNode:null==n?void 0:n.node,cardPos:null!=(t=null==n?void 0:n.pos)?t:0,cardId:null==n?void 0:n.node.attrs.id,displayLayout:m,hasCardNotesNode:x}),{onOpenContextMenu:L,onCloseContextMenu:D,menuProps:M}=(0,eA.$)({editor:l,getPos:i}),_=(0,eC.FX)();return(0,p.jsxs)(c.VR,{dir:d?"rtl":"ltr",as:"div",style:{...C?{display:"none"}:{}},children:[(0,p.jsxs)(eh.s,{"data-content-reference":!0,className:"card-layout-cell-bg",w:"100%",h:"100%",position:"relative","data-selection-ring":!0,"data-selection-background":!0,..."presentCurrent"!==A&&v,...y,children:[(0,p.jsx)(c.$p,{as:"div",style:{width:"100%"},onContextMenu:e=>{e.target===e.currentTarget&&L(e)}}),k&&j&&b&&(0,p.jsx)(e3,{isFocused:S,editor:l,setCardContent:I,edgeLayoutsDisabled:g,isNested:h,isCardDark:!!f}),(0,p.jsx)(td,{cardNode:null==n?void 0:n.node,displayLayout:m,isNested:h,isMobileDevice:_})]}),(0,p.jsx)(ex.tz,{menuItems:E,isOpen:M.isOpen,position:M.position,onClose:D,size:"small"})]})};var tN=n(40268),tz=n(66079);let tP=e=>{var t;let{hasImage:n,onEditImage:a,image:i,editor:r,isLoading:l,openEditBackgroundDrawer:o,borderProps:s,accentLayout:d,...c}=e,u=!!a;return n?null:(0,p.jsx)(eh.s,{align:"center",justify:"center",pos:"absolute",inset:0,role:"group",cursor:"default","data-layout-cut":"mobileLeft"===d?"top":d,...n?{}:{bgColor:"gray.200"},...c,children:!r.isThumbnail&&(0,p.jsx)(eh.s,{pos:"absolute",inset:0,justify:"center",align:"center",cursor:u?"default":void 0,onClick:a,children:(0,p.jsx)(h.a,{color:"gray.400",h:"100%",w:"100%",children:(0,p.jsx)(el.Pf,{icon:tz.Fn[ev.j].icon,isUploading:!1,isLoading:l,loadingProvider:null==i||null==(t=i.loadImageParams)?void 0:t.provider,onSelectAndFocus:a,hasUploadError:!1,isAccentImageDrawer:!0,openEditBackgroundDrawer:o,h:"100%",w:"100%",hasQuickActions:"behind"!==d,...s})})})})};var tO=n(81880),tF=n(62171);let tH=e=>{let{background:t,rounded:n,resizeParams:a,cutLayout:i,isDark:r,bodyColor:l}=e,o=(0,tF.FD)(t,r,a,l);return(0,p.jsx)(h.a,{position:"absolute",inset:"0",overflow:"hidden",borderRadius:n?"var(--box-border-radius)":"inherit","data-layout-cut":i,...o})},tB=e=>{var t,n;let{background:a,rounded:i,cutLayout:r}=e,l=a.image&&!(0,er.SV)(a.image.src)&&!(null==(t=a.image.meta)?void 0:t.has_transparency),o=l?(0,tF.FD)(a,!1,{width:400,blur:50,format:"jpg"}):void 0;return(0,p.jsx)(h.a,{position:"absolute",inset:"0","data-image-fit-bg":!0,overflow:"hidden",...o,borderRadius:i?"var(--box-border-radius)":"inherit",marginY:i?"1em":void 0,bgPosition:"center","data-layout-cut":r,children:l&&!(0,er.md)((null==(n=a.image)?void 0:n.src)||void 0)&&(0,p.jsx)(h.a,{backdropFilter:"blur(6em)",inset:0,position:"absolute",borderRadius:"inherit","data-selection-ring":"inside"})})},tV=e=>{let{image:t,resizeParams:n,cutLayout:a,bodyColor:i}=e,{tempUrl:r,meta:l}=t,o=t.src?(0,er.pO)(t.src,i):void 0,s=o&&(0,tO.D)(t)&&n?(0,er.Ub)(o,n,l):o;return(0,p.jsx)(er.Me,{src:s||void 0,fallbackSrc:r||void 0,borderRadius:"var(--box-border-radius)",pos:"relative",flex:"0 1 auto",minH:0,minW:0,width:"auto",maxW:"100%","data-layout-cut-fg":a,className:"reset-max-width-with-margins"})};var tW=n(84130),tU=n(35292),tG=n(92137),tK=n(90184),tQ=n(5380),tZ=n(45574),tq=n(70015),tJ=n(33201);let t$=e=>{var t;let n,{editor:a,node:i,decorations:r,getPos:l}=e,s=i.attrs,d=(0,tM.Bn)(r),c=(0,tI.jh)(s,null==d?void 0:d.layout),{changeFocalPoint:u,startRemoveBg:h,isRemovingBg:g}=(0,tQ.c)({editor:a,getPos:l,backgroundRemovalId:null==d?void 0:d.cardId});try{n=(0,o.eL)(a.state.doc.resolve(l()),tJ.jg)}catch(e){console.error(e)}let m=s.background.type===eu.h.IMAGE,{displayLayout:x}=(0,tc.tg)(r),f=(0,tS._)(a,(null==n?void 0:n.pos)||0),b=(0,tU.l)(s.background.image),{toggleBuddyChatPanel:v,isBuddyChatPanelOpen:y}=(0,tG.n)(),w=(0,tq.d)({editor:a,getPos:l,node:i,includeCut:!1,imageSrc:null==(t=s.background.image)?void 0:t.src});return{contextMenuItems:[...m?[...w,{divider:!0},{key:"edit-image",label:m?eN.Ru._({id:"9IrgTy"}):eN.Ru._({id:"pVb3uA"}),icon:eJ.MT7,onClick:()=>{let e=null==n?void 0:n.node.attrs.id;e&&tN.R.emit("toggleEditBackgroundDrawer",{openDrawer:!0,cardId:e})}},...b?[{key:"ask-ai",label:(0,p.jsx)(eT.x6,{id:"vKZEFh"}),icon:eM.p7g,onClick:()=>{y||v(),setTimeout(()=>{tW.W.emit("prefillMessage",{message:""})},200)}}]:[],{key:"remove-background",label:g?eN.Ru._({id:"RdqLb7"}):eN.Ru._({id:"ylbfBl"}),icon:g?eJ.z1G:eJ.sAw,rightIcon:g?void 0:(0,p.jsx)(tK.G,{type:"removeBackground",ms:2,color:"gray.400"}),disabled:g,onClick:h},{key:"fit-image",label:"fit"===c?eN.Ru._({id:"2Ivw1n"}):eN.Ru._({id:"VPxUGR"}),icon:eJ.GZ1,onClick:()=>{a.commands.updateAttributesAtPos(l(),{fitType:"fit"===c?"fill":"fit"})}},{key:"change-focus-point",label:eN.Ru._({id:"BmxaoW"}),icon:eJ.xD0,onClick:()=>{let e=(0,tZ.um)(i);u((0,tZ.Df)(a,i,l(),e))},disabled:"fit"===c},{divider:!0}]:[],{key:"layout",label:eN.Ru._({id:"vR68Ol"}),icon:eJ.swh,items:tj.bI.map(e=>({key:e,label:(0,tI.Nu)(e),icon:(0,p.jsx)(tj.Ed,{layout:e,isSelected:x===e}),onClick:()=>f(e)}))},{divider:!0},{key:"remove-accent-image",label:m?eN.Ru._({id:"sGYCGx"}):eN.Ru._({id:"6vLq+T"}),icon:m?eJ.K3F:eJ.yLS,onClick:()=>(0,tI.kB)(a,l(),m),color:"red.500"}]}},tY={width:1200},tX=e=>{var t,n,a;let i=(0,X.GV)(en.SJ),r=(null==(t=i.config)?void 0:t.accentBackgrounds)&&(null==(n=i.config)?void 0:n.accentBackgrounds.length)>0;return e.source||(null==(a=e.image)?void 0:a.source)||r?ev.j:eb.L},t0=e=>{let{editor:t,node:n,getPos:a}=e;(0,R.useEffect)(()=>{"cardLayoutItem"===n.type.name&&"accent"===n.attrs.itemId&&setTimeout(()=>{t.commands.command(e=>{let{tr:i}=e;return(0,e6.OH)(i,a(),n,t.schema),!0})})},[t,a,n])},t1=e=>{var t,n,a,i,r;let{node:l,decorations:o,editor:s,getPos:d}=e,u=l.attrs,{background:h}=u;t0(e);let{openBackgroundTab:g,...m}=(0,ey.O)(),x=tX(h),f=(0,R.useCallback)(e=>{var t,n;s.commands.updateNestedAttributesAtPos(d(),e);let a=null==(t=o.find(e=>e.spec&&"cardId"in e.spec))?void 0:t.spec;(0,ef.Vc)({previous_attrs:(null==h?void 0:h.image)||{},new_attrs:(null==(n=e.background)?void 0:n.image)||{},image_type:"accent_background",replacement_method:"card_accent_drawer",doc_id:s.gammaDocId||"",node_id:null==a?void 0:a.cardId})},[s,d,h,o]),b=(0,R.useCallback)(e=>{s.commands.updateNestedAttributesAtPos(d(),{background:em()({},h,{image:{...e,meta:{has_transparency:!0}}})})},[s,d,h]),{onCloseContextMenu:v,onOpenContextMenu:y,menuProps:w}=(0,eA.$)({editor:s,getPos:d}),{contextMenuItems:C}=t$({editor:s,node:l,decorations:o,getPos:d}),{defaultFullBleed:A}=(0,X.GV)(en.Uu),j=(0,tM.Bn)(o),{isDark:k,bodyColor:S,cardColor:I}=(0,_.a)(o),E=(0,X.GV)(en.wC)!==ea.w.SLIDE_VIEW&&(null==j||!j.isNested)&&((null==j?void 0:j.cardSize)==="default"?"full"===A:(null==j?void 0:j.cardSize)==="full"),L=null==j?void 0:j.cardId,D=null==j?void 0:j.layout,M="behind"===D,T=s.isThumbnail?er.p7:"right"===D||"left"===D||"top"===D||"mobileLeft"===D||"mobileRight"===D?tY:void 0,{bgRemovalInProgress:N}=(0,ew._)({editor:s,id:L,src:null==(t=h.image)?void 0:t.src,updateAttributes:b}),z=(0,tI.jh)(u,D),P=!!(0,e6.lH)(D).items[u.itemId],O=t_(j.layout,u.itemId,"full"===j.cardSize),F="none"===h.type||h.type===eu.h.IMAGE&&!h.image||h.type===eu.h.IMAGE&&!(null==(n=h.image)?void 0:n.src)&&!(null==(a=h.image)?void 0:a.tempUrl),H="fit"===z&&h.image&&!F,B=(0,et.j8)(s,d),{setBackgroundDrawerSourceKeyAction:V}=(0,et.Bz)(),W=(null==(i=h.image)?void 0:i.loadImageStatus)==="queued",U=(0,X.GV)(en.nD);(0,R.useEffect)(()=>tN.R.on("toggleEditBackgroundDrawer",e=>{let{openDrawer:t,cardId:n}=e;t&&n===L&&(V(x),g(!1))}),[x,L,g,V]);let G=null==(r=h.image)?void 0:r.uploadStatus,K=(0,eC.FX)(),Q=!E||"fit"===z||K?void 0:"left"===D||"right"===D?{borderRadius:"var(--box-border-radius)",marginY:"1em",height:"auto"}:"top"===D||"behind"===D?{width:"var(--editor-width)",position:"absolute",transform:"translateX(-50%)",left:"calc(50% - var(--doc-padding-left, 0px) / 2 + var(--doc-padding-right, 0px) / 2)"}:void 0,Z=(0,R.useCallback)(e=>{(!(e.target instanceof Element)||e.target.closest("[data-card-layout]"))&&(B(),V(x),g(!1))},[x,B,g,V]);if(!P)return null;let q="mobileLeft"===D?"top":D;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(c.VR,{as:"div",style:{display:E?"flex":void 0},children:[(0,p.jsxs)(eh.s,{"data-content-reference":!0,"data-change-focus-point-el":!0,className:"card-layout-cell-bg",w:"100%",h:"100%",onContextMenu:m.isOpen?void 0:y,"data-selection-ring":"inside","data-selection-background":!0,"data-card-layout":null==j?void 0:j.layout,"data-testid":"card-accent-layout-item","data-fit-type":z,position:"relative","data-drag-handle":!0,...O,...{flexDirection:"column",justifyContent:"center"},onClick:B,onDoubleClick:Z,...Q,bgSize:"fill"===z||M?"cover":"contain",p:"fill"===z||M?0:E?"1.5em":"1.25em",objectFit:"contain",css:{containerType:"size"},align:"center",justify:"center",children:[!H&&(0,p.jsx)(tH,{background:h,rounded:E&&!K,resizeParams:T,cutLayout:q,isDark:k,bodyColor:S}),H&&(0,p.jsx)(tB,{background:h,rounded:E&&!K,cutLayout:q}),H&&(0,p.jsx)(tV,{image:h.image,resizeParams:T,cutLayout:q,bodyColor:S}),M&&(0,p.jsx)(ej.TH,{background:h,cardColor:I}),U&&(0,p.jsx)(ey.G,{editor:s,updateNestedAttributes:f,background:null==u?void 0:u.background,backFrom:L?{source:"accentBackgroundDrawer",id:L}:void 0,enableMask:M,isAccentImageDrawer:!0,...m}),(0,p.jsx)(tP,{isLoading:W,editor:s,hasImage:!F,image:h.image,onEditImage:U?B:void 0,openEditBackgroundDrawer:g,borderProps:O,accentLayout:null==j?void 0:j.layout,...O}),(G==Y.A.Uploading||N)&&U&&(0,p.jsx)(el.Td,{removeBackground:N,scootRight:N&&("top"===D||"left"===D)}),G==Y.A.Error&&(0,p.jsx)(el.Hy,{})]}),(0,p.jsx)(ex.tz,{menuItems:C,isOpen:w.isOpen,position:w.position,onClose:v,size:"small"})]})})},t2=e=>{let{node:t}=e;return"accent"===t.attrs.itemId?(0,p.jsx)(t1,{...e}):(0,p.jsx)(tT,{...e})},t4=o.bP.create({name:"cardAccentLayoutItem",group:"cardLayoutItemGroup",priority:ec.y.CardAccentLayoutItem,selectable:!1,atom:!0,draggable:!0,imageKeyPath:"background.image",addAttributes:()=>({itemId:{default:"accent"},fitType:{parseHTML:e=>e.getAttribute("fitType")},background:{default:{type:eu.h.NONE},...(0,q.tb)("background")}}),addNodeView:()=>(0,c.gu)(t2,{update:u.z0}),parseHTML:()=>[{tag:"img[class=accent-image][bookmark]",getAttrs:e=>{let t=(0,ep.Ll)(e);return!!t&&{background:{type:eu.h.IMAGE,image:t,source:t.source}}}},{tag:"img[class=accent-image][".concat(K.A,"]"),getAttrs:e=>{let t=(0,Q.K)(e);return{background:{type:eu.h.IMAGE,image:t,source:t.source}}}},{tag:"img[class=accent-image][src]",getAttrs:e=>({background:{type:eu.h.IMAGE,image:{src:e.getAttribute("src")||"",source:"image.custom"}}})},{tag:"img[class=accent-image][placeholder=true]",priority:70},{tag:"img[class=accent-image]"},{tag:"div[class=card-accent-layout-item]",context:"card/"}],renderHTMLforAI(e){let{node:t,disableBookmarks:n,HTMLAttributes:a}=e;if(n){var i;let e=t.attrs.background;return["img",{src:null==(i=e.image)?void 0:i.src,alt:e.image?(0,ed.ve)(e.image):void 0,class:"accent-image",fitType:a.fitType}]}let r=t.attrs.background;return["img",{bookmark:r.image?(0,ep.vL)({attrs:r.image}):void 0,class:"accent-image",alt:r.image&&(0,ed.ve)(r.image),fitType:a.fitType}]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,o.KV)(t,{class:"card-accent-layout-item"})]}});var t6=n(17275),t5=n(63867),t3=n(97255),t9=n(56603);let t7=new t5.hs("cardLayoutResizing");class t8{getActiveHandleAbs(e){return this.activeHandle?(0,t9.d_)(e,this.activeHandle):null}reset(){return this.activeHandle=null,this.side=null,this.dragging=null,this}setHandle(e,t){return null===t.setHandle?(this.activeHandle=null,this.side=null):(this.activeHandle=(0,t9.JO)(e,t.setHandle.pos),this.side=t.setHandle.side),this}setDragging(e){return this.dragging=e.setDragging,this}apply(e,t){let n=e.getMeta(t7);return n&&"setHandle"in n?this.setHandle(t,n):n&&"setDragging"in n?this.setDragging(n):n&&"reset"in n?this.reset():this}constructor(){this.activeHandle=null,this.dragging=null}}var ne=n(50333),nt=n.n(ne),nn=n(39078),na=n(38537);let ni=e=>t7.getState(e.state),nr=(e,t)=>{e.dispatch(e.state.tr.setMeta(t7,{setHandle:t}))},nl=(e,t)=>{e.dispatch(e.state.tr.setMeta(t7,{setDragging:t}))},no=e=>{e.dispatch(e.state.tr.setMeta(t7,{reset:!0}))},ns=(e,t)=>{if(!e.editable||!t.target||t.target.closest(".column-resize-handle"))return;let n=ni(e);if(n.dragging)return;let a=function(e,t){let n=e.posAtCoords({left:t.clientX,top:t.clientY});if(!n||-1===n.inside)return null;let a=e.domAtPos(n.inside);if(!a)return null;let i=a.node.childNodes[a.offset];if(!i)return null;let r=e.state.doc.resolve(n.inside);if(!r.nodeAfter||!(0,tD.sw)(r.nodeAfter))return null;let l=(0,q.TK)(r,tD.jg)[0];if(!l)return null;let o=l.node.attrs.layout;if(!(0,e6.lH)(o).allowResizing)return null;let s="top"===o,{left:d,right:c,bottom:u,top:p}=i.getBoundingClientRect();if(t.clientX-d<=5&&!s){let n=e.posAtCoords({left:t.clientX-10,top:t.clientY});if(!n)return null;let a=e.state.doc.nodeAt(n.inside);return a&&(0,tD.sw)(a)?"cardLayoutItem"===a.type.name?{pos:n.inside,side:"right"}:{pos:r.pos,side:"left"}:null}if(c-t.clientX<=5&&!s){let n=e.posAtCoords({left:t.clientX+10,top:t.clientY});if(!n)return null;let a=e.state.doc.nodeAt(n.inside);return a&&(0,tD.sw)(a)?"cardLayoutItem"===a.type.name?{pos:n.inside,side:"left"}:{pos:r.pos,side:"right"}:null}if(u-t.clientY<=5&&s){let n=e.posAtCoords({left:t.clientX,top:t.clientY+10});if(!n)return null;let a=e.state.doc.nodeAt(n.inside);return a&&(0,tD.sw)(a)&&"cardLayoutItem"===a.type.name?{pos:n.inside,side:"top"}:null}if(t.clientY-p<=5&&s){let n=e.posAtCoords({left:t.clientX,top:t.clientY+10});if(!n)return null;let a=e.state.doc.nodeAt(n.inside);if(!a||!(0,tD.sw)(a)||"cardLayoutItem"!==a.type.name)return null;let i=e.state.doc.resolve(n.inside).parent;return i&&"card"===i.type.name&&"top"===i.attrs.layout?{pos:n.inside,side:"top"}:null}return null}(e,t),i=n.getActiveHandleAbs(e.state),r=n.side;null===i&&null===a||a&&a.side===r&&a.pos===i||nr(e,a)},nd=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",a=e.domAtPos(t),i=a.node.childNodes[a.offset];return"x"===n?i.offsetWidth:i.offsetHeight},nc=(e,t)=>{let{node:n,offset:a}=e.domAtPos(t.start()),i=n.childNodes[a];do if(i&&i.classList&&i.classList.contains("node-card"))break;while(i=i.parentNode);return i},nu=(e,t,n)=>{let a=(0,e6.lH)(n),i=t.querySelector('[data-node-view-content-inner="card"]');if("top"===n)return nh(e,i,n);let r=e.attrs,l=(null==i?void 0:i.style.gridTemplateColumns)||r.layoutTemplateColumns||a.grid.gridTemplateColumns;if(!l)return null;let o=l.split(" ");if(!o.length)return null;let s=o[0].includes("fr"),d=[];if(s){let e=o.map(e=>+e.replace("fr","")),t=e.reduce((e,t)=>e+t,0);d=e.map(e=>e/t*100)}else d=o.map(e=>+e.replace("%",""));return d},np={sm:100,md:200,lg:300},nh=(e,t,n)=>{let a=(0,e6.lH)(n),i=e.attrs,r=(null==t?void 0:t.style.gridTemplateRows)||i.layoutTemplateRows||a.grid.gridTemplateRows;if(!r)return null;let l=r.split(" ");if(!l.length)return null;let o=l[0],s=o.includes("var"),d=[];if(s){var c;let e=null==(c=o.split("-").at(-1))?void 0:c.slice(0,-1);e&&e in np||(e="md"),d=[np[e],0]}else d=l.map(e=>"auto"===e?0:Number.parseInt(e));return d},ng=o.bP.create({name:"cardLayoutItem",group:"cardLayoutItemGroup",content:"(block | cardBlock)+",selectable:!1,draggable:!1,isolating:!0,containerHandle:!0,priority:ec.y.CardLayoutItem,addAttributes:()=>({itemId:{default:"body"}}),addNodeView:()=>(0,c.gu)(t2,{update:u.z0}),addCommands:()=>({handleCardAccentDelete:()=>e=>{let{state:t,commands:n}=e;if(!(0,o.BQ)(t.selection))return!1;let{node:a}=t.selection;if(!(0,e6.wL)(a))return!1;let i=(0,o.KP)(tD.jg)(t.selection);return!!i&&n.setCardLayout(i.pos,"blank")},selectInsideCardBody:(e,t)=>n=>{let{state:a,tr:i,commands:r}=n,l=a.doc.nodeAt(e);if(!l||!(0,tD.jg)(l))return!1;let o=(0,e6.dg)(i,e);if(0===Object.entries(o).length)return r.selectInsideNodeAtPos(e,t);let s=o.body;return!!s&&r.selectInsideNodeAtPos(s.pos,t)},setCardLayout:(e,t,n)=>a=>{let{tr:i,editor:r}=a;return(0,t6.c)(r,i,e,t,n)},removeCardLayout:e=>t=>{let{tr:n,editor:a}=t,i=(0,tD.W0)(a,e);return!!i&&(0,t6.c)(a,n,i.pos,"blank")}}),parseHTML:()=>[{tag:"div[class=card-layout-item]"},{tag:"div[class=body]",context:"card/"}],addProseMirrorPlugins(){return[(0,tM.OX)(this.editor),new t5.k_({key:t7,state:{init:()=>new t8,apply:(e,t,n,a)=>t.apply(e,a)},props:{attributes:e=>null!==t7.getState(e).getActiveHandleAbs(e)?{class:"resize-cursor"}:{class:""},handleDOMEvents:{mousemove:(e,t)=>(ns(e,t),!1),mouseleave(e){let t=ni(e);return null===t.getActiveHandleAbs(e.state)||t.dragging||nr(e,null),!1},mousedown:(e,t)=>(!function(e,t){if(!e.editable)return;let n=ni(e),a=n.getActiveHandleAbs(e.state);if(null===a||n.dragging)return;let i=e.state.doc.resolve(a),r=i.node(),l=nc(e,i),o=l.querySelector('[data-node-view-content-inner="card"]');if(!o)return;let s=n.side,d=s&&["top","bottom"].includes(s)?"y":"x",c="x"===d?o.offsetWidth:o.offsetHeight,u=nd(e,a),p=nu(r,l,r.attrs.layout);if(!p)return;nl(e,{startX:t.clientX,startY:t.clientY,dragDirection:s&&["top","bottom"].includes(s)?"y":"x",startSize:u,colWidths:p,totalSize:c,colIndex:0});let h=null;function g(){window.removeEventListener("mouseup",g),window.removeEventListener("mousemove",m);let t=ni(e);if(t.dragging){if(null===h)return void nl(e,null);if(t.dragging)try{(function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"x",i=e.state.doc.resolve(t).before(),r=n.join(" "),l=e.state.tr.setNodeAttribute(i,"x"===a?"layoutTemplateColumns":"layoutTemplateRows",r);e.dispatch(l),function(e,t){let n=e.state.doc.resolve(t),a=nc(e,n).querySelector('[data-node-view-content-inner="card"]');a&&(a.style.gridTemplateColumns="",a.style.gridTemplateRows="")}(e,t)})(e,t.getActiveHandleAbs(e.state),h,t.dragging.dragDirection),nl(e,null)}catch(t){no(e)}h=null}}function m(t){if(!t.which)return g();let n=ni(e),a=n.getActiveHandleAbs(e.state);if(!n.dragging||null===a)return;let{colWidths:i}=n.dragging,r=i[0],o={left:[10,25,37.5,50,62.5],right:[37.5,50,62.5,75,90],top:Object.values(np)}[null!=s?s:"left"];if("top"===s){let e=r+(t.clientY-n.dragging.startY),a=o.findIndex((t,n,a)=>n===a.length-1||e<=(a[n+1]+t)/2),i=Object.keys(np)[a];h=["var(--top-accent-height-".concat(i,")"),"auto"]}else{let e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,{totalSize:a}=e,i="x"===e.dragDirection?t.clientX-e.startX:t.clientY-e.startY;return nt()(100*i/a/n,0)*n}(n.dragging,t,.1),a=r+e<o[0]?o[0]:r+e>o[o.length-1]?o[o.length-1]:o.find(t=>6.25>=Math.abs(t-r-e));h=(0,nn.H0)(i,0,a-r,10).map(e=>"".concat(e,"%"))}(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",a=e.querySelector('[data-node-view-content-inner="card"]');a&&(a.style["y"===n?"gridTemplateRows":"gridTemplateColumns"]=t.join(" "))})(l,h,d),(0,na.i$)(l)}window.addEventListener("mouseup",g),window.addEventListener("mousemove",m),t.preventDefault()}(e,t),!1)},decorations(e){let t=t7.getState(e),n=t.getActiveHandleAbs(e);if(null!==n){let a=[];try{let i=document.createElement("div");i.className="column-resize-handle ".concat(t.side),a.push(t3.NZ.widget(n+1,i));let r=e.doc.nodeAt(n);return a.push(t3.NZ.node(n,n+r.nodeSize,{class:"has-column-resize-handle"})),t3.zF.create(e.doc,a)}catch(e){return console.error("(caught) cardLayoutResizing error: ".concat(e.message)),t3.zF.empty}}},nodeViews:{}}})]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,o.KV)(t,{class:"card-layout-item"}),0]},renderHTMLforAI(e){let{node:t}=e;return["div",{class:"body"},0]}});var nm=n(9922),nx=n.n(nm),nf=n(75484),nb=n(1739),nv=n(2426),ny=n(2320),nw=n(25105),nC=n(99923);class nA extends c.Lz{updateProps(e){this.isDestroyed||this.renderer.updateProps(e)}mountEditor(){let e=this.editor,{nodeName:t,preventNodeOrExtensionTypes:n}=this.editorOptions,a=[...du({isInnerEditor:!0}),nw.V,nb.mk,eE.bU,tZ.Q8,nk.configure({outerEditor:e,getPos:this.getPos}),ny.c,nv.bY].filter(e=>!n||!n.includes(e.name)).map(e=>e.name===t?e.extend({topNode:!0}):e);return this.innerEditor=new nf.K({extensions:a,content:{type:t,content:this.node.content.toJSON(),attrs:nx()(this.node.attrs)},onBeforeCreate(a){let{editor:i}=a;i.schema.nodes={...e.schema.nodes},null==n||n.forEach(e=>{i.schema.nodes[e]&&delete i.schema.nodes[e]}),i.schema.marks={...e.schema.marks},i.schema.topNodeType=e.schema.nodes[t],i.extensionManager.schema=i.schema}}),this.innerEditor.gammaOrgId=e.gammaOrgId,this.innerEditor.gammaDocId=e.gammaDocId,this.innerEditor.parentEditor=e,this.innerEditor.view.updateState=function(e){if(!this.docView){this.state=e;return}this.updateStateInner(e,this.state.plugins!=e.plugins)},this.innerEditor.view.update=function(e){this.docView&&t3.Lz.prototype.update.call(this,e)},this.updateProps({innerEditor:this.innerEditor}),this.innerEditor}destroy(){var e;this.isDestroyed=!0,null==(e=this.innerEditor)||e.destroy(),super.destroy()}update(e,t){var n;if(!e.sameMarkup(this.node))return!1;this.node=e;let a=null==(n=this.innerEditor)?void 0:n.view;if(!a)return!0;let i=a.state,r=e.content.findDiffStart(i.doc.content);if(null!=r){let{a:t,b:n}=e.content.findDiffEnd(i.doc.content),l=r-Math.min(t,n);l>0&&(t+=l,n+=l),a.dispatch(i.tr.replace(r,n,e.slice(r,t)).setMeta(nC.k,!0).setMeta("preventAutolink",!0))}return super.update(e,t)}stopEvent(e){return!!this.innerEditor&&this.innerEditor.view.dom.contains(e.target)}ignoreMutation(){return!0}get contentDOM(){return null}constructor(e,t,n){super(e,t,n),this.isDestroyed=!1,this.editorOptions=n,this.updateProps({mountEditor:()=>this.mountEditor(),destroyEditor:()=>{var e,t,n;null==(e=this.innerEditor)||e.destroy(),null==(t=(n=this.editor.commands).forceHideBubbleMenu)||t.call(n,!1),setTimeout(()=>{this.updateProps({innerEditor:void 0})})}})}}function nj(e,t){return n=>new nA(e,n,t)}let nk=o.YY.create({name:"innerEditorExtension",addOptions:()=>({outerEditor:null,getPos:null}),addProseMirrorPlugins(){let{outerEditor:e,getPos:t}=this.options;return[new t5.k_({appendTransaction:n=>{let a=n[0];if(!a)return null;if(!a.getMeta(nC.k)){let a=e.state.tr,i=d.Lm.offset(t()+1);for(let e=0;e<n.length;e++){let t=n[e].steps;for(let e=0;e<t.length;e++){let n=t[e],r=n.map(i);!r&&n instanceof d.Wg&&0==n.from&&(r=nS(n,i)),r&&a.step(r)}}if(a.setMeta(nC.R,!0).setMeta("preventAutolink",!0),a.docChanged){let t=!e.state.selection.eq(a.selection),n=e.state.selection instanceof t5.U3;if(t&&n)try{a.setSelection(t5.U3.create(a.doc,a.mapping.map(e.state.selection.from),a.mapping.map(e.state.selection.to)))}catch(e){console.error("[InnerEditorExtension] restore selection error",e)}e.view.dispatch(a)}}return null}})]},addKeyboardShortcuts(){let{outerEditor:e}=this.options;return{"Mod-z":()=>e.commands.undo(),"Mod-y":()=>e.commands.redo()}}}),nS=(e,t)=>{let n=t.mapResult(e.from,1),a=t.mapResult(e.to,-1),i=t.map(e.gapFrom,1),r=t.map(e.gapTo,1);return n.deletedAcross&&a.deletedAcross||i<n.pos||r>a.pos?null:new d.Wg(n.pos,a.pos,i,r,e.slice,e.insert,e.structure)};var nI=n(75495);let nE=(e,t)=>{try{let n=(0,o.eL)(e.state.doc.resolve(t),tD.jg),a=null==n?void 0:n.node;return null==a?void 0:a.attrs.id}catch(e){return}},nR=e=>{let{decorations:t,editor:n,getPos:a,destroyEditor:i,mountEditor:r}=e,l=(0,X.jL)();(0,nI.y)(n);let{mountEditor:o,activeNoteCardId:s}=(0,X.GV)(tf.rd),d=nE(n,a()),{isNested:c}=(0,tc.tg)(t),u=!c&&(0,tR.I5)(n,a()),p=s===d&&"function"==typeof r&&o===r,h=u&&!p&&!!r&&!c&&!n.isThumbnail;(0,R.useEffect)(()=>{h&&requestAnimationFrame(()=>{l((0,tf.Lz)({activeNoteCardId:d,mountEditor:r,destroyEditor:i}))})},[h,i,l,r,d])};var nL=n(67200),nD=n(24903),nM=n(92397),n_=n(64895);let nT=new t5.hs("cardNotesPlugin"),nN=(e,t)=>new t5.k_({key:nT,props:{attributes:()=>{let n=t.getState();return(0,tf.Iw)(n)&&!(0,tR.NO)(e)&&(0,en.nD)(n)&&!e.isStatic?{class:"card-notes-active"}:{class:""}},decorations:n=>{let{doc:a,selection:i}=n,r=t.getState();if(!(0,tf.Iw)(r)||(0,tR.NO)(e)||!(0,en.nD)(r)||e.isStatic)return;let l=(0,nM.hT)(e.state.doc,i.from);if(l)return t3.zF.create(a,[t3.NZ.node(l.pos,l.pos+l.node.nodeSize,{class:"card-notes-active-parent-card"})])}},appendTransaction:(t,n,a)=>{if((0,tR.NO)(e)||e.isThumbnail||e.isStatic)return;let i=a.tr;return((0,nD.z)(t,n,a,i,"cardNotes"),nP(t,n,a,i),i.docChanged)?i:null}}),nz=e=>e.map(e=>{let t=0===e.slice.content.size;return e.from!==e.to&&t?{type:"delete",step:e}:e.from!==e.to||t?e.from===e.to||t?null:{type:"replace",step:e}:{type:"insert",step:e}}).filter(e=>!!e),nP=(e,t,n,a)=>{e.forEach(e=>{let i=e.steps.filter(e=>e instanceof d.Ln||e instanceof d.Wg);1!==i.length||(0,nL.he)(e)||e.getMeta(nC.R)||e.getMeta("appendedTransaction")||e.getMeta("cardNotesHandled")||e.getMeta("rearrangeCards")||nz(i).filter(e=>"delete"===e.type||"replace"===e.type).forEach(e=>{let{step:i}=e,{from:r,to:l}=i;t.doc.nodesBetween(r,l,(e,i)=>{if("cardNotes"===e.type.name){var l;let s=t.doc.resolve(i),d=(0,o.eL)(s,tD.jg),c=(0,o.xe)(n.doc,e=>(0,tD.jg)(e)&&e.attrs.id===(null==d?void 0:d.node.attrs.id));if(!c[0])return;let u=(0,o.xe)(c[0].node,e=>"cardNotes"===e.type.name);if(u.length>0&&(null==(l=u[0])?void 0:l.node.content.eq(e.content))&&c[0].pos===(null==d?void 0:d.pos))return;let p=(0,nM.hT)(n.doc,r);if(!p)return void console.warn("[preventNotesDelete] parentCard not found");let h=n.doc.resolve(p.pos);if((0,tR.PD)(h)){let t=(0,n_.XC)(n.doc,p.pos,!1);if(null===t)return void console.warn("[preventNotesDelete] insertPos not found");a.insert(t,e.content)}else{let t=p.pos+p.node.nodeSize-1;a.insert(t,e)}}})})})},nO=o.bP.create({name:"cardNotes",content:"cardNotesBlock+",selectable:!1,atom:!0,parseHTML:()=>[{tag:"div[class=card-notes]"},{tag:"notes"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,o.KV)(t,{class:"card-notes"}),0]},renderHTMLforAI:()=>["notes",0],renderText:()=>"",addProseMirrorPlugins(){let e=(0,X.KA)();return[nN(this.editor,e)]},addNodeView(){return this.editor.shouldUsePublishedVersion?(0,c.gu)(()=>null):nj(nR,{nodeName:this.name,preventNodeOrExtensionTypes:["dropCursor","smartLayout","doc","document","card","embed","slashMenu","mediaUpload","GammaMention"]})}});var nF=n(77467),nH=n(97139),nB=n.n(nH);let nV=e=>{let{node:t}=e,n=nB().sanitize(t.attrs.code),a=(0,X.GV)(en.wC)===ea.w.SLIDE_VIEW;return(0,p.jsx)(g.u,{...e,children:(0,p.jsx)(eh.s,{className:"card-code-item",dangerouslySetInnerHTML:{__html:n},contentEditable:!1,direction:"column",justify:"center",sx:a?nW:void 0,onMouseDown:ei.Fw})})},nW={h:"100vh",overflowY:"auto"},nU=o.bP.create({name:"cardCodeItem",atom:!0,selectable:!1,draggable:!1,addAttributes:()=>({id:(0,Z.e)(J.z),code:{default:""},aiGenerateStatus:{}}),addNodeView:()=>(0,c.gu)(nV,{update:u.z0}),parseHTML:()=>[{tag:"div[class=custom-code]"},{tag:"custom-code",content:"card/",getAttrs:e=>({code:e.innerHTML})}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,o.KV)(t,{class:"custom-code"})]},renderHTMLforAI(e){let{node:t}=e;return["custom-code",{},t.attrs.code]},addExtensions:()=>[nG]}),nG=nF.S.extend({name:"UniqueCodeCardId"}).configure({attributeName:"id",types:["codeCard"],initialValue:J.z,filterTransaction:nL.kz,pluginKey:new t5.hs("UniqueCodeCardId")});var nK=n(64268),nQ=n(51504),nZ=n(5221),nq=n(99745),nJ=n(57405),n$=n(39247),nY=n(58809);let nX=e=>(0,p.jsx)(h.a,{bg:"var(--body-color)",opacity:"0.4",borderRadius:"sm",...e});var n0=n(91176),n1=n(28615),n2=n(31090),n4=n(70259),n6=n(63902),n5=n(19546),n3=n(63255),n9=n(85732),n7=n(70006);let n8=(0,R.memo)(e=>{let{cardId:t,docId:n,editor:a,cards:i,level:r,showNested:l,isPresentMode:o}=e,s=(0,n4.d)({cardId:t,editor:a}),d=(0,X.GV)(nY.Jo),c=(0,R.useCallback)(e=>{(0,n5.T)(a,e,t)},[a,t]),u=(0,n6.oR)(),g=(0,R.useMemo)(()=>{let e=(0,n7.Io)({cardId:t,docId:n,isPresentMode:o});return u?(0,n9.M7)({url:e,doc:d}):e},[t,n,d,o,u]),{listStyle:m,paddingStart:x,marginStart:f}=(0,n3.WI)(r);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(n2.B8,{mb:"0.5em",children:(0,p.jsx)(n2.ck,{listStyleType:m,ps:x,ms:f,children:(0,p.jsx)(h.a,{display:"inline",children:(0,p.jsx)(tp.N,{href:g,className:"link",role:"link",isExternal:!u,noOfLines:1,wordBreak:"break-word",onClick:c,display:"-webkit-inline-box",verticalAlign:"top",children:(null==s?void 0:s.title)||(0,p.jsx)(eT.x6,{id:"wja8aL"})})})})}),l&&i.map(e=>(0,p.jsx)(n8,{cardId:e.id,cards:e.children,editor:a,level:r+1,showNested:l,docId:n,isPresentMode:o},e.id))]})});n8.displayName="CardTOCItem";let ae=e=>{let{node:t,editor:n,getPos:a}=e,{nested:i}=t.attrs,r=a(),l=(0,nM.hT)(n.state.doc,r),o=(0,X.GV)(n$.NG),s=(0,X.GV)((0,en.xO)({cardId:null==l?void 0:l.node.attrs.id,showAll:n1.LD})).filter(e=>{let{id:t}=e;return!(null==o?void 0:o[t])}),d=(0,X.GV)(nY.Jo),c=(0,X.GV)(en.wC),u=(0,X.GV)(en.jO),m=c===ea.w.SLIDE_VIEW;return(0,p.jsx)(g.u,{...e,as:"div",children:(0,p.jsxs)(h.a,{cursor:"default",pointerEvents:u?"none":void 0,borderRadius:"var(--box-border-radius)","data-selection-ring":!0,className:"card-toc",children:[0===s.length&&(0,p.jsxs)(nK.F,{colorScheme:"gray",color:"gray.700",fontFamily:"body",fontSize:"1em",py:"0.75em",px:"1em",children:[(0,p.jsx)(nQ._,{w:"1em",h:"1em",alignSelf:"center",me:"0.75em"}),(0,p.jsxs)(h.a,{children:[(0,p.jsx)(nZ.X,{fontSize:"1em",lineHeight:"1.5em",children:(0,p.jsx)(eT.x6,{id:"519v/x"})}),(0,p.jsx)(nq.T,{fontSize:"0.75em",lineHeight:"1.5em",children:(0,p.jsx)(eT.x6,{id:"HmhQ3B"})})]})]}),s.map(e=>(0,p.jsx)(n8,{cardId:e.id,cards:e.children,editor:n,level:0,showNested:i,docId:(null==d?void 0:d.id)||"",isPresentMode:m},e.id))]})})},at=e=>(0,p.jsx)(n0.V,{children:(0,p.jsxs)(nJ.T,{spacing:"0.5em",align:"start",children:[(0,p.jsx)(nX,{h:"1em",w:"14em",bg:"var(--link-color)"}),(0,p.jsx)(nX,{h:"1em",w:"14em",bg:"var(--link-color)"}),(0,p.jsx)(nX,{h:"1em",w:"14em",bg:"var(--link-color)"}),(0,p.jsx)(nX,{h:"1em",w:"14em",bg:"var(--link-color)"})]})}),an=o.bP.create({name:"tableOfContents",group:"block",atom:!0,selectable:!0,dynamic:!0,addAttributes:()=>({nested:{default:!1}}),parseHTML:()=>[{tag:"div[class=toc]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,o.KV)(t,{class:"toc"})]},addNodeView(){return this.editor.isThumbnail?(0,c.gu)(at,{update:u.z0}):(0,c.gu)(ae,{update:u.z0})}});var aa=n(58495),ai=n(29421),ar=n(54992),al=n(85542),ao=n(28620),as=n(81498),ad=n(44646);let ac={serialize(e){let{omitIds:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=["colgroup",{}],a=["tbody",{}],i=["table",{},n,a];return e.rows.forEach((i,r)=>{let l=["tr",{}];t||(l[1].id=i.id),a.push(l),e.columns.forEach(a=>{if(0===r){let{type:e,label:i,format:r,id:l,fixedType:o}=a,s=["col",{type:e,label:i,format:r,"fixed-type":o}];t||(s[1].id=l),n.push(s)}let o=e.getCell({column:a.id,row:i.id});l.push(["td",{type:o.type},["value",{},o.textValue]])})}),i},parse(e){let t=[],n=[],a=[];for(let i of e.children)switch(i.tagName){case"COLGROUP":t=[...i.children].filter(e=>"COL"===e.nodeName).map(e=>{var t;return new ao.n({id:e.getAttribute("id")||void 0,type:e.getAttribute("type")||"label",label:e.getAttribute("label")||"",format:e.getAttribute("format")||"raw",fixedType:(null==(t=e.getAttribute("fixed-type"))?void 0:t.toLowerCase())==="true"})});break;case"TBODY":if(!t.length)throw Error("No columns defined before tbody");n=[...i.children].filter(e=>"TR"===e.nodeName).map(e=>{let n=new ad.N({id:e.getAttribute("id")||void 0});return!function(e,n){[...e.children].filter(e=>"TD"===e.nodeName).forEach((e,i)=>{let r=e.getElementsByTagName("value").item(0),l=t[i],o={row:n,column:l},s="data"===l.type?new ar.T(o):new al.l(o);s.textValue=(null==r?void 0:r.textContent)?r.textContent:"",a.push(s)})}(e,n),n})}return new as.h({columns:t,rows:n,cells:a})}};var au=n(49611),ap=n(51684),ah=n(8995),ag=n(14974),am=n(26658),ax=n(23275),af=n(36091);function ab(e){for(let t of e.columns)if(!t.isEmpty(e)&&"data"===t.type)return t;return null}function av(e){for(let t of e.columns)if(!t.isEmpty(e)&&"label"===t.type)return t;return null}var ay=n(94297),aw=n(12180),aC=n(21959),aA=n(75906);let aj=e=>{let{direction:t="vertical",definition:n,textValue:a,x:i,y:r,width:l,height:o,bounds:s,offset:d={x:0,y:0},onPositionChange:c,invertColorOfInsideText:u}=e,h=(()=>{if(!n)return!1;let e=n.getDimensions(a),c=e.width+d.x,u=e.height+d.y;return"vertical"===t?n.inside?(n.rotate?c:u)+n.margin<o:r-(n.rotate?c:u)-n.margin<=0:n.inside?c+n.margin<l:i+c+n.margin+l>=s.width})(),g=(0,R.useMemo)(()=>({x:"vertical"===t?i+l/2+d.x:i+l+(n.margin+d.x)*(h?-1:1),y:"vertical"===t?r+(d.y+n.margin)*(h?1:-1):r+o/2+d.y}),[i,l,d.x,r,o,d.y,h,t,n.margin]);return((0,R.useEffect)(()=>{null==c||c(g)},[g]),n.hide)?null:(0,p.jsx)(aA.A,{pointerEvents:"none",...g,textAnchor:n.rotate?h?"end":"start":"vertical"===t?"middle":h?"end":"start",verticalAnchor:"vertical"===t?n.rotate?"middle":h?"start":"end":"middle",style:{...n.textStyles,userSelect:"none",filter:h&&u?"invert(1)":void 0},angle:270*!!n.rotate,children:a})};var ak=n(96784),aS=n(19034),aI=n(66490),aE=n(1860),aR=n(75415),aL=n(88678),aD=n(50998),aM=n.n(aD),a_=n(63674);let aT={top:8,bottom:2,right:1,left:4},aN=e=>{let{color:t,labelCells:n,dataCells:a,height:i,children:r,textColor:l,tickColor:o,tiny:s=!1,width:d,fontFamily:c="var(--body-font)",fontSize:u="var(--chakra-fontSizes-sm)",fontWeight:h="var(--body-font-weight)",margin:g=aw.PH,direction:m="vertical",hideLabels:x=!1,padding:f=0,labelPadding:b=.3,pullToZero:v=!0,onMouseMove:y,onMouseLeave:w,onMouseMoveInside:C,onMouseLeaveInside:A}=e,j=s?2:14,k=s?{top:1,right:0,bottom:2,left:0}:aT,S=s?{top:0,right:0,bottom:0,left:0}:g,I=!!s||x;s&&(u="2px",f=0);let E=s?.5:2,L=s?1:6,D=a.map(e=>e.data),M=a.reduce((e,t)=>{if("mixed"===e)return e;let n=t.getFormatter().type;return""===e||e===n?n:"mixed"},""),_=Math.max(...D),T=Math.min(...D),N=n.length?n:a.map(e=>({position:{row:e.position.row},textValue:""})),z=(0,R.useMemo)(()=>{let e="percentage"===M&&_<=100?100:null;return function(e,t,n,a){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(null!==i&&t>i&&(console.error("`capAt` MUST be larger than `max`",{capAt:i,max:t}),i=null),!a){let n=(0,aE.A)({range:[0,1],domain:[e,Math.max(t,0)]}).ticks();a=n.length<2?1:Math.abs(n[1]-n[0])}let r=(0,a_.yw)(Math.max(t,0),a,1),l=(0,a_.yw)(e,a,-1),o=(0,a_.yw)((r-l)/(n-1),a,1);o&&o!==a&&(l=(0,a_.yw)(l,o,-1));let s=[l];for(;s[s.length-1]<r&&(s.push(l+s.length*o),!(s.length>2*n)););return null!==i&&s[s.length-1]>=i?Array.from({length:n+1}).map((e,t)=>(l+(r-l)/n)*t):s}(v?Math.min(T,0):T,_,4,void 0,e)},[T,_,v,M]),P=a[0].format.bind(a[0]),O="vertical"===m?z.map(e=>a[0].format(e)):N.map(e=>aM()(e.textValue,{length:25,separator:" "})),F=(0,a_.Vr)(O,{fontFamily:c,fontSize:u,fontWeight:h}),H=I?0:F.maxWidth,B={top:S.top+k.top,right:S.right+k.right,bottom:S.bottom+E+(I?0:L+k.bottom),left:S.left+H+E+(I?0:L+k.left)},V=("vertical"===m?N:a).map(e=>{let{textValue:t}=e;return aM()(t,{length:25,separator:" "})}),{bottomTickValues:W,bottomLabels:U,rotateLabels:G,labelsHeight:K,splitIx:Q}=az({em:j,textStyles:{fontFamily:c,fontSize:u,fontWeight:h},hideLabels:I,padding:f,height:i,width:d,margin:B,labelCells:N,labelStrings:V}),Z=i-B.top-B.bottom-K,q="horizontal"===m&&Z/O.length<j?(B.left-=H,[]):N.map(e=>{let{position:{row:t}}=e;return t}),J=d-B.left-B.right,$=N.map(e=>"".concat(e.position.row,":").concat(e.textValue)).join(","),{labelScale:Y,labelIndex:X}=(0,R.useMemo)(()=>({labelScale:(0,ag.A)({range:"vertical"===m?[0,J]:[0,Z],domain:N.map(e=>e.position.row),paddingInner:b,paddingOuter:.3}),labelIndex:Object.fromEntries(N.map(e=>[e.position.row,e]))}),[J,m,Z,$,b]),ee=(0,R.useMemo)(()=>{let e=z[0],t=z[z.length-1];return(0,aE.A)({range:"horizontal"===m?[T<0?f:0,J]:[Z-(T<0?f:0),E+f],round:!0,domain:[e,t]})},[z,Z,T,J,m,f,E]),et=(()=>{if(!C&&!A)return null;let e=e=>t=>{e(t,function(e,t){var n;let a=null!=(n=(0,aI.A)(e))?n:{x:e.clientX,y:e.clientY};return{svgCoords:a,axisCoords:{x:a.x-t.left,y:a.y-t.top}}}(t,B))};return{move:C&&e(C),leave:A&&e(A)}})();return(0,p.jsxs)("svg",{width:"100%",viewBox:"0 0 ".concat(d," ").concat(i),height:"100%",preserveAspectRatio:"none",overflow:"visible",onMouseMove:y,onMouseLeave:w,children:[z.map((e,n)=>"vertical"===m?(0,p.jsx)(aR.A,{from:{x:B.left,y:ee(e)+B.top},to:{x:d,y:ee(e)+B.top},stroke:t,opacity:0===e?.5:.2},n):(0,p.jsx)(aR.A,{from:{x:B.left+ee(e),y:B.top},to:{x:B.left+ee(e),y:Z},stroke:t,opacity:0===e?.5:.2},n)),et&&(0,p.jsx)(am.A,{fill:"transparent",opacity:.2,x:B.left,y:B.top,height:Z,width:J,onMouseMove:et.move,onMouseLeave:et.leave}),r({labelScale:Y,dataScale:ee,yMax:Z,xMax:J,margin:{...B}}),(0,p.jsx)(ah.A,{children:"vertical"===m?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ak.A,{top:B.top,left:B.left,scale:ee,stroke:t,rangePadding:T<0?-1*f:0,strokeWidth:E,tickValues:I?[]:z,tickFormat:P,tickLength:L,tickStroke:o||t,tickLabelProps:()=>({fill:l||t,textAnchor:"end",fontFamily:c,fontSize:u,fontWeight:h,dy:"0.33em",dx:s?0:-4,userSelect:"none"})}),(0,p.jsx)(aS.A,{top:Z+B.top,left:B.left,scale:Y,stroke:t,tickValues:W,tickFormat:(e,t)=>U[t],tickStroke:o||t,tickLabelProps:(e,n)=>({fill:l||t,fontFamily:c,fontSize:u,fontWeight:h,userSelect:"none",dy:4*!s,i:n}),strokeWidth:E,tickLength:L,tickComponent:e=>{let{x:t,y:n,i:a,dy:i,formattedValue:r,...l}=e;return(0,p.jsx)("g",{alignmentBaseline:"middle",...l,children:G||!Q[a]?(0,p.jsx)("text",{x:t,y:n,dy:i,transform:G?"rotate(-45, ".concat(t,", 0)"):"",textAnchor:G?"end":"middle",children:r}):(r||"").split(" ").map((e,r)=>(0,p.jsx)("text",{x:t,y:n+j*r,dy:i,textAnchor:"middle",children:e},"".concat(a,":").concat(r)))})}})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ak.A,{top:B.top,left:B.left,scale:Y,stroke:t,strokeWidth:E,tickLength:L,tickValues:I?[]:q,tickFormat:e=>aM()(X[e].textValue,{length:25,separator:" "}),tickStroke:o||t,tickLabelProps:()=>({fill:l||t,textAnchor:"end",fontFamily:c,fontSize:u,fontWeight:h,dy:"0.33em",dx:s?0:-4,userSelect:"none"})}),(0,p.jsx)(aS.A,{top:Z+B.top,left:B.left,scale:ee,stroke:t,rangePadding:T<0?f:0,tickValues:I?[]:z,tickFormat:P,tickLength:L,tickStroke:o||t,tickLabelProps:(e,n)=>({fill:l||t,textAnchor:0===n?"end":"middle",fontFamily:c,fontSize:u,fontWeight:h,userSelect:"none",dy:4*!s}),strokeWidth:E})]})})]})},az=e=>{let{em:t,textStyles:n,hideLabels:a,padding:i,height:r,width:l,margin:o,labelStrings:s,labelCells:d}=e,c=s.join(","),u=(l-o.left-o.right)/s.length,{fontFamily:p,fontSize:h,fontWeight:g}=n;return(0,R.useMemo)(()=>{let e=[...s],l={bottomTickValues:[],rotateLabels:!1,labelsHeight:0,splitIx:[],sliceWidth:u,bottomLabels:[]};if(a||u<=t+3)return l;let{widths:c,maxWidth:p}=(0,a_.Vr)(s,n),h=!1,g=t,m=d.map(e=>{let{position:{row:t}}=e;return t}),x=s.map((e,a)=>{if(h||c[a]<u-i)return!1;let{widths:r,maxWidth:l}=(0,a_.Vr)(e.split(" "),n);if(l>u-i)return h=!0,!0;let o=r.length*t;return o>g&&(g=o),!0});if(!h)return{bottomTickValues:m,rotateLabels:h,labelsHeight:g,splitIx:x,sliceWidth:u,bottomLabels:e};let f=e=>Math.cos(Math.PI/4)*e-(t+7);g=Math.sin(Math.PI/4)*p;let b=f(p);if(b>.3*r)return l;let v=e=>o.left+u*e+u/2;for(let t=0;t<s.length;t++){let a=v(t);if(a>b)break;if(f(c[t])>a){let i=(0,a_.jp)(s[t],e=>{let t=(0,aL.A)(e,n);if(null===t)return -1;let i=f(t);return i<a-10?1:i>a?-1:0});if(!i)return console.log("could not truncate"),l;e[t]=i}}return{bottomTickValues:m,bottomLabels:e,rotateLabels:h,labelsHeight:g,splitIx:x,sliceWidth:u}},[t,r,c,p,h,g,a,i,u])};var aP=n(18833);let aO=e=>{let{data:t,render:n,getColor:a,getOpacity:i,onMouseOver:r,onMouseLeave:l,onClick:o,onDoubleClick:s,textColor:d,position:c="bottom",width:u}=e,g=(0,R.useRef)(null),[m,x]=(0,R.useState)(0),[f,b]=(0,R.useState)(!1),v=["top","bottom"].includes(c)?{width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(".concat(m,"em, 1fr))"),justifyItems:f?"flex-start":"center",alignSelf:"stretch","& > div:first-child":{justifySelf:f?void 0:"flex-end"},"& > div:last-child":{justifySelf:f?void 0:"flex-start"}}:{height:"100%",flexDir:"column"},y=t.map(e=>n(e)).join("|");return(0,R.useEffect)(()=>{let e=0;if(!g.current)return;let t=(0,a_.us)(g.current);for(let t of g.current.querySelectorAll(":scope > div")){var n;t.style.width="min-content";let a=(null==(n=t.getClientRects()[0])?void 0:n.width)||0;t.style.width="",a>e&&(e=a)}x(parseFloat((e/t).toFixed(2)))},[y]),(0,R.useEffect)(()=>{b(!!g.current&&function(e){var t;let n=e.children;if(!n.length)return!1;let a=null==(t=n.item(0))?void 0:t.offsetTop;for(let e of n)if(e.offsetTop!==a)return!0;return!1}(g.current))},[u,m]),(0,p.jsx)(eh.s,{ref:g,sx:v,flexGrow:0,flexShrink:1,flexWrap:"wrap",alignContent:["left","top"].includes(c)?"flex-end":"flex-start",justifyContent:"center",gap:5,children:t.map((e,t)=>(0,p.jsxs)(k.z,{flexGrow:0,flexShrink:1,opacity:i?i(e,t):1,cursor:"pointer",onMouseOver:null==r?void 0:r(e,t),onMouseLeave:null==l?void 0:l(e,t),onClick:null==o?void 0:o(e,t),onDoubleClick:null==s?void 0:s(e,t),transition:"opacity ".concat(aw.UG,"s"),minW:"min-content",gap:2,alignItems:"flex-start",children:[(0,p.jsx)(h.a,{flex:"0 0 auto",as:aP.P.div,width:"1em",height:"1em",flexShrink:0,bg:a(e,t),borderRadius:"sm",animate:{backgroundColor:a(e,t)},children:" "}),(0,p.jsx)(S.E,{flex:"0 1 auto",fontSize:"1em",lineHeight:"1em",color:d,textAlign:"left",children:aM()(n(e),{length:30})})]},t))})};function aF(){let e=(0,R.useRef)(null);return(0,R.useEffect)(()=>()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{clickHandler:t=>n=>{e.current||(e.current=setTimeout(()=>{e.current=null,t(n)},200))},doubleClickHandler:t=>n=>{e.current&&(clearTimeout(e.current),e.current=null),t(n)}}}let aH=e=>{let{showInlineLabels:t,dataCells:n,scale:a,textStyles:i,direction:r,labelMargin:l=5}=e,o=n.flatMap(e=>e.map(e=>e.textValue)),s=o.join("|"),d=a.bandwidth();return(0,R.useMemo)(()=>{if(!t)return;let e=n[0].length>1?(0,ag.A)({range:[0,d],domain:n[0].map(e=>e.textValue),paddingInner:.2}):a,s=(0,a_.Vr)(o,i),c="vertical"===r&&s.maxWidth+l>=e.bandwidth(),u="vertical"===r?c&&s.maxHeight+l>=e.bandwidth():s.maxHeight+l>=e.bandwidth(),p=Object.fromEntries(o.map((e,t)=>[e,t]));return{margin:l,rotate:c,hide:u,textStyles:i,getDimensions:e=>{let t=p[e];return{width:void 0===t?0:s.widths[t],height:void 0===t?0:s.heights[t]}},inside:!1}},[t,i,s,r,d,l])};var aB=n(8527),aV=n(2241),aW=n(25927),aU=n(40149);let aG=e=>{let{TooltipInner:t}=e,{showTooltip:n,tooltipOpen:a,tooltipLeft:i,tooltipTop:r,tooltipData:l,hideTooltip:o}=(0,aW.A)(),s={minW:"5rem",textAlign:"left",pointerEvents:"none",...(0,aB.V)("Tooltip")},d=(0,R.useRef)();return(0,R.useEffect)(()=>()=>{d.current&&clearTimeout(d.current)},[]),{mouseMoveHandler:(e,t)=>a=>{d.current&&clearTimeout(d.current);let i=t?t(e,a):(0,a_.OP)(a);n({tooltipData:{...e,position:e.position},tooltipTop:null==i?void 0:i.y,tooltipLeft:null==i?void 0:i.x})},mouseLeaveHandler:e=>e=>{d.current=window.setTimeout(()=>{o()},300)},renderTooltip:function(){return a&&l?(0,p.jsx)(aK,{style:{},top:r,left:i,sx:{...s,top:void 0,left:void 0,userSelect:"none",pointerEvents:"none"},position:"absolute",contentEditable:!1,suppressContentEditableWarning:!0,children:(0,p.jsx)(t,{...l})},Math.random()):null}}},aK=(0,aV.B)(aU.A,{shouldForwardProp:e=>["top","left","style","children"].includes(e)});var aQ=n(68397);let aZ=e=>{let{dispatch:t}=(0,R.useContext)(aQ.uR),n=e.filter(e=>e instanceof ao.n).map(e=>e.id),a=n.join(",");(0,R.useEffect)(()=>(t({type:"reportActiveColumnIds",payload:n}),()=>{t({type:"reportActiveColumnIds",payload:void 0})}),[a,t])},aq=function(){let{textColor:e="var(--body-color)",fontFamily:t="var(--body-font)",fontSize:n="var(--chakra-fontSizes-sm)",fontWeight:a="var(--body-font-weight)"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,R.useMemo)(()=>({fontFamily:t,fontSize:n,fontWeight:a,fill:e}),[e,t,n,a])},aJ=e=>{let{showZero:t,data:n,dataColumns:a,animationDuration:i,barColors:r,textColor:l,direction:o,selectCell:s,tooltipEnter:d,tooltipLeave:c,dataScale:u,labelScale:h,yMax:g,xMax:m,margin:x,minValueGreaterThanZero:f,onDataClick:b,onDataDoubleClick:v,isThumbnail:y,focusedPosition:w,setFocusedPosition:C,showInlineLabels:A}=e,j=(0,aC.wQ)(a,"id"),k=aq({textColor:l}),S=n.rows.map(e=>e.getCells(n).filter(e=>!!j.get(e.position.column))),I=aH({dataCells:S,textStyles:k,scale:h,direction:o,showInlineLabels:A});return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(ah.A,{top:x.top,left:x.left,children:n.rows.map((e,n)=>{let a="group-".concat(e.id);return(0,p.jsx)(aY,{animationDuration:i,barColors:r,data:S[n],showZero:t,yMax:g,xMax:m,dataScale:u,inlineLabels:I,labelScale:h,selectCell:s,direction:o,globalMinValueGreaterThanZero:f,tooltipEnter:d,tooltipLeave:c,onDataClick:b,onDataDoubleClick:v,borderRadius:y?1:5,focusedPosition:w,setFocusedPosition:C},a)})})})},a$=e=>{var t,n;let{TooltipInner:a,showZero:i=!0,data:r,textColor:l,accentColor:o,animationDuration:s=aw.UG,isThumbnail:d=!1,width:c,height:u,chartType:g,colorScheme:m=aw.gb,hideLabels:x,showInlineLabels:f,onDataClick:b,onDataDoubleClick:v,backgroundColor:y,chartOptions:w,onContextMenu:C}=e,A="horizontal-bar"===g?"horizontal":"vertical",{renderTooltip:j,mouseMoveHandler:k,mouseLeaveHandler:S}=aG({TooltipInner:a}),[I,E]=(0,R.useState)(null),L=av(r),D=(null==L?void 0:L.getCells(r))||[],M=r.columns.filter(e=>{let{type:t}=e;return"data"===t}),_=M.map(e=>e.getCells(r)).flat(),T=M.length>1&&!x,N=Math.min(..._.map(e=>e.data).filter(e=>e>0)),z=M.map(e=>{let{id:t}=e;return t}),P=(0,ay.M)(o,z.length>1?z:[...new Set(_.map(e=>e.position.row))],m,{contrastColor:y}),O=(0,a_.jt)(d),F=null!=(t=w["vertical"===A?"bar":"horizontal-bar"])?t:{};return aZ([L,...M]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(h.a,{"data-test":"bar-chart-container",height:T?"calc(100% - ".concat(3,"em)"):"100%",cursor:"default",userSelect:"none",contentEditable:!1,onContextMenu:C,children:[(0,p.jsx)(aN,{width:c,height:T?u-3*O:u,labelCells:D,dataCells:_,color:l,textColor:l,tiny:d,direction:A,hideLabels:x,pullToZero:null==(n=F.axisPullToZero)||n,children:e=>(0,p.jsx)(aJ,{showZero:i,barColors:P,data:r,textColor:l,dataColumns:M,animationDuration:s,direction:A,tooltipEnter:k,tooltipLeave:S,minValueGreaterThanZero:N,onDataClick:b,onDataDoubleClick:v,isThumbnail:d,focusedPosition:I,setFocusedPosition:E,showInlineLabels:f,...e})}),T&&(0,p.jsx)(aO,{width:c,data:M,render:e=>e.label,getColor:e=>P.get(e.id),textColor:l,onMouseOver:e=>()=>E({row:"_",column:e.id}),onMouseLeave:()=>()=>E(null)})]}),j()]})},aY=e=>{var t;let{animationDuration:n,barColors:a,data:i,showZero:r,yMax:l,xMax:o,dataScale:s,inlineLabels:d,labelScale:c,direction:u,globalMinValueGreaterThanZero:h,tooltipEnter:g,tooltipLeave:m,onDataClick:x,onDataDoubleClick:f,borderRadius:b,focusedPosition:v,setFocusedPosition:y}=e,{clickHandler:w,doubleClickHandler:C}=aF(),A=c.bandwidth(),j=c(null==(t=i[0])?void 0:t.position.row)||0,k=(0,R.useMemo)(()=>{let e=i.map(e=>e.position.column);return(0,ag.A)({range:[j,j+A],domain:e,paddingInner:.2*(e.length>1)})},[A,i,j]),S=r?s(h):0,I=e=>{let t=g(e);return n=>{t(n),y(e.position)}},E=e=>{let t=m(e);return e=>{t(e),y(null)}},L=e=>null!==v&&(i.length>1?v.column!==e.position.column:v.row!==e.position.row);return(0,p.jsx)(ah.A,{children:i.map(e=>{let t={dataScale:s,value:e,innerScale:k,yMax:l,xMax:o,scaledMinValueGreaterThanZero:S,showZero:r},{x:c,y:h,width:g,height:m,roundedCorners:v}="vertical"===u?function(e){var t,n;let{dataScale:a,value:i,innerScale:r,showZero:l,scaledMinValueGreaterThanZero:o}=e,s=Math.min(a.range()[0],a(0)),d=s-(null!=(t=a(i.data))?t:0),c=d,u=null!=(n=r(i.position.column))?n:0,p=s-c,h=r.bandwidth(),g={topLeft:!0,topRight:!0,bottomLeft:!1,bottomRight:!1};return l&&Math.abs(s-o)>12&&6>Math.abs(d)&&(c=6,a.domain()[0]<0?(p-=3,g.bottomLeft=!0,g.bottomRight=!0):p-=6),c<0&&(p+=c,g.topLeft=!1,g.topRight=!1,g.bottomLeft=!0,g.bottomRight=!0),{x:u,y:p,height:Math.abs(c),width:h,roundedCorners:g}}(t):function(e){let{dataScale:t,value:n,innerScale:a,showZero:i,scaledMinValueGreaterThanZero:r}=e,l=Math.max(t.range()[0],t(0)),o=l,s=a(n.position.column),d=t(n.data)-l,c=a.bandwidth(),u=d,p={topLeft:!1,topRight:!0,bottomLeft:!1,bottomRight:!0};return i&&r>12&&6>Math.abs(d)&&(u=6,t.domain()[0]<0&&(o-=3,p.bottomLeft=!0,p.topLeft=!0)),u<0&&(o+=u,p.bottomLeft=!0,p.bottomRight=!1,p.topLeft=!0,p.topRight=!1),{x:o,y:s,height:c,width:Math.abs(u),roundedCorners:p}}(t);return(0,p.jsx)(aX,{yMax:l,xMax:o,x:c,y:h,direction:u,width:g,height:m,radius:b,topLeft:v.topLeft,topRight:v.topRight,bottomRight:v.bottomRight,bottomLeft:v.bottomLeft,fill:a.get(i.length>1?e.position.column:e.position.row),label:d?{...d,label:e.textValue}:void 0,opacity:L(e)?.5:1,duration:n,onMouseLeave:E(e),onMouseMove:I(e),onClick:x?w(x.bind(void 0,e)):void 0,onDoubleClick:f?C(f.bind(void 0,e)):void 0,style:{cursor:"pointer",transition:"opacity .25s"}},e.key)})})},aX=e=>{let{duration:t=0,y:n,x:a,height:i,width:r,yMax:l,xMax:o,innerRef:s,direction:d,label:c,opacity:u,style:h,...g}=e,[m,x]=(0,R.useState)(0),[f,b]=(0,R.useState)(r),[v,y]=(0,R.useState)(n+i),[w,C]=(0,R.useState)(a);return(0,R.useEffect)(()=>{(0,af.i)(m,i,{duration:t,onUpdate:e=>x(e)})},[i]),(0,R.useEffect)(()=>{(0,af.i)(f,r,{duration:t,onUpdate:e=>b(e)})},[r]),(0,R.useEffect)(()=>{(0,af.i)(w,a,{duration:t,onUpdate:e=>C(e)})},[a]),(0,R.useEffect)(()=>{(0,af.i)(v,n,{duration:t,onUpdate:e=>y(e)})},[n]),(0,p.jsxs)(ah.A,{children:[(0,p.jsx)(am.A,{height:"vertical"===d?Math.max(0,l):m,width:"horizontal"===d?Math.max(0,o):f,x:"vertical"===d?w:0,y:"vertical"===d?0:v,...g,onClick:void 0,onDoubleClick:void 0,style:void 0,opacity:0}),(0,p.jsxs)("g",{opacity:u,style:h,children:[(0,p.jsx)(ax.A,{height:m,width:f,x:w,y:v,innerRef:s,...g}),c&&(0,p.jsx)(aj,{direction:d,textValue:c.label,definition:c,width:f,height:m,x:w,y:v,invertColorOfInsideText:!0,bounds:{x:0,y:0,width:o,height:l}})]})]})};var a0=n(46979),a1=n(51600);let a2=e=>{var t,n;let{data:a,TooltipInner:i,isThumbnail:r=!1,width:l,height:o,accentColor:s,textColor:d,colorScheme:c=aw.gb,hideLabels:u,backgroundColor:g,chartOptions:m,onContextMenu:x,...f}=e,{renderTooltip:b,mouseMoveHandler:v,mouseLeaveHandler:y}=aG({TooltipInner:i}),[w,C]=(0,R.useState)(null),[A,j]=(0,R.useState)(null),k=av(a),S=(null==k?void 0:k.getCells(a))||[],I=a.columns.filter(e=>{let{type:t}=e;return"data"===t}),E=I.map(e=>e.getCells(a)).flat(),L=I.map(e=>{let{id:t}=e;return t}),D=(0,ay.M)(s,L,c,{contrastColor:g}),M=(0,a_.jt)(r),_=I.length>1&&!u,T=_?o-3*M:o;return aZ([k,...I]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(h.a,{"data-test":"line-chart-container",height:_?"calc(100% - ".concat(3,"em)"):"100%",cursor:"default",contentEditable:!1,suppressContentEditableWarning:!0,userSelect:"none",onContextMenu:x,children:[(0,p.jsx)(aN,{width:l,height:T,color:d,textColor:d,tiny:r,labelCells:S,dataCells:E,hideLabels:u,labelPadding:0,pullToZero:null==(n=null==(t=m.line)?void 0:t.axisPullToZero)||n,onMouseMoveInside:r?void 0:(e,t)=>C(t.axisCoords),onMouseLeaveInside:r?void 0:()=>C(null),children:e=>(0,p.jsx)(a4,{data:a,dataColumns:I,width:l,height:T,isThumbnail:r,getColor:D.get.bind(D),textColor:d,tooltipEnter:v,tooltipLeave:y,hoverPosition:w,highlightedColumn:A,chartOptions:m,...f,...e})}),_&&(0,p.jsx)(aO,{width:l,data:I,getColor:e=>D.get(e.id),textColor:d,render:e=>e.label,onMouseOver:e=>()=>j(e.id),onMouseLeave:()=>()=>j(null)})]}),b()]})},a4=e=>{var t,n;let{labelScale:a,dataScale:i,data:r,dataColumns:l,isThumbnail:o,getColor:s,margin:d,tooltipEnter:c,tooltipLeave:u,chartOptions:{line:h={}},onDataClick:g,onDataDoubleClick:m,animationDuration:x=aw.UG,textColor:f,hoverPosition:b,highlightedColumn:v,showInlineLabels:y}=e,[w,C]=i.range(),[A,j]=(0,R.useState)(null),[k,S]=(0,R.useState)(null),I=aq({textColor:f}),E=(0,aC.wQ)(l,"id"),L=aH({dataCells:r.rows.map(e=>e.getCells(r).filter(e=>!!E.get(e.position.column))),textStyles:I,scale:a,direction:"vertical",showInlineLabels:1===l.length&&y,labelMargin:-2}),D=e=>{let{data:t,position:{row:n}}=e;return{x:a(n)+a.bandwidth()/2,y:i(t)}},M=e=>{let t=c(e),n=D(e);return a=>{t(a),j(n),S(e.position.row)}},_=e=>{let t=u(e);return e=>{t(e),j(null),S(null)}};return(0,p.jsxs)(ah.A,{left:d.left,top:d.top,children:[(0,p.jsx)("line",{y1:C,y2:w,x1:0,x2:0,strokeWidth:1,stroke:f,transform:"translate(".concat(null!=(n=null!=(t=null==A?void 0:A.x)?t:null==b?void 0:b.x)?n:0,", 0)"),style:{opacity:"".concat(b||A?.8:0),pointerEvents:"none",transition:"opacity ".concat(x,"s, transform ").concat(.15*!!A,"s")}}),l[0].getCells(r).map(e=>(0,p.jsx)(am.A,{opacity:0,height:w,width:a.bandwidth(),x:a(e.position.row),y:C,onMouseMove:M(e),onMouseLeave:_(e)},"p-".concat(e.key))),l.map(e=>{let t=e.getCells(r);return(0,p.jsx)(a6,{cells:t,isThumbnail:o,color:s(e.id),xScale:a,yScale:i,onDataClick:g,onDataDoubleClick:m,lineOptions:h,animationDuration:x,onMouseMove:M,onMouseLeave:_,highlightedRow:k,highlightedColumn:v,inlineLabels:L,height:w},e.id)})]})},a6=e=>{var t;let{cells:n,color:a,xScale:i,yScale:r,onDataClick:l,onDataDoubleClick:o,onMouseMove:s,onMouseLeave:d,lineOptions:c={},animationDuration:u,isThumbnail:h,highlightedRow:g,highlightedColumn:m,inlineLabels:x,height:f}=e,{clickHandler:b,doubleClickHandler:v}=aF(),y=i.bandwidth(),[w,C]=(0,R.useState)({}),A=a5(n,r,u),j=e=>i(e.position.row)||0,k=e=>(!!g||!!m)&&(m?m!==e.position.column:g!==e.position.row);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a1.A,{data:n,x:e=>j(e)+y/2,y:A,stroke:a,strokeWidth:2,style:{pointerEvents:"none",transition:"opacity ".concat(u,"s")},opacity:(t=n[0],(g||m)&&(m?m!==t.position.column:!!g))?.3:1}),!h&&n.map(e=>{let t=w[e.key],n=j(e)+i.bandwidth()/2,r=A(e);return(0,p.jsxs)("g",{style:{transition:"opacity ".concat(u,"s")},opacity:c.hideMarkers?0:k(e)?.3:1,children:[x&&!x.hide&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(aj,{textValue:e.textValue,definition:x,width:y,height:f,x:j(e),y:A(e),offset:{y:Math.min(.1*f,50),x:0},onPositionChange:t=>{C(n=>({...n,[e.key]:t}))}}),t&&(0,p.jsx)("line",{x1:n,y1:r,x2:t.x,y2:t.y+5*(t.y>r?-1:1),stroke:x.textStyles.fill})]}),(0,p.jsx)(aP.P.circle,{cx:n,cy:r,r:4,fill:a,stroke:a,style:{cursor:"pointer"},onMouseMove:s(e),onMouseLeave:d(e),onClick:l?b(l.bind(void 0,e)):void 0,onDoubleClick:o?v(o.bind(void 0,e)):void 0})]},"circle-".concat(e.key))})]})},a5=(e,t,n)=>{let a=(0,R.useRef)(Object.fromEntries(e.map(e=>[e.key,void 0]))),i=()=>e=>a.current[e.key],[r,l]=(0,R.useState)(()=>i());return(0,R.useEffect)(()=>{let r=t(0);if(0===r)return;let o=e.map(e=>{var o;let s=e.key;return(0,af.i)(null!=(o=a.current[s])?o:r,t(e.data),{duration:n,ease:"easeOut",onUpdate:e=>{a.current[s]=e,l(()=>i())}})});return()=>{o.forEach(e=>{e.stop()})}},[e,t]),r||console.log("no getter"),r};var a3=n(99385),a9=n(31612);let a7=e=>{let{targetValue:t,initialValue:n=0,duration:a=aw.UG}=e,[i,r]=(0,R.useState)(n);return(0,R.useEffect)(()=>{let{stop:e}=(0,af.i)(i,t,{duration:a,onUpdate:e=>{r(e)}});return()=>{e()}},[t]),i};var a8=n(5777);function ie(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height}function it(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"number"==typeof t&&(t={x:t,y:t}),{...e,x:e.x+t.x*n,y:e.y+t.y*n}}class ia{get anchor(){let e=360*this.angle/(2*Math.PI);switch(!0){case e>=225&&e<=315:return{h:"middle",v:"end"};case e>=45&&e<=135:return{h:"middle",v:"start"};case e>135&&e<225:return{h:"end",v:"middle"};default:return{h:"start",v:"middle"}}}get key(){return this.cell.key}get closestCorner(){let e=this.angle,t=this.rect;return{x:e>=1.5*Math.PI||e<=Math.PI/2?t.x:t.x+this.width,y:e<=Math.PI?t.y:t.y+this.height}}get furthestCorner(){let e=this.angle,t=this.rect;return{x:e>=1.5*Math.PI||e<=Math.PI/2?t.x+this.width:t.x,y:e<=Math.PI?t.y+this.height:t.y}}getConnectionPoint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.rect,{x:n,y:a}=this.closestCorner,i=n/Math.cos(this.angle),r=a/Math.sin(this.angle),l=i;return ie({x:r*Math.cos(this.angle),y:a},t)?l=r:ie({x:n,y:i*Math.sin(this.angle)},t)||console.error("Line does not intersect rect"),{x:(l-e)*Math.cos(this.angle),y:(l-e)*Math.sin(this.angle)}}get rect(){var e,t,n;return{...(e=this._angle,it({x:Math.cos(e)*(t=this.radius+this.offset),y:Math.sin(e)*t},null!=(n=this.anchorPos)?n:0)),width:this.width,height:this.height}}get angle(){return this._angle}set angle(e){this._angle=function(e){let t=e;for(;t<0;)t+=2*Math.PI;return t%(2*Math.PI)}(e)}getOverflowingRadius(){let e=this.boundingRect,t=this.furthestCorner;if(t.y<e.y||t.x<e.x||t.x>e.x+e.width||t.y>e.y+e.height){let n=Math.min(Math.abs(e.x/Math.cos(this.angle)),Math.abs(e.y/Math.sin(this.angle)));return Math.sqrt(t.x**2+t.y**2)-n}return 0}handleIntersection(e){let t=this.rect,n=e.rect,a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=it(e,n),i=it(t,n),r=e=>{let t={x:"width",y:"height"}[e];return i[e]>a[e]?[i[e],Math.max(a[e]+a[t]-i[e],0)]:[a[e],Math.max(i[e]+i[t]-a[e],0)]},[l,o]=r("x"),[s,d]=r("y");return 0!==o&&0!==d&&it({x:l,y:s,width:o,height:d},-1*n)}(n,t,this.radius);if(!a)return 0;let i=(a.x>n.x?a.width:-1*a.width)*Math.sign(t.x),r=0>Math.sign(t.y)?-((a.y>n.y?n.height-a.height+t.height:a.height)*1):a.y>n.y?a.height:n.height-a.height,l=i/Math.cos(this.angle),o=r/Math.sin(this.angle),s=Math.sign(l)===Math.sign(o)?Math.min(Math.max(l,0),Math.max(o,0)):Math.max(l,o);return this.offset+=s,this.offset}get anchorPos(){var e,t;return e={w:this.width,h:this.height},{x:"start"===(t=this.anchor).h?0:"middle"===t.h?-(e.w/2):-1*e.w,y:"start"===t.v?0:"middle"===t.v?-(e.h/2):-1*e.h}}constructor(e,t,n,a,i,r,l){this.cell=e,this.radius=n,this.label=a,this.width=i,this.height=r,this.boundingRect=l,this.offset=0,this.angle=t}}let ii=e=>{let{showLabels:t,cells:n,radius:a,textStyles:i,chartWidth:r,margin:l=20,...o}=e,s=n.map(e=>e.textValue).join("|");return(0,R.useMemo)(()=>{if(!t)return{labelPad:0,labels:[]};let e={x:-(r/2),y:-(r/2),width:r,height:r},s=(0,a8.rL)({value:e=>e.data,...o})(n),d=a,c=0,u=s.map(t=>{var n;let{startAngle:r,endAngle:l}=t,o=t.data,s=o.textValue,{width:d,height:u}=null!=(n=(0,a_.Z7)(s,i))?n:{width:0,height:0},p=new ia(o,(r+l)/2-Math.PI/2,a,s,d,u,e),h=p.getOverflowingRadius();return h>c&&(c=h),p}),p=c,h=c,g=0;for(;p>0&&g++<2;){let e=c;c=0,p=0,u.forEach((t,n)=>{t.radius=t.radius-e,0!==n&&(p+=t.handleIntersection(u[n-1])),n===u.length-1&&(p+=t.handleIntersection(u[0]));let a=t.getOverflowingRadius();a>c&&(c=a)}),h+=c,p+=c}let m=l+h;return a-m<.25*a?{labelPad:0,labels:[]}:{labelPad:m,labels:u}},[s,i,a,r,l,t])},ir=e=>{let{labels:t,radius:n,textStyles:a,colors:i,isFocused:r,explodeOffset:l,animationDuration:o=.2}=e;return(0,p.jsx)("g",{children:t.map((e,t)=>{let s=e.getConnectionPoint(5),d=r(e.cell.position),c=r(e.cell.position,!0),u="opacity ".concat(o,"s, transform ").concat(o,"s"),h=c?"translate(".concat(Math.cos(e.angle)*l,"px, ").concat(Math.sin(e.angle)*l,"px)"):"";return(0,p.jsxs)("g",{opacity:d?1:.5,style:{transition:u,transform:h},children:[(0,p.jsx)("line",{x1:Math.cos(e.angle)*n,y1:Math.sin(e.angle)*n,x2:s.x,y2:s.y,stroke:a.fill,strokeWidth:c?2:1}),(0,p.jsx)("circle",{cx:s.x,cy:s.y,r:3,fill:i[t],stroke:a.fill}),(0,p.jsx)("text",{dominantBaseline:"hanging",x:e.rect.x,y:e.rect.y+3,...a,fontWeight:c?"bold":"normal",pointerEvents:"none",style:{userSelect:"none"},children:e.label})]},e.key)})})},il=e=>{var t;let{data:n,TooltipInner:a,colorScheme:i=aw.gb,isThumbnail:r=!1,width:l,height:o,chartType:s,textColor:d,accentColor:c,chartOptions:{donut:u,pie:h},hideLabels:g,showInlineLabels:m,onDataClick:x,onDataDoubleClick:f,animationDuration:b=aw.UG,backgroundColor:v,onContextMenu:y}=e,{dispatch:w}=(0,R.useContext)(aQ.uR),{renderTooltip:C,mouseMoveHandler:A,mouseLeaveHandler:j}=aG({TooltipInner:a}),k={top:15,right:15,bottom:15,left:15},S=ab(n),I=av(n),E=S?S.getCells(n).filter(e=>!e.isEmpty):[];aZ([I,S]),(0,R.useEffect)(()=>{let e="pie-no-labels";return I||g||w((0,a9.TD)(eN.Ru._({id:"gMgGUM"}),{severity:"warning",id:e,dismissable:!1})),()=>{w((0,a9.sA)(e))}},[I,g,w]),(0,R.useEffect)(()=>{let e="pie-single-row";return 1===E.length&&w((0,a9.TD)(eN.Ru._({id:"uHTxZb"}),{severity:"info",id:e,dismissable:!0})),()=>{w((0,a9.sA)(e))}},[E.length,w]);let L=E.map(e=>{let{position:t}=e;return t.row}),D=(0,ay.M)(c,L,i,{contrastColor:v,minContrast:1.3}),[M,_]=(0,R.useState)(null),T=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return M?M.row===e.row&&M.column==M.column:!t};r&&(k.top=5,k.right=5,k.bottom=5,k.left=5);let N=r||g||!I,[z,P]=l<o?[l,l]:[o,o],O=z-k.left-k.right,F=P-k.top-k.bottom,H=Math.min(O,F)/2,B=O/2,V=a7({targetValue:"donut"===s?(null==u?void 0:u.radius)||.5:1,initialValue:1,duration:b}),W=null!=(t=null==h?void 0:h.legendPosition)?t:"bottom",U=aq(),{labelPad:G,labels:K}=ii({showLabels:m,cells:E,radius:H,textStyles:U,chartWidth:O,sort:null}),Q=H-G,Z=Q*V,q=e=>(0,p.jsx)(is,{cells:E,colors:D,donutThickness:Z,duration:b,isDummy:e,isFocused:T,isThumbnail:r,onClick:x,onDoubleClick:f,radius:Q,setFocus:_,tooltipEnter:A,tooltipLeave:j}),J=["top","left"].includes(W),$=["right","left"].includes(W),Y="".concat($?"row":"column").concat(J?"-reverse":"");return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(eh.s,{height:"100%","data-test":"pie-chart-container",cursor:"default",contentEditable:!1,suppressContentEditableWarning:!0,userSelect:"none",flexDirection:Y,gap:1,justifyContent:J?"flex-end":"flex-start",onContextMenu:y,children:[(0,p.jsx)("svg",{style:{aspectRatio:"1",minHeight:"2em",overflow:"hidden"},viewBox:"0 0 ".concat(z," ").concat(P),children:(0,p.jsx)(ah.A,{top:F/2+k.top,left:B+k.left,children:(0,p.jsxs)(p.Fragment,{children:[q(!0),q(!1),(0,p.jsx)(ir,{labels:K,isFocused:T,radius:Q,textStyles:U,colors:[...D.values()],explodeOffset:15})]})})}),!N&&(0,p.jsx)(aO,{width:l,position:W,data:E,getColor:e=>D.get(e.position.row),render:e=>{let{position:{row:t}}=e;return n.getCellOrThrow({row:t,column:I.id}).label},textColor:d,getOpacity:e=>T(e.position)?1:.2,onMouseOver:e=>()=>_(e.position),onMouseLeave:()=>()=>_(null)})]}),C()]})},io=e=>{let{arc:t,duration:n=.2,path:a,getColor:i,tooltipEnter:r,tooltipLeave:l,onClick:o,onDoubleClick:s,focused:d,setFocused:c,isThumbnail:u,radius:h,isDummy:g,isDonut:m,...x}=e,{startAngle:f,endAngle:b}=t,v=i(t.data),[y,w]=(0,R.useState)(f),[C,A]=(0,R.useState)(f),[j,k]=(0,R.useState)(v),{clickHandler:S,doubleClickHandler:I}=aF();(0,R.useEffect)(()=>{(0,af.i)(y,[y,b],{duration:n,onUpdate:e=>w(e)})},[b]),(0,R.useEffect)(()=>{(0,af.i)(C,[C,f],{duration:n,onUpdate:e=>A(e)})},[f]),(0,R.useEffect)(()=>{(0,af.i)(j,v,{duration:n,onUpdate:e=>k(e)})},[v]);let E=d?u?4:15:0,L=(C+y)/2,D=E>0?"translate(".concat(Math.sin(L)*E,", ").concat(-(Math.cos(L)*E*1),")"):"";return(0,p.jsx)("g",{transform:D,style:{transition:"transform ".concat(n,"s")},children:(0,p.jsx)("path",{d:a({...t,startAngle:C,endAngle:y}),fill:j,stroke:g||m?"transparent":"var(--card-color)",strokeWidth:.02*h,strokeLinecap:"round",strokeLinejoin:"round",onMouseMove:e=>{c(!0),null==r||r(t.data)(e)},onMouseLeave:e=>{c(!1),null==l||l(t.data)(e)},onClick:o?S(o.bind(void 0,t.data)):void 0,onDoubleClick:s?I(s.bind(void 0,t.data)):void 0,...x})})},is=e=>{let{cells:t,colors:n,donutThickness:a,duration:i,isDummy:r,isFocused:l,isThumbnail:o,onClick:s,onDoubleClick:d,radius:c,setFocus:u,tooltipEnter:h,tooltipLeave:g}=e;return(0,p.jsx)(a3.A,{data:t,outerRadius:c,innerRadius:r?0:c-a,pieValue:e=>{let{data:t}=e;return t},pieSort:null,pieSortValues:null,padAngle:r?0:.016*(a<c),children:e=>{let{arcs:t,...m}=e;return t.map(e=>(0,p.jsx)(io,{arc:e,...m,radius:c,isDonut:a<c,focused:!r&&l(e.data.position,!0),setFocused:t=>{u(t?e.data.position:null)},getColor:e=>r?"transparent":n.get(e.position.row),tooltipEnter:h,tooltipLeave:g,duration:r?0:i,isThumbnail:o,onClick:s,onDoubleClick:d,isDummy:!!r},e.data.key))}})};var id=n(75287),ic=n(66082),iu=n(5872),ip=n(14389),ih=n(61651),ig=n(45002);let im=e=>{let{isResizing:t,onResizing:n,setIsResizing:a,cloneBoxProps:i={},showResizeControls:r,disableCloning:l,children:o,...s}=e,d=(0,R.useRef)(null),c=(0,R.useRef)(null),u=(0,R.useRef)(void 0);return(0,R.useEffect)(()=>{if(!l&&(!0===t&&c.current&&u.current&&c.current.appendChild(u.current),!t&&u.current)){var e;null==(e=u.current.parentNode)||e.removeChild(u.current)}},[t]),(0,p.jsxs)(p.Fragment,{children:[t&&!l?(0,p.jsx)(h.a,{filter:"blur(15px)",...i,ref:c,width:"100%",height:"100%",position:"relative","data-test":"resize-placeholder"}):(0,p.jsx)(h.a,{ref:d,width:"100%",height:"100%",filter:t?"blur(4px) opacity(0.75)":void 0,children:o}),r&&(0,p.jsx)(ig.u4,{setIsResizing:e=>{if(!l&&e){var t;u.current=null==(t=d.current)?void 0:t.cloneNode(!0);let e=u.current;e&&(e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.width="auto",e.style.height="auto")}a(e)},onResizing:function(e){for(var t=arguments.length,a=Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];let{width:r,height:l}=e,o=u.current;if(!o)return;let s={width:o.offsetWidth,height:o.offsetHeight},d=r/s.width,c=l/s.height;o.style.transform="scale(".concat(d,", ").concat(c,")"),o.style.transformOrigin="top left",null==n||n(e,...a)},...s})]})};var ix=n(68068),ib=n(60628),iv=n(96500),iy=n(59557),iw=n(72104);let iC=e=>{var t,n;let{state:a,dispatch:i}=(0,R.useContext)(aQ.uR),[r,l]=(0,R.useState)(new Date),o=(0,R.useRef)(!1),s=a.feedback;return((0,R.useEffect)(()=>{if(!(null==s?void 0:s.length))return;let e=[],t=s.filter(t=>{let n=t.dismissable;return n instanceof Date&&(!(n<=r)||(e.push(t.id),!1))});e.length&&i((0,a9.sA)(...e)),!o.current&&t.length&&(o.current=setTimeout(()=>{o.current=!1,l(new Date)},1e3))},[s,r,i]),null==(t=a.feedback)?void 0:t.length)?(0,p.jsx)(eL.B,{marginY:2,...e,children:null==(n=a.feedback)?void 0:n.map(e=>(0,p.jsxs)(nK.F,{marginBottom:1,status:e.severity,children:[(0,p.jsx)(nQ._,{}),(0,p.jsx)(nq.T,{flexGrow:1,children:e.message}),e.dismissable&&(0,p.jsx)(iw.U,{cursor:"pointer",onClick:()=>{i((0,a9.sA)(e.id))}})]},e.id))}):null};var iA=n(23907),ij=n(3276),ik=n(71024);let iS=n.n(ik)()(async()=>(await Promise.all([n.e(7585),n.e(7155),n.e(1940)]).then(n.bind(n,61940))).DataEditor,{loadableGenerated:{webpack:()=>[61940]},ssr:!1,loading:()=>(0,p.jsx)(eh.s,{m:5,h:"100%",justifyContent:"center",children:(0,p.jsx)(ij.y,{size:"lg"})})}),iI=e=>(0,p.jsx)(iS,{...e}),iE=(0,aQ.en)(e=>{let{onChange:t,onClose:n,data:a,isOpen:i,renderChart:r,attributes:l,updateAttributes:o,accentColor:s,selectedCell:d,cardColor:c}=e,u=(0,X.GV)(en.SJ),g=(0,D.Ik)((0,D.fQ)(u));return(0,p.jsxs)(ix._s,{placement:"bottom",onClose:n,isOpen:i,trapFocus:!0,isFullHeight:!0,returnFocusOnClose:!1,children:[(0,p.jsx)(eG.m,{}),(0,p.jsxs)(ib.z,{borderTopRadius:"xl",h:"calc(var(--100vh) - 24px)",transitionDuration:{enter:"0.4s"},children:[(0,p.jsx)(eQ.s,{}),(0,p.jsxs)(eq.c,{p:0,h:"100%",overflow:"auto","data-testid":"chart-editor-body",display:"flex",flexDir:"column",children:[(0,p.jsx)(eZ.r,{children:(0,p.jsx)(eT.x6,{id:"44wbJb"})}),(0,p.jsxs)(eh.s,{direction:{base:"column",xl:"row-reverse"},overflow:"auto",gap:5,px:5,children:[(0,p.jsxs)(eh.s,{direction:{base:"column",lg:"row",xl:"column"},width:{base:"auto",xl:"40%","2xl":"30%"},gap:5,children:[(0,p.jsx)(h.a,{flexGrow:{base:1,xl:0},flexShrink:0,flexBasis:"auto",borderRadius:"md",overflow:"hidden",children:(0,p.jsx)(h.a,{background:c,borderRadius:"md",padding:8,maxWidth:"100%",h:"xs",children:(0,p.jsx)(h.a,{as:iy.A,position:"relative",children:e=>{let{width:t,height:n}=e;return r({data:a,width:t,height:n,textColor:g})}})})}),(0,p.jsx)(h.a,{background:"gray.50",borderRadius:"md",children:(0,p.jsx)(iA.z,{attributes:l,updateAttributes:o,accentColor:s})})]}),(0,p.jsx)(iv.c,{display:{base:"block",xl:"none"}}),(0,p.jsxs)(h.a,{flexGrow:1,zIndex:1,overflow:{xl:"auto"},children:[(0,p.jsx)(iI,{onChange:t,data:a||as.h.createEmpty(2,3),selectedCell:d}),(0,p.jsx)(iC,{})]})]})]})]})]})}),iR=e=>{let t=(0,R.useRef)(!1),[n,a]=(0,R.useState)(!1);(0,R.useEffect)(()=>{if(t.current||null===e)return;let n=!1;e.columns.forEach((t,a)=>{let i=e.getCellAtIndex({row:0,column:a});n=(0,aC.aH)(i,e)||n}),t.current=!0,n&&a(n)},[e])},iL=e=>{let{editor:t,node:n,getPos:a}=e,i=(0,R.useCallback)(()=>{t.commands.selectNodeAtPos(a()),t.chain().deleteSelectionAndSelectNear().run()},[t,a]),{attrs:r}=n,l=!!r.data,o=r.colorScheme,s=r.chartType,d=e=>{t.commands.selectNodeAtPos(a()),t.chain().updateAttributes("chart",e).focus().run()},c=(0,tq.d)({editor:t,node:n,getPos:a});return[{key:"chart-options",title:(0,p.jsx)(eT.x6,{id:"nuBbBr"})},{divider:!0},...c,{divider:!0},{key:"edit-chart",label:l?(0,p.jsx)(eT.x6,{id:"BhcOHV"}):(0,p.jsx)(eT.x6,{id:"UHoZ5e"}),icon:eJ.zLW,onClick:()=>{t.commands.selectNodeAtPos(a()),t.commands.editSelectedChart()}},{divider:!0},{key:"change-color-scheme",label:(0,p.jsx)(eT.x6,{id:"q3f9iw"}),icon:eJ.wIs,items:[{key:"default",label:eN.Ru._({id:"ovBPCi"}),check:!o,onClick:()=>{d({colorScheme:void 0})}},...Object.entries(aw.fA).map(e=>{let[t,n]=e;return{key:t,label:n.label(),check:t===o,onClick:()=>{d({colorScheme:t})}}})]},{key:"horizontal-alignment",label:(0,p.jsx)(eT.x6,{id:"9ms+e0"}),icon:eJ.ecg,items:ic.gj.map(e=>{let{name:n,key:a,icon:i,checkActive:r,apply:l}=e;if(r&&l)return{key:a,label:n(),check:r(t),icon:i,onClick:()=>{l(t)}}}).filter(Boolean)},{divider:!0},{key:"switch-chart-type",label:(0,p.jsx)(eT.x6,{id:"U2Nq+R"}),icon:eJ.$Fj,items:Object.entries(aw.XD).map(e=>{let[t,{label:n,icon:a}]=e;return{key:t,label:n(),icon:a,check:s===t,onClick:()=>d({chartType:t})}})},{divider:!0},{key:"delete",label:(0,p.jsx)(eT.x6,{id:"cnGeoo"}),icon:eJ.yLS,onClick:i,color:"red.500"}]},iD=e=>{let{node:t,editor:n,selected:a,updateAttributes:i,decorations:r,getPos:l}=e,{chartType:o,colorScheme:s,data:d,dimensions:c={ratio:.5},hideLabels:u,showInlineLabels:m,chartAttributes:x={},horizontalAlign:f}=t.attrs,b=(0,R.useMemo)(()=>{try{return d?ai.A.parse(d):null}catch(e){return console.error("[DATALOSS] Error parsing serialized chart",e),console.log(d),null}},[d]),v=(0,X.CU)(),y=(0,X.GV)(en.Cl),w=(0,eC.FX)(),C=(0,X.GV)(en.Ik),A=(0,eC.CJ)(n),j=(0,X.GV)(en.r9),k=y&&A&&C,{theme:I,cardColor:E}=(0,_.a)(r),{ref:L,isResizing:M,setIsResizing:T,resizeableSx:N}=(0,ig.Y3)(n),z=(0,R.useCallback)(e=>{i({dimensions:{width:e.width,height:e.height}})},[i]),[P,O]=(0,R.useState)(aw.UG);iR(b),(0,R.useEffect)(()=>{M?O(0):setTimeout(()=>{O(aw.UG)},1e3*aw.UG)},[M]);let F=n.isThumbnail||!1,[H,B]=(0,R.useState)(),V=!F&&j===t.attrs.id,W=e=>{if(e)return void v.dispatch((0,en.Jr)({chartId:t.attrs.id}));v.dispatch((0,en.Jr)({chartId:null}))},U=(0,R.useMemo)(()=>{switch(o){case"pie":case"donut":return il;case"line":return a2;default:return a$}},[o]),G=(0,D.Ik)((0,D.VH)(I)),K=e=>{y&&C&&(B(e),W(!0))};(0,R.useEffect)(()=>{H&&(null==b?void 0:b.getCell(H.position))!==H&&B(void 0)},[H,V]);let Q=e=>{var t;let{data:n,width:a,height:i,textColor:r="var(--body-color)",showEditInPlaceholder:l=!1,onContextMenu:c=()=>{}}=e,g=n&&(null==(t=a0.K.nonEmpty(n))?void 0:t.data);return!g||!ab(g)||g.isEmpty()?(0,p.jsx)(iT,{setEditing:l?W:void 0,onContextMenu:c}):(0,p.jsx)(U,{animationDuration:P,data:g,colorScheme:s||void 0,width:a,height:i,accentColor:G,textColor:r,chartOptions:x,onDataDoubleClick:K,hideLabels:u,showInlineLabels:m,backgroundColor:E,onContextMenu:c,TooltipInner:e=>(0,p.jsx)(p.Fragment,{children:d.columns.map(t=>{var n;return(0,p.jsxs)(h.a,{as:"p",mb:1,children:[t.label&&(0,p.jsxs)(S.E,{as:"b",children:[t.label,": "]}),(0,p.jsx)(S.E,{as:"span",children:null==(n=g.getCell({row:e.position.row,column:t.id}))?void 0:n.textValue},t.id)]},t.id)})}),chartType:o,isThumbnail:F})},Z=iM(c),q="width"in c?c.width:ip.St;w&&(q=Math.min(q,ip.St/2));let J=q*Z,$=(0,ic.yp)(f),Y=iL(e),{onOpenContextMenu:ee,onCloseContextMenu:et,menuProps:ea}=(0,eA.$)({editor:n,getPos:l});return(0,id.l)()?(0,p.jsx)(g.u,{as:"div",...e,children:(0,p.jsxs)(eh.s,{w:"100%",dir:(0,ic.fZ)(r,f),className:iu.S,sx:N,css:$,direction:"column",onDoubleClick:()=>{k&&W(!0)},_focusWithin:{shadow:"outline"},children:[(0,p.jsxs)(h.a,{ref:L,className:"chart",borderRadius:"var(--box-border-radius)","data-content-reference":!0,"data-selection-ring":!0,"data-selection-background":!0,maxW:"100%",minW:"min(10em, 100%)",minH:"min(10em, 100%)",width:!function(e){return"width"in e&&"height"in e}(c)?"calc(100% * var(--media-scale))":i_(c.width),aspectRatio:"1/".concat(Z),position:"relative","data-drag-handle":!0,"data-scale-preview":!0,children:[(0,p.jsx)(im,{showResizeControls:k&&a,imageWrapperRef:L,isResizing:M,setIsResizing:T,updateResizeAttrs:z,refreshDeps:[t.attrs],disableCloning:!0,keepRatio:!1,children:b?Q({data:b,width:q,height:J,showEditInPlaceholder:!F&&y,onContextMenu:ee}):(0,p.jsx)(iT,{setEditing:F||!y?void 0:W})}),(0,p.jsx)(iE,{renderChart:Q,cardColor:E,data:b,isOpen:V,onClose:()=>W(!1),onChange:e=>{i({data:ai.A.serialize(e)})},attributes:t.attrs,updateAttributes:i,accentColor:G,selectedCell:H})]}),(0,p.jsx)(ex.tz,{menuItems:Y,isOpen:ea.isOpen,position:ea.position,onClose:et,size:"small"})]})}):(0,p.jsx)(h.a,{w:q,h:J})},iM=e=>"ratio"in e?e.ratio:e.height/e.width,i_=e=>"calc(".concat(e," * var(--font-size) / 16)"),iT=e=>{let{setEditing:t,onContextMenu:n}=e,a=(0,eB.rd)();return(0,p.jsxs)(nJ.T,{spacing:3,justify:"center",contentEditable:!1,color:a?ih.N.DARK_COLOR:ih.N.LIGHT_COLOR,h:"100%",backgroundColor:a?ih.N.DARK_BG:ih.N.LIGHT_BG,borderRadius:"var(--box-border-radius)","data-testid":"chart-placeholder",onContextMenu:n,children:[(0,p.jsx)(E.g,{size:"2x",icon:ap.s67}),t&&(0,p.jsx)(au.$,{size:"xs",fontFamily:"body",onClick:()=>t(!0),children:(0,p.jsx)(eT.x6,{id:"UHoZ5e"})})]})};var iN=n(70666);let iz=()=>(0,aa.Ak)(5),iP=new t5.hs("UniqueMediaId"),iO=nF.S.extend({name:"UniqueChartId"}).configure({attributeName:"id",types:["chart"],initialValue:iz,filterTransaction:nL.kz,pluginKey:iP}),iF=o.bP.create({name:"chart",group:"cardBlock layoutBlock",selectable:!0,draggable:!0,addNodeView:()=>(0,c.gu)(iD,{update:u.z0}),addAttributes:()=>({id:(0,Z.e)(()=>(0,aa.Ak)(5)),chartType:{default:"bar"},chartAttributes:{...(0,q.tb)("chartAttributes"),default:{}},colorScheme:{isRequired:!1},dimensions:{...(0,q.tb)("dimensions"),default:{ratio:.56}},hideLabels:{isRequired:!1,default:!1},showInlineLabels:{isRequired:!1,default:!1},data:{...(0,q.tb)("data")}}),addCommands:()=>({insertChart:(e,t)=>n=>{let{dispatch:a,editor:i,commands:r}=n;if(!a)return!1;let{schema:l}=i,o=l.nodes.chart,s=iz(),d=o.createChecked({id:s,chartType:e,data:t&&e?(0,iN.$)(e):void 0});return r.insertContent(d.toJSON())},editSelectedChart:()=>e=>{let{state:t}=e,n=t.selection;if(!(n instanceof t5.nh)||!iH(n.node))return!1;let a=n.node;return(0,X.KA)().dispatch((0,en.Jr)({chartId:a.attrs.id})),!0}}),addExtensions:()=>[iO],parseHTML(){return[{tag:'div[data-type="'.concat(this.name,'"]')},{tag:"chart",getAttrs(e){try{if("string"==typeof e)return!1;let t=[...e.children].find(e=>"TABLE"===e.nodeName);if(!t)return null;let n=ac.parse(t);if(!n)return{};return{data:ai.A.serialize(n)}}catch(e){return console.error("[caught]",e),!1}}}]},renderHTMLforAI(e){let{node:t,HTMLAttributes:n}=e,{"data-data":a,...i}=n,r=["chart",(0,o.KV)(this.options.HTMLAttributes,i)];return t.attrs.data&&r.push(ac.serialize(ai.A.parse(t.attrs.data))),r},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,o.KV)({"data-type":this.name},this.options.HTMLAttributes,t)]}}),iH=e=>"chart"===e.type.name;var iB=n(32973);let iV=n(76931).Ay.extend({priority:ec.y.Code,inclusive:!1,addKeyboardShortcuts(){return{"Mod-Shift-C":()=>this.editor.commands.toggleCode()}}});var iW=n(16842),iU=n(88608),iG=n(45143),iK=n(11403);let iQ=e=>{let[t,n]=(0,R.useState)(new Date),a=(0,R.useRef)(!1);return(0,R.useEffect)(()=>{a.current&&n(new Date),a.current=!0;let e=setInterval(()=>{n(new Date)},6e4);return()=>{clearInterval(e)}},[e]),t},iZ=e=>{var t;let n=(0,iG.h5)({base:4,md:8})||8,{node:a,decorations:i}=e,{showTime:l,hiddenContributorIds:o}=a.attrs,s=(0,X.GV)(en.zB),d=(0,R.useMemo)(()=>(s||[]).filter(e=>!o.includes(e.user.id)),[s,o]),c=(0,iK.En)(),u=(0,X.GV)(nY.Jo),h=null==u?void 0:u.editedTime,m=iQ(h).toISOString(),x=d.length-n,f=(0,ic.fZ)(i),b=null!=(t=e.node.attrs.horizontalAlign)?t:"rtl"===f?"right":"left",v=(0,R.useMemo)(()=>({left:"rtl"===f?"row-reverse":"row",center:"column",right:"rtl"===f?"row":"row-reverse"})[b],[f,b]);return(0,p.jsx)(p.Fragment,{children:d.length>0&&(0,p.jsx)(g.u,{...e,as:"div",children:(0,p.jsxs)(eh.s,{dir:f,userSelect:"none",contentEditable:!1,justify:"flex-start",align:"center",direction:v,borderRadius:"var(--box-border-radius)","data-selection-ring":"padded","data-selection-background":!0,children:[(0,p.jsxs)(iW.Z,{sx:{".avatar-overflow-activator":{height:"1.6em",width:"1.6em",minH:"1.6em",minW:"1.6em",fontSize:"inherit",span:{fontSize:"0.68em"}}},children:[d.slice(0,n).map(e=>(0,p.jsx)(e_.Vc,{width:"1.6em",height:"1.6em",fontSize:"inherit",size:"sm",shadow:"base",sx:{"@media print":{shadow:"none"}},borderWidth:"1px",name:e.user.displayName,label:c&&e.user.displayName?eN.Ru._({id:"bxVoEp",values:{0:e.user.displayName,1:(0,iU.Gx)(e.lastEdited,m)}}):" ",src:e.user.profileImageUrl},e.user.id)),x>0&&(0,p.jsx)(e_.oQ,{tooltipLabel:eN.Ru._({id:"25VyZX"}),count:x,avatars:d.map(e=>({name:e.user.displayName||"",id:e.user.id,profileImageUrl:e.user.profileImageUrl||"",color:"white"})),disabled:!0})]}),(0,p.jsxs)(eh.s,{direction:"column",marginInline:"0.5em",lineHeight:"1.4",textAlign:b,children:[(0,p.jsx)(S.E,{className:"contributors-list",children:1===d.length?(0,p.jsx)(eT.x6,{id:"t490IT",values:{0:d[0].user.displayName}}):(0,p.jsx)(eT.x6,{id:"KNjuGh",values:{0:d.length}})}),!r.$.GAMMA_PUPPETEER_SERVICE&&h&&l&&(0,p.jsx)(S.E,{fontSize:"0.75em",children:c?(0,p.jsx)(eT.x6,{id:"gUWkFH",values:{0:(0,iU.Gx)(h,m)}}):" "})]})]})})})},iq=e=>{var t;let n=null!=(t=e.node.attrs.horizontalAlign)?t:"left",a=(0,R.useMemo)(()=>({left:"row",center:"column",right:"row-reverse"})[n],[n]);return(0,p.jsx)(n0.V,{children:(0,p.jsxs)(eh.s,{direction:a,alignItems:"center",gap:"1em",children:[(0,p.jsx)(nX,{borderRadius:"full",boxSize:"4em"}),(0,p.jsx)(nX,{h:"2em",w:"14em"})]})})},iJ=o.bP.create({name:"contributors",group:"block",atom:!0,selectable:!0,dynamic:!0,addAttributes:()=>({showTime:{default:!0},hiddenContributorIds:{default:[],...(0,q.tb)("hiddenContributorIds")}}),addCommands:()=>({toggleShowTime:()=>e=>{let{commands:t,state:n}=e,{selection:a}=n;if(!(a instanceof t5.nh))return!1;let{node:i}=a;return"contributors"===i.type.name&&(t.updateAttributes("contributors",{showTime:!i.attrs.showTime}),!0)},toggleOneContributorVisibility:e=>t=>{let{commands:n,state:a}=t,i=(0,X.KA)().getState(),r=(0,en.zB)(i);if(!r||1===r.length)return!1;let{selection:l}=a;if(!(l instanceof t5.nh))return!1;let{hiddenContributorIds:o}=l.node.attrs,s=[];if(o.includes(e))s=o.filter(t=>t!==e);else{if(o.length+1===r.length)return!1;s=[...o,e]}return n.updateAttributes("contributors",{hiddenContributorIds:s}),!0},toggleAllContributorsVisibility:()=>e=>{let{commands:t,state:n}=e,a=(0,X.KA)().getState(),i=(0,en.zB)(a);if(!i||1===i.length)return!1;let{selection:r}=n;if(!(r instanceof t5.nh))return!1;let{hiddenContributorIds:l}=r.node.attrs,o=[];if(l.length>0)o=[];else{let e=(0,en.JV)(a);o=i.filter(t=>t.user.id!==(null==e?void 0:e.id)).map(e=>e.user.id)}return t.updateAttributes("contributors",{hiddenContributorIds:o}),!0}}),parseHTML:()=>[{tag:"div[class=contributors]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,o.KV)(t,{class:"contributors"})]},addNodeView(){return this.editor.isThumbnail?(0,c.gu)(iq,{update:u.z0}):(0,c.gu)(iZ,{update:u.z0})}});var i$=n(73971);let iY="125em",iX=e=>{let{svg:t,theme:n}=e;if(!t)return null;let a=(0,i$.k)(n);return(0,p.jsx)(h.a,{dangerouslySetInnerHTML:{__html:t},"data-testid":"diagram-svg",sx:{svg:{width:"100%",height:"auto",maxH:iY,...a}}})};var i0=n(28647),i1=n(74355),i2=n(68689);let i4=async e=>{let t=Array.from(e.getCurrentPageShapeIds()),n=await e.getSvg(t,{padding:8,scale:1});if(n)return console.debug("generated svg",n),n},i6=(e,t,n)=>{e&&t&&(Array.from(e.getCurrentPageShapeIds()).length>0?e.updateShapes(t):e.createShapes(t),n&&e.updateAssets(n))},i5=(e,t)=>{e.user.updateUserPreferences({isDarkMode:(0,D.Mw)(t)}),setTimeout(()=>{e.zoomToFit()})},i3=e=>{let{isOpen:t,isEditable:n,onClose:a,isDrawingEditorActive:i,setDrawingEditorActive:r,editor:l,...o}=e,{node:s,updateAttributes:d}=o,{assets:c,shapes:u}=s.attrs,h=(0,X.GV)(en.SJ),[g,m]=(0,R.useState)();(0,R.useEffect)(()=>{g&&i6(g,u,c)},[u,c,g,d]);let x=(0,R.useCallback)(e=>{m(e),window.tldrawEditor=e,i5(e,h)},[h]),f=(0,R.useCallback)(async()=>{if(!g)return;let e=await i4(g);e?d({svg:e.outerHTML}):d({svg:null})},[g,d]),b=(0,R.useCallback)(()=>{g&&d({shapes:g.getCurrentPageShapes(),assets:g.getAssets(),version:2})},[d,g]),v=(0,iK.lW)(b,500),y=(0,R.useCallback)(()=>{n&&f(),r(!1),a()},[a,f,r,n]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(e_._s,{placement:"bottom",onClose:y,isOpen:t,trapFocus:!0,isFullHeight:!0,returnFocusOnClose:!1,children:[(0,p.jsx)(e_.QP,{}),(0,p.jsxs)(e_.zj,{dir:"ltr",borderTopRadius:"xl",h:"calc(var(--100vh) - 24px)",onAnimationComplete:e=>{"enter"==e&&r(!0)},transition:{enter:{duration:.4}},overflow:"hidden",children:[(0,p.jsx)(e_.ys,{p:0,h:"100%",overflow:"hidden","data-testid":"drawing-editor-body",children:i?(0,p.jsx)(i2.U,{onMount:x,onChange:n?v:void 0,orgId:l.gammaOrgId,theme:h}):(0,p.jsx)(eh.s,{align:"center",justify:"center",w:"100%",h:"100%",children:(0,p.jsx)(ij.y,{size:"xl"})})}),(0,p.jsx)(e_.s1,{zIndex:400,backgroundColor:"white","data-testid":"drawing-editor-close"})]})]})})};var i9=n(98968);let i7=e=>{let{editor:t,node:n,getPos:a}=e,{id:i,fullWidthBlock:r}=n.attrs,l=(0,R.useCallback)(()=>{t.commands.selectNodeAtPos(a()),t.chain().deleteSelectionAndSelectNear().run()},[t,a]),o=(0,R.useCallback)(()=>{t.commands.selectNodeAtPos(a()),(0,i1.CD)(i,!0)},[t,a,i]),s=(0,tq.d)({editor:t,node:n,getPos:a});return{contextMenuItems:[{key:"diagram-options",title:(0,p.jsx)(eT.x6,{id:"i+ShMB"})},{divider:!0},...s,{divider:!0},{key:"edit-diagram",label:(0,p.jsx)(eT.x6,{id:"SsJ/l2"}),icon:eJ.MT7,onClick:o},{divider:!0},{key:"add-comment",label:(0,p.jsx)(eT.x6,{id:"oFsfkI"}),icon:eJ.DN2,onClick:()=>{t.commands.selectNodeAtPos(a()),(0,i9.wG)(t.state.selection)}},{divider:!0},{key:"align",label:(0,p.jsx)(eT.x6,{id:"9ms+e0"}),icon:eJ.ecg,disabled:r,items:ic.gj.map(e=>{let{name:n,key:a,icon:i,checkActive:l,apply:o}=e;return{key:a,check:null==l?void 0:l(t),icon:i,label:n(),onClick:()=>{o&&o(t),r&&t.commands.updateAttributes("diagram",{fullWidthBlock:!1})}}})},{divider:!0},{key:"delete",label:(0,p.jsx)(eT.x6,{id:"cnGeoo"}),icon:eJ.yLS,onClick:l,color:"red.500"}]}},i8=e=>{let{node:t,updateAttributes:n,selected:a,editor:i,getPos:r,decorations:l}=e,{width:o,meta:s,id:d,horizontalAlign:c,svg:u,shapes:m}=t.attrs,x=(0,X.GV)(en.Cl),f=(0,X.GV)(en.Ik),b=(0,eC.CJ)(i),v=x&&b&&f,y=(0,X.GV)(en.Xu),w=!!y&&y===d,[C,A]=(0,R.useState)(!1),j=(0,X.GV)(en.SJ),k=(0,eB.rd)(),{ref:S,setIsResizing:I,resizeableSx:L}=(0,ig.Y3)(i),{onOpenContextMenu:D,onCloseContextMenu:M,menuProps:_}=(0,eA.$)({editor:i,getPos:r}),{contextMenuItems:T}=i7({editor:i,node:t,getPos:r}),N=(0,R.useCallback)(()=>{(0,i1.CD)(d,!0)},[d]),z=(0,R.useCallback)(()=>{i.chain().setNodeSelection(r()).focus().run()},[i,r]),P=(0,R.useCallback)(()=>{(0,i1.CD)(null,!1)},[]),O=(0,R.useCallback)((e,a)=>{n({...t.attrs,fullWidthBlock:void 0===a?t.attrs.fullWidthBlock:a,...e})},[t.attrs,n]),F=o||(null==s?void 0:s.width),H=!u,B=m&&m.length>0,{isFullWidth:V}=(0,i0.D)(l),W=(0,ic.yp)(V?"center":c);return(0,p.jsxs)(g.u,{...e,as:"div",children:[(0,p.jsxs)(eh.s,{dir:(0,ic.fZ)(l,c),w:"100%",className:iu.S,css:{...W,".pptx-exporting-image":{".textbox":{visibility:"hidden"}}},sx:L,direction:"column",_focusWithin:{shadow:"outline"},onContextMenu:D,children:[(0,p.jsxs)(h.a,{ref:S,className:"diagram",borderRadius:"var(--box-border-radius)","data-content-reference":!0,"data-selection-ring":!0,"data-selection-background":!0,w:V?"calc(100% * var(--media-scale))":F?"calc(".concat(F," * var(--font-size) / 16)"):"100%",maxW:"100%",h:"auto",maxH:iY,position:"relative",minH:H?"6em":"auto","data-drag-handle":!0,children:[v&&a&&!V&&(0,p.jsx)(ig.u4,{imageWrapperRef:S,setIsResizing:I,updateResizeAttrs:O,refreshDeps:[t.attrs]}),(0,p.jsx)(iX,{svg:u,theme:j}),v&&!w&&!H&&(0,p.jsx)(h.a,{cursor:"default",position:"absolute",inset:"0",zIndex:"1",onClick:z,onDoubleClick:N}),H&&(0,p.jsxs)(nJ.T,{spacing:3,justify:"center",contentEditable:!1,color:k?ih.N.DARK_COLOR:ih.N.LIGHT_COLOR,h:"7em",backgroundColor:k?ih.N.DARK_BG:ih.N.LIGHT_BG,borderRadius:"var(--box-border-radius)","data-testid":"drawing-placeholder",onDoubleClick:x?N:void 0,children:[(0,p.jsx)(E.g,{size:"2x",icon:ap.qTS}),x&&(0,p.jsx)(au.$,{size:"xs",onClick:N,fontFamily:"body",children:B?(0,p.jsx)(eT.x6,{id:"3IPx8n"}):(0,p.jsx)(eT.x6,{id:"trQ3Gx"})})]})]}),w&&(0,p.jsx)(i3,{...e,isOpen:w,isEditable:x,onClose:P,isDrawingEditorActive:C,setDrawingEditorActive:A})]}),(0,p.jsx)(ex.tz,{menuItems:T,isOpen:_.isOpen,position:_.position,onClose:M,size:"small"})]})},re=o.bP.create({name:"diagram",group:"block",atom:!0,selectable:!0,draggable:!0,addAttributes:()=>({id:(0,Z.e)(rn),shapes:{...(0,q.tb)("shapes")},assets:{...(0,q.tb)("assets"),default:{}},meta:{...(0,q.tb)("meta"),default:{}},width:{},svg:{}}),parseHTML:()=>[{tag:"div[class=diagram]"},{tag:"diagram[bookmark]",getAttrs:ep.Ll}],renderHTMLforAI(e){let{node:t}=e;return["diagram",{bookmark:(0,ep.vL)(t)}]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,o.KV)(t,{class:"diagram"})]},addCommands(){let e=this.name,t=t=>{let{selection:n}=t;return n instanceof t5.nh&&n.node.type.name===e?n.node:void 0};return{editSelectedDiagramBlock:()=>e=>{let{state:n}=e,a=t(n);return a&&(0,X.KA)().dispatch((0,en.v5)({drawingId:a.attrs.id})),!0}}},addExtensions:()=>[ra],addNodeView:()=>(0,c.gu)(i8,{update:u.z0})}),rt=new t5.hs("UniqueMediaId"),rn=()=>(0,aa.Ak)(5),ra=nF.S.extend({name:"UniqueDiagramId"}).configure({attributeName:"id",types:["diagram"],initialValue:rn,filterTransaction:nL.kz,pluginKey:rt});var ri=n(36811);let rr=()=>(0,p.jsx)(c.VR,{as:"div",children:(0,p.jsx)(h.a,{contentEditable:!1,borderRadius:"var(--box-border-radius)","data-selection-ring":"padded","data-selection-background":!0,"data-drag-handle":!0,py:"0.25em",position:"relative",transform:"translateY(0.25em)",children:(0,p.jsx)(iv.c,{backgroundColor:"var(--body-color-muted)",height:"0.125em",opacity:1})})}),rl=/^(---|___|—-)/,ro=o.bP.create({name:"divider",group:"block cardNotesBlock",atom:!0,selectable:!0,draggable:!0,parseHTML:()=>[{tag:'hr[class="divider"]'}],renderHTML(e){let{HTMLAttributes:t}=e;return["hr",(0,o.KV)(t,{class:"divider"})]},addNodeView:()=>(0,c.gu)(rr),addInputRules(){return[(0,ri.wN)({find:rl,type:this.type})]}});var rs=n(42328),rd=n(70315),rc=n(74158),ru=n(49776),rp=n(3247),rh=n(90221),rg=n(55670),rm=n(88839),rx=n(81136);let rf=(0,R.memo)(e=>{let{theme:t,id:n}=e,a=(0,D.Mw)(t);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("filter",{id:n||"soft3d-small-inner-shadow",children:[(0,p.jsx)("feFlood",{floodColor:a?"rgba(0, 0, 0, 0.6)":"rgba(0, 0, 0, 0.15)",result:"flood1"}),(0,p.jsx)("feComposite",{operator:"out",in2:"SourceGraphic",in:"flood1",result:"composite1"}),(0,p.jsx)("feMorphology",{operator:"dilate",radius:.5,in:"composite1",result:"morphology1"}),(0,p.jsx)("feGaussianBlur",{stdDeviation:1.5,in:"morphology1",result:"blur1"}),(0,p.jsx)("feOffset",{dx:2,dy:2,in:"blur1",result:"offset1"}),(0,p.jsx)("feFlood",{floodColor:a?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.75)",result:"flood2"}),(0,p.jsx)("feComposite",{operator:"out",in2:"SourceGraphic",in:"flood2",result:"composite2"}),(0,p.jsx)("feMorphology",{operator:"dilate",radius:.5,in:"composite2",result:"morphology2"}),(0,p.jsx)("feGaussianBlur",{stdDeviation:1.5,in:"morphology2",result:"blur2"}),(0,p.jsx)("feOffset",{dx:-2,dy:-2,in:"blur2",result:"offset2"}),(0,p.jsxs)("feMerge",{children:[(0,p.jsx)("feMergeNode",{in:"offset1"}),(0,p.jsx)("feMergeNode",{in:"offset2"})]}),(0,p.jsx)("feComposite",{operator:"atop",in2:"SourceGraphic"})]})})});rf.displayName="Soft3DSmallOuterShadow";var rb=n(95714);let rv=(0,R.memo)(e=>{let{theme:t}=e,n=(0,rb.ZI)(t),a=(0,D.fQ)(t),i=(0,D.VH)(t);return(0,p.jsx)(h.a,{as:"svg",width:"0",height:"0",sx:n,children:(0,p.jsxs)("defs",{children:[(0,p.jsx)(ry,{theme:t}),(0,p.jsx)(ry,{theme:t,rtl:!0}),(0,p.jsx)(rw,{theme:t}),(0,p.jsx)(rw,{theme:t,rtl:!0}),(0,p.jsx)(rA,{color:(0,D.Ik)(i),id:"theme-accent-color-fill"}),(0,p.jsx)(rA,{color:(0,D.Ik)(a),id:"theme-body-color-fill"}),(0,p.jsx)(rj,{theme:t})]})})});rv.displayName="ThemeSVGDefs";let ry=(0,R.memo)(e=>{let{theme:t,rtl:n}=e,a=(0,D.VH)(t);return"linear-gradient"!==a.type?null:(0,p.jsx)(rC,{gradient:a,id:n?"theme-accent-gradient-linear-rtl":"theme-accent-gradient-linear",rtl:n})});ry.displayName="ThemeAccentGradientLinearDef";let rw=(0,R.memo)(e=>{let{theme:t,rtl:n}=e,a=(0,D.VH)(t),i=(0,rm.M)(t);if("linear-gradient"!==a.type)return null;let r=(0,D.Mw)(t),l=(0,D.Oq)(t),o="semi"===i.shapeFill?(0,rx.nz)(a,l,.5):a,s=(0,rx.Hh)(o,r?.25:.9);return s?(0,p.jsx)(rC,{gradient:s,id:n?"theme-accent-background-gradient-linear-rtl":"theme-accent-background-gradient-linear",rtl:n}):null});rw.displayName="ThemeAccentBackgroundGradientLinearDef";let rC=(0,R.memo)(e=>{let{gradient:t,id:n,rtl:a}=e,i=(a?180-t.angle:t.angle)*Math.PI/180,r=50+50*Math.cos(i+Math.PI),l=50+50*Math.sin(i+Math.PI),o=50+50*Math.cos(i),s=50+50*Math.sin(i);return(0,p.jsx)("linearGradient",{id:n,x1:"".concat(r,"%"),y1:"".concat(l,"%"),x2:"".concat(o,"%"),y2:"".concat(s,"%"),children:t.stops.map((e,t)=>{let{color:n,position:a}=e;return(0,p.jsx)("stop",{offset:"".concat(a,"%"),stopColor:n},t)})})});rC.displayName="LinearGradientDef";let rA=(0,R.memo)(e=>{let{color:t,id:n}=e;return t?(0,p.jsxs)("filter",{id:n,children:[(0,p.jsx)("feFlood",{floodColor:t,result:"flood"}),(0,p.jsx)("feComposite",{in:"flood",in2:"SourceAlpha",operator:"in"})]}):null});rA.displayName="ColorFillDef";let rj=(0,R.memo)(e=>{let{theme:t}=e,n=(0,rm.M)(t);return(0,p.jsx)(p.Fragment,{children:"soft3d"===n.shapeShadow&&(0,p.jsx)(rf,{theme:t,id:"theme-shape-shadow"})})});rj.displayName="ThemesV3SVGDefs";var rk=n(14753),rS=n(39385);let rI=e=>e.state.selection instanceof t5.nh&&(0,rS.J)(e.state.selection.node)?void e.chain().focus(e.state.selection.from).blur().run():e.commands.blur();var rE=n(29608),rR=n(61385),rL=n(21290),rD=n(71128),rM=n(83817),r_=n.n(rM);let rT=e=>(0,X.GV)(t=>{if((0,en.wC)(t)!==ea.w.SLIDE_VIEW)return null;let n=(0,en.FI)(t);if(!n||!(null==n?void 0:n.cardId))return null;let[a]=(0,o.xe)(e.state.doc,e=>(0,tD.jg)(e)&&e.attrs.id===n.cardId);if(!a)return console.warn("[usePresentingCardBackground] Unexpectedly couldnt find presentingCard ".concat(n.cardId)),null;let i=(0,q.TK)(e.state.doc.resolve(a.pos+1),e=>(0,tD.jg)(e)&&e.attrs.background&&!e.attrs.background.inside).pop();return i?i.node.attrs.background:(console.warn("[usePresentingCardBackground] Unexpectedly couldnt find card at pos ".concat(a.pos)),null)},r_());var rN=n(84431),rz=n(29143);let rP=(0,aP.P)(h.a),rO=(e,t)=>{let n=!!(e&&t),a=!!(e&&!t),i=!!(!e&&t),r=(0,R.useRef)(n);return(0,R.useEffect)(()=>{r.current=n},[n,!!(!e&&!t)]),[a||i?r.current:n,n]},rF=e=>{let{editor:t,node:n,updateAttributes:a}=e,i=(0,rc.d4)(en.wC),r=(0,X.GV)(en.nD),l=(0,rc.d4)(en.cS),o=(0,rc.d4)(en.$i),s=(0,X.GV)(en.SJ),d=i===ea.w.SLIDE_VIEW,u=rT(t),{background:g}=n.attrs,m=(0,eC.FX)(),x=(0,rk.t)(),[f,b]=rO(d,o);(0,R.useEffect)(()=>{!n.attrs.docId&&t.gammaDocId&&a({...n.attrs,docId:t.gammaDocId})},[n.attrs,t,a]);let v=(0,rg.S)(s,r),y=(0,D.Mw)(s),w=(0,tF.fS)(s,g),C=(0,tF.FD)(w,y,t.isThumbnail?er.p7:void 0),A=(0,tF.FD)(d&&u&&u.type!==eu.h.NONE?u:w,y,t.isThumbnail?er.p7:void 0);console.debug("%c[DocComponent] Doc is rerendering","background-color: chartreuse",{isPresentModeReady:b,isPresentModeReadyLagging:f,presentingCardId:o});let j=(0,rD.Tq)(),k={width:"100%",'[data-animate-value="doc"]':{display:f?"none":void 0},...j.src&&d?{"--logo-push-x":"".concat(j.width+2*j.paddingX,"px"),"--logo-push-y":"".concat(j.height+2*j.paddingY,"px")}:void 0},S=(0,R.useCallback)(e=>{let n=e.target;return(!n.closest(".".concat(rR.p$))||!!n.getAttribute("data-outside-card-body"))&&(rI(t),!0)},[t]);(0,R.useEffect)(()=>rp.WC.on("keydown","DOC_BLUR",e=>!!(0,rd.Ay)("Esc")(e)&&!!t.isFocused&&(t.commands.blur(),e.preventDefault(),!0)),[t]);let E=(0,eC.UT)("comment"),L=(0,ru.U)(!m),M=!m&&!d&&!L,_=(0,tv.u)("insertWidgetBottom")?rL.PX:rL.C9;return(0,p.jsxs)(c.VR,{as:"div","data-testid":"doc-node-root",style:{height:"100%"},children:[(0,p.jsx)(rh.m,{theme:s}),(0,p.jsx)(rv,{theme:s}),(0,p.jsx)(h.a,{onMouseDown:S,h:"100%",children:(0,p.jsxs)(eh.s,{className:"doc-content-wrapper",direction:"column",align:"center",pos:"relative",pb:m||d||!E?"0px":l?rL.bc:_,sx:v,onDragOver:ei.JO,minH:rz.env.STORYBOOK?"auto":"calc(var(--100vh) - var(--editor-padding-top, 0px))",children:[(0,p.jsx)(rH,{...C}),M&&(0,p.jsx)(eh.s,{alignSelf:"start",pos:"absolute",inset:"0",h:"100%",children:(0,p.jsx)(rD.e5,{})}),(0,p.jsx)(rs.N,{children:(0,p.jsx)(rP,{className:"motion-present-mode-bg","data-doc-background-element-present-mode":!0,"data-export-master":!0,position:"fixed",zIndex:rN.$.presentBg,top:0,left:0,right:0,h:"100%",initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},visibility:b?"visible":"hidden",transition:rR.Dt,css:n1.D1?void 0:{scrollbarGutter:"stable",overflow:"scroll"},...A},"presenting-background-"+o)}),(0,p.jsx)(eh.s,{sx:k,justify:"center",className:(0,I.cx)("document-content",d?"is-present-mode":"is-doc-mode"),css:{"--viewport-scale-factor":"".concat(x)},pt:"var(--doc-padding-top)",children:(0,p.jsx)(c.$p,{style:{width:"100%"}})}),m&&(0,p.jsx)(rD.cT,{})]})})]})},rH=e=>{let t=(0,eC.FX)(),n=(0,rE.mG)()||t,a=(0,rE.mG)()?{style:{touchAction:"none",display:"contents"}}:{};return(0,p.jsx)(eh.s,{"data-doc-background-element":!0,position:"absolute",w:"var(--editor-width)",h:"100%",contentEditable:!1,userSelect:"none",clipPath:"inset(0)",top:0,left:0,...a,children:(0,p.jsx)(h.a,{"data-testid":"doc-background",width:"100%",height:"100%",position:"fixed",...n?{top:"0px"}:{},...e})})};var rB=n(92828);let rV=o.bP.create({name:"doc",topNode:!0,content:"document"}),rW=o.bP.create({name:"document",content:"card+",isolating:!0,defining:!0,selectable:!1,addAttributes:()=>({aiOptions:{default:rB.C.aiOptions,...(0,q.tb)("aiOptions")},docId:{},background:{default:rB.C.background,...(0,q.tb)("background")},docFlags:{default:rB.C.docFlags,...(0,q.tb)("docFlags")},format:{},customCode:{default:rB.C.customCode,...(0,q.tb)("customCode")},settings:{default:rB.C.settings,...(0,q.tb)("settings")},generateStatus:{default:rB.C.generateStatus},generateInfo:{default:rB.C.generateInfo,...(0,q.tb)("generateInfo")}}),addCommands:()=>({updateDocumentSettings:e=>t=>{let{commands:n}=t;return n.updateNestedAttributesAtPos(0,{settings:e})}}),addNodeView:()=>(0,c.gu)(rF,{update:u.z0,ignoreMutation:e=>{let{mutation:t}=e,n=t.target instanceof HTMLElement?t.target:t.target.parentElement,a="selection"!==t.type&&rU(n);return console.debug("[Document.ignoreMutation] isMutationOutsideDocContent:",a),!!a}}),parseHTML:()=>[{tag:"div[class=gamma-doc]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,o.KV)(t,{class:"gamma-doc"}),0]}}),rU=e=>{let t=null==e?void 0:e.parentElement;return!!t&&!t.closest(".document-content")};var rG=n(87930),rK=n(47687),rQ=n.n(rK),rZ=n(39822),rq=n(46510),rJ=n(19297),r$=n(55424),rY=n(90278),rX=n(8376);class r0{destroy(){this.handlers.forEach(e=>{let{name:t,handler:n}=e;return this.editorView.dom.removeEventListener(t,n)})}update(e,t){null!=this.cursor&&t.doc!=e.state.doc&&(this.cursor.pos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){var t,n,a,i,r;(((null==e?void 0:e.pos)||null)!=(null==(t=this.cursor)?void 0:t.pos)||(null==e?void 0:e.type)!=(null==(n=this.cursor)?void 0:n.type)||(null==e?void 0:e.side)!=(null==(a=this.cursor)?void 0:a.side))&&(this.cursor=e,null==e?(null==(r=this.element)||null==(i=r.parentNode)||i.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){var e;let t,n;if(null==this.cursor||!this.editorView)return;let a=this.editorView.state.doc.resolve(this.cursor.pos),i,r=()=>"";if("gallery"==this.cursor.type&&(null==(e=this.cursor.node)?void 0:e.type.name)!=="gallery")i=this.cursor.rect,r=()=>eN.Ru._({id:"pl+vw2"});else if("blankRect"==this.cursor.type)i=this.cursor.rect,r=()=>"";else if("smartLayoutVariant"==this.cursor.type)i=this.cursor.rect,r=()=>eN.Ru._({id:"hErHGD"});else if("column"==this.cursor.type||"gallery"==this.cursor.type||"smartLayout"==this.cursor.type){let e=this.cursor.rect;if(!e)return;let t="right"==this.cursor.side||"bottom"==this.cursor.side,n=t?a.nodeAfter:a.nodeBefore,r=n&&((0,rJ.NJ)(n)||(0,r$.q)(n))?0:this.width;if("right"==this.cursor.side||"left"==this.cursor.side){let n=t?e.right+r:e.left-r;i={top:e.top,bottom:e.bottom,left:n-this.width/2,right:n+this.width/2}}else{let n=t?e.bottom+r:e.top-r;i={left:e.left,right:e.right,top:n-this.width/2,bottom:n+this.width/2}}}else if(!a.parent.inlineContent){let e=a.nodeBefore,t=a.nodeAfter;if(e||t){let n=this.editorView.nodeDOM(this.cursor.pos-(e?e.nodeSize:0));if(!n||!(n instanceof Element))return;let a=n.getBoundingClientRect(),r=e?a.bottom:a.top;e&&t&&(r=(r+this.editorView.nodeDOM(this.cursor.pos).getBoundingClientRect().top)/2),i={left:a.left,right:a.right,top:r-this.width/2,bottom:r+this.width/2}}}if(!i){let e=this.editorView.coordsAtPos(this.cursor.pos);i={left:e.left-this.width/2,right:e.left+this.width/2,top:e.top,bottom:e.bottom}}let l=this.editorView.dom.offsetParent;if(this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),l&&(l!=document.body||"static"!=getComputedStyle(l).position)){let e=l.getBoundingClientRect();t=e.left-l.scrollLeft,n=e.top-l.scrollTop}else t=-pageXOffset,n=-pageYOffset;this.element.style.left=i.left-t+"px",this.element.style.top=i.top-n+"px",this.element.style.width=i.right-i.left+"px",this.element.style.height=i.bottom-i.top+"px",this.element.dataset.type=this.cursor.type,this.element.innerHTML=r()}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){var t,n,a,i,r,l,o,s,d,c;if(!this.editorView.editable)return;let u=(0,rZ.nA)(this.editorView,e,null==(t=this.editorView.dragging)?void 0:t.slice);if(u){this.setCursor({...u,type:"blankRect"}),this.scheduleRemoval(5e3);return}let p=(0,rY.fc)(this.editorView,e,null==(n=this.editorView.dragging)?void 0:n.slice);if(p){this.setCursor({...p,type:"blankRect"}),this.scheduleRemoval(5e3);return}if((0,rq.Vk)(this.editorView,e,null==(a=this.editorView.dragging)?void 0:a.slice))return void this.scheduleRemoval(20);let h=(0,i9.tz)(this.editorView,e,null==(i=this.editorView.dragging)?void 0:i.slice,!this.editorView.dragging);if(h){this.setCursor({...h,type:"gallery"}),this.scheduleRemoval(5e3);return}let g=(0,rJ.ds)(this.editorView,e,null==(r=this.editorView.dragging)?void 0:r.slice);if(g){this.setCursor({...g,type:"column"}),this.scheduleRemoval(5e3);return}let m=(0,rZ.ZL)(this.editorView,e,null==(l=this.editorView.dragging)?void 0:l.slice);if(m){this.setCursor({...m,type:"blankRect"}),this.scheduleRemoval(5e3);return}let x=(0,rY.TS)(this.editorView,e,null==(o=this.editorView.dragging)?void 0:o.slice);if(x){this.setCursor({...x,type:"smartLayoutVariant"}),this.scheduleRemoval(5e3);return}let f=(0,rY.eL)(this.editorView,e,null==(s=this.editorView.dragging)?void 0:s.slice);if(f){this.setCursor({...f,type:"smartLayout"}),this.scheduleRemoval(5e3);return}let b=(0,nM.M7)(this.editorView,e,null==(d=this.editorView.dragging)?void 0:d.slice);if(b){this.setCursor({pos:b.pos,type:"default"}),this.scheduleRemoval(5e3);return}let v=(0,rX.M)(this.editorView,e,null==(c=this.editorView.dragging)?void 0:c.slice);null===v?this.setCursor(null):(this.setCursor({pos:v,type:"default"}),this.scheduleRemoval(5e3))}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}constructor(e,t){this.cursor=null,this.element=null,this.timeout=null,this.editorView=e,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>this[t](e);return e.dom.addEventListener(t,n),{name:t,handler:n}}),this.dragover=rQ()(this.dragover,100,{trailing:!1}).bind(this)}}let r1=o.YY.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:null}),addProseMirrorPlugins(){return[function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new t5.k_({key:new t5.hs("dropCursor"),view:t=>new r0(t,e)})}(this.options)]}}).configure({color:"var(--chakra-ring-color)",width:3,class:"ProseMirror-dropcursor"});var r2=n(93766),r4=n(34806);let r6=e=>{let{svg:t,isDark:n,font:a}=e,i=(0,R.useMemo)(()=>(0,r4.k)(n),[n]),r=(0,R.useMemo)(()=>(0,r4.I)(a),[a]);return t?(0,p.jsx)(h.a,{dangerouslySetInnerHTML:{__html:t},"data-testid":"drawing-svg",sx:{svg:{width:"100%",height:"auto",text:r,...i}}}):null};var r5=n(11818),r3=n(81089);let r9=["tl-centered-g"],r7=async e=>{let t=await e.getSvg(e.shapes.map(e=>e.id),{padding:1});if(t)return r9.forEach(e=>{var n;null==(n=t.querySelector(".".concat(e)))||n.classList.remove(e)}),t.querySelectorAll(":not(mask)[id]").forEach(e=>e.removeAttribute("id")),t},r8=e=>{let{isOpen:t,isEditable:n,onClose:a,font:i,isDark:r,isDrawingEditorActive:l,setDrawingEditorActive:o,...s}=e,{node:d,updateAttributes:c}=s,{page:u,assets:h}=d.attrs,[g,m]=(0,R.useState)();(0,R.useEffect)(()=>{(0,i1.IN)(g,u,h)},[u,h,g,c]);let x=(0,R.useCallback)(e=>{m(e),window.tldrawEditor=e,(0,i1.Wp)(e,!0)},[]),f=(0,R.useCallback)(async()=>{if(!g)return;let e=await r7(g);if(!e)return;c({svg:e.outerHTML});let t=JSON.stringify({page:g.document.pages.page,assets:g.document.assets});console.debug("[DrawingEditor] Generated SVG",{svgSize:e.outerHTML.length,jsonSize:t.length,svgEl:e})},[g,c]),b=(0,R.useCallback)(()=>{g&&c({page:g.document.pages.page,assets:g.document.assets})},[c,g]),v=(0,iK.lW)(b,500),y=(0,R.useCallback)(()=>{n&&f(),o(!1),a()},[a,f,o,n]);return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(e_._s,{placement:"bottom",onClose:y,isOpen:t,trapFocus:!0,isFullHeight:!0,returnFocusOnClose:!1,children:[(0,p.jsx)(e_.QP,{}),(0,p.jsxs)(e_.zj,{borderTopRadius:"xl",h:"calc(var(--100vh) - 24px)",onAnimationComplete:e=>{"enter"==e&&o(!0)},transition:{enter:{duration:.4}},children:[(0,p.jsx)(e_.ys,{p:0,h:"100%",overflow:"hidden","data-testid":"drawing-editor-body",children:l?(0,p.jsx)(r3.UG,{readOnly:!n,showPages:!1,onMount:x,onChangePage:n?v:void 0,autofocus:!1,isDark:r,font:i}):(0,p.jsx)(eh.s,{align:"center",justify:"center",w:"100%",h:"100%",children:(0,p.jsx)(ij.y,{size:"xl"})})}),(0,p.jsx)(e_.s1,{zIndex:2,backgroundColor:"white","data-testid":"drawing-editor-close"})]})]})})},le=(0,aP.P)(h.a),lt=e=>{let{node:t,updateAttributes:n,selected:a,editor:i,getPos:r,decorations:l}=e,{width:o,meta:s,id:d,horizontalAlign:c,svg:u,page:m}=t.attrs,x=(0,X.GV)(en.Cl),f=(0,X.GV)(en.Ik),b=(0,eC.CJ)(i),v=x&&b&&f,y=(0,X.GV)(en.Xu),w=!!y&&y===d,[C,A]=(0,R.useState)(!1),j=(0,X.GV)(en.SJ),{isDark:k}=(0,r5.mm)(j),S=(0,rb.ZI)(j)["--body-font"],{ref:I,setIsResizing:L,resizeableSx:D,onLayoutAnimationStart:M,onLayoutAnimationComplete:_}=(0,ig.Y3)(i),T=(0,R.useCallback)(()=>{(0,i1.CD)(d,!0)},[d]),N=(0,R.useCallback)(()=>{i.chain().setNodeSelection(r()).focus().run()},[i,r]),z=(0,R.useCallback)(()=>{(0,i1.CD)(null,!1)},[]),P=(0,R.useCallback)((e,a)=>{n({...t.attrs,fullWidthBlock:void 0===a?t.attrs.fullWidthBlock:a,...e})},[t.attrs,n]),O=o||(null==s?void 0:s.width),F=!u,H=m&&Object.keys(m.shapes).length>0,{isFullWidth:B}=(0,i0.D)(l),V=(0,ic.yp)(B?"center":c);return(0,p.jsx)(g.u,{...e,as:"div",children:(0,p.jsxs)(eh.s,{w:"100%",className:iu.S,css:V,sx:D,direction:"column",_focusWithin:{shadow:"outline"},children:[(0,p.jsxs)(le,{ref:I,className:"drawing",borderRadius:"var(--box-border-radius)","data-content-reference":!0,"data-selection-ring":!0,"data-selection-background":!0,w:B?"100%":O?"calc(".concat(O," * var(--font-size) / 16)"):"100%",maxW:"100%",h:"auto",position:"relative",layout:!0,layoutDependency:c,transition:{duration:.15},onLayoutAnimationStart:M,onLayoutAnimationComplete:_,minH:F?"6em":"auto","data-drag-handle":!0,children:[v&&a&&!B&&(0,p.jsx)(ig.u4,{imageWrapperRef:I,setIsResizing:L,updateResizeAttrs:P,refreshDeps:[t.attrs]}),!C&&(0,p.jsx)(r6,{font:S,svg:u,isDark:k}),v&&!w&&!F&&(0,p.jsx)(h.a,{cursor:"default",position:"absolute",inset:"0",zIndex:"1",onClick:N,onDoubleClick:T}),F&&(0,p.jsxs)(nJ.T,{spacing:3,justify:"center",contentEditable:!1,color:"gray.400",h:32,backgroundColor:"blackAlpha.50",borderRadius:"var(--box-border-radius)","data-testid":"drawing-placeholder",children:[(0,p.jsx)(E.g,{size:"2x",icon:eJ.qTS}),x&&(0,p.jsx)(au.$,{size:"xs",onClick:T,children:H?"Open diagram":"Add diagram"})]})]}),w&&(0,p.jsx)(r8,{...e,isOpen:w,isEditable:x,onClose:z,isDark:k,font:S,isDrawingEditorActive:C,setDrawingEditorActive:A})]})})},ln=new t5.hs("UniqueMediaId"),la=nF.S.extend({name:"UniqueDrawingId"}).configure({attributeName:"id",types:["drawing"],initialValue:i1.rZ,filterTransaction:nL.kz,pluginKey:ln}),li=o.bP.create({name:"drawing",group:"block",atom:!0,selectable:!0,draggable:!0,addAttributes:()=>({id:(0,Z.e)(i1.rZ),page:{...(0,q.tb)("page")},assets:{...(0,q.tb)("assets"),default:{}},meta:{...(0,q.tb)("meta"),default:{}},fullWidthBlock:{default:!1},width:{},svg:{}}),parseHTML:()=>[{tag:"div[class=drawing]"},{tag:"tldraw",getAttrs:e=>{try{let t=new r2.mf,n=JSON.parse(e.innerHTML);return t.insertContent(n,{select:!1}),{page:t.document.pages[t.currentPageId],assets:t.assets}}catch(t){return console.error("(caught) Error parsing Tldraw paste",t,e.innerHTML),!1}}},{tag:"drawing[bookmark]",getAttrs:ep.Ll}],renderHTMLforAI(e){let{node:t}=e;return["drawing",{bookmark:(0,ep.vL)(t)}]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,o.KV)(t,{class:"drawing"})]},addCommands(){this.name;let e=e=>{let{selection:t}=e;return t instanceof t5.nh&&("drawing"===t.node.type.name||"diagram"===t.node.type.name)?t.node:void 0};return{editSelectedDrawingBlock:()=>t=>{let{state:n}=t,a=e(n);return a&&(0,X.KA)().dispatch((0,en.v5)({drawingId:a.attrs.id})),!0}}},addExtensions:()=>[la],addNodeView:()=>(0,c.gu)(lt,{update:u.z0})}),lr=o.YY.create({name:"dynamicNodes",extendNodeSchema(e){var t;return{dynamic:null!=(t=(0,o.gk)((0,o.iI)(e,"dynamic",e)))&&t}}}),ll=o.YY.create({name:"fixRequiredAttrs",onBeforeCreate(){Object.values(this.editor.schema.nodes).forEach(e=>{Object.values(e.attrs||{}).forEach(e=>{void 0===e.default&&(e.hasDefault=!1)})})}});var lo=n(12117),ls=n(91242),ld=n(87379),lc=n(43182),lu=n(89603),lp=n(13731),lh=n.n(lp);let lg=e=>{if("footnote"!==e.$anchor.doc.type.name&&!e.empty&&!(0,lu.uI)(e)&&(0,o.eE)(e)){let e=(0,lu.bk)();if(!e)return;let t=document.querySelector('[data-footnote-popover-id="'.concat(e,'"] .ProseMirror'));t&&t.contains(document.activeElement)||(0,lu.Wj)(null,!1)}},lm=(e,t,n,a)=>{if(!e.some(e=>e.docChanged))return;let{doc:i}=n,r=[],l=[];i.nodesBetween(0,n.doc.content.size,(e,t,n)=>{"footnote"===e.type.name&&r.push({from:t,to:t+e.nodeSize,node:e,parent:n}),e.marks.forEach(a=>{"footnoteLabel"===a.type.name&&l.push({from:t,to:t+e.nodeSize,mark:a,parent:n})})}),l.filter(e=>{let{mark:t,parent:n}=e;return!r.find(e=>{let{node:a,parent:i}=e;return a.attrs.noteId===t.attrs.noteId&&i===n})}).forEach(e=>{let{from:t,to:n,mark:i}=e;return a.removeMark(t,n,i)});let s=e=>(0,o.I2)("footnoteLabel",n.schema).create({noteId:e});l.filter(e=>{let{mark:t}=e;return!t.attrs.noteId}).forEach(e=>{let{mark:t,from:n,to:i}=e,o=r.find(e=>{let{node:t,from:n}=e,a=n>=i,r=!l.find(e=>{let{mark:n}=e;return n.attrs.noteId==t.attrs.noteId});return a&&r});o&&a.removeMark(n,i,t).addMark(n,i,s(o.node.attrs.noteId))}),Object.entries(lh()(r,e=>{let{node:t}=e;return t.attrs.noteId})).forEach(e=>{let[t,n]=e;if(1==n.length||!t)return;let i=l.filter(e=>{let{mark:n}=e;return n.attrs.noteId===t});n.slice(1).forEach((e,t)=>{let{from:n}=e,r=(0,lu.pN)();a.setNodeMarkup(n,void 0,{noteId:r});let l=i[t+1];l&&(a.removeMark(l.from,l.to,l.mark),a.addMark(l.from,l.to,s(r)))})})},lx=new t5.k_({key:new t5.hs("footnote"),appendTransaction:(e,t,n)=>{let{selection:a}=n;a.eq(t.selection)||lg(a);let i=n.tr;return((0,nD.z)(e,t,n,i),lm(e,t,n,i),i.docChanged)?(console.debug("[FootnotePlugin] Applied steps",i.steps),i):null}});var lf=n(94740),lb=n(66199),lv=n(12514),ly=n(18078),lw=n(88136),lC=n(25311),lA=n(61204),lj=n(78140),lk=n(36999),lS=n(16936),lI=n(41283),lE=n(85595),lR=n(15253),lL=n(95081),lD=n(49251),lM=n(36464),l_=n(6046),lT=n(89122);let lN=(e,t,n)=>{let a=(0,X.GV)(en.DH);(0,lT.j)({ref:n,enabled:!!(n&&a===t),handler(e){var t,n;(null==(t=e.target)?void 0:t.closest("[data-footnote-view]"))||(null==(n=e.target)?void 0:n.closest("[data-footnote-label]"))||i(!1)}});let i=(0,R.useCallback)(n=>{var i,r;let l=e.state.selection,s=(0,o.eE)(l)&&!l.empty,d=(null==(i=document.activeElement)?void 0:i.closest(".footnote-popover"))||!!(null==(r=document.activeElement)?void 0:r.closest("[data-in-editor-focus]")),c=void 0!==n?n:a!==t;d||(c&&!s?(0,lu.N3)(t,!0):!1===c&&(0,lu.N3)(t,!1))},[e.state.selection,a,t]);return{onClick:i}},lz=e=>{let{node:t,editor:n,innerEditor:a,selected:i}=e,{noteId:r}=t.attrs,l=(0,R.useRef)(null),o=(0,X.GV)(en.DH),s=(0,X.GV)(en.Cl),d=(0,n6.oR)(),{onClick:u}=lN(n,r,l);(0,R.useEffect)(()=>{a&&a.setEditable(s)},[s,a]);let g=!!o&&o===r,m=(0,R.useCallback)(()=>(0,lu.Wj)(r,!1),[r]);(0,R.useEffect)(()=>{if(!a)return;let e=()=>{setTimeout(()=>{(0,q.We)(a)||m()},20)};return a.on("blur",e),()=>{a.off("blur",e)}},[a,m]);let x=!(0,tR.NO)(n),f=(0,R.useCallback)(()=>{x&&u()},[x,u]);return(0,p.jsx)(c.VR,{as:"span","data-testid":"footnote-nodeview-wrapper",children:(0,p.jsxs)(lf.A,{isOpen:g,onClose:m,placement:"top",gutter:8,isLazy:!0,lazyBehavior:"unmount",autoFocus:!1,closeOnBlur:!1,closeOnEsc:!1,returnFocusOnClose:!1,children:[(0,p.jsx)(lb.W,{children:(0,p.jsx)(S.E,{as:"span",onClick:f,_after:{content:"counter(footnote)",counterIncrement:"footnote",position:"relative",bottom:"0.6em",fontSize:"0.8em",shadow:i&&x?"outline":void 0,borderRadius:"sm"},pl:"1px",className:"footnote",contentEditable:!1,"data-footnote-view":!0,cursor:x?"pointer":void 0})}),x&&(0,p.jsx)(lv.Z,{children:(0,p.jsxs)(ly.h,{zIndex:"popover",shadow:"md",borderRadius:"md",border:"1px solid",borderColor:"gray.200",w:"500px",maxW:"100vw","data-footnote-popover-test-id":r,p:0,ref:l,children:[(0,p.jsx)(lw.R,{}),(0,p.jsx)(lC.e,{position:"relative",zIndex:"1",p:0,className:"footnote-popover","data-footnote-popover-id":r,children:d?(0,p.jsx)(lF,{...e,onClose:m}):(0,p.jsx)(lO,{...e,editable:s,onClose:m})}),(0,p.jsx)(h.a,{position:"absolute",top:"-".concat(8,"px"),bottom:"-".concat(8,"px"),left:0,right:0,zIndex:"0"})]})})]})})},lP=em()({},lL.q,{".ProseMirror":{px:8,py:4,overflow:"hidden auto",maxH:"300px",maxW:"100%",borderRadius:"md"}}),lO=e=>{let{editor:t,innerEditor:n,mountEditor:a,destroyEditor:i,node:r,editable:l,getPos:s,onClose:d}=e,{noteId:c}=r.attrs,u=(0,R.useCallback)(()=>t.commands.convertNoteToCard(c),[t,c]),g=(0,R.useCallback)(()=>{t.chain().focus().setNodeSelection(s()).deleteSelection().run()},[t,s]);(0,R.useEffect)(()=>{if(a&&i)return a(),()=>{i()}},[a,i]);let m=(0,X.GV)(en.SJ),x=(0,rb.ZI)(m,"#FFFFFF");if(!n)return null;let f=(0,o.xe)(t.state.doc,e=>e.marks.some(e=>"footnoteLabel"===e.type.name&&e.attrs.noteId===c)).length>0;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(h.a,{className:rR._P,sx:lP,position:"relative",_focusWithin:{shadow:l?"outline":void 0},borderRadius:"md",css:x,children:[(0,p.jsx)(l_.$,{editor:n,className:"highlight-mask"}),(0,p.jsx)(lD.G,{editor:n}),(0,p.jsxs)(lA.e,{size:"sm",colorScheme:"gray",variant:"ghost",position:"absolute",right:4,top:2,onMouseDown:ei.Fw,spacing:0,children:[l&&(0,p.jsxs)(lj.W,{autoSelect:!1,isLazy:!0,children:[(0,p.jsx)(lk.I,{as:lS.K,icon:(0,p.jsx)(E.g,{icon:eJ.Dwc}),minW:6,h:6,isRound:!0,backgroundColor:"white"}),(0,p.jsx)(lv.Z,{children:(0,p.jsxs)(lI.c,{"data-in-editor-focus":!0,zIndex:"dropdown",children:[f&&(0,p.jsx)(lE.D,{icon:(0,p.jsxs)("span",{className:"fa-layers fa-fw",children:[(0,p.jsx)(E.g,{icon:eM.vti,fixedWidth:!0}),(0,p.jsx)(E.g,{icon:eM.dmS,inverse:!0,transform:"shrink-8"})]}),onClick:u,children:(0,p.jsx)(eT.x6,{id:"p/s15o"})}),(0,p.jsx)(lE.D,{icon:(0,p.jsx)(E.g,{icon:eJ.yLS,fixedWidth:!0}),color:"red.500",onClick:g,children:(0,p.jsx)(eT.x6,{id:"sHHbXH"})})]})})]}),(0,p.jsx)(lS.K,{"aria-label":eN.Ru._({id:"j+JKcM"}),icon:(0,p.jsx)(E.g,{icon:eJ.GRI}),minW:6,h:6,isRound:!0,onClick:d,backgroundColor:"white"})]})]}),(0,p.jsx)(lM.Ht,{editor:n})]})},lF=e=>{let{mountEditor:t,destroyEditor:n,onClose:a}=e,i=(0,R.useMemo)(()=>{if(t)return t()},[t]);(0,R.useEffect)(()=>{if(n)return()=>n()},[n]);let r=(0,X.GV)(en.SJ),l=(0,rb.ZI)(r,"#FFFFFF");return i?(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(h.a,{className:rR._P,sx:lP,position:"relative",borderRadius:"md",css:l,children:[(0,p.jsx)(lR.N,{editor:i}),(0,p.jsx)(lA.e,{size:"sm",colorScheme:"gray",variant:"ghost",position:"absolute",right:4,top:2,onMouseDown:ei.Fw,spacing:0,children:(0,p.jsx)(lS.K,{"aria-label":eN.Ru._({id:"j+JKcM"}),icon:(0,p.jsx)(E.g,{icon:eJ.GRI}),minW:6,h:6,isRound:!0,onClick:a,backgroundColor:"white"})})]})}):null};var lH=n(65674);let lB=o.CU.create({name:"footnoteLabel",inclusive:!1,excludes:"link underline",priority:ec.y.FootnoteLabel,parseHTML:()=>[{tag:"span[class=footnote-label][bookmark]",getAttrs:ep.Ll},{tag:"span[class=footnote-label]"}],renderHTML(e){let{HTMLAttributes:t}=e;return["span",(0,o.KV)(t,{class:"footnote-label"}),0]},renderHTMLforAI(e){let{mark:t}=e;return["span",{class:"footnote-label",bookmark:(0,ep.vL)(t)},0]},addAttributes:()=>({noteId:{rendered:!1}}),addProseMirrorPlugins(){return[(0,lH.f)(this,lV)]}}),lV=e=>{let{node:t,editor:n,children:a}=e,{noteId:i}=t.attrs,r=(0,n6.oR)(),{onClick:l}=lN(n,i),o=!(0,tR.NO)(n),s=(0,R.useCallback)(()=>{o&&l()},[o,l]);return(0,p.jsx)(c.VR,{as:"span",className:"footnote-label-view",children:(0,p.jsx)(S.E,{as:"span",className:"footnote-label",onClick:s,"data-footnote-label":!0,cursor:o?"pointer":void 0,children:r?a:(0,p.jsx)(c.$p,{as:"span"})})})},lW=/(?:^|\s)((?:\^)((?:[^^]+))(?:\^))$/,lU=o.bP.create({name:"footnote",content:"(block | footnoteBlock)+",group:"inline",atom:!0,inline:!0,priority:ec.y.Footnote,parseHTML:()=>[{tag:"span[class=footnote]",getContent:(e,t)=>tm.FK.fromJSON(t,JSON.parse(e.getAttribute("data-content")||"{}"))},{tag:"div[class=imported-footnote]"},{tag:"footnote[bookmark]",getAttrs:ep.Ll,getContent:ep.cn}],renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["span",(0,o.KV)(n,{class:"footnote","data-content":JSON.stringify(t.content.toJSON())})]},renderHTMLforAI(e){let{node:t}=e;return["footnote",{bookmark:(0,ep.vL)(t)}]},addAttributes(){return{noteId:{parseHTML:e=>{let t=(0,ep.Ll)(this.storage)(e);return t&&t.noteId?t.nodeId:(0,lu.pN)()},default:void 0}}},addNodeView:()=>nj(lz,{nodeName:"footnote",preventNodeOrExtensionTypes:["doc","document","card"]}),addInputRules(){var e;return[(e={find:lW,nodeType:this.type,markType:this.editor.schema.marks.footnoteLabel},new o.fV({find:e.find,handler:t=>{let{state:n,range:a,match:i}=t,{tr:r}=n,l=i[i.length-1],s=i[0],d=a.to;if(l){let t=s.search(/\S/),i=a.from+s.indexOf(l),c=i+l.length;if((0,o.hO)(a.from,a.to,n.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.markType&&n!==t.mark.type)).filter(e=>e.to>i).length)return;c<a.to&&r.delete(c,a.to),i>a.from&&r.delete(a.from+t,i),d=a.from+t+l.length;let u=(0,lu.pN)();(0,lu.Wj)(u,!0);let p=e.nodeType.createAndFill({noteId:u},tm.FK.empty);r.insert(d,p),r.addMark(a.from+t,d,e.markType.create({noteId:u})),r.removeStoredMark(e.markType)}}}))]},addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e;if(!(0,lu.uI)(t.state.selection))return!1;let n=t.state.selection.node.attrs.noteId;return(0,lu.Wj)(n,!0),!0},Escape:()=>{let e=(0,lu.bk)();return!!e&&((0,lu.Wj)(e,!1),!0)},"Mod-Alt-f":e=>{let{editor:t}=e;return t.commands.toggleFootnote()}}),addProseMirrorPlugins:()=>[lx],addCommands:()=>({convertNoteToCard:e=>t=>{let{chain:n,state:a}=t,{doc:i}=a,r=(0,o.xe)(i,t=>"footnote"===t.type.name&&t.attrs.noteId===e);if(1!==r.length)throw Error("Found the wrong number of footnotes nodes: ".concat(r));let{node:l,pos:s}=r[0],d=(0,o.ve)(i.resolve(s-1),a.schema.marks.footnoteLabel,{noteId:l.attrs.noteId});if(!d)return console.error("Couldnt find the corresponding footnote mark",{node:l,pos:s}),!1;let c=i.textBetween(d.from,d.to),u={type:"card",attrs:{id:lc.Yv.generate()},content:[{type:"heading",attrs:{level:1},content:[{type:"text",text:c}]},...l.content.toJSON()]},p=new URL(window.location.href);p.hash="card-".concat(u.attrs.id),(0,W.wE)(u.attrs.id,!1);let h=i.content.size-1;return n().setTextSelection(d).unsetMark("footnoteLabel").setLink({href:p.toString()}).insertContentAt(h,u).command(e=>{let{tr:t}=e,n=(0,ls.s)(t.doc.resolve(h));return n&&t.setSelection(n),!0}).deleteRange({from:s,to:s+l.nodeSize}).focusDelayed().run()},toggleFootnote:()=>e=>{let{chain:t,state:n,editor:a}=e;if(a.isActive("footnoteLabel"))return t().toggleMark("footnoteLabel").focus().run();let i=(0,lu.pN)();return(0,lu.Wj)(i,!0),(0,ld.b)().push(()=>{var e,t;null==(e=(t=a.commands).forceHideBubbleMenu)||e.call(t,!0),lG(i)},"toggleFootnote"),t().setMark("footnoteLabel",{noteId:i}).insertContentAt(n.selection.to,{type:"footnote",attrs:{noteId:i},content:[{type:"paragraph"}]}).run()}})}),lG=e=>{let t=document.querySelector('[data-footnote-popover-id="'.concat(e,'"] .ProseMirror'));if(!t)return;t.focus();let n=window.getSelection();if(!n)return;let a=document.createRange();a.setStart(t,0),a.setEnd(t,0),n.removeAllRanges(),n.addRange(a)};var lK=n(24392),lQ=n(70815),lZ=n(91892);let lq=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,lJ=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,l$=lZ.Ay.extend({addInputRules(){return[(0,o.OX)({find:lq,type:this.type}),(0,o.OX)({find:lJ,type:this.type})]}});var lY=n(43028),lX=n(71029),l0=n(23513),l1=n(67864),l2=n(1636),l4=n(41427),l6=n(21982),l5=n(55847);let l3=e=>{var t,n,a;let{variant:i,editor:r,node:l,getPos:s,deco:d,options:c}=e,u=l.attrs,{id:h}=u,{editImage:g,startRemoveBg:m,isRemovingBg:x,changeFocalPoint:f}=(0,tQ.c)({editor:r,backgroundRemovalId:h,getPos:s}),b=null;try{b=r.state.doc.resolve(s())}catch(e){b=null}let v=b?(0,o.eL)(b,r$.M):null,{imageType:y,imageSlot:w}=i,C=(0,tU.l)(null!=(n=u.image)?n:void 0)&&w&&"image"===y,{toggleBuddyChatPanel:A,isBuddyChatPanelOpen:j}=(0,tG.n)(),{addColumnBefore:I,addColumnAfter:L,canChangeFocusPointAndRemoveBackground:D,hasImage:M,addDirection:_,parentVariant:T,cellOptions:N,handleDelete:z,selectParent:P,duplicateNode:O,updateAttributes:F}=(0,tQ.m)({editor:r,node:l,parentNode:null==v?void 0:v.node}),H=(0,R.useMemo)(()=>M?[{key:"edit-image",label:"icon"===y?(0,p.jsx)(eT.x6,{id:"JE/4q/"}):(0,p.jsx)(eT.x6,{id:"9IrgTy"}),icon:eJ.MT7,onClick:g},...C?[{key:"ask-ai",label:(0,p.jsx)(eT.x6,{id:"vKZEFh"}),icon:eM.p7g,onClick:()=>{j||A(),setTimeout(()=>{tW.W.emit("prefillMessage",{message:""})},200)}}]:[],...D?[{key:"remove-background",disabled:x,label:x?(0,p.jsx)(eT.x6,{id:"RdqLb7"}):(0,p.jsx)(eT.x6,{id:"ylbfBl"}),icon:eJ.sAw,onClick:m},{key:"change-focus-point",label:(0,p.jsx)(eT.x6,{id:"BmxaoW"}),icon:eJ.zTK,onClick:()=>f(h)}]:[],{divider:!0}]:[],[M,g,m,D,x,f,h]),B=(0,R.useMemo)(()=>(null==T?void 0:T.cellOptions.length)?null==T?void 0:T.cellOptions.map(e=>{var t,n;if(e.checkEnabled&&!e.checkEnabled({options:c,attrs:u}))return null;let a=null!=(n=N[e.key])?n:null==(t=e.defaultValue)?void 0:t.call(e,{ctx:"menu"});return e.ControlMenu?e.ControlMenu(a,t=>{F(s(),{options:{...N,[e.key]:t}})},e):null}).filter(e=>null!==e):[],[N,s,c,null==T?void 0:T.cellOptions,F,u]),V=(0,tq.d)({editor:r,getPos:s,node:l,includeCut:!1,imageSrc:null==(t=u.image)?void 0:t.src}),W=null!=(a=d.index)?a:0;return{contextMenuItems:[{key:"title",title:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(S.E,{children:(0,p.jsx)(eT.x6,{id:"wIRP9h",values:{0:i.name()}})}),(0,p.jsxs)(k.z,{gap:1,children:[(0,p.jsx)(E.g,{icon:eJ.qUw}),(0,p.jsx)(S.E,{children:(0,p.jsx)(eT.x6,{id:"y/5CE8",values:{0:W+1}})})]})]})},{divider:!0},...V,{divider:!0},...H,{key:"add-item-before",label:(0,p.jsx)(eT.x6,{id:"w7mkyz"}),icon:(0,p.jsx)(E.g,{icon:eJ.UiS,rotation:"bottom"===_?void 0:270}),onClick:()=>I(s())},{key:"add-item-after",label:(0,p.jsx)(eT.x6,{id:"1e37Dl"}),icon:(0,p.jsx)(E.g,{icon:eJ.UiS,rotation:"bottom"===_?180:90}),onClick:()=>L(s()+l.nodeSize)},{key:"duplicate",label:(0,p.jsx)(eT.x6,{id:"euc6Ns"}),icon:eJ.jPR,onClick:()=>O(s()+l.nodeSize)},{divider:!0},...B.length?[...B,{key:"divider",divider:!0}]:[],{key:"edit-layout",label:(0,p.jsx)(eT.x6,{id:"UUpX+c"}),icon:eJ.Hmw,onClick:()=>P(s())},{divider:!0},{key:"delete",label:(0,p.jsx)(eT.x6,{id:"cnGeoo"}),icon:eJ.yLS,onClick:z,color:"red.500"}]}};var l9=n(23144);let l7=e=>{var t,n;let{node:a,decorations:i,editor:r,getPos:l}=e,o=r.state.selection,s=o.node&&!!(0,r$.M)(o.node),{options:d,...u}=a.attrs,m=(0,l5.fw)(i),x=(0,l9.BJ)(m.smartLayoutAttrs.variantKey),{Cell:f}=x,b=(0,X.GV)(en.SJ),v=(0,rY.aG)(m.smartLayoutAttrs,m.direction),{firstChildSize:y}=(0,N.P)(i),w=m.index===m.numCells-1,C=(0,X.GV)(en.nD),A=(0,eE.DM)(i),j="number"==typeof m.emphasizedIndex&&m.emphasizedIndex!==m.index,k=(0,R.useCallback)(()=>{let e=l(),t=r.state.doc.nodeAt(l());t&&r.commands.insertSmartLayoutCell(e+t.nodeSize)},[r,l]),I=x.addDirection?x.addDirection(v):"right",[L,D]=(0,l4.yz)(m.direction),M=(0,R.useCallback)(()=>{C&&r.commands.selectNodeAtPos(l())},[r,l,C]),_=u.image,z=(0,R.useCallback)(e=>{r.commands.updateNestedAttributesAtPos(l(),{image:em()({},_,e,{meta:{has_transparency:!0}})})},[r,l,_]),{bgRemovalInProgress:P}=(0,ew._)({editor:r,id:u.id,src:null==_?void 0:_.src,updateAttributes:z}),{onOpenContextMenu:O,onCloseContextMenu:F,menuProps:H}=(0,eA.$)({editor:r,getPos:l}),{contextMenuItems:B}=l3({variant:x,editor:r,node:a,getPos:l,deco:m,options:d}),V=(0,R.useMemo)(()=>({onClick:e=>{e.target===e.currentTarget&&M()},cursor:C?"pointer":"default"}),[M,C]);return(0,p.jsxs)(g.u,{...e,children:[(0,p.jsx)(h.a,{display:"contents",position:"relative","data-spotlight-parent":!0,className:j?"smart-layout-cell-not-emphasized":"",onContextMenu:s?void 0:O,style:{...(0,ic.AS)(v.horizontalAlign||(null==(t=x.baseHorizontalAlign)?void 0:t.call(x,{dir:m.direction})),m.direction)},children:(0,p.jsxs)(f,{cellOptions:d,layoutOptions:v,theme:b,...m,...u,...e,firstChildSize:y,isFocused:A,selectCell:M,variant:x,selectCellForElementProps:V,dragHandle:(0,p.jsx)(T.A,{...e,handlePlacement:null!=(n=x.dragHandlePlacement)?n:"top","data-testid":"smart-layout-cell-drag-handle",label:(0,p.jsx)(eh.s,{direction:"column",align:"center",children:(0,p.jsx)(eT.x6,{id:"YkfVHA",components:{0:(0,p.jsx)(S.E,{color:"gray.500"})}})})}),children:[(0,p.jsx)(c.$p,{style:{maxWidth:"100%",wordBreak:"break-word"}}),C&&w&&(0,p.jsx)(eh.s,{position:"absolute",..."bottom"===I?{bottom:-3,[D]:0,width:"100%",height:6,justify:"center"}:{[D]:-3,bottom:0,height:"100%",width:6,align:"center"},opacity:"0",transitionProperty:"opacity",transitionDuration:"normal",zIndex:"1",className:"add-button",children:(0,p.jsx)(e_.Tz,{label:(0,p.jsx)(eT.x6,{id:"NQ8llq"}),placement:"top",children:(0,p.jsx)(lS.K,{icon:(0,p.jsx)(E.g,{icon:eJ.QLR}),"aria-label":eN.Ru._({id:"NQ8llq"}),position:"absolute",size:"xs",variant:"plain",isRound:!0,onClick:k,onMouseDown:ei.Fw})})}),P&&C&&(0,p.jsx)(l6.Td,{removeBackground:P})]})}),(0,p.jsx)(ex.tz,{isOpen:H.isOpen,onClose:F,menuItems:B,position:H.position,size:"small"})]})},l8=o.bP.create({name:"smartLayoutCell",content:"(block | smartLayoutBlock)+",isolating:!0,selectable:!1,containerHandle:!0,imageKeyPath:"image",accessoryImageKey:"image",addAttributes:()=>({id:(0,Z.e)(J.z),options:{default:{},...(0,q.tb)("options")},width:{default:null},image:{default:null,...(0,q.tb)("image")},label:{default:null,parseHTML:e=>e.getAttribute("label")||e.getAttribute("number")}}),parseHTML:()=>[{tag:"div[class=layout-item]"},{tag:"div",context:"smartLayout/",getAttrs:e=>oe(e)},{tag:"smart-layout-item",getAttrs:e=>oe(e)}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,o.KV)(t,{class:"layout-item"}),0]},renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e,{image:a,options:i,...r}=t.attrs,l={};Object.keys(i).forEach(e=>{l[e]="string"==typeof i[e]?i[e]:JSON.stringify(i[e])});let o={...r,...l};if(a){let e="image.icon"===a.source?"icon":"img";return n?["smart-layout-item",{...o,id:void 0},[e,{src:a.src,alt:(0,ed.ve)(a)}],["div",0]]:["smart-layout-item",o,[e,{bookmark:(0,ep.vL)({attrs:a}),alt:(0,ed.ve)(a)}],["div",0]]}return["smart-layout-item",o,0]},addNodeView:()=>(0,c.gu)(l7,{update:u.z0})}),oe=e=>{let t,n=e.getAttribute("label")||e.getAttribute("number"),a=e.parentElement;t=(null==a?void 0:a.tagName.toLowerCase())==="smart-layout"?a.getAttribute("variant"):(null==a?void 0:a.tagName.toLowerCase())||(null==a?void 0:a.getAttribute("variant"));let i=(0,l9.BJ)(null!=t?t:void 0),r=((null==i?void 0:i.options.map(e=>e.key))||[]).reduce((t,n)=>{let a=e.getAttribute(n);if(a)try{t[n]=JSON.parse(a)}catch(e){t[n]=a}return t},{});return{image:ot(e,i),label:n,options:r}},ot=(e,t)=>{var n;if(!t.imageSlot)return;let a=null;if("image"===t.imageType&&(null==(n=e.firstElementChild)?void 0:n.tagName.toLowerCase())==="img"?a=e.firstElementChild:"icon"===t.imageType&&(a=e.querySelector(":scope >icon")),!a)return;let i=null;try{let e=JSON.parse(a.getAttribute(K.A)||"null");e&&(i=e)}catch(e){console.warn("Failed to parse ai-parsed-attrs:",e)}if(a.getAttribute("bookmark")){let e=(0,ep.Ll)(a);e&&(i=e)}let r=a.getAttribute("src");if(r&&(i={src:r,source:"image.custom"}),i)return a.remove(),i};var on=n(92938),oa=n(46617);let oi=e=>{let{node:t}=e,{verticalAlign:n}=t.attrs;return(0,p.jsxs)(c.VR,{className:"grid-cell",style:{position:"relative",justifyContent:n},"data-selection-ring":!0,children:[(0,p.jsx)(T.A,{handlePlacement:"top",...e,"data-testid":"column-drag-handle",label:(0,p.jsx)(eh.s,{direction:"column",align:"center",children:(0,p.jsx)(eT.x6,{id:"zWdF4l",components:{0:(0,p.jsx)(S.E,{color:"gray.500"})}})})}),(0,p.jsx)(c.$p,{})]})},or=o.bP.create({name:"gridCell",content:"(block | layoutBlock)+",definingAsContext:!0,isolating:!0,selectable:!1,containerHandle:!0,parseHTML:()=>[{tag:"div[class=column]"},{tag:"div",context:"gridLayout/"}],addAttributes:()=>({verticalAlign:null}),renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,o.KV)(t,{class:"column"}),0]},addNodeView:()=>(0,c.gu)(oi,{update:u.z0})});var ol=n(64056),oo=n(53138),os=n(36145);let od=e=>{let{doc:t}=e,n=[];return t.descendants((e,t)=>{if(e.type.name!==oa.BM)return;n.push(t3.NZ.node(t,t+e.nodeSize,{},{isLayoutDecoration:!0}));let a=e.attrs.colWidths;return e.forEach((e,i,r)=>{let l=t+1+i,o={isLayoutCellDecoration:!0,colWidth:a[r],colIndex:r};n.push(t3.NZ.node(l,l+e.nodeSize,{},o))}),!1}),t3.zF.create(t,n)};class oc{constructor(e=null){this.dragging=e}}let ou=new t5.hs("layoutPlugin"),op=e=>new t5.k_({key:ou,state:{init:()=>new oc,apply:(e,t)=>t},appendTransaction:(e,t,n)=>{if(!e.some(e=>e.docChanged))return null;let a=e.find(e=>e.selectionSet),i=n.tr;if(n.doc.descendants((e,t)=>{if("gridLayout"===e.type.name&&1==e.childCount){let n=i.mapping.map(t);i.replaceWith(n,i.mapping.map(t+e.nodeSize),e.child(0).content).setMeta("annotationEvent",{type:"unwrap-node",pos:n})}}),!i.docChanged)return null;if(a){let e=a.selection.$from.depth-i.selection.$from.depth,t=(0,l0.n)(i.doc.resolve(a.selection.from-e));t&&i.setSelection(t)}return i},props:{decorations:e=>od(e),handleDOMEvents:{drop(t,n){var a,i,r,l,o;let s=null==(a=t.dragging)?void 0:a.annotations;if(!ou.getState(t.state))return!1;let d=null==(i=t.dragging)?void 0:i.slice,c=null,u=null,p=(0,os.p$)(n).filter(os.KS);try{u=(0,rq.Vk)(t,n,d),c=(0,rJ.ds)(t,n,d)}catch(e){return!1}try{let{selection:a}=t.state,i=!a.empty&&0===p.length,h=null==d?void 0:d.content.toJSON(),g=[];if(p.length>0&&(h=(g=(0,oo.kT)(e,p)).map(e=>e.content)),!h)return!1;if((null==(r=h[0])?void 0:r.type)==="image"&&(null==(l=h[0].attrs)?void 0:l.resize)&&(u||c)&&(h[0].attrs.resize={}),(null==c?void 0:c.node.type.name)==="gridCell"){let{node:t,pos:a,side:r}=c,l="left"===r?a:a+t.nodeSize,d=(null==(o=h[0])?void 0:o.type)==="gridCell",u=null==s?void 0:s.origNodePos,p=u&&d?(0,rJ.rP)(u,l,e):void 0,m=d?h:{type:"gridCell",content:h},x=e.chain().insertContentAt({from:l,to:l},m,{updateSelection:!1});return p&&x.updateNestedAttributesAtPos(p.parentPos,{colWidths:p.colWidths}),x.command(e=>{let{tr:t}=e;return i&&t.deleteSelection(),s&&t.setMeta("annotationEvent",{type:"drop",dragging:s,droppedBlockPos:l+ +!d}),!0}).focusMapped(l,1).run(),g.length>0&&g.forEach(e=>{e.upload()}),n.preventDefault(),!0}if(!u&&!c)return;let{node:m,pos:x,side:f}=u||c;if(x>a.from&&x<a.to)return n.preventDefault(),!0;let b=(0,ol.eq)({view:t,from:x,to:x+m.nodeSize,node:m}),{contentToInsert:v,focusOffset:y}=u?{contentToInsert:(0,ol.Sm)({horizontalAlign:b,eventTarget:n.target,node:m,newContent:h,editor:e}),focusOffset:(0,ol.Cn)({eventTarget:n.target,horizontalAlign:b,nodeSize:m.nodeSize,editor:e})}:{contentToInsert:(0,rq.wC)({side:f,pasteContent:h,node:m}),focusOffset:(0,rq.M5)({side:f,node:m})};e.chain().insertContentAt({from:x,to:x+m.nodeSize},v,{updateSelection:!1}).command(n=>{let{tr:a}=n;if(i){let e=t.state.selection,n=a.mapping.map(e.from),i=a.mapping.map(e.to);a.delete(n,i)}if(s){let n="left"===f&&d?d.size:m.nodeSize,i=(0,l1.U5)({side:f,view:t,tr:a,dragging:s,dropPos:x,dropNode:m,leftContentSize:n});requestAnimationFrame(()=>{var t,n;null==(t=(n=e.commands).moveAnnotations)||t.call(n,i)})}return!0}).focusMapped(x,y).run(),g.length>0&&g.forEach(e=>{e.upload()})}catch(e){console.error("(caught) [LayoutPlugin] handleDrop error:",e)}return n.preventDefault(),!0}}}}),oh=new t5.hs("layoutResizing");class og{getActiveHandleAbs(e){return this.activeHandle?(0,t9.d_)(e,this.activeHandle):null}reset(){return this.activeHandle=null,this.dragging=null,this}setHandle(e,t){return null===t.setHandle?this.activeHandle=null:this.activeHandle=(0,t9.JO)(e,t.setHandle),this}setDragging(e){return this.dragging=e.setDragging,this}apply(e,t){let n=e.getMeta(oh);return n&&"setHandle"in n?this.setHandle(t,n):n&&"setDragging"in n?this.setDragging(n):n&&"reset"in n?this.reset():this}constructor(e=null,t=null){this.activeHandle=e,this.dragging=t}}let om=e=>oh.getState(e.state),ox=(e,t)=>{e.dispatch(e.state.tr.setMeta(oh,{setHandle:t}))},of=(e,t)=>{e.dispatch(e.state.tr.setMeta(oh,{setDragging:t}))},ob=e=>{e.dispatch(e.state.tr.setMeta(oh,{reset:!0}))},ov=(e,t)=>{if(!e.editable||!t.target||t.target.closest(".column-resize-handle"))return;let n=om(e);if(n.dragging)return;let a=function(e,t){var n;let a=e.posAtCoords({left:t.clientX,top:t.clientY});if(!a||-1===a.inside)return null;let i=e.domAtPos(a.inside);if(!i)return null;let r=i.node.childNodes[i.offset];if(!r)return null;let l=e.state.doc.resolve(a.inside);if((null==(n=l.nodeAfter)?void 0:n.type.name)!=="gridCell")return null;let{left:o,right:s}=r.getBoundingClientRect();if(t.clientX-o<=5){let t=e.state.doc.resolve(l.before(l.depth)),n=oy((0,rJ.Ob)(t),e=>e.pos===l.pos);return(null==n?void 0:n.pos)||null}return s-t.clientX<=5?l.pos:null}(e,t);a!==n.getActiveHandleAbs(e.state)&&ox(e,a)},oy=(e,t)=>{for(let n=0;n<e.length;n++)if(t(e[n])){if(0===n)return null;return e[n-1]||null}return null},ow=(e,t)=>{let n=e.domAtPos(t);return n.node.childNodes[n.offset].offsetWidth},oC=(e,t)=>{let{node:n,offset:a}=e.domAtPos(t.start()),i=n.childNodes[a];do if(i&&i.classList&&i.classList.contains("node-gridLayout"))break;while(i=i.parentNode);return i};var oA=n(83743);let oj=e=>{let{getPos:t,updateAttributes:n,editor:a,node:i}=e,r=a.state.doc.resolve(t()),l=(0,rJ.Ob)(r);(0,R.useEffect)(()=>{l.length!==i.attrs.colWidths.length&&setTimeout(()=>{n({colWidths:(0,nn.I)(l.length)})},0)},[i,l,n])},ok=e=>{let{node:t,editor:n,getPos:a}=e,i=t.content.childCount,r=(0,X.GV)(en.Cl),l=(0,eC.FX)();oj(e);let o=i%2==0,s=Math.min((0,iG.h5)({base:1,sm:o?2:1,md:o?2:3,lg:4})||4,i),d=(0,R.useCallback)(()=>{n.commands.addLayoutCell(a())},[n,a]),u=i<oa.ZS&&r,h=l?"100%":(t.attrs.colWidths||[]).map(e=>"".concat(e,"%")).join(" ");return(0,p.jsx)(g.u,{...e,children:(0,p.jsxs)(oA.r,{className:(0,I.cx)("grid-col-controls",r&&"is-editable"),columns:s,gap:"var(--grid-border)",position:"relative",gridTemplateColumns:h,"data-selection-ring":!0,children:[(0,p.jsx)(c.$p,{className:"layout-content"}),(0,p.jsx)(T.A,{...e,handlePlacement:"outside",label:eN.Ru._({id:"Szg6OU"}),"data-testid":"layout-drag-handle"}),(0,p.jsx)(eh.s,{position:"absolute",top:"0",h:"100%",align:"center",w:6,insetInlineEnd:-3,className:"add-column",opacity:"0",transitionProperty:"opacity",transitionDuration:"normal",children:u&&(0,p.jsx)(e_.Tz,{label:(0,p.jsx)(eT.x6,{id:"AgvHni"}),placement:"top",children:(0,p.jsx)(lS.K,{icon:(0,p.jsx)(E.g,{icon:eJ.QLR}),"aria-label":eN.Ru._({id:"AgvHni"}),position:"absolute",size:"xs",variant:"plain",isRound:!0,zIndex:"1",onClick:d})})})]})})},oS=o.bP.create({name:oa.BM,content:"gridCell{1, ".concat(oa.ZS,"}"),group:"cardBlock",defining:!1,isolating:!0,selectable:!1,priority:ec.y.Layout,containerHandle:!0,parseHTML:()=>[{tag:"div[class=columns]"},{tag:"columns"}],renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,o.KV)(t,{class:"columns"}),0]},renderHTMLforAI(e){let{node:t}=e;return["columns",{colWidths:JSON.stringify(t.attrs.colWidths)},0]},addAttributes(){let e="colWidths";return{colWidths:{default:[],parseHTML:e=>{let t=0;e.childNodes.forEach(e=>{"DIV"===e.nodeName&&t++});try{var n;let a=null!=(n=e.getAttribute("colWidths"))?n:e.getAttribute("data-colWidths");if(a){let e=JSON.parse(a);if(Array.isArray(e)&&e.length===t&&e.every(e=>"number"==typeof e))return(0,nn.fF)(e,10,100),e}}catch(e){console.error("Error parsing AI generated colWidths",e)}return(0,nn.I)(t)},renderHTML:t=>{let n=t[e];return n?{["data-".concat(e)]:JSON.stringify(n)}:{}}},fullWidthBlock:{default:!1}}},addNodeView:()=>(0,c.gu)(ok,{update:u.R$,ignoreMutation:lX.I}),addProseMirrorPlugins(){return[op(this.editor),new t5.k_({key:oh,state:{init:()=>new og,apply:(e,t,n,a)=>t.apply(e,a)},props:{attributes:e=>null!==oh.getState(e).getActiveHandleAbs(e)?{class:"resize-cursor"}:{class:""},handleDOMEvents:{mousemove:(e,t)=>!!tv.of.get("layoutResizing")&&(ov(e,t),!1),mouseleave(e){if(!tv.of.get("layoutResizing"))return!1;let t=om(e);return null===t.getActiveHandleAbs(e.state)||t.dragging||ox(e,null),!1},mousedown:(e,t)=>!!tv.of.get("layoutResizing")&&(!function(e,t){if(!e.editable)return;let n=om(e),a=n.getActiveHandleAbs(e.state);if(null===a||n.dragging)return;let i=e.state.doc.resolve(a),r=[...i.node().attrs.colWidths],l=(0,rJ.xK)(i),o=ow(e,a),s=oC(e,i),d=s.offsetWidth;of(e,{startX:t.clientX,startWidth:o,colWidths:r,tableWidth:d,colIndex:l});let c=null;function u(t){window.removeEventListener("mouseup",u),window.removeEventListener("mousemove",p);let n=om(e);if(n.dragging){if(null===c)return void of(e,null);if(n.dragging)try{let t=n.getActiveHandleAbs(e.state);(function(e,t,n){let a=e.state.doc.resolve(t).before(),i=e.state.tr.setNodeMarkup(a,void 0,{colWidths:[...n]}).setMeta("annotationEvent",{type:"update-node-attrs",pos:a});e.dispatch(i),function(e,t){let n=e.state.doc.resolve(t),a=oC(e,n).querySelector(".grid-col-controls");a&&(a.style.gridTemplateColumns="")}(e,t)})(e,t,c),of(e,null)}catch(t){ob(e)}c=null}}function p(t){if(!t.which)return u(t);let n=om(e),a=n.getActiveHandleAbs(e.state);if(!n.dragging||null===a)return;let{colIndex:i,colWidths:r}=n.dragging,l=function(e,t){let{tableWidth:n}=e,a=t.clientX-e.startX;return nt()(100*a/n,0)}(n.dragging,t);(function(e,t){let n=e.querySelector(".grid-col-controls");n&&(n.style.gridTemplateColumns=t.map(e=>"".concat(e,"%")).join(" "))})(s,c=(0,nn.H0)(r,i,l,15)),(0,na.i$)(s)}window.addEventListener("mouseup",u),window.addEventListener("mousemove",p),t.preventDefault()}(e,t),!1)},decorations(e){let t=oh.getState(e).getActiveHandleAbs(e);if(null!==t){let n=[];try{let a=document.createElement("div");return a.className="column-resize-handle",n.push(t3.NZ.widget(t+1,a)),t3.zF.create(e.doc,n)}catch(e){return console.error("(caught) layoutResizing error: ".concat(e.message)),t3.zF.empty}}},nodeViews:{}}})]},addCommands(){var e=this;return{useLayoutPreset:(e,t)=>n=>{let{dispatch:a,tr:i,commands:r,view:l}=n;if(!a)return!0;let s=(0,rJ.DF)(i.doc.resolve(e));if(!s)return!0;let d=(0,rJ.Ob)(s),c=t.length-d.length,u=[];for(;0!==c;){if(c<0){let t=(0,rJ.nX)(i.doc.resolve(e),-1),n=t.nodeAfter;i.deleteRange(t.pos,t.pos+n.nodeSize),u=[...1===n.childCount&&(0,o.Op)(n.firstChild)?[]:n.content.toJSON(),...u],c++;continue}if(c>0){r.addLayoutCell(s.pos,!1),c--;continue}}i.setNodeAttribute(e,"colWidths",t);let p=(0,rJ.nX)(i.doc.resolve(s.pos),-1);if(!p||!p.nodeAfter)return!0;let h=p.pos+p.nodeAfter.nodeSize-1;if(r.insertContentAt(h,u,{updateSelection:!1}),i.selection.from>h||i.selection.to>h){let e=i.doc.resolve(p.pos+1).end(),t=(0,l0.n)(i.doc.resolve(e),-1);t&&i.setSelection(t)}let g=oC(l,s);return g&&(0,na.i$)(g),!0},insertLayout:e=>t=>{let{dispatch:n,commands:a}=t;if(!n)return!0;let i=Array.from(Array(e),e=>oI);return a.insertContentAndSelect({type:"gridLayout",attrs:{colWidths:(0,nn.I)(e)},content:i})},addLayoutCell:function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return n=>{let{chain:a,state:i}=n,r=i.doc.nodeAt(e);if(!r||r.type.name!==oS.name)return!1;let l=e+r.nodeSize-1,{colWidths:o}=r.attrs,s=o.length,d=nt()(100/(s+1),2),c=(0,nn.KJ)(o,s,d,15),u=a().insertContentAt(l,oI,{updateSelection:!1});return t&&u.selectInsertedNode(),u.command(t=>{let{tr:n}=t;return n.setNodeAttribute(e,"colWidths",c),!0}).run(),!0}},handleLayoutDelete:function(t){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return a=>{let{tr:i,dispatch:r,state:l}=a;if(!r)return!0;let s=(0,o.KP)(e=>e.type.name===or.name)(l.selection),d=(0,o.KP)(e=>e.type.name===oS.name)(l.selection);if(!s||!d)return!1;if(!n||(0,q.mf)(s.node)){if(2==d.node.childCount){let t=s.node===d.node.child(0),n=t?d.node.child(1):d.node.child(0),a=t?d.start+d.node.child(0).nodeSize+1:d.start+1,r=a+n.content.size;i.replaceWith(d.pos,d.pos+d.node.nodeSize,n.content);let l=(0,l0.n)(i.doc.resolve(d.pos+(t?0:n.content.size)),t?1:-1);l&&i.setSelection(l);let o=(0,l1.es)({insertPos:d.pos,contentPos:a,contentEnd:r,editor:e.editor});requestAnimationFrame(()=>{var t,n;null==(t=(n=e.editor.commands).moveAnnotations)||t.call(n,o)})}else{let e=i.doc.resolve(s.pos);(0,on.K)(i,e,t),i.setNodeAttribute(d.pos,"colWidths",(0,nn.XC)(d.node.attrs.colWidths,[(0,rJ.xK)(e)]))}return!0}let{parent:c}=l.selection.$from;return!!(l.selection.empty&&c.isTextblock&&(0,o.Op)(c))&&c==s.node.firstChild&&!t&&(i.deleteRange(l.selection.$from.before(),l.selection.$from.after()),!0)}},goToNextLayoutCell:e=>t=>{let{tr:n,state:a}=t,i=(0,o.KP)(e=>e.type.name===or.name||e.type.name===l8.name)(a.selection),r=(0,o.KP)(e=>e.type.name===oS.name||e.type.name===l2.o.name)(a.selection);if(!i||!r)return!1;let l=a.doc.resolve(i.pos),s=e?l.index()+1:l.index()-1;if(s<0||s>=l.parent.childCount)return!1;let d=l.posAtIndex(s);return n.setSelection(t5.LN.near(a.doc.resolve(d))),!0}}},addKeyboardShortcuts:()=>({Tab:e=>{let{editor:t}=e;return!tv.of.get("arrowAutocomplete")&&t.commands.goToNextLayoutCell(!0)},"Shift-Tab":e=>{let{editor:t}=e;return!tv.of.get("arrowAutocomplete")&&t.commands.goToNextLayoutCell(!1)}})}),oI={type:"gridCell",content:[{type:"paragraph"}]};var oE=n(9893),oR=n(35623),oL=n(43944),oD=n(80045),oM=n(91656),o_=n(61491),oT=n(82927);let oN=e=>{let{decorations:t,node:n,updateAttributes:a}=e,i=(0,X.GV)(nY.Jo),r=(0,oT.Iy)("edit",i),{checked:l,fontSize:o,placeholder:s}=n.attrs;return(0,p.jsx)(g.u,{dir:(0,ic.fZ)(t),...e,children:(0,p.jsxs)(S.E,{as:"li",color:l?"var(--body-color-muted)":void 0,textDecoration:l?"line-through":void 0,transition:"color 250ms ease-out",position:"relative",className:"todo","data-font-size":o,children:[(0,p.jsx)(o_.S,{contentEditable:!1,suppressContentEditableWarning:!0,isChecked:l,onChange:e=>{r&&a({checked:e.target.checked})},position:"absolute"}),(0,p.jsx)(c.$p,{as:"span",className:"todo-content","data-placeholder":s})]})})},oz=/^\s*\[[ ]?\]\s$/,oP=/^\s*\[x\]\s$/,oO=o.bP.create({name:oM.e.Todo,addOptions:()=>({HTMLAttributes:{}}),content:"inline*",defining:!0,group:"block cardNotesBlock",selectable:!1,allowFontSizes:"body",addAttributes:()=>({indent:{default:0},checked:{default:!1},fontSize:lo.mD}),addNodeView:()=>(0,c.gu)(oN,{as:"ul",update:u.z0,updateWrapperEl:(e,t)=>{e.setAttribute("indent",t.node.attrs.indent)}}),addInputRules(){return[(0,oL.aW)({find:oz,type:this.type,getAttributes:{checked:!1}},this.editor.state.schema),(0,oL.aW)({find:oP,type:this.type,getAttributes:{checked:!0}},this.editor.state.schema)]},addKeyboardShortcuts:()=>({"Mod-,":e=>{let{editor:t}=e;return t.commands.setListItems({variant:oM.e.Todo})},"Mod-Shift-9":e=>{let{editor:t}=e;return t.commands.setListItems({variant:oM.e.Todo})}}),parseHTML(){return[{tag:'li[variant="'.concat(this.name,'"]')}]},renderHTML(e){let{HTMLAttributes:t}=e;return["li",(0,o.KV)(this.options.HTMLAttributes,t,{variant:this.name}),0]}});var oF=n(87996),oH=n(62964),oB=n(50861),oV=n(23746);let oW=(0,R.forwardRef)((e,t)=>{let{dimensions:n,enforceMinDimensions:a,isThumbnail:i,isLoading:r,children:l,...o}=e,s=(0,tv.u)("enableVirtualization"),d=(0,eB.rd)();if(!s)return(0,p.jsx)(p.Fragment,{children:l});let c=n?{width:"".concat(n.width,"px"),height:"".concat(n.height,"px")}:{};return(!0===r||a)&&(c.minHeight=c.height),void 0!==r&&(c.height=void 0,c.width=void 0),(0,p.jsxs)(eh.s,{backgroundColor:!1===r?"transparent":d?"whiteAlpha.200":"blackAlpha.200",ref:t,position:!1!==r?"relative":"static",transition:"background-color .2s",...c,...o,children:[l,!1!==r&&(0,p.jsx)(ij.y,{position:"absolute",top:"50%",insetStart:"50%",colorScheme:"gray",size:i?"xs":"md"})]})});oW.displayName="VirtualizedPlaceholder";var oU=n(58240);let oG=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,X.GV)(en.OG),n=(0,X.GV)(en.$i),a=!1!==e.memoGroup&&(t?"".concat(e.memoGroup?"".concat(e.memoGroup,":"):"","presenting:").concat(n):void 0);return(0,oU.v)({...e,memoGroup:a})};var oK=n(89263);let oQ=e=>{let{attrs:t,inGallery:n,shouldDisableClick:a}=e,i=(0,oB.lQ)(t),r=t.displayStyle,l=(0,n6.oR)(),o=(0,oB.eb)(t,"preview"===r&&!n),{handleOpenLinkWithInterstitial:s,handleOpenNativeLinkWithInterstitial:d,linkUrlSafe:c}=(0,oK.E)(i),u="newTab"===o&&!a;return(0,R.useMemo)(()=>u?{url:l?i:c,handleOpenLinkWithInterstitial:s,handleOpenNativeLinkWithInterstitial:d}:void 0,[s,d,c,i,u,l])};var oZ=n(71093),oq=n(36062),oJ=n(73737);let o$=e=>{let{enterZoom:t,zoomBoxProps:n,url:a,handleOpenLink:i,handleOpenInNewTab:r}=e,l=(0,X.GV)(en.nD);return n1.D1?null:!l&&i&&a?(0,p.jsx)(oq.Q,{inset:0,w:"100%",h:"100%",position:"absolute",zIndex:1,cursor:"pointer",children:(0,p.jsx)(oq.r,{onClick:i,href:a,target:"_blank",rel:"noopener"})}):(0,p.jsx)(oJ.K,{enterZoom:t,doubleClickNonZoomHandler:l?r:void 0,...n})};var oY=n(24302),oX=n(92739);let o0={allowPopups:!1,noSandbox:!1,preventScroll:void 0},o1=e=>{let{initialUrl:t,frameRef:n,iframeOptions:a,backgroundColor:i="white",onLoad:r,...l}=e,{allowPopups:o,preventScroll:s,noSandbox:d}=a||o0;return(0,p.jsx)(eh.s,{w:"100%",h:"100%",direction:"column",background:i,...l,children:(0,p.jsx)("iframe",{ref:n,src:t,frameBorder:"0",width:"100%",height:"100%",allow:"encrypted-media; camera; microphone",allowFullScreen:!0,title:"Embedded app",sandbox:d?void 0:"allow-forms allow-scripts allow-same-origin allow-modals allow-pointer-lock ".concat(o?"allow-popups":""),scrolling:s?"no":void 0,style:{flex:1},onLoad:()=>{null==r||r()}})})},o2=(()=>{let e=e=>e.replace(/^https?:/,""),t=null,n=new Map,a={capture:!0,passive:!0},i=i=>{let r=e(i);n.delete(r),0===n.size&&t&&(window.removeEventListener("message",t,a),t=null)};return(r,l)=>{if(n.set(e(r),l),t)return()=>i(r);let o=Math.floor(519*Math.random());return t=t=>{if("https://if-cdn.com"===t.origin)try{let a=JSON.parse(t.data);if(!("context"in a))return;a.messageId=Math.floor(519*Math.random()),a.listenerId=o;let i=e(a.context);if(n.has(i))return void n.get(i)(a)}catch(e){console.error(e)}},window.addEventListener("message",t,a),()=>i(r)}})();function o4(e){return!!e&&"if-cdn.com"===new URL(e).host}let o6=e=>{let[t,n]=(0,R.useState)(null),a="function"==typeof e,i={resizeSettled:!1,loadFired:!1,preloadStart:Number.NEGATIVE_INFINITY,loadStart:Number.NEGATIVE_INFINITY,triggered:!1},r=(0,R.useRef)({...i}),l=(0,R.useRef)(e),o=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{preloadStart:t,loadStart:n,resizeSettled:a,loadFired:i,triggered:o}=r.current,s=performance.now()-t,d=performance.now()-n;if(!o&&(e||a&&i)){var c;console.debug("[embed] firing onLoad ".concat(d,"ms after frame load"),{preloadDelta:s,loadDelta:d}),r.current.triggered=!0,null==(c=l.current)||c.call(l);return}};return(0,R.useEffect)(()=>{l.current=e},[e]),(0,R.useEffect)(()=>{if(!a||!o4(t))return()=>{r.current={...i}};r.current.preloadStart=performance.now();let e=null,n=o2(t,e=>{e&&"object"==typeof e&&"height"in e&&l.push(e.height),s(l.length?200:1e3)}),l=[],s=t=>{e&&(clearTimeout(e),e=null),r.current.resizeSettled||(e=setTimeout(()=>{e=null,r.current.resizeSettled=!0,n(),o()},t))};return s(1e3),()=>{e&&(clearTimeout(e),e=null),n(),r.current={...i}}},[t,a]),{handlePreload:e=>(n(e),()=>{r.current.loadStart=performance.now(),r.current.loadFired=!0,o(!o4(e))})}},o5=e=>{let{html:t,onLoad:n,...a}=e,{handlePreload:i}=o6(n),r=(0,R.useRef)({frame:null,listener:null});return(0,p.jsx)(h.a,{position:"relative",role:"group",className:"html-embed-viewer","data-selection-ring":"inside","data-selection-background":!0,borderRadius:"var(--box-border-radius)",contentEditable:!1,dangerouslySetInnerHTML:{__html:t},ref:e=>{if(!e){r.current.frame&&r.current.listener&&r.current.frame.removeEventListener("load",r.current.listener),r.current={frame:null,listener:null};return}let t=null==e?void 0:e.getElementsByTagName("iframe");if((null==t?void 0:t.length)!==1){null==n||n();return}let a=t.item(0),l=a.src;if(a===r.current.frame)return;r.current.frame&&r.current.listener&&r.current.frame.removeEventListener("load",r.current.listener);let o=i(l);r.current={frame:a,listener:o},a.addEventListener("load",o)},...a})};var o3=n(38036);let o9=e=>{let{frameRef:t,node:n,isStealth:a=!1,isDark:i}=e,r=(0,oB.lQ)(n.attrs),{handleOpenLinkWithInterstitial:l}=(0,oK.E)(r);return(0,p.jsxs)(eh.s,{direction:"row",background:i?"gray.700":"gray.50",align:"center",borderBottom:"1px solid",borderColor:i?"gray.600":"gray.200",w:"100%",p:1,zIndex:2,position:a?"absolute":"relative",transitionProperty:"common",transitionDuration:"normal",opacity:+!a,_hover:{opacity:1},fontFamily:"body",children:[(0,p.jsx)(o3.p,{size:"xs",value:r,border:"0",noOfLines:1,color:i?"gray.200":"gray.600",pointerEvents:"none",readOnly:!0}),(0,p.jsxs)(lA.e,{size:"xs",spacing:1,variant:"ghost",colorScheme:"gray",ml:2,children:[(0,p.jsx)(e_.Tz,{label:(0,p.jsx)(eT.x6,{id:"HpK/8d"}),placement:"top",children:(0,p.jsx)(lS.K,{isRound:!0,"aria-label":eN.Ru._({id:"HpK/8d"}),icon:(0,p.jsx)(E.g,{icon:eJ.yek}),onClick:()=>{if(!t.current)return;let e=t.current.src;t.current.src="about:blank",setTimeout(()=>{t.current&&(t.current.src=e)},50)}})}),(0,p.jsx)(e_.Tz,{label:(0,p.jsx)(eT.x6,{id:"Alx2/L"}),placement:"top",children:(0,p.jsx)(lS.K,{isRound:!0,"aria-label":eN.Ru._({id:"Alx2/L"}),icon:(0,p.jsx)(E.g,{icon:eJ.vMs}),onClick:l})})]})]})};var o7=n(23103);let o8=e=>{let{isZoomed:t,useStealthNav:n,onLoad:a,opacity:i,...r}=e,{node:l}=r,o=(0,R.useRef)(null),{colorMode:s}=(0,oY.G6)(),d="dark"===s,c=(0,eC.FX)(),{url:u,proxy:h,source:g,embed:m}=l.attrs,x=(0,o7.B)(g),f=x.rewriteEmbedUrl&&u?x.rewriteEmbedUrl(u):u,b=h?(0,o7.l)(f):f||"about:blank",{isUntrusted:v}=(0,oX.i)(b);return x.preferHtml&&(null==m?void 0:m.html)?(0,p.jsx)(o5,{html:m.html,w:t?"100%":void 0,onClick:t?ei.dG:void 0,onLoad:a,opacity:i,...x.minWidth?{minW:"min(".concat(x.minWidth,", 100vw, 100%)"),left:"50%",transform:"translateX(-50%)"}:void 0}):v?(0,p.jsx)(eh.s,{h:"100%",w:"100%",align:"center",justify:"center",children:"unknown embed"}):(0,p.jsxs)(eh.s,{direction:"column",h:"100%",w:"100%",maxW:"var(--media-maxW)",maxH:"var(--media-maxH)",borderRadius:t?"lg":"var(--box-border-radius)",border:"1px solid",borderColor:d?"gray.600":"gray.200",overflow:"hidden",position:"relative","data-content-reference":!0,"data-selection-ring":"inside","data-selection-background":!0,className:(0,I.cx)("embed-viewer"),onClick:t?ei.dG:void 0,children:[(0,p.jsx)(o9,{...r,frameRef:o,isDark:d,isStealth:n}),!t&&(0,p.jsx)(oZ.zA,{...r,frameRef:o}),(0,p.jsx)(o1,{initialUrl:b,frameRef:o,iframeOptions:x.iframeOptions,onLoad:a,css:{aspectRatio:c?"1 / 1.618":"1.618 / 1"},flex:"1"})]})};var se=n(42276);let st=(0,aP.P)(h.a),sn=(0,aP.P)(eh.s),sa=e=>{let{node:t,editor:n,decorations:a}=e,i=t.attrs,{source:l,embed:o,displayStyle:s,id:d,sourceUrl:c}=i,u=(0,o7.B)(l),{isZoomed:m,enterZoom:x,exitZoom:f}=(0,oZ.RL)(d),b="inline"===s&&u.preferHtml&&(null==o?void 0:o.html),v=(0,i9.NZ)(e),y=(0,eC.FX)(),w=(0,X.GV)(en.nD),C=(0,eE.DM)(a)||!n.view.hasFocus(),A=(0,tv.u)("virtualizeEmbeds"),[j,k]=(0,R.useState)(!1),S=!r.$.GAMMA_PUPPETEER_SERVICE&&(b||"inline"===s)&&!v&&!(y&&u.forcePreviewOnMobile),{handleOpenLinkWithInterstitial:E,handleOpenNativeLinkWithInterstitial:L,url:D}=oQ({attrs:i,inGallery:v,shouldDisableClick:!!(u.inlineInteractive&&S)})||{},M=!v&&!n.isThumbnail,{inViewport:_,ref:T,dimensions:N}=oG();return A&&S&&!n.isThumbnail&&"embed.gdrive"!==u.key&&!1===_?(!0===j&&k(!1),(0,p.jsx)(g.u,{...e,as:"div",children:(0,p.jsx)(oW,{ref:T,dimensions:N})})):(0,p.jsxs)(g.u,{...e,children:[(0,p.jsxs)(st,{h:"100%",w:"calc(100% * var(--media-scale))",className:(0,I.cx)("embed-preview",!b&&!(u.inlineInteractive&&S)&&oV.Gx),"data-export-as-image":!0,"data-export-link":c,position:"relative",overflow:b&&u.minWidth?"visible":"hidden","data-drag-handle":!0,ref:T,children:[S&&n.isThumbnail?(0,p.jsx)(se.a6,{...e}):v?(0,p.jsx)(se.x6,{...e}):S?(0,p.jsx)(oW,{isLoading:!j,dimensions:N,enforceMinDimensions:"embed.twitter"===u.key,flexDir:"column",children:(0,p.jsx)(o8,{...e,opacity:+!!j,onLoad:()=>{k(!0)},useStealthNav:!0})}):(0,p.jsx)(se.Ch,{...e}),u.inlineInteractive&&!y&&S?(0,p.jsx)(h.a,{position:"absolute",inset:0,zIndex:1,pointerEvents:w&&!C&&"inline"===s?"auto":"none",cursor:"default"}):u.inlineInteractive&&y&&S?(0,p.jsx)(p.Fragment,{}):(0,p.jsx)(o$,{enterZoom:x,handleOpenLink:L,handleOpenInNewTab:E,url:D})]}),M&&(0,p.jsx)(oZ.Gx,{isZoomed:m,exitZoom:f,editor:n,children:(0,p.jsx)(sn,{h:"100%",w:"100%",direction:"column",justify:"center",align:"center",children:(0,p.jsx)(o8,{...e,onLoad:()=>{k(!0)},isZoomed:!0})})})]})},si=o.bP.create({name:"embed",group:"block media",atom:!0,draggable:!0,selectable:!0,expandable:!0,addNodeView:()=>(0,c.gu)(sa,{update:u.z0}),addAttributes:()=>({id:(0,Z.e)(J.z),url:{},source:{default:oF.Jp.key},thumbnail:{...(0,q.tb)("thumbnail")},embed:{...(0,q.tb)("embed")},meta:{...(0,q.tb)("meta")},proxy:{},sourceUrl:{},displayStyle:{default:"preview"},fullWidthBlock:{default:!1},clickBehavior:{default:null}}),parseHTML:()=>[{tag:"div[class=embed]"},{tag:"iframe[bookmark]",getAttrs:ep.Ll}],renderHTML(e){let{HTMLAttributes:t,node:n}=e;return["div",(0,o.KV)(t,{class:"embed"}),["a",{href:(0,oB.lQ)(n),target:"_blank"},(0,oB.JY)(n)]]},renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e;return n?["iframe",{src:t.attrs.url}]:["iframe",{bookmark:(0,ep.vL)(t)}]},addCommands:()=>({replaceEmbedsById:(e,t)=>n=>{let{editor:a,chain:i}=n,r=(0,o.xe)(a.state.doc,t=>"embed"===t.type.name&&t.attrs.id===e),l=i();return r.forEach(e=>{let{pos:n,node:a}=e;l.insertContentAt({from:n,to:n+a.nodeSize},t,{updateSelection:!1})}),l.run(),!0},updateEmbedsById:(e,t)=>n=>{let{editor:a,chain:i}=n,r=(0,o.xe)(a.state.doc,t=>("embed"===t.type.name||"video"===t.type.name)&&t.attrs.id===e),l=i();return r.forEach(e=>{let{pos:n}=e;l.updateAttributesAtPos(n,{thumbnail:t.thumbnail})}),l.run(),!0},insertEmbedAndFetchMetadata:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a=>{let{commands:i,editor:r}=a,l=(0,J.z)();i.insertContent({type:"embed",attrs:{id:l,url:e,sourceUrl:e,displayStyle:null!=t?t:"preview",meta:{title:"Loading..."}}},{updateSelection:!1});let o=!1;return(0,oH.Yq)(e,e=>{if(o)return void r.commands.updateEmbedsById(l,e);let n=tz.Fn[e.source];r.commands.replaceEmbedsById(l,{type:(null==n?void 0:n.nodeName)||"embed",attrs:{...e,id:l,displayStyle:null!=t?t:"video"===n.nodeName?"inline":"preview"}}),o=!0}).catch(t=>{console.warn("(caught) insertEmbedAndFetchMetadata error fetching url",t,e),n&&r.commands.replaceEmbedsById(l,e)}),!0}}})});var sr=n(45176);let sl="gallery-prevent-flex";class so{constructor(e=null){this.dragging=e}}let ss=new t5.hs("galleryPlugin"),sd=e=>new t5.k_({key:ss,state:{init:()=>new so,apply:(e,t)=>t},props:{handleDOMEvents:{drop(e){var t;let n=null==(t=e.dragging)?void 0:t.annotations,a=ss.getState(e.state);if(!a)return!1;a.dragging=n}},decorations:e=>{let{doc:t}=e,n=[];return t.descendants((e,t,a)=>{if((0,i9.Pb)(e))n.push(t3.NZ.node(t,t+e.nodeSize,{class:"gallery-layout-".concat(e.attrs.layout)},{children:e.content}));else if((0,i9.Pb)(a)){var i;let r="image"===e.type.name&&(null==(i=e.attrs.resize)?void 0:i.clipType)==="circle";n.push(t3.NZ.node(t,t+e.nodeSize,{class:r?sl:""},{inGallery:!0,layout:a.attrs.layout,dimensions:a.attrs.dimensions,thumbHeight:a.attrs.thumbHeight,thumbSpacing:a.attrs.thumbSpacing}))}}),t3.zF.create(t,n)},handlePaste:(e,t,n)=>{let{selection:a,schema:i}=e.state;if(!(a instanceof t5.nh&&(0,i9.Pb)(a.node)))return!1;if((0,i9.jG)(i,n,t)){let t=e.state.tr.setSelection(t5.U3.create(e.state.doc,a.to-1));e.dispatch(t)}return!1},handleDrop:(t,n,a)=>{let i,r=ss.getState(t.state),l=null==r?void 0:r.dragging;r&&(r.dragging=null);try{if(!(i=(0,i9.tz)(t,n,a,!1)))return!1}catch(e){return console.error("(caught) [GalleryPlugin] handleDrop checkGalleryDropTarget error:",e),!1}try{let{selection:n}=t.state,r=a.content.toJSON(),{pos:o,side:s,node:d}=i,c=!n.empty,u=r.some(e=>{var t;return"image"===e.type&&!(null==(t=e.attrs)?void 0:t.src)}),p=c&&!u;if(d&&(0,i9.Pb)(d)){let t="left"===s?o:o+1;e.chain().insertContentAt({from:t,to:t},r,{updateSelection:!1}).command(n=>{let{tr:a}=n;if(p&&a.deleteSelection(),l){let n=e.state.tr;n.deleteSelection(),a.setMeta("annotationEvent",{type:"drop",dragging:l,droppedBlockPos:n.mapping.map(t)})}return!0}).focusMapped(t).run()}else if(d&&(0,oB.Bv)(d)){let n="left"===s?[...r,d.toJSON()]:[d.toJSON(),...r];e.chain().insertContentAt({from:o,to:o+d.nodeSize},{type:"gallery",content:n},{updateSelection:!1}).command(n=>{let{tr:a}=n;if(p&&a.deleteSelection(),l){let n=(0,l1.Q4)({side:s,view:t,tr:a,dragging:l,dropPos:o,dropNode:d});requestAnimationFrame(()=>{var t,a;null==(t=(a=e.commands).moveAnnotations)||t.call(a,n)})}return!0}).run()}}catch(e){console.error("(caught) [GalleryPlugin] handleDrop error:",e)}return!0}}});var sc=n(76694),su=n(84979),sp=n(38636);let sh=e=>e&&oF.Dc[e]?oF.Dc[e]:oF.GQ,sg=16/9,sm=e=>{let{isZoomed:t,onLoad:n,opacity:a,position:i="relative",...r}=e,{node:l}=r,{embed:o,source:s,sourceUrl:d}=l.attrs,c=sh(s),u=(0,R.useRef)(null),g=c.preferHtml&&(null==o?void 0:o.html),m=(null==o?void 0:o.height)&&!(null==o?void 0:o.width),x=(null==o?void 0:o.height)&&(null==o?void 0:o.width)?o.width/o.height:(null==o?void 0:o.aspectRatio)||sg,f=t?{width:"min(var(--media-maxW), calc(var(--media-maxH) * ".concat(x,"))"),height:"video.tiktok"===s?void 0:m?o.height:"min(var(--media-maxH), calc(var(--media-maxW) / ".concat(x,"))"),alignContent:"center"}:g?{width:"100%"}:m?{height:o.height}:{height:0,pb:"".concat(100/x,"%")},b=(null==o?void 0:o.url)||l.attrs.embedUrl||d,v=c&&c.rewriteEmbedUrl&&b?c.rewriteEmbedUrl(b):b;return(0,p.jsxs)(h.a,{position:i,opacity:a,"data-content-reference":!0,"data-drag-handle":!0,...f,onClick:t?ei.dG:void 0,transition:"opacity .2s",children:[!t&&(0,p.jsx)(oZ.zA,{...r,frameRef:u}),g?(0,p.jsx)(o5,{html:o.html,w:t?"100%":void 0,onClick:t?ei.dG:void 0,onLoad:n,...c.minWidth?{minW:"min(".concat(c.minWidth,", 100vw, 100%)"),left:"50%",transform:"translateX(-50%)"}:void 0,maxW:c.maxWidth}):(0,p.jsx)(o1,{initialUrl:v,backgroundColor:"none",borderRadius:"var(--box-border-radius)",overflow:"hidden","data-content-reference":!0,"data-selection-ring":"inside","data-selection-background":!0,className:(0,I.cx)("video-player"),onLoad:n,iframeOptions:{preventScroll:!0,...c.iframeOptions},position:"absolute",inset:0,frameRef:u})]})},sx=e=>{let{node:t,editor:n}=e,a=t.attrs,{source:i,embed:l,displayStyle:o,id:s,sourceUrl:d}=a,{isZoomed:c,enterZoom:u,exitZoom:m}=(0,oZ.RL)(s),x=(0,i9.NZ)(e),f=(0,o7.B)(i),b=(0,tv.u)("virtualizeEmbeds"),[v,y]=(0,R.useState)(!1),w=!r.$.GAMMA_PUPPETEER_SERVICE&&"inline"===o,C="inline"===o&&f.preferHtml&&(null==l?void 0:l.html),A=!x&&!n.isThumbnail,{handleOpenLinkWithInterstitial:j,handleOpenNativeLinkWithInterstitial:k,url:S}=oQ({attrs:a,inGallery:x,shouldDisableClick:w&&!x})||{},{inViewport:E,ref:L,dimensions:D}=oG();return b&&w&&!1===E&&!n.isThumbnail?(!0===v&&y(!1),(0,p.jsx)(g.u,{...e,as:"div",children:(0,p.jsx)(oW,{ref:L,dimensions:D})})):(0,p.jsxs)(g.u,{...e,as:"div",children:[(0,p.jsx)(h.a,{h:"100%",w:"calc(100% * var(--media-scale))",className:(0,I.cx)("embed-preview",!w&&oV.Gx),"data-export-as-image":!0,"data-export-link":d,position:"relative",overflow:C&&f.minWidth?"visible":"hidden",ref:L,children:n.isThumbnail?(0,p.jsx)(se.a6,{...e}):x?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o$,{enterZoom:u,url:S,handleOpenLink:k,handleOpenInNewTab:j}),(0,p.jsx)(se.x6,{...e})]}):w?(0,p.jsx)(oW,{isLoading:!v,dimensions:D,children:(0,p.jsx)(sm,{opacity:+!!v,position:"static",onLoad:()=>{y(!0)},...e})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o$,{enterZoom:u,url:S,handleOpenLink:k,handleOpenInNewTab:j}),(0,p.jsx)(se.Ch,{...e})]})}),A&&(0,p.jsx)(oZ.Gx,{isZoomed:c,exitZoom:m,editor:n,children:(0,p.jsx)(eh.s,{width:"var(--media-maxW)",height:"var(--media-maxH)",direction:"column",align:"center",justify:"center",children:(0,p.jsx)(sm,{onLoad:()=>{y(!0)},...e,isZoomed:!0})})})]})},sf=o.bP.create({name:"video",group:"block media",atom:!0,draggable:!0,selectable:!0,expandable:!0,addNodeView:()=>(0,c.gu)(sx,{update:u.z0}),addAttributes:()=>({id:(0,Z.e)(J.z),embedUrl:{},source:{},thumbnail:{...(0,q.tb)("thumbnail")},embed:{...(0,q.tb)("embed")},meta:{...(0,q.tb)("meta")},sourceUrl:{},displayStyle:{default:"inline"},fullWidthBlock:{default:!1},clickBehavior:{default:null}}),parseHTML:()=>[{tag:"div[class=video]"},{tag:"video[bookmark]",getAttrs:ep.Ll}],addStorage:()=>({bookmarks:{}}),renderHTMLforAI(e){let{node:t,disableBookmarks:n}=e;return n?["video",{src:(0,oB.lQ)(t)}]:["video",{bookmark:(0,ep.vL)(t)}]},renderHTML(e){let{HTMLAttributes:t,node:n}=e;return["div",(0,o.KV)(t,{class:"video"}),["a",{href:(0,oB.lQ)(n),target:"_blank"},(0,oB.JY)(n)]]}});var sb=n(80215);let sv=e=>{let{editor:t,node:n,getPos:a}=e,i=(0,R.useCallback)(()=>{t.commands.selectNodeAtPos(a()),t.chain().deleteSelectionAndSelectNear().run()},[t,a]),r=(0,sb.N_)(),l=n.attrs.layout;return{contextMenuItems:[...(0,tq.d)({editor:t,node:n,getPos:a}),{divider:!0},{key:"add-comment",label:(0,p.jsx)(eT.x6,{id:"oFsfkI"}),icon:eJ.DN2,onClick:()=>{t.commands.selectNodeAtPos(a()),(0,i9.wG)(t.state.selection)}},{divider:!0},{key:"layout",label:(0,p.jsx)(eT.x6,{id:"vR68Ol"}),icon:eJ.Qyz,items:Object.entries(r).map(e=>{let[i,r]=e;return{key:i,label:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(S.E,{children:r.title}),(0,p.jsx)(S.E,{fontSize:"xxs",color:"gray.500",children:r.description})]}),icon:i===l?eJ.e68:void 0,onClick:()=>{t.commands.selectNodeAtPos(a()),(0,sb.mF)(i,n.attrs,t,t.state.selection)}}})},{key:"add-image",label:(0,p.jsx)(eT.x6,{id:"pVb3uA"}),icon:eJ.HuL,onClick:()=>{t.commands.selectNodeAtPos(a()),(0,i9.hk)(a,t)}},{divider:!0},{key:"delete",label:(0,p.jsx)(eT.x6,{id:"cnGeoo"}),icon:eJ.yLS,onClick:i,color:"red.500"}]}},sy=(0,aP.P)(eh.s),sw=e=>{let{node:t,editor:n,getPos:a}=e,i=t.attrs,r=(0,eC.FX)(),l=(0,i9.yg)(e),o=0===l.length,s=(0,eB.rd)(),d=o?sr.Aj:r?sr.XJ:i.thumbHeight||sr.Aj,u=i.layout,h="grid"===u?i.dimensions||"square":void 0,m=(0,ic.lI)(i.horizontalAlign||"center"),{isZoomed:x,isZoomComplete:f,exitZoom:b,zoomedId:v,setZoomedId:y}=(0,oZ.$B)(l.map(e=>e.attrs.id)),w=(0,X.GV)(en.nD),C=(0,R.useRef)(null),A=(0,sc.z)(C,e=>(0,i9.HI)(n.view,e)),{onOpenContextMenu:j,onCloseContextMenu:k,menuProps:I}=(0,eA.$)({editor:n,getPos:a}),{contextMenuItems:L}=sv({editor:n,node:t,getPos:a}),D=(0,R.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),(0,i9.hk)(a,n)},[a,n]),M=(0,R.useCallback)(e=>{var t;n.isEditable&&(null==(t=e.target.closest(".gallery, .block"))?void 0:t.classList.contains("gallery"))&&n.commands.selectNodeAtPos(a())},[n,a]),_=(0,R.useMemo)(()=>"grid"===u?{overflow:"hidden",aspectRatio:"square"===h?"1":"landscape"===h?"4/3":"3/4"}:"logo"===u?{height:void 0}:{h:"".concat(d,"em"),flex:i.stretchFill||null===i.stretchFill?"1 1 auto":void 0},[u,h,d,i.stretchFill]),N=(0,R.useMemo)(()=>"grid"===u?{justifyContent:"center",display:"grid",gridTemplateColumns:1===l.length?"repeat(auto-fit, ".concat(i.thumbHeight,"em)"):l.length<6?i.thumbHeight>=sr.Vj/(1+.1*l.length)?"repeat(auto-fit, minmax(".concat(i.thumbHeight,"em, 1fr))"):"repeat(auto-fit, ".concat(i.thumbHeight,"em)"):"repeat(auto-fit, minmax(".concat(i.thumbHeight,"em, 1fr))"),gap:i.thumbHeight>=sr.Vj/2?"".concat(sr.I0,"em"):i.thumbHeight<=sr.Vj/3?"".concat(sr.I0/1.25,"em"):"".concat(sr.I0/1.5,"em")}:{gap:i.thumbHeight<=sr.Aj/3?"".concat(sr.I0/2,"em"):i.thumbHeight<=sr.Aj/2?"".concat(sr.I0/1.5,"em"):"".concat(sr.I0,"em"),display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",placeContent:m,w:l.length>=3&&(null===i.stretchFill||i.stretchFill)?"100%":void 0},[u,i.thumbHeight,i.stretchFill,m,l.length]);return(0,p.jsxs)(g.u,{...e,children:[(0,p.jsxs)(eh.s,{onContextMenu:w?j:void 0,className:"gallery",cursor:"default",onClick:M,ref:C,align:m,direction:"column",position:"relative","data-selection-ring":!0,"data-selection-background":!0,...o?A:{},css:{"--media-maxH":"flex"===u?"".concat(d,"em"):void 0,"--media-maxW":"100%"},w:"100%",sx:{".gallery-content":{w:"100%",display:"flex"===u?"contents":void 0},"[data-node-view-content-inner=gallery]":{...N,".block":{..._,["&.".concat(sl)]:{flex:"0 0 auto"},my:0,transitionProperty:"filter",transitionDuration:"normal",_hover:{[":not(.block-mediaPlaceholder) > :not(.".concat(su.T,")")]:{filter:"brightness(0.9)"}},"[data-node-view-wrapper]":{h:"100%"}},".block-mediaPlaceholder":{overflow:"visible"}},".block-gallery.is-focused & .placeholder":{bg:s?ih.N.DARK_GALLERY_BG:ih.N.LIGHT_GALLERY_BG},".placeholder":{minW:"flex"===u?"12em":"logo"===u?"6em":void 0,h:"logo"===u?(0,i9.w5)(i.thumbHeight,i.thumbSpacing):void 0}},children:[o?(0,p.jsxs)(nJ.T,{spacing:3,h:"".concat(d,"em"),justify:"center",contentEditable:!1,color:s?ih.N.DARK_COLOR:ih.N.LIGHT_COLOR,className:"gallery-placeholder","data-testid":"gallery-placeholder",userSelect:"none",children:[(0,p.jsx)(E.g,{size:"2x",icon:ap.yvG}),w?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(au.$,{size:"xs",onClick:D,onMouseDown:ei.Fw,children:"Add images"}),(0,p.jsx)(S.E,{color:s?ih.N.DARK_ICON_COLOR:ih.N.LIGHT_ICON_COLOR,fontSize:"sm",textAlign:"center",children:(0,p.jsx)(eT.x6,{id:"oyPIji"})})]}):null]}):(0,p.jsx)(c.$p,{className:"gallery-content"}),w&&!o&&(0,p.jsx)(eh.s,{position:"absolute",bottom:"0",h:"grid"===u||"logo"===u?"100%":"".concat(d,"em"),align:"center",w:6,insetEnd:-3,className:"add-image",opacity:"0",transitionProperty:"opacity",zIndex:"tooltip",transitionDuration:"normal",children:(0,p.jsx)(e_.Tz,{label:(0,p.jsx)(eT.x6,{id:"P5MuiB"}),placement:"top",children:(0,p.jsx)(lS.K,{icon:(0,p.jsx)(E.g,{icon:eJ.QLR}),"aria-label":eN.Ru._({id:"P5MuiB"}),position:"absolute",size:"xs",variant:"plain",isRound:!0,onClick:D})})}),(0,p.jsx)(T.A,{...e,handlePlacement:"outside",label:eN.Ru._({id:"wnA/4R"})}),(0,p.jsx)(ex.tz,{menuItems:L,isOpen:I.isOpen,position:I.position,onClose:k,size:"small"})]}),(0,p.jsx)(oZ._M,{isZoomed:x,isZoomComplete:f,exitZoom:b,zoomedId:v,setZoomedId:y,editor:n,children:l.filter(e=>e.attrs.id).map(e=>{let{id:t}=e.attrs,a=e.type.name;return{id:t,thumbnail:"image"===a?(0,p.jsx)(sp.F,{imageAttrs:e.attrs,objectFit:"cover",isThumbnail:!0}):(0,p.jsx)(se.x6,{node:e}),full:(0,p.jsx)(eh.s,{justify:"center",align:"center",h:"100%",w:"100%",children:"image"===a?(0,p.jsx)(sp.F,{isZoomed:!0,imageAttrs:e.attrs}):"video"===a?(0,p.jsx)(sy,{width:"var(--media-maxW)",height:"var(--media-maxH)",direction:"column",align:"center",justify:"center",children:(0,p.jsx)(sm,{isZoomed:!0,node:e,decorations:[],editor:n})}):(0,p.jsx)(sy,{h:"100%",w:"100%",direction:"column",justify:"center",align:"center",children:(0,p.jsx)(o8,{isZoomed:!0,node:e,decorations:[],editor:n})})})}})})]})},sC=o.bP.create({name:"gallery",group:"cardBlock layoutBlock",content:"media*",isolating:!0,draggable:!0,selectable:!0,priority:ec.y.Gallery,containerHandle:!0,expandable:!0,addNodeView:()=>(0,c.gu)(sw,{update:u.z0,ignoreMutation:lX.I}),addAttributes:()=>({thumbHeight:{default:sr.Aj},fullWidthBlock:{default:!1},layout:{default:"flex"},stretchFill:{},dimensions:{default:"square"},thumbSpacing:{default:sr.mj}}),addProseMirrorPlugins(){return[sd(this.editor)]},parseHTML:()=>[{tag:"div[class=gallery]"},{tag:"gallery"}],renderHTMLforAI(e){let{node:t}=e;return["gallery",{thumbHeight:t.attrs.thumbHeight},0]},renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,o.KV)(t,{class:"gallery"}),0]}});var sA=n(12354),sj=n(61250);let sk=o.YY.create({name:"media",addExtensions:()=>[J.p],addCommands:()=>({handleSpaceToZoom:()=>e=>{let{state:t}=e;if(t.selection instanceof t5.nh&&(0,oB.Bv)(t.selection.node)){let e=(0,X.KA)(),{id:n}=t.selection.node.attrs;return!!(n&&(0,sj.iZ)(n)(e.getState()))||(e.dispatch((0,en.a)({nodeId:t.selection.node.attrs.id})),!0)}return!1}})});var sS=n(89124),sI=n(22004),sE=n(12364),sR=n.n(sE);let sL=["paragraph","heading","title","bullet","numbered","todo","toggleSummary"],sD=o.YY.create({name:"placeholderText",addGlobalAttributes:()=>[{types:sL,attributes:{placeholder:{default:null,keepOnSplit:!1,rendered:!1}}}],addCommands:()=>({removeFilledPlaceholders:()=>e=>{let{tr:t,dispatch:n}=e;return!n||(t.doc.descendants((e,n)=>{e.attrs.placeholder&&e.textContent&&(console.debug("Removing placeholder",e.attrs.placeholder,"at",n,"with content",e.textContent),t.setNodeAttribute(n,"placeholder",null))}),!0)}}),onUpdate(){sM(this.editor)}}),sM=sR()(e=>{e.isEditable&&e.commands.removeFilledPlaceholders()},100,{maxWait:1e3});var s_=n(7631),sT=n(83370),sN=n(68469),sz=n(93298),sP=n(82592),sO=n(9118),sF=n(73247),sH=n(53615),sB=n(54958);let sV=new t5.hs("smartDiagram"),sW=e=>{let t=e.find(e=>e.spec.isSmartDiagramDecoration);return t?t.spec:{isSmartDiagramDecoration:!0,selectedKeyPath:void 0,isSelected:!1,layoutContainerSize:1}},sU=()=>new t5.k_({key:sV,props:{decorations(e){let{doc:t,selection:n}=e,a=[];return t.descendants((t,i)=>{if("smartDiagram"!==t.type.name)return;let r=(0,l5.JD)(e.doc.resolve(i)),{isSelected:l,selectedKeyPath:o}=sG(n,t);a.push(t3.NZ.node(i,i+t.nodeSize,{},{isSmartDiagramDecoration:!0,isSelected:l,selectedKeyPath:o,layoutContainerSize:r}))}),t3.zF.create(t,a)}}}),sG=(e,t)=>e instanceof t5.nh&&e.node===t?{isSelected:!0}:e instanceof sB.n&&e.node===t?{isSelected:!0,selectedKeyPath:e.keyPath}:{isSelected:!1,selectedKeyPath:void 0};var sK=n(44245);class sQ extends R.Component{static getDerivedStateFromError(e){return{hasError:!0,errMessage:e.message}}componentDidCatch(e,t){console.error("BlockErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?(0,p.jsx)(h.a,{fontFamily:"monospace",p:"1em",bg:"red.500",color:"white",borderRadius:"var(--box-border-radius)",fontSize:"1em",children:"Error rendering block: "+this.state.errMessage}):this.props.children}constructor(e){super(e),this.state={hasError:!1,errMessage:""}}}let sZ=e=>{let{node:t}=e,{templateKey:n,aiGenerateStatus:a,data:i}=t.attrs;if(!(0,iK.En)())return null;if("queued"===a||!n)return(0,p.jsx)(g.u,{...e,children:(0,p.jsx)(el.Pf,{isLoading:!0,loadingProvider:"aiGenerated",borderRadius:"var(--box-border-radius)",h:"10em"})});let r=n?(0,sK.FV)(n):void 0;return r&&("error"!==a||i)?(0,p.jsx)(g.u,{...e,children:(0,p.jsx)(sQ,{errorMessage:"Unable to render smart diagram",children:(0,p.jsx)(sq,{...e,template:r})})}):(0,p.jsx)(g.u,{...e,children:(0,p.jsx)(el.Pf,{hasUploadError:!0,borderRadius:"var(--box-border-radius)",h:"10em"})})},sq=e=>{let{node:t,editor:n,decorations:a,updateAttributes:i,getPos:r,template:l}=e,o=t.attrs,{data:s,horizontalAlign:d,showIcons:c}=o,u=l.Component,h=(0,X.GV)(en.nD),g=(0,X.GV)(en.SJ),{isSelected:m,selectedKeyPath:x,layoutContainerSize:f}=sW(a),b=n.isFocused,v=(0,R.useCallback)(e=>{let t=r();try{var a;let i=null==(a=n.state.doc.nodeAt(t))?void 0:a.attrs,r=null==i?void 0:i.data;if(!r)return;let l=JSON.parse(JSON.stringify(r)),o=e(l);if(JSON.stringify(o)===JSON.stringify(r))return;let s=n.state.tr;s.setNodeAttribute(t,"data",o).setSelection(t5.LN.fromJSON(s.doc,n.state.selection.toJSON())),n.view.dispatch(s)}catch(e){console.error("Error updating smart diagram data",e)}},[r,n]),y=(0,R.useCallback)(e=>{let t=null==e?void 0:e.target;if(null==t||!t.closest("[data-in-editor-focus]"))try{n.commands.selectNodeAtPos(r())}catch(e){console.error("Error selecting node",e)}},[r,n]),w=(0,R.useCallback)(e=>{i({...t.attrs,...e}),y()},[t.attrs,i,y]),C=(0,R.useCallback)(e=>{let t=r(),a=n.state.doc.resolve(t),i=new sB.n(a,e);n.view.dispatch(n.state.tr.setSelection(i))},[r,n]),A=(0,ic.fZ)(a,d),j=(0,ic.Up)(a);return(0,p.jsx)(u,{data:s,theme:g,updateData:v,updateResizeAttrs:w,selectItem:C,selectNode:y,editor:n,isNodeSelected:!!(m&&!x&&b),selectedKeyPath:null!=x?x:null,alignDirection:A,svgDirection:j,isEditable:h,attrs:o,layoutContainerSize:f,showIcons:c})},sJ=o.bP.create({name:"smartDiagram",group:"block",isolating:!0,defining:!0,atom:!0,selectable:!0,addAttributes:()=>({id:(0,Z.e)(J.z),templateKey:{default:null},data:{default:{},...(0,q.tb)("data")},width:{default:null},showIcons:{default:!0},aiGenerateParams:{default:null,...(0,q.tb)("aiGenerateParams")},aiGenerateStatus:{default:null}}),renderHTML(e){let{HTMLAttributes:t}=e;return["div",(0,o.KV)(t,{class:"smart-diagram"})]},renderHTMLforAI(e){let{node:t,HTMLAttributes:n}=e;return["smart-diagram",{...n,"data-data":void 0},JSON.stringify(t.attrs.data,null,2)]},parseHTML:()=>[{tag:"div[class=smart-diagram]"},{tag:"smart-diagram[".concat(K.A,"]"),getAttrs:Q.K},{tag:"smart-diagram",getAttrs:e=>{let t=e.textContent;if(!t)return!1;try{return{data:JSON.parse(t)}}catch(e){return!1}}}],addNodeView:()=>(0,c.gu)(sZ,{update:u.z0}),addProseMirrorPlugins:()=>[sU()],addCommands(){return{insertSmartDiagram:e=>{let{attrs:t,selectedText:n,allowGeneration:a=!0}=e;return e=>{let{chain:i,state:r}=e,l=(0,X.KA)().getState(),s=(0,sT.Wt)("locale")(l)||(0,sF.J)(),d=(0,sO.xt)(s),{selection:c}=r,u=(0,o.KP)(e=>"smartLayout"===e.type.name)(c),p=(0,o.eL)(r.doc.resolve(c.from),e=>"gridLayout"===e.type.name),h=c.from,g=u||p;g&&(h=g.pos+g.node.nodeSize);let m=n;if(!n&&a){let e=(0,sH.s6)(r.doc,Math.max(c.from-1e3,0),c.from),t=(0,sz.p9)(e).slice(-200);m=(0,sz.$0)(t)}let x={aiGenerateParams:{prompt:"Generate a smart diagram based on the following text: ".concat(m),language:d},aiGenerateStatus:"queued"};return i().insertContentAt(h,{type:this.name,attrs:{...t,templateKey:t.templateKey,id:(0,J.z)(),...a?x:{}}}).selectInsertedNode().command(e=>{let{state:t,tr:n}=e,a=n.selection.from,i=t.doc.nodeAt(a),r=(0,o.eL)(t.doc.resolve(a),tD.jg);return!!i&&!!r&&((0,sP.CP)({editor:this.editor,rootNode:r.node,interactionId:(0,sN.$)()}),!0)}).run()}},updateSmartDiagramData:(e,t,n)=>a=>{let{chain:i}=a;return i().updateAttributeKeyPathAtPos(e,"data."+t,n).run()}}}});var s$=n(95663),sY=n(35616),sX=n(61964);let s0=o.YY.create({name:"TableCommands",addCommands:()=>({selectColumn:e=>t=>{let{tr:n,dispatch:a}=t;if(!a)return!0;let{doc:i}=n,r=i.resolve(e),l=sX.rn.colSelection(r);return n.setSelection(l),!0},selectRow:e=>t=>{let{tr:n,dispatch:a}=t;if(!a)return!0;let{doc:i}=n,r=i.resolve(e),l=sX.rn.rowSelection(r);return n.setSelection(l),!0},selectTable:e=>t=>{let{tr:n,dispatch:a}=t;if(!a)return!0;let{doc:i}=n,r=i.resolve(e),l=sX.rn.colSelection(r),o=sX.rn.rowSelection(l.$anchorCell,l.$headCell);return n.setSelection(o),!0}})}),s1=o.bP.create({name:"tableCell",addOptions:()=>({HTMLAttributes:{}}),content:"(block | tableBlock)+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1}}),tableRole:"cell",isolating:!0,selectable:!1,parseHTML:()=>[{tag:"td"},{tag:"th"}],renderHTML(e){let{HTMLAttributes:t}=e;return["td",(0,o.KV)(this.options.HTMLAttributes,t),0]}}),s2=e=>(0,p.jsxs)(c.VR,{className:"table-row-wrapper",style:{display:"contents"},children:[(0,p.jsx)("th",{style:{position:"relative",padding:0},children:(0,p.jsx)(s4,{...e})}),(0,p.jsx)(c.$p,{as:"div",className:"table-row-content",style:{display:"contents"}})]}),s4=(0,R.memo)(e=>{let{...t}=e,{getPos:n,editor:a}=t;return(0,p.jsx)(eh.s,{height:"100%",align:"center",contentEditable:!1,suppressContentEditableWarning:!0,children:(0,p.jsx)(T.A,{...t,handlePlacement:"custom",label:eN.Ru._({id:"9c44h0"}),onClick:()=>{let e=n()+1;a.chain().focus().selectRow(e).run()},insetInlineStart:"-0.5em",top:"1em",zIndex:"3","data-testid":"table-row-control"})})});s4.displayName="RowControl";let s6=o.bP.create({name:"tableRow",addOptions:()=>({HTMLAttributes:{}}),selectable:!1,content:"tableCell+",tableRole:"row",containerHandle:!0,addNodeView:()=>(0,c.gu)(s2,{update:u.z0,as:"tr"}),parseHTML:()=>[{tag:"tr"}],renderHTML(e){let{HTMLAttributes:t}=e;return["tr",(0,o.KV)(this.options.HTMLAttributes,t),0]}});var s5=n(97984),s3=n(82059),s9=n(80274),s7=n(53891);let s8=()=>new t5.k_({key:new t5.hs("TogglePlugin"),props:{handlePaste(e,t,n){let{selection:a,tr:i}=e.state,r=(0,o.KP)(s7.Rv)(a);if(!r)return!1;let l=null,s=null,d=[];if(n.content.descendants(e=>{e.isTextblock&&(l?d.push(e):(l=e.content,s=(0,s9.NA)(e)||null))}),!l)return;s&&i.setNodeAttribute(r.pos,"fontSize",s),i.replaceSelection(tm.Ji.maxOpen(l));let c=i.mapping.map(r.pos+r.node.nodeSize);i.replaceRange(c,c,tm.Ji.maxOpen(tm.FK.fromArray(d)));let u=(0,l0.i)(i,-1);return u&&i.setSelection(u),e.dispatch(i),!0},decorations(e){let{doc:t}=e,n=[];return t.descendants((e,t,a)=>{if(!a||!(0,s7.Rv)(e))return;let i=(0,q.F2)(a.content).slice(1).every(e=>(0,q.Op)(e)),r=t3.NZ.node(t,t+e.nodeSize,{},{isToggleDecoration:!0,toggleId:a.attrs.id,isEmpty:i});n.push(r)}),t3.zF.create(t,n)}}}),de=e=>{var t;return(null==(t=e.find(e=>e.spec.isToggleDecoration))?void 0:t.spec)||{}},dt="1.5em",dn=e=>{let{node:t,decorations:n}=e,{level:a,fontSize:i,placeholder:r,horizontalAlign:l}=t.attrs,{toggleId:o="",isEmpty:s}=de(n),d=(0,ic.yp)(l),u=(0,ic.fZ)(n),[h]=(0,l4.yz)(u),m=(0,X.GV)(en.nD),x=(0,X.GV)(en.jO),f=(0,X.GV)((0,en.q)(o))||x,b=(0,R.useCallback)(()=>{(0,s7.bG)(o,!f)},[o,f]);return(0,p.jsx)(g.u,{...e,hideComments:!f,children:(0,p.jsxs)(S.E,{as:"div",dir:u,display:"flex",flexDirection:"column",position:"relative",onClick:m?void 0:b,cursor:m?void 0:"pointer",style:{display:"flex",flexDirection:"column",...(0,ic.yp)(l)},children:[(0,p.jsx)(au.$,{[h]:"calc(0.125em - ".concat(dt,")"),position:"absolute",variant:"ghost",colorScheme:"gray",color:s?"var(--body-color-muted)":"var(--body-color)",onClick:m?b:void 0,contentEditable:!1,onMouseDown:ei.Fw,fontSize:"1em",lineHeight:"inherit",height:"100%",px:2,marginStart:-2,minW:"unset","data-testid":"toggle-button",children:(0,p.jsx)(S.E,{transform:"rotate(".concat(f?90:180*("rtl"===u),"deg)"),transformOrigin:"center",transitionProperty:"transform",transitionDuration:"normal",fontSize:"0.75em",children:(0,p.jsx)(E.g,{icon:eM.ijD})})}),(0,p.jsx)(c.$p,{dir:u,level:a,"data-placeholder":r||eN.Ru._({id:"JFciKP"}),"data-font-size":i,className:(0,I.cx)((0,s9.Ii)(i)&&L.U6),style:{minWidth:"min(100%, 10em)",textAlign:d.textAlign,...(0,ic.O8)(l)}})]})})},da=o.bP.create({name:"toggleSummary",content:"inline*",selectable:!1,marks:"bold italic underline code footnoteLabel strike textColor highlight",allowFontSizes:"heading body",addAttributes:()=>({fontSize:lo.mD}),addNodeView:()=>(0,c.gu)(dn,{update:u.z0}),renderHTML(e){let{HTMLAttributes:t}=e;return["summary",t,0]},parseHTML:()=>[{tag:"summary"}]}),di=e=>{let{decorations:t,node:n}=e,a=(0,ic.fZ)(t),[i]=(0,l4.yz)(a),r=(0,X.GV)(en.jO),l=(0,X.GV)((0,en.q)(n.attrs.id))||r;return(0,p.jsx)(g.u,{...e,hideComments:l,readOnly:!l,children:(0,p.jsxs)(h.a,{dir:a,ps:dt,position:"relative","data-open":!!l,className:"toggle",borderRadius:"var(--box-border-radius)","data-selection-ring":"padded",children:[(0,p.jsx)(c.$p,{}),l&&(0,p.jsx)(h.a,{position:"absolute",[i]:"0.375em",bottom:"0.25em",top:"2.5em",borderStart:"1px solid",borderColor:"var(--neutral-border-color)"})]})})};var dr=n(55860);let dl=/^\s*([+])\s$/,ds=o.bP.create({name:"toggle",group:"layoutBlock calloutBlock cardBlock smartLayoutBlock tableBlock",content:"toggleSummary (block | layoutBlock)+",selectable:!1,isolating:!0,priority:ec.y.Toggle,expandable:!0,addNodeView:()=>(0,c.gu)(di,{update:u.z0}),addProseMirrorPlugins:()=>[s8()],addAttributes:()=>({id:(0,Z.e)(dr.n)}),addInputRules(){var e;return[(e={find:dl,innerType:this.editor.schema.nodes.toggleSummary,outerType:this.type,getInnerAttributes:e=>({fontSize:(0,s9.NA)(e)}),getOuterAttributes:()=>{let e=(0,dr.n)();return(0,s7.bG)(e,!0),{id:e}}},new o.fV({find:e.find,handler:t=>{let{state:n,range:a,match:i}=t,r=n.doc.resolve(a.from);if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),e.outerType))return;let l=(0,o.gk)(e.getOuterAttributes,void 0,r.parent)||{},s=(0,o.gk)(e.getInnerAttributes,void 0,r.parent)||{},d=n.tr.delete(a.from,a.to),c=d.doc.resolve(a.from),u=c.parent,p=e.outerType.createAndFill(l,[e.innerType.create(s,u.content)]);d.replaceWith(c.before(),c.after(),p);let h=(0,l0.n)(d.doc.resolve(a.from));h&&d.setSelection(h)}}))]},addCommands(){var e=this;return{unwrapToggle:()=>e=>{let{state:t,editor:n,tr:a}=e;if(!n.isActive("toggleSummary"))return!1;let{selection:i,schema:r}=t,l=(0,o.KP)(s7.p8)(i);if(!l||l.start+1!==i.from||!i.empty)return!1;let s=(0,q.F2)(l.node.content),d=s[0],{type:c,level:u}=(0,s9.o)(d.attrs.fontSize),p=["heading"===c?r.nodes.heading.create({level:u},d.content):r.nodes.paragraph.create({fontSize:d.attrs.fontSize},d.content)].concat(s.slice(1));a.replaceWith(l.pos,l.pos+l.node.nodeSize,tm.FK.from(p)).setMeta("annotationEvent",{type:"unwrap-node",pos:l.pos});let h=a.doc.resolve(l.pos),g=(0,ls.s)(h);return g&&a.setSelection(g),!0},joinBackwardInToggle:()=>e=>{let{state:t,editor:n,chain:a}=e;if(n.isActive("toggleSummary"))return!1;let{selection:i}=t,r=(0,o.KP)(s7.p8)(i);if(!r)return!1;let l=(0,q.F2)(r.node.content).slice(1);return!!i.empty&&0===i.$from.parentOffset&&1===l.length&&(a().command(e=>{let{tr:t}=e,a=t.doc.resolve(r.pos+1).end();return t.insert(a,n.schema.nodes.paragraph.create()),!0}).joinBackward(),!0)},wrapWithToggle:function(t){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return a=>{let i,{state:r,tr:l}=a,{doc:o,selection:s,schema:d}=r,c=s.$from.blockRange(s.$to);if(!c)return!1;let u=[];o.nodesBetween(s.from,s.to,(e,t,n)=>{if(n===c.parent)return u.push(e),!1});let p=[];if(!t&&u[0].isTextblock&&u[0].textContent.length<100){let e=(0,s9.NA)(u[0]);i=d.nodes.toggleSummary.create({fontSize:e},u[0].content),p=u.slice(1)}else{let e=t?d.text(t):null;i=d.nodes.toggleSummary.create(null,e),p=u}let h=(0,dr.n)();n&&(0,s7.bG)(h,!0);let g=e.editor.schema.nodes.toggle.createAndFill({id:h},tm.FK.fromArray([i,...p]));if(!g)return!1;let{start:m,end:x}=c;l.replaceRangeWith(m,x,g).setMeta("annotationEvent",{type:"wrap-nodes",start:m,end:x,level:1});let f=(0,ls.t)(l);if(!f)return!1;let b=(0,ls.s)(f,-1);return b&&l.setSelection(b),!0}},enterInToggle:()=>e=>{let{editor:t,state:n,chain:a}=e;if(!t.isActive("toggle"))return!1;let i=(0,o.KP)(s7.p8)(n.selection);if(!i||(0,s7.vb)(i.node.attrs.id))return!1;let{selection:r}=t.state,{$from:l}=r;if(l.parentOffset===l.parent.nodeSize-2){let e=i.pos+i.node.nodeSize;return a().insertContentAt(e,{type:"paragraph"}).selectInsertedNode().run(),!0}return(0,s7.bG)(i.node.attrs.id,!0),!0}}},addKeyboardShortcuts:()=>({Enter:e=>{let{editor:t}=e;return t.commands.enterInToggle()},Backspace:e=>{let{editor:t}=e;return t.commands.first(e=>{let{commands:t}=e;return[()=>t.unwrapToggle(),()=>t.joinBackwardInToggle()]})}}),addExtensions:()=>[dr.D,da],renderHTML(e){let{HTMLAttributes:t}=e;return["details",t,0]},parseHTML:()=>[{tag:"details"}]}),dd=n(99696).A.extend({parseHTML:()=>[{tag:"u"},{style:"text-decoration=underline"},{style:"text-decoration-line=underline"}]});var dc=n(95017);let du=function(){let{isInnerEditor:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[rV,rW,rG.T,V.Zp,G.QJ.configure({enabled:!r.$.GAMMA_PUPPETEER_SERVICE}),W.iM,U.N,ng,t4,es,nU,nO,dc.n,i.E,lK.B,oE.N.configure({openOnClick:!1}),iV,rS.z,y,l$,dd,s$.n,oL.B8,oR.D,oD.R,oO,s3.h,lQ.DZ,sI.f,x,B,iB.N,ic.wq,s5.f,w.$,j,s5.r,lo.Z4,sD,sY.X.extend({resizable:!0,allowTableNodeSelection:!0}),s6,s1,s0,iF,sk,el.Ud,sA._V,sf,si,li,re,sC,sS.M9,sS.BF,sS.lw,nb.Hf,ro,oS,or,l2.o,l8,sJ,lU,lB,iJ,an,ds,lr,eI.h,l.a,ll,tA.B,r1,a.v,s_.a,lY.A_.configure({addSelectionKeyMaps:!e}),lY.Q4]}},64642:(e,t,n)=>{"use strict";n.d(t,{B:()=>d,s:()=>s});var a=n(59018),i=n.n(a),r=n(68986),l=n(65148),o=n(41710);let s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.q;return i()([e,...t]).slice(0,n)},d=e=>{try{let t=r.x.getItem(l.E.recentlyUsedCardTemplateIds),n=t?JSON.parse(t):[];if(Array.isArray(n)&&n.every(e=>"string"==typeof e)){let t=s(e,n);r.x.setItem(l.E.recentlyUsedCardTemplateIds,JSON.stringify(t))}}catch(e){}}},64811:(e,t,n)=>{"use strict";n.d(t,{r:()=>a});let a=["tel","mailto"]},64895:(e,t,n)=>{"use strict";n.d(t,{IV:()=>p,Uc:()=>c,XC:()=>m,c9:()=>u,jF:()=>x});var a=n(22905),i=n(15902),r=n(15607),l=n(23513),o=n(94922),s=n(71737),d=n(47665);let c=(e,t,n)=>{let a=t.doc.resolve(e),r=t.doc.nodeAt(e),o=e+a.nodeAfter.nodeSize,c=t.doc.resolve(o),u=t.doc.nodeAt(o);if(!u||!(0,d.jg)(u))return!1;let h=r&&(0,s.eh)(r),x=(0,s.eh)(u),f=null;x&&(f=h?m(t.doc,a.pos,!0):r?a.pos+r.nodeSize-1:null);let b=p(t,o);if(!b)return!1;t.delete(o,o+u.nodeSize);let v=g(t,e,!0);if(f&&x){let e=(0,s.PD)(c);if(e){let n=h?e.node.content:e.node;t.insert(f,n),t.setMeta("cardNotesHandled",!0)}}t.insert(v,b.node.content);let y={type:"merge-cards",contentPos:b.pos,insertPos:v};if(t.setMeta("annotationEvent",y),n.selection instanceof i.n){let e=(0,l.n)(t.doc.resolve(v));e&&t.setSelection(e)}return!0},u=(e,t)=>{let n=t.doc.resolve(e);if(!n.nodeBefore)return!1;let a=e-n.nodeBefore.nodeSize,i=t.doc.nodeAt(a);if(!i||!(0,d.jg)(i))return!1;let r=(0,s.eh)(i),o=n.nodeAfter&&(0,s.eh)(n.nodeAfter),c=null;o&&(c=r?m(t.doc,a,!0):a+i.nodeSize-1);let u=p(t,e);if(!u)return!1;t.delete(e,e+n.nodeAfter.nodeSize);let h=g(t,a,!0);if(c&&o){let e=(0,s.PD)(n);if(e){let n=r?e.node.content:e.node;t.insert(c,n),t.setMeta("cardNotesHandled",!0)}}t.insert(h,u.node.content);let x=(0,l.n)(t.doc.resolve(h));x&&t.setSelection(x);let f={type:"merge-cards",contentPos:u.pos,insertPos:h};return t.setMeta("annotationEvent",f),!0},p=(e,t)=>{let n=(0,o.dg)(e,t);return 0===Object.entries(n).length?{node:e.doc.nodeAt(t),pos:t}:n.body||null},h=e=>{let t=(0,r.IV)(e,e=>"cardLayoutItem"===e.type.name&&"body"===e.attrs.itemId||"card"===e.type.name);return 0===t.length?null:t[0]},g=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(0,o.dg)(e,t),i=e.doc.resolve(t);if(0===Object.entries(a).length)return n?i.doc.resolve(i.start(i.depth+1)).end():t+1;if(!a.body)throw Error("Could not find card body at cardPos=".concat(t));let r=e.doc.resolve(a.body.pos);return n?r.doc.resolve(r.start(r.depth+1)).end():r.pos+1},m=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.resolve(t),i=(0,s.PD)(a);if(!i)return null;let r=e.resolve(i.pos);return n?r.doc.resolve(r.start(r.depth+1)).end():r.pos+1},x=(e,t)=>{if(!e.empty)return!1;let n=e instanceof i.n;if(!(0,a.eE)(e)&&!n)return!1;let{from:r,$from:l}=e;if(!t&&0!==l.parentOffset||t&&l.parentOffset!==l.parent.content.size)return!1;let o=h(l);if(!o)return!1;if(n)return t?r===o.pos+o.node.nodeSize-1:r===o.pos+1;let s=["paragraph","heading","title"],c=!0;for(let e=l.depth;e>0;e--){let t=l.node(e);if("card"===t.type.name||(0,d.sw)(t))break;if(!s.includes(t.type.name)){c=!1;break}}return!!c&&(t?r===o.pos+o.node.nodeSize-2:r===o.pos+2)}},64961:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});let a=new(n(83747)).b},65273:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var a=n(55729),i=n(34832),r=n(9118),l=n(30286),o=n(15342),s=n(42721),d=n(11403);let c={},u=e=>{let[t,n]=(0,a.useState)([]),[u,h]=(0,a.useState)("ready"),{generate:g}=(0,i.pt)("SuggestImageEdits",{onStart(){h("generating"),n([])},onContent(e){n(p(e))},onComplete(e){n(p(e)),h("done")},onError(e){console.error("Error generating suggestions",e),h("error")},timeout:2e4}),m=(0,o.GV)(l.H6),x=(0,r.xt)(m),f=(0,a.useCallback)(()=>{var t;let a=(0,s.gx)(),i=null==e||null==(t=e.src)?void 0:t.split(".").pop();if(!(null==e?void 0:e.src)||!a||!i)return void n([]);let r=c[e.src];if(r){n(r),h("done");return}let{promise:l}=g({variables:{imageUrl:e.src,originalPrompt:e.query,language:x.englishName},workspaceId:a});l.then(t=>{c[e.src]=p(t)}),l.catch(e=>{console.error("Error generating suggestions",e),n([]),h("error")})},[g,e,x]);return(0,d.Vg)(()=>{f()},[e.src,f],[e.src]),{suggestions:t,generateSuggestionsStatus:u}},p=e=>e.split("\n").filter(Boolean)},65280:(e,t,n)=>{"use strict";n.d(t,{K:()=>w,T:()=>C});var a=n(6029),i=n(46898),r=n(19564),l=n(9922),o=n.n(l),s=n(55729),d=n(74158),c=n(68301),u=n(64084),p=n(15342),h=n(24573),g=n(43182),m=n(47665),x=n(72492);let f="cardsToCopy",b=e=>{sessionStorage.setItem(f,JSON.stringify(e))},v=()=>{let e=sessionStorage.getItem(f);if(!e)return null;let t=JSON.parse(e);return t?(y(),t):null},y=()=>{sessionStorage.removeItem(f)},w=()=>{let e=(0,i.d)(),t=(0,c.u)("copyCardsToDeck");return(0,s.useCallback)(n=>{if(t)try{let t=v();if((null==t?void 0:t.length)>0){let i=(0,u.gM)((0,p.KA)().getState()),l=(0,m.W0)(n,i);if(!l)return;let{pos:o}=l,s=n.view.state.doc.nodeAt(o);if(!s)return void console.error("[Copy cards] Cannot append card. Node unknown");let d=o+s.nodeSize;n.chain().insertContentAt(d,t).scrollIntoView().run(),e({title:(0,a.jsx)(r.x6,{id:"7f15EI",values:{0:t.length}}),status:"success",duration:3e3,position:"top"})}}catch(e){console.error("[Copy cards] Error inserting cards to copy",e)}},[t,e])},C=()=>{let e=(0,d.wA)(),t=(0,c.u)("copyCardsToDeck");return(0,s.useCallback)(n=>{if(!t)return;let a=n.map(e=>(0,x.RE)(o()(e.toJSON()))).map(e=>(0,g.iM)(e));e((0,h.q8)({isOpen:!0,onSelectDoc:()=>{b(a)}}))},[t,e])}},65421:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var a=n(68301);function i(){return a.of.get("aiGeneratedImagesDefaultModel")}},65674:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var a=n(63867),i=n(71839);let r=(e,t)=>new a.k_({key:new a.hs("".concat(e.name,"_markview")),props:{nodeViews:{[e.name]:(n,a,r,l)=>(0,i.g)(t,{as:"span"})({editor:e.editor,node:n,getPos:r,decorations:l,extension:{name:e.name,type:e.type.name,options:e.options,storage:e.storage},HTMLAttributes:{}})}}})},65950:(e,t,n)=>{"use strict";n.d(t,{N:()=>m});var a=n(6029),i=n(40452),r=n(26420),l=n(55729),o=n(15342),s=n(91792),d=n(55670),c=n(77387),u=n(36512),p=n(43634),h=n(11818),g=n(94920);let m=e=>{let{cardId:t,zoomIn:n,shouldFixHeight:m,hidden:f,...b}=e,{setNavItemPreviewRef:v}=(0,g.U)(),y=(0,o.GV)(p.SJ),w=(0,d.S)(y,!1),C=(0,s.rd)(),A=(0,h.NC)(y),j=(0,l.useRef)(null),k=x(j);return(0,l.useEffect)(()=>{j.current&&(m?j.current.style.height="".concat(j.current.offsetHeight,"px"):j.current.style.height="")},[m]),(0,a.jsxs)(i.s,{ref:j,className:"filmstrip-nav-item-wrapper",sx:c.o,css:{"--editor-font-size":"calc(var(--editor-width) / ".concat(u.s5,")"),"--thumbnail-min-height":"calc(var(--editor-width) * 0.4)"},justifyContent:"center",overflow:"hidden",pointerEvents:"none",bg:C?"gray.800":"gray.50",minH:"var(--thumbnail-min-height)",maxH:"calc(var(--editor-width) * 1.777)",w:"var(--editor-width)",...b,children:[k?(0,a.jsx)(r.a,{pos:"absolute",bottom:"-1px",insetStart:0,w:"100%",h:"25%",bg:A,zIndex:1,css:{maskImage:"linear-gradient(to bottom, transparent 0%, black 90%)"}}):null,(0,a.jsx)("div",{className:"ProseMirror",children:(0,a.jsx)(i.s,{className:"doc-content-wrapper",transform:n?"scale(2)":void 0,transformOrigin:n?"center left":void 0,direction:"column",align:"center",sx:w,inert:"true",bg:C?"gray.700":"white",opacity:f?.4:1,height:"100%",children:(0,a.jsx)("div",{style:{width:"100%"},ref:e=>{e&&v(t,e)}})})})]})};m.displayName="PreviewCard";let x=e=>{if(!e.current)return;let t=e.current.querySelector(".doc-content-wrapper");if(t)return t.offsetHeight>1.1*e.current.offsetHeight}},65978:(e,t,n)=>{"use strict";n.d(t,{p:()=>h,V:()=>p});var a=n(6029),i=n(26420),r=n(58959),l=n(40452),o=n(55729),s=n(84431),d=n(58297),c=n(5061);let u=(0,o.memo)(e=>{let{nodeName:t}=e,n=(0,c.fW)();return(0,a.jsx)(d.j,{contentEditable:!1,userSelect:"none",insetEnd:0,size:4,transform:"translate(calc(".concat("calc(".concat("gridLayout"===t||"gallery"===t?"-1 * var(--grid-padding)":"0px"," + var(--comment-padding) + 50%)")," * ").concat(n?"-1":"1","),calc(50%)) scale(1)"),position:"absolute",bgGradient:"linear(to-b, yellow.200, yellow.300)",border:"1px solid white",shadow:"0 0 0 1px rgb(0 0 0 / 10%)",className:"block-comments-circle",zIndex:"1"})});u.displayName="BlockCommentsCircle";let p="comments-wrapper",h=(0,o.forwardRef)(function(e,t){let{nodeName:n,isPopupOpen:o,onKeyDown:d,buttonRef:c,isMobile:h,hasCommentsOrReactions:g,children:m,isEmpty:x,...f}=e;return(0,a.jsxs)(i.a,{ref:t,contentEditable:!1,suppressContentEditableWarning:!0,pointerEvents:"none","data-comments-wrapper":!0,"data-is-popup-open":o,className:p,alignSelf:"start",onKeyDown:d,"data-print-hidden":!0,children:[!x&&!h&&(0,a.jsx)(u,{nodeName:n}),(0,a.jsx)(r.z,{contentEditable:!1,suppressContentEditableWarning:!0,...h?g?{pt:4}:{}:{position:"absolute",ms:"100%",top:0,height:"100%",align:"flex-start"},className:"controls-wrapper controls-wrapper__".concat(n),children:(0,a.jsx)(l.s,{direction:"row",ref:c,contentEditable:!1,suppressContentEditableWarning:!0,transitionProperty:"common",transitionDuration:"fast",zIndex:o?s.$.commentsStackOpen:s.$.commentsStack,"data-controls-toggle-button":!0,ms:[0,"-17px"],...f,children:m})})]})})},66048:(e,t,n)=>{"use strict";n.d(t,{o:()=>q});var a=n(6029),i=n(55729),r=n(45460),l=n(66199),o=n(48478),s=n(40452),d=n(58959),c=n(33787),u=n(48810),p=n(74676),h=n(8527),g=n(83638),m=n(78140),x=n(36999),f=n(49611),b=n(12514),v=n(94740),y=n(59272),w=n(41283),C=n(37930),A=n(6760),j=n(18078),k=n(99492),S=n(55597),I=n(48621),E=n(19564),R=n(58809),L=n(28630),D=n(39892),M=n(89528),_=n(84287),T=n(11390),N=n(15342),z=n(95889),P=n(29608),O=n(57405),F=n(26420),H=n(77650),B=n(55775),V=n(30892);let W=e=>{let{numSegments:t,numFilledSegments:n,startColor:i,endColor:r}=e,[l,o]=(0,B.rd)("colors",[i,r||i]);return(0,a.jsx)(s.s,{gap:1,w:"full",alignItems:"center",children:Array.from({length:t}).map((e,i)=>{let r=i<n?(0,V.tV)(l,o,t>1?i/(t-1):0):"gray.200";return(0,a.jsx)(F.a,{h:1.5,borderRadius:"sm",flex:1,bg:r,transition:"background 0.2s ease-in-out"},i)})})},U=(0,i.memo)(e=>{let{label:t,description:n,image:i,popoverImage:r,bestStyle:l,bestType:o,speed:s}=e;return(0,a.jsxs)(O.T,{align:"stretch",p:4,spacing:4,children:[(0,a.jsxs)(F.a,{position:"relative",children:[r&&(0,a.jsx)(c._,{src:r.src,alt:t(),borderRadius:"lg",objectFit:"cover",height:"140px",width:"250px"}),(0,a.jsx)(F.a,{position:"absolute",backgroundColor:(0,V.$3)("black",.4),bottom:2,left:2,p:1,borderRadius:"sm",children:(0,a.jsx)(u.E,{color:"gray.50",fontSize:"xs",fontWeight:"medium",lineHeight:"normal",children:H.Ru._({id:"HmI5oK"})})})]}),(0,a.jsxs)(O.T,{align:"stretch",spacing:3,children:[(0,a.jsxs)(d.z,{spacing:2,children:[(0,a.jsx)(c._,{src:i.src,w:"20px",h:"20px",objectFit:"contain"}),(0,a.jsx)(u.E,{fontWeight:"semibold",fontSize:"md",color:"gray.700",children:t()})]}),(0,a.jsx)(u.E,{fontSize:"xs",color:"gray.500",fontWeight:"medium",children:n()}),(0,a.jsxs)(F.a,{children:[(0,a.jsx)(u.E,{fontSize:"xs",color:"gray.400",fontWeight:"semibold",mb:2,children:(0,a.jsx)(E.x6,{id:"l9wI00"})}),(0,a.jsx)(W,{numSegments:4,numFilledSegments:s,startColor:"deepocean.300",endColor:"deepocean.600"})]}),(0,a.jsxs)(F.a,{children:[(0,a.jsx)(u.E,{fontSize:"xs",color:"gray.400",fontWeight:"semibold",mb:1,children:(0,a.jsx)(E.x6,{id:"uvPTBJ"})}),(0,a.jsxs)(O.T,{align:"stretch",spacing:1,children:[(0,a.jsxs)(d.z,{spacing:2,children:[(0,a.jsx)(I.g,{icon:k.ffg,color:(0,V.Lm)("deepocean.400"),size:"xs",width:"0.625rem",height:"0.625rem"}),(0,a.jsx)(u.E,{fontSize:"xs",color:"gray.600",fontWeight:"medium",children:l()})]}),(0,a.jsxs)(d.z,{spacing:2,children:[(0,a.jsx)(I.g,{icon:k.kLe,color:(0,V.Lm)("deepocean.400"),size:"xs",width:"0.625rem",height:"0.625rem"}),(0,a.jsx)(u.E,{fontSize:"xs",color:"gray.600",fontWeight:"medium",fontFamily:"body",children:o()})]})]})]})]})]})});U.displayName="AIImageModelPopover";var G=n(41120);let K=(0,r.R)((e,t)=>{let{model:n,...r}=e;return(0,a.jsx)(l.W,{children:(0,i.createElement)(o.k,{...r,ref:t,key:n.model},(0,a.jsxs)(s.s,{justify:"space-between",align:"center",width:"100%",children:[(0,a.jsxs)(d.z,{children:[(0,a.jsx)(c._,{src:n.image.src,w:"1.5em",h:"1.5em",objectFit:"contain"}),(0,a.jsx)(u.E,{ps:2,fontSize:"sm",children:n.label()}),"beta"===n.badge&&(0,a.jsx)(p.E,{colorScheme:"purple",size:"xs",children:(0,a.jsx)(E.x6,{id:"YBt9YP"})}),"new"===n.badge&&(0,a.jsx)(p.E,{colorScheme:"green",size:"xs",children:(0,a.jsx)(E.x6,{id:"isRobC"})})]}),(0,a.jsx)(u.E,{color:"gray.400",fontSize:"xs",children:n.creatorLabel()})]}))})});K.id="MenuItemOption";let Q=e=>{let{productKey:t,productFeature:n,canUseTier:i,styles:r}=e;return(0,a.jsxs)(s.s,{justify:"start",align:"center",width:"100%",children:[(0,a.jsx)(u.E,{sx:{...r.groupTitle,marginInlineEnd:2},children:(0,T.kf)(t).header}),n&&(0,a.jsx)(M.Ch,{canUseFeature:i,productFeature:n})]})},Z=e=>{let{availableModels:t,handleModelSelect:n,canUsePlusModels:r,canUseProModels:l,selectedModel:p,isDisabled:R,autoselect:D}=e,[M,_]=(0,i.useState)(null),T=(0,h.o)("Menu",{}),N=e=>{let{tier:i}=e;return t.filter(e=>(0,L.kO)(e.model)===i).map(e=>(0,a.jsx)(K,{model:e,value:e.model,onClick:()=>n(e.model,i),onMouseEnter:()=>_(e)},e.model))};return(0,a.jsx)(g.MJ,{children:(0,a.jsxs)(m.W,{isLazy:!0,children:[(0,a.jsx)(x.I,{as:f.$,variant:"plain",isDisabled:R,w:"100%",textAlign:"start",justifyContent:"space-between",rightIcon:(0,a.jsx)(I.g,{icon:k.Jt$}),boxShadow:"sm",size:"sm",children:(0,a.jsxs)(d.z,{spacing:2,children:[(0,a.jsx)(s.s,{width:"24px",height:"24px",align:"center",justify:"center",children:(null==D?void 0:D.isActive)?(0,a.jsx)(I.g,{icon:S.Ys0,size:"sm"}):(0,a.jsx)(c._,{src:p.image.src,w:"1.25em",h:"1.25em",objectFit:"contain"})}),(0,a.jsx)(u.E,{as:"span",flex:1,children:(null==D?void 0:D.isActive)?(0,a.jsx)(E.x6,{id:"/iCiQU"}):null==p?void 0:p.label()})]})}),(0,a.jsx)(b.Z,{children:(0,a.jsxs)(v.A,{isLazy:!0,variant:"modal",placement:"start-start",matchWidth:!1,offset:[0,0],trigger:"hover",children:[(0,a.jsx)(y.d,{children:(0,a.jsx)(w.c,{minWidth:"250px",w:"400px",maxH:"350px",overflowY:"auto",overflowX:"hidden",zIndex:"modalPopover",border:"1px solid",borderColor:"gray.200",onMouseLeave:()=>_(null),children:(0,a.jsxs)(C.i,{type:"radio",value:(null==D?void 0:D.isActive)?"auto-select":p.model,children:[D&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.k,{value:"auto-select",onClick:D.onChooseAutoselect,children:(0,a.jsxs)(d.z,{children:[(0,a.jsx)(I.g,{icon:S.Ys0,size:"sm"}),(0,a.jsx)(u.E,{ps:2,fontSize:"sm",children:(0,a.jsx)(E.x6,{id:"/iCiQU"})})]})}),(0,a.jsx)(A.N,{})]}),(0,a.jsx)(Q,{productKey:"free",canUseTier:!0,styles:T}),N({tier:"free"}),(0,a.jsx)(A.N,{}),(0,a.jsx)(Q,{productKey:"plus",productFeature:"ai_models_plus",canUseTier:r,styles:T}),N({tier:"plus"}),(0,a.jsx)(A.N,{}),(0,a.jsx)(Q,{productKey:"pro",productFeature:"ai_premium_models",canUseTier:l,styles:T}),N({tier:"pro"})]})})}),!(0,P.Xb)()&&M&&(0,a.jsx)(j.h,{width:"282px",children:(0,a.jsx)(U,{label:M.label,description:M.description,image:M.image,popoverImage:G.m.None[M.model],bestStyle:M.bestStyle,bestType:M.bestType,speed:M.speed})})]})})]})})},q=e=>{let{value:t,setValue:n,isDisabled:r,autoselect:l}=e,o=(0,L.pE)(t),s=(0,N.GV)(R.Jo),d=(0,D.ez)("ai_models_plus",null==s?void 0:s.organization),c=(0,D.ez)("ai_premium_models",null==s?void 0:s.organization),{openUpsellModal:u}=(0,_.I)(),p=(0,i.useCallback)((e,t)=>("plus"!==t||d)&&("pro"!==t||c)?void n(e):void u({segmentEvent:z.VV.GAMMA_UPSELL_CALLOUT_AI_IMAGE_MODELS,eventProperties:{model:e}}),[d,c,u,n]);return(0,a.jsx)(Z,{handleModelSelect:p,canUsePlusModels:d,canUseProModels:c,availableModels:(0,L.vp)().filter(e=>(0,L.CX)(e.model)),selectedModel:{...o,model:t},isDisabled:r,autoselect:l})}},66079:(e,t,n)=>{"use strict";n.d(t,{ez:()=>j,jU:()=>C,Fn:()=>A,dO:()=>y,K4:()=>k});var a=n(6029),i=n(51684),r=n(77650),l=n(87996),o=n(69540),s=n(53587),d=n(57405),c=n(64268),u=n(51504),p=n(99745),h=n(19564),g=n(15342),m=n(49172),x=n(62452),f=n(43634),b=n(70652),v=n(52762);let y="default",w="color.solid",C={Default:[{label:()=>r.Ru._({id:"EdQY6l"}),availableOffline:!0,key:y,backgroundType:v.h.NONE}],Image:[{...l.mx,nodeName:"image",backgroundType:v.h.IMAGE,priority:10},{...l.OO,nodeName:"image",disabled:!0,backgroundType:v.h.IMAGE},{...l.Rn,nodeName:"image",backgroundType:v.h.IMAGE},{...l.TV,nodeName:"image",disabled:!0,backgroundType:v.h.IMAGE},{...l.Up,nodeName:"image",backgroundType:v.h.IMAGE},{...l.ae,nodeName:"image",backgroundType:v.h.IMAGE},{...l.Pl,nodeName:"image",backgroundType:v.h.IMAGE},{...l.xT,nodeName:"image",backgroundType:v.h.IMAGE},{...l.fo,nodeName:"image"},{...l.un,nodeName:"image"},{...l.yj,nodeName:"image",disabled:!0,backgroundType:v.h.IMAGE},{...l.fb,nodeName:"image"},{label:()=>r.Ru._({id:"COXEr5"}),key:s.j,availableOffline:!0,icon:i.yvG,backgroundType:v.h.IMAGE,nodeName:"image",keywords:["accent image"]}],Video:[{...l.GQ,nodeName:"video"},{...l.fX,nodeName:"video"},{...l.N$,nodeName:"video"},{...l.O5,nodeName:"video"},{...l.r9,nodeName:"video"},{...l.w,nodeName:"video"},{...l.st,nodeName:"video"}],Embed:[{...l.Jp,nodeName:"embed",priority:10},{...l.Zd,nodeName:"embed"},{...l.Il,nodeName:"embed"},{...l.fG,nodeName:"embed"},{...l.uF,nodeName:"embed"},{...l.Oz,nodeName:"embed"},{...l.V2,nodeName:"embed"},{...l.Dr,nodeName:"embed"},{...l.MN,nodeName:"embed"},{...l.qD,nodeName:"embed"},{...l.ap,nodeName:"embed"},{...l.Ve,nodeName:"embed"},{...l.RA,nodeName:"embed"},{...l.Ow,nodeName:"embed"},{...l.hb,nodeName:"embed"},{...l.sI,nodeName:"embed"},{...l.sS,nodeName:"embed"}],Color:[{label:()=>r.Ru._({id:"iFeLoB"}),key:w,availableOffline:!0,icon:i.fyG,backgroundType:v.h.COLOR,keywords:["solid color"]},{...l.UX,availableOffline:!0,backgroundType:v.h.GRADIENT}]},A=Object.fromEntries(Object.values(C).flat().map(e=>[e.key,e])),j={...o.e,[y]:()=>(0,a.jsx)(a.Fragment,{}),[s.j]:e=>{let{currentAttributes:t,updateAttributes:n,editType:i}=e,r=(0,g.GV)(f.SJ),{accentBackgrounds:l}=r.config;return(0,a.jsxs)(d.T,{align:"stretch",children:[l&&(0,a.jsx)(m.A,{currentAttributes:t,accentImages:l,isDark:(0,x.Mw)(r),handleItemClick:n,editType:i}),(0,a.jsxs)(c.F,{status:"info",children:[(0,a.jsx)(u._,{}),(0,a.jsx)(p.T,{children:(0,a.jsx)(h.x6,{id:"zOCB9A"})})]})]})},[w]:b.S},k={Default:()=>r.Ru._({id:"ovBPCi"}),Image:()=>r.Ru._({id:"hG89Ed"}),Video:()=>r.Ru._({id:"vSJd18"}),Embed:()=>r.Ru._({id:"KKBlUU"}),Color:()=>r.Ru._({id:"jZlrte"})}},66082:(e,t,n)=>{"use strict";n.d(t,{gj:()=>T,wq:()=>E,G4:()=>S,fZ:()=>D,Up:()=>L,O8:()=>I,yp:()=>C,AS:()=>k,F0:()=>v,CY:()=>y,Ro:()=>w,er:()=>M,lI:()=>A});var a=n(99492),i=n(77650),r=n(22905),l=n(63867),o=n(41427),s=n(5061),d=n(15607),c=n(38934),u=n(97255);let p=["paragraph","heading","title","drawing","diagram","image","contributors","mediaPlaceholder","buttonGroup","navbarLinks","gallery","chart","toggleSummary","smartDiagram"],h=["title","heading","paragraph","bullet","todo","numbered","image","contributors","diagram","mediaPlaceholder","buttonGroup","gallery","chart","smartDiagram"],g=["toggle"],m=new l.hs("horizontalAlign");class x{isRelevantNode(e){return h.includes(e.type.name)}isRelevantParentNode(e){return g.includes(e.type.name)}apply(e){if(!e.docChanged&&this.hasInitialized)return this;this.hasInitialized=!0;let t=[],n=(0,s.C)();return e.doc.descendants((e,a)=>{if(this.isRelevantParentNode(e)){let n=(0,o.KQ)(e);t.push(u.NZ.node(a,a+e.nodeSize,{},{dir:n})),"toggle"===e.type.name&&e.forEach((e,i,r)=>{if("toggleSummary"===e.type.name){let r=a+1+i;t.push(u.NZ.node(r,r+e.nodeSize,{},{dir:n}))}})}if(this.isRelevantNode(e)){let i=(0,o.KQ)(e);i?n=i:t.push(u.NZ.node(a,a+e.nodeSize,{},{dir:n}))}return!0}),this.decorations=u.zF.create(e.doc,t),this}constructor(e=u.zF.empty){this.hasInitialized=!1,this.decorations=e}}let f=()=>new l.k_({key:m,state:{init:()=>new x,apply:(e,t)=>t.apply(e)},props:{decorations(e){let t=m.getState(e);return null==t?void 0:t.decorations}}}),b=["left","right","center"],v=e=>b.find(t=>e.isActive({horizontalAlign:t})),y=e=>{let t=e.state.selection.$head.node().textContent;return(0,o.R_)(t)||(0,s.C)()},w=e=>t=>{let{dir:n,ctx:a}=t||{};return"menu"===a?null:e&&"center"!==e&&"ltr"!==n?n?"left"===e?"right":"left":null:e},C=(e,t)=>{let n=A(e,t);return{textAlign:e||void 0,alignItems:n||"var(--flex-align)","--flex-align":n}},A=(e,t)=>{if(e)return j(e,t||(0,s.C)())},j=(e,t)=>{if(e)return"rtl"===t?({left:"flex-end",center:"center",right:"flex-start"})[e]:({left:"flex-start",center:"center",right:"flex-end"})[e]},k=(e,t)=>{let n={"--descendant-align-self-left":"rtl"===t?"flex-end":"flex-start","--descendant-align-self-center":"center","--descendant-align-self-right":"rtl"===t?"flex-start":"flex-end"};return e?{"--descendant-align-self":j(e,t),...n}:n},S=e=>({"--descendant-align-self":e,"--descendant-align-self-left":e,"--descendant-align-self-center":e,"--descendant-align-self-right":e}),I=e=>e?{alignSelf:"var(".concat({left:"--descendant-align-self-left",center:"--descendant-align-self-center",right:"--descendant-align-self-right"}[e],", --descendant-align-self)")}:{alignSelf:"var(--descendant-align-self, self-start)"},E=r.YY.create({name:"horizontalAlign",priority:c.y.HorizontalAlign,addOptions:()=>({types:p,alignments:b,defaultAlignment:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{horizontalAlign:{default:this.options.defaultAlignment,keepOnSplit:!0,parseHTML:e=>e.style.textAlign||e.getAttribute("align")||this.options.defaultAlignment,renderHTML:e=>e.horizontalAlign?{style:"text-align: ".concat(e.horizontalAlign)}:{}}}}]},addCommands:()=>({toggleHorizontalAlign:e=>t=>{let{tr:n,dispatch:a,state:i,editor:r}=t;if(!a)return!0;let l=R(r,e)?null:e;return n.selection.ranges.forEach(e=>{let t=e.$from.pos,a=e.$to.pos;i.doc.nodesBetween(t,a,(e,t)=>{if("footnote"===e.type.name)return!1;p.includes(e.type.name)&&n.setNodeMarkup(t,void 0,{...e.attrs,horizontalAlign:l}).setMeta("annotationEvent",{type:"update-node-attrs",pos:t})})}),!0}}),addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.toggleHorizontalAlign("left"),"Mod-Shift-e":()=>this.editor.commands.toggleHorizontalAlign("center"),"Mod-Shift-r":()=>this.editor.commands.toggleHorizontalAlign("right"),Backspace:()=>{let{selection:e}=this.editor.state;if(!(e instanceof l.U3)||!e.empty)return!1;let t=e.$from.parent;return!!p.includes(t.type.name)&&!!t.isTextblock&&!(t.nodeSize>2)&&t.attrs.horizontalAlign!=this.options.defaultAlignment&&this.editor.commands.toggleHorizontalAlign(this.options.defaultAlignment)}}},addProseMirrorPlugins:()=>[f()]}),R=(e,t)=>{let n=b.filter(e=>e!==t);return e.isActive({horizontalAlign:t})&&!n.some(t=>e.isActive({horizontalAlign:t}))},L=e=>{var t;return null==(t=e.find(e=>e.spec.dir))?void 0:t.spec.dir},D=(e,t)=>{var n;if(!t)return(null==(n=e.find(e=>e.spec.dir))?void 0:n.spec.dir)||"auto"},M=(e,t,n)=>{var a;let i=m.getState(e);if(!i)return null;let r=null==(a=i.decorations.find(t,n,e=>e.dir))?void 0:a[0];return r?r.spec.dir:null},_=e=>!(0,d.iA)(e,"horizontalAlign"),T=[{key:"alignLeft",name:()=>i.Ru._({id:"VjjKVj"}),icon:a.ecg,checkActive:e=>R(e,"left"),checkDisabled:_,apply:e=>e.chain().toggleHorizontalAlign("left").run(),shortcut:"Mod+Shift+L",enabledForTables:!0,alignment:"left"},{key:"alignCenter",name:()=>i.Ru._({id:"95ckMP"}),icon:a._ur,checkActive:e=>R(e,"center"),checkDisabled:_,apply:e=>e.chain().toggleHorizontalAlign("center").run(),shortcut:"Mod+Shift+E",enabledForTables:!0,alignment:"center"},{key:"alignRight",name:()=>i.Ru._({id:"vTKw81"}),icon:a.jbh,checkActive:e=>R(e,"right"),checkDisabled:_,apply:e=>e.chain().toggleHorizontalAlign("right").run(),shortcut:"Mod+Shift+R",enabledForTables:!0,alignment:"right"}]},66265:(e,t,n)=>{"use strict";n.d(t,{Fk:()=>y,J4:()=>f,QM:()=>w,RH:()=>h,Vm:()=>m,dh:()=>g,j_:()=>C,ux:()=>v});var a=n(41352),i=n(81221),r=n(67670),l=n(89557),o=n(91938),s=n(52297),d=n(29608),c=n(46007),u=n(60908);let p={auth:{key:o.$.TRANSLOADIT_AUTH_KEY},template_id:o.$.TRANSLOADIT_IMAGE_TEMPLATE_ID},h=["image/*",l.A.heic,l.A.heif],g=["application/vnd.openxmlformats-officedocument.presentationml.presentation"],m=[l.A.doc,l.A.docx],x=[...m,...g,l.A.pdf],f=["font/otf","font/ttf","application/x-font-ttf","application/x-font-otf",".otf",".ttf"],b={all:[...x,...g,...h],importDoc:[...x],importPpt:[...g],importPdf:[l.A.pdf],doc:x,font:f,image:h,icon:[".png",".ico",".gif",".svg"],favicon:[".ico",".png",".gif",".jpg",".jpeg"]},v={autoProceed:!0,restrictions:{allowedFileTypes:[],maxNumberOfFiles:1}},y={createUppyInstance:function(e,t){let{onUploadStart:n,onOriginalFileUpload:r,onUploadComplete:l,onUploadFailed:o,onProgress:h,setErrorMessage:g}=t,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"node",x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,f=arguments.length>4?arguments[4]:void 0,y=arguments.length>5?arguments[5]:void 0,w=arguments.length>6?arguments[6]:void 0,C=2560,A="false";"background"===m||"themeBackground"===m?C=3840:"icon"===m||"favicon"===m?C=250:"profile"===m?(C=1024,A="true"):("workspaceLogo"===m||"cardMargins"===m)&&(C=1024);let j=[];f=f||"image";let k=new a.Ay({...v,restrictions:{...v.restrictions,maxNumberOfFiles:x,allowedFileTypes:b[f],maxFileSize:w}});return k.use(i.Ay,{assemblyOptions:async()=>{let t=y||p.template_id,{signature:n,expires:a}=await (0,s.N)(t);return{params:{...p,auth:{...p.auth,expires:a},template_id:y||p.template_id},fields:{orgId:e,imageType:m,resizePx:C,cropPadding:"50%",detectAndCropFace:A},signature:n}},waitForEncoding:!0}),k.on("file-added",async e=>{let t=(null==e?void 0:e.type)&&(0,u.aI)(null==e?void 0:e.type)&&!(0,d.nr)();try{var a;(null==e||null==(a=e.type)?void 0:a.includes("image"))&&(null==e?void 0:e.data)instanceof File&&!t&&await (0,u.Ru)(e),n&&1===x&&n({tempUrl:URL.createObjectURL(e.data),file:e}),h&&h(0)}catch(t){console.error("[Uppy.file-added] ".concat(t.message)),k.removeFile(e.id)}}),k.on("files-added",e=>{n&&1!==x&&e.forEach(e=>{n({tempUrl:URL.createObjectURL(e.data),file:e})}),h&&h(0)}),k.on("error",e=>{let t="Error uploading to Transloadit: ".concat(e.message);g&&g(""),o&&o(t),console.error(t)}),k.on("upload-progress",(e,t)=>{h&&h(t.bytesUploaded/t.bytesTotal*100)}),k.on("transloadit:result",(e,t,n)=>{if(1===x){if(!r||"original_file"!==e||0===n.uploads.length||(0,u.aI)(n.uploads[0].mime)||(0,c.cZ)(n.uploads[0].mime,n.uploads[0].ext)||!t)return;let{url:a,meta:i,name:l}=t;g&&g(""),a?r({src:a,meta:i,name:l,uploadResultStep:"original"}):(o&&o("Error uploading to Transloadit"),console.error("Error uploading to Transloadit"))}else if("filter_skip_optimize"===e){j=j.concat(t);return}else{let e,i;if((0,u.aI)(t.mime))i=t;else{var a;e=null==(a=j.find(e=>e.name===t.name))?void 0:a.url,i=t}if(!i)return;let{url:r,meta:s,name:d}=i;g&&g(""),r?l&&l({src:r,meta:s,name:d,uploadResultStep:"optimized",fullResults:n.results},e):(o&&o("Error uploading to Transloadit"),console.error("Error uploading to Transloadit"))}}),k.on("transloadit:complete",e=>{var t,n,a,i,r;let s,d,p,h;if(1!=x)return;if(0===e.uploads.length)throw console.error("[transloadit:complete] No uploads in assembly",e),Error("No uploads in assembly");if("importDoc"===f)d=e.results.convert_to_html[0];else if("importPpt"===f)d=e.results.convert_to_html[0];else{if((0,c.eT)(e.uploads[0].ext))return;(0,c.ZD)(e.uploads[0].mime)?(d=e.results.original_file[0],p=e.results.doc_thumbnail[0].url):(0,c.cZ)(e.uploads[0].mime,e.uploads[0].ext)?(d=e.results.convert_to_pdf[0],p=e.results.doc_thumbnail[0].url):(0,u.aI)(e.uploads[0].mime)?(d=(null==(t=e.results.optimized)?void 0:t[0])||(null==(n=e.results.filter_skip_optimize)?void 0:n[0]),h=null==(a=e.results.detect_and_crop_face)?void 0:a[0].url):(s=e.results.original_file[0].url,h=null==(i=e.results.detect_and_crop_face)?void 0:i[0].url,d=(null==(r=e.results.optimized)?void 0:r[0])||e.results.original_file[0])}let{url:m,ssl_url:b,meta:v,name:y}=d;g&&g(""),b||m?l&&l({src:b||m,meta:v,name:y,thumbnail:p,croppedFace:h,uploadResultStep:"optimized",fullResults:e.results},s):(o&&o("Error uploading to Transloadit"),console.error("Error uploading to Transloadit"))}),k}},w=async function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"node",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"image",r=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0;if(!t)throw Error("Tried uploading an image with no orgId");let o=y.createUppyInstance(t,n,a,1,i,r,l);try{o.addFile({name:e.name,type:e.type,data:e})}catch(e){var s;null==n||null==(s=n.onUploadFailed)||s.call(n,e.message);return}await o.upload()},C=async function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"node",l=arguments.length>4?arguments[4]:void 0;if(!t)throw Error("Tried uploading an image with no orgId");let o=y.createUppyInstance(t,n,a,"themeBackground"===a?null:1,void 0,l);o.use(r.A,{companionUrl:i.HI});let s=await o.getPlugin("Url").addFile(e);if(s instanceof Error){var d;null==n||null==(d=n.onUploadFailed)||d.call(n,s.message)}}},66380:(e,t,n)=>{"use strict";n.d(t,{V:()=>d});var a=n(68301),i=n(58809),r=n(34394),l=n(15342),o=n(1057),s=n(43634);let d=()=>{var e,t,n,d,c,u,p,h,g,m,x,f,b,v;let y=(0,l.GV)(i.Jo),w=(0,l.GV)(s.SJ),C=(0,r.R5)(null==y||null==(t=y.docGenerateInput)||null==(e=t.settings)?void 0:e.imageModel),A=(null==y||null==(d=y.docGenerateInput)||null==(n=d.settings)?void 0:n.imageProvider)||a.of.get("aiGeneratorDefaultImageProvider"),j=null==y||null==(u=y.docGenerateInput)||null==(c=u.settings)?void 0:c.imageStyle;!j&&"aiGenerated"===A&&w&&(j=(0,o.xI)(w));let k=(null==y||null==(h=y.docGenerateInput)||null==(p=h.settings)?void 0:p.artStylePreset)?String(null==y||null==(m=y.docGenerateInput)||null==(g=m.settings)?void 0:g.artStylePreset):void 0,S=(null==y||null==(f=y.docGenerateInput)||null==(x=f.settings)?void 0:x.artStylePrompt)?String(null==y||null==(v=y.docGenerateInput)||null==(b=v.settings)?void 0:b.artStylePrompt):void 0,I=a.of.get("visualsMenuEnabled"),E={};return I&&(E={artStylePrompt:S,artStylePreset:k}),{imageProvider:A,imageOptions:{model:C,stylePrompt:j,visualsMenuEnabled:I,...E},imageModel:C,imageStyle:j}}},66634:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});class a{constructor({key:e,description:t,classifyExamples:n,classifyReply:a,checkEnabled:i}){this.key=e,this.description=t,this.classifyExamples=n,this.classifyReply=a,this.checkEnabled=i}}},66824:(e,t,n)=>{"use strict";n.d(t,{E:()=>l});var a=n(55729),i=n(15342),r=n(12354);let l=e=>{let t=(0,i.jL)(),n=(0,a.useCallback)(e=>{let{clipType:n}=e;n&&t((0,r.F8)({clipType:n}))},[t]),l=(0,a.useCallback)(n=>{let{id:a}=n;r.RR.emit("endClip",{id:a,confirm:!1}),t((0,r.uy)()),e.commands.resetImageClip()},[t,e]),o=(0,a.useCallback)(e=>{let{id:n}=e;r.RR.emit("endClip",{id:n,confirm:!1}),t((0,r.uy)())},[t]),s=(0,a.useCallback)(e=>{let{id:n}=e;r.RR.emit("endClip",{id:n,confirm:!0}),t((0,r.uy)())},[t]);return{cancelCrop:o,startCrop:(0,a.useCallback)(e=>{let{id:n,clipType:a}=e;t((0,r.Zu)({id:n,clipType:a})),r.RR.emit("startCrop",{id:n})},[t]),confirmCrop:s,resetCrop:l,setCropClipType:n}}},66849:(e,t,n)=>{"use strict";n.d(t,{F:()=>a});let a={'&[contenteditable="true"]':{"&:focus-within":{".ProseMirror-gapcursor":{display:"block",height:"1.5em",position:"relative","&:after":{width:"0px",height:"100%",borderTop:"0px",borderLeft:"1px solid black"}},".grid-cell":{".ProseMirror-gapcursor:first-child":{marginTop:"1em"},".ProseMirror-gapcursor:last-child":{marginBottom:"1em"}},".block-table td":{".ProseMirror-gapcursor:first-child":{marginTop:".75em"},".ProseMirror-gapcursor:last-child":{marginBottom:".75em"}},".is-dark":{".ProseMirror-gapcursor:after":{borderLeftColor:"white"}}}},".collaboration-cursor__caret":{position:"relative",marginLeft:"-1px",marginRight:"-1px",borderLeft:"1px solid #0d0d0d",borderRight:"1px solid #0d0d0d",wordBreak:"normal",pointerEvents:"none",textIndent:0},".collaboration-cursor__label":{position:"absolute",top:"-1.4em",left:"-1px",fontSize:"12px",fontStyle:"normal",fontFamily:"'Inter', sans-serif",fontWeight:"600",lineHeight:"normal",letterSpacing:"normal",textTransform:"none",userSelect:"none",color:"#0d0d0d",padding:"0.1rem 0.3rem",borderRadius:"3px 3px 3px 0",whiteSpace:"nowrap",zIndex:1,pointerEvents:"auto",spellCheck:"false",_hover:{opacity:.1}},'&[contenteditable="false"]':{".ProseMirror-gapcursor":{display:"none"},".collaboration-cursor__caret:not(.streaming-cursor)":{display:"none"}}}},67200:(e,t,n)=>{"use strict";n.d(t,{LP:()=>i,Xq:()=>o,he:()=>r,kz:()=>l});var a=n(60122);let i=e=>{let t=e.getMeta(a.pJ);return(null==t?void 0:t.isChangeOrigin)===!0},r=e=>i(e)&&!o(e),l=e=>!r(e),o=e=>{var t;return null==(t=e.getMeta(a.pJ))?void 0:t.isUndoRedoOperation}},67864:(e,t,n)=>{"use strict";n.d(t,{CS:()=>u,Q4:()=>g,Ti:()=>c,U5:()=>m,Vo:()=>h,cE:()=>d,ek:()=>b,es:()=>x,nh:()=>f,rV:()=>p});var a=n(60122),i=n(46814),r=n(22905),l=n(47665),o=n(53891),s=n(53885);let d=e=>(0,l.jg)(e)||(0,l.sw)(e)||(0,o.p8)(e),c=(e,t)=>!(0,l.jg)(e)&&!(0,l.sw)(e)&&d(t),u=(e,t)=>{let n=null;return t.state.doc.descendants((t,a,i)=>{if(a>0&&!d(i)&&!d(t))return!1;!(0,l.jg)(t)&&d(i)&&e>=a&&e<a+t.nodeSize&&(n={node:t,pos:a,end:a+t.nodeSize})}),n},p=e=>{if(d(e.parent))return{pos:e.pos,node:e.nodeAfter};for(let t=e.depth;t>0;t--){let n=e.node(t);if(d(e.node(t-1)))return{pos:t>0?e.before(t):0,node:n}}return null},h=e=>{let{pos:t,from:n,to:a,editor:i}=e,{state:o}=i,d=s.q.getState(o);if(!d)return null;let c=(0,r.eL)(i.state.doc.resolve(t),l.jg),u=d.getAnnotationsBetween(o,n,a),p=c?d.getAnnotationsBetween(o,c.pos,c.pos+c.node.nodeSize).filter(e=>!u.find(t=>t.id===e.id)):[];return{inBlock:u,inCard:p,origNodePos:t}},g=e=>{let{dropPos:t,dropNode:n,dragging:r,side:l,tr:o,view:d}=e,c=s.q.getState(d.state);if(!c)return[];let u=c.getAnnotationsBetween(d.state,t,t+n.nodeSize),p=r.inBlock,h="left"===l?r.origNodePos:t,g="left"===l?t:r.origNodePos,{doc:m,type:x,binding:f}=a.pJ.getState(d.state),b=o.mapping.map(t),v=(e,t)=>n=>{let{id:a,relativePos:r}=n,l=(0,i.bL)(m,x,r,f.mapping);return null==l?null:{id:a,newPos:b+(l-e)+t}},y=[...("left"===l?p:u).map(v(h,1)).filter(e=>!!e),...("left"===l?u:p).map(v(g,2)).filter(e=>!!e)],w=r.inCard.filter(e=>{let{id:t}=e;return!y.find(e=>e.id===t)}).map(e=>{let{id:t,pos:n}=e,a=o.mapping.map(n);return n===a?null:{newPos:a,id:t}}).filter(e=>!!e);return[...y,...w]},m=e=>{let{dropPos:t,dropNode:n,dragging:r,side:l,tr:o,view:d,leftContentSize:c}=e,u=s.q.getState(d.state);if(!u)return[];let p=u.getAnnotationsBetween(d.state,t,t+n.nodeSize),h=r.inBlock,g="left"===l?r.origNodePos:t,m="left"===l?t:r.origNodePos,{doc:x,type:f,binding:b}=a.pJ.getState(d.state),v=o.mapping.map(t),y=(e,t)=>n=>{let{id:a,relativePos:r}=n,l=(0,i.bL)(x,f,r,b.mapping);return null==l?null:{id:a,newPos:v+(l-e)+t}},w=[...("left"===l?h:p).map(y(g,2)).filter(e=>!!e),...("left"===l?p:h).map(y(m,4+c)).filter(e=>!!e)],C=r.inCard.filter(e=>{let{id:t}=e;return!w.find(e=>e.id===t)}).map(e=>{let{id:t,pos:n}=e,a=o.mapping.map(n);return n===a?null:{newPos:a,id:t}}).filter(e=>!!e);return[...w,...C]},x=e=>{let{contentPos:t,contentEnd:n,insertPos:r,editor:l}=e,o=s.q.getState(l.state);if(!o)return[];let{state:d}=l,c=o.getAnnotationsBetween(d,t,n),{doc:u,type:p,binding:h}=a.pJ.getState(l.view.state);return c.map(e=>{let{id:n,relativePos:a}=e,l=(0,i.bL)(u,p,a,h.mapping);return null==l?null:{id:n,newPos:r+(l-t)}}).filter(e=>!!e)},f=e=>{let t,{dropPos:n,dragging:r,cardWrapOffset:l,tr:o,view:d}=e;if(!s.q.getState(d.state))return[];let{doc:c,type:u,binding:p}=a.pJ.getState(d.state),h=o.mapping.map(n,-1),g=r.inBlock.map((t=r.origNodePos,e=>{let{id:n,relativePos:a}=e,r=(0,i.bL)(c,u,a,p.mapping);return null==r?null:{id:n,newPos:h+(r-t)+l}})).filter(e=>!!e),m=r.inCard.filter(e=>{let{id:t}=e;return!g.find(e=>e.id===t)}).map(e=>{let{id:t,pos:n}=e,a=o.mapping.map(n);return n===a?null:{newPos:a,id:t}}).filter(e=>!!e);return[...g,...m]},b=e=>{let{pos:t,tr:n,editor:a}=e,i=s.q.getState(a.view.state);if(!i)return[];let r=a.state.doc.resolve(t);return r.nodeAfter?i.getAnnotationsBetween(a.state,t,t+r.nodeAfter.nodeSize).map(e=>{let{id:a,pos:i}=e;return{id:a,newPos:i===t?n.mapping.map(i+1)-1:n.mapping.map(i)}}):[]}},68093:(e,t,n)=>{"use strict";n.d(t,{e:()=>r,V:()=>i});var a=n(28615);let i=e=>{if(a.rS)return{};let{accentCut:t}=e.config;if(!t)return{};let{maskStyles:n,fgStyles:i}=r[t]||{};return{"[data-layout-cut=left]":n.left,"[data-layout-cut=right]":n.right,"video[data-layout-cut=right]":{width:"100%",marginLeft:0,marginRight:0},"[data-layout-cut=top]":n.top,"[data-layout-cut-fg=left]":i.left,"[data-layout-cut-fg=right]":i.right,"[data-layout-cut-fg=top]":i.top}},r={default:{name:()=>"Default",maskStyles:{left:void 0,right:void 0,top:void 0},fgStyles:{left:void 0,right:void 0,top:void 0}},fade:{name:()=>"Fade",maskStyles:{left:{maskImage:'url("'.concat("/_next/static/media/gradient-left.5e1ae259.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"110%",marginRight:"-10%"},right:{maskImage:'url("'.concat("/_next/static/media/gradient-right.81936f6b.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"110%",marginLeft:"-10%"},top:{maskImage:'url("'.concat("/_next/static/media/gradient-top.9cbcc51e.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"110%"}},fgStyles:{left:{maxWidth:"90%",marginRight:"10%"},right:{maxWidth:"90%",marginLeft:"10%"},top:void 0}},diagonal:{name:()=>"Diagonal",maskStyles:{left:{maskImage:'url("'.concat("/_next/static/media/diagonal-left.c66da52d.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"105%",marginRight:"-5%"},right:{maskImage:'url("'.concat("/_next/static/media/diagonal-right.c56ea47c.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"105%",marginLeft:"-5%"},top:{maskImage:'url("'.concat("/_next/static/media/diagonal-top.f5cfbd00.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"105%"}},fgStyles:{left:{maxWidth:"80%",marginRight:"20%"},right:{maxWidth:"80%",marginLeft:"20%"},top:{maxHeight:"85%",marginBottom:"auto"}}},round:{name:()=>"Round",maskStyles:{left:{maskImage:'url("'.concat("/_next/static/media/circle-left.b2ca2ce2.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"105%",marginRight:"-5%"},right:{maskImage:'url("'.concat("/_next/static/media/circle-right.9a77e2f4.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"105%",marginLeft:"-5%"},top:{maskImage:'url("'.concat("/_next/static/media/circle-top.49150ee5.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"105%"}},fgStyles:{left:{maxWidth:"80%",marginRight:"20%"},right:{maxWidth:"80%",marginLeft:"20%"},top:void 0}},roundInverse:{name:()=>"Round Inverse",maskStyles:{left:{maskImage:'url("'.concat("/_next/static/media/circle-inverted-left.dbc8a93f.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"110%",marginRight:"-10%"},right:{maskImage:'url("'.concat("/_next/static/media/circle-inverted-right.de2dd517.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"110%",marginLeft:"-10%"},top:{maskImage:'url("'.concat("/_next/static/media/circle-inverted-top.07d69c71.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"112%"}},fgStyles:{left:{maxWidth:"90%",marginRight:"10%"},right:{maxWidth:"90%",marginLeft:"10%"},top:{maxHeight:"90%",marginBottom:"auto"}}},wiggle:{name:()=>"Wiggle",maskStyles:{left:{maskImage:'url("'.concat("/_next/static/media/wiggle-left.578c81e9.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"right",width:"105%",marginRight:"-5%"},right:{maskImage:'url("'.concat("/_next/static/media/wiggle-right.8ee6fc0f.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"left",width:"105%",marginLeft:"-5%"},top:{maskImage:'url("'.concat("/_next/static/media/wiggle-top.41b099b7.svg",'")'),maskSize:"cover",maskRepeat:"no-repeat",maskPosition:"bottom",height:"105%"}},fgStyles:{left:{maxWidth:"94%",marginRight:"6%"},right:{maxWidth:"94%",marginLeft:"6%"},top:{maxHeight:"95%",marginBottom:"auto"}}}}},68143:(e,t,n)=>{"use strict";n.d(t,{BW:()=>d,J2:()=>r,jj:()=>s,uP:()=>o}),n(13731);var a=n(831),i=n.n(a);let r=(e,t)=>{for(let n of e){if(n.id===t)return t;for(let e of n.replies||[])if(e.id===t)return n.id}return null},l=e=>{let{reactions:t,emoji:n,user:a}=e,i=t.find(e=>e.emoji===n);return i&&i.reactions.find(e=>{var t;return e.emoji===n&&(null==(t=e.users)?void 0:t.find(e=>e.id===(null==a?void 0:a.id)))})||null},o=e=>{let{reactions:t,emoji:n,user:a}=e;return!!l({reactions:t,emoji:n,user:a})},s=e=>{let{reactions:t,emoji:n}=e,a=t.find(e=>e.emoji===n);return a&&a.reactions.find(e=>e.emoji===n)||null},d=e=>i()(e.reactions.flatMap(e=>e.users),"id")},68397:(e,t,n)=>{"use strict";n.d(t,{uR:()=>s,en:()=>c});var a=n(6029),i=n(55729),r=n(27578);let l=(e,t)=>{switch(t.type){case"addFeedback":{let n=e.feedback||[];if(n.find(e=>{let{id:n}=e;return n===t.payload.id}))return{...e,feedback:[...n]};return{...e,feedback:[...n,t.payload]}}case"clearFeedback":{let{feedback:t,...n}=e;return{...n}}case"removeFeedback":{let n=e.feedback||[];if(!t.payload.length)return{...e};return{...e,feedback:n.filter(e=>!t.payload.includes(e.id))}}case"reportActiveColumnIds":return{...e,activeColumns:t.payload?[...t.payload]:void 0};case"openContextMenu":return{...e,contextMenu:{isOpen:!0,position:t.payload.position}};case"closeContextMenu":return{...e,contextMenu:{isOpen:!1,position:{x:-1e3,y:-1e3}}};case"setGridFunctions":return{...e,gridFunctions:t.payload};default:(0,r.xb)(t)}return e},o={_inContext:!1},s=(0,i.createContext)({state:o,dispatch:()=>{}}),d=e=>{let{children:t}=e,[n,r]=(0,i.useReducer)(l,{...o,_inContext:!0});return(0,a.jsx)(s.Provider,{value:{state:n,dispatch:r},children:t})},c=e=>t=>(0,a.jsx)(d,{children:(0,a.jsx)(e,{...t})})},68689:(e,t,n)=>{"use strict";n.d(t,{U:()=>p});var a=n(6029),i=n(40452),r=n(71024),l=n.n(r),o=n(95714),s=n(88839),d=n(55292),c=n(73971);let u=l()(async()=>(await Promise.all([n.e(8683),n.e(7547),n.e(678),n.e(629)]).then(n.bind(n,60629))).Tldraw,{loadableGenerated:{webpack:()=>[60629]},ssr:!1}),p=e=>{let{theme:t=d.z}=e,n=(0,o.ZI)(t),r=(0,c.k)(t),l=(0,s.M)(t),p={fill:l.shapeFill,strokeWidth:l.shapeBorder};return(0,a.jsx)(i.s,{sx:{...n,"--tl-font-draw":"var(--body-font)",fontFamily:"var(--body-font)",fontWeight:"var(--body-font-weight)",...r,"--tl-text-outline":"transparent","--color-background":"var(--card-color)"},position:"relative",h:"100%",w:"100%",className:"highlight-mask",children:(0,a.jsx)(u,{...e,defaultStyles:p})})}},69370:(e,t,n)=>{"use strict";n.d(t,{G:()=>S,O:()=>k});var a=n(6029),i=n(27229),r=n(68068),l=n(36071),o=n(60628),s=n(3674),d=n(17920),c=n(58959),u=n(29810),p=n(40691),h=n(64268),g=n(51504),m=n(19564),x=n(55729),f=n(45318),b=n(15342),v=n(3864),y=n(75984),w=n(78481),C=n(52762),A=n(52842),j=n(9119);let k=()=>{let{isOpen:e,onOpen:t,onClose:n}=(0,i.j)(),[a,r]=(0,x.useState)(0),l=(0,x.useCallback)(e=>{t(),r(e)},[t]),o=(0,b.jL)();return{openBackgroundTab:(0,x.useCallback)(function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];e&&o((0,j.lj)()),l(0)},[o,l]),openStylesTab:(0,x.useCallback)(()=>{l(1)},[l]),isOpen:e,onClose:n,tabIndex:a,setTabIndex:r}},S=(0,x.memo)(function(e){let{editor:t,isOpen:n,onClose:i,background:b,updateNestedAttributes:j,tabIndex:k,setTabIndex:S,backFrom:I,isAccentImageDrawer:E=!1}=e,R=(0,w.N)(t),L=(0,x.useCallback)(()=>{0!==k&&S(0),i()},[i,k,S]),D=(0,v.o)(),M=E?A.lK.accentImage():A.lK.cardBackground(),_=(0,x.useCallback)(e=>!E||e.backgroundType!==C.h.NONE,[E]);return(0,a.jsxs)(r._s,{trapFocus:!1,isOpen:n,placement:"right",onClose:L,size:D,blockScrollOnMount:!1,children:[(0,a.jsx)(l.m,{background:"none"}),(0,a.jsxs)(o.z,{onKeyDown:R,"data-in-editor-focus":!0,"data-edit-background-drawer":!0,"data-testid":"card-style-drawer",children:[(0,a.jsx)(s.s,{}),(0,a.jsx)(d.r,{fontSize:"x-large",children:(0,a.jsxs)(c.z,{me:7,children:[(0,a.jsx)(m.x6,{id:"xYilR2"}),(0,a.jsx)(u.h,{}),b.type===C.h.IMAGE&&b.image&&E&&(0,a.jsx)(f.V,{onClick:L,image:b.image,backFrom:I})]})}),(0,a.jsx)(p.c,{overflowX:"hidden",sx:{scrollbarGutter:"stable"},display:"flex",flexDirection:"column",pt:0,children:(0,a.jsx)(y.A,{closeDrawer:L,editor:t,updateNestedAttributes:j,background:b,defaultMessage:(0,a.jsxs)(h.F,{children:[(0,a.jsx)(g._,{}),M]}),isDark:!1,isValidSource:_})})]})]})})},69460:(e,t,n)=>{"use strict";n.d(t,{G:()=>u,J:()=>p});var a=n(55452),i=n(12364),r=n.n(i),l=n(62040),o=n(55729),s=n(15342),d=n(6845),c=n(87930);let u="FLUSH_SYNCED_EDITOR",p=e=>{let{sourceEditor:t,targetEditor:n,isStreaming:i=!1}=e,r=(0,s.jL)();(0,o.useEffect)(()=>{let e=new m(n,e=>{let{editor:t}=e;try{var i;n.commands.command(e=>{let{state:t}=e;return(0,d.jL)(t.doc,r),!0}),null===c.U||void 0===c.U||null==(i=c.U.getState(t.state))||i.processChanges(r)}catch(e){a.Cp(e)}},{maxWait:i?500:void 0,onError(){let e=t.getJSON();n.commands.setContent(e),n.commands.command(e=>{let{state:t}=e;return(0,d.jL)(t.doc,r),!0})}}),l=h.bind(void 0,e),o=g.bind(void 0,e);return t.on("update",l),t.on("selectionUpdate",o),()=>{n.isDestroyed?e.clear():e.flush(),t.off("update",l),t.off("selectionUpdate",o)}},[t,n,r,i])},h=(e,t)=>{let{transaction:n}=t;e.add(n),n.getMeta(u)&&e.flush()},g=(e,t)=>{var n,a;let{editor:i}=t,r=null==(a=i.state.selection)||null==(n=a.ranges)?void 0:n[0];r&&e.setSelection({from:r.$from.pos,to:r.$to.pos})};class m{add(e){this.queue.push(e.steps.map(e=>l.pn.fromJSON(this.editor.schema,e.toJSON()))),this.apply()}setSelection(e){this.selection=e,setTimeout(()=>{0===this.queue.length&&this.applySelection()},0)}flush(){this.apply.flush()}clear(){this.apply.cancel()}doApply(){var e,t;let n;for(;void 0!==(n=this.queue.shift());){let e=this.editor.state.tr;try{n.forEach(t=>e.step(t)),this.editor.view.dispatch(e)}catch(e){this.queue.splice(0,this.queue.length),null==(t=this.onError)||t.call(this)}}this.applySelection(),null==(e=this.onApply)||e.call(this,{editor:this.editor})}applySelection(){this.selection&&this.editor.commands.setTextSelection(this.selection),this.selection=null}constructor(e,t,{maxWait:n,onError:a=null}={}){this.editor=e,this.onApply=t,this.queue=[],this.selection=null,this.onError=null,this.onError=null!=a?a:null,this.apply=r()(this.doApply.bind(this),500,n?{maxWait:n}:{})}}},69540:(e,t,n)=>{"use strict";n.d(t,{h:()=>ta,e:()=>tn});var a=n(8064),i=n(6029),r=n(19564),l=n(57405),o=n(50861),s=n(35289),d=n(62964);let c=e=>{let{editor:t,updateAttributes:n,currentAttributes:a,urlPlaceholder:r,embedTip:c}=e,u=(0,o.Zj)(a);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:u,updateAttributes:n,placeholder:r||"https://..."}),c,u&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};var u=n(74771),p=n(64268),h=n(51504),g=n(99745),m=n(80314);let x=e=>{let{guideLink:t,extraMessage:n,providerName:a}=e;return(0,i.jsxs)(p.F,{status:"info",children:[(0,i.jsx)(h._,{}),(0,i.jsx)(g.T,{children:(0,i.jsx)(r.x6,{id:"qBttXb",values:{providerName:a,extraMessage:n},components:{0:(0,i.jsx)(m.N,{href:t,textDecoration:"underline",isExternal:!0}),1:(0,i.jsx)(u.p,{mx:"2px"})}})})]})},f=e=>(0,i.jsx)(c,{...e,urlPlaceholder:"https://airtable.com/...",embedTip:(0,i.jsx)(x,{guideLink:"https://support.airtable.com/docs/embedding-airtable-views",providerName:"Airtable",extraMessage:(0,i.jsx)(r.x6,{id:"gsZDsS"})})});f.key="embed.airtable";let b=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,c=(0,o.Zj)(a);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:c,updateAttributes:n,placeholder:"<iframe..."}),(0,i.jsx)(x,{guideLink:"https://help.amplitude.com/hc/en-us/articles/235717108-Share-charts-dashboards-and-notebooks-with-stakeholders-outside-your-company#generate-embed-code-for-your-content",extraMessage:(0,i.jsx)(r.x6,{id:"NDM+Av"}),providerName:"Amplitude"}),c&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};b.key="embed.amplitude";var v=n(20196),y=n(60281);let w=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:r}=e;return(0,i.jsx)(y.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",enableSearch:!0,enablePagination:!1,provider:"bing",resultsPerPage:v.s.count,mediaSearchQuery:a,setMediaSearchQuery:r})};w.key="image.bing";let C=e=>(0,i.jsx)(c,{...e,urlPlaceholder:"https://calendly.com/..."});C.key="embed.calendly";var A=n(3276),j=n(2241),k=n(33787),S=n(48810),I=n(49611),E=n(23293),R=n(77650),L=n(82328),D=n(15342),M=n(91792),_=n(21982),T=n(43634),N=n(82927),z=n(60908),P=n(15773),O=n(58495),F=n(55729),H=n(45574),B=n(66265),V=n(59230);let W=e=>{let{updateAttributes:t,editType:n,editor:a,source:i}=e,r=(0,D.GV)(T.aQ),{currentWorkspace:l}=(0,N.ur)(),{orgId:o,templateId:s}=(0,M.PJ)(r||(null==l?void 0:l.id),n),d=(0,F.useRef)(null),c=(0,F.useCallback)(e=>{let{tempUrl:n,attributes:a}=e;t({uploadStatus:V.A.Uploading,showPlaceholder:!1,tempUrl:n,src:null,...a}),d.current=n},[t]),u=(0,F.useCallback)((e,r)=>{let l=d.current||r;if(l){if("node"!==n||!a)return void t({...(0,H.yK)({result:e,isError:!1}),source:i});(0,H.Ki)(a,l,e),d.current=null}},[a,n,t,i]),p=(0,F.useCallback)(e=>{if(!d.current||!a)return void t((0,H.yK)({isError:!0}));(0,H.wt)(a,d.current,e)},[a,t]),h=(0,F.useCallback)(e=>{if(!o)return void console.error("[CustomImagePanel] saveImageFromDataURL - No orgId!");c({tempUrl:e});try{let t=(0,z.Xz)(e,"image");if(!t)return void p();(0,B.QM)(t,o,{onUploadComplete:u,onOriginalFileUpload:u,onUploadFailed:p},n,void 0,s)}catch(e){p()}},[n,o,p,c,u,s]),g=(0,F.useCallback)(e=>{if(!o)return void console.error("[CustomImagePanel] saveImageFromUrl - No orgId!");c({tempUrl:e});try{(0,B.j_)(e,o,{onUploadComplete:u,onOriginalFileUpload:u,onUploadFailed:p},n,s)}catch(e){p()}},[n,o,p,c,u,s]),m=(0,F.useCallback)(async e=>{let{blob:t,attributes:a}=e;if(!o)return void console.error("[QRCodePanel] saveImageFromDataBlob - No orgId!");c({tempUrl:window.URL.createObjectURL(t),attributes:a});try{let e=(0,z.Xl)({blob:t,filename:"image",ext:"svg"});return await (0,B.QM)(e,o,{onUploadComplete:u,onOriginalFileUpload:u,onUploadFailed:p},n)}catch(e){p()}},[n,o,p,c,u]),x=(0,F.useCallback)(e=>{let{file:t,tempUrl:n}=e;t.type&&(0,z.aI)(t.type)?c({tempUrl:"HEIC_tempId_".concat((0,O.Ak)()),attributes:{showPlaceholder:!0}}):c({tempUrl:n})},[c]);return{setTempUrl:c,setUploadedImage:u,saveImageFromDataURL:h,saveImageFromUrl:g,saveImageFromDataBlob:m,onUploadStart:x,setUploadFailed:(0,F.useCallback)(()=>{t((0,H.yK)({isError:!0}))},[t])}},U=e=>{let{editor:t,editType:n,updateAttributes:a,currentAttributes:o,resetToPlaceholder:s}=e,{onUploadStart:c,setUploadedImage:u,saveImageFromUrl:m,saveImageFromDataURL:x,setUploadFailed:f}=W({updateAttributes:a,editor:t,editType:n,source:"image.custom"}),b=(0,D.GV)(T.aQ),{currentWorkspace:v}=(0,N.ur)(),{isInOfflineMode:y}=(0,L.u)(),{orgId:w,templateId:C,useStandardThemeBucket:O}=(0,M.PJ)(b||(null==v?void 0:v.id),n),{src:F,tempUrl:H,meta:B,name:U,showPlaceholder:G,uploadStatus:K}=o,Q=F?(0,z.bI)(F,{width:500}):void 0;return(F||H||G)&&((null==o?void 0:o.source)==="image.custom"||K===V.A.Uploading)?(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[K===V.A.Uploading&&(0,i.jsxs)(p.F,{status:"info",size:"sm",children:[(0,i.jsx)(h._,{as:A.y,w:5,h:5}),(0,i.jsx)(g.T,{children:(0,i.jsx)(r.x6,{id:"MEDU34"})})]}),G?(0,i.jsx)(_.Pf,{isUploading:K===V.A.Uploading,hasUploadError:K===V.A.Error,width:"100%",height:"200px",borderRadius:"md"}):(0,z.v7)(F)?(0,i.jsx)(j.B.video,{src:F,poster:null==B?void 0:B.poster,autoPlay:!0,muted:!0,loop:!0,width:"100%",height:"200px",borderRadius:"md"}):(0,i.jsx)(k._,{src:Q||H,alt:"",ignoreFallback:!0,borderRadius:"md"}),B&&B.width&&B.height&&(0,i.jsxs)(S.E,{children:[B.width,"\xd7",B.height,"px"]}),U&&(0,i.jsx)(S.E,{children:U}),(0,i.jsx)(I.$,{onClick:s,mt:2,w:"100%",children:(0,i.jsx)(r.x6,{id:"HUPV+K"})})]}):(0,i.jsxs)(l.T,{align:"stretch",spacing:4,children:[O&&(0,i.jsxs)(p.F,{status:"warning",size:"sm",children:[(0,i.jsx)(h._,{}),(0,i.jsx)(g.T,{children:"[Admin] Theme images will be uploaded to production theme_images bucket"})]}),K===V.A.Error&&(0,i.jsxs)(p.F,{status:"error",size:"sm",children:[(0,i.jsx)(h._,{}),(0,i.jsx)(g.T,{children:(0,i.jsx)(r.x6,{id:"GymiXM"})})]}),(0,i.jsx)(E.D,{size:"md",children:(0,i.jsx)(r.x6,{id:"IagCbF"})}),(0,i.jsx)(d.VG,{currentUrl:"",placeholder:R.Ru._({id:"jurEzE"}),handleSubmit:m,handleDataSubmit:x,noHeader:!0}),!y&&(0,i.jsx)(E.D,{size:"md",children:(0,i.jsx)(r.x6,{id:"ONWvwQ"})}),w&&(0,i.jsx)(P.Z,{onUploadSuccess:u,onUploadStart:c,onUploadFailed:f,orgId:w,uploadType:"image",editType:n,templateId:C,tipText:R.Ru._({id:"x4Ts51"})})]})};U.key="image.custom";let G=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,r=(0,o.Zj)(a);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:r,updateAttributes:n,placeholder:R.Ru._({id:"gzZk6e"})}),r&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};G.key="video.custom";let K=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,r=(0,o.Zj)(a);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:r,updateAttributes:n,placeholder:"https://www.figma.com/file/..."}),(0,i.jsx)(x,{guideLink:"https://help.figma.com/hc/en-us/articles/360039827134-Embed-files-and-prototypes",providerName:"Figma/FigJam"}),r&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};K.key="embed.figma";var Q=n(69388),Z=n(26420),q=n(40452),J=n(83743),$=n(80074),Y=n(41781),X=n(16936),ee=n(72470),et=n(77979),en=n(38036),ea=n(99492),ei=n(48621),er=n(91106),el=n(18833),eo=n(29452),es=n.n(eo),ed=n(30361),ec=n.n(ed),eu=n(80180),ep=n(11403);let eh="60px",eg=(0,F.memo)(e=>{let{icon:t,isSelected:n,onIconClick:a}=e;return(0,i.jsx)(Q.E,{height:eh,width:eh,children:(0,i.jsx)(I.$,{borderRadius:"base",bgColor:n?"trueblue.100":void 0,color:"gray.800",display:"block",width:"100%",height:"100%",maxH:"100%",pos:"relative",_hover:{bgColor:n?"trueblue.100":"trueblue.50"},_active:{bgColor:"trueblue.100"},transition:"box-shadow .2s ease",variant:"ghost",cursor:"pointer",onClick:()=>a(t),"data-testid":"icon-search-grid-item",children:(0,i.jsx)(Z.a,{height:"100%",maxH:"100%",sx:{svg:{width:"100%",height:"100%"}},dangerouslySetInnerHTML:{__html:t.html}})})},t.id)});eg.displayName="ImageSearchGridItem";let em=e=>{let{searchQuery:t,currentAttributes:n,updateAttributes:a}=e,{isInOfflineMode:l}=(0,L.u)(),[o,s]=(0,F.useState)([]),[d,c]=(0,F.useState)(!0),[u,g]=(0,F.useState)(!1),[m,x]=(0,F.useState)(1),f=(0,F.useCallback)(async e=>{if(l)return;let n="/api/icons/search?count=".concat(100,"&query=").concat(t,"&page=").concat(e);c(!0),g(!1);try{var a;let e=await fetch(n,{credentials:"include"}),t=await e.json();if(c(!1),!((null==t||null==(a=t.data)?void 0:a.length)>=0))throw Error(t);s(t.data)}catch(e){g(!0),c(!1),console.error("(caught) [ImageSearchGrid] fetchResults:",e)}},[l,t]);(0,F.useEffect)(()=>{s([]),x(1),f(1)},[t,f]),(0,F.useCallback)(()=>{f(m+1),x(m+1)},[f,m]);let b=null==n?void 0:n.src,v=(0,F.useCallback)(async e=>{a({src:e.src,tempUrl:b,meta:{height:e.height,width:e.width},providerMeta:{name:e.provider,id:e.id},query:t})},[t,a,b]),y=o.map((e,t)=>{var a,r;let l=e.id===(null==n||null==(a=n.providerMeta)?void 0:a.id)&&e.provider===(null==n||null==(r=n.providerMeta)?void 0:r.name);return(0,i.jsx)(eg,{provider:e.provider,icon:e,isSelected:l,onIconClick:v},t)});return(0,i.jsxs)(q.s,{direction:"column",align:"stretch",children:[(0,i.jsxs)(J.r,{gap:2,columns:{base:4,"2xl":6},children:[y,d&&!l&&(0,i.jsx)(ex,{})]}),!1,0===o.length&&!d&&(0,i.jsx)(Z.a,{width:"100%",textAlign:"center",padding:"10px",children:(0,i.jsx)(S.E,{style:{color:"gray"},children:(0,i.jsx)(r.x6,{id:"2AY48J",values:{searchQuery:t}})})}),u&&(0,i.jsxs)(p.F,{status:"error",children:[(0,i.jsx)(h._,{}),(0,i.jsx)(r.x6,{id:"5hlcZg"})]})]})},ex=()=>(0,i.jsx)(i.Fragment,{children:es()(100).map((e,t)=>(0,i.jsx)(Q.E,{height:eh,children:(0,i.jsx)($.g,{ratio:1,children:(0,i.jsx)(Y.E,{borderRadius:"base"})})},t))}),ef=(0,el.P)(X.K),eb=e=>{let{currentAttributes:t,updateAttributes:n,defaultQuery:a="",randomQueries:o,mediaSearchQuery:s,setMediaSearchQuery:d}=e,[c,u]=(0,F.useState)(a),[p,h]=(0,F.useState)("");(0,F.useEffect)(()=>{d&&c!==s&&d(c)},[c,d,s]),(0,F.useEffect)(()=>{h(a),u(a)},[a]);let g=(0,F.useCallback)(()=>{let e=ec()(o);for(;e===c;)e=ec()(o);e&&(u(e),h(""))},[o,c]),m=(0,ep.lW)(u,500);return(0,i.jsxs)(l.T,{spacing:4,align:"stretch",translate:"no",children:[(0,i.jsxs)(ee.M,{size:"md",children:[(0,i.jsx)(et.W,{pointerEvents:"none",children:(0,i.jsx)(Z.a,{color:"gray.400",children:(0,i.jsx)(ei.g,{icon:ea.MjD})})}),(0,i.jsx)(en.p,{placeholder:c||R.Ru._({id:"oMAM3/"}),value:p,onChange:e=>{h(e.target.value),m(e.target.value)},"data-testid":"image-search-input"}),o&&(0,i.jsx)(et.t,{children:(0,i.jsx)(er.Tz,{placement:"top",label:(0,i.jsx)(r.x6,{id:"OVjfHO"}),children:(0,i.jsx)(ef,{icon:(0,i.jsx)(ei.g,{icon:ea.xNJ}),"aria-label":R.Ru._({id:"OVjfHO"}),variant:"ghost",onClick:g,size:"sm",whileTap:{y:"-5px"},onMouseDown:eu.Fw})})})]}),(0,i.jsx)(em,{currentAttributes:t,updateAttributes:n,searchQuery:c||""})]})},ev=["animals","arrows","business","party","nature","food"],ey=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:r}=e;return(0,i.jsx)(eb,{updateAttributes:t,currentAttributes:n,currentIconUrl:n.src,defaultQuery:n.query||"",randomQueries:ev,mediaSearchQuery:a,setMediaSearchQuery:r})};ey.key="image.icon";let ew=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,r=(0,o.Zj)(a);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:r,updateAttributes:n,placeholder:"https://gamma.app/docs/..."}),r&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};ew.key="embed.gamma";var eC=n(24170),eA=n.n(eC);let ej=["funny","surprise","hooray","welcome","excited","nope","fail","sad","cry","angry","teamwork","cats","dogs","high five"],ek=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:r}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",randomQueries:ej,provider:"giphy",mediaSearchQuery:a,setMediaSearchQuery:r}),(0,i.jsx)(q.s,{width:"100%",justify:"center",padding:"10px",paddingTop:"30px",children:(0,i.jsx)(Z.a,{maxW:"150px",children:(0,i.jsx)(eA(),{src:"/images/powered-by-giphy.png",width:"150",height:"17",alt:"Powered by GIPHY"})})})]})};ek.key="image.giphy";var eS=n(99038);let eI=e=>(0,i.jsx)(c,{...e,urlPlaceholder:"https://docs.google.com/...",embedTip:(0,i.jsx)(x,{guideLink:"https://support.google.com/docs/answer/183965?hl=en&co=GENIE.Platform%3DDesktop#zippy=%2Cedit-embedded-spreadsheets%2Cembed-a-document-spreadsheet-or-presentation",extraMessage:(0,i.jsx)(r.x6,{id:"G6PCHK",values:{GAMMA_ARTIFACT_PROPER_NOUN:eS.TP}}),providerName:"Google Sheets, Docs, or Slides"})});eI.key="embed.gdrive";let eE=e=>(0,i.jsx)(c,{...e,urlPlaceholder:"https://docs.google.com/forms/..."});eE.key="embed.google.form";let eR=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:r}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(y.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",provider:"google",mediaSearchQuery:a,setMediaSearchQuery:r})})};eR.key="image.google";var eL=n(43090);let eD=e=>{let{updateAttributes:t,currentAttributes:n,isDark:a}=e;return(0,i.jsx)(eL.j,{value:n,updateValue:t,isDark:a})};eD.key="color.gradient";let eM=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,r=(0,o.Zj)(a);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:r,updateAttributes:n,placeholder:"https://www.instagram.com/..."}),r&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};eM.key="embed.instagram";let e_=e=>(0,i.jsx)(c,{...e,urlPlaceholder:"https://form.jotform.com/..."});e_.key="embed.jotform";let eT=["wallpaper","textures","background","nature","gradient","relax","sky","water","pattern","abstract"],eN=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:l}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",randomQueries:eT,provider:"lexica",enablePagination:!0,mediaSearchQuery:a,setMediaSearchQuery:l}),(0,i.jsx)(Z.a,{width:"100%",textAlign:"center",padding:"10px",paddingTop:"30px",children:(0,i.jsx)(S.E,{fontSize:"sm",color:"gray.500",children:(0,i.jsx)(r.x6,{id:"rbDrRg",components:{0:(0,i.jsx)(m.N,{href:"https://lexica.art",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"}})}})})})]})};eN.key="image.lexica";let ez=F.lazy(()=>Promise.all([n.e(1078),n.e(7582)]).then(n.bind(n,97582)).then(e=>({default:e.LoomPanel}))),eP=e=>(0,i.jsx)(F.Suspense,{fallback:(0,i.jsx)(A.y,{size:"md"}),children:(0,i.jsx)(ez,{...e})});eP.key="video.loom";let eO=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,c=(0,o.Zj)(a);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:c,updateAttributes:n,placeholder:R.Ru._({id:"ORLSr4"})}),(0,i.jsx)(x,{guideLink:"https://support.microsoft.com/en-us/office/embed-a-word-document-in-your-blog-0faa0253-2751-44bf-8486-ea7837fe7db1",extraMessage:(0,i.jsx)(r.x6,{id:"2csAkv"}),providerName:"Word, Excel, or PowerPoint"}),c&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};eO.key="embed.microsoft.office";let eF=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,r=(0,o.Zj)(a);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:r,updateAttributes:n,placeholder:"https://www.miro.com/..."}),(0,i.jsx)(x,{guideLink:"https://help.miro.com/hc/en-us/articles/360016335640-How-to-embed-editable-boards-into-websites",providerName:"Miro"}),r&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};eF.key="embed.miro";let eH=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,c=(0,D.GV)(T.aQ),u=(0,o.Zj)(a),{isInOfflineMode:p}=(0,L.u)(),h=(0,F.useRef)(null),g=(0,F.useCallback)(e=>{let{tempUrl:t,file:a}=e,i=(0,H.bY)(a);h.current=t,n({...i,url:t})},[n]),m=(0,F.useCallback)((e,n)=>{if(!t)return;let a=h.current;(0,H.XJ)(t,a||n,e),h.current=null},[t]);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:u,updateAttributes:n,placeholder:R.Ru._({id:"gzZk6e"})}),u&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a}),!p&&(0,i.jsx)(E.D,{size:"md",children:(0,i.jsx)(r.x6,{id:"ONWvwQ"})}),c&&(0,i.jsx)(P.Z,{onUploadSuccess:m,onUploadStart:g,orgId:c,uploadType:"doc",dropHereText:R.Ru._({id:"ByKyau",values:{0:"%{browse}"}}),editType:"node"})]})};eH.key="embed.pdf";let eB=["business","rocket","graphs","build","gradient","sky","water"],eV=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:l}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",randomQueries:eB,provider:"pictographic",enablePagination:!0,mediaSearchQuery:a,setMediaSearchQuery:l}),(0,i.jsx)(Z.a,{width:"100%",textAlign:"center",padding:"10px",paddingTop:"30px",children:(0,i.jsx)(S.E,{fontSize:"sm",color:"gray.500",children:(0,i.jsx)(r.x6,{id:"wOdKZR",components:{0:(0,i.jsx)(m.N,{href:"https://pictographic.io",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"}})}})})})]})};eV.key="image.pictographic";let eW=["teamwork","presentation","growth","education","learning","goal","innovation","training","success","planning"],eU=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:r}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(y.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",randomQueries:eW,provider:"pictographicIcons",enablePagination:!0,resultsPerPage:100,resultEntityType:"icon",mediaSearchQuery:a,setMediaSearchQuery:r,displayAsGrid:!0})})};eU.key="image.pictographic.icon";let eG=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,r=(0,o.Zj)(a);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:r,updateAttributes:n,placeholder:R.Ru._({id:"ORLSr4"})}),r&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};eG.key="embed.microsoft.powerbi";var eK=n(83638),eQ=n(25223),eZ=n(26385);let eq=e=>eJ(e),eJ=async e=>{let t=(await n.e(5894).then(n.t.bind(n,75894,23))).default,{text:a,foregroundColor:i,backgroundColor:r,logoUrl:l,dotOption:o}=e;return new t({width:300,height:300,type:"svg",data:a,image:l,margin:10,dotsOptions:{color:i||"#000",type:o},backgroundOptions:{color:r||"#fff"},imageOptions:{crossOrigin:"anonymous",imageSize:.4,margin:0}}).getRawData("svg")},e$=e=>{var t;let{editor:n,editType:a,updateAttributes:o,currentAttributes:s}=e,{saveImageFromDataBlob:d}=W({updateAttributes:o,editor:n,editType:a,source:"image.qrCode"}),[c,u]=(0,F.useState)(!1),m="#000000",x="#FFFFFF",f="square",[b,v]=(0,F.useState)(null==s||null==(t=s.meta)?void 0:t.title),[y,w]=(0,F.useState)(null==s?void 0:s.src),C=(0,F.useRef)(),j=(0,F.useCallback)(()=>{u(!0)},[]),E=(0,F.useCallback)(async()=>{if(!b)return;let e=await eq({text:b,foregroundColor:m,backgroundColor:x,dotOption:f});e&&(w(window.URL.createObjectURL(e)),C.current=e)},[b,m,x,f]);(0,F.useEffect)(()=>{E()},[f,x,m,b,b,E]);let{src:L,tempUrl:D,meta:M,showPlaceholder:T,uploadStatus:N}=s,P=L?(0,z.bI)(L,{width:500}):void 0,O=!c&&!!(L||D||T),H=(0,F.useCallback)(async()=>{C.current&&(u(!0),await d({blob:C.current,attributes:{meta:{title:b,foregroundColor:m,backgroundColor:x,dotOption:f}}}),u(!1))},[d,b,m,x,f]);return O?(0,i.jsxs)(l.T,{align:"center",spacing:4,children:[N===V.A.Uploading&&(0,i.jsxs)(p.F,{status:"info",size:"sm",children:[(0,i.jsx)(h._,{as:A.y,w:5,h:5}),(0,i.jsx)(g.T,{children:(0,i.jsx)(r.x6,{id:"MEDU34"})})]}),T?(0,i.jsx)(_.Pf,{isUploading:N===V.A.Uploading,hasUploadError:N===V.A.Error,width:"100%",height:"200px",borderRadius:"md"}):(0,i.jsx)(k._,{src:P||D,alt:"",ignoreFallback:!0,borderRadius:"md"}),(null==M?void 0:M.title)&&(0,i.jsx)(S.E,{textAlign:"left",w:"100%",children:M.title}),N!==V.A.Uploading&&(0,i.jsx)(I.$,{onClick:j,mt:2,w:"100%",children:(0,i.jsx)(r.x6,{id:"4uW88M"})})]}):(0,i.jsxs)(l.T,{align:"stretch",spacing:4,children:[N===V.A.Error&&(0,i.jsxs)(p.F,{status:"error",size:"sm",children:[(0,i.jsx)(h._,{}),(0,i.jsx)(g.T,{children:(0,i.jsx)(r.x6,{id:"GymiXM"})})]}),(0,i.jsxs)(eK.MJ,{id:"qr-url",children:[(0,i.jsx)(eQ.l,{children:(0,i.jsx)(r.x6,{id:"IagCbF"})}),(0,i.jsx)(ee.M,{size:"lg",children:(0,i.jsx)(en.p,{id:"qr-url",value:b,placeholder:R.Ru._({id:"qf63PF"}),type:"url",onChange:e=>{v(e.target.value)}})})]}),n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z.a,{p:4,py:2,bg:"gray.50",borderRadius:"md",children:(0,i.jsxs)(eZ.B,{spacing:2,children:[(0,i.jsx)(S.E,{children:(0,i.jsx)(r.x6,{id:"a37vfH"})}),(0,i.jsx)(q.s,{align:"center",justify:"center",h:"200px",p:1,border:"1px solid",borderColor:"gray.200",borderRadius:"md",overflow:"hidden",bg:"white",children:y?(0,i.jsx)(eZ.B,{h:"100%",children:(0,i.jsx)(k._,{src:y,maxH:"100%"})}):(0,i.jsx)(Z.a,{p:2,children:(0,i.jsx)(S.E,{size:"xs",color:"gray.500",textAlign:"center",children:(0,i.jsx)(r.x6,{id:"eu7KCb"})})})}),(0,i.jsx)(S.E,{fontSize:"sm",color:"gray.600",children:(0,i.jsx)(r.x6,{id:"wjRHQb"})})]})}),(0,i.jsx)(er.Tz,{isDisabled:!!y,shouldWrapChildren:!0,label:(0,i.jsx)(r.x6,{id:"Y1WnIF"}),children:(0,i.jsx)(I.$,{onClick:H,w:"100%",variant:"solid",tabIndex:0,isDisabled:!y,children:(0,i.jsx)(r.x6,{id:"IChvxB"})})})]})]})};e$.key="image.qrCode";let eY=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,c=(0,o.Zj)(a);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:c||"",updateAttributes:n,placeholder:"https://open.spotify.com/..."}),(0,i.jsx)(x,{guideLink:"https://artists.spotify.com/en/help/article/embedded-players-follow-buttons",providerName:"Spotify",extraMessage:(0,i.jsx)(r.x6,{id:"ItAUcI"})}),c&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};eY.key="video.spotify";let eX=e=>(0,i.jsx)(c,{...e,urlPlaceholder:"https://tally.so/..."});eX.key="embed.tally";let e0=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,r=(0,o.Zj)(a);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:r,updateAttributes:n,placeholder:"https://www.tiktok.com/..."}),(0,i.jsx)(x,{guideLink:"https://developers.tiktok.com/doc/embed-videos/",providerName:"TikTok"}),r&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};e0.key="video.tiktok";let e1=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,r=(0,o.Zj)(a);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:r,updateAttributes:n,placeholder:"https://twitter.com/..."}),r&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};e1.key="embed.twitter";let e2=e=>(0,i.jsx)(c,{...e,urlPlaceholder:"https://typeform.com/..."});e2.key="embed.typeform";let e4=["wallpaper","textures","architecture","background","nature","gradient","experimental","animals","california","flowers","relax","sky","water","pattern","abstract"],e6=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:l}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query,randomQueries:e4,provider:"unsplash",mediaSearchQuery:a,setMediaSearchQuery:l}),(0,i.jsx)(Z.a,{width:"100%",textAlign:"center",padding:"10px",paddingTop:"30px",children:(0,i.jsx)(S.E,{fontSize:"sm",color:"gray.500",children:(0,i.jsx)(r.x6,{id:"k16iQH",values:{UNSPLASH_PROPER_NOUN:"Unsplash"},components:{0:(0,i.jsx)(m.N,{href:"https://unsplash.com",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"}})}})})})]})};e6.key="image.unsplash";let e5=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,r=(0,o.Zj)(a);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:r,updateAttributes:n,placeholder:"https://vimeo.com/..."}),r&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};e5.key="video.vimeo";let e3=["modern office workspace","sustainable energy landscape","vintage automobile collection","future technology concept","tropical beach paradise","urban street art","classical music instruments","mountain hiking adventure","wildlife safari","space exploration visuals","ancient ruins aerial view","deep sea marine life","high fashion runway event","robotics in manufacturing","gourmet food presentation","winter sports scene","abstract art paintings","traditional village festival","modern architecture landmarks","digital art fantasy worlds"],e9=e=>{let{updateAttributes:t,currentAttributes:n,mediaSearchQuery:a,setMediaSearchQuery:r}=e;return(0,i.jsx)(y.O,{updateAttributes:t,currentImageUrl:n.src,defaultQuery:n.query||"",enablePagination:!0,enableLicenseFilter:!0,provider:"web",resultsPerPage:48,randomQueries:e3,resizeThumbnails:!0,mediaSearchQuery:a,setMediaSearchQuery:r})};e9.key="image.web";var e7=n(61491);let e8=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,{proxy:c,displayStyle:u}=a,p=(0,o.Zj)(a);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:p||"",updateAttributes:n,placeholder:R.Ru._({id:"gzZk6e"})}),p&&u&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e7.S,{isChecked:c,onChange:e=>n({proxy:e.target.checked}),children:(0,i.jsx)(r.x6,{id:"Fl9cgp"})}),(0,i.jsx)(S.E,{fontSize:"sm",color:"gray.500",mt:-2,children:(0,i.jsx)(r.x6,{id:"J87/8N"})})]}),p&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};e8.key="embed.custom";let te=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,r=(0,o.Zj)(a);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:r,updateAttributes:n,placeholder:"<iframe..."}),(0,i.jsx)(x,{guideLink:"https://wistia.com/support/embed-and-share/media-on-your-website",providerName:"Wistia"}),r&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};te.key="video.wistia";let tt=e=>{let{editor:t,updateAttributes:n,currentAttributes:a}=e,r=(0,o.Zj)(a);return(0,i.jsxs)(l.T,{align:"flex-start",spacing:4,children:[(0,i.jsx)(d.VG,{currentUrl:r,updateAttributes:n,placeholder:"https://www.youtube.com/watch?v=..."}),r&&(0,i.jsx)(s.p,{editor:t,updateAttributes:n,currentAttributes:a})]})};tt.key="video.youtube";let tn=Object.fromEntries(Object.values([w,ek,eR,e9,eN,e6,tt,eP,K,eE,eI,e8,U,e$,a.o,eO,eG,e1,e5,G,eH,eF,f,b,te,eY,e0,eM,eD,ey,C,e2,e_,eX,ew,eV,eU]).flat().map(e=>[e.key,e])),ta={[a.o.key]:{canShowEmptyState:!0}}},69837:(e,t,n)=>{"use strict";n.d(t,{R:()=>S});var a=n(6029),i=n(53996),r=n(26420),l=n(21938),o=n(51684),s=n(48621),d=n(91106),c=n(77650),u=n(55729),p=n(68301),h=n(87996),g=n(15342),m=n(14122),x=n(89703),f=n(43634),b=n(29608),v=n(40452),y=n(60908),w=n(62171),C=n(50861),A=n(88889);let j=e=>{let{image:t}=e;if(t.src&&(0,C.Xs)(t))return(0,a.jsx)(A.h,{image:t,src:t.src});let{tempUrl:n,meta:i,src:r}=t||{},l=r&&(0,y.Ub)(r,y.p7,i),o=(0,y.QV)(l,l?void 0:n),s=(0,w.w3)(t);return(0,a.jsx)(v.s,{sx:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:o,backgroundPosition:s,width:"100%",aspectRatio:"1/1",objectFit:"contain",transitionProperty:"border-radius",transitionDuration:"normal",borderRadius:"calc(var(--box-border-radius) / 2)"}})};var k=n(62695);let S=e=>{let{image:t,iconSize:n,boxProps:u,number:p,selectCell:h,placeholderIfEmpty:g,isNumbered:x,textAlign:f,fontWeight:v,color:y="currentColor"}=e,{hasIcon:w,handleChangeIcon:C,isEditable:A}=I({image:t,selectCell:h}),k=g&&!w,S=x&&!w;return(0,a.jsx)(d.Tz,{placement:"top",label:w?c.Ru._({id:"yBP2Ki"}):c.Ru._({id:"zFIUaq"}),isDisabled:!A||S,children:(0,a.jsxs)(i.o,{className:(0,l.cx)("image"),h:"calc(1em * var(--line-height-heading))",w:"1em",fontSize:"".concat(n,"em"),fontWeight:v,textAlign:f,role:"group",pos:"relative","data-smart-layout-image-drop-target":"true",onClick:A&&!S?C:void 0,css:(0,m.t)(y),...u,children:[w?(0,a.jsx)(j,{image:t}):p?"".concat(p):null,(A&&!S||k)&&!(0,b.nr)()&&(0,a.jsx)(r.a,{bg:"var(--placeholder-button-bg-color)",color:"var(--placeholder-button-text-color)",opacity:+!!k,_groupHover:{opacity:1},pos:"absolute",fontSize:"0.8em",p:"0.5em",borderRadius:"md",cursor:"pointer",children:(0,a.jsx)(s.g,{icon:o.cCs,fixedWidth:!0})})]})})},I=e=>{let{image:t,selectCell:n,disableEditing:a}=e,i=(0,g.GV)(f.nD)&&!a&&n,r=(null==t?void 0:t.src)||(null==t?void 0:t.tempUrl),{setMediaDrawerSourceKeyAction:l}=(0,k.B)();return{hasIcon:r,handleChangeIcon:(0,u.useCallback)(e=>{e.stopPropagation(),null==n||n();let a=p.of.get("pictographicIconsSearch")?h.un.key:h.fo.key;l((null==t?void 0:t.source)||a,!0),setTimeout(()=>{(0,x.G)(!1)},30)},[n,l,null==t?void 0:t.source]),isEditable:i}}},69872:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var a=n(52055),i=n(27856);let r=e=>{let t=(0,i.h)(),n=(0,a.G)().blankCard;return e&&(n=(0,a.G)()[e]),{cardToAdd:n,command:"aiCardAfter"===e?{key:"aiCardAfter",nodeName:"card"}:e?t[e]:t.blankCard}}},70015:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var a=n(6029),i=n(99492),r=n(19564),l=n(83143);let o=e=>{let{editor:t,node:n,getPos:o,includeCut:s=!0,imageSrc:d}=e;return[...s?[{key:"cut",label:(0,a.jsx)(r.x6,{id:"cCd8Bs"}),icon:i.XGd,onClick:()=>{let e=o();t.commands.basicCut({from:e,to:e+n.nodeSize})}}]:[],{key:"copy",label:(0,a.jsx)(r.x6,{id:"he3ygx"}),icon:i.jPR,onClick:()=>{let e=o();t.commands.copy({from:e,to:e+n.nodeSize})}},...d?[{key:"copy-image-address",label:(0,a.jsx)(r.x6,{id:"XfEsUn"}),icon:i.CQO,onClick:()=>{navigator.clipboard.writeText(d)}},{key:"open-image-in-new-tab",label:(0,a.jsx)(r.x6,{id:"cOAVCo"}),icon:i.vMs,onClick:()=>{window.open(d,"_blank")}},{key:"download-image",label:(0,a.jsx)(r.x6,{id:"dhu12h"}),icon:i.cbP,onClick:()=>{(0,l.lE)(d)}}]:[]]}},70615:(e,t,n)=>{"use strict";n.d(t,{G:()=>u});var a=n(6029),i=n(49611),r=n(99492),l=n(48621),o=n(19564),s=n(55729),d=n(80180),c=n(74471);let u=e=>{let{editor:t,handleDelete:n,hasText:u=!1}=e,p=(0,s.useCallback)(()=>{t.chain().deleteSelectionAndSelectNear().run()},[t]);return u?(0,a.jsx)(i.$,{variant:"toolbar",onClick:n||p,color:"red.500",onMouseDown:d.Fw,size:"md",leftIcon:(0,a.jsx)(l.g,{icon:r.yLS}),children:(0,a.jsx)(o.x6,{id:"cnGeoo"})}):(0,a.jsx)(c.I,{label:(0,a.jsx)(o.x6,{id:"cnGeoo"}),icon:r.yLS,onClick:n||p,testId:"delete-node-button",color:"red.500"})}},70652:(e,t,n)=>{"use strict";n.d(t,{S:()=>d,U:()=>u});var a=n(6029),i=n(55729),r=n(74158),l=n(26779),o=n(62452),s=n(43634);let d=e=>{let{currentAttributes:t,updateAttributes:n,contextualTheme:d}=e,c=(0,r.d4)(s.SJ),u=(0,i.useCallback)(e=>n({hex:(0,o.Ik)(e)}),[n]);if("string"==typeof t)return u(t),(0,a.jsx)(a.Fragment,{});let{hex:p}=t;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(l.a9,{color:{type:"solid",color:p},updateColor:u,theme:d||c,palette:"theme"})})},c=e=>e.replaceAll("#","").replaceAll(/[^A-Fa-f0-9]/g,"").slice(0,6),u=e=>{let t=c(e),n="";switch(t.length){case 0:return"";case 1:for(let e=0;e<6;e++)n+=t;break;case 2:for(let e=0;e<3;e++)n+=t;break;case 3:case 4:case 5:n=t.slice(0,3).split("").map(function(e){return e+e}).join("");break;default:n=t}return"#"+n.toUpperCase()}},70703:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var a=n(63867),i=n(5061),r=n(29608),l=n(67864);let o=(e,t,n,r)=>{let{view:o,state:d}=e;if(!t.dataTransfer||!r&&!(r=e.view.domAtPos(n).node))return;let{previewElement:c,xOffset:u,yOffset:p}=s(r,n,e);t.dataTransfer.clearData(),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/html",r.innerHTML),t.dataTransfer.setData("text/plain",r.textContent||"");let{width:h}=c.getBoundingClientRect(),g=(0,i.ix)()?h-u:u;t.dataTransfer.setDragImage(c,g,p);let m=a.nh.create(d.doc,n),x=m.content();o.dispatch(o.state.tr.setSelection(m)),o.dragging={slice:x,move:!0};let f=(0,l.Vo)({pos:n,editor:e,from:m.from,to:m.to});f&&requestAnimationFrame(()=>{var e;null!=(e=o.dragging)&&e.annotations||null!==o.dragging&&"object"==typeof o.dragging&&(o.dragging.annotations=f)})},s=(e,t,n)=>{let a=(()=>{let a=e.querySelector("[data-drag-preview]");return a&&n.view.posAtDOM(a,0)===t?a:e})(),{contentReference:i,scalePreview:l}=a.dataset,o=0,s=0;if((0,r.H8)()&&i){let[e,t]=i.split(",").map(parseFloat);isNaN(e)||isNaN(t)||(o=e,s=t)}if(d(),l){var c;let e=null!=(c=a.parentElement)?c:document.body;(a=a.cloneNode(!0)).dataset.isPreviewElement="1",a.style.position="absolute",a.style.bottom="-100vh",a.style.left="-100vw",e.appendChild(a);let{width:t,height:n}=a.getBoundingClientRect();(t>n?t:n)>250&&(a.style.maxWidth="".concat(250,"px"),a.style.maxHeight="".concat(250,"px"),a.style.aspectRatio="".concat(t,"/").concat(n)),document.addEventListener("drop",d,{once:!0}),document.addEventListener("dragend",d,{once:!0}),document.addEventListener("mouseup",d,{once:!0})}return{previewElement:a,xOffset:o,yOffset:s}},d=()=>{for(let t of document.querySelectorAll("[data-is-preview-element]")){var e;null==(e=t.parentNode)||e.removeChild(t)}}},70815:(e,t,n)=>{"use strict";n.d(t,{DZ:()=>f,Bq:()=>x});var a=n(82318),i=n(41896),r=n(36811),l=n(46957),o=n(6029),s=n(21938),d=n(77650),c=n(40077),u=n(84886),p=n(87140),h=n(66082);let g=e=>{let{node:t,decorations:n}=e,{level:a,horizontalAlign:r,placeholder:l}=t.attrs,g=(0,p.h)(n),m=l||(g?d.Ru._({id:"gLDJuJ"}):d.Ru._({id:"1nLERW",values:{level:a}}));return(0,o.jsx)(u.u,{...e,style:{display:"flex",flexDirection:"column",...(0,h.yp)(r)},children:(0,o.jsx)(i.$p,{dir:(0,h.fZ)(n),level:a,"data-placeholder":m,className:(0,s.cx)("heading",c.U6),style:{minWidth:"min(100%, 10em)",...(0,h.O8)(r)}})})},m=[1,2,3,4],x=Math.max(...m),f=a.D.extend({selectable:!1,group:"block cardNotesBlock",addAttributes:()=>({level:{default:1,rendered:!1}}),addNodeView:()=>(0,i.gu)(g,{update:l.z0}),addInputRules(){return this.options.levels.map(e=>(0,r.tC)({find:new RegExp("^(#{1,".concat(e,"})\\s$")),type:this.type,getAttributes:{level:e}},[this.editor.state.schema.nodes.bullet,this.editor.state.schema.nodes.numbered,this.editor.state.schema.nodes.todo]))}}).configure({levels:m})},70965:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,O:()=>i});var a=n(58495);let i=(0,a.d_)("abcdefghijklmnopqrstuvwxyz0123456789",8);function r(){return"chat-".concat((0,a.Ak)())}},70967:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});let a=()=>{let e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);let t=document.createElement("div");e.appendChild(t);let n=e.offsetWidth-t.offsetWidth;return e.parentNode.removeChild(e),n}},71029:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});let a=e=>{var t;let{mutation:n}=e;return!!("attributes"===n.type&&(null==(t=n.attributeName)?void 0:t.startsWith("data-")))}},71093:(e,t,n)=>{"use strict";n.d(t,{zA:()=>F.z,Kc:()=>F.K,_M:()=>O,Gx:()=>N,$B:()=>U,RL:()=>W});var a=n(6029),i=n(81150),r=n(15071),l=n(40452),o=n(58959),s=n(16936),d=n(26420),c=n(77650),u=n(18833),p=n(42328),h=n(76560),g=n.n(h),m=n(16419),x=n.n(m),f=n(55729),b=n(3247),v=n(28615),y=n(80180),w=n(29608);let C={type:"spring",duration:.5,bounce:0},A=(0,w.Xb)()?"0.75rem":"2.5rem";var j=n(72104),k=n(12514),S=n(70315),I=n(74158),E=n(4007),R=n(15342),L=n(7756),D=n(8944);let M=()=>{let e=(0,R.GV)(D.C),{inPreviewContext:t}=(0,L.$E)();return e&&!t};var _=n(11403);let T=(0,u.P)(d.a),N=e=>{let{children:t,isZoomed:n,exitZoom:i,editor:r}=e,o=(0,I.wA)(),u=M();(0,f.useEffect)(()=>{if(!u)return b.WC.on("keydown","ZOOMABLE_OVERLAY",e=>n&&["ArrowDown","ArrowUp"].includes(e.key)?(e.preventDefault(),!0):!!((0,S.v_)("Esc")(e)||(0,S.v_)("Enter")(e))&&!!n&&(i(),e.preventDefault(),e.stopPropagation(),!0))},[i,n,u]),(0,f.useEffect)(()=>{u||o((0,E.WI)({id:"zoomableOverlay",isOpen:n}))},[o,n,u]);let p=(0,f.useRef)(null);return((0,_.Vg)(()=>{if(r.isEditable)if(n){var e;null==(e=p.current)||e.focus()}else r.commands.focus()},[r,n],[n],!1),u)?null:(0,a.jsx)(k.Z,{children:n&&(0,a.jsxs)(d.a,{position:"fixed",inset:0,padding:A,zIndex:"modal",userSelect:"none",onClick:e=>{!(0,w.mG)()&&(e.target.closest(".image")||e.target.closest("[data-carousel-filmstrip]")||i())},onMouseDown:y.Fw,"data-in-editor-focus":!0,"data-testid":"zoomable-overlay",children:[(0,a.jsx)(T,{position:"absolute",inset:0,initial:{opacity:0},animate:{opacity:(0,w.Xb)()?.9:.86},transition:C,backgroundColor:"black"},"shade"),(0,a.jsx)(d.a,{position:"absolute",right:2,top:2,zIndex:"docked",contentEditable:!1,suppressContentEditableWarning:!0,children:(0,a.jsx)(s.K,{"aria-label":c.Ru._({id:"8qZ5De"}),colorScheme:"whiteAlpha",color:"whiteAlpha.800",size:"md",onClick:i,onMouseDown:y.Fw,icon:(0,a.jsx)(j.U,{}),variant:"ghost",className:"exit-button",ref:p})}),(0,a.jsx)(l.s,{position:"relative",zIndex:"1",h:"100%",w:"100%",pt:"2.8rem",align:"center",justify:"center",direction:"column",css:{"--overlay-maxH":"calc(100vh - 2 * ".concat(A,")"),"--overlay-maxW":"calc(100vw - 2 * ".concat(A,")"),"--media-maxH":"var(--overlay-maxH)","--media-maxW":"var(--overlay-maxW)"},children:t})]})})},z=(0,u.P)(l.s),P="80px",O=e=>{let{children:t,zoomedId:n,isZoomComplete:u,setZoomedId:h,isZoomed:m,exitZoom:w,editor:j}=e,k=g()(t,e=>e.id===n),S=t[k],I=(0,f.useRef)(null),E=(0,f.useCallback)(()=>{h((t[k+1]||t[0]).id)},[k,t,h]),R=(0,f.useCallback)(()=>{h((t[k-1]||x()(t)).id)},[k,t,h]);return((0,f.useEffect)(()=>{if(m&&!(t.length<2))return b.WC.on("keydown","ZOOMABLE_OVERLAY",e=>{switch(e.key){case"ArrowLeft":return R(),!0;case"ArrowRight":return E(),!0;default:return!1}})},[w,m,h,t,k,E,R]),(0,f.useEffect)(()=>{if(I.current&&u){let e=I.current.querySelector('[data-thumb-id="'.concat(n,'"]'));null==e||e.scrollIntoView({inline:"center",behavior:"smooth"})}},[n,u]),v.D1)?null:(0,a.jsxs)(N,{isZoomed:m,exitZoom:w,editor:j,children:[(0,a.jsx)(l.s,{flex:1,w:"100%",justify:"center",align:"center","data-testid":"zoomable-carousel-expanded",pos:"relative",children:(0,a.jsx)(p.N,{children:S&&(0,a.jsx)(z,{css:{"--media-maxH":"calc(var(--overlay-maxH) - ".concat(P," - ").concat(A,")")},initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},position:"absolute",transition:C,w:"100%",h:"100%",children:S.full},S.id)})}),t.length>1&&(0,a.jsx)(o.z,{w:"100vw",mt:A,px:A,gap:0,"data-carousel-filmstrip":!0,children:(0,a.jsxs)(l.s,{overflowX:"auto",width:"100%",justify:"center",align:"stretch",overflow:"hidden",children:[(0,a.jsx)(s.K,{icon:(0,a.jsx)(i.Y,{boxSize:"24px"}),"aria-label":c.Ru._({id:"MHk+7g"}),colorScheme:"whiteAlpha",variant:"ghost",size:"md",color:"whiteAlpha.900",borderColor:"whiteAlpha.200",borderWidth:"2px",borderStyle:"solid",onClick:R,_hover:{bg:"whiteAlpha.200",borderColor:"whiteAlpha.400"},h:"auto",mr:2}),(0,a.jsx)(o.z,{spacing:1,onClick:y.dG,"data-testid":"zoomable-carousel-thumbnails",ref:I,overflow:"scroll",sx:{"::-webkit-scrollbar":{display:"none"}},children:t.map(e=>{let t=e.id===n;return(0,a.jsx)(d.a,{border:t?"2px solid white":"2px solid transparent",boxSizing:"content-box",borderRadius:"md",overflow:"hidden",onClick:()=>h(e.id),transitionProperty:"border",transitionDuration:"normal",h:P,css:{"--media-maxH":P,"--media-maxW":"200px",flexShrink:0},"data-thumb-id":e.id,cursor:"pointer",padding:"2px",_hover:{borderColor:!t&&"whiteAlpha.500"},children:(0,a.jsx)(d.a,{w:"100%",h:"100%",borderRadius:"sm",overflow:"hidden",children:e.thumbnail})},e.id)})}),(0,a.jsx)(s.K,{icon:(0,a.jsx)(r.v,{boxSize:"24px"}),"aria-label":c.Ru._({id:"EatZYJ"}),colorScheme:"whiteAlpha",variant:"ghost",size:"md",color:"whiteAlpha.900",borderColor:"whiteAlpha.200",borderWidth:"2px",borderStyle:"solid",onClick:E,_hover:{bg:"whiteAlpha.200",borderColor:"whiteAlpha.400"},h:"auto",ml:2})]})})]})};var F=n(73737),H=n(43634);let B=e=>t=>(0,H.dK)(t)===e,V=e=>t=>{let n=(0,H.dK)(t);return n&&e.includes(n)?n:null},W=e=>{let t=(0,I.wA)(),n=(0,R.GV)(B(e)),a=(0,f.useCallback)(n=>{t((0,H.a)({nodeId:n?e:null}))},[t,e]),i=(0,f.useCallback)(()=>a(!0),[a]),r=(0,f.useCallback)(()=>a(!1),[a]);return{isZoomed:n,setIsZoomed:a,enterZoom:i,exitZoom:r}},U=e=>{let t=(0,I.wA)(),n=(0,R.GV)(V(e)),a=!!n,i=(0,f.useCallback)(e=>{t((0,H.a)({nodeId:e}))},[t]),r=(0,f.useCallback)(()=>i(null),[i]),[l,o]=(0,f.useState)(a);return(0,f.useEffect)(()=>{let e;return a?e=window.setTimeout(()=>{o(!0)},1e3*C.duration):o(!1),()=>clearTimeout(e)},[a]),{isZoomed:a,isZoomComplete:l,zoomedId:n,setZoomedId:i,exitZoom:r}}},71128:(e,t,n)=>{"use strict";n.d(t,{OA:()=>v,Tq:()=>A,cT:()=>f,e5:()=>x,qh:()=>b});var a=n(6029),i=n(40452),r=n(33787),l=n(34807),o=n(33750),s=n.n(o),d=n(15342),c=n(43607),u=n(28615),p=n(60908),h=n(43634),g=n(85235),m=n(84431);let x=()=>{let e=(0,d.GV)(h.wC)===g.w.SLIDE_VIEW,{src:t,width:n,height:l,paddingY:o,paddingX:s}=A();if(!t)return null;let c=(0,p.Ub)(t,p.oc),u=e?{position:"absolute",right:"".concat(s,"px"),top:"".concat(o,"px"),justify:"end",align:"start",width:"".concat(n,"px"),height:"".concat(l,"px")}:{position:"sticky",left:"".concat(s,"px"),top:"calc(100% - ".concat(l,"px - ").concat(o,"px)"),justify:"start",width:"".concat(n,"px"),height:"".concat(l,"px")};return(0,a.jsx)(i.s,{...u,className:"logo",zIndex:m.$.customerLogo,borderRadius:"md",contentEditable:!1,userSelect:"none",children:(0,a.jsx)(r._,{src:c,maxH:"100%",maxW:"100%",transitionProperty:"width, height",transitionDuration:"normal",pointerEvents:"none","data-testid":"customer-logo","data-customer-logo-image":!0,objectFit:"contain",objectPosition:e?"top right":"bottom left"})})},f=()=>{let{src:e,width:t,height:n}=b((0,d.GV)(h.SJ),C);if(!e)return null;let l=(0,p.Ub)(e,p.oc);return(0,a.jsx)(i.s,{w:"100%",justify:"center",align:"center",mt:6,mb:8,"data-id":"customer-logo-wrapper",children:(0,a.jsx)(r._,{src:l,w:"".concat(t,"px"),zIndex:m.$.customerLogo,h:"".concat(n,"px"),transitionProperty:"width, height",transitionDuration:"normal",pointerEvents:"none",objectFit:"contain",objectPosition:"bottom"})})},b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w,n=1,a=e.logoUrl,{logoImage:i}=e.config;if(i&&i.meta){var r;n=s()(i.meta.aspect_ratio||i.meta.width/i.meta.height,.5,3),a=null!=(r=i.src)?r:a}if(!a)return{width:0,height:0,paddingY:0,paddingX:0};let l=Math.sqrt(t/n),o=t>8e3?30:t>5e3?24:18;return{width:Math.round(l*n),height:Math.round(l),paddingY:o,paddingX:o,src:a}},v={base:900,lg:2500,xl:4900,"2xl":8100,"3xl":1e4},y={base:1600,md:2500,lg:4225,xl:7225,"2xl":9025,"4xl":12100},w=4900,C=5625,A=()=>{let e=(0,d.GV)(h.wC)===g.w.SLIDE_VIEW,t=(0,l.A)(e?y:v),n=u.rS?w:u.hQ?8100:t,a=(0,d.GV)(h.SJ),i=(0,c.FX)();return{...b(a,n),position:e?"top-right":i?"bottom":"bottom-left"}}},71340:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var a=n(15342),i=n(62452),r=n(43634),l=n(62171),o=n(52762);let s=e=>{var t;let{editor:n,attrs:s,getPos:d}=e,c=(0,a.GV)(r.SJ),u=(0,l.gK)(null==(t=s.container)?void 0:t.background);return{currentColor:u,themeCardColor:(0,i.Oq)(c),setCardColor:e=>{let{container:t}=s,a=e?{background:{type:o.h.COLOR,color:{hex:e}}}:{background:void 0};void 0!==t.isDark&&(a.isDark=void 0),n.commands.updateNestedAttributesAtPos(d(),{container:{...t,...a}})}}}},71737:(e,t,n)=>{"use strict";n.d(t,{I5:()=>u,NO:()=>p,PD:()=>c,eh:()=>d,ni:()=>o,o_:()=>h});var a=n(63867),i=n(17275),r=n(92397),l=n(47665);let o=(e,t)=>{var n;let a=e.state.doc.nodeAt(t);if(!a||(null==(n=a.lastChild)?void 0:n.type.name)==="cardNotes")return;let r=t+a.nodeSize-1,o={type:"cardNotes",content:[{type:"paragraph"}]};if(!(a.firstChild&&(0,l.sw)(a.firstChild)))return void e.chain().command(n=>{let{tr:a}=n;(0,i.c)(e,a,t,"blank");let l=a.mapping.map(r);return a.insert(l,e.schema.nodeFromJSON(o)),!0}).noUndo().run();e.chain().insertContentAt({from:r,to:r},{type:"cardNotes",content:[{type:"paragraph"}]},{updateSelection:!1}).noUndo().run()},s=e=>"cardNotes"===e.type.name,d=e=>null!==e.lastChild&&s(e.lastChild),c=e=>{let t=null;return e.nodeAfter.descendants((n,a)=>!s(n)||(t={node:n,pos:a+e.pos+1},!1)),t},u=(e,t)=>{let n=(0,r.hT)(e.state.doc,t);if(!n||!n.pos)return!1;let i=e.state.doc.resolve(n.pos).pos,l=i+n.node.nodeSize,{selection:o}=e.state,s=o instanceof a.U3?o.to<l:o.to<=l;return o.from>=i&&s},p=e=>"cardNotes"==e.schema.topNodeType.name,h=e=>{if(0===e.childCount)return!0;let t=!1;return e.content.nodesBetween(0,e.content.size,e=>!e.isAtom||!!e.isText||(t=!0,!1)),0===e.textContent.trim().length&&!t}},71839:(e,t,n)=>{"use strict";n.d(t,{L:()=>c,g:()=>u});var a=n(6029),i=n(22905),r=n(94289);n(55729);var l=n(29608),o=n(70703),s=n(23624),d=n(4097);class c extends i.Yv{stopEvent(e){return"contextmenu"!==e.type&&i.Yv.prototype.stopEvent.call(this,e)}updateAttributes(e){this.editor.commands.command(t=>{let{tr:n}=t,a=this.getPos();if(void 0===a)return;let i={type:"move",insertPos:a,insertPosRaw:a,pos:a,end:a+this.node.content.size+1};try{n.setNodeMarkup(a,void 0,{...this.node.attrs,...e}).setMeta("annotationEvent",i)}catch(e){console.error("(caught) [ReactNodeView updateAttributes]: setNodeMarkup",e)}return!0})}mount(){var e=this;let t={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.updateAttributes(t)},deleteNode:()=>this.deleteNode()};if(!this.component.displayName){let e;this.component.displayName=(e=this.extension.name).charAt(0).toUpperCase()+e.substring(1)}let n=e=>{let t=this.component,n=this.onDragStart.bind(this);return(0,a.jsx)(d.e.Provider,{value:{onDragStart:n,nodeViewContentRef:e=>{e&&this.contentDOMElement&&e.firstChild!==this.contentDOMElement&&e.appendChild(this.contentDOMElement)},node:this.node,editor:this.editor,getPos:this.getPos},children:(0,a.jsx)(t,{...e})})};n.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline||this.node instanceof r.CU?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit",this.contentDOMElement.setAttribute("data-node-view-content-inner",this.node.type.name));let i=this.node.isInline?"span":"div";this.options.as&&(i=this.options.as);let{className:l=""}=this.options;this.renderer=new s.N(n,{editor:this.editor,props:t,as:i,className:"node-".concat(this.node.type.name," ").concat(l).trim(),updateWrapperEl:this.options.updateWrapperEl})}get dom(){var e;if(this.renderer.element.firstElementChild&&!(null==(e=this.renderer.element.firstElementChild)?void 0:e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(e,t){let n=e=>{this.renderer.updateProps(e)};if(e.type!==this.node.type)return!1;if("function"==typeof this.options.update){let a=this.node,i=this.decorations;return this.node=e,this.decorations=t,this.options.update({oldNode:a,oldDecorations:i,newNode:e,newDecorations:t,updateProps:()=>n({node:e,decorations:t})})}return e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,n({node:e,decorations:t}),!0)}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}ignoreMutation(e){return!this.dom||!this.contentDOM||"function"==typeof this.options.ignoreMutation&&this.options.ignoreMutation({mutation:e})||this.defaultIgnoreMutation(e)}defaultIgnoreMutation(e){return!!(this.node.isLeaf||this.node.isAtom||"selection"===e.type&&e.target.closest("[data-comments-wrapper]"))||!("selection"===e.type||this.dom.contains(e.target)&&"childList"===e.type&&(0,l.OF)()&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(e=>e.isContentEditable))&&(this.contentDOM===e.target&&"attributes"===e.type||!this.contentDOM.contains(e.target))}onDragStart(e){let t=e.target,n=t.querySelector("[data-drag-handle]");if(n||(n=t.closest("[data-drag-handle]")),!this.dom||!n)return e.preventDefault(),!1;try{let t=this.editor.view.posAtDOM(n,0);if(!t||-1==t||!this.editor.state.doc.nodeAt(t))return;(0,o.b)(this.editor,e,t,n)}catch(e){console.warn("(caught) [ReactNodeViewRenderer] onDragStart error moving annotations",e)}}}function u(e,t){return n=>n.editor.contentComponent?new c(e,n,t):{}}},71877:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var a=n(91938),i=n(58929);let r=async e=>{let{imageUrl:t,workspaceId:n,abortController:r,width:l,height:o}=e,s="".concat(a.$.API_HOST,"/media/images/edit");return await (0,i.P)(s,{method:"POST",signal:null==r?void 0:r.signal,headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({url:t,operation:"remove-background",workspaceId:n,...l&&{width:l},...o&&{height:o}})},{parseResponse:async e=>(await e.json()).url,maxDuration:3e4})}},72055:(e,t,n)=>{"use strict";let a;n.d(t,{CH:()=>E,sV:()=>k,C1:()=>j,o6:()=>w,CO:()=>h,ju:()=>L});var i=n(63867),r=n(97255),l=n(62040),o=n(89217),s=n(80102);function d(e,t,n){let a=!(arguments.length>3)||void 0===arguments[3]||arguments[3];return(r,l)=>{let o=e.state,{to:s,from:d}=o.selection,{to:c,from:u}=r.selection;if(a&&c!==u)return!1;let p=t>0?c:u;if(n){let e=r.doc.nodeSize-2;if(t>0&&p<e||t<0&&p>0)return!1}return l&&(e.dispatch(o.tr.setSelection(i.U3.create(o.doc,t>0?s:d))),e.focus()),!0}}class c{destroy(){this.closeEditor(!1),this._mathRenderElt&&(this._mathRenderElt.remove(),delete this._mathRenderElt),this._mathSrcElt&&(this._mathSrcElt.remove(),delete this._mathSrcElt),this.dom.remove()}ensureFocus(){this._innerView&&this._outerView.hasFocus()&&this._innerView.focus()}update(e,t){if(!e.sameMarkup(this._node))return!1;if(this._node=e,this._innerView){let t=this._innerView.state,n=e.content.findDiffStart(t.doc.content);if(null!=n){let a=e.content.findDiffEnd(t.doc.content);if(a){let{a:i,b:r}=a,l=n-Math.min(i,r);l>0&&(i+=l,r+=l),this._innerView.dispatch(t.tr.replace(n,r,e.slice(n,i)).setMeta("fromOutside",!0))}}}return this._isEditing||this.renderMath(),!0}updateCursorPos(e){let t=this._getPos(),n=this._node.nodeSize;e.selection.from<t+n&&t<e.selection.to||(this.cursorSide=t<e.selection.from?"end":"start")}selectNode(){this._outerView.editable&&(this.dom.classList.add("ProseMirror-selectednode"),this._isEditing||this.openEditor())}deselectNode(){this.dom.classList.remove("ProseMirror-selectednode"),this._isEditing&&this.closeEditor()}stopEvent(e){return void 0!==this._innerView&&void 0!==e.target&&this._innerView.dom.contains(e.target)}ignoreMutation(){return!0}renderMath(){if(!this._mathRenderElt)return;let e=this._node.content.content,t="";if(e.length>0&&null!==e[0].textContent&&(t=e[0].textContent.trim()),t.length<1){for(this.dom.classList.add("empty-math");this._mathRenderElt.firstChild;)this._mathRenderElt.firstChild.remove();return}if(this.dom.classList.remove("empty-math"),!a){this._mathRenderElt.textContent=t;return}try{a.render(t,this._mathRenderElt,this._katexOptions),this._mathRenderElt.classList.remove("parse-error"),this.dom.setAttribute("title","")}catch(e){if(e instanceof Error)console.error(e),this._mathRenderElt.classList.add("parse-error"),this.dom.setAttribute("title",e.toString());else throw e}}dispatchInner(e){if(!this._innerView)return;let{state:t,transactions:n}=this._innerView.state.applyTransaction(e);if(this._innerView.updateState(t),!e.getMeta("fromOutside")){let e=this._outerView.state.tr,t=l.Lm.offset(this._getPos()+1);for(let a=0;a<n.length;a++){let i=n[a].steps;for(let n=0;n<i.length;n++){let a=i[n].map(t);if(!a)throw Error("step discarded!");e.step(a)}}e.docChanged&&this._outerView.dispatch(e)}}openEditor(){var e;this._innerView&&this.closeEditor(!1),this._innerView=new r.Lz(this._mathSrcElt,{state:i.$t.create({doc:this._node,plugins:[(0,o.w)({Tab:(e,t)=>(t&&t(e.tr.insertText("	")),!0),Backspace:(0,s.st)(s.ic,(e,t,n)=>!!e.selection.empty&&!(this._node.textContent.length>0)&&(this._outerView.dispatch(this._outerView.state.tr.insertText("")),this._outerView.focus(),!0)),"Ctrl-Backspace":(e,t,n)=>(this._outerView.dispatch(this._outerView.state.tr.insertText("")),this._outerView.focus(),!0),Enter:(0,s.st)(s.pC,d(this._outerView,1,!1)),"Ctrl-Enter":d(this._outerView,1,!1),ArrowLeft:d(this._outerView,-1,!0),ArrowRight:d(this._outerView,1,!0),ArrowUp:d(this._outerView,-1,!0),ArrowDown:d(this._outerView,1,!0),"Mod-z":this._options.undo,"Shift-Mod-z":this._options.redo})]}),dispatchTransaction:this.dispatchInner.bind(this)});let t=this._innerView.state;this._innerView.focus();let n=null==(e=this._mathPluginKey.getState(this._outerView.state))?void 0:e.prevCursorPos;null==n&&console.error("[prosemirror-math] Error:  Unable to fetch math plugin state from key.");let a=(null!=n?n:0)<=this._getPos()?0:this._node.nodeSize-2;this._innerView.dispatch(t.tr.setSelection(i.U3.create(t.doc,a))),this._isEditing=!0}closeEditor(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this._innerView&&(this._innerView.destroy(),this._innerView=void 0),e&&this.renderMath(),this._isEditing=!1}constructor(e,t,i,r={},l,o){n.e(4638).then(n.bind(n,57258)).then(e=>{a=e.default,this.renderMath()}),this._node=e,this._outerView=t,this._getPos=i,this._onDestroy=o&&o.bind(this),this._mathPluginKey=l,this.cursorSide="start",this._isEditing=!1,this._options=r,this._katexOptions=Object.assign({globalGroup:!0,throwOnError:!1},r.katexOptions),this._tagName=r.tagName||this._node.type.name.replace("_","-"),this.dom=document.createElement(this._tagName),this.dom.classList.add("math-node"),this._mathRenderElt=document.createElement("span"),this._mathRenderElt.textContent="",this._mathRenderElt.classList.add("math-render"),this.dom.appendChild(this._mathRenderElt),this._mathSrcElt=document.createElement("span"),this._mathSrcElt.classList.add("math-src"),this.dom.appendChild(this._mathSrcElt),this.dom.addEventListener("click",()=>this.ensureFocus()),this.renderMath()}}let u=new i.hs("prosemirror-math");function p(e,t){return(n,a,i)=>{let r=u.getState(a.state);if(!r)throw Error("no math plugin!");let l=r.activeNodeViews,o=new c(n,a,i,{katexOptions:{displayMode:e,macros:r.macros},...t},u,()=>{l.splice(l.indexOf(o))});return l.push(o),o}}let h=e=>new i.k_({key:u,state:{init:(e,t)=>({macros:{},activeNodeViews:[],prevCursorPos:0}),apply:(e,t,n,a)=>({activeNodeViews:t.activeNodeViews,macros:t.macros,prevCursorPos:n.selection.from})},props:{nodeViews:{math_inline:p(!1,e),math_display:p(!0,e)}}});var g=n(94289);function m(e,t){return g.FK.from(t.text(e))}function x(e){var t;let n=e.querySelector("img.mwe-math-fallback-image-inline[alt]");return null!=(t=null==n?void 0:n.getAttribute("alt"))&&t}function f(e){var t;let n=e.querySelector("math[alttext]");return null!=(t=null==n?void 0:n.getAttribute("alttext"))&&t}function b(e){var t;let n=e.querySelector("math annotation[encoding='application/x-tex'");return null!=(t=null==n?void 0:n.textContent)&&t}function v(e){var t=e,n=[x,f,b];for(let e of n){let n=e(t);if(!1!==n)return n}return!1}let y=[{tag:"span",getAttrs:e=>!!e.classList.contains("mwe-math-element")&&null,getContent:(e,t)=>m(v(e)||"\\text{\\color{red}(paste error)}",t)}];[...y],()=>["math-select",0];let w=(e,t)=>{let{$from:n}=e.selection,a=n.nodeBefore;if(!a)return!1;if("math_inline"==a.type.name){let a=n.index(n.depth),r=e.doc.resolve(n.posAtIndex(a-1));return t&&t(e.tr.setSelection(new i.nh(r))),!0}return a.type.name,!1};var C=n(46829);let A=/\$(.+)\$/;function j(e,t,n){return new C.fV(e,(e,a,i,r)=>{let l=e.doc.resolve(i),o=l.index(),s=e.doc.resolve(r),d=n instanceof Function?n(a):n;if(!l.parent.canReplaceWith(o,s.index(),t))return null;let c=[t.create(d,t.schema.text(a[1]))];return a[0].endsWith(" ")&&" "!==e.doc.textBetween(r,r+1)&&c.push(t.schema.text(" ")),e.tr.replaceWith(i,r,c)})}function k(e,t,n){return new C.fV(e,(e,a,r,l)=>{let o=e.doc.resolve(r),s=n instanceof Function?n(a):n;if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t))return null;let d=e.tr.delete(r,l).setBlockType(r,r,t,s);return a[1]&&d.insertText(a[1],r,r),d.setSelection(i.nh.create(d.doc,d.mapping.map(o.pos-1)))})}(()=>{try{return RegExp("(?<!\\\\)\\$(.+)(?<!\\\\)\\$")}catch(e){return A}})();let S=e=>{let{from:t,to:n}=e.selection,a=e.selection.content().content,i=[];return a.descendants((e,n,a)=>"text"!=e.type.name&&(!e.type.name.startsWith("math_")||(i.push({start:Math.max(t+n-1,0),end:t+n+e.nodeSize-1}),!1))),r.zF.create(e.doc,i.map(e=>{let{start:t,end:n}=e;return r.NZ.node(t,n,{class:"math-select"})}))},I=new i.k_({state:{init:(e,t)=>S(t),apply:(e,t)=>e.selection&&e.selectionSet?S(e):t},props:{decorations:e=>I.getState(e)}});function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n,a){let{$from:r}=n.selection,l=r.index();if(!r.parent.canReplaceWith(l,l,e))return!1;if(a){let l=e.create({},t?n.schema.text(t):null),o=n.tr.replaceSelectionWith(l);a(o=o.setSelection(i.nh.create(o.doc,r.pos)))}return!0}}class R{serializeFragment(e){let t,n="",a=!0,i=e.size;return e.nodesBetween(0,i,(e,r)=>{let l=this.serializeNode(e);if(null!==l)return n+=l,!1;if(e.isText){var o;n+=(null==(o=e.text)?void 0:o.slice(Math.max(0,r)-r,i-r))||"",a=!1}else e.isLeaf&&t?(n+=t,a=!1):!a&&e.isBlock&&(n+="\n\n",a=!0)},0),n}serializeSlice(e){return this.serializeFragment(e.content)}serializeNode(e){let t=this.nodes[e.type.name];return void 0!==t?t(e):null}constructor(e,t){this.nodes={...null==t?void 0:t.nodes,...e.nodes},this.marks={...null==t?void 0:t.marks,...e.marks}}}let L=new R({nodes:{math_inline:e=>"$".concat(e.textContent,"$"),math_display:e=>"\n\n$$\n".concat(e.textContent,"\n$$")}})},72492:(e,t,n)=>{"use strict";n.d(t,{RE:()=>h,p0:()=>g,wX:()=>x});var a=n(46814),i=n(22905),r=n(52445),l=n(17508),o=n.n(l),s=n(38822),d=n.n(s),c=n(81404);n(22911);var u=n(64072);let p=e=>{"card"===e.type&&e.attrs&&delete e.attrs.id},h=e=>{let t=e=>{var n;return null==(n=e.content)?void 0:n.map(e=>{if(!e.content)return e;let n={...e,attrs:{...e.attrs}};return p(n),n.content=t(n),n})};return p(e),Object.assign({},e,{content:t(e)})},g=e=>{let t=(0,u.C)(),n=(0,i.getSchema)(t),l=(0,a.Tg)(n,e,"default"),o=(0,c.PR)(l);return(0,r.SM)(o)},m=(e,t)=>!!(d()(e)&&d()(t))||void 0,x=(e,t)=>{let n=(0,a.Tg)(e.schema,e.getJSON(),"default"),i=(0,a.vK)(n,"default"),r=(0,a.Tg)(e.schema,t,"default"),l=(0,a.vK)(r,"default");return o()(i,l,m)}},72688:(e,t,n)=>{"use strict";n.d(t,{QJ:()=>f,Jl:()=>x});var a=n(55452),i=n(22905),r=n(63867),l=n(62040),o=n(95889),s=n(38934),d=n(83817),c=n.n(d),u=n(43634),p=n(15607),h=n(33201);let g=e=>{let t=[],n={tree:{},parents:{},treeArray:[]};return e.doc.descendants((a,i)=>{if(!(0,h.jg)(a))return;let r=e.doc.resolve(i),l=a.attrs.id;t.push(l);let o=(0,p.TK)(r,h.jg).reverse().map(e=>{let{node:t}=e;return t.attrs.id}),s=[...o,l];s.reduce((e,t)=>(e[t]=e[t]||{},e[t]),n.tree),n.parents[l]=o,s.reduce((e,t)=>{let n=e.find(e=>e.id===t);return n?n.children:(e.push({id:l,children:[]}),e)},n.treeArray)}),{cardIds:t,cardIdMap:n}};class m{compute(e){let t=g(e);c()(this.value,t)||(this.hasChanges=!0);let n=t.cardIds.filter(Boolean),a=n.filter((e,t)=>n.includes(e,t+1));return this.duplicateCardIds=a.filter(e=>!this.duplicateCardIds.includes(e)),this.value=t,this}apply(e,t){return e.docChanged&&this.compute(t),this}processChanges(e){this.hasChanges&&this.value&&e((0,u.t0)(this.value)),this.hasChanges=!1}constructor(){this.hasChanges=!1,this.duplicateCardIds=[],this.value=null}}let x=new r.hs("cardIds"),f=i.YY.create({name:"cardIds",priority:s.y.CardIds,addOptions:()=>({enabled:!0}),addProseMirrorPlugins(){return this.options.enabled?[new r.k_({key:x,state:{init:()=>new m,apply:(e,t,n,a)=>t.apply(e,a)},appendTransaction:(e,t,n)=>{var i;let r=x.getState(n);if(!(null==r||null==(i=r.value)?void 0:i.cardIds))return null;if(e.some(e=>e.docChanged)&&r.duplicateCardIds.length&&!this.editor.isThumbnail){let t={duplicateIds:JSON.stringify(r.duplicateCardIds),transactions:JSON.stringify(b(e)),isThumbnail:this.editor.isThumbnail};null===o.zS||void 0===o.zS||o.zS.track(o.ng.DUPLICATE_CARD_IDS,{...t}),a.Cp("[generateCardIdMap] Duplicate cardIds detected. This is unexpected and will cause spotlight issues. Additional metadata:",{extra:t})}return null}})]:[]}}),b=e=>e.map(e=>{let t=e.steps.map(e=>{if(e instanceof l.Ln||e instanceof l.Wg){var t,n,a;let i=(null==(n=e.slice.toJSON())||null==(t=n.content)?void 0:t[0])||{},r={type:i.type,attrs:i.attrs,contentLength:null==(a=i.content)?void 0:a.length};return{name:e.constructor.name,from:e.from,to:e.to,sliceContentSimple:r}}return e instanceof l.q4?{name:e.constructor.name,pos:e.pos,attr:e.attr}:{name:e.constructor.name}}),n=Object.fromEntries(Object.entries(e.meta).map(e=>{let[t,n]=e;if("annotationEvent"===t){var a,i,r,l,o;return[t,{type:n.type,droppedBlockPos:n.droppedBlockPos,dragging:{inBlockLength:null==(i=n.dragging)||null==(a=i.inBlock)?void 0:a.length,inCardLength:null==(l=n.dragging)||null==(r=l.inCard)?void 0:r.length,origNodePos:null==(o=n.dragging)?void 0:o.origNodePos}}]}return"uiEvent"===t?[t,n]:[t,"object"==typeof n?"object":n]}));return{stepsData:t,docChanged:e.docChanged,selection:{from:e.selection.from,to:e.selection.to},selectionSet:e.selectionSet,metaData:n}})},72737:(e,t,n)=>{"use strict";n.d(t,{D5:()=>u,PR:()=>b,U5:()=>v,ZP:()=>m,bC:()=>g,oe:()=>y,vz:()=>x});var a=n(6029),i=n(99492),r=n(19564),l=n(77650),o=n(88586),s=n(99038),d=n(24729),c=n(70006);let u=(e,t)=>{var n;return(null==e||null==(n=e.organization)?void 0:n.id)!==(null==t?void 0:t.id)},p={PRIVATE:"private",LINK_VIEW:"link-view",LINK_COMMENT:"link-comment",LINK_EDIT:"link-edit",PASSWORD_VIEW:"password-view",PASSWORD_COMMENT:"password-comment",PASSWORD_EDIT:"password-edit",INDIVIDUAL:"individual",ORG_VIEW:"org-view",ORG_COMMENT:"org-comment",ORG_EDIT:"org-edit",ORG_MANAGE:"org-manage",CHANNEL_PRIVATE:"channel-private",PUBLIC:"public"},h=[p.ORG_VIEW,p.ORG_COMMENT,p.ORG_EDIT,p.ORG_MANAGE],g=()=>({[p.PRIVATE]:{title:()=>l.Ru._({id:"IZiYjM",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),subtitle:()=>l.Ru._({id:"nHujJB",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:i.DW4},[p.LINK_VIEW]:{title:()=>l.Ru._({id:"Pb5t/X",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:i.CQO},[p.LINK_COMMENT]:{title:()=>l.Ru._({id:"FUtIA5",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:i.CQO},[p.LINK_EDIT]:{title:()=>l.Ru._({id:"tNOSZi",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:i.CQO},[p.PASSWORD_VIEW]:{title:()=>l.Ru._({id:"s1I4TC",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:i.OKD},[p.PASSWORD_COMMENT]:{title:()=>l.Ru._({id:"ZVsBuN",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:i.OKD},[p.PASSWORD_EDIT]:{title:()=>l.Ru._({id:"IAzUDH",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:i.OKD},[p.INDIVIDUAL]:{title:()=>l.Ru._({id:"IB6oAl",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),subtitle:e=>"".concat(e," can access this ").concat(s.TP,"."),primaryIcon:i.X46},[p.ORG_VIEW]:{title:e=>e?l.Ru._({id:"S+losC",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP,org:e}}):l.Ru._({id:"Vk2WI0",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:i.URI,secondaryIcon:i.pS3},[p.ORG_COMMENT]:{title:e=>e?l.Ru._({id:"acq2w5",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP,org:e}}):l.Ru._({id:"2ASSnu",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:i.URI,secondaryIcon:i.DN2},[p.ORG_EDIT]:{title:e=>e?l.Ru._({id:"FFdz7p",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP,org:e}}):l.Ru._({id:"Ks6kIh",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:i.URI,secondaryIcon:i.zLW},[p.ORG_MANAGE]:{title:e=>e?l.Ru._({id:"3yNlmN",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP,org:e}}):l.Ru._({id:"4f22gH",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:i.URI},[p.CHANNEL_PRIVATE]:{title:()=>l.Ru._({id:"Tw6Jzi"}),primaryIcon:d.$Q},[p.PUBLIC]:{title:()=>l.Ru._({id:"NMHF69",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}),primaryIcon:i.Ge5}}),m=(e,t)=>{var n;return e?(null==e?void 0:e.orgAccess)==="manage"?p.ORG_MANAGE:(null==e?void 0:e.orgAccess)==="edit"?p.ORG_EDIT:(null==e?void 0:e.orgAccess)==="comment"?p.ORG_COMMENT:(null==e?void 0:e.orgAccess)==="view"?p.ORG_VIEW:(null==e?void 0:e.channels)&&e.channels.some(e=>null!==e.permission)?p.CHANNEL_PRIVATE:(null==e?void 0:e.collaborators)&&(null==e||null==(n=e.collaborators)?void 0:n.length)>1?p.INDIVIDUAL:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"token"===e.type&&"view"===e.permission&&""===e.token)?p.LINK_VIEW:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"token"===e.type&&"comment"===e.permission&&""===e.token)?p.LINK_COMMENT:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"token"===e.type&&"edit"===e.permission&&""===e.token)?p.LINK_EDIT:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"password"===e.type&&"view"===e.permission&&""===e.token)?p.PASSWORD_VIEW:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"password"===e.type&&"comment"===e.permission&&""===e.token)?p.PASSWORD_COMMENT:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"password"===e.type&&"edit"===e.permission&&""===e.token)?p.PASSWORD_EDIT:v(e,t)?p.PRIVATE:p.INDIVIDUAL:null},x=e=>(null==e?void 0:e.orgAccess)?l.Ru._({id:"5Ma3Lv",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.TP}}):null,f=(e,t,n)=>{var l,s;if(!t)return[];let g=(null==e||null==(l=e.channels)?void 0:l.map(e=>{let{id:t,name:n,slug:a}=e;return{id:t,label:n,href:(0,c.gU)({id:t,slug:a}),icon:d.$Q}}))||[],x=m(e,t),f=u(e,n),b=f?[{id:"shared-from-external-org",label:(null==e||null==(s=e.organization)?void 0:s.name)?(0,a.jsx)(r.x6,{id:"lFZJ+N",values:{0:e.organization.name}}):(0,a.jsx)(r.x6,{id:"qn35Ez"}),icon:i.AQM,color:"gray.500"}]:[];if(e.source!==o.ALe.ApiAiGenerated||f||b.push({id:"ai-generated",label:(0,a.jsx)(r.x6,{id:"OZtEcz"}),icon:i.jTw,color:"gray.500",colorScheme:"green"}),x===p.PUBLIC)return[{id:"public",label:(0,a.jsx)(r.x6,{id:"7d1a0d"}),icon:i.Ge5,color:"gray.500"},...b,...g];if(x===p.PRIVATE)return[{id:"private",label:(0,a.jsx)(r.x6,{id:"zwBp5t"}),icon:i.DW4,color:"gray.500"},...b];if(x===p.INDIVIDUAL){let n=(e.collaborators||[]).filter(e=>e.user.id!==t.id).length;return[{id:"collaborators",label:(0,a.jsx)(r.x6,{id:"o2NxSP",values:{numCollaborators:n}}),icon:i.X46,color:"gray.500"},...b]}if(f)return b;if(x&&h.includes(x))return[{id:"workspace",label:(0,a.jsx)(r.x6,{id:"0Gd0NU"}),icon:i.URI,color:"gray.500"},...b,...g];return g},b=e=>{let{doc:t,user:n,currentWorkspace:a,channelToExclude:i}=e;return f(t,n,a).filter(e=>e.id!==i)},v=(e,t)=>{var n;return e&&t&&!e.orgAccess&&(null==(n=e.createdBy)?void 0:n.id)===t.id},y=e=>({title:e?(0,a.jsx)(r.x6,{id:"Cjc2Uk",values:{docTitle:e}}):(0,a.jsx)(r.x6,{id:"og/uYl"}),description:(0,a.jsx)(r.x6,{id:"lO2nUo"}),status:"info",duration:5e3,isClosable:!0,position:"top"})},72809:(e,t,n)=>{"use strict";n.d(t,{m:()=>l});var a=n(6029),i=n(19564),r=n(99038);let l={invalid_signup_code:{title:(0,a.jsx)(i.x6,{id:"F6yt1L",values:{GAMMA_PROPER_NOUN:r.On}}),description:(0,a.jsx)(i.x6,{id:"hVNvhu"})},invalid_reset_code:{title:(0,a.jsx)(i.x6,{id:"SvShcH"}),description:(0,a.jsx)(i.x6,{id:"Vm3y4h"})},invalid_user:{title:(0,a.jsx)(i.x6,{id:"a2AYF6"}),description:(0,a.jsx)(i.x6,{id:"x9CdxW",values:{GAMMA_PROPER_NOUN:r.On}})},other_workspace_member:{title:(0,a.jsx)(i.x6,{id:"J5F9Vo"}),description:(0,a.jsx)(i.x6,{id:"PX8jn2",values:{GAMMA_PROPER_NOUN:r.On,GAMMA_SUPPORT_EMAIL_ADDRESS:r.uz}})}}},72926:(e,t,n)=>{"use strict";n.d(t,{$w:()=>D,HQ:()=>P,Zb:()=>_,f0:()=>N,hx:()=>T,p_:()=>z,yU:()=>M});var a=n(46898),i=n(77650),r=n(22905),l=n(13731),o=n.n(l),s=n(26194),d=n.n(s),c=n(35342),u=n.n(c),p=n(83817),h=n.n(p),g=n(55729),m=n(74158),x=n(88586),f=n(58809),b=n(15342),v=n(17928),y=n(43634),w=n(73014),C=n(33201),A=n(56603),j=n(82927),k=n(77639),S=n(29608),I=n(68143);let E=(0,S.Xb)()?"bottom":"top";function R(e){return e?e.reduce((e,t)=>(t.targetId&&(e[t.targetId]?e[t.targetId].push(t):e[t.targetId]=[t]),e),{}):null}let L=e=>e.filter(e=>!!e.spec.isAnnotation),D=e=>(0,b.GV)(t=>{let n=(0,f.Jo)(t),a=R(((null==n?void 0:n.comments)||[]).filter(e=>e.status===x.EB6.Open));if(!a)return[];let i=L(e);return u()(i,e=>{let{spec:t}=e;return a[t.id]}).filter(Boolean)},h()),M=e=>e.filter(e=>!!e.spec.isDraftComment).map(e=>e.spec.comment),_=e=>{let{draftComment:t,clearDraftComment:n,editor:l}=e,[o]=(0,x.eRM)(),s=(0,a.d)(),d=l.gammaDocId,{user:c}=(0,j.ur)();return e=>{var a;if(!t)return;let{relativePos:u,targetId:p}=t,h=(0,A.d_)(l.state,u);if(!h)throw Error("Could not save comment, null pos from relativePos");let g=(0,r.eL)(l.state.doc.resolve(h),C.jg),m=l.view.state.doc.nodeAt(h),f=t.targetHtml||(0,w.Lo)(m,["footnote","footnoteLabel","cardNotes"]),b=t.targetHtml||(0,w.V6)(m,["footnote","footnoteLabel","cardNotes"]);l.commands.addAnnotation({id:p,pos:h});let v={targetId:p,docId:d,cardId:null==g||null==(a=g.node)?void 0:a.attrs.id,content:e,targetHtml:f,targetText:b};o({variables:{input:v},update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(d),fragment:k.Mi,fragmentName:"DocCommentsCreate",data:{comments:[null==n?void 0:n.createComment]}})},optimisticResponse:{createComment:{id:"temp-id",commentId:"",__typename:"Comment",...v,content:JSON.parse(JSON.stringify(e)),user:c,archived:!1,reactions:[],replies:[],status:x.EB6.Open,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}),s({title:i.Ru._({id:"4kSebh"}),status:"success",duration:5e3,isClosable:!1,position:E}),n()}},T=(e,t)=>{(0,g.useEffect)(()=>{let n=!0,a=a=>{let{selectionPos:i,parentPos:r,text:l}=a;n&&e()===r&&t({targetHtml:l,getPos:()=>i})};return v.LF.on(v.DN.CREATE_COMMENT_FROM_SELECTION,a),()=>{v.LF.on(v.DN.CREATE_COMMENT_FROM_SELECTION,a),n=!1}},[e,t])},N=e=>{let{showComment:t,comments:n,blockAllowsCommenting:a,highlightDuration:i=4e3}=e,[r,l]=(0,g.useState)(null);return(0,g.useEffect)(()=>{let e=!0,r=r=>{let{commentId:o,highlightComment:s=!1}=r;if(!e||!a)return;let d=(0,I.J2)(n,o);d&&(t(d),s&&(l(o),setTimeout(()=>{e&&l(null)},i)))};return v.LF.on(v.DN.OPEN_POPUP_COMMENT,r),()=>{v.LF.off(v.DN.OPEN_POPUP_COMMENT,r),e=!1}},[n,a,i,t]),r},z=e=>{let t=(0,m.wA)(),n=(0,b.GV)((0,y.iZ)(e)),a=(0,g.useRef)(null),[i,r]=(0,g.useState)(!1),l=(0,g.useCallback)(e=>{a.current=e,r(!!e)},[]),o=(0,g.useCallback)(()=>{a.current=n,r(!!n)},[n]),s=(0,g.useCallback)(()=>{var n;if(!a.current||!(null==(n=a.current.text)?void 0:n.length))return void t((0,y.zq)({id:e}));t((0,y.rR)({id:e,reply:a.current}))},[e,t]),d=(0,g.useRef)(s);return(0,g.useEffect)(()=>{d.current=s},[s]),(0,g.useEffect)(()=>(o(),()=>{d.current()}),[]),{hasLocalDraftReply:i,initialDraftReply:a.current,updateLocalDraftReply:l}},P=e=>(0,b.GV)(t=>{let n=(0,f.Jo)(t),a=R((null==n?void 0:n.reactions)||[]);if(!a)return[];let i=L(e),r=u()(i,e=>{let{spec:t}=e;return a[t.id]}).filter(Boolean),l=o()(r,"emoji"),s=[];for(let[e,t]of Object.entries(l)){let n=t.reduce((e,t)=>e+t.count,0);s.push({emoji:e,count:n,reactions:t})}return d()(s.filter(e=>e.count>0),"count").reverse()},h())},73014:(e,t,n)=>{"use strict";n.d(t,{Lo:()=>l,V6:()=>o});var a=n(22905),i=n(64072);let r=new Set(["bullet","numbered","todo","title","heading","paragraph","image","blockquote","embed","video"]),l=(e,t)=>{if(r.has(e.type.name)){let n={type:"card",content:[e.toJSON()]},r=(0,i.C)().map(e=>(null==t?void 0:t.includes(e.name))?e instanceof a.CU?e.extend({renderHTML:()=>["span",0]}):e.extend({renderHTML:()=>""}):e);return(0,a.Zx)(n||{},r)}return""},o=(e,t)=>{if(r.has(e.type.name)){let n={type:"card",content:[e.toJSON()]},r=(0,i.C)().map(e=>(null==t?void 0:t.includes(e.name))?(e instanceof a.CU,e.extend({renderText:()=>""})):e);return(0,a.Df)(n||{},r)}return""}},73071:(e,t,n)=>{"use strict";n.d(t,{b:()=>d,f:()=>s});var a=n(55765),i=n.n(a),r=n(55729);class l{subscribe(e,t){return this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t),()=>{try{if(!this.listeners[e])return;let n=this.listeners[e].indexOf(t);n>-1&&this.listeners[e].splice(n,1)}catch(e){}}}isRendered(e){return this.renderedMap[e]}onRendered(e){var t;this.renderedMap[e]=!0,null==(t=this.listeners[e])||t.forEach(e=>e())}onEditorUnload(e){this.renderedMap[e]=!1,this.listeners[e]=[]}constructor(){this.renderedMap={main:!1},this.listeners={}}}let o=i()(()=>new l),s=e=>({setEditorRendered:(0,r.useCallback)(()=>{e&&o().onRendered(e)},[e]),onEditorUnload:(0,r.useCallback)(()=>{e&&o().onEditorUnload(e)},[e])}),d=e=>{var t;let[n,a]=(0,r.useState)(void 0===e||null==(t=o().isRendered(e))||t);return(0,r.useEffect)(()=>{if(e)return o().subscribe(e,()=>{a(!0)})},[e]),n}},73077:(e,t,n)=>{"use strict";n.d(t,{i8:()=>p});var a=n(44245),i=n(1057),r=n(45574),l=n(34832);async function o(e){let{prompt:t,language:n,variant:a,context:i}=e,r=JSON.parse(await (0,l.K8)({promptKey:"GenerateDiagram",variables:{variant:a,prompt:t,language:n},workspaceId:i.workspaceId}));if(!r.variant||!r.data)throw Error("Invalid response format from GenerateDiagram prompt");return r}var s=n(90047);class d{detectNode(e){if(e.type.name!==this.nodeType||!this.getNodeId(e))return!1;let t=e.attrs;return!!(t&&t.aiGenerateParams&&"queued"===t.aiGenerateStatus)}getNodeId(e){var t;return(null==(t=e.attrs)?void 0:t.id)||null}getCacheKey(e,t){var n;let a=this.getNodeId(e),i=t.interactionId,r=e.attrs,l=r.templateKey,o=null==(n=r.aiGenerateParams)?void 0:n.prompt;return o||console.error("[SmartDiagramProcessor.getCacheKey] No prompt in aiGenerateParams"),"".concat(i,"__").concat(this.nodeType,"__").concat(a,"__").concat(l,"__").concat(o)}async processNode(e,t){let n=e.attrs||{};try{let e=await o({prompt:n.aiGenerateParams.prompt,language:n.aiGenerateParams.language,variant:n.templateKey,context:{docId:t.docId,workspaceId:t.workspaceId,interactionId:t.interactionId}}),i=(0,a.FV)(e.variant);return{...n,templateKey:e.variant,aiGenerateStatus:"done",horizontalAlign:"center",data:{...e.data,colorScheme:null==i?void 0:i.defaultColorScheme}}}catch(t){console.error("[SmartDiagramProcessor] Error processing ".concat(this.nodeType,":"),t);let e=n.templateKey?(0,a.FV)(n.templateKey):void 0;return{...n,aiGenerateStatus:"error",data:(null==e?void 0:e.defaultData)?e.defaultData():void 0}}}constructor(){this.nodeType="smartDiagram"}}class c{detectNode(e){let t=(0,r.um)(e);return!!(t&&"queued"===t.loadImageStatus&&t.loadImageId&&t.loadImageParams)}getNodeId(e){let t=(0,r.um)(e);return(null==t?void 0:t.loadImageId)||null}getCacheKey(e,t){var n;let a=this.getNodeId(e),i=t.interactionId,l=null==(n=(0,r.um)(e).loadImageParams)?void 0:n.query;return l||console.error("[ImageProcesor.getCacheKey] No query for in loadImageParams"),"".concat(i,"__").concat(this.nodeType,"__").concat(a,"__").concat(l)}async processNode(e,t){let n=(0,r.um)(e);try{let a=await (0,s.a)({loadImageId:n.loadImageId,loadImageParams:n.loadImageParams,context:{docId:t.docId,workspaceId:t.workspaceId,interactionId:t.interactionId},imageStore:t.imageStore});return(0,r.wH)(e,a)}catch(n){if(console.error("[ImageProcessor] Error processing ".concat(this.nodeType,":"),n),"cardAccentLayoutItem"===e.type.name&&t.theme)return{...e.attrs,background:(0,i.gN)(t.theme,t.cardId)};return(0,r.wH)(e,{loadImageStatus:"error"})}}constructor(){this.nodeType="image"}}class u{detectNode(e){if(e.type.name!==this.nodeType||!this.getNodeId(e))return!1;let t=e.attrs.code;return!!t&&this.findImages(t).length>0}findImages(e){return Array.from(new DOMParser().parseFromString(e,"text/html").querySelectorAll(this.selector))}getNodeId(e){var t;return(null==(t=e.attrs)?void 0:t.id)||null}getCacheKey(e,t){let n=this.getNodeId(e),a=t.interactionId;return"".concat(a,"__").concat(this.nodeType,"__").concat(n)}async processNode(e,t){let n=e.attrs,{code:a}=n,i=new DOMParser().parseFromString(a,"text/html"),r=Array.from(i.querySelectorAll(this.selector));return await Promise.all(r.map(async e=>{try{let n=e.getAttribute("prompt")||e.getAttribute("query"),a=await (0,s.a)({loadImageId:e.id,loadImageParams:{provider:"ICON"===e.tagName?"icon":"aiGenerated",query:n,options:{}},context:{docId:t.docId,workspaceId:t.workspaceId,interactionId:t.interactionId},imageStore:t.imageStore});e.src=a.src||"",e.alt=a.query||"",e.removeAttribute("prompt")}catch(t){console.error("Failed to load image:",t),e.removeAttribute("prompt")}})),{...n,aiGenerateStatus:"done",code:i.body.innerHTML}}constructor(){this.nodeType="cardCodeItem",this.selector="img[prompt], icon[query]"}}let p=()=>[new d,new c,new u]},73110:(e,t,n)=>{"use strict";n.d(t,{O:()=>r,j:()=>l});var a=n(15342),i=n(30286);let r=()=>(0,a.GV)(i.H6),l=()=>(0,i.H6)((0,a.KA)().getState())},73247:(e,t,n)=>{"use strict";n.d(t,{J:()=>x,e:()=>f});var a=n(81278),i=n(55729),r=n(99767),l=n(43266),o=n(15342),s=n(22529),d=n(30286),c=n(91405),u=n(82297),p=n(73110),h=n(6807),g=n(65148);let m=(e,t)=>{let n=(0,u.H)(),a=(0,u._Y)();return e||t||(a?n:r.jA)},x=()=>{let e=(0,o.KA)();return m((0,s.uy)(e.getState()),(0,c._)())};function f(){let e=(0,o.jL)(),t=(0,p.O)(),{query:n}=(0,a.useRouter)(),{locale:u}=n,m=r.jF.includes(u)&&u,f=(0,o.jL)(),b=(0,o.GV)(d.vM),[v,y]=(0,h.M)(g.E.isPseudoLocaleActive,!1);(0,i.useEffect)(()=>{v&&f((0,d.n9)({isActive:v}))},[f]),(0,i.useEffect)(()=>{y(b)},[y,b]);let w=(0,o.GV)(d.Nk),C=(0,o.GV)(d.vM),A=(0,o.GV)(s.uy),j=(0,i.useCallback)(t=>{(0,l.A)(t),e((0,d.TJ)({locale:t}))},[e]);(0,i.useEffect)(()=>C?void(0,l.A)(r.EA):m?void j(m):w?void j(w):A?void j(A):void j(x()),[C,m,w,A,j]),(0,i.useEffect)(()=>{t&&(0,c.Y)(t)},[t])}},73581:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var a=n(12562),i=n(7158);let r=async function(e,t){var n,r;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.of.get("aiRequestRetries").chat;l.retries=null!=(r=l.retries)?r:o;let s=await (0,i.V1)({...e,interactionId:t},l);return null==s||null==(n=s.chatCompletion)?void 0:n[0].content}},73737:(e,t,n)=>{"use strict";n.d(t,{K:()=>c,z:()=>u});var a=n(6029),i=n(26420);n(55729);var r=n(91938),l=n(15342),o=n(15607),s=n(43634),d=n(25600);let c=e=>{let{enterZoom:t,doubleClickNonZoomHandler:n,...o}=e,d=(0,l.GV)(s.nD),c=!d,u=d&&!n;return r.$.GAMMA_PUPPETEER_SERVICE?null:(0,a.jsx)(i.a,{inset:0,w:"100%",h:"100%",position:"absolute",zIndex:1,cursor:c?"zoom-in":"default",onDoubleClick:u?t:n,onClick:c?t:void 0,"data-testid":"zoom-click-capture","data-zoom-click-capture":!0,opacity:0,...o})},u=e=>{let{decorations:t,node:n,editor:r}=e,c=(0,d.DM)(t)||!(0,o.We)(r),u=(0,l.GV)(s.nD),{displayStyle:p}=n.attrs;return(0,a.jsx)(i.a,{position:"absolute",inset:0,zIndex:1,pointerEvents:u&&!c&&"inline"===p?"auto":"none",cursor:"default"})}},73813:(e,t,n)=>{"use strict";n.d(t,{D0:()=>i,Hj:()=>l,aG:()=>d,cw:()=>r,hu:()=>s,kb:()=>a,md:()=>o});let a=75,i="".concat(a,"px"),r=10,l="navbar-view-backdrop",o="navbar-view-content",s="data-navbar-closed-toggle",d=()=>({type:"doc",content:[{type:"navbar",attrs:{image:{source:"image.custom"}},content:[{type:"navbarLinks",attrs:{horizontalAlign:"center"}},{type:"navbarButtons"}]}]})},73867:(e,t,n)=>{"use strict";n.d(t,{S:()=>d});var a=n(6029),i=n(40452),r=n(26420),l=n(48810),o=n(91106),s=n(19564);n(55729);let d=e=>{let{createdByName:t,createdByProfileImageUrl:n,createdByYou:d,timestampDescription:c}=e;return(0,a.jsxs)(i.s,{align:"center",children:[(0,a.jsx)(o.Vc,{size:"xs",fontSize:"xs",name:t,src:n,tooltipProps:{placement:"top"}}),(0,a.jsxs)(r.a,{marginInlineStart:2,marginInlineEnd:2,w:"100%",children:[(0,a.jsx)(l.E,{noOfLines:1,fontSize:"xs",w:"100%",wordBreak:"break-all",children:d?(0,a.jsx)(s.x6,{id:"WZTg05"}):(0,a.jsx)(s.x6,{id:"pS1F3d",values:{createdByName:t}})}),c&&(0,a.jsx)(l.E,{noOfLines:1,fontSize:"11px",color:"gray.400",children:c})]})]})}},73971:(e,t,n)=>{"use strict";n.d(t,{k:()=>u,x:()=>p});var a=n(45214),i=n(40077),r=n(17006),l=n(39659),o=n(90026);let s=e=>{var t;return{"div.textbox":{display:"flex",flexDirection:"column",alignItems:"var(--horizontal-align)",justifyContent:"var(--vertical-align)",textAlign:"var(--text-align)","--flex-align":"var(--horizontal-align)",height:"100%",...(0,i.dd)(e),fontSize:"".concat((null!=(t=e.config.fontSize)?t:1)*20,"px"),color:"var(--body-color)",".ProseMirror":{padding:"".concat(8,"px"),...d(e)}},foreignObject:{overflow:"visible","*":{wordWrap:"normal",whiteSpace:"pre-wrap"},"[data-autosize].textbox":{"> .text":{width:"max-content"}},"p.paragraph:empty::after":{content:'" "',whiteSpace:"pre",visibility:"hidden"},".textbox > .text":{padding:"".concat(8,"px"),width:"100%",alignItems:"var(--flex-align)",display:"block",...e.config.contentStyles,...c(e),".themed-heading":{position:"static"}}}}},d=e=>({lineHeight:1.4,letterSpacing:"var(--letter-spacing-body)",".block":{my:"1rem"},"> .first-block":{mt:"0rem"},"> .last-block":{mb:"0rem"},'.heading[level="1"], h1':(0,r.bh)("h1",e),'.heading[level="2"], h2':(0,r.bh)("h2",e),'.heading[level="3"], h3':(0,r.bh)("h3",e),'.heading[level="4"], h4':(0,r.bh)("h4",e),".block-heading":{mt:"1rem",mb:"1rem","&.first-block":{mt:"0rem"},"&.last-block":{mb:"0rem"}},...l.h.default,...o.H.default,...(0,r.tX)(e),"a.link":{color:"var(--text-color, var(--link-color))",cursor:"pointer",fontWeight:"bold",textDecoration:"underline","&:hover":{color:"var(--text-color, var(--link-color))"},"&:active":{color:"var(--text-color, var(--link-color))"}},code:{backgroundColor:"var(--accent-color-background-muted)",color:"var(--body-color)",...l.w}}),c=e=>({lineHeight:1.4,"> *":{my:"1rem","&:first-child":{mt:"0rem"},"&:last-child":{mb:"0rem"}},h1:(0,r.bh)("h1",e),h2:(0,r.bh)("h2",e),h3:(0,r.bh)("h3",e),h4:(0,r.bh)("h4",e),"h1, h2, h3, h4":{mt:"1rem",mb:"1rem",width:"100% !important"}}),u=e=>({"[data-shape=image]":{".tl-inner-div":{}},img:{'&[src^="blob:"]':{animation:"loading-pulse-animation 1.5s infinite"}},...{text:{fill:"var(--body-color)"},"[data-shape-type=geo]":{path:{...a.Re,fill:"var(--shape-bg-color-override, var(--shape-bg-image-svg) var(--shape-bg-color))",vectorEffect:"none",strokeWidth:"var(--stroke-width)"},"&.tl-shape-background":{strokeWidth:0},".textbox":{padding:"12px"}},"[data-shape-type=arrow]":{"g, path":{stroke:"var(--shape-border-color-override, var(--shape-border-color))",strokeWidth:"var(--stroke-width)"},".tl-arrow-label":{color:"var(--shape-border-color-override, var(--body-color)) !important"},text:{fill:"var(--shape-border-color-override, var(--body-color))"}},"[data-shape-type=line]":{path:{stroke:"var(--shape-border-color-override, var(--shape-border-color))",strokeWidth:"var(--stroke-width)"}},"[data-shape-type=image]":{"[data-image-upload-status]":{".tl-image-container":{backgroundImage:"var(--temp-url)",objectFit:"cover",backgroundSize:"cover"}}},...s(e)}}),p=(e,t)=>(t&&"none"===e&&(e="sm"),({none:0,sm:2,md:4,lg:6})[e])},74355:(e,t,n)=>{"use strict";n.d(t,{CD:()=>d,IN:()=>o,Wp:()=>s,rZ:()=>c});var a=n(58495),i=n(15342),r=n(81089),l=n(43634);let o=(e,t,n)=>{e&&t&&e.replacePageContent(t.shapes,t.bindings,n)},s=(e,t)=>{e.setSetting("isSnapping",t),setTimeout(()=>{(0,r.lN)(e,t?128:10)})},d=(e,t)=>{(0,i.KA)().dispatch((0,l.v5)(t?{drawingId:e}:{drawingId:null}))},c=()=>(0,a.Ak)(5)},74471:(e,t,n)=>{"use strict";n.d(t,{I:()=>d});var a=n(6029),i=n(49611),r=n(48621),l=n(91106);n(55729);var o=n(56288),s=n(80180);let d=e=>{let{label:t,shortcut:n,disabled:l=!1,color:o,isActive:d=!1,onClick:u,icon:p,iconRotation:h,testId:g,children:m,flipIcon:x,...f}=e,b=(0,a.jsx)(i.$,{isDisabled:l,color:o,variant:d?"activeToolbar":"toolbar",onClick:u,"data-testid":g,onMouseDown:s.Fw,size:"sm",...f,children:p?(0,a.jsx)(r.g,{icon:p,rotation:h,flip:x,fixedWidth:!0}):m||null});return t?(0,a.jsx)(c,{label:t,shortcut:n,children:b}):b},c=e=>{let{label:t,shortcut:n,children:i}=e;return(0,a.jsx)(l.Tz,{placement:"top",portalProps:{containerRef:(0,o.EC)()},label:t,shortcut:n,children:i})}},74945:(e,t,n)=>{"use strict";n.d(t,{Gx:()=>o,mL:()=>d,rB:()=>s,zm:()=>c});var a=n(55729),i=n(58809),r=n(15342),l=n(82927);let o=()=>{let e=(0,r.GV)(i.Jo),t=(0,l.Iy)("edit",e),n=(0,a.useRef)(t);return e&&(n.current=t),n.current},s=()=>{var e;let t=(0,r.GV)(i.Jo);return(null==t||null==(e=t.accessLinks)?void 0:e.length)===0},d=()=>{let e=(0,r.GV)(i.Jo),t=(0,l.Iy)("manage",e),n=(0,a.useRef)(t);return e&&(n.current=t),n.current},c=()=>{let e=o(),t=(0,r.GV)(i.Jo),n=(0,l.Iy)("edit",t);return(null==t?void 0:t.site)?e:n}},75484:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var a=n(22905);n(55729);class i extends a.KE{constructor(...e){super(...e),this.contentComponent=null}}},75495:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var a=n(12364),i=n.n(a),r=n(55729);let l=e=>{let[t,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(!e)return;let t=e=>{let{editor:t}=e;n(t.state.selection)};t({editor:e});let a=i()(t,200,{leading:!0});return e.on("selectionUpdate",a),()=>{e.off("selectionUpdate",a)}},[e]),{selection:t}}},75703:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});let a=e=>e.slice(-7).map(e=>"User"===e.from?{role:"user",content:e.message}:e.isClassification?{role:"assistant",content:e.message}:e.resp?{role:"assistant",content:e.resp}:null).filter(e=>!!(null==e?void 0:e.content))},75748:(e,t,n)=>{"use strict";n.d(t,{r:()=>h});var a=n(6029),i=n(24302),r=n(26385),l=n(26420),o=n(48810),s=n(51684),d=n(48621),c=n(19564),u=n(55729);let p={padding:{sm:4,md:4,lg:6},fontSize:{sm:"sm",md:"md",lg:"lg"},iconSize:{sm:"lg",md:"2x",lg:"3x"},labelFontSize:{sm:"xs",md:"sm",lg:"md"},spacing:{sm:1,md:2,lg:3}},h=(0,u.memo)(e=>{let{description:t,heading:n,isConnected:u=!0,size:h="lg",...g}=e,m=(0,i.dU)("gray.50","whiteAlpha.100");if(u)return null;let{spacing:x,padding:f,iconSize:b,fontSize:v,labelFontSize:y}=p;return(0,a.jsxs)(r.B,{spacing:x[h],p:f[h],borderRadius:"lg",bg:m,textAlign:"center",alignItems:"center",...g,children:[(0,a.jsx)(l.a,{opacity:.5,children:(0,a.jsx)(d.g,{icon:s.seF,size:b[h]})}),(0,a.jsx)(o.E,{fontWeight:"600",fontSize:v[h],mt:2,children:n||(0,a.jsx)(c.x6,{id:"ysdDIA"})}),(0,a.jsx)(o.E,{color:"gray.500",fontSize:y[h],children:t})]})});h.displayName="OfflineInfoBox"},75984:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var a=n(6029),i=n(55729),r=n(53587),l=n(66079),o=n(62917),s=n(62961),d=n(59858);let c=e=>{let{closeDrawer:t,editor:n,updateNestedAttributes:c,background:u,defaultMessage:p,isDark:h,isValidSource:g,defaultToNoBackgroundSource:m}=e,{currentEditBackgroundDrawerSourceKey:x,setBackgroundDrawerSourceKeyAction:f}=(0,o.Bz)(),b=l.Fn[x],v=(0,i.useCallback)(e=>{b.key===r.j?c({background:e}):c({background:{...e,accentId:void 0}})},[null==b?void 0:b.key,c]),y=(0,i.useCallback)(e=>g?g(e)&&(0,d.S0)(e):(0,d.S0)(e),[g]);return(0,a.jsx)(s.v,{closeDrawer:t,editor:n,isDark:h,isValidSource:y,defaultMessage:p,currentBackground:u,updateCurrentBackground:v,currentSourceKey:x,setCurrentSourceKey:f,currentSource:b,defaultToNoBackgroundSource:m})}},76083:(e,t,n)=>{"use strict";n.d(t,{E1:()=>a.E1,GO:()=>r.G,Jb:()=>i.J,Vo:()=>a.Vo,fS:()=>i.f,gT:()=>a.gT});var a=n(42644),i=n(55786),r=n(52055)},76373:(e,t,n)=>{"use strict";n.d(t,{w:()=>c});var a=n(24926),i=n(16491),r=n(55452),l=n(55729),o=n(95889),s=n(11916),d=n(56801);let c=e=>{let{doc:t,source:n,editor:c,fileName:u,cardIds:p,cardRanges:h}=e,g="https://www.googleapis.com/auth/drive.file",m=(0,l.useRef)(null),x=(0,o.st)(),f=(0,i.mg)({scope:g,prompt:"",onSuccess:async e=>{let{showErrorToast:l,showEmailToast:f,showSuccessToast:b,setExportInProgress:v,exportWaitWarnTimeout:y}=m.current,w="";if(!(0,i.DY)(e,g))return void l();w=e.access_token;let C=null==c?void 0:c.getJSON(),A="google_slides";(0,s.QH)(t.id,C,"google_slides","card_export_menu"===n,u,p,h,w).then(async e=>{let a=await e.json();if(!e.ok){if(console.error("Export failed:",{status:e.status,statusText:e.statusText}),400===e.status)throw new d.P("Google drive upload failed",a.error);throw Error("Fetching export failed: ".concat(e.status," ").concat(e.statusText))}let i=o.VV.GSLIDES_EXPORTED;i&&(null==x||x.track(i,{doc_id:t.id,source:n})),b(a.url,"web"),window.open(a.url,"_blank")}).catch(e=>{"AbortError"===e.name?f():(r.Cp(e,{extra:{docId:t.id,format:A,source:n}}),a.yf.logger.error("[useHandleExport] Error exporting doc",{docId:t.id,format:A,source:n},e),e instanceof d.P?l(e.code):l())}).finally(()=>{v(!1),clearTimeout(y)})}});return{interceptFileExport:e=>"google_slides"===e.format&&(m.current=e,f(),!0)}}},76478:(e,t,n)=>{var a={"./ar/messages":[26994,6994],"./bg/messages":[27850,7850],"./bs/messages":[55086,5086],"./cs/messages":[68277,8277],"./da/messages":[18606,8606],"./de/messages":[30650,650],"./el/messages":[2360,2360],"./en/messages":[28066,8066],"./es/messages":[58979,8979],"./et/messages":[4688,4688],"./fa/messages":[92400,2400],"./fi/messages":[17096,7096],"./fr/messages":[79871,9871],"./he/messages":[33006,3006],"./hi/messages":[51186,1186],"./hr/messages":[9461,9461],"./hu/messages":[36126,6126],"./id/messages":[34324,4324],"./it/messages":[22308,2308],"./ja/messages":[13308,3308],"./kn/messages":[37332,7332],"./ko/messages":[51865,1865],"./lt/messages":[8391,8391],"./lv/messages":[32829,2829],"./nl/messages":[25977,5977],"./no/messages":[11166,1166],"./pl/messages":[43603,3603],"./pseudo-LOCALE/messages":[30810,810],"./pt-br/messages":[73466,3466],"./ro/messages":[61266,1266],"./ru/messages":[98272,5891],"./sl/messages":[73910,3910],"./sq/messages":[85903,5903],"./sr/messages":[71312,1312],"./sv/messages":[27012,7012],"./th/messages":[39051,9051],"./tl/messages":[84823,4823],"./tr/messages":[85481,5481],"./uk/messages":[58107,8107],"./ur/messages":[27070,7070],"./uz/messages":[37430,7430],"./vi/messages":[94136,4136],"./zh-cn/messages":[29819,9819],"./zh-tw/messages":[1099,1099]};function i(e){if(!n.o(a,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],i=t[0];return n.e(t[1]).then(()=>n.t(i,23))}i.keys=()=>Object.keys(a),i.id=76478,e.exports=i},76565:(e,t,n)=>{"use strict";n.d(t,{a:()=>V});var a=n(6029),i=n(68917),r=n(27229),l=n(89122),o=n(78140),s=n(36999),d=n(49611),c=n(12514),u=n(41283),p=n(26420),h=n(83550),g=n(72470),m=n(77979),x=n(85595),f=n(58959),b=n(48810),v=n(29810),y=n(51684),w=n(99492),C=n(55597),A=n(48621),j=n(91106),k=n(19564),S=n(77650),I=n(55729),E=n(57963),R=n(82328),L=n(90184),D=n(26814),M=n(39892),_=n(89528),T=n(74003),N=n(95889),z=n(8098),P=n(84130),O=n(35292),F=n(92137),H=n(42350),B=n(65273);let V=e=>{let{attrs:t,editor:n,...p}=e,h=(0,I.useRef)(null),g=(0,D.tO)(void 0,"imageChat",N.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGES),{isOpen:m,onClose:x,onToggle:f}=(0,r.j)();(0,l.j)({ref:h,handler:e=>{if(!m)return;let t=e.target;(null==t?void 0:t.closest("[data-image-chat-menu-trigger]"))||x()}});let b=(0,I.useRef)(null),v=(0,O.l)(t),{isInOfflineMode:y}=(0,R.u)(),{toggleBuddyChatPanel:w,isBuddyChatPanelOpen:E}=(0,F.n)(),L=(0,I.useCallback)(()=>{E||(w(),z.q.emit("hide",{}))},[E,w]),M=(0,I.useCallback)(function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];g()&&(L(),e&&t?setTimeout(()=>{P.W.emit("sendMessage",{message:e})},200):setTimeout(()=>{P.W.emit("prefillMessage",{message:e||""})},200))},[g,L]),_=(0,I.useCallback)(e=>{M(e.message?e.message():e.label(),!e.openWithoutSendingMessage)},[M]),{suggestions:T,generateSuggestionsStatus:H}=(0,B.s)(t),V=(0,I.useMemo)(()=>[{label:()=>S.Ru._({id:"7kAwBx"}),key:"quick-actions",operations:W},{label:()=>S.Ru._({id:"nyQWMb"}),key:"suggested",operations:T.map(e=>({key:e,label:()=>e,creditCostType:"imageChat"})),loading:"generating"===H}],[T,H]);return v?(0,a.jsx)(j.L8,{isDark:!1,children:(0,a.jsxs)(o.W,{isLazy:!0,onClose:x,onOpen:f,isOpen:m,closeOnBlur:!1,initialFocusRef:b,children:[(0,a.jsx)(j.Tz,{label:(0,a.jsx)(k.x6,{id:"vKZEFh"}),placement:"top",shouldWrapChildren:!0,children:(0,a.jsxs)(s.I,{as:d.$,isActive:m,isDisabled:y,"data-image-chat-menu-trigger":!0,...p,children:[(0,a.jsx)(A.g,{icon:C.p7g,fixedWidth:!0}),(0,a.jsx)(i.D,{})]})}),(0,a.jsx)(c.Z,{children:(0,a.jsx)(u.c,{"data-card-ai-menu":!0,minWidth:"320px",width:"fit-content",maxWidth:"min(360px, 80vw)",fontFamily:"body",fontSize:"md",border:"none","data-image-chat-menu-trigger":!0,maxH:"60vh",display:"flex",flexDirection:"column",children:(0,a.jsx)(U,{handleMessage:M,handleOperation:_,onClose:x,firstItemRef:h,inputRef:b,isDisabled:y,pb:2,groupedOperations:V,selected:t})})})]})}):null},W=[{key:"chat",label:()=>S.Ru._({id:"LJNDI6"}),creditCostType:"imageChat",icon:y.Y$q,message:()=>"",openWithoutSendingMessage:!0},{key:"remove-bg",label:()=>S.Ru._({id:"ylbfBl"}),creditCostType:"removeBackground",icon:w.IP$,checkEnabled:H.d.removeBackground.checkEnabled},{key:"upscale",label:()=>S.Ru._({id:"OcutTC"}),creditCostType:"imageChat",icon:w.oZK,productFeature:"ai_models_plus",checkEnabled:H.d.upscale.checkEnabled},{key:"vectorize",label:()=>S.Ru._({id:"ZF+2pT"}),creditCostType:"imageChat",icon:w.nlc,productFeature:"ai_premium_models",checkEnabled:H.d.vectorize.checkEnabled},{key:"animate",label:()=>S.Ru._({id:"2qLe/y"}),creditCostType:"animateImage",icon:w.OxR,productFeature:"ai_premium_models",checkEnabled:H.d.animate.checkEnabled}],U=(0,I.memo)(e=>{let{handleMessage:t,handleOperation:n,onClose:i,firstItemRef:r,inputRef:l,isDisabled:o,showCreditCosts:s=!0,opacityFadeUpsell:d=!1,groupedOperations:c,selected:u,...y}=e,{openUpsellModal:w}=(0,T.I)(),j="-webkit-gradient(linear, left top, left bottom, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)))";return(0,a.jsxs)(p.a,{px:.5,pt:.5,flex:1,overflowY:"auto",style:d?{WebkitMaskImage:j,maskImage:j}:void 0,...y,children:[(0,a.jsx)(h.r,{children:(0,a.jsxs)(g.M,{size:"sm",mb:2,children:[(0,a.jsx)(m.W,{fontSize:"sm",color:"deepocean.300",children:(0,a.jsx)(A.g,{icon:C.p7g})}),(0,a.jsx)(E._,{initialHeight:"32px",ref:l,paddingInlineStart:9,py:1.5,borderRadius:"xl",maxLength:300,isDisabled:o,onKeyDown:e=>{var n,a;if(!o){if("Enter"===e.key&&!e.shiftKey){e.preventDefault(),e.stopPropagation();let n=null==(a=l.current)?void 0:a.value;if(!n)return;t(n),i()}"ArrowDown"===e.key&&(null==(n=l.current)?void 0:n.value.length)===0&&(e.preventDefault(),e.stopPropagation(),r.current&&r.current.focus())}},placeholder:S.Ru._({id:"vKZEFh"})})]})}),c.map((e,t)=>{let l=e.operations.filter(e=>!e.checkEnabled||e.checkEnabled(u));return l&&0!==l.length?(0,a.jsx)(h.r,{title:e.label(),children:l.map((e,l)=>{var o;let d=!e.productFeature||(0,M.vT)(e.productFeature);return(0,a.jsx)(x.D,{icon:(0,a.jsx)(A.g,{icon:null!=(o=e.icon)?o:C._$C,fixedWidth:!0}),onClick:()=>{if(!d)return void w({segmentEvent:N.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGE_CHAT});n(e),i()},ref:0===l&&0===t?r:null,children:(0,a.jsxs)(f.z,{children:[(0,a.jsx)(b.E,{children:e.label()}),(0,a.jsx)(v.h,{}),e.productFeature?(0,a.jsx)(_.Ch,{productFeature:e.productFeature,canUseFeature:d}):s&&(0,a.jsx)(L.G,{type:e.creditCostType,colorScheme:"blackAlpha",color:"blackAlpha.600",fontSize:"sm"})]})},e.key)})},e.key):null})]})});U.displayName="ChatDropdownMenuGroups"},76610:(e,t,n)=>{"use strict";n.d(t,{m:()=>l});var a=n(6845),i=n(72688),r=n(87930);let l=(e,t)=>{var n,l;null==(n=r.U.getState(e.state))||n.compute(e.state.doc).processChanges(t),null==(l=i.Jl.getState(e.state))||l.compute(e.state).processChanges(t),e.commands.command(()=>((0,a.jL)(e.state.doc,t),!0))}},76694:(e,t,n)=>{"use strict";n.d(t,{u:()=>r,z:()=>l});var a=n(55729),i=n(80180);let r="is-dragging-over",l=(e,t)=>{let n=(0,a.useCallback)(n=>{var a;(!t||t(n))&&(null==(a=e.current)||a.classList.add(r))},[e]),l=(0,a.useCallback)(()=>{var t;return null==(t=e.current)?void 0:t.classList.remove(r)},[e]);return{onDragOver:i.JO,onDragEnter:n,onDragLeave:l,onDrop:l}}},77249:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,Z:()=>a});let a=(e,t)=>"".concat(e,"-").concat(JSON.stringify(t)),i=e=>{let[t,n]=e.split("-");return{key:t,options:JSON.parse(n)}}},77387:(e,t,n)=>{"use strict";n.d(t,{S:()=>f,o:()=>v});var a=n(6029),i=n(26420),r=n(55729),l=n(74158),o=n(48094),s=n(15342),d=n(6845),c=n(72688),u=n(87930),p=n(43634),h=n(95081),g=n(41896),m=n(64072),x=n(20011);let f=e=>{let{reduxData:t,...n}=e,i=(0,x.F)(t);return(0,a.jsx)(l.Kq,{store:i,children:(0,a.jsx)(b,{...n})})},b=e=>{let{onCreate:t=()=>{},initialContent:n,content:l,theme:x,isThumbnail:f,portalComponent:b}=e,[v,y]=(0,r.useState)(!1),w=(0,r.useMemo)(()=>(0,m.C)(),[]),C=(0,s.jL)();(0,r.useEffect)(()=>{C((0,p.Yl)({theme:x||null})),C((0,p.kd)({isAllowedToEdit:!1})),C((0,p.$j)({animationsEnabled:!1}))},[x,C]);let A=(0,g.hG)({async onCreate(e){var n;let{editor:a}=e;console.debug("[EditorPreview][onCreate] TipTap editor is now ready"),null==(n=c.Jl.getState(a.state))||n.compute(a.state).processChanges(C),a.commands.command(()=>((0,d.jL)(a.state.doc,C),!0)),y(!0),null==t||t({editor:a})},extensions:w,content:n,editable:!1});return(A.isThumbnail=f,(0,r.useEffect)(()=>{var e;l&&A&&(A.commands.setContent(l),A.commands.command(()=>((0,d.jL)(A.state.doc,C),!0)),null==(e=u.U.getState(A.state))||e.compute(A.state.doc).processChanges(C))},[l,A,C]),(0,o.GZ)(A),v)?(0,a.jsx)(i.a,{className:"editor-preview-root","data-variation-preview":!0,"data-testid":"editor-preview-root",width:"100%",position:"relative",sx:h.q,children:(0,a.jsx)(g.$Z,{editor:A,portalComponent:b,style:{width:"100%",height:"100%"},className:"highlight-mask"})}):(0,a.jsx)(a.Fragment,{})},v={"[data-thumbnail-hidden]":{display:"none !important"},"*":{backdropFilter:"none !important",webkitBackdropFilter:"none !important",WebkitTransition:"none !important",MozTransition:"none !important",OTransition:"none !important",msTransition:"none !important",transition:"none !important",vectorEffect:"none"},contain:"paint",".editor-core-root, .editor-preview-root":{height:"100% !important",width:"auto !important"},".doc-content-wrapper":{pb:"0 !important",minH:"auto !important"},"[data-doc-background-element], [data-doc-background-element-present-mode]":{display:"none !important"},".card2-background":{mt:0}}},77467:(e,t,n)=>{"use strict";n.d(t,{S:()=>a.S,_:()=>a._});var a=n(60277)},77569:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var a=n(51684),i=n(77650);let r={label:()=>i.Ru._({id:"Mm6AFs"}),description:()=>i.Ru._({id:"oKMJNm"}),key:"video.custom",icon:a.qtl,keywords:["video","audio","podcast","embed"],iframeOptions:{allowPopups:!0},preferHtml:!0}},77639:(e,t,n)=>{"use strict";n.d(t,{Mi:()=>er,aM:()=>ei});var a=n(9329),i=n(97662);function r(){let e=(0,a._)(["\n  fragment DefaultThemeFontFields on ThemeFont {\n    id\n    name\n    url\n  }\n"]);return r=function(){return e},e}function l(){let e=(0,a._)(["\n  ","\n  fragment DefaultThemeFields on Theme {\n    id\n    workspaceId\n    name\n    headingFont\n    headingFontWeight\n    bodyFont\n    bodyFontWeight\n    accentColor\n    logoUrl\n    config\n    priority\n    previewUrl\n    archived\n    createdTime\n    updatedTime\n    fonts {\n      ... on ThemeFont {\n        ...DefaultThemeFontFields\n      }\n    }\n  }\n"]);return l=function(){return e},e}function o(){let e=(0,a._)(["\n  ","\n  mutation CreateTheme($input: CreateThemeInput!) {\n    createTheme(input: $input) {\n      ...DefaultThemeFields\n      docCount\n    }\n  }\n\n  mutation UpdateTheme($input: UpdateThemeInput!) {\n    updateTheme(input: $input) {\n      ...DefaultThemeFields\n      docCount\n    }\n  }\n\n  mutation MakeThemeStandard($id: ID!, $newId: ID) {\n    makeThemeStandard(id: $id, newId: $newId) {\n      ...DefaultThemeFields\n      docCount\n    }\n  }\n\n  mutation DuplicateTheme($id: ID!) {\n    duplicateTheme(id: $id) {\n      ...DefaultThemeFields\n    }\n  }\n\n  query GetTheme($id: ID) {\n    theme(id: $id) {\n      ...DefaultThemeFields\n      createdBy {\n        id\n        displayName\n        email\n        profileImageUrl\n      }\n    }\n  }\n\n  query GetThemeWithCount($id: ID) {\n    theme(id: $id) {\n      ...DefaultThemeFields\n      docCount\n      siteCount\n      createdBy {\n        id\n        displayName\n        email\n        profileImageUrl\n      }\n    }\n  }\n\n  query GetThemes($workspaceId: ID, $archived: Boolean) {\n    themes(workspaceId: $workspaceId, archived: $archived) {\n      ...DefaultThemeFields\n      createdBy {\n        id\n        displayName\n        email\n        profileImageUrl\n      }\n    }\n  }\n\n  mutation ArchiveTheme($id: ID!) {\n    archiveTheme(id: $id) {\n      ...DefaultThemeFields\n      docCount\n      siteCount\n    }\n  }\n\n  mutation UnarchiveTheme($id: ID!) {\n    unarchiveTheme(id: $id) {\n      ...DefaultThemeFields\n    }\n  }\n"]);return o=function(){return e},e}let s=(0,i.J1)(r()),d=(0,i.J1)(l(),s);function c(){let e=(0,a._)(["\n  query SearchMention(\n    $workspaceId: ID!\n    $query: String!\n    $types: [SearchType!] = [user, doc]\n  ) {\n    search(orgId: $workspaceId, query: $query, types: $types) {\n      __typename\n      ... on DocResult {\n        id\n        title\n        text\n        archived\n        previewUrl\n        createdBy {\n          id\n          displayName\n          profileImageUrl\n        }\n        organization {\n          id\n        }\n        editors {\n          user {\n            id\n            displayName\n            profileImageUrl\n          }\n          lastViewed\n          lastEdited\n        }\n        docUser {\n          lastViewed\n          lastEdited\n          favorited\n        }\n        orgAccess\n        updatedTime\n        createdTime\n        editedTime\n      }\n      ... on User {\n        id\n        displayName\n        email\n        profileImageUrl\n      }\n    }\n  }\n"]);return c=function(){return e},e}function u(){let e=(0,a._)(["\n  fragment ReactionFields on Reaction {\n    emoji\n    count\n    targetId\n    targetType\n    docId\n    users {\n      id\n      displayName\n      profileImageUrl\n    }\n  }\n"]);return u=function(){return e},e}function p(){let e=(0,a._)(["\n  fragment CommentAuthorFields on User {\n    id\n    displayName\n    profileImageUrl\n    email\n  }\n"]);return p=function(){return e},e}function h(){let e=(0,a._)(["\n  ","\n  ","\n  fragment ReplyFields on Comment {\n    id\n    commentId\n    content\n    createdTime\n    updatedTime\n    archived\n    user {\n      ...CommentAuthorFields\n    }\n    reactions {\n      ...ReactionFields\n    }\n  }\n"]);return h=function(){return e},e}function g(){let e=(0,a._)(["\n  ","\n  ","\n  ","\n  fragment CommentFields on Comment {\n    id\n    docId\n    cardId\n    content\n    targetText\n    targetHtml\n    createdTime\n    updatedTime\n    archived\n    targetId\n    status\n    user {\n      ...CommentAuthorFields\n    }\n    replies {\n      ...ReplyFields\n    }\n    reactions {\n      ...ReactionFields\n    }\n  }\n"]);return g=function(){return e},e}function m(){let e=(0,a._)(["\n  fragment DocCollaboratorFields on DocCollaborator {\n    docId\n    user {\n      id\n      displayName\n      email\n      profileImageUrl\n    }\n    permission\n    guest\n    accessLinkId\n  }\n\n  fragment DocInvitationsFields on DocInvitation {\n    id\n    docId\n    email\n    permission\n  }\n"]);return m=function(){return e},e}function x(){let e=(0,a._)(["\n  fragment DocChannelFields on DocChannel {\n    id\n    name\n    slug\n    permission\n  }\n"]);return x=function(){return e},e}function f(){let e=(0,a._)(["\n  fragment DocEditorsFields on DocEditor {\n    user {\n      id\n      displayName\n      email\n      profileImageUrl\n    }\n    lastEdited\n  }\n"]);return f=function(){return e},e}function b(){let e=(0,a._)(["\n  fragment FileCollaboratorFields on FileCollaborator {\n    user {\n      id\n    }\n    fileId\n    permission\n    guest\n    accessLinkId\n  }\n"]);return b=function(){return e},e}function v(){let e=(0,a._)(["\n  ","\n  fragment FileFields on File {\n    id\n    title\n    titleEdited\n    archived\n    disabled\n    collaborators {\n      ...FileCollaboratorFields\n    }\n    site {\n      id\n      enabled\n    }\n    createdTime\n    updatedTime\n    editedTime\n    publishedTime\n    savedTime\n    pages {\n      id\n      title\n      path\n      offline\n      createdTime\n      updatedTime\n      editedTime\n    }\n    mainPageId\n\n    accessLinks {\n      id\n      docId\n      type\n      permission\n      token\n      url\n    }\n    channels {\n      id\n      permission\n    }\n    workspaceAccess\n    workspace {\n      id\n    }\n  }\n"]);return v=function(){return e},e}function y(){let e=(0,a._)(["\n  ","\n  ","\n  fragment DocSiteFields on Site {\n    id\n    archived\n    workspaceId\n    name\n    domains {\n      id\n      siteId\n      name\n      status\n      builtin\n      canonical\n    }\n    hasCustomDomain\n    routes {\n      id\n      siteId\n      docId\n      path\n      offline\n      doc {\n        id\n        title\n      }\n    }\n    currentDeployment {\n      id\n      siteId\n      buildHost\n      deploymentTime\n    }\n    createdTime\n    updatedTime\n    previewUrl\n    pageCount\n    archived\n    enabled\n    faviconUrl\n    themeId\n    navEnabled\n    navContent\n    gtmContainerId\n    metaPixelId\n  }\n"]);return y=function(){return e},e}function w(){let e=(0,a._)(["\n  ","\n  mutation AddCollaborators(\n    $docId: ID!\n    $collaborators: [DocCollaboratorInput!]!\n  ) {\n    addCollaborators(docId: $docId, collaborators: $collaborators) {\n      id\n      collaborators {\n        ...DocCollaboratorFields\n      }\n      invitations {\n        ...DocInvitationsFields\n      }\n    }\n  }\n"]);return w=function(){return e},e}function C(){let e=(0,a._)(["\n  ","\n  mutation RemoveCollaborators(\n    $docId: ID!\n    $collaborators: [DocCollaboratorRemovalInput!]!\n  ) {\n    removeCollaborators(docId: $docId, collaborators: $collaborators) {\n      id\n      collaborators {\n        ...DocCollaboratorFields\n      }\n      invitations {\n        ...DocInvitationsFields\n      }\n    }\n  }\n"]);return C=function(){return e},e}function A(){let e=(0,a._)(["\n  ","\n  mutation AddCollaboratorByAccessLink($docId: ID!) {\n    addCollaboratorByAccessLink(docId: $docId) {\n      id\n      collaborators {\n        ...DocCollaboratorFields\n      }\n    }\n  }\n"]);return A=function(){return e},e}function j(){let e=(0,a._)(["\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  query GetDoc($id: ID!, $password: String) {\n    doc(id: $id, password: $password) {\n      id\n      title\n      titleEdited\n      titleCard {\n        id\n        previewUrl\n      }\n      archived\n      disabled\n      createdTime\n      updatedTime\n      editedTime\n      savedTime\n      currentSnapshotId\n      publishedSnapshotId\n      publishedSnapshot {\n        content\n      }\n      publishedTime\n      source\n      comments {\n        ...CommentFields\n      }\n      reactions {\n        ...ReactionFields\n      }\n      accessLinks {\n        id\n        docId\n        type\n        permission\n        token\n        url\n      }\n      links {\n        url\n        status\n      }\n      orgAccess\n      organization {\n        id\n        name\n        products\n      }\n      theme {\n        ...DefaultThemeFields\n        fonts {\n          id\n          name\n          url\n        }\n      }\n      collaborators {\n        ...DocCollaboratorFields\n      }\n      invitations {\n        ...DocInvitationsFields\n      }\n      # Including docUser fields required for Apollo cache optimistic updates\n      # TODO if we use this in multiple places, extract a fragment\n      docUser {\n        id\n        docId\n        lastViewed\n        lastEdited\n        favorited\n      }\n      editors {\n        ...DocEditorsFields\n      }\n      createdBy {\n        firstName\n        displayName\n        id\n        email\n      }\n      channels {\n        ...DocChannelFields\n      }\n      site {\n        ...DocSiteFields\n      }\n      file {\n        ...FileFields\n        searchEngineIndexingEnabled\n      }\n      docGenerateInput {\n        id\n        settings\n        docGeneration {\n          id\n          generationType\n        }\n      }\n    }\n  }\n"]);return j=function(){return e},e}function k(){let e=(0,a._)(["\n  query GetDocRobots($id: ID!) {\n    doc(id: $id) {\n      id\n      title\n      createdTime\n      updatedTime\n      searchEngineIndexingAllowed\n      canonicalUrl\n      currentSnapshot {\n        id\n        docId\n        content\n      }\n      titleCard {\n        id\n        previewUrl\n        text\n      }\n      organization {\n        id\n        name\n        products\n        # NB: Need this so that useCan works properly.\n        __typename\n      }\n      createdBy {\n        displayName\n        id\n        email\n      }\n      links {\n        url\n        nodeType\n        status\n      }\n      theme {\n        ...DefaultThemeFields\n      }\n    }\n  }\n"]);return k=function(){return e},e}function S(){let e=(0,a._)(["\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  subscription SubscribeToDoc($id: ID!) {\n    doc(id: $id) {\n      ... on DocSubscription {\n        id\n        title\n        titleEdited\n        titleCard {\n          id\n          previewUrl\n        }\n        archived\n        updatedTime\n        editedTime\n        savedTime\n        publishedTime\n        accessLinks {\n          id\n          docId\n          type\n          permission\n          token\n          url\n        }\n        channels {\n          ...DocChannelFields\n        }\n        collaborators {\n          ...DocCollaboratorFields\n        }\n        editors {\n          ...DocEditorsFields\n        }\n        invitations {\n          ...DocInvitationsFields\n        }\n        theme {\n          ...DefaultThemeFields\n        }\n        reactions {\n          ...ReactionFields\n        }\n        orgAccess\n      }\n\n      ... on DocCommentsSubscription {\n        id\n        comments {\n          ...CommentFields\n        }\n      }\n      ... on DocReactionsSubscription {\n        id\n        reactions {\n          ...ReactionFields\n        }\n      }\n      ... on DocLinksSubscription {\n        id\n        links {\n          url\n          status\n        }\n      }\n    }\n  }\n"]);return S=function(){return e},e}function I(){let e=(0,a._)(["\n  mutation UpdateDocTitle($id: ID!, $title: String, $titleEdited: Boolean) {\n    updateDoc(input: { id: $id, title: $title, titleEdited: $titleEdited }) {\n      id\n      title\n      titleEdited\n    }\n  }\n"]);return I=function(){return e},e}function E(){let e=(0,a._)(["\n  mutation UpdateDocOrgAccess($id: ID!, $orgAccess: Permission) {\n    updateDoc(input: { id: $id, orgAccess: $orgAccess }) {\n      id\n      orgAccess\n    }\n  }\n"]);return E=function(){return e},e}function R(){let e=(0,a._)(["\n  mutation UpdateDocAccessLinks($id: ID!, $accessLinks: [AccessLinkInput!]) {\n    updateDoc(input: { id: $id, accessLinks: $accessLinks }) {\n      id\n      accessLinks {\n        permission\n        id\n      }\n    }\n  }\n"]);return R=function(){return e},e}function L(){let e=(0,a._)(["\n  ","\n  mutation UpdateDocTheme($id: ID!, $themeId: String) {\n    updateDoc(input: { id: $id, themeId: $themeId }) {\n      id\n      theme {\n        ...DefaultThemeFields\n      }\n    }\n  }\n"]);return L=function(){return e},e}function D(){let e=(0,a._)(["\n  mutation InviteMembers($workspaceId: ID!, $invitees: [InvitationInput!]!) {\n    inviteMembers(orgId: $workspaceId, invitees: $invitees) {\n      id\n      name\n      invitations {\n        email\n      }\n    }\n  }\n"]);return D=function(){return e},e}function M(){let e=(0,a._)(["\n  ","\n  ","\n  ","\n  mutation CreateComment($input: CreateCommentInput) {\n    createComment(input: $input) {\n      id\n      docId\n      cardId\n      content\n      targetText\n      targetHtml\n      createdTime\n      updatedTime\n      commentId\n      archived\n      targetId\n      status\n      user {\n        ...CommentAuthorFields\n      }\n      replies {\n        ...ReplyFields\n      }\n      reactions {\n        ...ReactionFields\n      }\n    }\n  }\n"]);return M=function(){return e},e}function _(){let e=(0,a._)(["\n  mutation UpdateComment($input: UpdateCommentInput!) {\n    updateComment(input: $input) {\n      id\n      docId\n      content\n      updatedTime\n    }\n  }\n"]);return _=function(){return e},e}function T(){let e=(0,a._)(["\n  mutation UpdateCommentStatus($input: UpdateCommentStatusInput!) {\n    updateCommentStatus(input: $input) {\n      id\n      status\n      updatedTime\n    }\n  }\n"]);return T=function(){return e},e}function N(){let e=(0,a._)(["\n  mutation RemoveComment($id: ID!) {\n    archiveComment(id: $id) {\n      id\n      archived\n    }\n  }\n"]);return N=function(){return e},e}function z(){let e=(0,a._)(["\n  ","\n  fragment DocReactionsCreate on Doc {\n    reactions {\n      ...ReactionFields\n    }\n  }\n"]);return z=function(){return e},e}function P(){let e=(0,a._)(["\n  ","\n  ","\n  fragment DocCommentsCreate on Doc {\n    comments {\n      id\n      docId\n      cardId\n      content\n      targetText\n      targetHtml\n      createdTime\n      updatedTime\n      archived\n      targetId\n      status\n      user {\n        ...CommentAuthorFields\n      }\n    }\n  }\n  fragment DocRepliesCreate on Doc {\n    comments {\n      id\n      replies {\n        ...ReplyFields\n      }\n    }\n  }\n  fragment DocCommentsUpdate on Doc {\n    comments {\n      id\n      docId\n      content\n      updatedTime\n      reactions {\n        ...ReactionFields\n      }\n    }\n  }\n  fragment DocRepliesUpdate on Doc {\n    comments {\n      id\n      replies {\n        id\n        docId\n        content\n        updatedTime\n        reactions {\n          ...ReactionFields\n        }\n      }\n    }\n  }\n  fragment DocCommentsRemove on Doc {\n    comments {\n      id\n      archived\n    }\n  }\n  fragment DocRepliesRemove on Doc {\n    comments {\n      id\n      replies {\n        id\n        archived\n      }\n    }\n  }\n"]);return P=function(){return e},e}function O(){let e=(0,a._)(["\n  ","\n  mutation AddReaction($reactionInput: AddReactionInput!) {\n    addReaction(input: $reactionInput) {\n      ...ReactionFields\n    }\n  }\n"]);return O=function(){return e},e}function F(){let e=(0,a._)(["\n  ","\n  mutation RemoveReaction($reactionInput: RemoveReactionInput!) {\n    removeReaction(input: $reactionInput) {\n      ...ReactionFields\n    }\n  }\n"]);return F=function(){return e},e}function H(){let e=(0,a._)(["\n  query GetMemoAnalytics($memoId: ID!) {\n    memoStats(id: $memoId) {\n      memoId\n      uniqueViewers\n      uniqueEditors\n      cardCount\n      lastOpened\n      viewers {\n        user {\n          id\n          displayName\n          email\n          profileImageUrl\n        }\n        visitorId\n        lastOpened\n        cardsViewed\n      }\n      dailyViews {\n        dayCount\n        timezone\n        everyone {\n          date\n          uniqueVisitors\n        }\n        viewers {\n          date\n          uniqueVisitors\n        }\n      }\n    }\n  }\n\n  query GetDocCardsAnalytics($docId: ID!, $userId: ID) {\n    docCardsStats(docId: $docId, userId: $userId) {\n      docId\n      uniqueVisitors\n      uniqueEditors\n      cardCount\n      everyone {\n        cardId\n        viewTimePercent\n        viewersPercent\n      }\n      viewers {\n        cardId\n        viewTimePercent\n        viewersPercent\n      }\n    }\n  }\n"]);return H=function(){return e},e}function B(){let e=(0,a._)(["\n  mutation SetDocPassword($docId: ID!, $password: String!) {\n    setDocPassword(id: $docId, password: $password) {\n      id\n      accessLinks {\n        id\n        permission\n        type\n      }\n    }\n  }\n"]);return B=function(){return e},e}function V(){let e=(0,a._)(["\n  mutation RemoveDocPassword($docId: ID!) {\n    removeDocPassword(id: $docId) {\n      id\n      accessLinks {\n        id\n        permission\n        type\n      }\n    }\n  }\n"]);return V=function(){return e},e}function W(){let e=(0,a._)(["\n  query GetDocPassword($docId: ID!) {\n    getDocPassword(id: $docId)\n  }\n"]);return W=function(){return e},e}function U(){let e=(0,a._)(["\n  mutation UpdateSearchEngineIndexing($fileId: ID!, $enable: Boolean!) {\n    updateSearchEngineIndexing(fileId: $fileId, enable: $enable) {\n      id\n      searchEngineIndexingEnabled\n    }\n  }\n"]);return U=function(){return e},e}function G(){let e=(0,a._)(["\n  query GetPublicDoc($docId: ID!) {\n    publicDoc(id: $docId) {\n      id\n      logoUrl\n    }\n  }\n"]);return G=function(){return e},e}function K(){let e=(0,a._)(["\n  query GetDocCurrentSnapshotId($id: ID!) {\n    doc(id: $id) {\n      id\n      currentSnapshotId\n    }\n  }\n"]);return K=function(){return e},e}function Q(){let e=(0,a._)(["\n  query GetDocCurrentSnapshot($id: ID!, $password: String) {\n    doc(id: $id, password: $password) {\n      id\n      currentSnapshot {\n        content\n        __typename\n      }\n    }\n  }\n"]);return Q=function(){return e},e}(0,i.J1)(o(),d),(0,i.J1)(c());let Z=(0,i.J1)(u()),q=(0,i.J1)(p()),J=(0,i.J1)(h(),Z,q),$=(0,i.J1)(g(),J,Z,q),Y=(0,i.J1)(m()),X=(0,i.J1)(x()),ee=(0,i.J1)(f()),et=(0,i.J1)(b()),en=(0,i.J1)(v(),et),ea=(0,i.J1)(y(),d,en);(0,i.J1)(w(),Y),(0,i.J1)(C(),Y),(0,i.J1)(A(),Y),(0,i.J1)(j(),$,Y,ee,X,ea,d,Z),(0,i.J1)(k());let ei=(0,i.J1)(S(),$,Y,ee,X,d,Z);(0,i.J1)(I()),(0,i.J1)(E()),(0,i.J1)(R()),(0,i.J1)(L(),d),(0,i.J1)(D()),(0,i.J1)(M(),J,Z,q),(0,i.J1)(_()),(0,i.J1)(T()),(0,i.J1)(N()),(0,i.J1)(z(),Z);let er=(0,i.J1)(P(),J,q);(0,i.J1)(O(),Z),(0,i.J1)(F(),Z),(0,i.J1)(H()),(0,i.J1)(B()),(0,i.J1)(V()),(0,i.J1)(W()),(0,i.J1)(U()),(0,i.J1)(G()),(0,i.J1)(K()),(0,i.J1)(Q())},78893:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var a=n(63867),i=n(55729),r=n(22115),l=n(15342),o=n(43634);let s=e=>{let{editor:t,getPos:n}=e,s=(0,l.GV)(o.nD),d=(0,l.GV)(o.Du),c=(0,l.jL)(),{onContextMenu:u,menuProps:p}=(0,r.EF)(),{onClose:h,...g}=p;return{onCloseContextMenu:()=>{c((0,o.$n)({open:!1})),h()},onOpenContextMenu:(0,i.useCallback)(e=>{if(s){if(d)return void e.preventDefault();t.view.dispatch(t.view.state.tr.setSelection(a.nh.create(t.view.state.doc,n()))),u(e),c((0,o.$n)({open:!0}))}},[s,d,t.view,n,u,c]),menuProps:g}}},79018:(e,t,n)=>{"use strict";n.d(t,{dD:()=>r,x9:()=>d});var a=n(33750),i=n.n(a);let r=e=>{let{label:t,basis:n=100}=e,a=d(t);return a?i()(a/n,0,1):0},l=/[0-9,.]+/g,o=/[,.](?=\d{3})/g,s=/([0-9]+)\s?\/\s?([0-9]+)/g,d=e=>{if(e){if("number"==typeof e)return e;try{var t,n;let a=null==(t=e.match(s))?void 0:t[0];if(a){let[e,t]=a.split("/").map(e=>e.trim());return 100*parseFloat(e)/parseFloat(t)}let i=null==(n=e.match(l))?void 0:n[0],r=null==i?void 0:i.replaceAll(o,"");return r?parseFloat(r):void 0}catch(t){console.error("[SmartLayout] Failed to parse label number: ".concat(e),t);return}}}},79138:(e,t,n)=>{"use strict";n.d(t,{m:()=>C});var a=n(6029),i=n(40452),r=n(78140),l=n(36999),o=n(49611),s=n(41283),d=n(37930),c=n(48478),u=n(26385),p=n(48810),h=n(29810),g=n(74676),m=n(99492),x=n(48621),f=n(77650),b=n(19564),v=n(68301),y=n(99767),w=n(41427);let C=e=>{let{selectedLocale:t,onLocaleSelect:n,buttonProps:C,menuListProps:A,matchWidth:j=!0,hideLabel:k=!1}=e,S=(0,v.u)("i18nEnabled");return(0,b.uB)(),(0,a.jsx)(i.s,{direction:"column",children:(0,a.jsxs)(r.W,{matchWidth:j,children:[(0,a.jsx)(l.I,{as:o.$,rightIcon:k?null:(0,a.jsx)(x.g,{size:"xs",icon:m.Jt$}),textAlign:"left",w:"100%",...C,children:k?null:(null==t?void 0:t.displayName)||"Unknown"}),(0,a.jsx)(s.c,{minWidth:"240px",maxH:"500px",overflowY:"auto",overflowX:"hidden",...A,children:(0,a.jsx)(d.i,{value:(null==t?void 0:t.key)||"unknown",type:"radio",onChange:e=>{n(e)},children:(0,w.qm)().map(e=>{let t=new Date(y.zd[e.key].launchDate),n=!S&&"private_beta"===y.AT[e.key],r=S&&"private_beta"===y.AT[e.key],l="public_beta"===y.AT[e.key]&&Date.now()-t.getTime()<2592e6;return(0,a.jsx)(c.k,{value:e.key,isDisabled:n,children:(0,a.jsxs)(i.s,{flex:1,alignItems:"center",children:[(0,a.jsxs)(u.B,{spacing:0,children:[(0,a.jsx)(p.E,{fontWeight:"600",children:e.displayName}),(0,a.jsx)(p.E,{fontSize:"sm",color:"gray.500",children:e.displayNameLocalized(f.Ru._.bind(f.Ru))})]})," ",(0,a.jsx)(h.h,{}),n?(0,a.jsx)(g.E,{ms:2,fontSize:"0.75em",colorScheme:"teal",children:(0,a.jsx)(b.x6,{id:"VZeG/A"})}):r?(0,a.jsx)(g.E,{ms:2,fontSize:"0.75em",colorScheme:"purple",children:(0,a.jsx)(b.x6,{id:"YBt9YP"})}):l?(0,a.jsx)(g.E,{ms:2,fontSize:"0.75em",colorScheme:"green",children:(0,a.jsx)(b.x6,{id:"isRobC"})}):null]})},e.key)})})})]})})}},79555:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});var a=n(88586),i=n(32024);class r extends i.U{getSystemChatMessage(e){return{role:a.VDI.System,operation:this.systemPromptOperation,variables:e}}getUserChatMessage(e){return{role:a.VDI.User,operation:this.userPromptOperation,variables:e}}constructor({variables:e,systemPromptOperation:t,userPromptOperation:n,params:a}){super({params:a}),this.variables=e,this.systemPromptOperation=t,this.userPromptOperation=n}}},79807:(e,t,n)=>{"use strict";n.d(t,{V:()=>v,h:()=>b});var a=n(6029),i=n(78140),r=n(36999),l=n(49611),o=n(12514),s=n(41283),d=n(37930),c=n(48478),u=n(48810),p=n(55597),h=n(48621),g=n(77650);let m={label:()=>g.Ru._({id:"DAmK+T"}),key:"All",description:()=>g.Ru._({id:"Zz/1wq"})},x=[m,{label:()=>g.Ru._({id:"10G8Kb"}),key:"Share",description:()=>g.Ru._({id:"EVNJ2h"})},{label:()=>g.Ru._({id:"SjDzTh"}),key:"ShareCommercially",description:()=>g.Ru._({id:"DHhpJP"})}],f=m.key,b=e=>{var t;return null==(t=x.find(t=>t.key===e))?void 0:t.label()},v=e=>{let{value:t=f,onChange:n}=e;return(0,a.jsxs)(i.W,{children:[(0,a.jsx)(r.I,{w:"100%",as:l.$,boxShadow:"sm",size:"sm",variant:"plain",rightIcon:(0,a.jsx)(h.g,{icon:p.Jt$}),textAlign:"start",children:b(t)}),(0,a.jsx)(o.Z,{children:(0,a.jsx)(s.c,{zIndex:"tooltip",w:"350px",children:(0,a.jsx)(d.i,{type:"radio",w:"100%",defaultValue:m.key,value:t,onChange:e=>n(e),children:x.map(e=>{let{key:t,label:n,description:i}=e;return(0,a.jsxs)(c.k,{value:t,children:[n(),(0,a.jsx)(u.E,{fontSize:"sm",color:"gray.400",children:i()})]},t)})})})})]})}},79958:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var a=n(77650),i=n(99038);let r=e=>e&&e.length?e:a.Ru._({id:"7ZviFu",values:{GAMMA_ARTIFACT_PROPER_NOUN:i.TP}})},80039:(e,t,n)=>{"use strict";n.d(t,{QP:()=>r,j1:()=>i,lI:()=>a});let a=e=>"middle"===e?"center":e,i=e=>({start:"left",middle:"center",end:"right"})[e],r=(e,t)=>{t&&Object.entries(t).forEach(t=>{let[n,a]=t;void 0!==a&&e.style.setProperty(n,a.toString())})}},80045:(e,t,n)=>{"use strict";n.d(t,{R:()=>m});var a=n(22905),i=n(41896),r=n(12117),l=n(46957),o=n(43944),s=n(91656),d=n(6029),c=n(84886),u=n(66082);let p=[e=>e.toString(),e=>String.fromCharCode(96+e),e=>(function(e){let t={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},n="";for(let a of Object.keys(t)){let i=Math.floor(e/t[a]);e-=i*t[a],n+=a.repeat(i)}return n})(e).toLowerCase()],h=e=>{var t;let{decorations:n,node:a}=e,{indent:r,fontSize:l,placeholder:o}=a.attrs,s=null==(t=n.find(e=>e.spec.listNumber))?void 0:t.spec.listNumber,h=(p[r%p.length]||p[0])(s);return(0,d.jsx)(c.u,{dir:(0,u.fZ)(n),...e,children:(0,d.jsx)(i.$p,{as:"li","data-list-counter":h,"data-font-size":l,"data-placeholder":o})})},g=/^(\d+)\.\s$/,m=a.bP.create({name:s.e.Numbered,content:"inline*",defining:!0,group:"block cardNotesBlock",selectable:!1,allowFontSizes:"body",addOptions:()=>({HTMLAttributes:{}}),addNodeView:()=>(0,i.gu)(h,{as:"ol",update:l.z0,updateWrapperEl:(e,t)=>{e.setAttribute("indent",t.node.attrs.indent)}}),addAttributes:()=>({indent:{default:0},fontSize:r.mD}),addInputRules(){return[(0,o.aW)({find:g,type:this.type},this.editor.state.schema)]},addKeyboardShortcuts:()=>({"Mod-/":e=>{let{editor:t}=e;return t.commands.setListItems({variant:s.e.Numbered})},"Mod-Shift-7":e=>{let{editor:t}=e;return t.commands.setListItems({variant:s.e.Numbered})}}),parseHTML(){return[{tag:'li[variant="'.concat(this.name,'"]')}]},renderHTML(e){let{HTMLAttributes:t}=e;return["li",(0,a.KV)(this.options.HTMLAttributes,t,{variant:this.name}),0]}})},80215:(e,t,n)=>{"use strict";n.d(t,{N_:()=>x,lQ:()=>b,mF:()=>f});var a=n(6029),i=n(78140),r=n(36999),l=n(49611),o=n(41283),s=n(37930),d=n(48478),c=n(48810),u=n(99492),p=n(48621),h=n(19564),g=n(45176),m=n(80180);let x=()=>({flex:{title:(0,a.jsx)(h.x6,{id:"oNVcTP"}),description:(0,a.jsx)(h.x6,{id:"HfsL0F"})},grid:{title:(0,a.jsx)(h.x6,{id:"fY+Mvd"}),description:(0,a.jsx)(h.x6,{id:"Ur6uwh"})},logo:{title:(0,a.jsx)(h.x6,{id:"iG7KNr"}),description:(0,a.jsx)(h.x6,{id:"hcTCev"})}}),f=(e,t,n,a)=>{let i="flex"===e&&t.thumbHeight<g.pg?g.pg:"grid"===e||"logo"===e?Math.round(t.thumbHeight):void 0;n.chain().updateAttributes("gallery",{layout:e,dimensions:"grid"===e?"square":void 0,stretchToFill:"flex"!==e&&void 0,...i&&{thumbHeight:i}}).setNodeSelection(a.from).focus().run()},b=e=>{let{selection:t,editor:n}=e,h=t.node.attrs,g=x(),b=Object.keys(g).includes(h.layout)?h.layout:"flex",v=g[b].title;return(0,a.jsxs)(i.W,{closeOnSelect:!0,isLazy:!0,autoSelect:!1,strategy:"fixed",children:[(0,a.jsx)(r.I,{as:l.$,"data-testid":"display-style-dropdown",size:"sm",rightIcon:(0,a.jsx)(p.g,{fixedWidth:!0,icon:u.Jt$,transform:"shrink-6"}),boxShadow:"none",onMouseDown:m.Fw,children:v}),(0,a.jsx)(o.c,{zIndex:2,maxW:"400px",children:(0,a.jsx)(s.i,{type:"radio",onChange:e=>f(e,h,n,t),value:h.layout,children:Object.entries(g).map(e=>{let[t,{title:n,description:i}]=e;return(0,a.jsxs)(d.k,{value:t,onMouseDown:m.Fw,"data-testid":"display-style-option-".concat(t),children:[(0,a.jsx)(c.E,{children:n}),(0,a.jsx)(c.E,{fontSize:"xs",color:"gray.500",children:i})]},t)})})})]})}},80911:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var a=n(94289),i=n(63867),r=n(91242),l=n(23513);class o extends i.LN{map(e,t){let{deleted:n,pos:a}=t.mapResult(this.anchor),r=e.resolve(a);return n?(0,l.n)(r)||i.LN.near(r):new o(r,this.side)}content(){return new a.Ji(a.FK.from(this.node),0,0)}eq(e){return e instanceof o&&e.anchor===this.anchor&&e.side===this.side}toJSON(){return{type:"presentation",anchor:this.anchor,side:this.side}}createSelectionNear(){let e=this.side<1?1:-1;return(0,r.s)(this.$from,e)||i.LN.near(this.$from)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw RangeError("Invalid input for PresentationSelection.fromJSON");return new o(e.resolve(t.anchor))}static create(e,t,n){return new o(e.resolve(t),n)}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}constructor(e,t=0){let n=e.nodeAfter;super(e,e.node(0).resolve(e.pos+n.nodeSize)),this.node=n,this.side=t}}if(o.prototype.visible=!1,!o.prototype.jsonID)try{i.LN.jsonID("presentation",o)}catch(e){}},81043:(e,t,n)=>{"use strict";n.d(t,{P:()=>F});var a=n(6029),i=n(27229),r=n(78140),l=n(36999),o=n(16936),s=n(58297),d=n(41283),c=n(83550),u=n(85595),p=n(80314),h=n(6760),g=n(26420),m=n(99492),x=n(48621),f=n(91106),b=n(19564),v=n(77650),y=n(55729),w=n(74158),C=n(82328),A=n(36936),j=n(84208),k=n(68301),S=n(1079),I=n(5063),E=n(99767),R=n(73110),L=n(99038),D=n(49337),M=n(37377),_=n(46091),T=n(95889),N=n(91792),z=n(11403),P=n(6807),O=n(20591);let F=e=>(0,z.En)()?(0,a.jsx)(B,{...e}):null,H=(0,y.memo)(e=>{var t;let{showShortcuts:n=!0,showOnboardingChecklist:_=!1}=e,z=(0,w.wA)(),{isConnected:F}=(0,C.u)(),H=(0,k.u)("intercom"),B=(0,k.u)("shareFeedback"),V=(0,D.k)(),W=(0,R.O)(),{isOpen:U,onOpen:G,onClose:K}=(0,i.j)(),{isOpen:Q,onOpen:Z,onClose:q}=(0,i.j)({id:"locale-modal"}),{onOpen:J}=(0,i.j)({id:"help-menu"}),[$,Y]=(0,P.M)("hasUnreadIntercom",!1),X=window.Intercom,ee=(0,y.useCallback)(()=>{Y(!1),V()},[V,Y]),et=(0,N.rd)();return(0,y.useEffect)(()=>{if(!X)return;X("onHide",()=>{z((0,M.YN)({isOpen:!1}))});let e=setInterval(()=>{document.querySelector("iframe.intercom-borderless-frame")&&Y(!0)},1e3);return()=>{X("hide"),clearInterval(e)}},[z,X,Y]),(0,a.jsxs)(f.L8,{isDark:et,children:[(0,a.jsxs)(r.W,{children:[(0,a.jsx)(l.I,{"data-guider-highlight":"default-help-widget-activator",as:o.K,onClick:()=>{J(),A.R.emit("toggleOpen",{behavior:"close",skipTracking:!0})},isRound:!0,position:"relative",size:"md","aria-label":v.Ru._({id:"c3XJ18"}),icon:$?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.j,{position:"absolute",size:2.5,bg:"red.400",top:0,right:0}),(0,a.jsx)(x.g,{icon:m.z$e,className:"fa-beat-fade"})]}):(0,a.jsx)(x.g,{icon:m.EvL})}),(0,a.jsxs)(d.c,{children:[(0,a.jsxs)(c.r,{children:[n&&(0,a.jsx)(u.D,{onClick:G,icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:m.Lhe}),children:(0,a.jsx)(b.x6,{id:"77Emn0"})}),_&&(0,a.jsx)(u.D,{as:p.N,_hover:{textDecoration:"none",shadow:"none"},onClick:()=>{(0,j.v)(T.VV.ONBOARDING_CHECKLIST_WIDGET_CHECKLIST_MANUAL_OPENED),A.R.emit("toggleOpen",{behavior:"open"})},icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:m.S3S}),"data-guider-highlight":"onboarding-checklist",children:(0,a.jsx)(b.x6,{id:"BOFovM"})}),(0,a.jsx)(u.D,{as:p.N,_hover:{textDecoration:"none",shadow:"none"},href:"https://ideas.gamma.app/changelog",target:"_blank",icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:m.kLe}),children:(0,a.jsx)(b.x6,{id:"PbLEFQ",values:{GAMMA_PROPER_NOUN:L.On}})})]}),(0,a.jsx)(h.N,{}),(0,a.jsxs)(c.r,{children:[(0,a.jsx)(u.D,{as:p.N,_hover:{textDecoration:"none",shadow:"none"},href:"https://help.gamma.app",target:"_blank",icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:m.$UM}),children:(0,a.jsx)(b.x6,{id:"CRzGla"})}),H&&F?(0,a.jsx)(u.D,{icon:$?(0,a.jsxs)(g.a,{position:"relative",children:[(0,a.jsx)(s.j,{position:"absolute",size:1.5,bg:"red.400",top:0,right:-1}),(0,a.jsx)(x.g,{fixedWidth:!0,icon:m.z$e,className:"fa-beat-fade"})]}):(0,a.jsx)(x.g,{fixedWidth:!0,icon:m.gSF}),onClick:ee,children:(0,a.jsx)(b.x6,{id:"mpby9d"})}):(0,a.jsx)(u.D,{icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:m.y_8}),as:p.N,_hover:{textDecoration:"none",shadow:"none"},href:"mailto:".concat(S.J),children:(0,a.jsx)(b.x6,{id:"A0C9La"})}),B&&(0,a.jsx)(u.D,{as:p.N,_hover:{textDecoration:"none",shadow:"none"},href:"https://ideas.gamma.app/ideas",target:"_blank",icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:m.O3E}),children:(0,a.jsx)(b.x6,{id:"u5hSeG"})})]}),(0,a.jsx)(h.N,{}),(0,a.jsx)(c.r,{children:(0,a.jsx)(u.D,{icon:(0,a.jsx)(x.g,{fixedWidth:!0,icon:m.Bwz}),onClick:Z,children:(null==(t=E.zd[W])?void 0:t.displayName)||"Unknown"})})]}),(0,a.jsx)(O.a,{isOpen:U,onClose:K})]}),Q&&(0,a.jsx)(I.l,{onClose:q})]})}),B=(0,_.A)(H);F.displayName="DefaultHelpWidget"},81089:(e,t,n)=>{"use strict";n.d(t,{UG:()=>ep,lN:()=>ex});var a=n(93766),i=n(6029),r=n(40452),l=n(87613),o=n(83004),s=n(55729),d=n(82927),c=n(58959),u=n(94740),p=n(66199),h=n(18078),g=n(61204),m=n(51684),x=n(77650);let f=s.createContext({});function b(){return s.useContext(f)}var v=n(26420),y=n(16936),w=n(57405),C=n(25223),A=n(83743),j=n(49611),k=n(19564);let S={src:"/_next/static/media/transparent-background.ccc186e7.png"},I={[a.JM.White]:"#f0f1f3",[a.JM.Gray]:"#788492",[a.JM.Green]:"#36b24d",[a.JM.Blue]:"#1c7ed6",[a.JM.Violet]:"#7746f1",[a.JM.Red]:"#ff2133",[a.JM.Orange]:"#ff9433",[a.JM.Yellow]:"#ffc936"},E=e=>e.appState.currentStyle,R=e=>e.document.pageStates[e.appState.currentPageId].selectedIds,L=e=>e.settings.isDarkMode?"dark":"light",D=e=>{let{style:t,colorMode:n}=e;return(0,i.jsx)(v.a,{backgroundColor:t.isFilled?a.gA.fills[n][t.color]:void 0,backgroundImage:t.isFilled?void 0:S.src,backgroundSize:"4em",borderColor:a.gA.strokes[n][t.color],borderWidth:"2px",h:"1em",w:"1em",borderRadius:"md"})},M=Object.keys(a.gA.defaultTextStyle),_=(e,t)=>{let{page:n}=e,a={};if(t.length<=0)return{};{let e=new Set([]);t.map(e=>n.shapes[e]).forEach(t=>{M.forEach(n=>{if(!e.has(n))if(void 0===a[n])a[n]=t.style[n];else{if(a[n]===t.style[n])return;e.add(n)}})}),e.forEach(e=>{delete a[e]})}return a},T=()=>{let e=b(),t=e.useStore(L),n=e.useStore(E),r=e.useStore(R),l=_(e,r),o={...n,...l};return(0,i.jsxs)(u.A,{trigger:"hover",children:[(0,i.jsx)(p.W,{children:(0,i.jsx)(y.K,{icon:(0,i.jsx)(D,{style:o,colorMode:t}),variant:"ghost",size:"sm","aria-label":""})}),(0,i.jsx)(h.h,{w:"fit-content",bg:"#F9FAFBFA",p:4,children:(0,i.jsxs)(w.T,{spacing:2,align:"flex-start",children:[(0,i.jsx)(C.l,{children:(0,i.jsx)(k.x6,{id:"TuM2Yu"})}),(0,i.jsx)(A.r,{columns:2,spacing:2,children:[!0,!1].map(n=>(0,i.jsx)(j.$,{leftIcon:(0,i.jsx)(D,{style:{...o,isFilled:n},colorMode:t}),variant:"ghost",size:"sm",isActive:o.isFilled===n,onClick:()=>e.style({isFilled:n}),children:n?(0,i.jsx)(k.x6,{id:"5bi1la"}):(0,i.jsx)(k.x6,{id:"dD7NPy"})},n?"fill":"outline"))}),(0,i.jsx)(C.l,{children:(0,i.jsx)(k.x6,{id:"1HfW/F"})}),(0,i.jsx)(A.r,{columns:4,spacing:2,w:"100%",children:Object.entries(a.JM).map(n=>{let[a,r]=n;return I[r]?(0,i.jsx)(y.K,{icon:(0,i.jsx)(D,{style:{...o,color:r},colorMode:t}),variant:"ghost",size:"md","aria-label":a,isActive:o.color===r,onClick:()=>e.style({color:r})},r):null})})]})})]})};var N=n(45460),z=n(48621),P=n(91106);let O=(0,N.R)((e,t)=>{let{label:n,icon:a,tooltipPlacement:r="top",...l}=e;return(0,i.jsx)(P.Tz,{placement:r,label:n,isDisabled:!n,children:(0,i.jsx)(y.K,{"aria-label":n||"",ref:t,size:"sm",variant:"",icon:(0,i.jsx)(z.g,{icon:a}),color:"trueblue.600",textShadow:"0px 1px 0px rgba(0,0,0,0)",fontWeight:"500",borderRadius:"md",borderWidth:"1px",backdropFilter:"blur(20px)",borderColor:"transparent",_hover:{bg:"gray.50",borderColor:"gray.200"},_focus:{bg:"gray.50",borderColor:"gray.200"},_active:{bg:"trueblue.100",borderColor:"trueblue.200"},...l})})}),F=e=>{let{children:t,...n}=e;return(0,i.jsx)(r.s,{bg:"#F9FAFBDD",p:1,borderWidth:"1px",borderColor:"whiteAlpha.600",borderRadius:"xl",shadow:"xl",...n,children:t})},H={[a.Hu.Start]:m.ecg,[a.Hu.Middle]:m._ur,[a.Hu.End]:m.jbh},B=()=>{let e=b(),t=e.useStore(E),n=e.useStore(R),r=_(e,n),l={...t,...r};return(0,i.jsxs)(u.A,{trigger:"hover",children:[(0,i.jsx)(p.W,{children:(0,i.jsx)(O,{icon:H[l.textAlign||a.Hu.Start]})}),(0,i.jsx)(h.h,{background:"none",shadow:"none",w:"fit-content",children:(0,i.jsx)(F,{direction:"column",children:(0,i.jsxs)(g.e,{children:[(0,i.jsx)(O,{icon:m.ecg,label:x.Ru._({id:"IR6Txi"}),onClick:()=>e.style({textAlign:a.Hu.Start}),isActive:l.textAlign===a.Hu.Start},"align-left"),(0,i.jsx)(O,{icon:m._ur,label:x.Ru._({id:"8nOdkO"}),onClick:()=>e.style({textAlign:a.Hu.Middle}),isActive:l.textAlign===a.Hu.Middle},"align-center"),(0,i.jsx)(O,{icon:m.jbh,label:x.Ru._({id:"pd0UH2"}),onClick:()=>e.style({textAlign:a.Hu.End}),isActive:l.textAlign===a.Hu.End},"align-right"),(0,i.jsx)(O,{icon:m.Tip,label:x.Ru._({id:"18P2qJ"}),onClick:()=>e.style({textAlign:a.Hu.Justify}),isActive:l.textAlign===a.Hu.Justify},"justify")]})})})]})},V=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.some(t=>void 0!==e.document.pages[e.appState.currentPageId].shapes[t].children),W=e=>"idle"===e.appState.status&&e.document.pageStates[e.appState.currentPageId].selectedIds.length>0,U=e=>e.document.pageStates[e.appState.currentPageId].selectedIds.length,G=e=>{let t=e.appState.currentPageId,n=e.document.pages[t];for(let a of e.document.pageStates[t].selectedIds)if("text"in n.shapes[a])return!0;return!1},K=s.memo(function(){let e=b(),{isGammaOrgUser:t}=(0,d.ur)(),n=e.useStore(W),l=e.useStore(V),o=e.useStore(U),s=e.useStore(G);return(0,i.jsx)(r.s,{w:"100%",direction:"row",position:"absolute",bottom:2,align:"flex-end",justify:"center",zIndex:1,children:(0,i.jsx)(F,{children:(0,i.jsxs)(c.z,{spacing:2,children:[t&&(0,i.jsx)(O,{icon:m.XYS,label:x.Ru._({id:"SpTWH3"}),onClick:()=>e.exportImage(a.Xi.SVG,{scale:1,quality:1})},"download"),n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O,{icon:m.yLS,label:x.Ru._({id:"/Wgayn"}),onClick:()=>e.delete(),"data-testid":"drawing-edit-toolbar-delete"},"delete"),(0,i.jsx)(Q,{}),o>=2&&(0,i.jsx)(Z,{}),o>=2||l?(0,i.jsx)(O,{icon:m.cWs,label:l?"Ungroup selection":"Group selection",onClick:()=>l?e.ungroup():e.group(),isActive:l},"group"):null]}),(0,i.jsx)(T,{}),s&&(0,i.jsx)(B,{})]})})})}),Q=()=>{let e=b();return(0,i.jsxs)(u.A,{trigger:"hover",children:[(0,i.jsx)(p.W,{children:(0,i.jsx)(O,{icon:m.B4x})}),(0,i.jsx)(h.h,{background:"none",shadow:"none",w:"fit-content",children:(0,i.jsxs)(F,{direction:"row",children:[(0,i.jsx)(O,{icon:m.bKR,label:x.Ru._({id:"J6qWQV"}),onClick:()=>e.moveToFront()},"front"),(0,i.jsx)(O,{icon:m.B4x,label:x.Ru._({id:"9xFjqz"}),onClick:()=>e.moveForward()},"forward"),(0,i.jsx)(O,{icon:m.PW6,label:x.Ru._({id:"OfSb1W"}),onClick:()=>e.moveBackward()},"backward"),(0,i.jsx)(O,{icon:m.jb9,label:x.Ru._({id:"/zBSYY"}),onClick:()=>e.moveToBack()},"back")]})})]})},Z=()=>{let e=b();return(0,i.jsxs)(u.A,{trigger:"hover",children:[(0,i.jsx)(p.W,{children:(0,i.jsx)(O,{icon:m.gD3})}),(0,i.jsx)(h.h,{background:"none",shadow:"none",w:"fit-content",children:(0,i.jsxs)(F,{direction:"column",children:[(0,i.jsxs)(g.e,{children:[(0,i.jsx)(O,{icon:m.gD3,label:x.Ru._({id:"IR6Txi"}),onClick:()=>e.align(a.qx.Left)},"align-left"),(0,i.jsx)(O,{icon:m.im,label:x.Ru._({id:"8nOdkO"}),onClick:()=>e.align(a.qx.CenterHorizontal)},"align-center"),(0,i.jsx)(O,{icon:m.j7A,label:x.Ru._({id:"pd0UH2"}),onClick:()=>e.align(a.qx.Right)},"align-right"),(0,i.jsx)(O,{icon:m.yC$,label:x.Ru._({id:"8lqfXb"}),onClick:()=>e.distribute(a.Od.Horizontal)},"distribute-h")]}),(0,i.jsxs)(g.e,{children:[(0,i.jsx)(O,{icon:m.MVg,label:x.Ru._({id:"/Q0jUh"}),onClick:()=>e.align(a.qx.Top)},"align-top"),(0,i.jsx)(O,{icon:m.cse,label:x.Ru._({id:"QhuQN2"}),onClick:()=>e.align(a.qx.CenterVertical)},"align-middle"),(0,i.jsx)(O,{icon:m.QaE,label:x.Ru._({id:"EPnxoe"}),onClick:()=>e.align(a.qx.Bottom)},"align-bottom"),(0,i.jsx)(O,{icon:m.iHb,label:x.Ru._({id:"a1NrWf"}),onClick:()=>e.distribute(a.Od.Vertical)},"distribute-v")]})]})})]})};var q=n(96500),J=n(55597);let $=()=>[{icon:J.eX_,label:x.Ru._({id:"rG3WVm"}),tool:"select"},{icon:m.IP$,label:x.Ru._({id:"Ajc4TJ"}),tool:"erase"},{icon:J.adM,label:x.Ru._({id:"rjuFFw"}),tool:a.gs.Line},{icon:J.U6Q,label:x.Ru._({id:"zFkhx3"}),tool:a.gs.Arrow},{icon:J.vti,label:x.Ru._({id:"30KLDI"}),tool:a.gs.Rectangle},{icon:J.GEE,label:x.Ru._({id:"7xMmki"}),tool:a.gs.Ellipse},{icon:J.CKr,label:x.Ru._({id:"ucHvJP"}),tool:a.gs.Triangle},{icon:J.jwR,label:x.Ru._({id:"xeiujy"}),tool:a.gs.Text}],Y=e=>e.appState.activeTool,X=s.memo(function(){let e=b(),t=e.useStore(Y);return(0,i.jsx)(r.s,{h:"100%",direction:"column",position:"absolute",right:2,align:"flex-end",justify:"center",zIndex:1,children:(0,i.jsx)(F,{children:(0,i.jsx)(w.T,{spacing:2,children:$().map(n=>{let{label:a,icon:r,tool:l}=n;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O,{icon:r,label:a,onClick:()=>e.selectTool(l),isActive:t===l,tooltipPlacement:"left","data-testid":"drawing-insert-toolbar-".concat(l)},a),"select"==l&&(0,i.jsx)(q.c,{},"selectDivider")]})})})})})});var ee=n(78140),et=n(36999),en=n(41283),ea=n(85595);let ei=e=>e.document.pageStates[e.appState.currentPageId].camera.zoom,er=e=>e.settings.showGrid,el=s.memo(function(){let e=b(),t=e.useStore(er);return(0,i.jsx)(r.s,{position:"absolute",top:2,left:2,zIndex:1,children:(0,i.jsx)(F,{children:(0,i.jsxs)(c.z,{spacing:2,children:[(0,i.jsx)(eo,{}),(0,i.jsx)(O,{icon:J.XgR,label:t?x.Ru._({id:"IsBZFj"}):x.Ru._({id:"mWgfWA"}),isActive:t,onClick:()=>e.setSetting("showGrid",!t)},"grid")]})})})}),eo=s.memo(function(){let e=b(),t=e.useStore(ei);return(0,i.jsxs)(ee.W,{children:[(0,i.jsxs)(et.I,{as:j.$,"data-test-id":"zoom-menu-button",size:"sm",variant:"ghost",leftIcon:(0,i.jsx)(z.g,{icon:m.$UM}),children:[Math.round(100*t),"%"]}),(0,i.jsxs)(en.c,{children:[(0,i.jsx)(ea.D,{command:"#+",onClick:e.zoomIn,children:(0,i.jsx)(k.x6,{id:"AWOSPo"})}),(0,i.jsx)(ea.D,{command:"#-",onClick:e.zoomOut,children:(0,i.jsx)(k.x6,{id:"FjkaiT"})}),(0,i.jsx)(ea.D,{command:"⇧0",onClick:e.resetZoom,children:(0,i.jsx)(k.x6,{id:"41NrIs"})}),(0,i.jsx)(ea.D,{command:"⇧1",onClick:e.zoomToFit,"data-test-id":"zoom-to-fit-button",children:(0,i.jsx)(k.x6,{id:"pLI1Is"})})]})]})});var es=n(87996);let ed=e=>({onAssetCreate:(0,s.useCallback)(async(t,n,i)=>{if(!e)return console.warn("[useAssetUpload] OrgId is required to upload assets"),!1;let r=URL.createObjectURL(n);console.debug("[useAssetUpload] Handling upload for file",{file:n,id:i,tempUrl:r});let l=e=>{let n=t.assets.find(e=>e.id===i);if(n){console.debug("[useAssetUpload] Upload complete. Replacing temp asset",{id:i,src:e.src});let a={document:{assets:{[i]:{...n,src:e.src}}}};t.patchState(a,"upload"),t.persist(a,"upload")}};return(0,es.QM)(n,e,{onOriginalFileUpload:l,onUploadComplete:l}),t.patchState({document:{assets:{[i]:{id:i,type:a.zO.Image,fileName:n.name,src:r}}}}),r},[e]),onAssetDelete:(0,s.useCallback)(async(e,t)=>!0,[])});var ec=n(34806);let eu={dash:a.c.Solid,isFilled:!0,color:a.JM.White},ep=e=>{let{isDark:t,font:n,...c}=e,{currentWorkspace:u}=(0,d.ur)(),[p,h]=(0,s.useState)(),[g,m]=(0,s.useState)(!1),x=(0,s.useCallback)(e=>{h(e),e.style(eu,[]),m(!0)},[]),{onAssetCreate:b,onAssetDelete:v}=ed(null==u?void 0:u.id);(0,s.useEffect)(()=>{p&&void 0!==t&&p.setSetting("isDarkMode",t)},[p,t]);let y=(0,s.useMemo)(()=>(0,ec.k)(t),[t]),w=(0,s.useMemo)(()=>(0,ec.I)(n),[n]);return(0,i.jsxs)(r.s,{sx:{".tl-canvas":{"div, text, textarea":{...w},...y,'g[cursor="grab"][aria-label="link handle"]':{display:"none"}}},onDrop:()=>{},onPaste:()=>{},position:"relative",h:"100%",w:"100%",className:"highlight-mask",children:[(0,i.jsx)(o.mL,{styles:{"#__textLabelMeasure, #__textMeasure":{...w}}}),(0,i.jsxs)(f.Provider,{value:p||{},children:[(0,i.jsx)(a.Z1,{onAssetCreate:b,onAssetDelete:v,...c,onMount:(0,l.H)(c.onMount,x)}),g&&!c.readOnly&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(K,{}),(0,i.jsx)(X,{})]}),g&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(el,{})})]})]})};var eh=n(58423),eg=n(48331);let em=e=>eh.Aq.getCommonBounds(e.map(a.ju.getRotatedBounds)),ex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:128,{shapes:n,pageState:{camera:i},rendererBounds:r}=e;if(0===n.length)return;let l=em(n);if(!l)return;let o=a.ju.getCameraZoom(Math.min((r.width-t)/l.width,(r.height-t)/l.height)),s=(r.width-l.width*o)/2/o,d=(r.height-l.height*o)/2/o;e.setCamera(eg.l.toFixed(eg.l.sub([s,d],[l.minX,l.minY])),o,"zoomed_to_fit")}},81570:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});let a={prompt:"",template:null,settings:{},status:"ready"}},81880:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var a=n(60908);let i=e=>{var t,n;return!!(e.src&&!(0,a.v7)(e.src)&&!(0,a.SV)(e.src)&&!((null==(t=e.meta)?void 0:t.frame_count)&&(null==(n=e.meta)?void 0:n.frame_count)>1))}},81946:(e,t,n)=>{"use strict";n.d(t,{R:()=>m});var a=n(6029),i=n(24302),r=n(26385),l=n(56570),o=n(26420),s=n(91106),d=n(19564),c=n(55729),u=n(82328),p=n(42644),h=n(84672),g=n(27856);let m=(0,c.memo)(function(e){let{editor:t,appendCard:n}=e,{isInOfflineMode:c}=(0,u.u)(),m={bgColor:(0,i.dU)("gray.50","blackAlpha.900")};return(0,a.jsx)(r.B,{p:2,bg:m.bgColor,children:(0,g.D)().map(e=>{let{subcategory:i,items:u}=e,g=u.filter(e=>t&&!(0,p.gT)(t,e,!1,c));if(0!==g.length)return(0,a.jsxs)(r.B,{spacing:1,children:[(0,a.jsx)(s._x,{flex:"1",textAlign:"left",children:i}),(0,a.jsx)(l.x,{gap:"1.5",gridTemplateColumns:"1fr 1fr 1fr",children:g.map(e=>(0,a.jsx)(s.Tz,{label:(0,a.jsx)(d.x6,{id:"BPbkIF"}),placement:"top",children:(0,a.jsx)(o.a,{cursor:"pointer",onClick:()=>{n(e.key)},borderRadius:"xl",_hover:{boxShadow:"lg"},transitionProperty:"box-shadow",transitionDuration:"normal",children:(0,a.jsx)(h.Z,{item:e})})},e.key))})]},i)})})})},82059:(e,t,n)=>{"use strict";n.d(t,{h:()=>b,f:()=>m});var a=n(22905),i=n(17406),r=n(41896),l=n(36811),o=n(46957),s=n(6029),d=n(21938),c=n(77650),u=n(40077),p=n(84886),h=n(66082);let g=e=>{let{node:t,decorations:n}=e,{level:a,horizontalAlign:i,placeholder:l}=t.attrs,o=l||(a===m.DefaultTitle?c.Ru._({id:"wja8aL"}):c.Ru._({id:"MHrjPM"}));return(0,s.jsx)(p.u,{...e,style:{display:"flex",flexDirection:"column",...(0,h.yp)(i)},children:(0,s.jsx)(r.$p,{dir:(0,h.fZ)(n),level:a,className:(0,d.cx)("title",u.U6),"data-placeholder":o,style:{minWidth:"min(100%, 10em)",...(0,h.O8)(i)}})})};var m=function(e){return e[e.DefaultTitle=1]="DefaultTitle",e[e.LargeTitle=2]="LargeTitle",e[e.XLargeTitle=3]="XLargeTitle",e}({});let x=e=>{switch(e){case 1:default:return"md";case 2:return"lg";case 3:return"xl"}},f=e=>{switch(e){case"md":default:return 1;case"lg":return 2;case"xl":return 3}},b=a.bP.create({name:"title",content:"inline*",group:"block cardNotesBlock",defining:!0,selectable:!1,addAttributes:()=>({level:{default:1}}),addNodeView:()=>(0,r.gu)(g,{update:o.z0}),parseHTML:()=>[{tag:"h1[class=title]"},{tag:"display[size]",getAttrs:e=>({level:f(e.getAttribute("size"))})}],addInputRules(){return(0,i.Y5)().map(e=>{let[,t]=e,{inputRegex:n,level:a}=t;return n?(0,l.JJ)({find:n,type:this.type,getAttributes:{level:a}}):null}).filter(e=>!!e)},renderHTML(e){let{HTMLAttributes:t}=e;return["h1",(0,a.KV)(t,{class:"title"}),0]},renderHTMLforAI(e){let{HTMLAttributes:t}=e,{level:n=1,...a}=t,i=x(n);return["display",{...a,size:i},0]}})},82172:(e,t,n)=>{"use strict";n.d(t,{Jx:()=>p,SQ:()=>s,pT:()=>c,tb:()=>u});var a=n(932),i=n.n(a),r=n(91656),l=n(15607),o=n(70815);let s=e=>{let t=[];for(let n=0;n<e.length;n++){let a=e[n],i=a.node.attrs.indent,r=d(e,n,e=>e.node.attrs.indent>i),l=s(r);t.push({node:a.node,pos:a.pos,children:l}),n+=r.length}return t},d=(e,t,n)=>{let a=[];for(let i=t+1;i<e.length;i++){let t=e[i];if(n(t))a.push(t);else break}return a},c=e=>e.map(e=>{let t=c(e.children);return{type:"card",content:[{type:"heading",attrs:{level:Math.min(e.node.attrs.indent+1,o.Bq)},content:[{type:"text",text:e.node.textContent}]},...t]}}),u=(e,t)=>({type:"smartLayout",attrs:{variantKey:t},content:e.map(e=>{let t=[{type:"heading",attrs:{level:4},content:i()(e.node.content.toJSON())}];return t.push(...e.children.map(e=>{let t=i()(e.node.toJSON());return t.attrs.indent-=1,t})),{type:"smartLayoutCell",content:t}})}),p=e=>(0,l.Ng)(e,r.x)},82592:(e,t,n)=>{"use strict";n.d(t,{CP:()=>h,FN:()=>x,Sg:()=>g,gC:()=>m});var a=n(22905),i=n(94289),r=n(47665),l=n(42721),o=n(85448),s=n(68469),d=n(95011),c=n(73077);let u=new Map,p=new Map,h=async e=>{let{editor:t,rootNode:n,theme:a,interactionId:i,workspaceId:r,docId:o,startPos:s,endPos:h}=e,g=(0,c.i8)(),m=new d.t;n.descendants((e,n)=>{if((!s||!(n<s))&&(!h||!(n>h)))for(let n of g){if(!n.detectNode(e))continue;let s=n.getNodeId(e);if(!s)continue;let d={docId:o||t.gammaDocId,workspaceId:r||t.gammaOrgId||(0,l.gx)(),interactionId:i,theme:a,imageStore:m},c=n.getCacheKey(e,d);if(p.has(c)){f(t,s,n,p.get(c));continue}if(u.has(c)){u.get(c).then(e=>{f(t,s,n,e)});continue}let h=n.processNode(e,d);u.set(c,h),h.then(e=>{p.set(c,e),f(t,s,n,e)});break}})},g=async e=>{let{editor:t,content:n,theme:a,interactionId:r,workspaceId:l,docId:o}=e,s=i.bP.fromJSON(t.state.schema,n);h({editor:t,rootNode:s,theme:a,interactionId:r,workspaceId:l,docId:o})},m=async e=>{let{card:t,schema:n,context:a,theme:r}=e,l=[],h=(0,c.i8)(),g=new d.t,m=a.interactionId||(0,s.$)();(0,o.LS)(t,async e=>{if("text"!==e.type)try{let t=i.bP.fromJSON(n,e);for(let n of h)if(n.detectNode(t)){if(!n.getNodeId(t))continue;let i={docId:a.docId,workspaceId:a.workspaceId,interactionId:m,theme:r,imageStore:g},o=n.getCacheKey(t,i);if(p.has(o)){e.attrs=p.get(o);continue}if(!u.has(o)){let a=n.processNode(t,i);u.set(o,a),a.then(t=>{p.set(o,t),e.attrs=t}),l.push(a)}break}}catch(e){console.error(e)}}),await Promise.all(l)},x=async e=>{let{lastCompletedCardId:t,editor:n,theme:i,interactionId:l}=e;if(!t)return;console.debug("[AsyncNodes] Resuming incomplete nodes after card:",t);let o=(0,a.xe)(n.state.doc,e=>(0,r.jg)(e)&&e.attrs.id===t)[0];if(!o)return void console.error("[resumeIncompleteAsyncNodes] Cannot find card with id:",t);let s=o.pos+o.node.nodeSize;h({editor:n,rootNode:n.state.doc,theme:i,interactionId:l,startPos:0,endPos:s})},f=(e,t,n,i)=>{let r=(0,a.xe)(e.state.doc,e=>n.getNodeId(e)===t)[0];if(!r)return void console.error("[updateAsyncNodeAttrs] Could not find node with id=".concat(t));let l=e.chain();l.updateAttributesAtPos(r.pos,i),l.noUndo&&l.noUndo(),l.run()}},82960:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var a=n(88586),i=n(58809),r=n(15342),l=n(82927),o=n(22529);let s=e=>{var t,n;let s=(0,l.gx)(),d=(0,r.GV)(i.Jo),c=null==d||null==(t=d.organization)?void 0:t.id,u=null==(n=(0,l.bs)(c))?void 0:n.id,p=(0,r.GV)((0,o.A1)(null!=c?c:""));return e!==a.rWX.Dashboard&&p?u:s}},83049:(e,t,n)=>{"use strict";n.d(t,{q:()=>h});var a=n(6029),i=n(26420),r=n(55729),l=n(94920),o=n(15342),s=n(12596),d=n(77387),c=n(43634);let u=r.memo(e=>{let{initialContent:t,onCreate:n,theme:i}=e,[l,u]=(0,r.useState)(!1),p=(0,o.GV)(c.SJ);return((0,r.useEffect)(()=>{requestAnimationFrame(()=>{u(!0)})},[]),l)?(0,a.jsx)(d.S,{theme:i||p,content:t,isThumbnail:!0,portalComponent:s.m,onCreate:n}):null});function p(e){let{initialContent:t,children:n,onCreate:r,theme:o}=e,{setEditor:s}=(0,l.U)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.a,{position:"absolute",left:"-9999px",top:"-9999px",children:(0,a.jsx)(u,{initialContent:t,theme:o,onCreate:e=>{let{editor:t}=e;s(t),null==r||r(t)}})}),n]})}function h(e){let{initialContent:t,children:n,onCreate:i,theme:r}=e;return(0,a.jsx)(l.h,{children:(0,a.jsx)(p,{initialContent:t,theme:r,onCreate:i,children:n})})}u.displayName="PreviewCardGroupEditor"},83106:(e,t,n)=>{"use strict";let a;n.d(t,{W:()=>i});let i=(0,n(69930).A)(a)},83143:(e,t,n)=>{"use strict";n.d(t,{Kr:()=>c,LQ:()=>s,bT:()=>o,gG:()=>p,lE:()=>d,qp:()=>u});var a=n(83817),i=n.n(a),r=n(91938),l=n(84979);let o=e=>{let{resize:t}=e.attrs,{height:n,width:a}=t;return!i()({resize:t},{resize:l.P})&&null!==n&&null!==a},s=e=>{e.chain().resetImageClip().resetImageScale().command(e=>{var t;let{commands:n}=e;return!!(null==(t=n.refreshBubbleMenu)?void 0:t.call(n))}).run()},d=async e=>{try{let t=e.split("/").pop();if(!t)throw Error("No filename found");let n=await fetch("".concat(r.$.API_HOST||"","/media/images/download"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":r.$.SHARE_TOKEN||""},body:JSON.stringify({url:e,filename:t})});if(!n.ok)throw Error("Download failed");let a=await n.blob(),i=window.URL.createObjectURL(a),l=document.createElement("a");l.href=i,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(i)}catch(e){console.error("Error downloading image:",e)}},c=e=>{var t;let n=e.parent;if(!(null==n?void 0:n.attrs))return"square";if("smartLayoutCell"===e.type&&"imagesText"===n.attrs.variantKey)return"landscape";if("cardAccentLayoutItem"===e.type){let e=n.attrs.layout;if("left"===e||"right"===e)return"portrait";if("top"===e)return"landscape"}return"gridCell"===n.type&&(null==(t=n.content)?void 0:t.length)===1?"square":"landscape"},u=async e=>{try{let t=await fetch("".concat(r.$.API_HOST||"","/media/images/download"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":r.$.SHARE_TOKEN||""},body:JSON.stringify({url:e,convertToPng:!0})});if(!t.ok)throw Error("Failed to fetch image for clipboard");let n=await t.blob();if(navigator.clipboard&&navigator.clipboard.write){let e=new ClipboardItem({[n.type]:n});await navigator.clipboard.write([e]),console.log("Image copied with Clipboard API successfully")}}catch(e){console.error("Error copying image to clipboard:",e)}},p=e=>e.replace(/<(?!xlink:)([a-zA-Z0-9_-]+):/g,"<").replace(/<\/(?!xlink:)([a-zA-Z0-9_-]+):/g,"</").replace(/\s*xmlns:(?!xlink)[a-zA-Z0-9_-]+\s*=\s*(["'])[^"']*\1/g,"").replace(/(<svg[^>]*)\s+xmlns\s*=\s*(["'])[^"']*\2/g,"$1").replace(/<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')},83488:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var a=n(51684),i=n(77650);let r={label:()=>i.Ru._({id:"/hLjBB"}),description:()=>i.Ru._({id:"wRlboO"}),key:"embed.custom",icon:a.c9S,keywords:["webpage","website","app","embed","iframe"]}},83605:(e,t,n)=>{"use strict";n.d(t,{Lm:()=>M,Rj:()=>T,dE:()=>_,wJ:()=>z});var a=n(22905),i=n(81904),r=n.n(i),l=n(72772),o=n.n(l),s=n(94289),d=n(28630),c=n(20775),u=n(62452),p=n(1057),h=n(64072),g=n(19842),m=n(59824),x=n(43182),f=n(98807),b=n(98308),v=n(83143),y=n(45574),w=n(98874),C=n(62171),A=n(52762),j=n(82927),k=n(30892),S=n(85448),I=n(58618),E=n(82592),R=n(45611);let L=["gridLayout","gallery","chart","table","smartDiagram"],D=["imagesText","pyramid","funnel","staircase","circleStats","barStats","semiCircle","circle","cycle","flower","ring"],M=async(e,t)=>{var n,i,r;let l,{cardIndex:s,imageOptions:d,docFormatKey:c,theme:u,loadImages:p}=t,m=null==(i=t.removeImagesFromLayouts)||i,f=await (0,R.e)(e,{imageOptions:d,removeImagesFromLayouts:m,loadImages:!1}),b=(0,a.getSchema)((0,h.C)()),v=new DOMParser().parseFromString(f,"text/html"),{content:y}=await W(v,b),w=1===y.length&&"card"===y[0].type?(null==(n=y[0])?void 0:n.content)||[]:y,C=w.some(e=>"cardLayoutItem"===e.type),A=w.find(e=>"cardAccentLayoutItem"===e.type);if(C)(l=y[0]).attrs.layout&&!A&&(l.attrs.layout="blank"),l.attrs.id||(l.attrs.id=x.Yv.generate());else{let e=null==(r=v.firstElementChild)?void 0:r.getAttribute("image-layout"),n=e&&g.bI.includes(e)?e:void 0,a=v.textContent?o()(v.textContent).length:void 0;l=P(w,{...t,cardIndex:s,docFormatKey:c,theme:u,cardLayout:n,wordCount:a,usePlaceholderImages:(null==d?void 0:d.provider)==="placeholder",onlyUseProvidedImages:(null==d?void 0:d.provider)==="none",textOnlyLayouts:t.preserveLayouts})}return d&&"aiGenerated"===d.provider&&N(l,b),p&&await (0,E.gC)({card:l,schema:b,context:{docId:"unknown",workspaceId:(0,j.gx)(),...t.context},theme:u}),z(l),l},_=e=>{let t=T(e)[0];return z(t),t},T=e=>{let t=(0,a.getSchema)((0,h.C)()),{content:n}=W(new DOMParser().parseFromString(e,"text/html"),t);return n},N=(e,t)=>{(0,S.LS)(e,e=>{if("text"===e.type)return;let n=s.bP.fromJSON(t,{type:e.type,attrs:e.attrs}),a=(0,y.um)(n);if(!a||!a.loadImageParams)return;let{options:i}=a.loadImageParams;if(!i)return;let r=(0,d.pH)("model"in i?i.model:void 0),l=(0,v.Kr)(e),o=r.includes(l)?l:c.X,u={...a.loadImageParams,options:{...a.loadImageParams.options,aspectRatio:o}};e.attrs=(0,y.wH)(n,{loadImageParams:u})})},z=e=>{var t,n,a,i,r;let l=e.content.find(e=>"cardAccentLayoutItem"===e.type);if(!l)return;let o=l.attrs.background;if(!o||(0,C.gK)(null==(t=e.attrs.container)?void 0:t.background))return;let s=null==o||null==(a=o.image)||null==(n=a.meta)?void 0:n.average_color,d=s&&(0,k.$p)(s);"behind"===e.attrs.layout&&(d||.5>(0,I.d)(e.attrs.id))&&(null!=(i=e.attrs).container||(i.container={}),e.attrs.container.background={type:A.h.COLOR,color:{hex:"#000000"}});let c=e.content.find(e=>"cardLayoutItem"===e.type);if(!c)return;let u=(c.content||[]).filter(e=>"paragraph"!==e.type||e.content);try{o.mask={effect:0===u.length?"none":"faded"}}catch(e){console.error("[caught] [fixBehindBackgroundMask]",e,"with accentBackground:",o)}},P=(e,t)=>{var n,a;let i,{cardIndex:l,docFormatKey:o,theme:s,cardLayout:d,cardDimensions:c,usePlaceholderImages:u,onlyUseProvidedImages:h}=t,g=x.Yv.generate(),f=e.filter(e=>{var t,n;return"image"===e.type&&((null==(t=e.attrs)?void 0:t.src)||(null==(n=e.attrs)?void 0:n.loadImageStatus)==="queued")||"mediaPlaceholder"===e.type})||[],b=h&&0===f.length,v=t.textOnlyLayouts||b||t.wordCount&&t.wordCount>("social"===o?50:120)||e.some(t=>{var n;return L.includes(t.type)||"smartLayout"===t.type&&(null==(n=t.attrs)?void 0:n.variantKey)&&D.includes(t.attrs.variantKey)||"smartLayout"===t.type&&t.content&&t.content.length>4||e.length>6}),y=f[0];u?i={type:A.h.NONE}:y&&"blank"!==d?i={type:A.h.IMAGE,image:y.attrs,source:y.attrs.source}:s&&(i=(0,p.gN)(s,g)),e=e.flatMap(e=>V(e,g));let w={};"deck"===o?w=F({cardIndex:l,cardId:g,preventSideCardLayouts:v,cardLayout:d}):"document"===o?w=B({cardIndex:l,cardId:g,preventSideCardLayouts:v,cardLayout:d}):"webpage"===o?w=O({cardIndex:l,cardId:g,accentBackground:i,preventSideCardLayouts:v,cardLayout:d,theme:s}):"social"===o&&(w=H({cardIndex:l,cardId:g,preventSideCardLayouts:v,cardLayout:d}));let C={container:{},layout:d||"blank",id:g,...w},j="blank"!==C.layout&&i?{type:"cardAccentLayoutItem",attrs:{itemId:"accent",background:i,fitType:"fill"}}:null;if(j||(C.layout="blank"),"left"===C.layout||"right"===C.layout||"social"===o){let t=!1;e.forEach(e=>{if("smartLayout"===e.type&&e.attrs){let n=e.attrs;t=!0,n.options.orientation="vertical",n.options.twoSided=!1}}),t&&(null==j||null==(a=j.attrs.background)?void 0:a.source)==="accent.theme"&&(C.layoutTemplateColumns="left"===C.layout?"25% 75%":"75% 25%")}if("top"===C.layout&&c&&!v){let{aspectRatio:e}=m.xs[c];e&&e<1&&(C.layoutTemplateRows="var(--top-accent-height-lg) auto")}let k={type:"cardLayoutItem",attrs:{itemId:"body"},content:e};return!y||"blank"===C.layout&&(null==(n=y.attrs)?void 0:n.src)||r()(e,y),{type:"card",attrs:C,content:j?[j,k]:[k]}},O=e=>{let{cardIndex:t,cardId:n,accentBackground:a,preventSideCardLayouts:i,theme:r,cardLayout:l}=e,o={},s=r?(0,u.CD)(r):[];if(l)o.layout=l;else if(0===t)o.layout=(0,I.s)(["behind","right"],n);else if(.8>(0,I.d)(n)){if(o.layout=i?"blank":(0,I.s)(["left","right","behind","blank","blank"],n),i&&"blank"===o.layout&&s.length&&.25>(0,I.d)(n)){let e=(0,u.Ik)((0,I.s)(s,n));o.container={background:{type:A.h.COLOR,color:{hex:e}}}}}else if(s.length){let e=(0,u.Ik)((0,I.s)(s,n));o.cardSize="contained",o.background=(0,I.s)([a,{type:A.h.COLOR,color:{hex:e}}],n),o.layout="blank"}return o},F=e=>{let{cardIndex:t,cardId:n,preventSideCardLayouts:a,cardLayout:i}=e,r={};return i?r.layout=i:0!==t||a?a?r.layout="blank":r.layout=(0,I.s)(["left","left","right","right","top"],n):r.layout=(0,I.s)(["left","right"],n),r},H=e=>{let{cardId:t,preventSideCardLayouts:n,cardLayout:a}=e,i={};return a?i.layout=a:n?i.layout=(0,I.s)(["behind","blank"],t):i.layout="top",i},B=e=>{let{cardIndex:t,preventSideCardLayouts:n,cardId:a,cardLayout:i}=e,r={};return i?r.layout=i:0===t?(r.cardSize="full",r.layout="behind"):n?r.layout="blank":r.layout=(0,I.s)(["blank","blank","blank","right","left"],a),r},V=(e,t)=>{var n;if("smartLayout"!==e.type||!e.attrs||!e.content)return e;let a=e.attrs.variantKey;return("bigBullets"===a||"smallBullets"===a)&&1===e.content.length&&(null==(n=e.content[0].content)?void 0:n.some(e=>"bullet"===e.type))?e.content[0].content:(("iconsText"===a||"imagesText"===a||"circleStats"===a)&&(e.attrs.options.imagePosition=(0,I.s)(["top","left"],t),"left"===e.attrs.options.imagePosition&&e.content.length%2!=0&&(e.attrs.options.cellSize=w.BT)),"staircase"===a&&(e.attrs.horizontalAlign=(0,I.s)(["center",void 0],t)),e.content.length>4&&(e.attrs.options.orientation="vertical"),e)},W=(e,t)=>{(0,b.h)(e);let n=s.S4.fromSchema(t).parseSlice(e.body);return{content:(0,f.ne)(n,t,void 0).content.toJSON()}}},83650:(e,t,n)=>{"use strict";n.d(t,{v:()=>g});var a=n(6029),i=n(36999),r=n(49611),l=n(26385),o=n(26420),s=n(48810),d=n(99492),c=n(48621),u=n(19564),p=n(33612),h=n.n(p);let g=e=>{let{color:t,isDefaultColor:n,isMixed:p=!1,...g}=e;return(0,a.jsx)(i.I,{as:r.$,variant:"plain",size:"sm",boxShadow:"none",minW:"fit-content",textAlign:"left",rightIcon:(0,a.jsx)(c.g,{fixedWidth:!0,icon:d.Jt$,transform:"shrink-6"}),...g,children:(0,a.jsxs)(l.B,{direction:"row",spacing:2,align:"center",children:[(0,a.jsx)(o.a,{as:"span",alignSelf:"center",boxSize:5,borderRadius:"md",border:"2px solid",borderColor:"gray.300",bgColor:t}),(0,a.jsx)(s.E,{fontFamily:n||p?void 0:"mono",textTransform:n||p?void 0:"uppercase",fontSize:"sm",children:p?(0,a.jsx)(u.x6,{id:"+UN6+J"}):n?(0,a.jsx)(u.x6,{id:"ovBPCi"}):h()(t).toHexString()})]})})}},83658:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var a=n(77650);let i={key:"image.pictographic",featureFlag:"pictographicImageSearch",label:()=>a.Ru._({id:"ualVui"}),description:()=>a.Ru._({id:"pnIyl1"}),image:{src:"/_next/static/media/pictographic.1e90e3a6.svg",height:759,width:692,blurWidth:0,blurHeight:0},keywords:["pictographic","illustrations","photo","image"]}},83740:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var a=n(51684),i=n(77650);let r={key:"image.icon",label:()=>i.Ru._({id:"0EarAx"}),icon:a.cCs,keywords:["fontawesome","icon","symbol","picture"]}},84033:(e,t,n)=>{"use strict";n.d(t,{j:()=>l});var a=n(15342),i=n(43634),r=n(95197);let l=e=>{let t=(0,a.GV)(i.uF),n=null==e?void 0:e.id,l=!!(n&&t[0]===n),o=t[t.length-1]===n,{cardMarginSettings:s}=(0,a.GV)(i.Uu),{hideFromFirst:d,hideFromLast:c}=s,u=l&&d,p=o&&c,h=!!(null==e?void 0:e.cardMarginSettings.isHidden);return{isFirstCardAndHidden:u,isLastCardAndHidden:p,isHiddenByCardSettings:h,areElementsCurrentlyHiddenBySettings:!(0,r.Nk)(s)&&(u||p||h)}}},84130:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});let a=new(n(83747)).b},84169:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KNOWN_BAD_HOSTNAMES=t.KNOWN_GOOD_HOSTNAMES=t.KNOWN_GOOD_TLDS=t.TRUSTED_WORKSPACE_IDS=t.GAMMA_WORKSPACE_ID_PRODUCTION=t.GAMMA_WORKSPACE_ID_STAGING=t.isTrustedTLD=t.removeWWWPrefix=void 0,t.removeWWWPrefix=e=>e.replace(/^www\./,""),t.isTrustedTLD=e=>t.KNOWN_GOOD_TLDS.some(t=>e===t||e.endsWith(".".concat(t))),t.GAMMA_WORKSPACE_ID_STAGING="QWjS6fBfpt",t.GAMMA_WORKSPACE_ID_PRODUCTION="zc87vhr30n8uf3n",t.TRUSTED_WORKSPACE_IDS=["acme",t.GAMMA_WORKSPACE_ID_STAGING,t.GAMMA_WORKSPACE_ID_PRODUCTION],t.KNOWN_GOOD_TLDS=["gamma.app","gamma.site","gammastaging.site","wikipedia.org"],t.KNOWN_GOOD_HOSTNAMES=["gamma.app","gamma.site","cdn.gamma.app","staging.gamma.app","cdn-staging.gamma.app","careers.gamma.app","design.gamma.site","orzo.gamma.site","www.markdownguide.org","www.youtube.com","www.linkedin.com","www.instagram.com","twitter.com","x.com","www.tiktok.com","help.gamma.app","gamma.new","join.slack.com","www.google.com","www.facebook.com","groups.google.com","en.wikipedia.org","replit.com","www.bea.gov","doi.org","es.wikipedia.org","app.stotles.com","docs.google.com","www.figma.com","www.ncbi.nlm.nih.gov","github.com","youtu.be","tr.wikipedia.org","uk.wikipedia.org","ru.wikipedia.org","ro.wikipedia.org","pt.wikipedia.org","example.com","zh.wikipedia.org","www.sciencedirect.com","fr.wikipedia.org","colab.research.google.com","player.fm","m.facebook.com","www.britannica.com","www.amazon.com","www.podcasts.com","ko.wikipedia.org","www.example.com","vi.wikipedia.org","www.notion.so","chat.openai.com","calendly.com","www.bing.com","pubmed.ncbi.nlm.nih.gov","open.spotify.com","de.wikipedia.org","id.wikipedia.org","www.researchgate.net","techcrunch.com","www.cnn.com","pl.wikipedia.org","api.whatsapp.com","youtube.com","hbr.org","podcasters.spotify.com","ar.wikipedia.org","th.wikipedia.org","dictionary.cambridge.org","www.kaggle.com","es.surveymonkey.com","www.canva.com","www.forbes.com","lookerstudio.google.com","unsplash.com","www.cdc.gov","az.wikipedia.org","it.wikipedia.org","www.investopedia.com","www.pinterest.com","music.amazon.com","kk.wikipedia.org","scholar.google.com","www.nature.com","www.producthunt.com","creativecommons.org","www.masterclass.com","fa.wikipedia.org","www.bbc.com","www.nytimes.com","en.m.wikipedia.org","sr.wikipedia.org","uz.wikipedia.org","ieeexplore.ieee.org","play.google.com","es.m.wikipedia.org","cloud.google.com","www.imdb.com","www.mckinsey.com","aws.amazon.com","www.microsoft.com","chrome.google.com","www.businessinsider.com","bing.com","www.porsche.com","www.apple.com"].map(t.removeWWWPrefix),t.KNOWN_BAD_HOSTNAMES=["trixmovie.com","luna-3d.com","luna-3d.com:443","kiladkoerm.com","movie.geoflix.me","wtach.club","movstream.fun","novelastv.me","xzc.one","srv1.iyxwfree.my.id","followme.tribe.so","xzc.icu","marcolinks.click","multilibb.cc","exl-trk.com","uk.ebookarea.xyz","wemovietv.com","123moviesdb.com","www.realpdfdumps.com","pede.4tv.live","voxmovie.com","stream.evmovies.com","dmovie.fun","pdfhost.io","megavids.online","www.pdfdumpspro.com","gomovie.stream","dmovie.fun:443","go123.stream","ca.ebookarea.xyz","movie4you.online","www.123movieslink.com","moviedaily.site","maxstream.site","ftmovies.xyz","moviescreen.biz","moviesfox.site","morthenfile.web.app"].map(t.removeWWWPrefix)},84208:(e,t,n)=>{"use strict";n.d(t,{v:()=>l});var a=n(15342),i=n(95889),r=n(43634);let l=(e,t)=>{let n=(0,a.KA)().getState(),l=(0,r.sX)(n);null===i.zS||void 0===i.zS||i.zS.track(e,{docId:l,...t})}},84343:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var a=n(6029),i=n(26420),r=n(40452),l=n(16936),o=n(55597),s=n(48621),d=n(91106),c=n(19564),u=n(77650),p=n(55729),h=n(87996),g=n(91792),m=n(89703),x=n(80180),f=n(61651),b=n(62695);let v=e=>{let{onSelectImage:t,isAccentImageDrawer:n=!1,openEditBackgroundDrawer:l,...s}=e,{setMediaDrawerSourceKeyAction:d,setBackgroundDrawerSourceKeyAction:p}=(0,b.B)(),g=[{id:"image.custom",label:(0,a.jsx)(c.x6,{id:"6MxxvO"}),ariaLabel:u.Ru._({id:"6MxxvO"}),icon:o.MNJ,onClick:()=>{null==t||t(),d(h.mx.key,!0),setTimeout(()=>(0,m.G)(!1),0)}},{id:"image.web",label:(0,a.jsx)(c.x6,{id:"Of4gkp"}),ariaLabel:u.Ru._({id:"Of4gkp"}),icon:o.$UM,onClick:()=>{null==t||t(),d(h.Rn.key,!0),setTimeout(()=>(0,m.G)(!1),0)}},{id:"image.ai-generated",label:(0,a.jsx)(c.x6,{id:"UQ4o1/"}),ariaLabel:u.Ru._({id:"UQ4o1/"}),icon:o._$C,onClick:()=>{null==t||t(),d(h.Up.key,!0),setTimeout(()=>(0,m.G)(!1),0)}}],f=[{id:"image.custom",label:(0,a.jsx)(c.x6,{id:"pDdFxL"}),ariaLabel:u.Ru._({id:"6MxxvO"}),icon:o.MNJ,onClick:()=>{null==t||t(),p(h.mx.key),setTimeout(()=>null==l?void 0:l(!1),0)}},{id:"image.web",label:(0,a.jsx)(c.x6,{id:"eFaih9"}),ariaLabel:u.Ru._({id:"Of4gkp"}),icon:o.$UM,onClick:()=>{null==t||t(),p(h.Rn.key),setTimeout(()=>null==l?void 0:l(!1),0)}},{id:"image.ai-generated",label:(0,a.jsx)(c.x6,{id:"UQ4o1/"}),ariaLabel:u.Ru._({id:"UQ4o1/"}),icon:o._$C,onClick:()=>{null==t||t(),p(h.Up.key),setTimeout(()=>null==l?void 0:l(!1),0)}}];return(0,a.jsx)(i.a,{pos:"relative",zIndex:100,...s,children:(0,a.jsx)(r.s,{marginBottom:"-8px",onClick:x.dG,children:(n?f:g).map((e,t)=>(0,a.jsx)(y,{...e},t))})})},y=(0,p.memo)(e=>{let{label:t,ariaLabel:n,icon:i,id:r,onClick:o}=e,c=(0,g.rd)();return(0,a.jsx)(d.Tz,{label:t,placement:"top",closeOnClick:!0,children:(0,a.jsx)(l.K,{icon:(0,a.jsx)(s.g,{icon:i,size:"1x"}),"aria-label":n,"data-testid":"quick-action","data-test-media-source":r,variant:"ghost",rounded:"md",onMouseDown:o,width:"32px",height:"32px",color:c?f.N.DARK_ICON_COLOR:f.N.LIGHT_ICON_COLOR,display:"flex",alignItems:"center",justifyContent:"center",p:1,cursor:"pointer",_hover:"image.ai-generated"===r?c?{color:f.N.DARK_AI_BTN_HOVER_COLOR,bg:f.N.DARK_AI_BTN_HOVER_BG}:{color:f.N.LIGHT_AI_BTN_HOVER_COLOR,bg:f.N.LIGHT_AI_BTN_HOVER_BG}:c?{color:f.N.DARK_BTN_HOVER_COLOR,bg:f.N.DARK_BTN_HOVER_BG}:{color:f.N.LIGHT_BTN_HOVER_COLOR,bg:f.N.LIGHT_BTN_HOVER_BG},animation:"fadeIn",transition:"color 0.2s, background-color 0.2s"})})});y.displayName="QuickActionButton"},84431:(e,t,n)=>{"use strict";n.d(t,{$:()=>a});let a={presentBg:1,customerLogo:4,cardButtons:11,siteNav:21,filmstrip:21,toolbar:22,nestedCardBody:2,nestedCardBodyWithComment:3,cardDivider:1,resizeableWrapper:11,commentsStack:21,commentsStackOpen:1501,commentsPopup:1100,insertWidget:1100,panel:"calc(var(--chakra-zIndices-modal) + 1)",bottomRightControls:"calc(var(--chakra-zIndices-modal) + 2)",onboardingChecklist:"calc(var(--chakra-zIndices-modal) + 2)"}},84655:(e,t,n)=>{"use strict";n.d(t,{c:()=>u});var a=n(6029),i=n(61204),r=n(16936),l=n(99492),o=n(48621),s=n(91106),d=n(77650);let c=[{key:"start",name:()=>d.Ru._({id:"Xl2IZ9"}),icon:l.jot,description:()=>d.Ru._({id:"N0rIpR"})},{key:"center",name:()=>d.Ru._({id:"7FOGnf"}),icon:l.nr0,description:()=>d.Ru._({id:"3JV7Yt"})},{key:"end",name:()=>d.Ru._({id:"H0UcZG"}),icon:l.yHR,description:()=>d.Ru._({id:"LcSMtc"})}],u=e=>{let{defaultAlignment:t,alignment:n,setAlignment:l}=e;return(0,a.jsx)(i.e,{isAttached:!0,size:"sm",display:"flex",children:c.map(e=>{let i=n||e.key!==t?e.key===n?"trueblue.100":void 0:"trueblue.50";return(0,a.jsx)(s.Tz,{label:(0,a.jsx)(s.c8,{label:e.name(),description:e.description()}),placement:"top",children:(0,a.jsx)(r.K,{"aria-label":e.name(),px:"2.5",boxShadow:"none",icon:(0,a.jsx)(o.g,{icon:e.icon}),variant:"plain",bg:i,onClick:()=>{l(e.key)}})},e.key)})})}},84672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y,p:()=>w});var a=n(6029),i=n(24302),r=n(26385),l=n(40452),o=n(33787),s=n(26420),d=n(74676),c=n(48810),u=n(99492),p=n(55597),h=n(48621),g=n(91106),m=n(19564),x=n(77650),f=n(50507),b=n(9455),v=n(85684);let y=e=>{let{item:t}=e,{name:n,image:u,icon:p,key:g,previewImage:m,shortcut:x,badge:v}=t,y=(0,f.iT)(),{colorMode:w}=(0,i.G6)(),C={iconColor:(0,i.dU)("trueblue.600","trueblue.100"),bgColor:(0,i.dU)("white","elevation.3"),textColor:(0,i.dU)("gray.700","gray.50"),borderColor:(0,i.dU)("gray.200","gray.600"),invertFilter:(0,i.dU)("invert(0)","invert(.7) brightness(1.4) hue-rotate(180deg)"),iconBgColor:(0,i.dU)("white","gray.700"),gripDotsColor:(0,i.dU)("gray.500","gray.500")};return(0,a.jsxs)(r.B,{h:"100%",bg:C.bgColor,p:2.5,pt:2,spacing:1.5,alignItems:"center",shadow:"sm",borderRadius:"xl",border:"1px",borderColor:C.borderColor,role:"group",children:[(0,a.jsx)(l.s,{justifyContent:"center",alignItems:"center",minH:"7",w:"100%",children:"cardTemplate"===t.type&&y[g]?(0,a.jsx)(b.LK,{content:y[g].jsonContent,isDark:"dark"===w}):m?(0,a.jsx)(l.s,{bg:C.iconBgColor,borderRadius:"md",children:(0,a.jsx)(o._,{filter:C.invertFilter,src:m.src,w:"100%",maxW:"100%",alt:n(),pointerEvents:"none"})}):u?(0,a.jsx)(o._,{src:u.src,borderRadius:"sm",h:"1.5em",w:"1.5em",objectFit:"contain",pointerEvents:"none"}):(0,a.jsx)(s.a,{color:C.iconColor,fontSize:"xl",children:p&&(0,a.jsx)(h.g,{icon:p})})}),v&&(0,a.jsx)(d.E,{position:"absolute",top:"1",insetEnd:"2",colorScheme:"green",children:v()}),(0,a.jsxs)(r.B,{spacing:0,whiteSpace:"break-spaces",flex:"1",textAlign:"center",children:[(0,a.jsx)(c.E,{color:C.textColor,fontWeight:"600",fontSize:"xs",lineHeight:1.2,noOfLines:2,children:n()}),x&&(0,a.jsx)(c.E,{fontSize:"xs",color:"gray.500",fontWeight:"500",children:x})]})]})},w=e=>{let{item:t,onDragStart:n,onDragEnd:l,onClick:o}=e,{isDragging:d,isMouseDown:f,handleDragStart:b,handleDragEnd:w,handleClick:C,onMouseDown:A,onMouseUp:j}=(0,v.c)(n,l,o),{key:k,description:S}=t,I={gripDotsBg:(0,i.dU)("white","gray.800"),gripDotsColor:(0,i.dU)("gray.500","gray.500")};return(0,a.jsx)(g.Tz,{closeOnMouseDown:!0,closeOnClick:!0,isOpen:!d&&void 0,label:(0,a.jsxs)(s.a,{as:"span",display:"inline",children:[(0,a.jsx)(h.g,{icon:u.bFI})," ",(0,a.jsx)(c.E,{display:"inline",children:(0,a.jsx)(m.x6,{id:"Dd9uag"})}),S&&(0,a.jsx)(c.E,{textAlign:"start",color:"gray.300",maxW:"170px",children:S()})]}),"aria-label":x.Ru._({id:"Dd9uag"}),placement:"top",children:(0,a.jsxs)(r.B,{"data-testid":"".concat(k,"-insert-button"),draggable:!0,onDragStart:b,onDragEnd:w,onClick:C,onMouseDown:A,onMouseUp:j,onMouseLeave:j,cursor:"grab",_hover:{transform:"scale(1.05) rotate(-0.25deg)",shadow:"lg"},transitionProperty:"common",transitionDuration:"normal",transform:"rotate(".concat(f&&!d?-1:0,"deg) translate(0, 0);"),role:"group",borderRadius:"xl",children:[(0,a.jsx)(y,{item:t}),(0,a.jsx)(s.a,{opacity:0,_groupHover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal",position:"absolute",top:"1.5",insetStart:"1.5",bg:I.gripDotsBg,color:I.gripDotsColor,borderRadius:"sm",fontSize:"sm",children:(0,a.jsx)(h.g,{icon:p.IMq,fixedWidth:!0})})]})})}},84714:(e,t,n)=>{"use strict";n.d(t,{g:()=>x,j:()=>m});var a=n(6029),i=n(40452),r=n(26420),l=n(99492),o=n(55597),s=n(48621),d=n(19564),c=n(90184),u=n(68301),p=n(27246),h=n(49249),g=n(74471);let m=e=>{let{onClick:t=()=>{},...n}=e;return(0,u.u)("disableRemoveBackground")?null:(0,a.jsx)(g.I,{label:(0,a.jsxs)(i.s,{alignItems:"center",justifyContent:"center",children:[(0,a.jsx)(d.x6,{id:"ylbfBl"}),(0,a.jsx)(c.G,{type:"removeBackground",ms:2,color:"gray.400"})]}),onClick:t,...n,children:(0,a.jsxs)(r.a,{as:"span",className:"fa-layers fa-fw",children:[(0,a.jsx)(s.g,{icon:l.sAw,size:"lg"}),(0,a.jsx)(s.g,{icon:o.X46,size:"xs",transform:"shrink-5"})]})})},x=e=>{let{editor:t,decorations:n}=e,i=(0,p.Bn)(n),{startRemoveBg:r,isRemoveBgLoading:l}=(0,h.D)({editor:t,id:null==i?void 0:i.cardId});return(0,a.jsx)(m,{onClick:r,disabled:l})}},84886:(e,t,n)=>{"use strict";n.d(t,{u:()=>eG});var a=n(6029),i=n(26420),r=n(21938),l=n(91106),o=n(58495),s=n(55729),d=n(36802),c=n(82328),u=n(68301),p=n(15342),h=n(63902),g=n(43607),m=n(41896),x=n(43634),f=n(30892),b=n(29608),v=n(11403),y=n(50764);let w=e=>{let{editor:t,decorations:n}=e,a=n.filter(e=>!!e.spec.isMobileAnnotation),[i,r]=(0,s.useState)(null),l=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(0===a.length){null!==l.current&&(document.removeEventListener("touchstart",l.current),l.current=null,r(null));return}l.current||(r({left:a[0].spec.offsetX,top:a[0].spec.offsetY}),l.current=e=>{e.target.closest(".mobile-add-comment-widget")||t.commands.setMobileAddBlockComment(null)},document.addEventListener("touchstart",l.current))},[t,a]),i};var C=n(46898),A=n(74158),j=n(17928),k=n(92397),S=n(82927),I=n(72926),E=n(58959),R=n(55597),L=n(40452),D=n(26385),M=n(17496),_=n(99492),T=n(19564),N=n(42328),z=n(5061),P=n(80180),O=n(49611),F=n(74676),H=n(48621);let B=(0,s.memo)(e=>{let{isMobile:t,icon:n,badgeCount:i,tooltip:r,children:o,...s}=e;t&&delete s._hover;let d=(0,a.jsx)(E.z,{className:"block-comment-button-wrapper",children:(0,a.jsxs)(O.$,{variant:"custom",borderRadius:"full",size:"sm",bgGradient:"none",color:"yellow.600",boxSize:t?10:8,border:t?"":"1px solid white",transitionProperty:"common",transitionDuration:"normal",_hover:t?{}:{bgGradient:"linear(to-b, yellow.300, yellow.400)",color:"yellow.700"},...s,children:[n&&(0,a.jsx)(H.g,{size:t?"lg":"sm",icon:n}),o&&o,void 0!==i&&(0,a.jsx)(F.E,{colorScheme:"yellow",borderRadius:"full",pos:"absolute",bottom:-1,right:-1,shadow:"base","data-testid":"badge-count",children:i})]})});return r?(0,a.jsx)(l.Tz,{placement:"left",label:r,children:d}):d});B.displayName="GenericBlockCommentButton";var V=n(89122),W=n(831),U=n.n(W),G=n(59320),K=n(65978),Q=n(68143);let Z=e=>{let{comments:t,reactions:n,draftComment:a}=e;if(a&&a.text.trim().length>0)return"draft";if(0===t.length)return 0===n.length?"fresh":"reactions-only";if(1===t.length)return"single-thread";if(t.length>1)return"multiple-threads";throw Error("Invalid button state")},q=e=>{let{comments:t,reactions:n}=e,a={};return t.forEach(e=>{a[e.id]=[e.user],e.replies.forEach(t=>{a[e.id].push(t.user)})}),Object.entries(a).forEach(e=>{let[t,n]=e;a[t]=U()(n,"id")}),a},J=e=>{let{reactions:t}=e,n={};return t.forEach(e=>{n[e.emoji]=U()(e.reactions.flatMap(e=>e.users),"id")}),n},$=e=>{let{comments:t,reactions:n,draftComment:a}=e,i=Z({comments:t,reactions:n,draftComment:a});return{state:i,allCount:t.reduce((e,t)=>{var n;return e+((null==(n=t.replies)?void 0:n.length)||0)},0)+n.reduce((e,t)=>e+t.count,0)+t.length,overflowReactionCount:Math.max(0,n.length-7)}},Y=e=>{let{comments:t,reactions:n}=e,a=n.flatMap(e=>e.reactions.map(e=>e.users)).flat(),i=t.map(e=>e.user).concat(t.map(e=>e.replies.map(e=>e.user)).flat()).filter(Boolean),r=q({comments:t,reactions:n}),l=U()([...i,...a],"id"),o=[],s=J({reactions:n});return t.forEach(e=>{o.push(r[e.id])}),{allAvatars:l,reactionAvatars:s,commentAvatars:o}},X=e=>{let{popup:t,isMobile:n,isHovered:a,comments:i,reactions:r,draftComment:l,enableReactions:o}=e,{state:d}=$({comments:i,reactions:r,draftComment:l}),c=n||o&&a||!o&&a&&"fresh"!==d||null!==t;return(0,s.useEffect)(()=>{n||(c?document.body.classList.add("is-taking-action"):document.body.classList.remove("is-taking-action"))},[c,n]),{isExpanded:c}},ee=e=>{let{isOpen:t,popupRef:n,onClose:a}=e;(0,V.j)({ref:n,handler:e=>{var n,i,r,l,o,s,d;(0,b.mG)()&&!(null==e||null==(n=e.target)?void 0:n.closest(".".concat(K.V," [data-controls-toggle-button]")))||!t||(null==e||null==(i=e.target)?void 0:i.closest("[data-controls-toggle-button]"))||(null==e||null==(r=e.target)?void 0:r.closest('[data-target-name="emoji-list"]'))||(null==e||null==(l=e.target)?void 0:l.closest('[data-target-name="mention-list"]'))||(null==e||null==(o=e.target)?void 0:o.closest('[data-target-name="reaction-emoji-picker"]'))||(null==e||null==(s=e.target)?void 0:s.closest(".chakra-menu__menu-list"))||(null==e||null==(d=e.target)?void 0:d.closest('[data-target-name="doc-mention-popup"]'))||a()}})},et=e=>{let{editor:t,getPos:n}=e,a=t.view.nodeDOM(n()),[i,r]=(0,s.useState)(null);return((0,s.useLayoutEffect)(()=>{r((null==a?void 0:a.offsetHeight)||100)},[]),null===i)?null:Math.min(i,G.Ey)};var en=n(48810),ea=n(3276),ei=n(18833),er=n(43787);let el=(0,ei.P)(i.a),eo=(0,s.memo)(e=>{let{emojis:t,rtlEnabled:n}=e;return(0,a.jsx)(a.Fragment,{children:null==t?void 0:t.map((e,i)=>0===i?(0,a.jsx)(el,{initial:{x:n?"-6px":"6px",y:"5px"},textShadow:(null==t?void 0:t.length)>1?"0px 1px 3px rgba(0,0,0,.4)":"none",fontSize:"20px",position:"absolute",zIndex:1,children:(0,a.jsx)("em-emoji",{size:0,native:!0,id:e})},i):1===i?(0,a.jsx)(el,{zIndex:0,initial:{x:n?"-10px":"10px",y:"6px",scale:.7},animate:{scale:.7,rotate:"10deg",x:n?"-18px":"18px",y:"-3px"},position:"absolute",children:(0,a.jsx)("em-emoji",{size:0,native:!0,id:e})},i):2===i?(0,a.jsx)(el,{zIndex:0,initial:{x:n?"-10px":"10px",y:"6px",scale:.7},animate:{scale:.7,rotate:"-10deg",x:n?"3px":"-3px",y:"16px"},position:"absolute",children:(0,a.jsx)("em-emoji",{size:0,native:!0,id:e})},i):3===i?(0,a.jsx)(el,{zIndex:0,initial:{x:n?"-10px":"10px",y:"6px",scale:.7},animate:{scale:.7,rotate:"-10deg",x:n?"3px":"-3px",y:"-3px"},position:"absolute",children:(0,a.jsx)("em-emoji",{size:0,native:!0,id:e})},i):null)})});eo.displayName="EmojiCluster";let es=(0,ei.P)(i.a),ed=(0,s.memo)(e=>{let{emoji:t,emojiCluster:n,isMobile:r,user:o,canReact:d,reaction:c,badgeCount:u,onClick:p,...h}=e,g=(0,z.fW)(),m=(0,Q.BW)(c),x=!!m.find(e=>e.id===(null==o?void 0:o.id)),f=(0,er.gj)({users:m,selfUserId:(null==o?void 0:o.id)||""}),b=(0,a.jsxs)(i.a,{alignContent:"center",children:[(0,a.jsx)(T.x6,{id:"mRnNF/",values:{usersLabel:f,emoji:t},components:{0:(0,a.jsx)(en.E,{as:"span",color:"gray.300"})}}),d&&(0,a.jsx)(en.E,{display:"block",color:"gray.500",children:x?(0,a.jsx)(T.x6,{id:"fb/FjL"}):(0,a.jsx)(T.x6,{id:"AG3H1y"})})]}),v=(0,a.jsx)(E.z,{className:"block-comment-button-wrapper",children:(0,a.jsxs)(O.$,{variant:"ghost",borderRadius:"full",size:"sm",boxSize:r?10:8,transitionProperty:"common",transitionDuration:"normal",...x?{bg:"gray.50",borderColor:r?"blackAlpha.200":"gray.200"}:{},...h,onClick:e=>{d&&p&&p(e)},pos:"relative",children:[(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)(ea.y,{size:"sm"}),children:(0,a.jsxs)(en.E,{pos:"absolute",inset:0,as:"span",sx:{".emoji-mart-emoji":{fontSize:"1em",span:{cursor:"inherit",fontSize:"1em !important"},":hover::before":r?{}:{backgroundColor:"transparent"}}},fontSize:r?"1.5em":"1.25em",children:[!n&&(0,a.jsx)(es,{initial:{x:g?"-6px":"6px",y:"5px"},fontSize:"20px",position:"absolute",zIndex:1,children:(0,a.jsx)("em-emoji",{size:0,native:!0,id:t})}),(0,a.jsx)(N.N,{children:(0,a.jsx)(eo,{emojis:n,rtlEnabled:g})})]})}),void 0!==u&&(0,a.jsx)(F.E,{colorScheme:"yellow",borderRadius:"full",pos:"absolute",bottom:-1,insetEnd:-1,shadow:"base",zIndex:1,children:u})]})});return b?(0,a.jsx)(l.Tz,{placement:"left",label:b,children:v}):v});ed.displayName="ReactionButton";let ec={bg:"yellow.600",color:"yellow.100",_hover:{bg:"yellow.600",color:"yellow.100"}},eu={bg:"yellow.100",color:"yellow.800"},ep="linear(to-b, yellow.200, yellow.300)",eh=e=>{e.stopPropagation()},eg=(0,s.memo)(e=>{let{user:t,userCanComment:n,isExpanded:r,isMobile:l,comments:o,reactions:s,draftComment:d,onClickThread:c,onClickAddComment:u,onClickAddReaction:p,onClickReactionsOverflow:h,onClickExistingReaction:g,onClosePopup:m,hideAddCommentButton:x=!1,viewingCommentId:f,enableReactions:b,blockAllowsCommenting:v,...y}=e,w=(0,z.fW)(),{state:C,allCount:A,overflowReactionCount:j}=$({comments:o,reactions:s,draftComment:d}),k=[];if(!r)switch(C){case"draft":k.push((0,a.jsx)(B,{isMobile:l,icon:_.I$7,onClick:u,bg:r?"gray.50":"white",_hover:eu,color:"gray.600"},"draft"));break;case"fresh":k.push((0,a.jsx)(B,{isMobile:l,icon:R.vdI,bg:r?"gray.50":"white",_hover:eu,color:"gray.600",bgGradient:ep,tooltip:(0,a.jsx)(T.x6,{id:"oFsfkI"}),"data-testid":"create-comment-button",onClick:u},"fresh"));break;case"reactions-only":if(s.length>0){let e=s[0],i=s.reduce((e,t)=>(e.push(t.emoji),e),[]);k.push((0,a.jsx)(ed,{isMobile:l,onClick:t=>{g(e),t.stopPropagation()},reaction:e,user:t,badgeCount:A,emoji:e.emoji,"data-testid":"reaction-".concat(e.emoji),emojiCluster:i,canReact:n&&v},e.emoji))}break;case"single-thread":k.push((0,a.jsx)(B,{isMobile:l,icon:R.DN2,bgGradient:ep,badgeCount:A,"data-testid":"single-thread"},"first-thread"));break;case"multiple-threads":k.push((0,a.jsx)(B,{isMobile:l,bgGradient:ep,icon:R.q9p,badgeCount:A,"data-testid":"multiple-threads"},"first-thread"))}return(r&&(o.forEach((e,t)=>{let n=null!==f&&e.id===f,i=n?()=>m():()=>c(e);k.push((0,a.jsx)(B,{isMobile:l,icon:R.DN2,badgeCount:e.replies.length+1,bgGradient:ep,onClick:i,"data-testid":"thread-".concat(t),...n?ec:{}},0===t?"first-thread":"thread-".concat(t)))}),b&&(s.slice(0,7).forEach(e=>{k.push((0,a.jsx)(ed,{isMobile:l,onClick:t=>{g(e),t.stopPropagation()},"data-testid":"reaction-".concat(e.emoji),reaction:e,user:t,badgeCount:e.count,emoji:e.emoji,canReact:n&&v},e.emoji))}),j>0&&k.push((0,a.jsxs)(B,{isMobile:l,onClick:()=>{h()},bg:"gray.50",color:"yellow.800",_hover:eu,children:["+",j]},"reactions-overflow"))),"draft"===C?k.push((0,a.jsx)(B,{isMobile:l,icon:_.I$7,tooltip:(0,a.jsx)(T.x6,{id:"x8Zuns"}),onClick:u,bg:r?"gray.50":"white",_hover:eu,"data-testid":"create-comment-button-draft",color:"gray.600"},"draft")):x||l||k.push((0,a.jsx)(B,{isMobile:l,icon:R.vdI,transform:w?"scaleX(-1)":"",bgGradient:ep,tooltip:(0,a.jsx)(T.x6,{id:"oFsfkI"}),onClick:u,bg:r?"gray.50":"white",_hover:eu,"data-testid":"create-comment-button",color:"gray.600"},"fresh")),b&&n&&!x&&!l&&k.push((0,a.jsx)(B,{isMobile:l,icon:R.Q3O,transform:w?"scaleX(-1)":"",bgGradient:ep,onClick:()=>{p()},tooltip:(0,a.jsx)(T.x6,{id:"9OEgyT"}),"data-testid":"add-reaction-button",bg:"gray.50",_hover:eu,color:"gray.600"},"add-reaction"))),l)?(0,a.jsx)(L.s,{className:"block-comments-inner-stack",userSelect:"none",transitionProperty:"all",transitionDuration:"fast",flexDir:"row",flexWrap:"wrap",onClick:eh,children:k}):(0,a.jsxs)(D.B,{className:"block-comments-inner-stack",userSelect:"none",spacing:0,width:"34px",transitionProperty:"all",transitionDuration:"fast",onClick:eh,borderRadius:"full",boxShadow:"0 0 0 2px rgba(0,0,0,.1)",bg:"white",border:"1px solid transparent",onMouseDown:P.Fw,"data-testid":"block-comments-buttons",...y,children:[(0,a.jsx)(i.a,{children:k[0]}),(0,a.jsx)(M.S,{in:r,startingHeight:0,transitionEnd:{enter:{overflow:"initial"}},children:(0,a.jsx)(N.N,{children:k.length>1&&(0,a.jsx)(D.B,{spacing:1,children:k.slice(1)})})})]})});eg.displayName="BlockCommentsButtons";let em=(0,s.memo)(e=>{let{onClickAddComment:t,onClickAddReaction:n,...r}=e;return(0,a.jsx)(i.a,{className:"mobile-add-comment-widget",pos:"absolute",transform:"translate(-50%,-50%) scale(1)",mt:-6,background:"white",p:"4px",borderRadius:"full",shadow:"lg",transitionProperty:"common",transitionDuration:"normal",transitionTimingFunction:"cubic-bezier(0.34, 1.56, 0.64, 1);",zIndex:9,...r,children:(0,a.jsxs)(E.z,{spacing:1,children:[(0,a.jsx)(B,{isMobile:!0,icon:R.vdI,bg:"white",_hover:eu,color:"gray.600",bgGradient:ep,onClick:()=>{t()}},"fresh"),(0,a.jsx)(B,{isMobile:!0,icon:R.Q3O,bgGradient:ep,onClick:()=>{n()},bg:"white",_hover:eu,color:"gray.600"},"add-reaction")]})})});em.displayName="MobileAddCommentWidget";var ex=n(16842),ef=n(96990);let eb=(0,s.memo)(e=>{let{comments:t,reactions:n,isExpanded:i,avatarMax:r=4}=e,{allAvatars:l,reactionAvatars:o,commentAvatars:s}=Y({comments:t,reactions:n});return(0,a.jsxs)(D.B,{className:"avatar-group-popup",spacing:1,transitionProperty:"common",transitionDuration:"fast",onClick:e=>{e.stopPropagation()},p:"1px",ps:3,userSelect:"none",children:[!i&&(0,a.jsx)(ex.Z,{max:r,style:{fontSize:"var(--chakra-fontSizes-sm)"},size:"sm",justifyContent:"start",opacity:[0,0,0,1],transitionProperty:"common",transitionDuration:"normal",position:"relative",children:l.map((e,t)=>(0,a.jsx)(ef.e,{zIndex:l.length-t,me:-3,name:null==e?void 0:e.displayName,src:null==e?void 0:e.profileImageUrl,shadow:"base",ignoreFallback:!0},"unexpanded-".concat(null==e?void 0:e.id)))}),i&&(0,a.jsxs)(a.Fragment,{children:[s.map((e,t)=>(0,a.jsx)(ex.Z,{max:r,style:{fontSize:"var(--chakra-fontSizes-sm)"},size:"sm",justifyContent:"start",opacity:[0,0,0,1],transitionProperty:"common",transitionDuration:"normal",position:"relative",children:e.map((e,t)=>(0,a.jsx)(ef.e,{zIndex:l.length-t,me:-3,name:null==e?void 0:e.displayName,src:null==e?void 0:e.profileImageUrl,shadow:"base",ignoreFallback:!0},"comment-".concat(null==e?void 0:e.id)))},"comment-".concat(t))),n.slice(0,7).map((e,t)=>(0,a.jsx)(ex.Z,{max:r,style:{fontSize:"var(--chakra-fontSizes-sm)"},size:"sm",justifyContent:"start",opacity:[0,0,0,1],transitionProperty:"common",transitionDuration:"normal",position:"relative",children:o[e.emoji].map((e,t)=>(0,a.jsx)(ef.e,{zIndex:l.length-t,me:-3,name:null==e?void 0:e.displayName,src:null==e?void 0:e.profileImageUrl,shadow:"base",ignoreFallback:!0},"reaction-".concat(null==e?void 0:e.id)))},"reaction-".concat(t)))]})]})});eb.displayName="AvatarGroupPopup";var ev=n(77650);let ey=e=>{let{isMobile:t,emoji:n}=e,i=ev.Ru._({id:"r2ONxg"});return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)(ea.y,{size:"sm"}),children:(0,a.jsxs)(en.E,{as:"span",sx:{".emoji-mart-emoji":{fontSize:"1em",span:{cursor:"inherit",fontSize:"1em !important"}}},children:[(0,a.jsx)("em-emoji",{size:0,native:!0,id:n})," ",i,"."]})})};var ew=n(88055),eC=n(58809),eA=n(7270),ej=n(36842),ek=n(30228);let eS=e=>{let{onCancel:t,editor:n,commentIdToHighlight:i,userCanComment:r,blockAllowsCommenting:l,getPos:o,draftComment:s,onCommentDraftUpdate:d,onCommentSave:c,isMobile:u}=e,{user:h}=(0,S.ur)(),g=(0,p.GV)(eC.Jo),m=(0,ew.h6)(g,h),x=et({editor:n,getPos:o}),f=m&&!h&&l;if(null===x)return null;let b=(0,a.jsxs)(L.s,{overflowY:"auto",direction:"column",className:"comments-list",p:u||f?0:4,children:[f&&g&&(0,a.jsx)(eA.W,{accessLink:m,doc:g,className:"comments-sign-up",showDivider:!1}),r&&(0,a.jsx)(ej.h,{draftComment:s,user:h,showUser:u,showBorder:u,onCommentDraftUpdate:d,onCommentSave:c,commentIdToHighlight:i,alwaysShowButtons:u})]});return u?b:(0,a.jsx)(ek.Pj,{offsetFromTop:x,children:b})};var eI=n(72751);let eE=e=>{let{isMobile:t,editor:n,onReactionClick:i,getPos:r}=e,l=et({editor:n,getPos:r});if(null===l)return null;let o=(0,a.jsx)(L.s,{bg:"white",p:"0",zIndex:"tooltip","data-testid":"add-reaction-popup","data-target-name":"reaction-emoji-picker",boxShadow:"none",sx:{".emoji-mart":{border:"none"}},overflow:"hidden",justify:"center",children:(0,a.jsx)(eI.pP,{perLine:9,handlePick:i,shouldFocusSearch:!t})});return t?o:(0,a.jsx)(ek.Pj,{offsetFromTop:l,children:o})};var eR=n(68068),eL=n(36071),eD=n(60628),eM=n(40691),e_=n(3674);let eT=(0,s.forwardRef)(function(e,t){let{isMobile:n,children:r,closePopup:l,drawerMinHeight:o}=e;if(n){let e=o||"calc(calc(100vh - calc(100vh - 100%)) - 1rem)";return(0,a.jsxs)(eR._s,{placement:"bottom",isOpen:!0,onClose:l,children:[(0,a.jsx)(eL.m,{}),(0,a.jsxs)(eD.z,{minH:e,maxH:e,borderTopRadius:"xl",className:"comments-wrapper","data-block-comments-popup":!0,children:[(0,a.jsx)(eM.c,{p:6,pb:2,className:ek.Vv,children:r}),(0,a.jsx)(e_.s,{})]})]})}return(0,a.jsx)(i.a,{ref:t,children:r})});var eN=n(23293);let ez=e=>{let{onCancel:t,reactions:n,onClickExistingReaction:i,editor:r,getPos:l,user:o,userCanComment:d,blockAllowsCommenting:c,isMobile:u}=e,p=et({editor:r,getPos:l}),h=n.slice(7*!u),g=h.map(e=>(0,a.jsx)(ed,{isMobile:!0,onClick:t=>{i(e),t.stopPropagation()},mr:2,mb:4,reaction:e,user:o,canReact:d&&c,badgeCount:e.count,emoji:e.emoji},e.emoji));if((0,s.useEffect)(()=>{0===h.length&&t()},[t,h]),null===p)return null;let m=(0,a.jsxs)(D.B,{spacing:4,children:[(0,a.jsx)(eN.D,{size:"md",children:(0,a.jsx)(T.x6,{id:"7ZMg79"})}),(0,a.jsx)(L.s,{flexWrap:"wrap",children:g})]});return u?m:(0,a.jsx)(ek.Pj,{offsetFromTop:p,children:(0,a.jsx)(L.s,{p:4,px:2,pb:0,flexWrap:"wrap",children:g})})};var eP=n(42670);let eO=e=>{let{comment:t,editor:n,commentIdToHighlight:i,userCanComment:r,blockAllowsCommenting:l,getPos:o,isMobile:s,closePopup:d}=e,c=n.gammaDocId,{user:u}=(0,S.ur)(),h=(0,A.d4)(x.wC),g=(0,p.GV)(eC.Jo),m=(0,ew.h6)(g,u),f=et({editor:n,getPos:o});if(null===f||!t)return null;let b=(0,a.jsxs)(L.s,{direction:"column",className:"comments-list","data-testid":"thread-view-popup",children:[m&&!u&&g&&l&&(0,a.jsx)(eA.W,{accessLink:m,doc:g,className:"comments-sign-up"}),(0,a.jsx)(eP.h,{instanceType:s?"drawer":"popup",userCanComment:r,commentIdToHighlight:i,editor:n,comment:t,selfUser:u,docId:c,editorMode:h,isRootComment:!0,borderBottomWidth:"none",closePopup:d,p:4*!s,pb:4},t.id)]});return s?b:(0,a.jsx)(ek.Pj,{offsetFromTop:f,children:b})};var eF=n(88586),eH=n(8075);let eB=e=>{let{getPos:t,editor:n,reactions:a}=e,{user:i}=(0,S.ur)(),[r]=(0,eF.nkJ)(),[l]=(0,eF.eaJ)(),o=(0,s.useCallback)(e=>{let{reaction:t}=e;if(!i)return;let a=t.docId;1===t.count&&n.commands.deleteAnnotation(t.targetId);let r=t.count-1,o=t.users.filter(e=>(null==e?void 0:e.id)!==(null==i?void 0:i.id));l({variables:{reactionInput:{docId:a,targetId:t.targetId,emoji:t.emoji}},update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(a),fragment:eF.JhL,fragmentName:"DocReactionsCreate",data:{reactions:[null==n?void 0:n.removeReaction]}})},optimisticResponse:{removeReaction:{docId:a,targetId:t.targetId,targetType:eF.yKx.Decoration,count:r,emoji:t.emoji,users:o,__typename:"Reaction"}}})},[n,l,i]);return{addReactionFn:(0,s.useCallback)(e=>{let{emoji:l}=e;if((0,Q.uP)({emoji:l,user:i,reactions:a})||!i)return;let o=n.gammaDocId,s=(0,Q.jj)({reactions:a,emoji:l}),d=eH.D.generate(),c=((null==s?void 0:s.count)||0)+1,u=[];s?(d=s.targetId,u=[...s.users]):n.commands.addAnnotation({id:d,pos:t()}),u.unshift(i),u.sort((e,t)=>e.id>t.id?1:-1),r({variables:{reactionInput:{docId:o,targetId:d,targetType:eF.yKx.Decoration,emoji:l}},update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(o),fragment:eF.JhL,fragmentName:"DocReactionsCreate",data:{reactions:[null==n?void 0:n.addReaction]}})},optimisticResponse:{addReaction:{docId:o,targetId:d,targetType:eF.yKx.Decoration,count:c,emoji:l,users:u,__typename:"Reaction"}}})},[r,n,t,a,i]),removeReactionFn:o}},eV={"add-comment":"350px","add-reaction":"350px","reactions-overflow":"350px"},eW=e=>{let{nodeName:t,isVisible:n,editor:i,getPos:l,comments:o,reactions:d,createDraftComment:c,cleanupDraftComment:u,onCommentDraftUpdate:h,draftComment:g,onCommentSave:m,userCanComment:f,blockAllowsCommenting:y,blockCommentId:w,enableReactions:E,mobileAddCommentPos:R,setIsButtonStackHovered:L}=e,D=(0,C.d)(),M=(0,b.Xb)(),_=(0,A.wA)(),{user:T,isUserLoading:N}=(0,S.ur)(),{isHovering:z,delayedClose:P,...O}=(0,v.ou)({enterDelay:30,leaveDelay:100}),F=!!z,H=(0,s.useRef)(null),B=(0,s.useRef)(),V=(0,A.d4)((0,x.tT)(w)),W=(0,s.useRef)(null),[U,G]=(0,s.useState)(null),Q=null!==U,Z=(0,p.GV)(x.Ml),q=o.find(e=>e.id===Z)||null,J=(0,s.useCallback)(e=>{G("thread"),_((0,x.fw)({isOpen:!0,blockCommentId:w,viewingCommentId:e.id}))},[w,_]),$=(0,s.useCallback)(e=>{G("add-comment"),_((0,x.fw)({isOpen:!0,blockCommentId:w,viewingCommentId:null})),c(e)},[w,_,c]),Y=(0,s.useCallback)(()=>{G("add-reaction"),_((0,x.fw)({isOpen:!0,blockCommentId:w,viewingCommentId:null}))},[w,_]),et=(0,s.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];G(null),u(),_((0,x.fw)({isOpen:!1,blockCommentId:w,viewingCommentId:null})),e&&P(1e3)},[w,u,P,_]),{addReactionFn:en,removeReactionFn:ea}=eB({editor:i,getPos:l,reactions:d}),ei=(0,s.useCallback)(e=>{f&&(en({emoji:e.id}),D({title:(0,a.jsx)(ey,{emoji:e.id,isMobile:M}),status:"success",duration:5e3,isClosable:!1,position:M?"bottom":"top"}),et(!0))},[en,et,M,D,f]),er=(0,s.useCallback)(e=>{m(e),et(!0)},[m,et]),el=(0,s.useCallback)(e=>{if(!f)return;let t=e.reactions.find(e=>{var t;return null==(t=e.users)?void 0:t.find(e=>e.id===(null==T?void 0:T.id))});t?ea({reaction:t}):en({emoji:e.emoji})},[en,ea,T,f]),eo=(0,s.useCallback)(()=>{G("reactions-overflow"),_((0,x.fw)({isOpen:!0,blockCommentId:w,viewingCommentId:null}))},[w,_]);ee({isOpen:Q,popupRef:W,onClose:et});let{isExpanded:es}=X({popup:U,isMobile:M,isHovered:F,comments:o,reactions:d,draftComment:g,enableReactions:E});(0,s.useEffect)(()=>{M||L(F)},[F,M,L]),(0,I.hx)(l,$);let ed=(0,I.f0)({comments:o,blockAllowsCommenting:y,showComment:(0,s.useCallback)(e=>{(0,k.Ib)({pos:l(),editor:i}),J({id:e})},[i,l,J])});(0,s.useEffect)(()=>{j.LF.emit(j.DN.POPUP_COMMENT_TOGGLED,{open:Q})},[Q]);let ec=(0,s.useCallback)(e=>{"Escape"===e.key&&et()},[et]);if(!n||N)return null;let eu=!!T&&!f,ep=0===o.length&&0===d.length;if((eu||!y)&&ep)return null;let eh=eu||!y;return(0,a.jsxs)(a.Fragment,{children:[M&&R&&(0,a.jsx)(em,{onClickAddComment:$,onClickAddReaction:Y,top:R.top,left:R.left}),(0,a.jsxs)(K.p,{nodeName:t,className:(0,r.cx)("block-comments-stack",es&&"is-expanded",es&&"is-taking-action",ep&&"is-empty",!M&&V&&"other-comment-open"),isMobile:M,isEmpty:ep,isPopupOpen:Q,...O,buttonRef:H,onKeyDown:ec,hasCommentsOrReactions:!ep,children:[(0,a.jsx)(eg,{isExpanded:es,isMobile:M,user:T,userCanComment:f,blockAllowsCommenting:y,draftComment:g,reactions:d,comments:o,onClickThread:J,onClickAddComment:$,onClickAddReaction:Y,onClickExistingReaction:el,onClickReactionsOverflow:eo,hideAddCommentButton:eh,onClosePopup:et,viewingCommentId:Z,enableReactions:E}),!Q&&!M&&(0,a.jsx)(eb,{isExpanded:es,comments:o,reactions:d}),Q&&(0,a.jsxs)(eT,{isMobile:M,ref:W,closePopup:et,drawerMinHeight:eV[U],children:["thread"===U&&(0,a.jsx)(eO,{isMobile:M,comment:q,closePopup:et,editor:i,getPos:l,commentIdToHighlight:ed,commentsPanelRef:B,userCanComment:f,blockAllowsCommenting:y}),"add-comment"===U&&(0,a.jsx)(eS,{isMobile:M,onCancel:()=>{et()},editor:i,getPos:l,commentIdToHighlight:ed,userCanComment:f,blockAllowsCommenting:y,onCommentSave:er,draftComment:g,onCommentDraftUpdate:h}),"add-reaction"===U&&(0,a.jsx)(eE,{isMobile:M,onReactionClick:ei,editor:i,getPos:l}),"reactions-overflow"===U&&(0,a.jsx)(ez,{isMobile:M,onCancel:()=>{et()},onClickExistingReaction:el,editor:i,getPos:l,user:T,userCanComment:f,blockAllowsCommenting:y,reactions:d})]})]})]})};var eU=n(21465);let eG=e=>{let{children:t,as:n,className:i,dir:r,style:l,hideComments:o=!1,readOnly:s=!1,...c}=e,{decorations:u,editor:p}=c,g=(0,h.oR)();return!u.some(e=>e.spec.isAnnotatable)||p.isThumbnail||g||p.editorId===d.B?(0,a.jsx)(m.VR,{as:n,className:i,dir:r,style:l,children:t}):(0,a.jsx)(eK,{as:n,className:i,dir:r,style:l,hideComments:o,readOnly:s,...c,children:t})},eK=e=>{var t;let{children:n,decorations:d,editor:h,getPos:C,as:A,className:j,dir:k,style:S,hideComments:E,readOnly:R,node:L}=e,{isConnected:D}=(0,c.u)(),M=(0,y.pl)(d),_=w({editor:h,decorations:d}),T=(0,u.u)("blockReactions"),N=(0,g.UT)("comment"),z=(0,p.GV)(x.mi),P=(0,s.useMemo)(()=>(0,o.Ak)(5),[]),O=(0,p.GV)((0,x.ng)(P)),[F,H]=(0,s.useState)(!1),B=(0,u.u)("debugComments"),V=(0,I.yU)(d),W=V[0]||null,[U,G]=(0,s.useState)(null),K=(0,p.jL)(),Q=(0,s.useCallback)(e=>{let t=(null==e?void 0:e.getPos)||C,n=null==e?void 0:e.targetHtml,a=W;if(a)e&&(a=(0,eU.ol)(a,t,n,h));else{var i,r;a=(0,eU.CD)(t,h,n),null==(i=(r=h.commands).createDraftComment)||i.call(r,a)}G(a),K((0,x.mF)({attached:!1}))},[K,h,C,W]),Z=(0,s.useCallback)(()=>{var e,t,n,a,i,r;U&&(null==U||null==(t=U.text)||null==(e=t.trim())?void 0:e.length)>0?null==(n=(a=h.commands).createDraftComment)||n.call(a,U):null==(i=(r=h.commands).removeDraftComments)||i.call(r,V),G(null)},[V,h,U]),q=(0,s.useRef)(O);q.current=O,(0,s.useEffect)(()=>()=>{q.current&&K((0,x.fw)({isOpen:!1,blockCommentId:P,viewingCommentId:null}))},[P,K]);let J=(0,I.Zb)({draftComment:U,clearDraftComment(){var e,t,n,a;U&&(null==(n=(a=h.commands).removeDraftComments)||n.call(a,[U,...V]));let i=(0,eU.CD)(C,h);null==(e=(t=h.commands).createDraftComment)||e.call(t,i),G(i)},editor:h}),$=(0,I.$w)(d),Y=$.length>0&&!E,X=U||W,ee=(null==X||null==(t=X.text)?void 0:t.length)>0,[et,en]=(0,v.Mk)(),ea=(0,I.HQ)(d);T||(ea=[]);let ei=ea.length>0,er=z&&!E&&N,el=(0,b.Xb)()&&(O||Y||ei||!!_)||!(0,b.Xb)()&&(en||M||O||Y||ei||ee),eo=N&&D,es=O||_||F?(0,f.$3)(l.t1.colors.yellow[200],.25):void 0;return(0,a.jsxs)(m.VR,{as:A,style:{...S,position:"relative",backgroundColor:(0,b.Xb)()?void 0:es},className:(0,r.cx)(j,"annotatable-node-view-wrapper",(0,b.Xb)()&&"is-mobile",B?"debug-comments":""),dir:k,ref:et,children:[er&&(0,a.jsx)(eW,{nodeName:L.type.name,isVisible:el,reactions:ea,blockCommentId:P,userCanComment:eo,blockAllowsCommenting:!E&&!R,onCommentDraftUpdate:e=>{let{editor:t}=e;G(e=>e?{...e,json:t.view.state.doc.toJSON(),text:t.view.state.doc.textContent}:e)},cleanupDraftComment:Z,createDraftComment:Q,editor:h,getPos:C,comments:$,draftComment:X,onCommentSave:J,enableReactions:T,mobileAddCommentPos:_,setIsButtonStackHovered:H}),(0,b.Xb)()&&es?(0,a.jsx)(i.a,{bgColor:es,children:n}):n]})}},84929:(e,t,n)=>{"use strict";n.d(t,{v:()=>eY});var a=n(6029),i=n(67909),r=n(36071),l=n(54731),o=n(17920),s=n(26385),d=n(23293),c=n(48810),u=n(96500),p=n(3674),h=n(40691),g=n(49146),m=n(23908),x=n(36693),f=n(26420),b=n(58959),v=n(20061),y=n(3448),w=n(55597),C=n(48621),A=n(91106),j=n(19564),k=n(55729),S=n(32617),I=n(15342),E=n(43634),R=n(11403),L=n(46875),D=n(84033),M=n(95197),_=n(46898),T=n(49611),N=n(78140),z=n(36999),P=n(16936),O=n(41283),F=n(83550),H=n(85595),B=n(99492),V=n(32380),W=n(77650);let U=e=>{let{onDelete:t,isDeleteDisabled:n,editor:i}=e,r=(0,_.d)(),l=(0,k.useCallback)(()=>{t();let e=r({title:(0,a.jsxs)(b.z,{children:[(0,a.jsx)(c.E,{children:(0,a.jsx)(j.x6,{id:"i+ZZMW"})}),(0,a.jsx)(T.$,{variant:"link",textDecoration:"underline",as:"span",size:"sm",cursor:"pointer",color:"inherit",onClick:()=>{(0,V.tN)(i.state),r.close(e)},children:(0,a.jsx)(j.x6,{id:"IiqYd9"})})]}),status:"info",duration:3e3,position:"top"})},[i,t,r]);return(0,a.jsxs)(N.W,{children:[(0,a.jsx)(z.I,{as:P.K,icon:(0,a.jsx)(C.g,{icon:w.Dwc}),"aria-label":W.Ru._({id:"CQDm4Q"}),variant:"plain",size:"sm"}),(0,a.jsx)(O.c,{children:(0,a.jsx)(F.r,{title:W.Ru._({id:"ZYWBTf"}),children:(0,a.jsx)(H.D,{onClick:l,isDisabled:n,color:"red.500",icon:(0,a.jsx)(C.g,{fixedWidth:!0,icon:B.yLS}),children:(0,a.jsx)(j.x6,{id:"mxPb1C"})})})})]})};var G=n(40452),K=n(74003),Q=n(95889),Z=n(99038),q=n(5061);let J=e=>{let{label:t,children:n,labelProps:i}=e,r=(0,q.fW)();return(0,a.jsxs)(s.B,{position:"absolute",top:"50%",insetStart:"50%",transform:"translate(".concat(r?"50%":"-50%",",-50%)"),alignItems:"center",w:"100%",px:16,children:[(0,a.jsx)(c.E,{fontSize:"3xl",textAlign:"center",color:"gray.400",...i,children:t}),n]})},$=(0,k.memo)(e=>{let{onUpsellClick:t}=e;return(0,a.jsxs)(J,{label:(0,a.jsx)(j.x6,{id:"GRyKgN",values:{PRO_PROPER_NOUN:Z.Kc}}),labelProps:{color:"inherit"},children:[(0,a.jsx)(c.E,{textAlign:"center",mb:"2",children:(0,a.jsx)(j.x6,{id:"RryZ/g",values:{GAMMA_PRO_PROPER_NOUN:Z.Ol}})}),(0,a.jsx)(T.$,{variant:"solid",onClick:t,children:(0,a.jsx)(j.x6,{id:"cKQRnY",values:{PRO_PROPER_NOUN:Z.Kc}})})]})});$.displayName="CardMarginElementsUpsell";var Y=n(9329),X=n(37930),ee=n(48478),et=n(6760),en=n(38036),ea=n(83004),ei=n(12562),er=n(89528),el=n(92124),eo=n(57405),es=n(83638),ed=n(25223),ec=n(13366),eu=n(98164),ep=n(94740),eh=n(66199),eg=n(18078),em=n(25311),ex=n(33750),ef=n.n(ex);let eb=e=>{let{value:t,setValue:n,placeholder:i,min:r,max:l,onUpdate:o}=e,s=(0,k.useCallback)(e=>{if(e){let t=parseInt(e);n(ef()(isNaN(t)?r:t,r,l).toString())}else n("")},[r,l,n]),d=(0,k.useCallback)(e=>{"Enter"===e.key&&(s(t),o())},[s,o,t]),c=(0,k.useCallback)(()=>{s(t),o()},[s,o,t]);return(0,a.jsx)(en.p,{type:"number",value:t,placeholder:i||"",onChange:e=>n(e.target.value),onKeyDown:d,onBlur:c,size:"sm",min:r,max:l,textAlign:"center",maxW:"16"})},ev=e=>{let{startIndex:t,startNumber:n}=e,i={height:9,bg:"gray.100",borderRadius:"sm",alignItems:"flex-end",justifyContent:"flex-end",fontSize:"xs"},r=t>2,l=r?[t-1,t,t+1]:[0,1,2,3],o=e=>{let{cardIndex:r}=e,l=(0,M.RP)(r,t,n);return(0,a.jsx)(G.s,{...i,minH:9,py:.5,px:1.5,flex:"1",children:l},r)};return(0,a.jsxs)(s.B,{spacing:2,w:"100%",children:[r&&(0,a.jsx)(e=>{let{startingIndex:t}=e,n=ef()(t-1,2,7);return(0,a.jsxs)(s.B,{spacing:.5,flex:"1",position:"relative",maxH:9,minH:9,children:[[...Array(n)].map((e,t)=>(0,a.jsx)(G.s,{...i,h:"100%",flex:"1"},t)),(0,a.jsxs)(c.E,{position:"absolute",insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)",fontSize:"xs",bg:"white",borderRadius:"sm",px:1,color:"gray.500",children:["(",t-1,")"]})]})},{startingIndex:t}),l.map(e=>(0,a.jsx)(o,{cardIndex:e},e))]})},ey=e=>{let{element:t,onUpdate:n}=e,[i,r]=(0,k.useState)((()=>{let e=(null==t?void 0:t.type)==="cardNumbers"?t.startIndex:void 0;return 1!==e&&e?2===e?"2":"other":"1"})()),[l,o]=(0,k.useState)((null==t?void 0:t.type)==="cardNumbers"&&t.startIndex&&t.startIndex>2?t.startIndex.toString():""),[d,u]=(0,k.useState)((null==t?void 0:t.type)==="cardNumbers"&&void 0!==t.startNumber&&1!==t.startNumber?t.startNumber.toString():""),p="1"===i?1:"2"===i?2:l?ef()(parseInt(l),1,1e3):void 0,h=""===d?void 0:ef()(parseInt(d),0,1e3),g=(0,k.useCallback)(()=>{n({type:"cardNumbers",startIndex:l?ef()(parseInt(l),1,1e3):void 0,startNumber:h})},[l,h,n]),m=(0,k.useCallback)(()=>{let e=d?ef()(parseInt(d),0,1e3):void 0;n({type:"cardNumbers",startIndex:(null==t?void 0:t.type)==="cardNumbers"?t.startIndex:void 0,startNumber:e})},[d,t,n]),x=(null==t?void 0:t.type)==="cardNumbers"&&(void 0!==t.startIndex||void 0!==t.startNumber);return(0,a.jsxs)(eo.T,{spacing:0,children:[(0,a.jsxs)(b.z,{w:"100%",alignItems:"flex-start",p:3,children:[(0,a.jsxs)(eo.T,{alignItems:"flex-start",flex:"2",spacing:4,children:[(0,a.jsxs)(es.MJ,{children:[(0,a.jsx)(ed.l,{fontSize:"xs",fontWeight:"bold",children:(0,a.jsx)(j.x6,{id:"EgzmRy"})}),(0,a.jsxs)(eo.T,{spacing:2,alignItems:"flex-start",children:[(0,a.jsx)(ec.z,{value:i,defaultValue:i,onChange:e=>{r(e),"other"===e?o(i):o(""),"1"===e?n({type:"cardNumbers",startIndex:1,startNumber:h}):"2"===e&&n({type:"cardNumbers",startIndex:2,startNumber:h})},size:"sm",children:(0,a.jsxs)(s.B,{spacing:2,children:[(0,a.jsx)(eu.s,{value:"1",children:(0,a.jsx)(c.E,{children:(0,a.jsx)(j.x6,{id:"gidUuU"})})}),(0,a.jsx)(eu.s,{value:"2",children:(0,a.jsx)(c.E,{children:(0,a.jsx)(j.x6,{id:"CfeM0j"})})}),(0,a.jsx)(eu.s,{value:"other",children:(0,a.jsx)(c.E,{children:(0,a.jsx)(j.x6,{id:"m7sNyG"})})})]})}),"other"===i&&(0,a.jsx)(eb,{value:l,setValue:o,min:1,max:1e3,onUpdate:g})]})]}),(0,a.jsxs)(es.MJ,{children:[(0,a.jsx)(ed.l,{fontSize:"xs",fontWeight:"bold",children:(0,a.jsx)(j.x6,{id:"boZ3aq"})}),(0,a.jsx)(eb,{value:d,setValue:u,placeholder:"1",min:0,max:1e3,onUpdate:m})]})]}),(0,a.jsxs)(eo.T,{spacing:1,w:"100%",alignItems:"flex-start",maxW:"16",children:[(0,a.jsx)(c.E,{fontSize:"xs",children:(0,a.jsx)(j.x6,{id:"GswZF3"})}),(0,a.jsx)(ev,{startIndex:p||1,startNumber:null!=h?h:1})]})]}),x&&(0,a.jsx)(b.z,{px:4,py:2,bg:"gray.50",w:"100%",children:(0,a.jsx)(T.$,{variant:"link",size:"xs",w:"100%",onClick:()=>{r("1"),o(""),u(""),n({type:"cardNumbers",startIndex:void 0,startNumber:void 0})},isDisabled:!x,leftIcon:(0,a.jsx)(C.g,{icon:w.ub2}),children:(0,a.jsx)(j.x6,{id:"L+rMC9"})})})]})},ew=e=>{let{element:t,position:n,showUpsell:i,onUpdate:r}=e,l=(0,q.fW)(),{flex:o}=(0,M.o)(n),s=(null==t?void 0:t.type)==="cardNumbers"?t:null,d=null==s?void 0:s.startIndex,u=null==s?void 0:s.startNumber,p={px:3,h:8,w:"100%",borderRadius:"md",fontSize:"sm",cursor:i?"not-allowed":"pointer",bg:i?"blackAlpha.50":"white",color:i?"gray.600":"inherit",justifyContent:o,border:"1px solid",borderColor:i?"transparent":"titanium.300"};return i?(0,a.jsx)(b.z,{...p,children:(0,a.jsx)(c.E,{dir:l?"rtl":void 0,children:(0,M.M0)(d,u)})}):(0,a.jsxs)(ep.A,{children:[(0,a.jsx)(eh.W,{children:(0,a.jsx)(b.z,{...p,children:(0,a.jsx)(c.E,{dir:l?"rtl":void 0,children:(0,M.M0)(d,u)})})}),(0,a.jsx)(eg.h,{maxW:"240px",p:0,overflow:"hidden",children:(0,a.jsx)(em.e,{p:0,children:(0,a.jsx)(ey,{element:t,onUpdate:r})})})]})};var eC=n(33787),eA=n(51312),ej=n(17074),ek=n(66265),eS=n(59230),eI=n(85443),eE=n(19705),eR=n(61204);let eL=e=>{let{children:t}=e;return(0,a.jsxs)(b.z,{fontSize:"xs",alignItems:"flex-start",children:[(0,a.jsx)(C.g,{icon:B.e68,fixedWidth:!0}),(0,a.jsx)(c.E,{fontSize:"xs",children:t})]})},eD=()=>(0,a.jsxs)(s.B,{spacing:1,children:[(0,a.jsx)(c.E,{fontSize:"xs",children:(0,a.jsx)(j.x6,{id:"wCgOyU"})}),(0,a.jsxs)(s.B,{spacing:.5,children:[(0,a.jsx)(eL,{children:(0,a.jsx)(j.x6,{id:"48UYx4"})}),(0,a.jsx)(eL,{children:(0,a.jsx)(j.x6,{id:"tzmFSd"})}),(0,a.jsx)(eL,{children:(0,a.jsx)(j.x6,{id:"krkjlf"})})]})]}),eM=e=>{let{currentSize:t,onSizeChange:n,onReplaceImage:i,isDisabled:r=!1}=e,l=void 0!==t;return(0,a.jsxs)(ep.A,{children:[(0,a.jsx)(eh.W,{children:(0,a.jsx)(P.K,{"aria-label":W.Ru._({id:"XyAh4B"}),icon:(0,a.jsx)(C.g,{icon:B._$s,fixedWidth:!0}),size:"sm",variant:"ghost",borderRadius:"full",color:"blackAlpha.700"})}),(0,a.jsx)(eg.h,{maxW:"260px",p:0,overflow:"hidden",children:(0,a.jsxs)(em.e,{p:0,children:[(0,a.jsxs)(eo.T,{p:3,spacing:3,alignItems:"flex-start",children:[(0,a.jsxs)(es.MJ,{children:[(0,a.jsx)(ed.l,{fontSize:"xs",fontWeight:"bold",children:(0,a.jsx)(j.x6,{id:"8J92vb"})}),(0,a.jsx)(eR.e,{isAttached:!0,size:"sm",display:"flex",w:"100%",children:Object.entries(eE.rP).map(e=>{let[i,l]=e;return(0,a.jsx)(A.Tz,{label:l.name(),placement:"top",children:(0,a.jsx)(T.$,{"aria-label":l.name(),px:"2.5",boxShadow:"none",variant:i===t?"plainSelected":"plain",bg:"md"!==i||t?void 0:"deepocean.50",flex:1,onClick:()=>{n(i)},isDisabled:r,children:l.buttonText()})},i)})})]}),(0,a.jsx)(eD,{})]}),(l||i)&&!r&&(0,a.jsxs)(b.z,{px:4,py:2,bg:"gray.50",w:"100%",justifyContent:l&&i?"space-between":"center",children:[l&&(0,a.jsx)(T.$,{variant:"link",size:"xs",onClick:()=>{n(void 0)},colorScheme:"gray",leftIcon:(0,a.jsx)(C.g,{icon:B.ub2,fixedWidth:!0}),children:(0,a.jsx)(j.x6,{id:"cl2Y/T"})}),i&&(0,a.jsx)(T.$,{variant:"link",size:"xs",onClick:i,leftIcon:(0,a.jsx)(C.g,{icon:B.VNe,fixedWidth:!0}),colorScheme:"gray",children:(0,a.jsx)(j.x6,{id:"YOzD/a"})})]})]})})]})},e_=e=>{let{result:t,isError:n}=e;if(n)return{uploadStatus:eS.A.Error,src:null,source:"image.custom"};let{name:a,src:i,meta:r}=t;return{uploadStatus:eS.A.Done,source:"image.custom",name:a,src:i,meta:r}},eT=()=>({uploadStatus:eS.A.Uploading,source:"image.custom",src:null}),eN=e=>{let{onUpdate:t,element:n,position:i,isReadonly:r,showUpsell:l}=e,{currentWorkspace:o}=(0,eI.u)(),[s,d]=(0,k.useState)("idle"),c=(0,k.useRef)(!1),u=(0,k.useMemo)(()=>{if(null==o?void 0:o.id)return ek.Fk.createUppyInstance(null==o?void 0:o.id,{onUploadStart:()=>{d("loading"),t({type:"image",imageAttrs:eT()})},onOriginalFileUpload:e=>{c.current||t({type:"image",imageAttrs:e_({result:e,isError:!1})})},onUploadComplete:e=>{c.current||(d("idle"),t({type:"image",imageAttrs:e_({result:e,isError:!1})}),null==u||u.cancelAll())},onUploadFailed:()=>{d("error"),t({type:"image",imageAttrs:e_({result:void 0,isError:!0})}),null==u||u.cancelAll()}},"cardMargins")},[null==o?void 0:o.id,t]),{onClick:p,inputElement:h}=(0,ej.c)({accept:"image/*",multiple:!1,handleFilesCallback:e=>{c.current=!1;let t=e[0];t&&(null==u||u.addFile({name:t.name,type:t.type,data:t}))}}),g=(0,M._V)(n),m=(null==n?void 0:n.type)==="image"?n.imageAttrs:void 0,x=(null==n?void 0:n.type)==="image"?n.imageSize:void 0,f="loading"===s||(null==m?void 0:m.uploadStatus)===eS.A.Uploading,v=(null==m?void 0:m.uploadStatus)===eS.A.Error||"error"===s,y="idle"===s&&!m,w=(0,q.fW)(),{flex:A}=(0,M.o)(i),S=(0,k.useCallback)(e=>{t({type:"image",imageAttrs:m,imageSize:e})},[t,m]),I=(0,k.useCallback)(()=>{c.current=!0,d("idle"),p()},[p]);return r?(0,a.jsx)(G.s,{justifyContent:A,dir:w?"rtl":void 0,gap:2,w:"100%",children:g?(0,a.jsx)(eC._,{h:eE.$V[x||"md"]||7,maxW:"100%",objectFit:"contain",src:g,alt:W.Ru._({id:"aiyf05"})}):(0,a.jsx)(eA.d,{imageElement:n,isError:(null==m?void 0:m.uploadStatus)===eS.A.Error,isLoading:(null==m?void 0:m.uploadStatus)===eS.A.Uploading})}):y?(0,a.jsxs)(a.Fragment,{children:[h,(0,a.jsx)(T.$,{dir:w?"rtl":void 0,leftIcon:(0,a.jsx)(C.g,{icon:B.MNJ,fixedWidth:!0}),variant:"plain",size:"sm",onClick:p,children:(0,a.jsx)(j.x6,{id:"m3C7sL"})})]}):(0,a.jsxs)(a.Fragment,{children:[h,(0,a.jsx)(b.z,{dir:w?"rtl":void 0,gap:2,w:"100%",justifyContent:A,children:f||v?(0,a.jsx)(eA.d,{imageElement:n,isError:v,isLoading:f}):g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eC._,{h:eE.$V[x||"md"]||7,maxW:eE.r_,src:g,objectFit:"contain",bg:"blackAlpha.100"}),(0,a.jsx)(eM,{currentSize:x,onSizeChange:S,onReplaceImage:I,isDisabled:l})]}):null})]})};var ez=n(88720),eP=n(92699),eO=n(36433);let eF=e=>{let{position:t,element:n,onUpdate:i,showUpsell:r,isReadonly:l}=e,o=(0,q.fW)(),{logoSrc:s}=(0,eO.G)(),d=(0,I.GV)(E.SJ),{flex:c}=(0,M.o)(t),u=(0,k.useMemo)(()=>(null==n?void 0:n.type)==="themeLogo"&&"imageSize"in n?n.imageSize:void 0,[n]),p=(0,k.useCallback)(e=>{i({type:"themeLogo",imageSize:e})},[i]),h=(0,k.useCallback)(()=>{d.workspaceId?(0,eP.vd)({theme:d}):(0,eP.L6)({theme:d})},[d]);return(0,a.jsx)(G.s,{justifyContent:c,dir:o?"rtl":void 0,gap:2,w:"100%",children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eC._,{h:eE.$V[u||"md"]||7,maxW:"100%",objectFit:"contain",src:s,alt:W.Ru._({id:"iG7KNr"}),bg:l?void 0:"blackAlpha.100"}),!l&&(0,a.jsx)(eM,{currentSize:u,onSizeChange:p,isDisabled:r})]}):(0,a.jsx)(ez.V,{onClick:r||l?void 0:h})})};function eH(){let e=(0,Y._)(["\n      0% { transform: rotate(9deg); background: var(--chakra-colors-trueblue-100); }\n      10% { transform: rotate(-8deg); }\n      20% { transform: rotate(7deg); }\n      30% { transform: rotate(-6deg); }\n      40% { transform: rotate(5deg); }\n      50% { transform: rotate(-4deg); background: var(--chakra-colors-trueblue-100); }\n      60% { transform: rotate(3deg); }\n      70% { transform: rotate(-2deg); }\n      80% { transform: rotate(1deg); }\n      90% { transform: rotate(0deg); }\n      100% { transform: rotate(0deg); background: var(--chakra-colors-blackAlpha-50); }\n   "]);return eH=function(){return e},e}let eB={text:{key:"text",icon:B.tiU,name:(0,a.jsx)(j.x6,{id:"xeiujy"}),deleteLabel:(0,a.jsx)(j.x6,{id:"JxxCHL"}),deleteToastLabel:(0,a.jsx)(j.x6,{id:"AwHPSN"})},cardNumbers:{key:"cardNumbers",icon:B.qzJ,name:(0,a.jsx)(j.x6,{id:"LMa4Y8"}),deleteLabel:(0,a.jsx)(j.x6,{id:"gVFDdv"}),deleteToastLabel:(0,a.jsx)(j.x6,{id:"aTqpEg"})},themeLogo:{key:"themeLogo",name:(0,a.jsx)(j.x6,{id:"zYGAMY"}),icon:B.fyG,deleteLabel:(0,a.jsx)(j.x6,{id:"cty1ii"}),deleteToastLabel:(0,a.jsx)(j.x6,{id:"sa/uRd"})},image:{key:"image",name:(0,a.jsx)(j.x6,{id:"yrBphF"}),icon:B.Cyq,deleteLabel:(0,a.jsx)(j.x6,{id:"lP18tl"}),deleteToastLabel:(0,a.jsx)(j.x6,{id:"Aty05U"}),featureFlag:"cardMarginsImageUpload"}},eV=e=>{let{selectedType:t,onSelect:n,canAdd:i,showUpsell:r,onUpsellClick:l}=e;if(!t&&i)return(0,a.jsx)(F.r,{title:W.Ru._({id:"qmt9HO"}),textAlign:"start",children:Object.values(eB).map(e=>{let{key:t,icon:i,name:o,featureFlag:s}=e;return s&&!ei.of.get(s)?null:r?(0,a.jsx)(H.D,{value:t,onClick:l,icon:(0,a.jsx)(C.g,{icon:i,fixedWidth:!0}),bg:"trueblue.50",border:"1px solid white",_hover:{bg:"trueblue.50",borderColor:"trueblue.200"},_focus:{bg:"trueblue.50",borderColor:"trueblue.200"},mt:.5,children:(0,a.jsxs)(f.a,{as:"span",display:"inline-flex",gap:3,w:"100%",children:[(0,a.jsx)(f.a,{as:"span",flex:1,children:o}),(0,a.jsx)(er.Ch,{canUseFeature:!1,productFeature:"card_margin_elements",alignSelf:"center"})]})},t):(0,a.jsx)(H.D,{value:t,onClick:()=>n(t),icon:(0,a.jsx)(C.g,{icon:i,fixedWidth:!0}),children:o},t)})});if(!t)return null;let o=(0,a.jsx)(F.r,{children:(0,a.jsx)(H.D,{onClick:()=>{n(t,!0)},color:"red.500",icon:(0,a.jsx)(C.g,{icon:B.yLS,fixedWidth:!0,fontSize:"sm"}),children:eB[t].deleteLabel})});return i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(X.i,{title:W.Ru._({id:"Nb1WK7"}),textAlign:"start",value:t,type:"radio",children:Object.values(eB).map(e=>{let{key:t,icon:i,name:r,featureFlag:l}=e;return l&&!ei.of.get(l)?null:(0,a.jsxs)(ee.k,{value:t,onClick:()=>{n(t)},children:[(0,a.jsx)(C.g,{icon:i,fixedWidth:!0}),(0,a.jsx)(f.a,{as:"span",ms:2,children:r})]},t)})}),(0,a.jsx)(et.N,{}),o]}):o},eW=(0,ea.i7)(eH()),eU=(0,k.memo)(e=>{let{selectedType:t,onSelect:n,shouldHighlight:i,canAdd:r,showUpsell:l,onUpsellClick:o}=e;return(0,a.jsxs)(N.W,{children:[t?(0,a.jsx)(z.I,{as:T.$,variant:"ghost",size:"sm",color:"black",px:"2",rightIcon:(0,a.jsx)(C.g,{icon:B.Jt$,transform:"shrink-6"}),children:eB[t].name}):(0,a.jsx)(A.Tz,{label:(0,a.jsx)(j.x6,{id:"qmt9HO"}),isDisabled:!r,placement:"top","aria-label":W.Ru._({id:"qmt9HO"}),children:(0,a.jsx)(z.I,{as:P.K,isDisabled:!r,size:"lg",variant:"ghost",fontSize:"2xl",transitionProperty:"all",transitionDuration:"normal",color:"gray.800",bg:"blackAlpha.50",animation:i?"".concat(eW," 1.5s ease-in-out"):void 0,_hover:{bg:"trueblue.100",color:"trueblue.500"},icon:(0,a.jsx)(C.g,{icon:B.QLR})})}),(0,a.jsx)(O.c,{children:(0,a.jsx)(eV,{selectedType:t,onSelect:n,canAdd:r,showUpsell:l,onUpsellClick:o})})]})});eU.displayName="CardElementMenu";let eG=(0,k.memo)(e=>{let{position:t,element:n,onUpdate:i,shouldHighlight:r,cardIndex:l,isObscured:o,isReadonly:d,isAddDisabled:u,showUpsell:p,onUpsellClick:h}=e,g=(0,_.d)(),m=(0,q.fW)(),x=null==n?void 0:n.type,b="text"===x,v="cardNumbers"===x,y=(0,k.useRef)(null),[w,C]=(0,k.useState)(b&&(null==n?void 0:n.content)||""),A=(0,k.useCallback)(e=>{i({type:"text",content:e})},[i]),j=(0,el.lW)(A,300),S=(0,k.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i({type:e},t),("text"!==e||t)&&C(""),t&&g({title:eB[e].deleteToastLabel,status:"info",duration:2e3,position:"top"})},[i,g]),{flex:I,text:E}=(0,M.o)(t),R=(0,k.useMemo)(()=>v&&void 0!==l?(0,M.RP)(l,null==n?void 0:n.startIndex,null==n?void 0:n.startNumber):"",[l,n,v]);return(0,a.jsx)(f.a,{flex:1,children:(0,a.jsxs)(s.B,{spacing:1,alignItems:I,filter:o?"grayscale(1) blur(2px)":void 0,opacity:o?.5:1,pointerEvents:o?"none":void 0,userSelect:o?"none":void 0,children:[!d&&(0,a.jsx)(f.a,{dir:m?"rtl":void 0,children:(0,a.jsx)(eU,{selectedType:x||null,onSelect:S,shouldHighlight:r,canAdd:!u,showUpsell:p,onUpsellClick:h})}),d&&(b||v)&&(0,a.jsx)(c.E,{dir:m?"rtl":void 0,fontSize:"sm",noOfLines:1,children:b?(null==n?void 0:n.content)||"":R}),!d&&b&&(0,a.jsx)(en.p,{dir:m?"rtl":void 0,ref:y,size:"sm",borderRadius:"md",bg:"white",fontSize:"sm",placeholder:W.Ru._({id:"6MDj8K"}),value:w,maxLength:200,isDisabled:p,onKeyUp:e=>{if(!p&&"Enter"===e.key){var t;null==(t=y.current)||t.blur()}},onChange:e=>{if(p)return;let t=e.target.value;C(t),j(t)},textAlign:E}),!d&&v&&(0,a.jsx)(ew,{element:n,position:t,showUpsell:p,onUpdate:i}),"image"===x&&(0,a.jsx)(eN,{onUpdate:i,element:n,position:t,isReadonly:d,showUpsell:p}),"themeLogo"===x&&(0,a.jsx)(eF,{position:t,element:n,onUpdate:i,showUpsell:p,isReadonly:d})]})})});eG.displayName="EditableCardMarginElement";let eK=(0,k.memo)(e=>{let{visibilityLabel:t,isHidden:n,showToggleVisibilityButton:i,onToggleVisibility:r}=e;return(0,a.jsx)(J,{label:t,children:i&&(0,a.jsx)(A.Tz,{label:n?(0,a.jsx)(j.x6,{id:"G/jP6i"}):(0,a.jsx)(j.x6,{id:"Tx4/S/"}),placement:"top",children:(0,a.jsx)(P.K,{variant:"plain",size:"lg",fontSize:"2xl",color:n?"red.600":"gray.600",icon:n?(0,a.jsx)(C.g,{icon:w.k6j}):(0,a.jsx)(C.g,{icon:w.pS3}),_hover:{color:"default"},"aria-label":n?W.Ru._({id:"WY1TVs"}):W.Ru._({id:"xNpXQs"}),onClick:r})})})});eK.displayName="MarginElementsVisibilityControls";let eQ=(0,k.memo)(e=>{let{isSingleCardView:t,isHiddenFirst:n,isHiddenLast:i,hasMarginElements:r,isHiddenOnCard:l}=e;return t?r?n?(0,a.jsx)(j.x6,{id:"9weBGZ"}):i?(0,a.jsx)(j.x6,{id:"Qxmjys"}):l?(0,a.jsx)(j.x6,{id:"+gYV7s"}):(0,a.jsx)(j.x6,{id:"079GgA"}):(0,a.jsx)(j.x6,{id:"tb4e+E"}):(0,a.jsx)(j.x6,{id:"4upC5z"})});eQ.displayName="VisibilityLabel";let eZ=(e,t)=>{if(!e)return;let n=t.indexOf(e);return -1===n?void 0:n},eq=e=>{let{editor:t,highlightPosition:n,cardNode:i,getPos:r,showUpsell:l}=e,o=(0,Q.st)(),{cardMarginSettings:s}=(0,I.GV)(E.Uu),d=null==i?void 0:i.attrs,c=!!i,u=!(0,M.Nk)(s),{isFirstCardAndHidden:p,isLastCardAndHidden:h,isHiddenByCardSettings:g}=(0,D.j)(d),m=c&&(p||h||g),x=(0,I.GV)(E.uF),f=eZ(null==d?void 0:d.id,x),b=(0,k.useCallback)(e=>{t.commands.updateDocumentSettings({cardMarginSettings:{...s,...e}})},[t,s]),v=(0,k.useCallback)(e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=s[e],i=!!((null==a?void 0:a.type)&&t.type&&t.type!==a.type);b({[e]:n?void 0:{...!i&&(a||{}),...t}}),null==o||o.track(Q.VV.CARD_MARGIN_SETTINGS_UPDATED,{elementType:t.type,position:e,action:n?"delete":i?"replace":"add"})},[o,s,b]),y=c&&!p&&!h&&u,w=(0,k.useCallback)(()=>{if(i&&r)try{t.commands.updateNestedAttributesAtPos(r(),{cardMarginSettings:{...i.attrs.cardMarginSettings,isHidden:!i.attrs.cardMarginSettings.isHidden}})}catch(e){console.error("(caught) [CardMarginsBuilder](updateVisibility): could not update card",e)}},[i,t,r]),{openUpsellModal:C}=(0,K.I)(),A=(0,k.useCallback)(()=>{C({segmentEvent:Q.VV.GAMMA_PRO_UPSELL_CARD_MARGINS})},[C]);return(0,a.jsxs)(G.s,{p:4,minH:"320px",bg:"gray.50",flexDirection:"column",justifyContent:"space-between",position:"relative",borderRadius:"md",...l&&!c&&{_before:{content:'""',position:"absolute",inset:0,borderRadius:"md",border:"2px solid transparent",background:"var(--chakra-colors-gradient-brand-bg)",mask:"linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0)",maskComposite:"subtract",opacity:.7,pointerEvents:"none"}},children:[(0,a.jsx)(G.s,{justifyContent:"space-between",gap:6,alignItems:"flex-start",dir:"ltr",children:["topLeft","topCenter","topRight"].map(e=>(0,a.jsx)(eG,{position:e,onUpdate:v(e),element:s[e],shouldHighlight:n===e,isReadonly:c,isObscured:m,cardIndex:f,showUpsell:l,onUpsellClick:A,isAddDisabled:l&&u},e))}),l&&!c?(0,a.jsx)($,{onUpsellClick:A}):(0,a.jsx)(eK,{visibilityLabel:(0,a.jsx)(eQ,{isSingleCardView:c,isHiddenFirst:p,isHiddenLast:h,hasMarginElements:u,isHiddenOnCard:g}),isHidden:g,showToggleVisibilityButton:y,onToggleVisibility:w}),(0,a.jsx)(G.s,{justifyContent:"space-between",gap:6,alignItems:"flex-end",dir:"ltr",children:["bottomLeft","bottomCenter","bottomRight"].map(e=>(0,a.jsx)(eG,{position:e,onUpdate:v(e),element:s[e],shouldHighlight:n===e,isReadonly:c,isObscured:m,cardIndex:f,showUpsell:l,onUpsellClick:A,isAddDisabled:l&&u},e))})]})};var eJ=n(61491);let e$=(0,k.memo)(e=>{let{hideFromFirst:t,hideFromLast:n,onUpdateSettings:i}=e;return(0,a.jsxs)(ep.A,{placement:"bottom-end",children:[(0,a.jsx)(eh.W,{children:(0,a.jsx)(T.$,{leftIcon:(0,a.jsx)(C.g,{icon:t||n?w.k6j:w.pS3}),rightIcon:(0,a.jsx)(C.g,{icon:B.Jt$,transform:"shrink-6"}),size:"sm",variant:"plain",children:t&&n?(0,a.jsx)(j.x6,{id:"80NdhM"}):t?(0,a.jsx)(j.x6,{id:"gidUuU"}):n?(0,a.jsx)(j.x6,{id:"vc1V76"}):(0,a.jsx)(j.x6,{id:"4upC5z"})})}),(0,a.jsx)(eg.h,{w:"fit=content",minW:"200px",children:(0,a.jsx)(em.e,{p:3,children:(0,a.jsxs)(s.B,{children:[(0,a.jsx)(A._x,{mb:1,children:(0,a.jsx)(j.x6,{id:"lLeEP7"})}),(0,a.jsx)(eJ.S,{isChecked:t,onChange:e=>{i({hideFromFirst:e.target.checked})},children:(0,a.jsx)(j.x6,{id:"1UzO8k"})}),(0,a.jsx)(eJ.S,{isChecked:n,onChange:e=>{i({hideFromLast:e.target.checked})},children:(0,a.jsx)(j.x6,{id:"uGWhnt"})})]})})})]})});e$.displayName="DisplaySettingsPopover";let eY=(0,k.memo)(e=>{let{editor:t,isOpen:n,onClose:_,cardNode:T,getPos:N,highlightPosition:z}=e,[P,O]=(0,k.useState)(0),{areElementsCurrentlyHiddenBySettings:F}=(0,D.j)(null==T?void 0:T.attrs);(0,R.Vg)(()=>{n?F&&O(1):O(0)},[F,n],[n]);let H=(0,L.R)(),B=(0,S.u)("cardMarginElements"),{cardMarginSettings:V}=(0,I.GV)(E.Uu),{hideFromFirst:W,hideFromLast:G}=V,K=(0,M.Nk)(V),Q=!!T,Z=Q||H,q=(0,k.useCallback)(e=>{t.commands.updateDocumentSettings({cardMarginSettings:{...V,...e}})},[t,V]),J=(0,k.useCallback)(()=>{let e={...void 0!==W?{hideFromFirst:W}:void 0,...void 0!==G?{hideFromLast:G}:void 0};t.commands.updateDocumentSettings({cardMarginSettings:e})},[W,G,t]);return B?(0,a.jsx)(A.L8,{isDark:!1,children:(0,a.jsxs)(i.aF,{isOpen:!0,onClose:_,size:"3xl",blockScrollOnMount:!1,children:[(0,a.jsx)(r.m,{}),(0,a.jsxs)(l.$,{children:[(0,a.jsx)(o.r,{children:(0,a.jsxs)(s.B,{spacing:1,children:[(0,a.jsx)(d.D,{size:"lg",children:(0,a.jsx)(j.x6,{id:"JQFgkZ"})}),(0,a.jsx)(c.E,{fontSize:"md",fontWeight:500,letterSpacing:"normal",color:"gray.600",children:(0,a.jsx)(j.x6,{id:"F1uM5U"})})]})}),(0,a.jsx)(u.c,{}),(0,a.jsx)(p.s,{}),(0,a.jsx)(h.c,{pb:"6",pt:Z?4:6,children:(0,a.jsxs)(g.t,{variant:"soft-rounded",size:"sm",isLazy:!0,index:P,onChange:O,position:"relative",children:[(0,a.jsxs)(m.w,{position:"relative",sx:Z?{minH:8,mb:4}:void 0,children:[Q&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.o,{children:(0,a.jsx)(j.x6,{id:"4upC5z"})}),(0,a.jsxs)(x.o,{children:[(0,a.jsx)(c.E,{me:F?2:void 0,as:"span",children:(0,a.jsx)(j.x6,{id:"xkzndo"})}),F&&(0,a.jsx)(f.a,{color:"red.600",as:"span",children:(0,a.jsx)(C.g,{icon:w.k6j})})]})]}),0===P&&H&&(0,a.jsxs)(b.z,{position:"absolute",justifyContent:"flex-end",insetEnd:"0",top:"0",children:[(0,a.jsx)(e$,{hideFromFirst:W,hideFromLast:G,onUpdateSettings:q}),(0,a.jsx)(U,{onDelete:J,isDeleteDisabled:K,editor:t})]})]}),(0,a.jsxs)(v.T,{children:[(0,a.jsx)(y.K,{p:0,children:(0,a.jsx)(eq,{editor:t,highlightPosition:z,showUpsell:!H})}),(0,a.jsx)(y.K,{p:0,children:(0,a.jsx)(eq,{editor:t,highlightPosition:z,cardNode:T,getPos:N,showUpsell:!H})})]})]})})]})]})}):null});eY.displayName="CardMarginsModal"},84979:(e,t,n)=>{"use strict";n.d(t,{P:()=>i,T:()=>a});let a="non-clickable",i={clipType:null,clipPath:null,clipAspectRatio:null,width:null}},85328:(e,t,n)=>{"use strict";n.d(t,{x:()=>u});var a=n(6029),i=n(26420),r=n(55729),l=n(22249),o=n(15342),s=n(29608),d=n(11403),c=n(85697);let u=(0,r.memo)(e=>{let{children:t,...n}=e,r=(0,d.En)(),u=(0,o.GV)((0,l.lp)("right"))+c.OC;return!r||(0,s.Xb)()?null:(0,a.jsx)(i.a,{position:"fixed",bottom:c.sg,insetInlineEnd:u,zIndex:"overlay","data-print-hidden":!0,...n,children:t})});u.displayName="HelpWidgetWrapper"},85448:(e,t,n)=>{"use strict";n.d(t,{LS:()=>a,Rb:()=>l});let a=(e,t)=>r(new i(e,null),t);class i{get type(){return this.jsonNode.type}get text(){return this.jsonNode.text}get content(){return this.jsonNode.content?this.jsonNode.content.map(e=>new i(e,this)):this.jsonNode.content}get attrs(){return this.jsonNode.attrs}set attrs(e){this.jsonNode.attrs=e}constructor(e,t){this.jsonNode=e,this.parent=t,this.__type="JSONContentNode"}}let r=(e,t)=>{if(t(e),e.content)for(let n of e.content)r(n,t)},l=e=>{let t=[];return a(e,e=>{e.text&&t.push(e.text)}),t.join(" ").trim()}},85455:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var a=n(6029),i=n(33787);let r={pdf:{icon:(0,a.jsx)(i._,{src:"/_next/static/media/pdf-icon.a0dfc5d3.svg",h:"1.35rem",w:"auto"}),accentColor:"red"},pptx:{icon:(0,a.jsx)(i._,{src:"/_next/static/media/powerpoint-icon.2df39be4.svg",h:"1.5rem",w:"auto"}),accentColor:"orange"},png:{icon:(0,a.jsx)(i._,{src:"/_next/static/media/png-icon.0a2f46dc.svg",h:"1.45rem",w:"auto"}),accentColor:"purple"},google_slides:{icon:(0,a.jsx)(i._,{src:"/_next/static/media/google-slides-icon.a22064ae.svg",h:"1.6rem",w:"auto"}),accentColor:"yellow"},linkedin:{icon:(0,a.jsx)(i._,{src:"/_next/static/media/linkedin-icon.314303f8.svg",h:"1.6rem",w:"auto"}),accentColor:"deepocean.900"}}},85607:(e,t,n)=>{"use strict";n.d(t,{mi:()=>k.m,VL:()=>Q});var a=n(6029),i=n(46898),r=n(35605),l=n(19564),o=n(81278),s=n(55729),d=n(88586),c=n(44637),u=n(15342),p=n(82927),h=n(12562),g=n(66863);let m=e=>{let t=(0,u.jL)(),{currentWorkspace:n}=(0,p.ur)();(0,s.useEffect)(()=>{if(e)return h.of.updateWorkspaceInLdContext(e).then(()=>{t((0,g.kn)({isDocWorkspaceSet:!0}))}),()=>{h.of.updateWorkspaceInLdContext(n).then(()=>{t((0,g.kn)({isDocWorkspaceSet:!1}))})}},[n,t,e])};var x=n(58809),f=n(69768),b=n(34379),v=n(85057),y=n(6807),w=n(70006),C=n(65148),A=n(77639),j=n(55276),k=n(39162),S=n(27229),I=n(53907),E=n(67909),R=n(36071),L=n(54731),D=n(17920),M=n(3674),_=n(40691),T=n(26385),N=n(48810),z=n(16426),P=n(61204),O=n(49611),F=n(75570);let H=e=>{var t;let n=(null==(t=(0,u.GV)((0,I.A0)(e||"")))?void 0:t.status)==="running",a=(0,s.useRef)(n);a.current=n;let[i,r]=(0,s.useState)(()=>new F.c),l=(0,s.useCallback)(()=>{i.resolve()},[i]),{isOpen:o,onOpen:d,onClose:c}=(0,S.j)();return{confirmNavigationFn:(0,s.useCallback)(()=>{if(!a.current)return Promise.resolve();let e=new F.c;return r(e),d(),e.promise},[d]),confirmNavigationModalProps:{isOpen:o,onClose:c,onConfirm:l}}},B=e=>{let{isOpen:t,onClose:n,onConfirm:i}=e;return(0,a.jsxs)(E.aF,{onClose:n,isOpen:t,isCentered:!0,children:[(0,a.jsx)(R.m,{}),(0,a.jsxs)(L.$,{children:[(0,a.jsx)(D.r,{children:(0,a.jsx)(l.x6,{id:"YeK6T+"})}),(0,a.jsx)(M.s,{}),(0,a.jsx)(_.c,{children:(0,a.jsxs)(T.B,{spacing:4,children:[(0,a.jsx)(N.E,{fontWeight:"bold",children:(0,a.jsx)(l.x6,{id:"Wr6Y7m"})}),(0,a.jsx)(N.E,{children:(0,a.jsx)(l.x6,{id:"n0Fn6S"})})]})}),(0,a.jsx)(z.j,{children:(0,a.jsxs)(P.e,{children:[(0,a.jsx)(O.$,{variant:"ghost",onClick:n,children:(0,a.jsx)(l.x6,{id:"dEgA5A"})}),(0,a.jsx)(O.$,{variant:"hazardous",onClick:i,children:(0,a.jsx)(l.x6,{id:"QxM8i/"})})]})})]})]})};var V=n(73287),W=n(74945),U=n(99552);let G=e=>{var t;let{doc:n}=e,a=null==n?void 0:n.id,i=null==n||null==(t=n.site)?void 0:t.id,r=(0,u.jL)(),l=(0,W.Gx)(),o=!!(!a||!i||!l),{data:d}=(0,V.DL0)({variables:{id:i},returnPartialData:!0,nextFetchPolicy:"cache-and-network",skip:o}),c=null==d?void 0:d.site;(0,s.useEffect)(()=>{c&&a&&l&&(0,U.wC)(r)({site:c,docId:a})},[a,r,c,l])},K=e=>{let{children:t}=e,n=(0,i.d)(),h=(0,p.IM)(),g=(0,u.GV)(j.RK),{user:S,userStatus:I,isGammaAdminUser:E}=(0,p.ur)(),R=(0,s.useRef)(null),L=(0,u.jL)(),{push:D,replace:M}=(0,o.useRouter)(),_=(0,u.GV)(x.Jo),[T,N,z]=(0,w.Ts)(),[P,O]=(0,y.M)(C.E.gammaDocPasswords,{}),F=N&&N.match(w.RG),V=F?F[0]:null,W=P[V],{confirmNavigationFn:U,confirmNavigationModalProps:K}=H(V),[Q,Z]=(0,s.useState)({isUnauthorized:void 0,passwordRequired:void 0,setCollaborativeEditorInstance:e=>{R.current=e,Z(t=>({...t,editor:e}))},getCollaborativeEditorInstance:()=>R.current,confirmNavigation:U,editor:void 0});(0,c.mz)(_),m(null==_?void 0:_.organization);let[q,{data:J,error:$,loading:Y,called:X,subscribeToMore:ee}]=(0,d.gto)({variables:{id:V,password:W},returnPartialData:!0,nextFetchPolicy:"cache-only"}),et=(0,p.ZX)("edit",null==J?void 0:J.doc);G({doc:null==J?void 0:J.doc}),(0,v.C)(q),(0,s.useEffect)(()=>{if(ee&&Q.docId&&X)return ee({document:A.aM,variables:{id:Q.docId},updateQuery:(e,t)=>{let{subscriptionData:n}=t;return n.data&&n.data.doc&&e.doc?{doc:{...e.doc,...n.data.doc,__typename:"Doc"}}:e},onError:e=>{}})},[Q.docId,ee,X]);let en=(0,s.useCallback)(e=>q({variables:{id:V,docId:V,password:e}}),[q,V]),ea=(0,s.useCallback)(e=>(O({...P,[V]:e}),en(e)),[en,V,P,O]);return((0,s.useEffect)(()=>{if(Q.docId!==V&&N){if(!V)return void n({id:"invalid_doc_id_error",title:(0,a.jsx)(l.x6,{id:"742lf1"}),description:"",status:"error",position:"top",isClosable:!1,duration:null});en(W),Z(e=>({...e,onPasswordSubmitted:ea,docId:V}))}},[Q.docId,N,V,W,en,ea,L,n]),(0,s.useEffect)(()=>{if("loading"===I||!X||Y||!N)return;if(!J||!J.doc)return(null==$?void 0:$.graphQLErrors.some(e=>{var t;return"unauthorized"===e.code||(null==(t=e.extensions)?void 0:t.code)==="unauthorized"||"Access denied"===e.message}))?void Z(e=>({...e,isUnauthorized:!0,passwordRequired:!0})):("loggedOut"===I&&D("/signin?redirect_to=".concat(encodeURIComponent(window.location.href))),void Z(e=>({...e,isUnauthorized:!0,passwordRequired:!1})));if(J&&et&&!E&&(J.doc.archived||null===J.doc.currentSnapshotId))return void Z(e=>({...e,isUnauthorized:!0}));Z(e=>!1===e.isUnauthorized?e:{...e,passwordRequired:!1,isUnauthorized:!1});let e=J.doc;L((0,x.bX)({file:null==e?void 0:e.file})),L((0,x.Tm)({currentPage:e}))},[h,et,J,$,Y,N,X,g,I,D,L,M,S,E]),(0,s.useEffect)(()=>()=>{L((0,j.cL)()),L((0,x.ju)())},[L]),(0,s.useEffect)(()=>{if(!_||!V)return;let e="".concat(_.title?"".concat((0,r.Yv)(_.title),"-"):"").concat(V);N!==e&&(0,f.g5)({pathname:"".concat(T,"/").concat(e).concat(z||""),emitChange:!1})},[_,V,N,T,z]),(0,b.k)(),Q.docId)?(0,a.jsxs)(k.p.Provider,{value:Q,children:[t,(0,a.jsx)(B,{...K})]}):(0,a.jsx)(a.Fragment,{})};function Q(e){return(0,s.memo)(t=>(0,a.jsx)(K,{children:(0,a.jsx)(e,{...t})}))}},85684:(e,t,n)=>{"use strict";n.d(t,{R:()=>u,c:()=>c});var a=n(26886),i=n(34807),r=n(55729),l=n(22249),o=n(15342),s=n(85235),d=n(43634);let c=(e,t,n)=>{let[a,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(!1),s=(0,r.useRef)(),d=(0,r.useCallback)(t=>{i(!0),e(t)},[e]),c=(0,r.useCallback)(e=>{i(!1),o(!1),t(e)},[t]),u=(0,r.useCallback)(e=>{s.current instanceof HTMLElement&&s.current.focus(),n(e)},[n]);return{isDragging:a,isMouseDown:l,handleDragStart:d,handleDragEnd:c,handleClick:u,onMouseDown:(0,r.useCallback)(()=>{o(!0),s.current=document.activeElement||void 0},[]),onMouseUp:(0,r.useCallback)(()=>{o(!1)},[])}},u=()=>{let[e]=(0,a.U)(["(max-height: 400px)","(min-height: 401px"]),t=(0,o.GV)(d.nD),n=(0,o.GV)(d.cS),r=(0,o.GV)((0,l.DP)("right")),c=(0,i.A)({base:!1,lg:!0}),u=(0,o.GV)(d.wC);return t&&!e&&!n&&!r&&c&&u!==s.w.SLIDE_VIEW}},85697:(e,t,n)=>{"use strict";n.d(t,{OC:()=>a,kK:()=>l,sg:()=>r,uA:()=>i});let a=4,i="1rem",r=4,l={marginEnd:4,width:"auto",outline:"0",shadow:"lg",_focus:{outline:"none"}}},86014:(e,t,n)=>{"use strict";n.d(t,{lm:()=>a,qh:()=>r,u4:()=>l,wM:()=>i});class a extends Error{constructor(e,t){super(e),this.name="StreamError",this.code="stream_error",t&&(this.code=t)}}class i extends a{constructor(e){super(e),this.name="StreamTimeoutError",this.code="timeout"}}class r extends a{constructor(e){super(e),this.name="StreamOnOpenError",this.code="on_open"}}class l extends a{constructor(e){super(e),this.name="StreamUnexpectedCloseError",this.code="unexpected_close"}}},86364:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});let a=new(n(83747)).b},86687:(e,t,n)=>{"use strict";n.d(t,{ML:()=>o,dQ:()=>d,pK:()=>s,y_:()=>c});var a=n(68301),i=n(3298),r=n(23144),l=n(77249);let o=()=>{let e=(0,r.aQ)();return Object.entries(i.Ab).map(t=>{let[n,i]=t,r=e.filter(e=>{let{disabled:t,featureFlag:i,family:r}=e;return!t&&(!i||a.of.get(i))&&r===n}).map(e=>{let t=e.presetConfigurations,n=[];return t&&t.forEach(t=>{n.push({...t,icon:e.icon,variantKey:e.key,key:(0,l.Z)(e.key,t.options),visible:!0})}),{variant:e,options:n}});return{family:{key:n,...i},variants:r,visible:!0}}).filter(e=>e.variants.length>0)},s=()=>o().flatMap(e=>e.variants.flatMap(e=>e.options)),d=()=>o().reduce((e,t)=>(e[t.family.key]={family:t.family,variants:t.variants},e),{}),c=()=>s().reduce((e,t)=>(e[(0,l.Z)(t.variantKey,t.options)]=t,e),{})},86740:(e,t,n)=>{"use strict";n.d(t,{r:()=>L});var a=n(6029),i=n(27229),r=n(49611),l=n(26420),o=n(16936),s=n(67909),d=n(36071),c=n(54731),u=n(17920),p=n(3674),h=n(40691),g=n(99492),m=n(48621),x=n(19564),f=n(77650),b=n(32617),v=n(28976),y=n(81278),w=n(55729),C=n(99767);let A=["/","/pricing"],j=()=>{let{query:e,asPath:t}=(0,y.useRouter)();return(0,w.useCallback)(n=>{let a=t.split("?")[0],i="en"===e.locale?a:a==="/".concat(e.locale)?"/":a.replace("/".concat(e.locale,"/"),"/"),r=t.split("?")[1],l=a;return A.includes(i)?(C.jF.includes(n)&&(l="en"===n?""===i?"/":i:"/".concat(n).concat("/"===i?"":i)),"".concat(l).concat(r?"?".concat(r):"")):null},[t,e])},k=e=>{let{onLocaleSelect:t,selectedLocale:n,renderAsLinks:i=!1,locales:r}=e,l=j();return(0,a.jsx)(v.$,{locales:r,onLocaleSelect:t,selectedLocale:n,renderAsLinks:i,getLocalizedUrlFn:l})};var S=n(29608),I=n(75287),E=n(41427),R=n(82297);let L=e=>{let{onLocaleSelect:t,selectedLocaleKey:n,buttonProps:v,showLabelOnMobile:y=!1,activatorDataId:w,renderAsLinks:A=!1}=e,{isOpen:j,onOpen:L,onClose:D}=(0,i.j)(),M=(0,b.u)("i18nEnabled"),_=(0,E.qm)().filter(e=>M||"private_beta"!==C.AT[e.key]),T=(0,I.l)(),N=C.zd[n];return(0,a.jsxs)(a.Fragment,{children:[T&&N&&(0,a.jsx)(r.$,{w:"fit-content",onClick:L,display:{base:y?"block":"none",md:"block"},leftIcon:(0,a.jsx)(l.a,{display:"inline-block",children:(0,a.jsx)(m.g,{icon:g.Bwz})}),textDecoration:"none !important",alignContent:"center",size:"sm",variant:"ghost",...v,...w&&{"data-id":w},children:N.displayName}),(0,S.Xb)()&&(0,a.jsx)(o.K,{onClick:L,display:{base:y?"none":"block",md:"none"},"aria-label":f.Ru._({id:"+DEogc"}),icon:(0,a.jsx)(m.g,{icon:g.Bwz}),variant:"ghost",alignContent:"center",size:"md",fontWeight:500,...v}),j&&(0,a.jsxs)(s.aF,{isOpen:j,onClose:D,size:"6xl",isCentered:!1,preserveScrollBarGap:!0,blockScrollOnMount:!0,scrollBehavior:"outside",children:[(0,a.jsx)(d.m,{zIndex:{base:"tooltip",md:void 0}}),(0,a.jsxs)(c.$,{m:{base:4,md:20},containerProps:{zIndex:{base:"tooltip",md:void 0}},children:[(0,a.jsx)(u.r,{textAlign:"center",fontSize:{base:"xl",md:"3xl"},children:(0,a.jsx)(x.x6,{id:"EghcSN"})}),(0,a.jsx)(p.s,{}),(0,a.jsx)(h.c,{children:(0,a.jsx)(k,{selectedLocale:C.zd[n],onLocaleSelect:e=>{(0,R.Rh)(e)?(null==t||t(e),D()):console.error("Invalid locale key: ".concat(e))},renderAsLinks:A,locales:_})})]})]})]})}},86812:(e,t,n)=>{"use strict";n.d(t,{N:()=>L,S:()=>D});var a=n(22905),i=n(9922),r=n.n(i),l=n(83817),o=n.n(l),s=n(80102),d=n(63867),c=n(95889),u=n(53587),p=n(69460),h=n(77467),g=n(52762),m=n(15607),x=n(91242),f=n(23513),b=n(52055),v=n(33201),y=n(72492),w=n(67864),C=n(90010),A=n(94922),j=n(71737),k=n(61385),S=n(64895),I=n(47665),E=n(26406);let R=/^(\*\*\*)/,L=a.YY.create({name:"cardCommands",addCommands:()=>({resetCardSettings:e=>t=>{let{state:n,dispatch:a,chain:i}=t;if(!a)return!0;let r=i();return n.doc.descendants((t,n)=>{(0,v.jg)(t)&&r.updateNestedAttributesAtPos(n,e)}),!0},splitCardAtSelection:()=>e=>(D(e),!0),insertNestedCard:()=>e=>{let{state:t,chain:n,dispatch:a,editor:i}=e;if(!a)return!0;let{from:r,$from:l}=t.selection;return n().insertContentAndSelect((0,b.G)().insertCardInside).command(e=>{let{tr:t}=e,n=(0,w.ek)({editor:i,pos:r-l.parentOffset-1,tr:t});return n.length&&requestAnimationFrame(()=>{var e,t;null==(e=(t=i.commands).moveAnnotations)||e.call(t,n)}),!0}).run(),!0},convertToNestedCard:()=>e=>{let{state:t,dispatch:n,commands:a}=e;if(!n)return!0;let i=(0,s.Im)(t.schema.nodes[E.Zp.name])(t,n);return a.selectInsertedNode(),i},unnestCard:e=>t=>{let{state:n,dispatch:i,chain:r,tr:l}=t,o=n.doc.nodeAt(e);if(!o||!(0,v.jg)(o))return!1;if(!i)return!0;let s=(0,S.IV)(l,e);if(!s)return!1;let d=l.doc.resolve(e),c=(0,a.eL)(d,v.jg),u=(0,j.PD)(d),p=null;u&&(p=c?(0,S.XC)(n.doc,c.pos,!0):null);let h=e+o.nodeSize,g=r();if(p&&u&&c){let e=(0,j.eh)(c.node)?u.node.content:u.node;g.insertContentAt(p,e.toJSON()).setMeta("cardNotesHandled",!0)}return g.insertContentAt({from:e,to:h},s.node.toJSON().content).selectInsertedNode().command(t=>{let{tr:n}=t;return n.setMeta("annotationEvent",{type:"merge-cards",contentPos:s.pos,insertPos:e}),!0}).run(),!0},mergeCardsAtPos:e=>t=>{let{tr:n}=t,a=n.doc.nodeAt(e);return!!a&&!!(0,v.jg)(a)&&(0,S.c9)(e,n)},mergeCardsOnDelete:e=>t=>{let{tr:n,state:i,dispatch:r}=t;if(!r)return!0;let{selection:l}=i,o=(0,a.KP)(v.jg)(l);if(!o||!l.empty)return!1;try{if(!(0,S.jF)(l,e))return!1;return e?(0,S.Uc)(o.pos,n,i):(0,S.c9)(o.pos,n)}catch(e){return console.debug("[CardCommands] mergeCardsOnDelete failed",e),!1}},insertCardAfter:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,b.G)().insertCardInside;return t=>{let{state:n,chain:i,dispatch:r}=t;if(!r)return!0;let{selection:l}=n,o=(0,a.KP)(v.jg)(l);if(!o)return!0;let{pos:s,node:d}=o,c=s+d.nodeSize;return i().insertContentAt(c,e).selectInsertedNode().scrollIntoView().run(),!0}},deleteCardIfEmpty:e=>t=>{let{tr:n,dispatch:a,state:i}=t;if(!a)return!0;let r=!1,{from:l,to:o}=i.selection;return i.doc.nodesBetween(l,o,(t,a)=>{if((0,v.jg)(t)&&(0,E.ey)(t)&&a>k.$x){let i=n.doc.resolve(a).depth>1;n.deleteRange(a,a+t.nodeSize);let l=(0,f.n)(n.doc.resolve(a+(i?0:e?1:-1)),e?1:-1);l&&n.setSelection(l),r=!0}}),r},deleteCard:e=>t=>{let{state:n,dispatch:a,tr:i}=t;if(!a)return!0;let r=n.doc.resolve(e),l=r.depth>1,o=r.nodeAfter;if(!o||!(0,v.jg)(o))return console.error("[CardExtension.deleteCard] Cannot delete card. Node unknown"),!1;i.delete(e,e+o.nodeSize);let s=(0,f.n)(i.doc.resolve(e-!l),-1);return s&&i.setSelection(s),!0},duplicateCard:e=>t=>{let{state:n,chain:a,editor:i}=t,l=n.doc.nodeAt(e);if(!l||!(0,v.jg)(l))return console.error("[CardExtension.duplicateCard] Cannot duplicate card. Node unknown"),!1;let o=e+l.nodeSize,s=(0,y.RE)(r()(l.toJSON()));return a().insertContentAt(o,s,{updateSelection:!1}).command(e=>{let{tr:t}=e;return t.setMeta(h._,!0),!0}).run(),setTimeout(()=>{i.chain().selectInsideNodeAtPos(o).focus().run()},200),!0},rearrangeCards:e=>{let{from:t,to:n,position:a}=e;return e=>{let i,{view:r,state:l,tr:o}=e,s=l.doc.resolve(n),c=l.doc.resolve(t),u=c.pos+c.nodeAfter.nodeSize,p=new d.nh(c),h=p.content();if((i="below"===a?s.pos+s.nodeAfter.nodeSize:"above"===a?s.pos:s.pos+s.nodeAfter.nodeSize-1)===c.pos)return o.setMeta("preventDispatch",!0),!0;o.delete(p.from,p.to);let g=o.mapping.map(i);o.replaceRangeWith(g,g,h.content.firstChild);let m=o.doc.resolve(g+1);o.setSelection(new d.nh(m));let x={type:"move",insertPos:g,insertPosRaw:i,pos:c.pos,end:u};return o.setMeta("annotationEvent",x).setMeta("rearrangeCards",!0),r.focus(),!0}},rearrangeCardsById:(e,t,n)=>a=>{var i;let{dispatch:r,tr:l,editor:s}=a;if(!r)return!0;let d=(0,I.aJ)(s.state.doc);if(!d)return!1;let u=d.map(e=>e.node.attrs.id),h=t.filter(e=>u.includes(e)).map(e=>d.find(t=>t.node.attrs.id===e)).filter(e=>!!e),g=h.map(e=>({pos:e.pos,id:e.node.attrs.id})).filter(e=>{let{id:t}=e;return t&&"string"==typeof t}),m=null==(i=h[0])?void 0:i.node.attrs.id;if(!m)return!0;let x=Math.max(e.findIndex(e=>e===m),0),f=e[x-1],b=d.find(e=>e.node.attrs.id===f),v=x>0&&b?b.pos+b.node.nodeSize:d[x].pos;if(void 0===v)return!0;[...h].reverse().forEach(e=>{e&&l.replaceWith(v,v,e.node)}),h.forEach(e=>{if(!e)return;let t=l.mapping.map(e.pos);l.delete(t,t+e.node.nodeSize)});let y=(0,I.aJ)(l.doc);if(!y)return!0;let w=y.map(e=>({pos:e.pos,id:e.node.attrs.id})).filter(e=>{let{id:n}=e;return t.includes(n)}),C=w.map(e=>{var t;let{id:n,pos:a}=e,i=null==(t=g.find(e=>e.id===n))?void 0:t.pos;return i?{id:n,oldPos:i,newPos:a}:null}).filter(e=>!!e);return l.setMeta("annotationEvent",{type:"rearrange-cards",rearrangedCardPositions:C,insertPos:v}).setMeta("rearrangeCards",!0).setMeta(p.G,!0),o()(w,g)||c.zS.trackDocEvent(c.VV.CARDS_REORDERED,{card_count:t.length,method:(null==n?void 0:n.viewPreference)==="film"?"filmstrip":"list-view"}),!0},updateThemeAccentImages:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{var a;let{editor:i,commands:r}=n;if((null==(a=(0,C.lI)(i).aiOptions.imageOptions)?void 0:a.provider)==="placeholder")return!0;let l=!e||0===e.length,o=0;return i.state.doc.descendants((n,a)=>{let i=(0,A.wL)(n);if(i||(0,v.jg)(n)){let s=i&&n.attrs.background.type===g.h.NONE;(n.attrs.background.source===u.j||t&&i||s)&&(l?r.updateAttributesAtPos(a,{background:{type:i?g.h.NONE:void 0}}):(r.updateNestedAttributesAtPos(a,{background:e[o%e.length]}),o++))}}),!0}},deleteCardsById:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{let{editor:i,dispatch:r,tr:l}=n;if(!r)return!0;let o=(0,a.xe)(i.state.doc,t=>(0,v.jg)(t)&&e.includes(t.attrs.id));if(!o.length)return!1;let s=o.map((e,t)=>({pos:e.pos,cardIndex:t}));o.forEach(e=>{let{node:t,pos:n}=e;l=l.delete(l.mapping.map(n),l.mapping.map(n+t.nodeSize))});let d=o[0].pos,c=(0,x.s)(l.doc.resolve(d));return c&&(l=l.setSelection(c)),t&&l.setMeta("annotationEvent",{type:"filmstrip-cut",deleted:s}),l.setMeta(p.G,!0),!0}},deleteCardsAfter:e=>t=>{let{editor:n,dispatch:a,commands:i}=t;if(!a)return!0;let r=(0,m.GY)(n.state.doc.firstChild,e=>(0,v.jg)(e)).map(e=>e.node.attrs.id);if(null===e)return i.deleteCardsById(r);let l=r.indexOf(e),o=l>-1?r.slice(l+1):[];return 0===o.length||i.deleteCardsById(o)},selectInsideNextCard:e=>t=>{let{state:n,dispatch:a,commands:i}=t;if(!a)return!0;let{selection:r}=n,l=(0,m.IV)(r.$from,v.jg)[0];if(!l||!r.empty)return!1;let o=n.doc.resolve(l.pos),s=o.index();if(e){if(s===o.parent.childCount-1)return!1;i.selectInsideNodeAtPos(l.pos+l.node.nodeSize)}else{if(0===s)return!1;let e=o.posAtIndex(s-1);i.selectInsideNodeAtPos(e,-1)}return!0}}),addInputRules:()=>[new a.fV({find:R,handler:e=>{let{state:t,range:n}=e,{tr:a}=t;D({tr:a.deleteRange(n.from,n.to),dispatch:!0})}})]}),D=e=>{let{tr:t,dispatch:n}=e;if(!n)return;let i=(0,a.KP)(v.jg)(t.selection);if(!i)return void console.error("Couldn't find parent card while splitting",t.selection);let{accent:r,body:l}=(0,A.dg)(t,i.pos);r&&l&&r.pos>l.pos&&(t.delete(r.pos,r.pos+r.node.nodeSize),t.insert(l.pos,r.node));let{selection:o}=t,{$from:s}=o,d=o.$from.parentOffset,c=o.from-d-1,u=o.$from.node().content.size-o.$from.parentOffset;t.setMeta(h._,!0),t.setMeta("annotationEvent",{type:"split-card",splitPos:s.before()});let{node:p,depth:g}=i,{type:m,attrs:b}=p,y=s.depth-g+1,w=(0,j.PD)(t.doc.resolve(i.pos));t.split(s.pos,y,[{type:m,attrs:{...b,layout:"blank"}}]);let C=(0,x.t)(t,k.Qs).pos,S=t.doc.nodeAt(C).childCount;if(0===d&&(t.delete(c,c+t.doc.nodeAt(c).nodeSize),C=t.steps[t.steps.length-1].getMap().map(C)),0===u&&S>1){let e=C+1,n=t.doc.nodeAt(e);n&&"cardNotes"!==n.type.name&&"cardLayoutItem"!==n.type.name&&t.delete(e,e+n.nodeSize)}let I=(0,j.PD)(t.doc.resolve(C));I&&t.delete(I.pos,I.pos+I.node.nodeSize);let E=(0,f.n)(t.doc.resolve(C+1)),R=t.doc.nodeAt(i.pos),L=R&&i.pos+R.nodeSize-1;if(L&&w){let e=w.node;t.insert(L,e),t.setMeta("cardNotesHandled",!0)}E&&t.setSelection(E).scrollIntoView()}},86932:(e,t,n)=>{"use strict";n.d(t,{A3:()=>y,TX:()=>w,nf:()=>C,wg:()=>S});var a=n(21938),i=n(22905),r=n(63867),l=n(97255),o=n(15342),s=n(85011),d=n(95889),c=n(43634),u=n(85235),p=n(15607),h=n(80911),g=n(6845),m=n(47665),x=n(60300),f=n(4967),b=n(53891);let v=new r.hs("expandableNodes"),y=e=>e.some(e=>e.spec.isExpandableNode),w=e=>e instanceof h.J&&0===e.side&&C(e.node),C=e=>!0===e.type.spec.expandable,A=(e,t)=>{if(!(null==t?void 0:t.from))return!1;let n=(0,p.jB)(e,t.from),a=(0,s.cH)(n);return(null==a?void 0:a.inView)===!0},j=(e,t,n)=>{let a=(0,m.Py)(e.view.nodeDOM(t)),i=(0,s.cH)(a);if(!i)return!1;let{bottomInView:r,topInView:l}=i;return"top"===n?l:r},k=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.state.selection,l=i instanceof h.J&&1===i.side?i.to:i.from;if(l<=t){if(j(e,t,"top"))return null}else if(l>=n){if(j(e,t,"bottom"))return null}else{if(A(e,i))return null;let t=e.state.doc.resolve(l);if(A(e,r.LN.findFrom(t,-1,!1))||A(e,r.LN.findFrom(t,1,!1)))return null}let o=(0,p.XL)({editor:e,side:a?"bottom":"top",margin:200});if(o.pos){let t=r.LN.findFrom(e.state.doc.resolve(o.pos),a?1:-1,!1);return(null==t?void 0:t.from)||null}return null},S=i.YY.create({name:"expandableNodes",extendNodeSchema(e){var t;return{expandable:null!=(t=(0,i.gk)((0,i.iI)(e,"expandable",e)))&&t}},addCommands:()=>({expandOrCollapseExpandableNode:e=>t=>{let{state:n,chain:a}=t,i=null!=e?e:n.selection.from,r=n.doc.nodeAt(i);if(!r||!C(r))return!1;let l=(0,o.KA)();switch(r.type.name){case"card":if(l.dispatch((0,c.mF)({attached:!1})),null===d.zS||void 0===d.zS||d.zS.track(d.VV.CARD_EXPANDED,{is_present_mode:!0,method:"enter_key"}),(0,g.Wq)(r.attrs.id))return a().descendIntoCurrentCard(i).reHighlightExpandableNode().run();return a().spotlightCollapseCard(i).reHighlightExpandableNode().run();case"toggle":{(0,b.bG)(r.attrs.id,!(0,b.vb)(r.attrs.id));let t=a();return e&&t.spotlightNextBlock(),t.reHighlightExpandableNode().run(),!0}case"image":case"video":case"embed":return l.dispatch((0,c.a)({nodeId:r.attrs.id})),!0;case"gallery":{let e=r.firstChild;if(e)return l.dispatch((0,c.a)({nodeId:e.attrs.id})),!0;return!1}default:return!1}},goToNextExpandableNode:e=>t=>{var n;let{editor:a,tr:i,state:r}=t,l=f.n.getState(a.state),o=(0,m.W0)(a,l.cardId);if(!o)return!1;let d=o.node.attrs.id,c=o.pos,u=o.pos+o.node.nodeSize,p=a.state.selection,g=w(p),b=p instanceof h.J,y=k(a,c,u,e),A=(null==(n=v.getState(r))?void 0:n.lastApplied)||+new Date;if(g&&!y&&new Date-A>3e3)return a.commands.reHighlightExpandableNode();i.setMeta(v,{});let j=b&&(-1===p.side&&e||1===p.side&&!e)?-1:0,S=Math.min(Math.max(y||(g||!b?p.from:1===p.side?p.to+j:p.from+j),c),u-1),I=(0,x.vi)(a,d,S,C,e);if(console.debug("[ExpandableNodes] goToNextExpandableNode",{posToUse:S,overridePos:y},I),!I.pos||!I.domNode||I.cardId!==d)return i.setSelection(h.J.create(a.state.doc,c,e?-1:1)),!1;let E=(0,s.cH)(I.domNode,50);return(null==E?void 0:E.inView)?(i.setSelection(h.J.create(a.state.doc,I.pos)),(0,s.H1)("editor").scrollElementIntoView({element:I.domNode,attempts:0,offsetFromTop:null}),!0):(g&&i.setSelection(h.J.create(a.state.doc,p.from,e?-1:1)),!1)},reHighlightExpandableNode:()=>e=>{let{tr:t,editor:n}=e;return t.setMeta(v,{shouldAddResetClass:!0}),requestAnimationFrame(()=>{n.commands.command(e=>{let{tr:t}=e;return t.setMeta(v,{shouldAddResetClass:!1}),!0})}),!0}}),addProseMirrorPlugins:()=>[new r.k_({key:v,state:{init:()=>({lastApplied:0,shouldAddResetClass:!1}),apply(e,t){let n=e.getMeta(v);return n?{...t,lastApplied:+new Date,...n}:t}},props:{decorations(e){let t=f.n.getState(e);if(null==t?void 0:t.pos)return l.zF.empty;let n=v.getState(e);if((0,c.wC)((0,o.KA)().getState())!==u.w.SLIDE_VIEW)return l.zF.empty;let i=e.selection;if(!w(i)||!(i instanceof h.J))return l.zF.empty;let r=i.node;return l.zF.create(e.doc,[l.NZ.node(i.from,i.from+r.nodeSize,{class:(0,a.cx)("expandable-node-selected",(null==n?void 0:n.shouldAddResetClass)&&"expandable-node-reset")},{isExpandableNode:!0})])}}})]})},86958:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});let a=e=>"calloutBox"===e.type.name},86992:(e,t,n)=>{"use strict";n.d(t,{Ok:()=>b,_v:()=>v});var a=n(6029),i=n(26385),r=n(48810),l=n(31090),o=n(99492),s=n(48621),d=n(19564),c=n(77650),u=n(3487),p=n(51022),h=n(88586),g=n(99038),m=n(28630),x=n(11390);let f=e=>{let{productKey:t}=e,n=Object.entries(m.Rz).filter(e=>{let[n]=e;return(0,m.kO)(n)===t});return(0,a.jsxs)(i.B,{spacing:"0",children:[(0,a.jsx)(r.E,{color:"gray.400",children:(0,a.jsx)(d.x6,{id:"/AD408"})}),(0,a.jsx)(l.B8,{children:n.map(e=>{let[t,n]=e;return(0,m.CX)(t)?(0,a.jsx)(l.ck,{children:n.label()},t):null})})]})},b=()=>{let e=p.rw.toLocaleString(),t=p.DL.toLocaleString();return{free:{name:g.v2,description:c.Ru._({id:"V2wKPH"}),featureHeading:c.Ru._({id:"66mVP3"}),features:[{label:c.Ru._({id:"BTeHnk"}),icon:(0,a.jsx)(s.g,{icon:o._$C,fixedWidth:!0})},{label:(0,x.kf)("free").pricingModalLabel,infoTip:(0,a.jsx)(f,{productKey:"free"})},{label:c.Ru._({id:"uCXqkM",values:{MAX_CARDS_FREE:u.Cg}})}],includesHeading:c.Ru._({id:"yRx7sr"}),includes:[{label:(0,a.jsx)(d.x6,{id:"FXdAlK",values:{freeTokensFormatted:e}})},{label:c.Ru._({id:"0k1jtM",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:g.Ix}})},{label:c.Ru._({id:"YcKH7w"})},{label:c.Ru._({id:"vrN3H/"})}]},plus:{name:g.H9,description:c.Ru._({id:"qytu/9"}),featureHeading:c.Ru._({id:"66mVP3"}),features:[{label:(0,a.jsx)(d.x6,{id:"60SITe"})},{label:(0,x.kf)("plus").pricingModalLabel,infoTip:(0,a.jsx)(f,{productKey:"plus"})},{label:c.Ru._({id:"alnKae",values:{GAMMA_PROPER_NOUN:g.On}})},{label:(0,a.jsx)(d.x6,{id:"0tfXJh",values:{MAX_CARDS_PLUS:u.ST}})}],includesHeading:c.Ru._({id:"jtT5YU",values:{FREE_PROPER_NOUN:g.v2}}),includes:[{label:(0,a.jsx)(d.x6,{id:"TCX9Q8",values:{plusTokensFormatted:t}}),infoTip:c.Ru._({id:"CsSTca"})},{label:c.Ru._({id:"k62X/2"})},{label:c.Ru._({id:"zeffR0"})}],dontChurnMessage:c.Ru._({id:"N4ycY7"})},pro:{name:g.Kc,description:c.Ru._({id:"ThODgx"}),featureHeading:c.Ru._({id:"66mVP3"}),features:[{label:(0,a.jsx)(d.x6,{id:"60SITe"})},{label:(0,x.kf)("pro").pricingModalLabel,infoTip:(0,a.jsx)(f,{productKey:"pro"})},{label:(0,a.jsx)(d.x6,{id:"WIpbhz"}),infoTip:(0,a.jsx)(d.x6,{id:"ofH3kV",values:{GAMMA_ARTIFACT_PROPER_NOUN:g.TP}}),flag:"editDocAI"},{label:(0,a.jsx)(d.x6,{id:"37jLpL",values:{MAX_CARDS_PRO:u.t}})}],includesHeading:c.Ru._({id:"FY8xWK",values:{PLUS_PROPER_NOUN:g.H9}}),includes:[{label:c.Ru._({id:"TWMkqP"}),infoTip:c.Ru._({id:"cR/lbF"})},{label:c.Ru._({id:"E3KfxC"})},{label:c.Ru._({id:"sjfiEU"})},{label:c.Ru._({id:"eJJLu0"}),infoTip:c.Ru._({id:"72pgCR",values:{GAMMA_PROPER_NOUN:g.On}})},{label:c.Ru._({id:"U0iwUz"})}],dontChurnMessage:c.Ru._({id:"I3/YZS"})},team:{name:g.AR,description:c.Ru._({id:"ThODgx"}),featureHeading:c.Ru._({id:"66mVP3"}),features:[],includesHeading:c.Ru._({id:"kOzjOH",values:{PRO_PROPER_NOUN:g.Kc}}),includes:[],dontChurnMessage:c.Ru._({id:"I3/YZS"})}}},v=()=>({monthly:{name:c.Ru._({id:"h/HI8S"})},yearly:{name:c.Ru._({id:"iLa0Nl"})}});h.SjR.Usd,h.Vd7.Month,h.SjR.Usd,h.Vd7.Year,h.SjR.Usd,h.Vd7.Month,h.SjR.Usd,h.Vd7.Year},87045:(e,t,n)=>{"use strict";n.d(t,{B:()=>P});var a=n(6029),i=n(24302),r=n(26420),l=n(40452),o=n(17496),s=n(58959),d=n(29810),c=n(49611),u=n(99492),p=n(48621),h=n(91106),g=n(19564),m=n(70315),x=n(55729),f=n(74158),b=n(11403),v=n(41896),y=n(43634),w=n(15607),C=n(70787),A=n(95325),j=n(87140),k=n(32973),S=n(1739),I=n(58617),E=n(45574),R=n(89124),L=n(2320),D=n(25600),M=n(22905);let _=n(83902).A.extend({parseHTML:()=>[{tag:"p"}],renderHTML(e){let{HTMLAttributes:t}=e;return["p",(0,M.KV)(t,{dir:"auto"}),0]}}),T=()=>[A.A.configure({horizontalRule:!1,codeBlock:!1,paragraph:!1}),_,L.c,C.Ay.configure({openOnClick:!1}),k.N,I.c,R.M9,R.lw,R.BF,S.Hf,j.a,S.mk,E.Q8,D.bU],N=(0,m.v_)("mod+Enter"),z=(0,m.v_)("mod+a"),P=x.memo(e=>{let{clearContentOnSave:t=!1,editable:n=!0,saveButtonText:m=(0,a.jsx)(g.x6,{id:"tfDRzk"}),saveButtonIcon:C=(0,a.jsx)(p.g,{icon:u.isI}),initialContent:A="",placeholder:j="Reply",showBorder:k=!0,onCancelEditingClick:S,onCommentSave:I,onCreate:E=()=>{},onUpdate:R=()=>{},shouldFocus:L=!0,alwaysShowButtons:D=!1,...M}=e,_=(0,x.useMemo)(()=>T(),[]),P=(0,f.d4)(y.sX),O=(0,f.d4)(y.aQ),F=(0,v.hG)({extensions:_,content:A,onCreate:e=>{let{editor:t}=e;E({editor:t}),t.gammaDocId=P,t.gammaOrgId=O},onUpdate:e=>{let{editor:t,transaction:n}=e;R({editor:t,transaction:n})}});(0,x.useEffect)(()=>{F&&F.setOptions({editable:n})},[F,n]),(0,b.Vg)(()=>{F&&L&&F.isEditable&&F.commands.focus("end")},[F,L],[F]),(0,x.useEffect)(()=>{F&&!n&&(null==F||F.commands.setContent(A))},[F,A,n]);let{colorMode:H}=(0,i.G6)(),B="light"===H,V=e=>{z(e)&&(e.preventDefault(),null==F||F.commands.selectAll()),N(e)&&(e.preventDefault(),e.stopPropagation(),W())},W=()=>{!(!I||!F||(0,w.mf)(F.state.doc)||(0,w.nC)(F.state.doc))&&(I(F.getJSON()),t&&F.commands.clearContent(!0))};return n?(0,a.jsxs)(l.s,{"data-gamma-child-tiptap-editor":"comment-editor",direction:"column",...M,children:[(0,a.jsx)(r.a,{tabIndex:0,w:"100%",onKeyDownCapture:V,onKeyPressCapture:V,className:"comment-editor",color:B?"gray.700":"gray.200",bg:B?"white":"gray.700",...k?{border:"1px solid",borderColor:B?"gray.200":"gray.600",borderRadius:"md"}:{},sx:{"p:first-of-type::before":(null==F?void 0:F.isEmpty)?{content:'"'.concat(j,'"'),float:"left",color:B?"gray.400":"gray.500",pointerEvents:"none",height:"0"}:""},fontSize:"sm",children:(0,a.jsx)(v.$Z,{editor:F,className:"comment-editor",style:{wordBreak:"break-word",width:"100%"}})}),(0,a.jsxs)(o.S,{in:!!(D||F&&!F.isEmpty),children:[(0,a.jsx)(r.a,{h:3,children:(0,a.jsx)(a.Fragment,{})}),(0,a.jsxs)(s.z,{children:[(0,a.jsx)(d.h,{}),!!S&&(0,a.jsx)(h.Tz,{label:(0,a.jsx)(g.x6,{id:"zeQdHz"}),placement:"top",children:(0,a.jsx)(c.$,{size:"sm",variant:"hazardous",onClick:()=>{S&&S(),null==F||F.commands.clearContent(!0)},children:(0,a.jsx)(g.x6,{id:"dEgA5A"})})}),(0,a.jsx)(c.$,{size:"sm",variant:"solid",leftIcon:C,isDisabled:(null==F?void 0:F.isEmpty)||(0,w.nC)(null==F?void 0:F.state.doc),onClick:W,"data-testid":"post-comment",children:m})]})]})]}):(0,a.jsx)(r.a,{fontSize:"sm",children:(0,a.jsx)(v.$Z,{editor:F})})})},87140:(e,t,n)=>{"use strict";n.d(t,{a:()=>g,h:()=>m});var a=n(21938),i=n(22905),r=n(63867),l=n(97255),o=n(68301),s=n(15607);class d extends r.k_{removeOverlappingDecorations(e,t){let n=this.getDecorationsRanges(t),a=e.find(n.from,n.to).filter(e=>n.hasRange(e));return e.remove(a)}getDecorationsRanges(e){let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,a=new Set;return e.forEach(e=>{let{from:i,to:r}=e;i<t&&(t=i),r>n&&(n=r),a.add("".concat(i,":").concat(r))}),{from:t,to:n,hasRange:e=>{let{from:t,to:n}=e;return a.has("".concat(t,":").concat(n))}}}decorateDoc(e){let t=[];return e.descendants(this.decorateNode.bind(this,t)),l.zF.create(e,t)}processStep(e,t,n,a){let i=t.doc,r=t.mapping.slice(a+1),l=r.map("from"in e?e.from:e.pos),o="to"in e?r.map(e.to):l,s="slice"in e?e.slice.content.size:0;i.descendants((e,t,a,i)=>!(t+e.nodeSize<l)&&!(t>o+s)&&("document"===e.type.name||!a||this.decorateNode(n,e,t,a,i)))}constructor({key:e,decorateNode:t,options:n={}}){super({key:e,state:{init(e,t){let{doc:n}=t;return{decorations:this.decorateDoc(n)}},apply(e,t){var a,i;let r=null==(a=n.processEntireDoc)?void 0:a.call(n),l=null!=(i=n.shouldProcessStep)?i:s.Be,o=t.decorations;if(!e.steps.length&&!r)return{...t,decorations:o.map(e.mapping,e.doc)};if(r||(0,s.R3)(e))return{...t,decorations:this.decorateDoc(e.doc)};let d=[];e.steps.forEach((t,n)=>{if(l(t))return this.processStep(t,e,d,n)});let c=this.removeOverlappingDecorations(o.map(e.mapping,e.doc),d).add(e.doc,d);return{...t,decorations:c}}},props:{decorations:t=>{var n;return null==(n=e.getState(t))?void 0:n.decorations}}}),this.decorateNode=t}}var c=n(33201),u=n(67864),p=n(94922);function h(e,t,n,i,r){if((0,u.cE)(i)&&e.push(l.NZ.node(n,n+t.nodeSize,{},{isAnnotatable:!0})),(0,c.CD)(t))e.push(l.NZ.node(n,n+t.nodeSize,{class:(0,a.cx)("block","block-".concat(t.type.name),0===r&&"first-block",r===i.childCount-1&&"last-block")})),0===r&&((0,c.jg)(i)||(0,p.Eg)(i))&&e.push(l.NZ.node(n,n+t.nodeSize,{class:"first-block-in-card"},{isFirstBlockInCard:!0}));else{if(!t.isLeaf&&!t.isBlock)return!1;e.push(l.NZ.node(n,n+t.nodeSize,{class:"node-".concat(t.type.name)}))}return!0}let g=i.YY.create({name:"blockClass",addOptions:()=>({blockClass:"block"}),addProseMirrorPlugins:()=>[new d({key:new r.hs("blockClass"),decorateNode:h,options:{processEntireDoc:()=>!o.of.get("useTransactionBlockPlugin")}})]}),m=e=>!!e.find(e=>e.spec.isFirstBlockInCard)},87379:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var a=n(84462),i=n.n(a),r=n(58495);class l{_flush(){this._handle=0;let e=this._queue;this._queue=[],e.forEach(e=>{let{fn:t}=e;t()})}push(e,t){if(t){let n=this._queue.findIndex(e=>e.id===t);n>-1?this._queue.splice(n,1,{fn:e,id:t}):this._queue.push({fn:e,id:t})}else this._queue.push({fn:e,id:(0,r.Ak)(5)});this._handle||(this._handle=requestAnimationFrame(this._flush.bind(this)))}constructor(){this._queue=[],this._handle=0,this._handle=requestAnimationFrame(this._flush.bind(this))}}let o=i()(()=>new l)},87461:(e,t,n)=>{"use strict";n.d(t,{K:()=>p,d:()=>h});var a=n(6029),i=n(40452),r=n(26420),l=n(83004),o=n(55729),s=n(61106),d=n(81043),c=n(26053),u=n(11403);let p=(0,l.i7)({"0%":{maskPosition:"0% 50%"},"50%":{maskPosition:"100% 50%"},"100%":{maskPosition:"0% 50%"}}),h=(0,o.memo)(e=>{let{children:t,...n}=e,l=(0,u.En)(),p=(0,o.useMemo)(()=>(0,c.Vx)(!1),[]);return l?(0,a.jsxs)(i.s,{pt:4,w:"100%",minH:"100%",bgSize:"cover",bgPosition:"center center",position:"relative",bg:"gradient.sky",className:"ai-page-wrapper",flex:"1",sx:p,...n,children:[(0,a.jsx)(r.a,{zIndex:1,w:"100%",flex:"1",children:t}),(0,a.jsx)(s.x,{children:(0,a.jsx)(d.P,{showShortcuts:!1})})]}):null});h.displayName="AIPageWrapper"},87790:(e,t,n)=>{"use strict";n.d(t,{Q:()=>k});var a=n(6029),i=n(67909),r=n(36071),l=n(54731),o=n(17920),s=n(40452),d=n(3674),c=n(40691),u=n(48810),p=n(83638),h=n(25223),g=n(64268),m=n(51504),x=n(16426),f=n(61204),b=n(49611),v=n(91106),y=n(19564),w=n(55729),C=n(33619),A=n(9118),j=n(99038);let k=e=>{let{isAdminView:t=!1,isFullDoc:n,isSite:k,onClose:S,startTranslation:I}=e,[E]=(0,C.L)(),[R,L]=(0,w.useState)(E);return(0,a.jsx)(v.L8,{isDark:!1,children:(0,a.jsxs)(i.aF,{isOpen:!0,onClose:S,children:[(0,a.jsx)(r.m,{}),(0,a.jsxs)(l.$,{children:[(0,a.jsx)(o.r,{children:(0,a.jsx)(s.s,{alignItems:"center",mr:8,children:k?(0,a.jsx)(y.x6,{id:"56Urwv"}):n?(0,a.jsx)(y.x6,{id:"e2vVXR",values:{GAMMA_ARTIFACT_PROPER_NOUN:j.TP}}):(0,a.jsx)(y.x6,{id:"DLQ7Yc"})})}),(0,a.jsx)(d.s,{}),(0,a.jsxs)(c.c,{children:[(0,a.jsx)(u.E,{mb:4,children:k?(0,a.jsx)(y.x6,{id:"dZwNdR"}):n?(0,a.jsx)(y.x6,{id:"6YnROT",values:{GAMMA_ARTIFACT_PROPER_NOUN:j.TP}}):(0,a.jsx)(y.x6,{id:"WQFlqR"})}),(0,a.jsxs)(p.MJ,{children:[(0,a.jsx)(h.l,{children:(0,a.jsx)(u.E,{fontSize:"14px",children:(0,a.jsx)(y.x6,{id:"3LIgcv"})})}),(0,a.jsx)(C.j,{buttonProps:{variant:"plain",justifyContent:"flex-start",textAlign:"left",width:"100%"},locale:R,setLocale:e=>{L((0,A.xt)(e))}})]}),t&&(0,a.jsx)(s.s,{mt:4,children:(0,a.jsxs)(g.F,{status:"warning",children:[(0,a.jsx)(m._,{}),"You're using the translation feature as an admin in the PUBLIC_STATIC editor. Translations made here will not be persisted to the database and are intended for admin review process only."]})})]}),(0,a.jsx)(x.j,{children:(0,a.jsxs)(f.e,{children:[(0,a.jsx)(b.$,{variant:"ghost",colorScheme:"gray",onClick:S,color:t?{color:"orange.500"}:void 0,_hover:t?{bg:"orange.100"}:void 0,children:(0,a.jsx)(y.x6,{id:"dEgA5A"})}),(0,a.jsx)(b.$,{variant:"solid",bg:t?"orange.500":void 0,_hover:{bg:t?"orange.700":void 0},onClick:()=>I(R),children:(0,a.jsx)(y.x6,{id:"pi8x/S"})})]})})]})]})})}},87827:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var a=n(19564),i=n(55729);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,a.uB)();return(0,i.useMemo)(e,[n,e,...t])}},87930:(e,t,n)=>{"use strict";n.d(t,{T:()=>c,U:()=>d});var a=n(22905),i=n(63867),r=n(83817),l=n.n(r),o=n(43634);class s{compute(e){let t=e.firstChild;if(!t)return this;let n=t.attrs;return l()(n,this.value)||(this.hasChanges=!0),this.value=n,this}apply(e,t){return e.docChanged&&this.compute(e.doc),this}processChanges(e){this.hasChanges&&this.value&&e((0,o.H3)({docAttrs:this.value})),this.hasChanges=!1}constructor(){this.hasChanges=!1,this.value=null}}let d=new i.hs("documentAttrs"),c=a.YY.create({name:"documentAttrs",addProseMirrorPlugins:()=>[new i.k_({key:d,state:{init:()=>new s,apply:(e,t,n,a)=>t.apply(e,a)}})]})},87996:(e,t,n)=>{"use strict";n.d(t,{Dc:()=>r.Dc,Dr:()=>r.Dr,Fk:()=>a.Fk,GQ:()=>r.GQ,Il:()=>r.Il,J4:()=>a.J4,Jp:()=>r.Jp,MN:()=>r.MN,N$:()=>r.N$,O5:()=>r.O5,OO:()=>r.OO,Ow:()=>r.Ow,Oz:()=>r.Oz,Pl:()=>r.Pl,QM:()=>a.QM,RA:()=>r.RA,RH:()=>a.RH,Rn:()=>r.Rn,TV:()=>r.TV,UX:()=>r.UX,Up:()=>r.Up,V2:()=>r.V2,Ve:()=>r.Ve,Zc:()=>i.Z,Zd:()=>r.Zd,ae:()=>r.ae,ap:()=>r.ap,fG:()=>r.fG,fX:()=>r.fX,fb:()=>r.fb,fo:()=>r.fo,hb:()=>r.hb,j_:()=>a.j_,mx:()=>r.mx,qD:()=>r.qD,r9:()=>r.r9,sI:()=>r.sI,sS:()=>r.sS,st:()=>r.st,uF:()=>r.uF,un:()=>r.un,ux:()=>a.ux,w:()=>r.w,xT:()=>r.xT,yj:()=>r.yj});var a=n(66265);n(60281);var i=n(15773),r=n(58964)},88055:(e,t,n)=>{"use strict";n.d(t,{jI:()=>I,h6:()=>S.h6,tr:()=>_});var a=n(6029),i=n(46898),r=n(57405),l=n(58959),o=n(23293),s=n(48810),d=n(26385),c=n(49611),u=n(80314),p=n(58297),h=n(26420),g=n(81107),m=n(99492),x=n(55597),f=n(48621),b=n(19564),v=n(77650),y=n(37219),w=n(24496),C=n(72809),A=n(99038),j=n(82927),k=n(29608),S=n(44637);let I=e=>{var t,n,p;let{accessLink:h,doc:I,refetchFn:R,...L}=e,D=!(0,k._y)(),M=(0,i.d)(),{refetch:_}=(0,j.ur)(),T=R||_,N=e=>{let{title:t,description:n}=C.m[e]||{title:(0,a.jsx)(b.x6,{id:"U7nnQt"}),description:e};M.isActive(e)||M({title:t,description:n,position:"top",id:e,status:"error",isClosable:!0,duration:null})},z=null!=(n=null==h?void 0:h.permission)?n:"view",P={manage:(0,a.jsx)(b.x6,{id:"C11Xkl",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP}}),edit:(0,a.jsx)(b.x6,{id:"C11Xkl",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP}}),comment:(0,a.jsx)(b.x6,{id:"gu6c+c",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP}}),view:(0,a.jsx)(b.x6,{id:"LoR9yH",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP}})}[z],O={manage:(0,a.jsx)(b.x6,{id:"MEeXaP"}),edit:(0,a.jsx)(b.x6,{id:"MEeXaP"}),comment:(0,a.jsx)(b.x6,{id:"dx3Kfr"}),view:(0,a.jsx)(b.x6,{id:"R2ZEYO"})}[z],F={manage:{icon:x.zLW,colorScheme:"sky"},edit:{icon:x.zLW,colorScheme:"sky"},comment:{icon:x.DN2,colorScheme:"yellow"},view:{icon:x.ao0,colorScheme:"green"}},H=null!=(p=null==I||null==(t=I.editors)?void 0:t.map(e=>e.user.displayName))?p:[],B=(()=>{switch(z){case"manage":case"edit":switch(H.length){case 0:return(0,a.jsx)(b.x6,{id:"bspMVx",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP},components:{0:(0,a.jsx)("span",{role:"img","aria-label":v.Ru._({id:"JGFG6q"})}),1:(0,a.jsx)("strong",{})}});case 1:return(0,a.jsx)(b.x6,{id:"w49thS",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP,0:H[0]},components:{0:(0,a.jsx)("span",{role:"img","aria-label":v.Ru._({id:"JGFG6q"})}),1:(0,a.jsx)("strong",{})}});case 2:return(0,a.jsx)(b.x6,{id:"Tz4Wi7",values:{0:H[0],1:H[1]},components:{0:(0,a.jsx)("span",{role:"img","aria-label":v.Ru._({id:"7Lrnj6"})}),1:(0,a.jsx)("strong",{}),2:(0,a.jsx)("strong",{})}});default:return(0,a.jsx)(b.x6,{id:"VhIJ/j",values:{0:H[0],1:H.length-1},components:{0:(0,a.jsx)("span",{role:"img","aria-label":v.Ru._({id:"7Lrnj6"})}),1:(0,a.jsx)("strong",{})}})}case"comment":return(0,a.jsx)(b.x6,{id:"vIOI7i",components:{0:(0,a.jsx)("span",{role:"img","aria-label":v.Ru._({id:"OoNfwA"})}),1:(0,a.jsx)("strong",{}),2:(0,a.jsx)("strong",{})}});default:return(0,a.jsx)(b.x6,{id:"k/HcwJ",values:{GAMMA_ARTIFACT_PROPER_NOUN:A.TP},components:{0:(0,a.jsx)("strong",{})}})}})(),V=async()=>{T&&(await T(),(0,S.Us)()),M.isActive("login-complete")||M({title:(0,a.jsx)(b.x6,{id:"yFvQAN"}),description:P,position:"top",id:"login-complete",status:"success",isClosable:!0,duration:5e3})};return(0,a.jsxs)(r.T,{align:"stretch",...L,children:[(0,a.jsxs)(l.z,{spacing:4,me:6,children:[(0,a.jsx)(E,{icon:(0,a.jsx)(f.g,{icon:F[z].icon}),colorScheme:F[z].colorScheme}),(0,a.jsx)(o.D,{as:"p",size:"sm",children:O})]}),(0,a.jsx)(s.E,{fontSize:"sm",children:B}),(0,a.jsxs)(d.B,{children:[D&&(0,a.jsx)(c.$,{variant:"solid",leftIcon:(0,a.jsx)(f.g,{icon:g.FjH}),size:"md",onClick:()=>{(0,w.gG)({type:w.Xh.DOC_ACCESS_LINK,params:{docId:null==I?void 0:I.id,shareToken:h.token},errorCallback:N,doneCallback:V})},children:(0,a.jsx)(b.x6,{id:"oZyG4C"})}),(0,a.jsx)(c.$,{variant:"plain",as:u.N,target:"_blank",leftIcon:(0,a.jsx)(f.g,{icon:m.y_8}),href:"/signup",children:(0,a.jsx)(b.x6,{id:"yrlCvg"})}),(0,a.jsx)(s.E,{fontSize:"xs",color:"gray.600",children:(0,a.jsx)(b.x6,{id:"oXChp6",values:{GAMMA_PROPER_NOUN:A.On},components:{0:(0,a.jsx)(u.N,{href:y.er,isExternal:!0,fontWeight:"bold"}),1:(0,a.jsx)(u.N,{href:y.WO,isExternal:!0,fontWeight:"bold"})}})})]})]})},E=e=>{let{icon:t,colorScheme:n}=e;return(0,a.jsxs)(p.j,{size:10,bg:"linear-gradient(to bottom, var(--chakra-colors-".concat(n,"-200), var(--chakra-colors-").concat(n,"-300))"),position:"relative",children:[(0,a.jsx)(h.a,{color:"".concat(n,".600"),display:"block",mt:"0.5",textAlign:"center",children:t}),(0,a.jsx)(p.j,{size:5,position:"absolute",bottom:-1,right:-1,color:"".concat(n,".800"),bg:"".concat(n,".100"),boxShadow:"base",fontSize:"xs",children:(0,a.jsx)(f.g,{icon:x.QLR})})]})};var R=n(77364),L=n(55729),D=n(27748);let M=e=>{let{onClose:t,doc:n,...i}=e;return(0,a.jsxs)(h.a,{bg:"white",border:"0.5px solid var(--chakra-colors-gray-50)",borderRadius:"md",shadow:"md",maxWidth:"calc(".concat(D.HB,"px - 1rem)"),display:"column",p:4,position:"relative",children:[(0,a.jsx)(R.J,{size:"sm",onClick:t,position:"absolute",top:2,right:2}),(0,a.jsx)(I,{...i,doc:n,spacing:4})]})},_=(e,t)=>{let{isUserLoading:n,user:a,refetch:r}=(0,j.ur)(),l=(0,S.h6)(e,a),o=(0,i.d)(),s=(0,L.useRef)();(0,L.useEffect)(()=>{let i=t&&!a&&!n&&e&&l&&"view"!==l.permission;s.current&&o.close(s.current),i&&(s.current=o({position:"bottom-left",render:t=>{let{onClose:n}=t;return M({refetchFn:r,doc:e,accessLink:l,onClose:n})},isClosable:!0,duration:null}))},[r,a,n,l,o,e,t])}},88134:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var a=n(68301),i=n(13080);let r=()=>{var e;let t=(0,a.u)("defaultArtStylePreset");t in i.ll||(t="illustration");let n=null!=(e=i.ll[t].prompt)?e:"";return{artStylePreset:t,artStylePrompt:n}}},88145:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var a=n(51684);let i=["venn","rings","bullseye","ribbon_arrows","ideas","quadrants","swoosh","infinity","square_arrows","puzzle","bubble_steps","nested_diamond","packed_circles","pinwheel","iceberg","slope","arrow_bars","hot_air_balloons"];var r=n(44245),l=n(76083),o=n(14389);let s=()=>Object.entries(r.cy).filter(e=>{let[t,n]=e;return!n.disabled}).map(e=>{let[t,n]=e,{label:r,icon:s,defaultColorScheme:d,previewImage:c,defaultData:u,defaultWidth:p}=n,h="smart-diagram-".concat(t),g=()=>({templateKey:t,data:{...u?u():{},colorScheme:d},horizontalAlign:"center",width:p?p*o.St:void 0}),m=()=>({type:"smartDiagram",attrs:g()});return{key:h,name:r,nodeName:"smartDiagram",icon:null!=s?s:a.qTS,previewImage:c,featureFlag:"smartDiagrams",keywords:["diagram","smart"],execute:e=>{e.chain().focus().insertSmartDiagram({attrs:g(),allowGeneration:i.includes(t)}).run()},dragStartFn:e=>(0,l.fS)(e,m())}})},88607:(e,t,n)=>{"use strict";n.d(t,{Se:()=>r,Ui:()=>i,bQ:()=>a});let a="is-pptx-exporting",i="[data-export-as-image], math-display .math-render",r="Consolas"},88608:(e,t,n)=>{"use strict";n.d(t,{Bo:()=>A,Gx:()=>C,R6:()=>y,Yq:()=>w,ak:()=>j});var a=n(77650),i=n(59426),r=n(67604),l=n(57914),o=n(97832),s=n(36529),d=n(33548),c=n(57792),u=n(96331),p=n(27295),h=n(14385),g=n(13442),m=n(60042),x=n(62922),f=n(76174),b=n(14448);let v={ar:d.A,en:c.A,fa:u.A,"pt-br":p.A,ja:h.A,"zh-cn":g.A,"zh-tw":m.A,es:x.A,fr:f.A,ko:b.A},y=()=>v[a.Ru.locale]||void 0,w=(e,t)=>e?(0,i.A)((0,r.A)(e),t,{locale:y()}):"",C=(e,t)=>e?(0,l.A)((0,r.A)(e),t?(0,r.A)(t):new Date,{locale:y()}):"",A=e=>e?(0,o.A)((0,r.A)(e),{locale:y()}):"",j=e=>e?(0,s.A)((0,r.A)(e),new Date,{locale:y(),addSuffix:!0,roundingMethod:"floor"}):""},88720:(e,t,n)=>{"use strict";n.d(t,{V:()=>u});var a=n(6029),i=n(58959),r=n(49611),l=n(48810),o=n(91106),s=n(19564),d=n(55729),c=n(5061);let u=(0,d.memo)(function(e){let{onClick:t,isCompact:n=!1}=e,d=(0,c.fW)(),u=(0,a.jsx)(s.x6,{id:"pQr8gu"}),p=(0,a.jsx)("span",{role:"img","aria-label":"warning",children:"⚠️"});return(0,a.jsxs)(i.z,{dir:d?"rtl":void 0,spacing:n?1:2,children:[t?(0,a.jsxs)(i.z,{spacing:n?1:2,children:[p,(0,a.jsx)(r.$,{variant:"link",colorScheme:"gray",fontSize:"xxs",onClick:t,children:u})]}):(0,a.jsxs)(l.E,{as:"span",display:"inline-flex",gap:2,fontSize:"xxs",children:[!n&&p,u]}),(0,a.jsx)(o.qT,{fontSize:n?"xxs":void 0,display:"block",lineHeight:"0",label:(0,a.jsx)(s.x6,{id:"ek68m3"})})]})})},88839:(e,t,n)=>{"use strict";n.d(t,{M:()=>a.M});var a=n(90098)},88889:(e,t,n)=>{"use strict";n.d(t,{Y:()=>k,h:()=>I});var a=n(6029),i=n(26420),r=n(40452),l=n(53996),o=n(51684),s=n(97139),d=n.n(s),c=n(55729),u=n(94111),p=n(59230),h=n(15342),g=n(43634),m=n(60908),x=n(62171),f=n(58082),b=n(17485),v=n(66079),y=n(4522),w=n(21982),C=n(62695),A=n(50861),j=n(83143);let k=e=>{var t,n,l;let{image:s,editor:d,getPos:c,imageShape:u,imageSx:b,node:A,decorations:j,handleEditableClick:k,handleEditableDoubleClick:S,hasQuickActions:E=!1,isInlineColorableSvg:R=!1,editWithoutSelection:L=!1}=e,D=(0,C.j)(d,c),M=d.state.selection.from===c(),_=(0,m.SV)((null==s?void 0:s.src)||(null==s?void 0:s.tempUrl)),T=(0,m.v7)(null==s?void 0:s.src),{isDark:N,bodyColor:z}=(0,f.a)(j),P=!s||s.showPlaceholder||!s.src&&!s.tempUrl,O=null!=(l=s&&(null==(t=s.loadImageParams)?void 0:t.provider))?l:void 0,F=s&&"queued"===s.loadImageStatus&&!d.isThumbnail,{tempUrl:H,uploadStatus:B,meta:V}=s||{},W=(null==s?void 0:s.src)?(0,m.pO)(s.src,z):void 0,U=(0,h.GV)(g.nD),G=A.attrs.source,K=W&&(0,m.Ub)(W,d.isThumbnail?m.p7:d.isSiteNavbarEditor?m.oc:{width:1e3,height:1e3},V),Q=(0,m.QV)(K,K?void 0:H),Z={backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundImage:R||P?void 0:Q,backgroundPosition:(0,x.w3)(s),width:"100%",height:"100%",borderRadius:"circle"!==u||R?"var(--box-border-radius)":"full",transitionProperty:"border-radius",transitionDuration:"normal",...b};return(0,a.jsxs)(i.a,{position:"relative",cursor:M||L&&U?"pointer":"default",contentEditable:!1,h:"100%",onClick:U?k:void 0,onDoubleClick:U?S:void 0,transitionProperty:"filter background",transitionDuration:"normal",_hover:U&&M?{filter:N?"brightness(1.15)":"brightness(0.85)",bg:_?N?"whiteAlpha.100":"blackAlpha.100":void 0}:void 0,children:[P?(0,a.jsx)(w.Pf,{...Z,isLoading:!!F,loadingProvider:O,icon:(null==(n=v.Fn["image.custom"])?void 0:n.icon)||o.Cyq,h:"100%",hasQuickActions:E,onSelectAndFocus:()=>{U&&D()},defaultSource:G,cursor:M||L?"pointer":"default"}):T?(0,a.jsx)(m.FD,{src:W||H||"",poster:null==V?void 0:V.poster,w:"100%",h:"100%",objectFit:"cover","data-content-reference":!0}):R?(0,a.jsx)(I,{image:s,src:W||H||"",imageShape:u,imageStyles:Z}):(0,a.jsx)(r.s,{"data-content-reference":!0,"data-change-focus-point-el":!0,className:"card-layout-cell-bg",position:"relative",sx:Z}),B==p.A.Uploading&&U&&(0,a.jsx)(y.Td,{}),B==p.A.Error&&(0,a.jsx)(y.Hy,{})]})},S=e=>{try{let t=e.getBBox();if(0===t.width||0===t.height)return;return"".concat(t.x," ").concat(t.y," ").concat(t.width," ").concat(t.height)}catch(e){console.error("Error calculating viewBox:",e);return}},I=e=>{var t;let{image:n,src:i,imageShape:r,imageStyles:o}=e,s=null!=(t=b.zF[r||"square"])?t:b.zF.square,{meta:p}=n||{},h=(0,A.Kk)(i,"accessory-img-inline-svg"),[g,m]=(0,c.useState)(void 0),x=(0,c.useRef)(null),f=(null==p?void 0:p.width)&&(null==p?void 0:p.height)?"0 0 ".concat(p.width," ").concat(p.height):void 0,v=(0,c.useCallback)(()=>{var e;let t=null==(e=x.current)?void 0:e.querySelector("svg");t&&requestAnimationFrame(()=>{let e=S(t);e&&m(e)})},[]);return(0,a.jsx)(l.o,{...o,objectFit:"contain",ref:x,sx:{svg:{width:"100%",aspectRatio:null==s?void 0:s.aspectRatio,height:"unset"}},children:(0,a.jsx)(u.A,{src:h,viewBox:f||g||"0 0 512 512",className:"colorable-icon",onLoad:f?void 0:v,preProcessor:e=>{let t=(0,j.gG)(e);return d().sanitize(t,{USE_PROFILES:{svg:!0,svgFilters:!0},PARSER_MEDIA_TYPE:"image/svg+xml",ALLOWED_NAMESPACES:["http://www.w3.org/2000/svg"]})},overflow:"visible"})})}},89115:(e,t,n)=>{"use strict";n.d(t,{P:()=>d,S:()=>s});var a=n(84462),i=n.n(a),r=n(28615),l=n(36512),o=n(33424);let s=e=>{var t;let{theme:n,fontSize:a,isMobileDevice:i,contentWidth:r,nestedDepth:s=0}=e,d=(0,o.Qo)(a||"md"),c="lg"===r?l.br:"sm"===r?l.lA:l.Vy,u=null!=(t=n.config.fontSize)?t:1,p=u*d,h=c*(l.IM/u)/d,g=(0,o._F)(s);return{baseFontSize:p,contentWidthEms:h,themeFontSize:u,cardWidthEms:h+2*(0,o.mn)({isMobileDevice:i,numericFontSize:d})+2*g}},d=i()(e=>{let{isPresentMode:t,isNested:n,nestedDepth:a,isFullBleed:i,isThumbnail:l,theme:o,cardDimensions:d,defaultContentWidth:g,contentWidth:m,showPresentBackdrop:x,isMobileDevice:f,docZoomLevel:b,fontSize:v,cardFontScale:y=1}=e,{baseFontSize:w,contentWidthEms:C,cardWidthEms:A}=s({theme:o,fontSize:v,isMobileDevice:f,contentWidth:null!=m?m:g,nestedDepth:a});return{...(t||l?d.aspectRatio&&!r.LD?h:p:f?u:c)({baseFontSize:w,contentWidthEms:C,cardWidthEms:A,cardAspectRatio:d.aspectRatio,showPresentBackdrop:x,isNested:n,isFullBleed:i,isThumbnail:l,docZoomLevel:b,nestedDepth:a,cardFontScale:y})}}),c=e=>{let{cardWidthEms:t,cardAspectRatio:n,isNested:a,baseFontSize:i,docZoomLevel:r,cardFontScale:l,contentWidthEms:o}=e;return{"--font-size":"calc(".concat(i," * var(--card-font-scale, 1) * var(--editor-font-size, 1rem) * ").concat(r," * var(--viewport-scale-factor, 1.125))"),"--card-font-scale":"".concat(l||1),"--card-width":"calc(".concat(t,"em / var(--card-font-scale, 1))"),"--card-min-height":n&&!a?"calc(min(var(--card-width), var(--editor-width)) / ".concat(n,")"):"0px","--max-content-width":"calc(".concat(o,"em / var(--card-font-scale, 1))"),"--card-max-width":"var(--editor-width)","--media-scale":"min(1, var(--card-font-scale, 1))"}},u=e=>{let{cardWidthEms:t,baseFontSize:n,isNested:a,cardAspectRatio:i}=e;return{"--font-size":"".concat(n,"rem"),"--card-width":"".concat(t,"em"),"--card-min-height":i&&!a?"calc(min(var(--card-width), var(--editor-width)) / ".concat(i,")"):"0px","--card-max-width":"var(--editor-width)","--media-scale":"1"}},p=e=>{let{contentWidthEms:t,cardWidthEms:n,showPresentBackdrop:a,isFullBleed:i,baseFontSize:l,isNested:o,isThumbnail:s}=e,d=r.rS||r.GC?"calc(".concat(l,"rem * var(--viewport-scale-factor, 1.125))"):"calc(var(--zoom-level) * clamp(".concat(s?"0rem":"1rem",", var(--card-max-width) / ").concat(n,", 3vh))"),c=!a||i;return{"--font-size":d,"--card-width":c?"var(--editor-width)":"".concat(n,"em"),"--card-max-width":"calc(var(--editor-width) - 2 * var(--card-outer-padding-x))","--card-min-height":s?"var(--thumbnail-min-height, 0px)":c&&!o?"100vh":"0vh","--max-content-width":"calc(".concat(1.15*t,"em / var(--zoom-level))"),"--media-scale":"1"}},h=e=>{let{cardAspectRatio:t,cardWidthEms:n,isNested:a,cardFontScale:i}=e,l=r.rS||r.GC?"calc(var(--card-max-width) / ".concat(t,")"):"calc(100vh - 2 * var(--card-outer-padding-y))",o="min(var(--card-max-width), calc(var(--card-max-height) * ".concat(t,"))"),s=a?"0px":"calc(".concat(o," / ").concat(t,")"),d="calc(var(--zoom-level) * var(--card-font-scale, 1) * ".concat(o," / ").concat(n,")");return{"--card-width":o,"--card-font-scale":"".concat(i||1),"--font-size":d,"--card-max-width":"calc(var(--editor-width) - 2 * var(--card-outer-padding-x))","--card-max-height":l,"--card-min-height":s,"--media-scale":"min(1, var(--card-font-scale, 1))"}}},89124:(e,t,n)=>{"use strict";n.d(t,{BF:()=>H,lw:()=>er,M9:()=>es});var a=n(6029),i=n(48810),r=n(26476),l=n(99492),o=n(55597),s=n(91106),d=n(19564),c=n(22905),u=n(55729),p=n(39247),h=n(15342),g=n(63902),m=n(26420),x=n(48621);let f={card:l.vti,doc:l.vGi,user:l.Hzw},b=e=>{let{type:t}=e,n=f[t];return(0,a.jsx)(m.a,{as:"span",display:"inline-flex",className:"mention",minW:"5em",opacity:"0.6",borderRadius:"sm",color:"gray.700",children:(0,a.jsx)(m.a,{display:"inline-flex",py:"0.125em",children:(0,a.jsx)(x.g,{icon:n,style:{marginLeft:"0.5em",alignSelf:"center"}})})})};var v=n(19546),y=n(41896),w=n(43634),C=n(85732),A=n(70006),j=n(38934),k=n(2320),S=n(46957);let I=e=>{let{filterFn:t,getAttributesFn:n}=e;return e=>(function(e){let{type:t}=e;if(!t.isInline)throw Error("[nodePasteRule] This paste rule was only designed to consider inline nodes.");return new c._n({find:e.find,handler:t=>{let{state:n,range:a,match:i}=t,{tr:r}=n,l=a.from,o=a.to,s=(0,c.gk)(e.getAttributes,void 0,i)||{};r.replaceWith(l,o,e.type.create(s))}})})({find:e=>{let n=[...e.matchAll(A.D_)];return n?n.map(e=>{var t;return{index:null!=(t=e.index)?t:-1,text:e[0],match:e}}).filter(e=>{let n=(0,A.TY)(e.text),{cardId:a}=(0,A.$9)(e.text);return t(n,a,e)}):[]},type:e,getAttributes:e=>{let t=(0,A.TY)(e[0]),{cardId:a}=(0,A.$9)(e[0]);return n({match:e,docId:t,cardId:a})}})};var E=n(58959),R=n(80314),L=n(3276),D=n(82203),M=n.n(D),_=n(91938);let T={borderRadius:"md",padding:"0.05em 0.1em",display:"inline",color:"gray.700"},N=(0,u.forwardRef)((e,t)=>{let{mentionLabel:n,mentionIcon:r,mentionTargetUrl:l,onClick:o,hasError:s=!1,isSimpleLinkVersion:d=!1,...c}=e,u=d?M():"span";return(0,a.jsxs)(m.a,{ref:t,position:"relative","data-selection-ring":!0,className:"mention",onClick:o,...T,color:s?"gray.600":T.color,...c,as:u,...{href:d?l:void 0,cursor:(o||d)&&!s?"pointer":"default"},children:[(0,a.jsxs)(E.z,{display:"inline-flex",spacing:0,children:[r&&(0,a.jsx)(m.a,{display:"inline-block",textAlign:"center",minWidth:4,children:(0,a.jsx)(x.g,{icon:r,fixedWidth:!0,size:"sm",style:{marginInlineStart:"0.1em",marginInlineEnd:"0.3em"}})}),(0,a.jsx)(i.E,{noOfLines:1,whiteSpace:"normal",wordBreak:"break-all",flex:1,lineHeight:"normal",children:n})]}),_.$.GAMMA_PUPPETEER_SERVICE&&l&&(0,a.jsx)(R.N,{href:l,h:"100%",w:"100%",position:"absolute",zIndex:"-10","data-pdf-link":!0,top:"0",left:"0"})]})});N.displayName="MentionTag";let z=()=>(0,a.jsx)(m.a,{as:"span",className:"mention",...T,children:(0,a.jsx)(L.y,{size:"xs",opacity:"0.8",margin:"0 0.1em"})}),P="Untitled",O=e=>{let{node:t,editor:n}=e,{id:c,docId:m}=t.attrs,x=(0,h.GV)((0,p.F1)(c)),f=(0,h.GV)(w.bO).includes(c),b=(0,h.GV)(w.nD);(0,u.useEffect)(()=>{n.storage[H.name][c]=x},[x,n.storage,c]);let j=(0,u.useCallback)(e=>{(0,v.T)(n,e,c)},[n,c]),k=(0,g.oR)(),S=(0,u.useMemo)(()=>{let e=(0,A.Io)({cardId:c,docId:m||n.gammaDocId});return k?(0,C.M7)({url:e}):e},[c,m,n,k]);return(0,a.jsx)(y.VR,{as:"span",children:f?(0,a.jsx)(N,{"data-testid":"card-mention",onClick:b?void 0:j,onDoubleClick:b?j:void 0,mentionLabel:x||P,mentionIcon:l.vti,mentionTargetUrl:S}):(0,a.jsx)(s.Tz,{label:(0,a.jsx)(i.E,{children:(0,a.jsx)(d.x6,{id:"HAIPtO",components:{0:(0,a.jsx)(r.u,{fontSize:"sm",color:"blackAlpha.800"})}})}),children:(0,a.jsx)(N,{"data-testid":"card-mention",hasError:!0,mentionLabel:"Cannot find referenced card",mentionIcon:o.AEl})})})},F=e=>(0,a.jsx)(y.VR,{as:"span",children:(0,a.jsx)(b,{type:"card"})}),H=c.bP.create({name:"cardMention",addStorage:()=>({}),addOptions:()=>({HTMLAttributes:{},suggestion:{char:k.A}}),priority:j.y.CardMention,group:"inline",inline:!0,selectable:!0,atom:!0,addAttributes:()=>({id:{default:null},docId:{default:null},mentionedById:{default:null}}),addPasteRules(){return[I({filterFn:(e,t)=>e===this.editor.gammaDocId&&!!t,getAttributesFn:e=>{let{docId:t,cardId:n}=e;return{id:n,docId:t}}})(this.type)]},addCommands(){return{addCardMention:(e,t)=>{let{id:n,docId:a,mentionedById:i}=e;return e=>{var r;let{state:l,chain:o}=e,s=l.selection.$to.nodeAfter;return(null==s||null==(r=s.text)?void 0:r.startsWith(" "))&&(t.to+=1),o().focus().insertContentAt(t,[{type:this.name,attrs:{id:n,docId:a,mentionedById:i}},{type:"text",text:" "}]).run(),!0}}}},parseHTML(){return[{tag:'a[data-type="'.concat(this.name,'"]'),priority:51}]},renderHTML(e){let{HTMLAttributes:t,node:n}=e,{id:a,docId:i}=n.attrs,r=this.storage[a]||P;return["a",(0,c.KV)({"data-type":this.name,href:(0,A.Io)({docId:i,cardId:a})},this.options.HTMLAttributes,t),r]},renderText(e){let{node:t}=e,{id:n,docId:a}=t.attrs,i=this.storage[n]||P,r=(0,A.Io)({docId:a,cardId:n});return"[".concat(i,"](").concat(r,")")},addNodeView(){return this.editor.isThumbnail?(0,y.gu)(F,{update:S.z0}):(0,y.gu)(O,{update:S.z0})}});var B=n(99038);let V="docMention";var W=n(12514),U=n(77650),G=n(18833),K=n(20664),Q=n(74892),Z=n(88586),q=n(68301),J=n(88608),$=n(48932),Y=n(82927),X=n(11403);let ee=()=>U.Ru._({id:"NJnubC",values:{GAMMA_ARTIFACT_PROPER_NOUN:B.TP}}),et=(0,G.P)(m.a),en=e=>{var t,n;let{node:i,editor:r}=e,{id:o}=i.attrs,c=(0,q.u)("screenshotsEnabled"),p=(0,g.oR)(),{user:h}=(0,Y.ur)(),[m]=(0,Z.D7K)(),x=(0,X.En)(),{data:f,error:b,loading:v,subscribeToMore:w}=(0,Z.AZr)({variables:{id:o},skip:p||!o}),C=!!(!p&&h);(0,u.useEffect)(()=>{if(C)return w({document:Z.Tyz,variables:{id:o},updateQuery:(e,t)=>{let{subscriptionData:n}=t;return n.data&&n.data.doc?{doc:{...e.doc,...n.data.doc,__typename:"Doc"}}:e},onError:e=>{}})},[o,b,w,C]);let{title:j,createdTime:k,createdBy:S,editedTime:I,editors:E,docUser:R}=(null==f?void 0:f.doc)||{},{linkUrl:L,handleClick:D}=(0,$.c)({url:(0,A.LN)({docId:o,docTitle:j,absolute:!0}),nonPublishedUrl:(0,A.LN)({docId:o,docTitle:j})});(0,u.useEffect)(()=>{r.storage[V][o]=b?ee():j},[j,r.storage,o,b]);let M={src:c?null==f||null==(n=f.doc)||null==(t=n.titleCard)?void 0:t.previewUrl:Q.A.src,fallbackSrc:Q.A.src},_=e=>()=>{if(!h)return;let t={input:{docId:o,userId:h.id,favorited:e}};m({variables:t,update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(o),fragment:Z.pfv,data:{docUser:null==n?void 0:n.updateDocUser}})},optimisticResponse:{updateDocUser:{...R,favorited:t.input.favorited,__typename:"DocUser"}}})},{popperRef:T,referenceRef:P,isHovering:O,onMouseOver:F,onMouseOut:H,getPopperProps:U}=(0,X.bf)();return(0,a.jsxs)(y.VR,{as:"span",children:[v?(0,a.jsx)(z,{}):b?(0,a.jsx)(s.Tz,{label:(0,a.jsx)(d.x6,{id:"MnhVwn",values:{GAMMA_ARTIFACT_PROPER_NOUN:B.TP}}),children:(0,a.jsx)(N,{hasError:!0,mentionLabel:ee(),mentionIcon:l.DW4})}):L?(0,a.jsx)(N,{onMouseOver:p?void 0:F,onMouseOut:p?void 0:H,onClick:D,ref:P,isSimpleLinkVersion:p,mentionLabel:j||"",mentionIcon:l.vGi,mentionTargetUrl:L}):null,(0,a.jsx)(W.Z,{children:!b&&O&&f&&f.doc&&!p&&(0,a.jsx)(et,{width:"320px","data-target-name":"doc-mention-popup",border:"1px solid",borderColor:"gray.200",borderRadius:"lg",overflow:"hidden",shadow:"lg",maxW:"80vw",zIndex:"tooltip",ref:T,onMouseOver:F,onMouseOut:H,...U(),...X._w,children:(0,a.jsx)(K.Dg,{createdByYou:(null==S?void 0:S.id)===(null==h?void 0:h.id),title:j||"",timestampDescription:x?(0,a.jsx)(d.x6,{id:"yxz5Og",values:{0:(0,J.Bo)(I)}}):"---",NextLink:null,href:L,onClick:D,id:o,createdByName:(null==S?void 0:S.displayName)||"",createdByEmail:(null==S?void 0:S.email)||"",createdByProfileImageUrl:(null==S?void 0:S.profileImageUrl)||"",createdTime:k,thumbnailImageUrl:M,editors:E,isFavorited:!!(null==R?void 0:R.favorited),onFavorite:_(new Date),onUnfavorite:_(null),menuEnabled:!1,openInNewWindow:!0})})})]})},ea=e=>(0,a.jsx)(y.VR,{as:"span",children:(0,a.jsx)(b,{type:"doc"})}),ei="Unknown ".concat(B.TP),er=c.bP.create({name:V,addStorage:()=>({}),addOptions:()=>({HTMLAttributes:{},suggestion:{char:k.A}}),priority:j.y.DocMention,group:"inline",inline:!0,selectable:!0,atom:!0,addAttributes:()=>({id:{default:null},mentionedById:{default:null}}),addPasteRules(){return[I({filterFn:(e,t)=>e!==this.editor.gammaDocId||!t,getAttributesFn:e=>{let{docId:t}=e;return{id:t}}})(this.type)]},addCommands(){return{addDocMention:(e,t)=>{let{id:n,mentionedById:a}=e;return e=>{var i;let{state:r,chain:l}=e,o=r.selection.$to.nodeAfter;return(null==o||null==(i=o.text)?void 0:i.startsWith(" "))&&(t.to+=1),l().focus().insertContentAt(t,[{type:this.name,attrs:{id:n,mentionedById:a}},{type:"text",text:" "}]).run(),!0}}}},parseHTML(){return[{tag:'a[data-type="'.concat(this.name,'"]'),priority:51}]},renderHTML(e){let{HTMLAttributes:t,node:n}=e,a=this.storage[n.attrs.id]||ei;return["a",(0,c.KV)({"data-type":this.name,href:(0,A.LN)({docId:n.attrs.id,absolute:!0})},this.options.HTMLAttributes,t),a]},renderText(e){let{node:t}=e,n=this.storage[t.attrs.id]||ei,a=(0,A.LN)({docId:t.attrs.id,absolute:!0});return"[".concat(n,"](").concat(a,")")},addNodeView(){return this.editor.isThumbnail?(0,y.gu)(ea,{update:S.z0}):(0,y.gu)(en,{update:S.z0})}}),el=e=>{let{node:t}=e,{label:n}=t.attrs;return(0,a.jsx)(y.VR,{as:"span",children:(0,a.jsx)(N,{mentionLabel:"@".concat(n)})})},eo=e=>(0,a.jsx)(y.VR,{as:"span",children:(0,a.jsx)(b,{type:"user"})}),es=c.bP.create({name:"mention",addOptions:()=>({HTMLAttributes:{},renderLabel(e){var t;let{options:n,node:a}=e;return"".concat(n.suggestion.char).concat(null!=(t=a.attrs.label)?t:a.attrs.id)},suggestion:{char:k.A}}),priority:j.y.UserMention,group:"inline",inline:!0,selectable:!0,atom:!0,addAttributes:()=>({id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}},profileImageUrl:{default:null,parseHTML:e=>e.getAttribute("data-profile-image-url"),renderHTML:e=>e.profileImageUrl?{"data-profile-image-url":e.profileImageUrl}:{}},mentionedById:{default:null,parseHTML:e=>e.getAttribute("data-mentioned-by-id"),renderHTML:e=>e.mentionedById?{"data-mentioned-by-id":e.mentionedById}:{}}}),addCommands(){return{addUserMention:(e,t)=>{let{id:n,label:a,profileImageUrl:i,mentionedById:r}=e;return e=>{var l;let{state:o,chain:s}=e,d=o.selection.$to.nodeAfter;return(null==d||null==(l=d.text)?void 0:l.startsWith(" "))&&(t.to+=1),s().focus().insertContentAt(t,[{type:this.name,attrs:{id:n,label:a,profileImageUrl:i,mentionedById:r}},{type:"text",text:" "}]).run(),!0}}}},parseHTML(){return[{tag:'span[data-type="'.concat(this.name,'"]')}]},renderHTML(e){let{node:t,HTMLAttributes:n}=e;return["span",(0,c.KV)({"data-type":this.name},this.options.HTMLAttributes,n),this.options.renderLabel({options:this.options,node:t})]},renderText(e){let{node:t}=e;return this.options.renderLabel({options:this.options,node:t})},addNodeView(){return this.editor.isThumbnail?(0,y.gu)(eo,{update:S.z0}):(0,y.gu)(el,{update:S.z0})}})},89263:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var a=n(55729),i=n(92739);let r=e=>{let{interceptLinkClick:t,linkUrlSafe:n,linkInterceptEnabled:r}=(0,i.i)(e),l=(0,a.useCallback)(function(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a=>{if(e){if(!r){n||window.open(e,"_blank","noopener");return}!t(a)&&(n||window.open(e,"_blank","noopener"))}}},[e,t,r]);return(0,a.useMemo)(()=>({handleOpenNativeLinkWithInterstitial:l(!0),handleOpenLinkWithInterstitial:l(),linkUrlSafe:n}),[l,n])}},89481:(e,t,n)=>{"use strict";n.d(t,{S6:()=>E,XO:()=>L,ck:()=>R,p5:()=>I});var a=n(77650),i=n(22905),r=n(55729),l=n(81807),o=n(80116),s=n(34832),d=n(40240),c=n(83605),u=n(82592),p=n(41),h=n(13559),g=n(48993),m=n(6018),x=n(68301),f=n(58809),b=n(66380),v=n(22445),y=n(11390),w=n(15342),C=n(43634),A=n(82927),j=n(47665),k=n(3383),S=n(40094);let I=(e,t)=>({...e,...t,id:e.id}),E=e=>{let{editor:t,getPos:n,cardId:i}=e,u=(0,w.GV)(f.Jo),v=(0,w.CU)(),C=(0,w.GV)((0,g.wQ)(i)),{imageProvider:j,imageOptions:E}=(0,b.V)(),L=(0,r.useCallback)(async e=>{let n=e.instructions?e.instructions:e.operation?e.operation.instructions:"",{previous:a,inputHtml:r,operation:o}=e;if(!u||!u.organization)throw Error("Doc or organization not found");let p=(0,d.$F)(),g=performance.now(),f=(0,h.h)(t,v),b={interface:"edit-card",interactionId:p,inputContent:r,inputMessage:n,inputData:{custom:!!o,operation:null==o?void 0:o.key,operationGroup:null==o?void 0:o.group,imageProvider:j,...f},product:(0,y.A4)(u.organization),docId:u.id,cardId:i},w=(0,A.bs)(u.organization.id);try{(0,d.rl)(b);let e=(null==o?void 0:o.key)==="edit.translate",t=await (0,s.K8)({promptKey:"EditCardWithLayout",variables:{inputHtml:r,request:n,previousHtml:a,imageOptions:E,imageProvider:j,...f,model:x.of.get("editCardModel"),reasoningEffort:x.of.get("editCardReasoningEffort"),docId:u.id,basePromptKey:e?"TranslateCard":x.of.get("editCardPrompt")},interactionId:p,workspaceId:(null==w?void 0:w.id)||u.organization.id,opts:{maxRetries:0}}),i=(0,l.DB)(t),h=(0,c.dE)(i);return(0,d.Yh)({...b,outputContent:i,outputMessage:t.replace(i,"[outputContent]"),latency:performance.now()-g}),(0,m.w)("editCard",w,p),{output:h,interactionId:p}}catch(e){throw(0,d.tB)({...b,errorMessage:e.message,errorCode:e.code,errorName:e.name,errorStack:e.stack,outputMessage:"Error editing card",latency:performance.now()-g}),e}},[u,v,i,j,E,t]),D=(0,r.useCallback)(async e=>{let{instructions:r,operation:l}=e,s=n(),d=t.view.state.doc.nodeAt(s);if(!d)return void console.error("[AICard] Cannot append card. Node unknown");try{var c,u;v.dispatch((0,g.Ic)({cardId:i,suggestions:{status:"loading",loadingMessage:null==l||null==(c=l.loadingMessage)?void 0:c.call(l),variants:[]}}));let e=(0,k.ze)(t,s),n=(0,o.KC)(t,d),{output:p,interactionId:h}=await L({instructions:r,operation:l,inputHtml:n,previous:e});p.attrs=I(d.attrs,p.attrs),R(t,i,p,h),v.dispatch((0,g.Ic)({cardId:i,suggestions:{status:"done",interactionId:h,selected:"v1",operation:l,instructions:r,variants:[{label:a.Ru._({id:"HxF6Fk"}),isOriginal:!0,id:"original",card:d.toJSON()},{label:(null==l||null==(u=l.variationName)?void 0:u.call(l))||a.Ru._({id:"YledUl"}),isOriginal:!1,id:"v1",card:p}]}}))}catch(e){console.error("[EditCard] Error regenerating card",e),v.dispatch((0,g.Ic)({cardId:i,suggestions:{status:"error",variants:[]}}))}},[L,t,n,v,i]);return(0,r.useEffect)(()=>p.R.on("translate",e=>{let{type:t,cardId:n,language:a}=e,r=S.Jz.find(e=>"edit.translate"===e.key);"card"===t&&n===i&&r&&D({instructions:"".concat(a.englishName," (").concat(a.key,")"),operation:r})}),[i,D]),{editCard:D,status:C}},R=(e,t,n,a)=>{let r=(0,i.xe)(e.state.doc,e=>(0,j.jg)(e)&&e.attrs.id===t)[0];if(!r)return void console.warn("[useGenerateCard] Card not found. It may have been deleted while generating.");e.chain().setMeta("isEditCardVariant",!0).setMeta("cardNotesHandled",!0).insertContentAt({from:r.pos,to:r.pos+r.node.nodeSize},n).selectInsideCardBody(r.pos).run();let l=(0,C.SJ)((0,w.KA)().getState());(0,u.Sg)({editor:e,content:n,theme:l,interactionId:a})},L=e=>{let{cardId:t}=e,{isOpen:n,onClose:a,onOpen:i}=(0,v.E)({id:"TranslateCardDisclosure"}),l=(0,r.useCallback)(e=>{p.R.emit("translate",{type:"card",cardId:t,language:e}),a()},[t,a]);return{isTranslateCardOpen:n,onTranslateCardOpen:i,onTranslateCardClose:a,startTranslation:l}}},89528:(e,t,n)=>{"use strict";n.d(t,{Ch:()=>d,sR:()=>s,zL:()=>o});var a=n(6029),i=n(74676),r=n(11390),l=n(86992);let o=e=>{let{product:t="pro",...n}=e;return(0,a.jsx)(i.E,{fontSize:"xxs",bottom:0,insetEnd:0,variant:t,...n,children:(0,l.Ok)()[t].name})},s=e=>{let{workspace:t,...n}=e,i=(0,r.A4)(t);return(0,a.jsx)(o,{...n,product:null!=i?i:"free"})},d=e=>{let{canUseFeature:t,productFeature:n,...i}=e,l=(0,r.gD)(n);return t||null===l?null:(0,a.jsx)(o,{product:l,...i})}},89584:(e,t,n)=>{"use strict";n.d(t,{s:()=>x});var a=n(6029),i=n(40452),r=n(26420),l=n(16936),o=n(99492),s=n(48621),d=n(91106),c=n(19564),u=n(77650),p=n(97139),h=n.n(p),g=n(55729),m=n(56288);let x=e=>{let{targetHtml:t,onTargetClick:n,isSourceContentAvailable:p,instanceType:x}=e,[f,b]=(0,g.useState)(!1),[v,y]=(0,g.useState)(!1),w=(0,g.useRef)(null),C=(0,m.EC)(),A=f?o.AeV:o.DqM,j=f?u.Ru._({id:"vLyv1R"}):u.Ru._({id:"fMPkxb"});return(0,g.useEffect)(()=>{var e;w.current&&y(!(!f&&w.current.scrollHeight<=(null==(e=w.current)?void 0:e.clientHeight)))},[f]),(0,a.jsxs)(i.s,{className:"block-target-html",ps:3,mb:2,borderInlineStartWidth:"4px",borderInlineStartStyle:"solid",borderInlineStartColor:"yellow.200",direction:"row",alignItems:"flex-end",cursor:p&&"feed"===x?"pointer":"auto",onClick:n,children:[(0,a.jsx)(d.Tz,{label:(0,a.jsx)(c.x6,{id:"/oHV5h"}),isDisabled:!("feed"===x&&!p),portalProps:{containerRef:C},children:(0,a.jsx)(r.a,{flex:1,ms:-3,ps:3,w:"100%",fontSize:"sm",noOfLines:f?void 0:3,dangerouslySetInnerHTML:{__html:t?h().sanitize(t):""},ref:w,_hover:{bgColor:"feed"===x?p?"yellow.100":"gray.50":void 0}})}),v&&(0,a.jsx)(d.Tz,{label:j,portalProps:{containerRef:C},children:(0,a.jsx)(l.K,{variant:"ghost",size:"xs","aria-label":j,icon:(0,a.jsx)(s.g,{icon:A}),onClick:()=>{b(e=>!e)},"data-target-name":"comment-target-expand-button",isRound:!0})})]})}},89603:(e,t,n)=>{"use strict";n.d(t,{N3:()=>c,Wj:()=>d,bk:()=>u,pN:()=>p,uI:()=>h});var a=n(12364),i=n.n(a),r=n(58495),l=n(63867),o=n(15342),s=n(43634);let d=(e,t)=>{let n=(0,o.KA)();n.dispatch((0,s.U)(t?{noteId:e}:{noteId:null}));let a=n.getState();!t&&(0,s.rp)(a)&&n.dispatch((0,s.Zf)({isEditingMedia:!1})),!t&&(0,s.dK)(a)&&n.dispatch((0,s.a)({nodeId:null}))},c=i()(d,30),u=()=>{let e=(0,o.KA)().getState();return(0,s.DH)(e)},p=()=>(0,r.Ak)(5),h=e=>e instanceof l.nh&&"footnote"===e.node.type.name},89703:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,f:()=>s});var a=n(55729),i=n(15342),r=n(43634),l=n(15350);let o=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,i.KA)();if(!t)return void console.error("[MediaDrawer].openMediaDrawer: can't open because getStore() returned ".concat(t));e&&t.dispatch((0,l.Hy)()),t.dispatch((0,r.Zf)({isEditingMedia:!0}))},s=()=>{let e=(0,i.CU)();return(0,a.useCallback)(t=>{let{isOpen:n,shouldResetSourceKey:a=!0}=t;a&&e.dispatch((0,l.Hy)()),e.dispatch((0,r.Zf)({isEditingMedia:n}))},[e])}},90026:(e,t,n)=>{"use strict";n.d(t,{H:()=>i});let a="var(--list-marker-text-color, var(--body-color))",i={default:{"span.textColor":{color:"var(--text-color, var(--body-color))"},".block-numbered":{"li::before":{color:a}},".block-bullet":{"li::marker":{color:a}}}}},90047:(e,t,n)=>{"use strict";n.d(t,{a:()=>u,e:()=>c});var a=n(40240),i=n(68301),r=n(28630),l=n(40782),o=n(59230),s=n(8327),d=n(98088);let c=e=>{let{query:t,provider:n,license:a,model:i,stylePreset:r,stylePrompt:o,artStylePreset:s,artStylePrompt:c,visualsMenuEnabled:u}=e;return t?("aiGenerated"!==n&&(t=t.split(", ")[0]),{loadImageParams:{provider:n,query:t,options:"aiGenerated"===n?{model:i,stylePreset:r,stylePrompt:o,artStylePreset:s,artStylePrompt:c,visualsMenuEnabled:u}:{license:a}},loadImageStatus:"queued",loadImageId:(0,d.z)(),source:l.j[n]}):{loadImageStatus:"error"}},u=async e=>{let{loadImageId:t,loadImageParams:n,context:i,imageStore:d}=e,{query:c,options:u,provider:h}=n,{interactionId:g,...m}=i;try{if("aiGenerated"===h){let e={...u,interactionId:g||(0,a.$F)(),steps:30,...m,prompt:c,count:1},t=await (0,r.hU)(e);if(!t[0])return{loadImageStatus:"error"};return{...t[0].attrs,tempUrl:null,loadImageStatus:"done",uploadStatus:o.A.Queued}}{let e="icon"===h?p():h,a=await d.findImage({query:c,provider:e,options:n.options,loadImageId:t});if(!a)return{query:c,source:l.j[h],loadImageStatus:"error"};return{...(0,s.TF)(a,c,e),loadImageStatus:"done",uploadStatus:o.A.Queued}}}catch(e){return console.error("[AIStream] An error occurred while fetching image: ".concat(e.message),e.stack),{loadImageStatus:"error"}}},p=()=>i.of.get("aiIconProvider")},90184:(e,t,n)=>{"use strict";n.d(t,{G:()=>g});var a=n(6029),i=n(74676),r=n(58959),l=n(48810),o=n(99492),s=n(48621),d=n(91106),c=n(19564),u=n(68301),p=n(89942),h=n(779);let g=e=>{var t;let{type:n,...g}=e,m=(0,u.u)("aiDebits");if((0,p.ez)("unlimited_credits"))return null;let x=null!=(t=m[n])?t:h.rA[n];return(0,a.jsx)(d.Tz,{label:(0,a.jsx)(c.x6,{id:"B7jvsP",values:{numCredits:x}}),children:(0,a.jsx)(i.E,{colorScheme:"whiteAlpha",bg:"whiteAlpha.300",textTransform:"none",textShadow:"none",fontSize:"xxs",ml:2,...g,children:(0,a.jsxs)(r.z,{spacing:1,children:[(0,a.jsx)(l.E,{children:x}),(0,a.jsx)(s.g,{icon:o.wq_,size:"sm"})]})})})}},90221:(e,t,n)=>{"use strict";n.d(t,{J:()=>x,m:()=>f});var a=n(6029),i=n(80314),r=n(831),l=n.n(r),o=n(55729),s=n(63902),d=n(83004),c=n(91938);let u=e=>{let{files:t}=e;return(0,a.jsx)(a.Fragment,{children:t.map(e=>(0,a.jsx)("link",{rel:"preload",href:e,as:"font",crossOrigin:""},e))})},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('".concat(e,"/fonts/EudoxusSans-Bold.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-Bold.woff') format('woff');\n  font-weight: bold;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-Regular.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-Regular.woff') format('woff');\n  font-weight: normal;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-Light.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-Light.woff') format('woff');\n  font-weight: 300;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-ExtraBold.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-ExtraBold.woff') format('woff');\n  font-weight: 800;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-ExtraLight.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-ExtraLight.woff') format('woff');\n  font-weight: 200;\n  font-style: normal;\n  font-display: block;\n}\n@font-face {\n  font-family: 'Eudoxus Sans';\n  src: url('").concat(e,"/fonts/EudoxusSans-Medium.woff2') format('woff2'),\n    url('").concat(e,"/fonts/EudoxusSans-Medium.woff') format('woff');\n  font-weight: 500;\n  font-style: normal;\n  font-display: block;\n}\n")},h=["/fonts/EudoxusSans-Bold.woff","/fonts/EudoxusSans-Bold.woff2","/fonts/EudoxusSans-Regular.woff","/fonts/EudoxusSans-Regular.woff2","/fonts/EudoxusSans-Light.woff","/fonts/EudoxusSans-Light.woff2","/fonts/EudoxusSans-ExtraBold.woff","/fonts/EudoxusSans-ExtraBold.woff2","/fonts/EudoxusSans-ExtraLight.woff","/fonts/EudoxusSans-ExtraLight.woff2","/fonts/EudoxusSans-Medium.woff","/fonts/EudoxusSans-Medium.woff2"],g=h.map(e=>"".concat(c.$.FRONTEND_URL).concat(e)),m=e=>{let{shouldUsePublishedVersion:t}=e,n=p(t?c.$.FRONTEND_URL:"");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.mL,{styles:n}),(0,a.jsx)(u,{files:t?g:h})]})},x=e=>{let{fonts:t}=e,n=(0,s.oR)(),r=null==t?void 0:t.find(e=>"Eudoxus Sans"===e.id),d=(0,o.useMemo)(()=>l()((null==t?void 0:t.filter(e=>e.url))||[],"url"),[t]);return(0,a.jsxs)(a.Fragment,{children:[r?(0,a.jsx)(m,{shouldUsePublishedVersion:n}):null,d.map(e=>(0,a.jsx)(i.N,{as:"link",href:e.url,rel:"stylesheet","data-gamma-font":e.id},e.url))]})},f=e=>{let{theme:t}=e;return(0,a.jsx)(x,{fonts:null==t?void 0:t.fonts})}},90278:(e,t,n)=>{"use strict";n.d(t,{$o:()=>h,TS:()=>b,aG:()=>p,eL:()=>f,fc:()=>x,oO:()=>m,tN:()=>v});var a=n(22905),i=n(63867),r=n(15607),l=n(23460),o=n(60908),s=n(28700),d=n(36145),c=n(55424),u=n(23144);let p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ltr",n=(0,u.BJ)(e.variantKey),a={};return n.options.forEach(n=>{var i;let{key:r,defaultValue:l}=n;a[r]=null!=(i=e.options[r])?i:null==l?void 0:l({dir:t})}),a},h=e=>{var t;let n=(0,u.BJ)(e.variantKey),a=p(e);return(null==(t=n.addDirection)?void 0:t.call(n,a))||"right"},g=(e,t)=>t.nodes.smartLayout.validContent(e.content),m=e=>{let t=(0,d.p$)(e).filter(e=>(0,o.u3)(e.type));return 1===t.length&&t[0]},x=(e,t,n)=>{let a=e.posAtCoords({left:t.clientX,top:t.clientY});if(!a)return null;let i=e.state.doc.resolve(a.inside),o=(0,r.IV)(i,c.q)[0],d=(0,r.IV)(i,c.M)[0],u=n&&(0,s.H)(n),p=m(t);if(!o&&!d||u&&"image"!==u.type.name||!p)return null;let h=(0,l.xX)(t.target,e.dom,e=>e.hasAttribute("data-smart-layout-image-drop-target"));if(h){let e=h.getBoundingClientRect();return{pos:a.inside,node:u,rect:e,image:{src:null==u?void 0:u.attrs.src,source:null==u?void 0:u.attrs.source,query:null==u?void 0:u.attrs.query,name:null==u?void 0:u.attrs.name,uploadStatus:null==u?void 0:u.attrs.uploadStatus}}}return null},f=(e,t,n)=>{let i;if(!n||!g(n,e.state.schema))return null;let r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r||-1==r.inside)return null;let{doc:l}=e.state,o=l.nodeAt(r.pos),s=l.nodeAt(r.inside);if(s&&(0,c.q)(s))i={node:s,pos:r.inside};else if(o&&(0,c.q)(o))i={node:o,pos:r.pos};else{let e=l.resolve(r.inside);i=(0,a.eL)(e,c.q)}let d=i&&e.nodeDOM(i.pos),u=null==d?void 0:d.querySelector("[data-content-reference]"),p=null==u?void 0:u.getBoundingClientRect();if(!i||!p)return null;let m=l.resolve(i.pos).parent;if(!m||!(0,c.M)(m))return null;let x="right"===h(m.attrs)?t.clientX>p.left+p.width/2?"right":"left":t.clientY>p.top+p.height/2?"bottom":"top";return{pos:i.pos,node:i.node,rect:p,side:x}},b=(e,t,n)=>{var r;if(!n)return null;let l=n.content.toJSON(),o=null==l?void 0:l[0];if(e.state.selection instanceof i.nh&&"smartLayout"===e.state.selection.node.type.name||!o||(null==o?void 0:o.type)!=="smartLayout")return null;let s=null==(r=o.attrs)?void 0:r.variantKey,d=e.posAtCoords({left:t.clientX,top:t.clientY});if(!d||-1==d.inside)return null;let{doc:u}=e.state,p=u.resolve(d.inside),h=(0,a.eL)(p,c.M);if(!h)return null;let g=e.nodeDOM(h.pos),m=null==g?void 0:g.getBoundingClientRect();return m?{pos:h.pos,node:h.node,variantKey:s,rect:m}:null},v=(e,t)=>{let n=(0,a.eL)(t,c.M);n&&e.commands.selectNodeAtPos(n.pos)}},91176:(e,t,n)=>{"use strict";n.d(t,{V:()=>l});var a=n(6029),i=n(55729),r=n(4097);let l=i.forwardRef((e,t)=>{let{onDragStart:n}=(0,r.c)(),i=e.as||"div";return(0,a.jsx)(i,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})})},91242:(e,t,n)=>{"use strict";n.d(t,{s:()=>function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{doc:l}=t,o=n<0;if(!t.nodeAfter)return null;if(t.nodeAfter.inlineContent)return i.LN.near(l.resolve(t.pos+(o?t.nodeAfter.content.size+1:0)),n);let s=(0,a.xe)(t.nodeAfter,e=>e.inlineContent||!r&&i.nh.isSelectable(e));if(!s||0===s.length)return i.nh.create(l,t.pos);let d=t.start(t.depth+1)+(o?s[s.length-1].pos:s[0].pos);return e(l.resolve(d),n)},t:()=>l});var a=n(22905),i=n(63867),r=n(62040);let l=(e,t)=>{var n;let a,i=e.doc,l=e.steps.length-1,o=e.steps[l];if(!o||!(o instanceof r.Ln||o instanceof r.Wg)||0===o.slice.content.size)return null;let s=t||(null==(n=o.slice.content.child(o.slice.openStart))?void 0:n.type.name);if(e.mapping.maps[l].forEach((e,t,n)=>{null==a&&(a=n)}),null==a)return null;let d=i.nodeAt(a);if(d&&d.type.name===s)return i.resolve(a);if(!s)return console.warn("[getInsertedNodePos] Error selecting node, type not found in slice.lastChild",a),null;for(let t=o.from;t<e.mapping.map(o.to);t++){let n=e.doc.nodeAt(t);if(n&&n.type.name===s)return i.resolve(t)}return null}},91405:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l,_:()=>o});var a=n(46887),i=n(65148),r=n(82297);let l=e=>{a.A.set(i.E.gammaLocale,e,{expires:365})},o=()=>{let e=a.A.get(i.E.gammaLocale);if((0,r.Rh)(e))return e}},91792:(e,t,n)=>{"use strict";n.d(t,{II:()=>j,Kt:()=>k,Lb:()=>I,PJ:()=>M,SZ:()=>_,_k:()=>D,iW:()=>E,n_:()=>L,rd:()=>S});var a=n(6029),i=n(74771),r=n(46898),l=n(26420),o=n(80314),s=n(35605),d=n(19564),c=n(77650),u=n(55729),p=n(91938),h=n(88586),g=n(68301),m=n(51567),x=n(15342),f=n(99552),b=n(95695),v=n(62452),y=n(43634),w=n(42721),C=n(92699),A=n(72386);let j=()=>{let{currentWorkspace:e}=(0,w.ur)(),{data:t}=(0,h.vZz)(),{data:n}=(0,h.Ztt)({variables:{workspaceId:null==e?void 0:e.id,sortBy:{field:h.MxB.Name,direction:h.UEL.Asc}},skip:!(null==e?void 0:e.id)}),[a,i,r,l,o,s]=(0,u.useMemo)(()=>{let e=(null==t?void 0:t.fonts)||[],a=(null==n?void 0:n.fonts)||[],i=[...e,...a],r=i.reduce((e,t)=>(e[t.id]=t,e),{}),l=i.map(e=>({id:e.id,name:e.name,url:e.cssUrl})),o=l.reduce((e,t)=>(e[t.id]=t,e),{}),s=e.reduce((e,t)=>(e[t.id]=t,e),{});return[e,a,r,l,o,s]},[null==t?void 0:t.fonts,null==n?void 0:n.fonts]);return{globalFonts:a,workspaceFonts:i,fontsMap:r,allThemeFonts:l,themeFontsMap:o,globalFontsMap:s}},k=e=>{let{docId:t,editor:n}=e,[a]=(0,h.LTv)();return{updateDocThemeWithAccentImages:(0,u.useCallback)(async e=>{if(t)return a({variables:{id:t,themeId:e}}).then(e=>{let{data:t}=e;if(n){var a,i;n.commands.updateThemeAccentImages(null==t||null==(i=t.updateDoc)||null==(a=i.theme)?void 0:a.config.accentBackgrounds)}})},[t,n,a])}},S=()=>{let e=(0,x.GV)(y.SJ),t=(0,x.GV)(f.JN);return t?(0,v.Mw)(t):!!e&&(0,v.Mw)(e)},I=e=>{let{data:t}=(0,h.vM)({variables:{id:e},skip:!e,fetchPolicy:"cache-first"});return(null==t?void 0:t.theme)||(0,A.N)()},E=e=>{let{theme:t}=e,n=(0,r.d)(),[a]=(0,h.$KX)(),i=t.name.replace(b.M8,"");return(0,u.useCallback)(()=>{t&&t.id&&(n.close("archive-theme-toast"),a({variables:{id:t.id},update:(e,n)=>{let{data:a}=n;(null==a?void 0:a.unarchiveTheme)&&e.writeQuery({query:h.a83,variables:{workspaceId:t.workspaceId,archived:!1},data:{themes:[a.unarchiveTheme]}})},optimisticResponse:{unarchiveTheme:{__typename:"Theme",...t,archived:!1,updatedTime:new Date().toISOString()}},refetchQueries:["GetThemes"]}).then(()=>{n({id:"unarchive-theme-toast",title:c.Ru._({id:"QFw1At",values:{displayName:i}}),status:"success",duration:3e3,position:"top",isClosable:!0})}).catch(e=>{console.error("Couldn't restore theme ".concat(i," error: ").concat(e))}))},[a,t,n,i])},R=e=>{let{showLinkToDashboard:t,unarchiveTheme:n}=e;return t?(0,a.jsx)(l.a,{children:(0,a.jsx)(d.x6,{id:"1jSYVL",components:{0:(0,a.jsx)(o.N,{textDecoration:"underline",isExternal:!0,href:b.fr}),1:(0,a.jsx)(i.p,{mx:"2px"}),2:(0,a.jsx)(o.N,{textDecoration:"underline",as:o.N,variant:"link",onClick:n})}})}):(0,a.jsx)(l.a,{children:(0,a.jsx)(d.x6,{id:"HFliJ0",components:{0:(0,a.jsx)(o.N,{textDecoration:"underline",as:o.N,variant:"link",onClick:n})}})})},L=e=>{let{theme:t,showLinkToDashboard:n=!1}=e,i=(0,r.d)(),[l]=(0,h.UFu)(),o=E({theme:t}),s=t.name.replace(b.M8,"");return(0,u.useCallback)(()=>{t&&t.id&&l({variables:{id:t.id},update:(e,n)=>{let{data:a}=n;(null==a?void 0:a.archiveTheme)&&e.writeQuery({query:h.a83,variables:{workspaceId:t.workspaceId,archived:!1},data:{themes:[a.archiveTheme]}})},optimisticResponse:{archiveTheme:{__typename:"Theme",...t,archived:!0,updatedTime:new Date().toISOString()}},refetchQueries:["GetThemes"]}).then(()=>{i({id:"archive-theme-toast",title:c.Ru._({id:"hY8SRr",values:{0:t.name}}),description:(0,a.jsx)(R,{showLinkToDashboard:n,unarchiveTheme:o}),status:"success",duration:3e3,position:"top",isClosable:!0})}).catch(e=>{console.error("Couldn't archive theme ".concat(s," error: ").concat(e))})},[t,l,i,n,o,s])},D=e=>{let{isGammaOrgUser:t}=(0,w.ur)(),n=null!==e.workspaceId&&t&&"production"!==p.$.APPLICATION_ENVIRONMENT&&!e.archived,[a]=(0,h.$hA)(),i=(0,u.useCallback)(()=>{if(!n)return;let t=prompt("Enter new theme ID",(0,s.Fw)(e.name));t&&a({variables:{id:e.id,newId:t},refetchQueries:["GetThemes"]})},[e,a,n]);return{canMakeStandard:n,convertToStandard:i}},M=(e,t)=>{let{isGammaOrgUser:n}=(0,w.ur)(),a=(0,g.u)("uploadThemeImagesToProd");return n&&a&&"themeBackground"===t?{orgId:"theme_images/standard",templateId:p.$.TRANSLOADIT_THEME_IMAGE_TEMPLATE_ID,useStandardThemeBucket:!0}:{orgId:e,templateId:void 0,useStandardThemeBucket:!1}},_=e=>{let[t]=(0,h.D7s)();(0,u.useEffect)(()=>{e&&(async()=>{let{data:n,error:a}=await t({variables:{id:e}});(null==n?void 0:n.theme)?(0,C.L6)({theme:n.theme}):a&&(0,m.R)({queryKeys:["themeId"]})})()},[t,e])}},92053:(e,t,n)=>{"use strict";n.d(t,{i:()=>l,t:()=>o});var a=n(79555),i=n(88586),r=n(30481);let l=new a.F({systemPromptOperation:i.mc.ChangeContentLayoutSystem,userPromptOperation:i.mc.ChangeContentLayoutUser,variables:["html","message"],params:{temperature:.7,maxTokens:1e3}}),o=new r.dV({key:"CHANGE_LAYOUT",description:"Change the display of information to use a different layout (like timeline, bullets, boxes, columns, table) or rearrange elements within a layout",classifyExamples:["turn this into a table","make each bullet into a box","could you split this into columns?","make this a timeline","could you make this more visual?","visualize this as a timeline"],classifyReply:"Sure, I'll start reformatting this as a table...",getTaskTarget:e=>"selectionRange"!==e.selectedDefaultRange?e.defaultRange:0===e.selectionRange.html.trim().length?e.cardContent:e.blockRange,prompt:l})},92137:(e,t,n)=>{"use strict";n.d(t,{n:()=>e2});var a=n(6029),i=n(24302),r=n(40452),l=n(58959),o=n(57405),s=n(77364),d=n(19564),c=n(55729),u=n(33633),p=n(647),h=n(95563),g=n(15342),m=n(35946),x=n(26420),f=n(26385),b=n(48810),v=n(91938),y=n(40240),w=n(26814),C=n(6018),A=n(66380),j=n(95889),k=n(43634),S=n(82927),I=n(11403),E=n(84130),R=n(31113),L=n(3276),D=n(77650),M=n(83743),_=n(53996),T=n(55597),N=n(48621),z=n(76083),P=n(60908);let O=e=>{let{src:t,...n}=e;return(0,a.jsx)(P.Me,{src:t,borderRadius:"md",h:"6em",resizeParams:P.p7,...n})};var F=n(12417),H=n(80180);let B=[{key:"low-quality",label:(0,a.jsx)(d.x6,{id:"9cm/hp"})},{key:"too-different",label:(0,a.jsx)(d.x6,{id:"/wLn3u"})},{key:"too-similar",label:(0,a.jsx)(d.x6,{id:"Np7sCV"})},{key:"instructions",label:(0,a.jsx)(d.x6,{id:"Tq32Jp"})},{key:"other",label:(0,a.jsx)(d.x6,{id:"/IX/7x"})}],V="ImageChat",W=e=>{var t;let{messageId:n,imageUrl:i,toolInvocation:r,chatId:l}=e,[o,s]=(0,c.useState)(void 0),d=null==(t=r.result.images.find(e=>e.attrs.src===i))?void 0:t.attrs,u=(0,c.useCallback)((e,t,a)=>{(0,y.bO)({rating:e,agentType:V,feedback:t,tags:a,imageUrl:i,toolInvocation:r,image:d,chatId:l,messageId:n,interactionId:n})},[n,i,r,d,l]),p=(0,c.useCallback)(e=>{s(e),(0,y.V2)({messageId:n,rating:e,agentType:V,imageUrl:i,toolInvocation:r,image:d,chatId:l,interactionId:n})},[n,i,r,d,l]);return d?(0,a.jsx)(x.a,{position:"relative",alignSelf:"flex-end",opacity:0,_groupHover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal",onClick:H.dG,children:(0,a.jsx)(F.f3,{trackFeedback:u,rating:o,setRating:p,RatingButtons:F.Ep,feedbackTags:B,size:"xs"})}):null};var U=n(55084);let G=(0,c.memo)(e=>{let{image:t,toolInvocation:n,onClick:i,ratingsEnabled:r,messageId:l,chatId:o,editor:s}=e,d=(0,g.GV)((0,U.X)({toolCallId:n.toolCallId,src:t.attrs.src})),c=t.attrs.src;return c?(0,a.jsxs)(x.a,{position:"relative",cursor:"pointer",onClick:i,h:"fit-content",role:"group",children:[(0,a.jsx)(O,{src:c,alt:t.attrs.query,filter:d?"brightness(0.8)":void 0,transitionProperty:"all",transitionDuration:"normal",_hover:{filter:"brightness(0.8)"},w:"100%",h:"auto",objectFit:"cover",onDragStart:()=>{s&&(0,z.fS)(s,{type:"image",attrs:t.attrs})}}),d&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.a,{position:"absolute",inset:"0",borderWidth:2,borderColor:"blue.500",borderRadius:"md",pointerEvents:"none"}),(0,a.jsx)(_.o,{position:"absolute",inset:"0",pointerEvents:"none",children:(0,a.jsx)(x.a,{borderRadius:"full",p:1,color:"white",children:(0,a.jsx)(N.g,{icon:T.e68})})})]}),r&&"success"===n.result.status&&(0,a.jsx)(x.a,{position:"absolute",bottom:1,insetEnd:1,children:(0,a.jsx)(W,{chatId:o,messageId:l,imageUrl:c,toolInvocation:n})})]}):null});G.displayName="ChatToolResultImage";let K=e=>{var t;let{onSelectImage:n,toolInvocation:i,ratingsEnabled:r,messageId:l,chatId:o,editor:s}=e;return"aborted"===i.result.status?null:"error"===i.result.status?(0,a.jsx)(x.a,{bg:"red.100",p:2,mt:2,borderRadius:"md",position:"relative",children:(0,a.jsx)(b.E,{fontSize:"xs",color:"red.600",fontWeight:"semibold",children:i.result.error})}):(0,a.jsx)(x.a,{mt:1,children:(0,a.jsx)(M.r,{columns:3,spacing:2,children:null==(t=i.result.images)?void 0:t.map(e=>(0,a.jsx)(G,{image:e,toolInvocation:i,onClick:()=>{n({toolCallId:i.toolCallId,image:e})},ratingsEnabled:r,messageId:l,chatId:o,editor:s},e.attrs.src))})})},Q={generateImage:{present:()=>D.Ru._({id:"0YTg9V"}),past:()=>D.Ru._({id:"kuh/JT"})},editContent:{present:()=>D.Ru._({id:"lst4sw"}),past:()=>D.Ru._({id:"V3CaX7"})},removeBackground:{present:()=>D.Ru._({id:"RdqLb7"}),past:()=>D.Ru._({id:"gmS8TU"})},searchImage:{present:()=>D.Ru._({id:"r/Co7N"}),past:()=>D.Ru._({id:"AhoeWI"})},vectorize:{present:()=>D.Ru._({id:"Q55bBQ"}),past:()=>D.Ru._({id:"c1cnyM"})},upscale:{present:()=>D.Ru._({id:"5oQX1R"}),past:()=>D.Ru._({id:"nstbgt"})},animate:{present:()=>D.Ru._({id:"ixpQjd"}),past:()=>D.Ru._({id:"gtfeTa"})}},Z=(0,c.memo)(e=>{let{toolInvocation:t,onSelectImage:n,ratingsEnabled:i,chatId:r,editor:o}=e,s="result"!==t.state;return(0,a.jsxs)(x.a,{children:[(0,a.jsx)(l.z,{justify:"space-between",align:"center",children:(0,a.jsxs)(l.z,{children:[s&&(0,a.jsx)(L.y,{size:"xs"}),(0,a.jsx)(b.E,{fontSize:"xs",color:"gray.600",fontWeight:"semibold",children:s&&"".concat(q(t.toolName,s),"...")})]})}),"result"===t.state&&(0,a.jsx)(K,{toolInvocation:t,onSelectImage:n,messageId:t.result.messageId,ratingsEnabled:i,chatId:r,editor:o})]})});Z.displayName="ImageChatToolCall";let q=(e,t)=>{let n=Q[e]||Q.editContent;return t?n.present():n.past()},J=e=>{var t;let{message:n,onSelectImage:i,chatId:r,editor:l}=e;return(0,a.jsx)(o.T,{...R.i,alignSelf:"flex-start",width:"100%",position:"relative",align:"start",children:null==(t=n.parts)?void 0:t.map((e,t)=>"text"===e.type?(0,a.jsx)(b.E,{children:e.text},t):"tool-invocation"===e.type?(0,a.jsx)(Z,{toolInvocation:e.toolInvocation,onSelectImage:i,ratingsEnabled:!0,chatId:r,editor:l},t):'Unknown part type "'.concat(e.type,'"'))})};var $=n(33787),Y=n(23293),X=n(12258);let ee=(0,c.memo)(()=>(0,a.jsx)(r.s,{direction:"column",height:"100%",justifyContent:"flex-end",children:(0,a.jsxs)(f.B,{spacing:6,alignItems:"center",p:4,borderRadius:"lg",textAlign:"center",children:[(0,a.jsx)($._,{src:X.A.src,alt:"Empty state",maxW:"200px"}),(0,a.jsxs)(f.B,{spacing:1,children:[(0,a.jsx)(Y.D,{size:"sm",fontWeight:"semibold",children:D.Ru._({id:"vscZYY"})}),(0,a.jsx)(b.E,{color:"gray.600",fontSize:"sm",children:D.Ru._({id:"VxbH2f"})})]})]})}));ee.displayName="ImageChatEmptyState";var et=n(17496),en=n(49611),ea=n(29810),ei=n(41781),er=n(99492),el=n(19783),eo=n(89942),es=n(16936),ed=n(91106),ec=n(57963),eu=n(90184),ep=n(39892);let eh=(0,c.memo)(e=>{let{placeholder:t,isLoading:n,handleSubmit:i,handleStop:s,autoFocus:u,status:p}=e,[h,g]=(0,c.useState)(""),m=(0,c.useCallback)(e=>{g(e.target.value)},[g]),x=(0,c.useRef)(null),f=(0,c.useRef)(null),v=(0,ep.ez)("unlimited_credits");return(0,c.useEffect)(()=>{let e=E.W.on("prefillMessage",e=>{var t;let{message:n}=e;g(n),null==(t=f.current)||t.focus()});return()=>{e()}},[]),(0,c.useEffect)(()=>{if(u){var e;null==(e=f.current)||e.focus()}},[u]),(0,a.jsxs)(r.s,{w:"100%",as:"form",onSubmit:e=>{console.log("[buddy] enter submit status=",p),e.preventDefault(),("ready"===p||"error"===p)&&(i(h),g(""))},ref:x,position:"relative",border:"1px solid",borderRadius:"md",borderColor:"gray.200",pt:1,outline:"1px solid",outlineColor:"transparent",transitionProperty:"all",transitionDuration:"normal",ps:4,pb:1,bg:"white",_focusWithin:{borderColor:"trueblue.500",shadow:"outline"},children:[(0,a.jsx)(ec._,{id:"edit-textarea",name:"prompt-input",variant:"unstyled",value:h,onChange:m,ref:f,placeholder:t,onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey){var t;e.preventDefault(),null==(t=e.currentTarget.form)||t.requestSubmit()}},border:"none",outline:"none",shadow:"none",initialHeight:"36px",resizeOnMount:!1,maxHeight:"33vh",overflowY:"auto",pe:16}),(0,a.jsxs)(l.z,{position:"absolute",bottom:"1.5",insetEnd:"2",zIndex:10,spacing:2,children:[(0,a.jsx)(L.y,{boxSize:8,position:"absolute",zIndex:10,pointerEvents:"none",color:"deepocean.950",opacity:+!!n,transitionProperty:"common",transitionDuration:"normal"}),(0,a.jsx)(ed.Tz,{placement:"top",label:n?(0,a.jsx)(o.T,{spacing:0,children:(0,a.jsx)(d.x6,{id:"ygCKqB"})}):(0,a.jsxs)(o.T,{spacing:0,children:[(0,a.jsx)(d.x6,{id:"4k2VbT"}),!v&&(0,a.jsx)(b.E,{color:"gray.400",children:(0,a.jsx)(eu.G,{type:"imageChat",ms:0})}),(0,a.jsx)(ed.iM,{shortcut:"Enter"})]}),children:(0,a.jsx)(es.K,{size:"sm",icon:n?(0,a.jsx)(N.g,{icon:T.APi}):(0,a.jsx)(N.g,{icon:T.fmP}),isDisabled:!h&&!n,"aria-label":D.Ru._({id:"hQRttt"}),onClick:e=>{if(n){console.log("jordan handling stop"),e.stopPropagation(),s();return}i(h),g("")}})})]})]})});eh.displayName="ImageChatInput";var eg=n(65273),em=n(34832),ex=n(9118),ef=n(30286),eb=n(44798),ev=n(43607),ey=n(15607),ew=n(33201);let eC=e=>{let[t,n]=(0,c.useState)([]),a=(0,c.useRef)({}),[i,r]=(0,c.useState)("ready"),{generate:l}=(0,em.pt)("SuggestImageGenerates",{onStart(){r("generating"),n([])},onContent(e){n(eA(e))},onComplete(e){n(eA(e)),r("done")},onError(e){console.error("Error generating suggestions",e),r("error")},timeout:2e4}),o=(0,g.GV)(ef.H6),s=(0,ex.xt)(o),d=(0,eb.Sx)(e),u=(0,ev.lC)(e,!0),p=(0,c.useCallback)(e=>{let t=d?d():null;if(!t)return void n([]);let i=a.current[e];if(i){n(i),r("done");return}let o=(0,S.gx)();if(!o)return void n([]);let{promise:c}=l({variables:{cardHtml:t,language:s.englishName},workspaceId:o});c.then(t=>{a.current[e]=eA(t)})},[l,s,d]);return(0,I.Vg)(()=>{let t=(0,ey.IV)(e.state.selection.$from,ew.jg)[0];t&&p(t.node.attrs.id)},[p,e.state.selection],[u]),{suggestions:t,generateSuggestionsStatus:i}},eA=e=>e.split("\n").filter(Boolean);var ej=n(78140),ek=n(36999),eS=n(41283),eI=n(85595);let eE=e=>{let{suggestions:t,onSubmit:n}=e;return(0,a.jsxs)(r.s,{gap:2,flexWrap:"wrap",alignItems:"flex-start",children:[t.map((e,t)=>{var i;return(0,a.jsx)(en.$,{leftIcon:(0,a.jsx)(N.g,{icon:T._$C}),onClick:()=>n(e.prompt),borderRadius:"full",variant:"ghost",bg:"blackAlpha.100",color:"blackAlpha.800",_hover:{bg:"blackAlpha.300"},colorScheme:"blackAlpha",size:"xs",isTruncated:!0,flexShrink:0,sx:{["@media (max-height: ".concat(700,"px)")]:{display:t>0?"none":"flex"}},children:(0,a.jsx)(b.E,{isTruncated:!0,children:null!=(i=e.quick_action)?i:e.prompt})},t)}),t.length>1&&(0,a.jsxs)(ej.W,{children:[(0,a.jsxs)(ek.I,{as:en.$,leftIcon:(0,a.jsx)(N.g,{icon:T._$C}),rightIcon:(0,a.jsx)(N.g,{icon:T.Jt$}),borderRadius:"full",variant:"ghost",bg:"blackAlpha.100",color:"blackAlpha.800",_hover:{bg:"blackAlpha.300"},colorScheme:"blackAlpha",size:"xs",sx:{["@media (max-height: ".concat(700,"px)")]:{display:"flex"},["@media (min-height: ".concat(701,"px)")]:{display:"none"}},children:[t.length-1," more..."]}),(0,a.jsx)(eS.c,{children:t.slice(1).map((e,t)=>{var i;return(0,a.jsx)(eI.D,{onClick:()=>n(e.prompt),icon:(0,a.jsx)(N.g,{icon:T._$C}),children:null!=(i=e.quick_action)?i:e.prompt},t)})})]})]})},eR=e=>{let{status:t,messages:n,handleNewChat:i,manualSubmit:r,handleStop:s,editor:c}=e,u="submitted"===t||"streaming"===t,p=(0,eo.ez)("unlimited_credits"),h=(0,g.GV)(U.hN),m=(0,g.GV)(U.W_);return(0,a.jsxs)(o.T,{direction:"column",align:"stretch",spacing:2,p:4,borderTop:"1px solid",borderColor:"trueblue.100",bg:"trueblue.50",children:[(0,a.jsxs)(l.z,{align:"flex-start",spacing:4,children:[m&&(0,a.jsx)(O,{src:m.src,alt:m.query,h:"auto",maxW:"5em",maxH:"5em",alignSelf:"start",shadow:"base"}),!u&&c&&(h?(0,a.jsx)(eL,{onSubmit:r,imageToEdit:h,editor:c}):(0,a.jsx)(eD,{editor:c,onSubmit:r}))]}),(0,a.jsx)(eh,{placeholder:h?D.Ru._({id:"XXCZ3T"}):D.Ru._({id:"1p/b90"}),isLoading:u,handleSubmit:r,handleStop:s,status:t}),(0,a.jsx)(et.S,{in:n.length>0||!p,children:(0,a.jsxs)(l.z,{pt:2,children:[(0,a.jsx)(en.$,{size:"sm",variant:"link",onClick:i,leftIcon:(0,a.jsx)(N.g,{icon:er.V3T,size:"sm"}),children:(0,a.jsx)(d.x6,{id:"hIQkLb"})}),(0,a.jsx)(ea.h,{}),(0,a.jsx)(el.f,{modalId:"ai-credits-modal-message-list",variant:"ghost",justify:"flex-end",segmentEvent:j.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGE_CHAT})]})})]})},eL=e=>{let{onSubmit:t,imageToEdit:n}=e,{suggestions:i,generateSuggestionsStatus:r}=(0,eg.s)(n),o=i.map(e=>({prompt:e}));return"generating"===r&&0===o.length?(0,a.jsxs)(l.z,{wrap:"wrap",children:[(0,a.jsx)(ei.E,{size:"sm",w:"5em",h:"1.25em",borderRadius:"full"}),(0,a.jsx)(ei.E,{size:"sm",w:"6em",h:"1.25em",borderRadius:"full"}),(0,a.jsx)(ei.E,{size:"sm",w:"5em",h:"1.25em",borderRadius:"full"}),(0,a.jsx)(ei.E,{size:"sm",w:"4em",h:"1.25em",borderRadius:"full"})]}):(0,a.jsx)(eE,{suggestions:o,onSubmit:t})},eD=e=>{let{editor:t,onSubmit:n}=e,{suggestions:i,generateSuggestionsStatus:r}=eC(t),o=i.map(e=>({prompt:e}));return"generating"===r&&0===o.length?(0,a.jsxs)(l.z,{wrap:"wrap",children:[(0,a.jsx)(ei.E,{size:"sm",w:"5em",h:"1.25em",borderRadius:"full"}),(0,a.jsx)(ei.E,{size:"sm",w:"6em",h:"1.25em",borderRadius:"full"}),(0,a.jsx)(ei.E,{size:"sm",w:"5em",h:"1.25em",borderRadius:"full"}),(0,a.jsx)(ei.E,{size:"sm",w:"4em",h:"1.25em",borderRadius:"full"})]}):(0,a.jsx)(eE,{suggestions:o,onSubmit:n})};var eM=n(85942);let e_=e=>{let{message:t,onSelectImage:n,previousMessage:i,chatId:r,editor:l}=e,s=(0,eM.xz)(t),d=i?(0,eM.xz)(i).flatMap(eM.Fh):[],c=s.filter(e=>{let t=(0,eM.Fh)(e);return!d.some(e=>t.some(t=>t.attrs.src===e.attrs.src))});return(0,a.jsxs)(o.T,{...R.i,bg:"periwinkle.100",maxW:"90%",alignSelf:"flex-end",borderBottomEndRadius:"0",align:"start",children:[c.map(e=>(0,a.jsx)(Z,{toolInvocation:e,onSelectImage:n,ratingsEnabled:!1,chatId:r,editor:l},e.toolCallId)),(0,a.jsx)(b.E,{children:t.content})]})};var eT=n(22905),eN=n(63867),ez=n(94922),eP=n(47665),eO=n(50861),eF=n(39977),eH=n(56603);let eB=e=>{let t=(0,g.CU)(),n=(0,g.jL)();(0,c.useEffect)(()=>{if(!e)return;let t=()=>{let t=eV(e,null==e?void 0:e.state.selection);n((0,U.iU)(t))};return e.on("update",t),e.on("selectionUpdate",t),t(),()=>{e.off("update",t),e.off("selectionUpdate",t)}},[e,n,t])},eV=(e,t)=>{if(!e||!t||!(t instanceof eN.nh))return null;let n=(0,eF.A)({editor:e,selection:t});return(null==n?void 0:n.mediaType)!=="image"?null:{attrs:n.attrs,id:n.id,relativePosition:(0,eH.JO)(e.state,t.from)}},eW=(e,t,n)=>{let a=(0,eH.d_)(e.state,t);if(!a)throw Error("Could not get absolute position from relative position");(0,eF.v)({editor:e,pos:a,attrs:n})},eU=(e,t)=>{let n=e.view,a=e.state.selection,i=e.state.doc.resolve(a.from),r=(0,eT.eL)(i,eP.jg),{mostVisible:l,visibleCards:o}=(0,eP.lA)(e),s=o.some(e=>e.pos===(null==r?void 0:r.pos)),d=(0,ey.Bi)(e,"image");if(s&&d){e.chain().insertContentAndSelect({type:"image",attrs:t}).focus().run(),setTimeout(()=>{e.commands.scrollIntoView()},300);return}try{let a=(null==l?void 0:l.pos)?(0,ez.dg)(n.state.tr,l.pos):null,i=null==a?void 0:a.body;if(i){let t=i.pos+i.node.nodeSize-1;if(e.commands.setTextSelection(t),!(0,ey.Bi)(e,"image")){let t=i.pos+2;e.commands.setTextSelection(t)}if(!(0,ey.Bi)(e,"image"))return}e.chain().insertContentAndSelect({type:"image",attrs:t}).focus().run(),setTimeout(()=>{e.commands.scrollIntoView()},300)}catch(e){console.error("Error inserting SelectedImage",e)}},eG=e=>(e=(0,eO.Ez)(e),{tempUrl:(0,P.Ub)(e.src,P.p7,e.meta),showPlaceholder:!1,...e});var eK=n(42350),eQ=n(6272),eZ=n(70965),eq=n(58495);let eJ=e=>{let{userMessage:t,imageToEdit:n,messageId:a}=e;return n&&n.src?{message:{role:"user",content:t,parts:[{type:"tool-invocation",toolInvocation:{state:"result",toolName:"image_input",toolCallId:(0,eq.Ak)(),args:{},result:{status:"success",images:[{attrs:n}],messageId:a}}}]},attachments:[{name:"image-to-edit",url:n.src}],availableTools:(0,eK.X)({imageToEdit:n})}:{message:{role:"user",content:t},attachments:void 0,availableTools:(0,eK.X)({imageToEdit:null})}};function e$(e){let{editor:t}=e,n=(0,g.jL)(),i=(0,g.CU)(),[r,l]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{let e=eV(t,null==t?void 0:t.state.selection);n((0,U.iU)(e)),(0,U.g_)(i.getState())||n((0,U.Yr)((0,eZ.H)())),l(!1)},[]),r)?null:(0,a.jsx)(e0,{editor:t})}let eY=(0,c.memo)(e=>{let{messages:t,status:n,handleNewChat:i,handleSelectedImageChange:l,manualSubmit:o,handleStop:s,chatId:u,editor:p,error:h}=e,g=(0,c.useRef)(null),m=t.length>0,v="submitted"===n;return((0,c.useEffect)(()=>{g.current&&(g.current.scrollTop=g.current.scrollHeight)},[t]),p)?(0,a.jsxs)(r.s,{direction:"column",height:"calc(100% - 48px)",children:[(0,a.jsxs)(x.a,{flex:"1",overflow:"auto",p:4,ref:g,children:[!m&&(0,a.jsx)(ee,{}),(0,a.jsxs)(f.B,{spacing:2,flex:1,children:[t.map((e,n)=>{let i=t[n-1];return"user"===e.role?(0,a.jsx)(e_,{message:e,onSelectImage:l,previousMessage:i,chatId:u,editor:p},e.id):"assistant"===e.role?(0,a.jsx)(J,{message:e,isLoading:v,onSubmit:o,onSelectImage:l,chatId:u,editor:p},e.id):null}),v&&(0,a.jsx)(b.E,{fontSize:"xs",color:"gray.600",pt:2,px:2,children:(0,a.jsx)(d.x6,{id:"Ed99mE"})}),h&&(0,a.jsx)(b.E,{fontSize:"xs",color:"red.600",pt:2,px:2,children:String(h)})]})]}),(0,a.jsx)(eR,{status:n,messages:t,handleNewChat:i,manualSubmit:o,handleStop:s,editor:p})]}):null});eY.displayName="ImageBuddyChatInner";let eX=()=>({messageId:(0,eZ.O)(),availableTools:void 0,imageToEdit:null,insertRelativePosition:null});function e0(e){let{editor:t}=e,n=(0,g.CU)(),i=(0,g.jL)(),r=(0,g.GV)(U.yZ),l=(0,g.GV)(U.hN),o=(0,g.GV)(k.sX),s=(0,g.GV)(U.g_),d=(0,g.GV)(U.ze),{imageStyle:u}=(0,A.V)(),p=(0,c.useRef)(null),h=(0,c.useRef)(eX()),{messages:x,append:f,status:b,error:R,setMessages:L,setInput:D,stop:M}=(0,m.Y_)({id:s,initialMessages:d,api:"".concat(v.$.API_HOST,"/ai/agent/message?agentName=ImageChat"),headers:{"Content-Type":"application/json"},experimental_prepareRequestBody:e=>{let{messages:t}=e,{messageId:n,availableTools:a}=h.current||{};return{id:s,messageId:n,availableTools:a,messages:t,workspaceId:(0,S.gx)(),context:{type:"doc",docId:o}}},maxSteps:2,onToolCall:async e=>{let{toolCall:n}=e;p.current=new AbortController;let{imageToEdit:a,messageId:r}=h.current,l={workspaceId:(0,S.gx)(),docId:o,imageToEdit:null!=a?a:null,interactionId:r,messageId:r,chatId:s,abortController:p.current,preferredAiImageStyle:u};try{let e=eK.d[n.toolName];if(!e)throw Error("Invalid tool ".concat(n.toolName));let a=await e.execute(n.args,l);if("success"===a.status&&a.images.length>0){var d,c;(0,C.w)(null!=(c=e.creditCostType)?c:"imageChat",void 0,r);let l=a.images[0];P({toolCallId:n.toolCallId,image:l}),i((0,U.n9)({image:l,toolCallId:n.toolCallId})),(null==(d=h.current)?void 0:d.insertRelativePosition)&&eW(t,h.current.insertRelativePosition,l.attrs)}return p.current=null,{...a,messageId:h.current.messageId}}catch(e){if((0,eQ.z)(e))return{status:"aborted",error:"user aborted the request",messageId:h.current.messageId};return{status:"error",error:e.message,messageId:h.current.messageId}}finally{p.current=null}},credentials:"include"}),_=(0,w.tO)(void 0,"imageChat",j.VV.GAMMA_UPSELL_CALLOUT_AI_CREDITS_IMAGE_CHAT),T=(0,c.useCallback)((e,t)=>{_()&&f(e,t)},[f,_]);(0,c.useEffect)(()=>{window.buddyDebug=()=>({messages:x,reducer:n.getState().BuddyChat})},[x,n]);let N=(0,c.useCallback)(()=>{M(),L([]),h.current=eX(),i((0,U.CX)({chatId:(0,eZ.H)()})),i((0,U.iU)(r))},[i,r,L,M]),z=(0,c.useCallback)(e=>{let{image:t}=e;t.attrs.src&&(0,y.Sf)({imageUrl:t.attrs.src,interactionId:h.current.messageId,chatId:s,image:t.attrs})},[s]),P=(0,I.lW)(z,2e3),O=(0,I.lW)((0,c.useCallback)(e=>{i((0,U.jf)(e))},[i]),300);(0,c.useEffect)(()=>{O(x)},[x,O]);let F=(0,c.useCallback)(()=>{var e;M(),L(e=>e.map(eM.HC)),null==(e=p.current)||e.abort()},[L,M]),H=(0,c.useCallback)(e=>{P(e);let a=eG(e.image.attrs),r=(0,U.yZ)(n.getState());if(r)i((0,U.n9)(e)),eW(t,r.relativePosition,a);else{if(!t)return;eU(t,a)}},[i,t,n,P]),B=(0,c.useCallback)(e=>{var t;let a=null==(t=(0,U.yZ)(n.getState()))?void 0:t.relativePosition,i=(0,eZ.O)(),{message:r,attachments:o,availableTools:s}=eJ({userMessage:e,imageToEdit:l,messageId:i});h.current={messageId:i,availableTools:s,imageToEdit:l,insertRelativePosition:a||null},T(r,{experimental_attachments:o}),D("")},[n,l,T,D]);return(0,c.useEffect)(()=>{let e=E.W.on("sendMessage",e=>{let{message:t}=e;B(t)});return()=>{e()}},[B]),(0,a.jsx)(eY,{messages:x,error:R,status:b,handleNewChat:N,handleSelectedImageChange:H,manualSubmit:B,handleStop:F,chatId:s,editor:t})}let e1=e=>{let{closePanel:t,isOpen:n,editor:u}=e;eB(u);let m={bgColor:(0,i.dU)("white","gray.800"),textColor:(0,i.dU)("gray.800","white")},x=(0,g.jL)();return(0,c.useEffect)(()=>{n||x((0,U.Po)(null))},[n,x]),(0,a.jsx)(p.Z,{bgColor:m.bgColor,w:"100%",children:(0,a.jsxs)(r.s,{direction:"column",w:"100%",h:"100%",children:[(0,a.jsxs)(l.z,{position:"relative",py:2,px:4,children:[(0,a.jsx)(r.s,{flex:1,children:(0,a.jsx)(o.T,{align:"start",spacing:0,children:(0,a.jsx)(h.N,{children:(0,a.jsx)(d.x6,{id:"mw/rmM"})})})}),(0,a.jsx)(s.J,{onClick:t})]}),(0,a.jsx)(e$,{editor:u})]})})};e1.panelPosition="right",e1.panelName="image-chat",e1.canCollapse=!1,e1.minWidth=400;let e2=()=>{let{togglePanel:e,isPanelOpen:t}=(0,u.ww)(e1);return{toggleBuddyChatPanel:e,isBuddyChatPanelOpen:t}}},92198:(e,t,n)=>{"use strict";n.d(t,{H:()=>y});var a=n(6029),i=n(78140),r=n(36999),l=n(49611),o=n(33787),s=n(26420),d=n(12514),c=n(41283),u=n(37930),p=n(48478),h=n(40452),g=n(74676),m=n(99492),x=n(48621),f=n(55729),b=n(68301),v=n(66079);let y=f.memo(e=>{var t;let{currentSource:n,onChange:f,isValidSource:y}=e,w=null==n||null==(t=n.image)?void 0:t.src,C=(0,b.mt)();return(0,a.jsxs)(i.W,{children:[(0,a.jsx)(r.I,{as:l.$,w:"100%",textAlign:"start",rightIcon:(0,a.jsx)(x.g,{icon:m.Jt$}),leftIcon:w?(0,a.jsx)(o._,{h:"1em",w:"1em",objectFit:"cover",src:w}):(null==n?void 0:n.icon)?(0,a.jsx)(x.g,{icon:null==n?void 0:n.icon,color:"var(--chakra-colors-trueblue-600)",fixedWidth:!0}):void 0,mb:4,"data-testid":"media-drawer-menu-button",flexShrink:"0",children:(0,a.jsx)(s.a,{noOfLines:1,wordBreak:"break-all",overflowX:"hidden",textOverflow:"ellipsis",children:(null==n?void 0:n.label())||"Source"})}),(0,a.jsx)(d.Z,{children:(0,a.jsx)(c.c,{zIndex:"modalPopover",maxH:"60vh",overflowY:"auto",pos:"relative","data-media-drawer-menu":!0,children:Object.entries(v.jU).map(e=>{var t;let[i,r]=e,l=r.filter(e=>!(e.checkDisabled&&e.checkDisabled())&&!e.disabled&&(!e.featureFlag||!!C[e.featureFlag])&&y(e));return 0===l.length?null:(0,a.jsx)(u.i,{title:null!=(t=v.K4[i]())?t:i,type:"radio",onChange:f,value:null==n?void 0:n.key,children:l.map(e=>{let{label:t,key:n,icon:i,image:r,badge:l}=e;return(0,a.jsx)(p.k,{value:n,children:(0,a.jsxs)(h.s,{direction:"row",align:"center",children:[r?(0,a.jsx)(o._,{display:"inline",marginInlineEnd:2,h:"1em",w:"1em",objectFit:"contain",src:r.src}):i?(0,a.jsx)(s.a,{display:"inline",marginInlineEnd:2,color:"trueblue.600",children:(0,a.jsx)(x.g,{icon:i})}):(0,a.jsx)(a.Fragment,{}),t(),l&&(0,a.jsx)(g.E,{marginInlineStart:2,colorScheme:"green",children:l()})]})},n)})},i)})})})]})});y.displayName="MediaDrawerMenu"},92397:(e,t,n)=>{"use strict";n.d(t,{Ib:()=>f,M7:()=>y,OM:()=>v,Tv:()=>m,Ub:()=>C,hT:()=>x});var a=n(22905),i=n(63867),r=n(15342),l=n(85011),o=n(25745),s=n(43634),d=n(15607),c=n(23460),u=n(85235),p=n(6845),h=n(61385),g=n(47665);let m=(e,t,n)=>{let i=e=>{let t=(0,g.jg)(e),a="boolean"!=typeof n||(0,p.Wq)(e)===n;return t&&a},r=e.state.doc.nodeAt(t),l=e.state.doc.resolve(t);return r&&i(r)?{node:r,pos:t,start:l.start,depth:l.depth}:(0,a.eL)(e.state.doc.resolve(t),i)},x=(e,t)=>{try{let n=(e,t)=>(0,g.jg)(e)&&t===h.$x,a=e.resolve(t),i=e.nodeAt(t);if(i&&n(i,a.depth+1))return{node:i,pos:t};return(0,d.Ft)(a,n)}catch(e){console.error("[findTopCardNodeParent] error",e);return}},f=e=>{let{pos:t,editor:n}=e,a=(0,d.TK)(n.state.doc.resolve(t),g.jg).map(e=>e.node.attrs.id);(0,p.wE)(a,!1)},b=async e=>{let{cardId:t,pos:n,editor:a,cardEl:r,isNested:s=!1,origin:d="editor"}=e;if(!r)return void console.error("[scrollToCard] no cardEl specified");(0,p.wE)(t,!1),f({pos:n,editor:a}),await (0,l.H1)("editor").scrollElementIntoView({element:r,delay:s?h.M2:0}),a.commands.command(e=>{let{tr:t}=e;return t.setSelection(i.LN.near(a.state.doc.resolve(n))).setMeta(o.H,d),!0})},v=e=>{let{cardId:t,editor:n}=e;if(!t)return;let a=(0,r.KA)();if((0,s.wC)(a.getState())===u.w.SLIDE_VIEW)return void n.commands.spotlightCardById(t);let i=document.querySelector('[data-card-id="'.concat(t,'"]'));if(!i)return;let{pos:l}=(0,g.W0)(n,t)||{};if(!l)return;let o=n.state.doc.resolve(l).depth>h.$x;b({cardId:t,pos:l,editor:n,cardEl:i,isNested:o})},y=(e,t,n)=>{let a,i=t.target;if(i.closest(".".concat(h.p$))&&!i.closest("[data-outside-card-body]")||n&&!w(n,e.state.schema))return null;let r=i.closest(".".concat(h.QJ));if(!r)return{pos:e.state.doc.content.size-1};let l=r.querySelector(".".concat(h.p$)),o=null==l?void 0:l.getBoundingClientRect();if(!o)return null;let{doc:s}=e.state;try{let t=e.posAtDOM(r,0);if(-1===t)return null;let n=(0,d.TK)(s.resolve(t),g.jg);if(0===n.length)return null;a=n[n.length-1]}catch(e){return console.error("(caught) [checkBetweenCardsDropTarget] error finding parent node:",e),null}let{node:u,pos:p}=a;if(!p||!u)return null;let[m]=(0,c.qp)(l),x=m+o.top,f=m+o.bottom,b=m+t.clientY;return b<x?{pos:p}:b>f?{pos:p+u.nodeSize}:null},w=(e,t)=>t.nodes.card.validContent(e.content),C=(e,t)=>{let n=(0,d.GY)(e,e=>"cardLayoutItem"===e.type.name);return n.length>0?{node:n[0].node,pos:t+n[0].pos+1}:{node:e,pos:t}}},92685:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var a=n(6029),i=n(53996),r=n(96500);let l=()=>(0,a.jsx)(i.o,{h:"20px",children:(0,a.jsx)(r.c,{mx:1,borderColor:"gray.300",orientation:"vertical"})})},92699:(e,t,n)=>{"use strict";n.d(t,{L6:()=>r,_E:()=>l,vd:()=>i,yJ:()=>o});var a=n(4950);let i=e=>{let{theme:t}=e;a.R.emit("openThemeConfiguration",{baseTheme:t,view:"editor"})},r=e=>{let{theme:t}=e;a.R.emit("openThemeConfiguration",{baseTheme:t,view:"editor",isNewFork:!0})},l=()=>{a.R.emit("openThemeConfiguration",{view:"splash"})},o=()=>{a.R.emit("openThemeConfiguration",{view:"import"})}},92739:(e,t,n)=>{"use strict";n.d(t,{i:()=>m});var a=n(83817),i=n.n(a),r=n(55729),l=n(68301),o=n(89942),s=n(15342),d=n(63902),c=n(43634),u=n(82927),p=n(28615),h=n(9131),g=n(22911);let m=(e,t)=>{let{showLinkInterstitial:n}=(0,h.bX)(),a=(0,s.GV)(c.sK),m=(0,s.GV)(c.RW),x=(0,s.GV)(c.IO,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i()(...t)}),f=(0,o.tN)(a),b=(0,l.u)("knownGoodHostnames"),v=!!(0,u.ur)().user,y=(0,d.oR)(),w=(null==e?void 0:e.startsWith("/"))||(null==e?void 0:e.startsWith("#")),C=p.D1||f,A=p.D1||m||w,j=y?A:C,k=(0,r.useMemo)(()=>j?"trusted":(0,g.L)(e,x,b),[e,x,b,j]),S=(0,r.useMemo)(()=>j||v&&"unknown"===k?e:(0,g.F)(e,x,b),[j,e,v,k,x,b]);return{interceptLinkClick:(0,r.useCallback)(a=>{if(e&&"trusted"!==k&&(!v||"unknown"!==k))return(a.preventDefault(),a.stopPropagation(),"untrusted"===k)?console.warn("[interceptLinkClick] Untrusted link clicked",e):null==n||n(e,t),!0},[e,k,v,n,t]),linkUrlSafe:S,linkTrustLevel:k,linkInterceptEnabled:!1===j,isUntrusted:"untrusted"===k}}},92938:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});var a=n(23513);let i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t.nodeAfter;if(!i)return!1;e.deleteRange(t.pos,t.pos+i.nodeSize);let r=e.doc.nodeAt(t.pos),l=t.pos,o=1;(!n&&t.nodeBefore||n&&!r&&t.nodeBefore)&&(l=t.pos-t.nodeBefore.nodeSize,o=-1);let s=e.doc.resolve(l+1),d=(0,a.n)(e.doc.resolve(o>0?s.pos:s.end()),o);return d&&e.setSelection(d),!0}},93043:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var a=n(81107),i=n(77650);let r={key:"image.unsplash",label:()=>i.Ru._({id:"olwQVc",values:{UNSPLASH_PROPER_NOUN:"Unsplash"}}),description:()=>i.Ru._({id:"SDSvdl"}),icon:a.o5,image:{src:"/_next/static/media/unsplash.1957709b.svg",height:24,width:24,blurWidth:0,blurHeight:0},keywords:["stock","photo","photography","image","unsplash"],resizeToFit:!0}},94297:(e,t,n)=>{"use strict";n.d(t,{M:()=>d});var a=n(84462),i=n.n(a),r=n(33612),l=n.n(r),o=n(30892),s=n(63674);let d=i()(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"complement",{matchBrightness:a=!1,contrastColor:i,minContrast:r=3,lightnessRange:d}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=Array.from(new Set(t));if(0===u.length)return new Map;if(1===u.length){let t=l()(e);return i&&(0,o.vd)(t,i,r),new Map([[u[0],t.toHex8String()]])}return new Map([...(()=>{switch(n){case"monochrome":{let t=l()(e),n=d||{min:15,max:95};if(i){let e=(e,t,n)=>{let a=c(e,t);return(0,o.vd)(a,i,r,n),Math.round(100*a.toHsl().l)};n.min=e(t,n.min,"lighten"),n.max=e(t,n.max,"darken")}let s=(n.max-n.min)/u.length,p=t.getBrightness();return new Map(u.map((e,i)=>{let r=c(t,n.min+s*i);return a&&(0,o.jB)(r,p),[e,r]}))}case"spin":{let t=l()(e),n=t.getBrightness(),i=Math.ceil((u.length-1)/2),r=360/u.length<22?360/u.length:22,d=(0,s.xV)(u.map((e,l)=>{let s=0;l<i&&(s=-((i-l)*r*1)),l>i&&(s=(l-i)*r);let d=t.clone().spin(s);return a&&(0,o.jB)(d,n),d}),u.length%2==0?i:i+1);return new Map(u.map((e,t)=>[e,d[t]]))}default:case"complement":case"complement2":{let t=l()(e),i=180/(u.length-1),r=t.getBrightness();return new Map(u.map((e,l)=>{let s=t.clone().spin(i*l*("complement2"===n?-1:1));return a&&(0,o.jB)(s,r),[e,s]}))}case"alternating":{let t=l()(e),n=t.toHsl().l<.5?t.clone().lighten(30):t.clone().darken(30),i=t.getBrightness();return new Map(u.map((e,r)=>{let l=r%2==0?t.clone():n.clone();return a&&(0,o.jB)(l,i),[e,l]}))}}})().entries()].map(e=>{let[t,n]=e;return[t,n.toHex8String()]}))});function c(e,t){let n=e.toHsl();return n.l=t,l()(n)}},94920:(e,t,n)=>{"use strict";n.d(t,{U:()=>o,h:()=>l});var a=n(6029),i=n(55729);let r=(0,i.createContext)({state:{navItemPreviewRefMap:{}},setNavItemPreviewRef:()=>{throw Error("context not initialized")},editor:null,setEditor:()=>{throw Error("context not initialized")}}),l=e=>{let{children:t}=e,[n,l]=(0,i.useState)(null),[o,s]=(0,i.useState)({navItemPreviewRefMap:{}}),d=i.useMemo(()=>{let e=[],t=null,n=()=>{let n;t=null;let a={...o.navItemPreviewRefMap},i=!1;for(;n=e.shift();){let[e,t]=n;a[e]!==t&&(a[e]=t,i=!0)}i&&s(e=>({...e,navItemPreviewRefMap:a}))},a=()=>{t&&(clearTimeout(t),t=null)};return(i,r)=>{a(),e.push([i,r]),t=setTimeout(n,0)}},[o.navItemPreviewRefMap]);return(0,a.jsx)(r.Provider,{value:{state:o,setNavItemPreviewRef:d,editor:n,setEditor:l},children:t})};function o(){return(0,i.useContext)(r)}},94922:(e,t,n)=>{"use strict";n.d(t,{Eg:()=>y,Fm:()=>f,OH:()=>b,dg:()=>h,in:()=>d,l0:()=>p,lH:()=>u,o_:()=>w,sP:()=>o,tZ:()=>c,wL:()=>v,zr:()=>s});var a=n(52762),i=n(15607),r=n(47665),l=n(15597);let o=e=>["left","right"].includes(e),s=e=>{let{layout:t,parentCards:n,isMobileDevice:a}=e;return a&&"left"===t?"mobileLeft":a&&"right"===t?"mobileRight":o(t)&&d(n)?"blank":t},d=e=>e.some(e=>o(e.attrs.layout)),c=e=>{let t=u(e),n={};return Object.entries(t.items).forEach(e=>{var t;let[a,i]=e,r=null!=(t=null==i?void 0:i.style)?t:{gridArea:a};n['> [data-layout-item-id="'.concat(a,'"]')]=r}),n},u=e=>l.qA[null!=e?e:"blank"]||l.qA.blank,p=e=>{let t={},n=e.pos,a=e.nodeAfter;return a?a.descendants((e,a)=>{if(!(0,r.sw)(e))return!1;t[e.attrs.itemId]={node:e,pos:n+1+a}}):console.error("[getCardLayoutItems] could not find card node at pos ".concat(n)),t},h=(e,t)=>p(e.doc.resolve(t)),g=(e,t,n)=>{let a=e.doc.resolve(t.pos+1),i=a.blockRange(e.doc.resolve(a.end()));i&&e.wrap(i,[{type:n.nodes.cardLayoutItem}]).setMeta("annotationEvent",{type:"wrap-nodes",start:i.start,end:i.end,level:1})},m=(e,t,n,a)=>{let i=n.nodes.cardLayoutItem.createAndFill({itemId:"body",...a});e.insert(t+1,i)},x=(e,t,n,i)=>{let r=n.nodes.cardAccentLayoutItem.createAndFill({itemId:"accent",background:{type:a.h.NONE},...i});e.insert(t+1,r)},f=(e,t,n,a)=>{let i=e.doc.nodeAt(t),l=h(e,t);if("responsive"===(0,r.g6)(i)){if(0===Object.keys(l).length){g(e,{node:i,pos:t},n),a.items.accent&&x(e,t,n);return}a.items.body&&!l.body&&m(e,t,n),a.items.accent&&!l.accent?x(e,t,n):l.accent&&"cardLayoutItem"===l.accent.node.type.name&&b(e,l.accent.pos,l.accent.node,n)}},b=(e,t,n,a)=>{e.replaceRangeWith(t,t+n.nodeSize,a.nodes.cardAccentLayoutItem.createAndFill({...n.attrs}))},v=e=>"cardAccentLayoutItem"===e.type.name&&"accent"===e.attrs.itemId,y=e=>"cardLayoutItem"===e.type.name&&"body"===e.attrs.itemId,w=e=>{let t=(0,i.GY)(e,v)[0];if(t)return t.node.attrs.background}},95011:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});var a=n(45666),i=n(60908);class r{getKey(e){let{query:t,provider:n,options:a}=e;return"".concat(n,"__").concat(t,"__").concat(JSON.stringify(a))}markUsed(e){this.usedImages.add(e)}isUsed(e){return this.usedImages.has(e)}async findImage(e){let t,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(e.loadImageId){let t=this.foundImages.get(e.loadImageId);if(t)return t}await this.loadImageResults(e);let a=this.getKey(e);return this.validImagePromises.has(a)?(t=this.validImagePromises.get(a).then(()=>this.findValidImage(e)),this.validImagePromises.set(a,t)):t=this.findValidImage(e),this.validImagePromises.set(a,t),t.then(t=>(t&&n&&this.markUsed(t.imageUrl),t&&e.loadImageId&&this.foundImages.set(e.loadImageId,t),t))}async findValidImage(e){let t=this.getKey(e);for(let e of this.results.get(t)){let{image:t}=e;if(!this.isUsed(t.imageUrl)&&(void 0===e.isValid&&(e.isValid=await (0,i.Ef)(t.imageUrl)),e.isValid))return e.image}return null}async loadImageResults(e){let{query:t,provider:n,options:r,count:l}=e,o=this.getKey({query:t,provider:n,options:r});if(this.results.has(o))return;if(this.requestPromises.has(o))return void await this.requestPromises.get(o);this.debugRequests.push(o);let s=(0,a.g)({query:t,count:l,options:r,provider:n}).then(e=>e.filter(e=>(0,i.zk)(e.imageUrl))).then(e=>{let t=e.map(e=>({image:e,isValid:void 0}));return this.results.set(o,t),e});this.requestPromises.set(o,s),await s}debugInfo(){return{requests:this.debugRequests}}constructor(){this.usedImages=new Set,this.results=new Map,this.requestPromises=new Map,this.validImagePromises=new Map,this.debugRequests=[],this.generateImagePromises=new Map,this.foundImages=new Map}}},95017:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var a=n(22905),i=n(42725),r=n.n(i),l=n(64022),o=n.n(l);let s=a.YY.create({name:"updateAttributesAtPos",addCommands:()=>({updateAttributesAtPos:(e,t)=>n=>{let{tr:a}=n;return Object.entries(t).forEach(t=>{let[n,i]=t;a.setNodeAttribute(e,n,i)}),!0},updateNestedAttributesAtPos:(e,t)=>n=>{let{tr:a}=n,i=a.doc.nodeAt(e);return!!i&&(Object.entries(t).forEach(t=>{let[n,r]=t,l=o()(r)?{...i.attrs[n],...r}:r;a.setNodeAttribute(e,n,l)}),!0)},updateAttributeKeyPathAtPos:(e,t,n)=>a=>{var i;let{tr:l,state:o}=a,s=null==(i=o.doc.nodeAt(e))?void 0:i.attrs;if(!s)return!1;let d=JSON.parse(JSON.stringify(s));return Object.entries(r()(d,t,n)).forEach(t=>{let[n,a]=t;l.setNodeAttribute(e,n,a)}),!0}})})},95081:(e,t,n)=>{"use strict";n.d(t,{q:()=>C});var a=n(83004),i=n(6956);let r="transparent",l=(0,a.i7)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),o=(0,a.i7)({"0%":{opacity:.5,color:"var(--chakra-colors-trueblue-500)"},"100%":{opacity:1,color:"inherit"}}),s={".autocomplete-loading":{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:"2px",borderBottomColor:r,borderLeftColor:r,animation:"".concat(l," ").concat("0.45s"," linear infinite"),width:"var(--spinner-size)",height:"var(--spinner-size)","--spinner-size":"1em",marginLeft:"0.25em",color:"var(--chakra-colors-trueblue-500)"},".autocomplete-inserted":{animation:"".concat(o," ").concat(i.B,"ms ease-out")},".autocomplete-highlight":{backgroundColor:"#84c1fa45"}};var d=n(29608),c=n(39659);let u={backgroundRepeat:"no-repeat",backgroundSize:"11px",backgroundPosition:"8px center",fontSize:"13px",fontWeight:"bold",color:"var(--chakra-colors-trueblue-400)",position:"absolute",zIndex:1,top:"0px",left:"0px",backgroundColor:"var(--chakra-colors-trueblue-100)",padding:"4px 12px",paddingLeft:"24px",borderRadius:"0 0 4px 4px",pointerEvents:"none"},p={".block-card":{transitionProperty:"opacity",transitionDuration:"normal"},".ai-generate-streaming-card":{"&.node-card":{pointerEvents:(0,d.Xb)()?void 0:"none !important"},"&.node-card > [data-node-view-wrapper] > .card-wrapper > .card-body":{_before:{content:"''",position:"absolute",inset:"0px",zIndex:1,boxShadow:"0px 0px 0px 5px var(--chakra-colors-trueblue-100)",borderRadius:"inherit",pointerEvents:"none"}},".streaming-cursor__label":{_after:{...u,backgroundImage:'/**/url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512" fill="'.concat("%23553bff",'">\x3c!--! Font Awesome Pro 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M245.8 45.9C241.9 37.4 233.4 32 224 32s-17.9 5.4-21.8 13.9L142.7 174.7 13.9 234.2C5.4 238.1 0 246.6 0 256s5.4 17.9 13.9 21.8l128.8 59.5 59.5 128.8c3.9 8.5 12.4 13.9 21.8 13.9s17.9-5.4 21.8-13.9l59.5-128.8 128.8-59.5c8.5-3.9 13.9-12.4 13.9-21.8s-5.4-17.9-13.9-21.8L305.3 174.7 245.8 45.9z"/></svg>\')'),content:"var(--ai-generating-label)"}}},"&.buddy-active":{".buddy-active-card > [data-node-view-wrapper] > .card-wrapper > .card-body":{_before:{content:"''",position:"absolute",inset:"0px",zIndex:1,boxShadow:"0px 0px 0px 1px #2208CC",borderRadius:"inherit",pointerEvents:"none"}}},"&.sal-active":{".block-card:not(.sal-active-card, .sal-active-card-parent)":{opacity:.5},".sal-active-card > [data-node-view-wrapper] > .card-wrapper > .card-body":{_before:{content:"''",position:"absolute",inset:"0px",zIndex:1,boxShadow:"0px 0px 0px 5px #2208CC",borderRadius:"inherit",pointerEvents:"none"},_after:{...u,backgroundColor:"#2208CC",backgroundImage:'/**/url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 512 512" fill="'.concat("%23ffffff",'">\x3c!--! Font Awesome Pro 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M327.5 85.2c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L384 128l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L448 128l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L448 64 426.8 7.5C425.1 3 420.8 0 416 0s-9.1 3-10.8 7.5L384 64 327.5 85.2zM205.1 73.3c-2.6-5.7-8.3-9.3-14.5-9.3s-11.9 3.6-14.5 9.3L123.3 187.3 9.3 240C3.6 242.6 0 248.3 0 254.6s3.6 11.9 9.3 14.5l114.1 52.7L176 435.8c2.6 5.7 8.3 9.3 14.5 9.3s11.9-3.6 14.5-9.3l52.7-114.1 114.1-52.7c5.7-2.6 9.3-8.3 9.3-14.5s-3.6-11.9-9.3-14.5L257.8 187.4 205.1 73.3zM384 384l-56.5 21.2c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L384 448l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L448 448l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L448 384l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L384 384z"/></svg>\')'),padding:"4px 12px",paddingLeft:"0",width:"16px",borderRadius:"full",content:"''",left:"2px",top:"-2px",height:"16px",transform:"translate(0%,-50%)"}},".sal-active-card-parent":{".block:not(.sal-active-card)":{opacity:.5},".sal-active-card":{".block":{opacity:1}}},".sal-selection-text":{backgroundColor:"rgba(100, 100, 100, 0.25)",...c.w}}};var h=n(66849),g=n(2067);let m=".125em",x={transitionDuration:"slow",transitionTimingFunction:"ease-out"},f=".comments-wrapper, .block-comments-circle",b="> :is(".concat(f,")"),v="> :not(".concat(f,"), [data-spotlight-parent] > *"),y=e=>{let t=e?.2:.65;return{"&.react-renderer > [data-node-view-wrapper]":{[v]:{transitionProperty:"filter, transform",...x,filter:"opacity(".concat(t,") blur(").concat(e?m:"0",")")},[b]:{transitionProperty:"opacity",...x,filter:"opacity(".concat(t,")  blur(").concat(e?m:"0",")"),"&[data-is-popup-open=true]":{filter:"none"},_hover:{filter:"none"}}},"&:not(.react-renderer)":{transitionProperty:"filter, transform",...x,filter:"opacity(".concat(t,")  blur(").concat(e?m:"0",")")}}},w={"[data-spotlight-dim]":{opacity:.2},".spotlightable":{...y(!1),transitionProperty:"filter, transform",...x,cursor:"pointer"},".spotlightable:hover":{transform:"scale(1.05)"},".spotlightable.after-spotlight":y(!0),".spotlightable.spotlight-block, .spotlight-block .spotlightable":{"&.react-renderer > [data-node-view-wrapper]":{[v]:{opacity:"1",filter:"none"},[b]:{filter:"none"}},"&:not(.react-renderer)":{filter:"none"}}},C={...s,".ProseMirror":{"&.spotlight-active":w,...p,".block-card":{transitionProperty:"opacity",transitionDuration:"normal"},"&.card-notes-active":{".block-card:not(.card-notes-active-parent-card)":{opacity:.5},".card-notes-active-parent-card .block-card":{opacity:"revert"},".card-notes-active-parent-card > [data-node-view-wrapper] > .card-wrapper > .card-body":{_before:{content:"''",position:"absolute",inset:"0px",zIndex:1,boxShadow:"0px 0px 0px 5px var(--chakra-colors-trueblue-100)",borderRadius:"inherit",pointerEvents:"none"}}},...h.F,...g.p,".card-present-mode":{"&--doc":{transform:"translateY(0)",position:"relative",zIndex:1},"&--presentCollapsed":{transform:"translateY(0)",position:"relative",zIndex:1},"&--presentPrev":{transform:"translateY(-100%)",position:"fixed",zIndex:2},"&--presentCurrent":{transform:"translateY(0)","@media print":{transform:"none"},position:"fixed",zIndex:3},"&--presentNext":{transform:"translateY(100%)",position:"fixed",zIndex:2},"&--presentParent":{transform:"translateY(0)",position:"fixed",zIndex:2}},".document-content.is-doc-mode":{".card-wrapper":{"&:hover":{".card-divider":{opacity:1},".manage-card-controls":{opacity:1}}}},".document-content":{".card-wrapper":{"&:hover":{".card-footer-reactions":{opacity:1},".card-collapsed":{".card-footer-reactions":{display:"none"}}}}}},".ProseMirror-dropcursor":{transitionProperty:"inset",transitionDuration:"fast",borderRadius:"md",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",outline:"1px solid",outlineColor:"whiteAlpha.800",pointerEvents:"none",backdropFilter:"blur(4px)","&::after":{backgroundColor:"gray.600",color:"whiteAlpha.900",px:"8px",py:"2px",borderRadius:"sm",fontWeight:"medium",shadow:"md",fontSize:"sm",w:"max-content",pointerEvents:"none",display:"none"},'&[data-type="column"]::after':{content:'"Drop to add column"',position:"absolute",top:"-2em",display:"block"}}}},95197:(e,t,n)=>{"use strict";n.d(t,{D3:()=>r,M0:()=>h,M3:()=>o,Nk:()=>i,RP:()=>p,_V:()=>s,cP:()=>u,o:()=>d});var a=n(59230);let i=e=>{let{hideFromFirst:t,hideFromLast:n,...a}=e;return Object.values(a).every(e=>!e)},r=e=>{let{hideFromFirst:t,hideFromLast:n,...a}=e;return Object.values(a).some(e=>(null==e?void 0:e.type)==="themeLogo")},l=e=>{var t,n;return(null==e?void 0:e.type)==="image"&&(null==e||null==(t=e.imageAttrs)?void 0:t.src)&&(null==e||null==(n=e.imageAttrs)?void 0:n.uploadStatus)===a.A.Done},o=(e,t)=>!(null==e?void 0:e.type)||"text"===e.type&&!e.content||"image"===e.type&&!l(e)||"themeLogo"===e.type&&null===t,s=e=>{var t,n;return(null==e?void 0:e.type)!=="image"?null:null!=(n=null==e||null==(t=e.imageAttrs)?void 0:t.src)?n:null},d=e=>{let{flex:t,text:n}={Left:{flex:"flex-start",text:"left"},Center:{flex:"center",text:"center"},Right:{flex:"flex-end",text:"right"}}[e.replace(/^(top|bottom)/,"")];return{flex:t,text:n}},c={top:/^top/,bottom:/^bottom/,left:/Left$/,right:/Right$/,center:/Center$/},u=(e,t)=>c[e].test(t),p=(e,t,n)=>{let a=(null!=t?t:1)-1;return e<a?"":((null!=n?n:1)+(e-a)).toString()},h=(e,t,n)=>{let a=null!=e?e:1,i=null!=t?t:1,r="";2===a?r="—,":a>2&&(r="...,");let l=i+1,o=i+2;return n&&1===a?"".concat(i,", ").concat(l,", ").concat(o,", ").concat(o+1,"..."):"".concat(r," ").concat(i,", ").concat(l,", ").concat(o,"...")}},95465:(e,t,n)=>{"use strict";n.d(t,{K:()=>l});var a=n(91938),i=n(58809),r=n(15342);let l=()=>{var e,t;let n=(0,r.GV)(i.Jo);if(!n)return!1;let l=a.$.SHARE_TOKEN,o=null==(e=n.accessLinks)?void 0:e.some(e=>""===e.token),s=null==(t=n.accessLinks)?void 0:t.some(e=>null===e.permission);return!!l||!!o&&!s}},95571:(e,t,n)=>{"use strict";n.d(t,{CO:()=>s,tL:()=>c,xE:()=>d});var a=n(30892),i=n(28615),r=n(95695),l=n(62452),o=n(82327);let s={boxShadow:"var(--card-shadow)",backdropFilter:"var(--card-backdrop-filter)",backgroundColor:"var(--card-background-color)",borderRadius:"var(--card-border-radius)","@media print":{boxShadow:"var(--card-box-shadow)",border:"var(--card-border)"}},d={backdropFilter:"var(--card-backdrop-filter)",backgroundColor:"var(--card-background-color)",borderRadius:"0"},c=e=>{let{cardColor:t,config:n,theme:s}=e,d=(0,l.ZY)(t),c=(0,l.Ik)(t),u=(0,l.Bc)(n),p=(i.hQ||i.rS)&&"frosted"===n.cardTransparency?.95:.75,h=r.T5[n.roundness].cardRadius,{cardBorderEm:g,cardShadowSizeEm:m}=r.ws[n.cardBorder],x=(0,l.Ik)((0,l.J1)(s)),f=g>0&&"sm"===n.roundness?"1px":"".concat(h,"em"),{shadow:b,pdfShadow:v}=r.Jm[n.cardShadow||"default"],y=i.rS&&!v?void 0:"soft3d"===n.cardShadow?(0,o.m)(c):b,w=0===g?void 0:"0 0 0 ".concat(g,"em ").concat(x),C=d?(0,a.Pf)(c,20):(0,a.Pf)(c,-5);return{"--card-background-color":u?(0,a.$3)(c,p):c,"--card-border-color":x,"--card-backdrop-filter":"frosted"!==n.cardTransparency||i.hQ||i.rS?"none":"blur(20px) saturate(170%)","--card-border":0===g?void 0:"var(--card-border-width) solid var(--card-border-color)","--card-border-width":"".concat(g,"em"),"--card-border-radius":f,"--card-shadow-distance":"".concat(m,"em"),"--card-border-shadow":w,"--card-box-shadow":y,"--card-shadow":[w,y].filter(e=>!!e).join(", "),"--clickable-background-color":"none"===n.shapeFill?(0,a.$3)(C,.4):(0,a.$3)(C,.6)}}},95663:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});let a=n(35658).Ay.extend({parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration=line-through",consuming:!1},{style:"text-decoration-line=line-through",consuming:!1}],addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}}})},95714:(e,t,n)=>{"use strict";n.d(t,{Dh:()=>f,ZI:()=>x});var a=n(84462),i=n.n(a),r=n(17006),l=n(30892),o=n(28615),s=n(95695),d=n(62452),c=n(90098),u=n(92382),p=n(81136),h=n(95571),g=n(45214);let m=(e,t)=>{let n=void 0!==t,a=!e.config.disableReadabilityAdjustment||n,i=n?s._m:d.H5,r=n?4.5:3,o=t?{type:"solid",color:t}:(0,d.Tn)(e),c=(0,d.Ik)(o),u=t?(0,l.$p)(t):(0,d.Mw)(e),p=(0,d.CD)(e)[0],h=(0,d.Ik)(p),g=a?(0,d.Vj)(p,c,r,!1):p,m=(0,d.Jh)(e),x=a?(0,d.Vj)(m,c,r,!1):m,f=(0,d.Ik)(x),b=(0,d.jO)(e),v=a?(0,d.Vj)(b,c,r,!1):b,y=(0,d.Ik)(v),w=(0,d.fQ)(e),C=a?(0,d.Vj)(w,c,i,n):w,A=(0,d.Ik)(C),j=(0,l.$p)(A),k=(0,d.Lz)(e),S=a?(0,d.Vj)(k,c,r,n):k,I=(0,d.Ik)(S);return{bodyColorReadable:C,bodyColorSolid:A,isBodyColorDark:j,headingColorReadable:S,headingColorSolid:I,linkColorReadable:x,linkColorSolid:f,buttonColorReadable:v,buttonColorSolid:y,primaryColor:p,primaryColorReadable:g,primaryColorSolid:h,cardColor:o,cardColorSolid:c,isCardDark:u}},x=i()((e,t)=>{var n,a;let{bodyFont:i,headingFont:x,fonts:f}=e,b=(0,u.vt)(f,i)||s.z8.bodyFont,v=(0,u.vt)(f,x)||s.z8.headingFont,{bodyColorReadable:y,bodyColorSolid:w,isBodyColorDark:C,headingColorReadable:A,primaryColorReadable:j,primaryColorSolid:k,primaryColor:S,linkColorSolid:I,buttonColorReadable:E,buttonColorSolid:R,cardColorSolid:L,cardColor:D,isCardDark:M}=m(e,t),_=(0,c.M)(e),T=(0,h.tL)({cardColor:D,config:_,theme:e}),N=(0,g.n3)({bodyColor:y,cardColor:D,config:_,theme:e}),z=(0,g.gt)({config:_}),P=(0,g.QI)({cardColor:D,config:_}),O="linear-gradient"!==S.type?void 0:"semi"===_.shapeFill?(0,p.nz)(S,L,.5):S,F=(0,p.Hh)(O,M?.25:.9),H=M?(0,l.Pf)(k,10):(0,l.Pf)(k,-10),B=M?(0,l.Pf)(k,-10):(0,l.Pf)(k,10);return{...T,...N,...z,...P,"--body-font":'"'.concat(b,'"'),"--heading-font":'"'.concat(v,'"'),"--heading-font-weight":(0,u.Kn)(e,"heading"),"--body-font-weight":(0,u.Kn)(e,"body"),"--letter-spacing-body":o.hQ?0:e.config.letterSpacingBody?"".concat(e.config.letterSpacingBody,"em"):void 0,"--letter-spacing-heading":o.hQ?0:e.config.letterSpacingHeading?"".concat(e.config.letterSpacingHeading,"em"):void 0,"--line-height-body":null!=(n=e.config.lineHeightBody)?n:r.Uw,"--line-height-heading":null!=(a=e.config.lineHeightHeading)?a:r.eL,"--heading-transform":e.config.headingTransform,"--accent-color":k,"--accent-color-dim":H,"--accent-color-light":B,"--accent-color-readable":(0,d.Ik)(j),"--accent-gradient":(0,p.yh)(j),"--accent-gradient-fill":(0,p.yh)(S),"--accent-gradient-background":(0,p.yh)(F),"--accent-color-background-muted":M?(0,l.PE)(k,.15):(0,l.PE)(k,.9),"--expandable-hover-background":(0,l.$3)(I,.1),"--neutral-border-color":M?"var(--chakra-colors-whiteAlpha-400)":"var(--chakra-colors-blackAlpha-200)","--neutral-background-color":M?(0,l.Pf)(L,5):(0,l.Pf)(L,-5),"--button-color":R,"--button-gradient":(0,p.yh)(E),"--button-color-inverted":(0,l.$p)(R)?"#fff":"#000","--link-color":I,"--link-color-hover":(0,l.$p)(I)?(0,l.Zt)(I,10):(0,l.Zt)(I,-10),"--link-box-shadow":"0 0 0px 3px ".concat((0,l.$3)(I,1)),"--body-color":w,"--body-color-muted":(0,l.$3)(w,.5),"--body-color-inverted":M?"#000":"#fff","--link-color-inverted":(0,l.$p)(I)?"#fff":"#000","--highlight-color-dark":M?"var(--body-color)":"var(--body-color-inverted)","--highlight-color-light":M?"var(--body-color-inverted)":"var(--body-color)","--highlight-link-color-hover-dark":M?(0,l.Zt)(w,C?10:-10):(0,l.Zt)("#fff",-10),"--highlight-link-color-hover-light":M?(0,l.Zt)("#000",10):(0,l.Zt)(w,C?10:-10),"--heading-color":(0,d.Ik)(A),"--heading-gradient":(0,p.yh)(A),"--card-color":L,"--card-color-mask":(0,l.$3)(L,(0,l.$p)(L)?.8:.85),"--placeholder-button-bg-color":M?(0,l.Lm)("gray.700"):(0,l.Lm)("gray.200"),"--placeholder-button-bg-hover-color":M?(0,l.Lm)("gray.600"):(0,l.Lm)("gray.300"),"--placeholder-button-text-color":M?(0,l.Lm)("gray.300"):(0,l.Lm)("gray.400"),"--placeholder-button-text-hover-color":M?(0,l.Lm)("gray.200"):(0,l.Lm)("gray.700")}}),f=i()(m)},96177:(e,t,n)=>{"use strict";n.d(t,{Ll:()=>d,S0:()=>s,pS:()=>o,q9:()=>c});var a=n(30892),i=n(28615),r=n(69883),l=n(40077);let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"var(--card-color)";if(!e)return{};let l=0==t?e:(0,r.x)(e),o=e;return{"--shape-bg-color-override":0===t?void 0:1===t?e:i.hQ?(0,a.$3)(e,t):"color-mix(in oklab, ".concat(e," ").concat(100*t,"%, ").concat(n,")"),"--shape-border-color-override":l}},s=e=>{if(!e)return{textColor:void 0,textColorVars:void 0};let t=(0,a.$p)(e)?"#fff":"#000",n=d(t);return{textColor:t,textColorVars:n}},d=e=>{if(e)return{"--shape-text-color":e,"--shape-fill-text-color":e,"--body-color":e,"--heading-color":e,"--link-color":e,"--link-color-inverted":(0,a.$p)(e)?"#fff":"#000","--link-color-hover":(0,a.$p)(e)?(0,a.Zt)(e,10):(0,a.Zt)(e,-10)}},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return;let n=o(e,t);if(0===t)return n;let{textColor:a,textColorVars:i}=s(e),r=a?(0,l.U2)(a):void 0;return{...n,...i,...r}}},96197:(e,t,n)=>{"use strict";n.d(t,{CG:()=>E,D8:()=>I,JD:()=>m,Kl:()=>h,L0:()=>y,QN:()=>f,Qg:()=>k,Tn:()=>D,_G:()=>S,_t:()=>u,cq:()=>p,gC:()=>x,i4:()=>w,lD:()=>R,rO:()=>L,uC:()=>j,w7:()=>v});var a=n(94289),i=n(63867),r=n(23513),l=n(46675),o=n(39078),s=n(61292),d=n(48413),c=n(14503);function u(e){let t=(0,c.t6)(e),n=t.node(-1),a=t.start(-1),i=d.J.get(n);return{...e instanceof l.HT?i.rectBetween(e.$anchorCell.pos-a,e.$headCell.pos-a):i.findCell(t.pos-a),map:i,table:n,tableStart:a}}function p(e,t){let{tableStart:n,col:a,table:i,colMinPercent:r,newColSize:l=20}=t,u=d.J.get(i),p=a>0?-1:0;(0,c.Ui)(u,i,a+p)&&(p=0==a||a==u.width?null:0);for(let t=0;t<u.height;t++){let r=t*u.width+a;if(a>0&&a<u.width&&u.map[r-1]==u.map[r]){let l=u.map[r],o=i.nodeAt(l);e.setNodeMarkup(e.mapping.map(n+l),void 0,(0,c.uH)(o.attrs,a-u.colCount(l))),t+=o.attrs.rowspan-1}else{let l=null==p?(0,s.e)(i.type.schema).cell:i.nodeAt(u.map[r+p]).type,o=u.positionAt(t,a,i);e.insert(e.mapping.map(n+o),l.createAndFill())}}let{colWidths:h}=i.attrs,g=(0,o.KJ)(h,a,l,r);return h.length===g.length?(e.setMeta("preventDispatch",!0),!1):(e.setNodeMarkup(n-1,void 0,{colWidths:[...g]}),!0)}function h(e,t,n){if(!(0,c.aH)(e))return!1;let a=u(e);if(0==a.left&&a.right==a.map.width)return!1;let r=[];for(let e=a.right-1;!function(e,t,n){let{map:a,tableStart:i,table:r}=t,l=e.mapping.maps.length;for(let t=0;t<a.height;){let o=t*a.width+n,s=a.map[o],d=r.nodeAt(s);if(n>0&&a.map[o-1]==s||n<a.width-1&&a.map[o+1]==s)e.setNodeMarkup(e.mapping.slice(l).map(i+s),void 0,(0,c.Pn)(d.attrs,n-a.colCount(s)));else{let t=e.mapping.slice(l).map(i+s);e.delete(t,t+d.nodeSize)}t+=d.attrs.rowspan}}(t,a,e),r.push(e),e!=a.left;e--)a.table=a.tableStart?t.doc.nodeAt(a.tableStart-1):t.doc,a.map=d.J.get(a.table);let l=(0,o.XC)(a.table.attrs.colWidths,r);if(t.setNodeMarkup(a.tableStart-1,void 0,{colWidths:l}),a.right===a.map.width){let e=a.tableStart+a.map.positionAt(0,a.left-1,a.table),n=t.doc.resolve(e),r=i.LN.near(n);t.setSelection(r)}return n&&n(t),!0}function g(e,t,n){let{map:a,tableStart:i,table:r}=t,l=i;for(let e=0;e<n;e++)l+=r.child(e).nodeSize;let o=[],d=n>0?-1:0;(function(e,t,n){let a=(0,s.e)(t.type.schema).header_cell;for(let i=0;i<e.width;i++)if(t.nodeAt(e.map[i+n*e.width]).type!=a)return!1;return!0})(a,r,n+d)&&(d=0==n||n==a.height?null:0);for(let t=0,l=a.width*n;t<a.width;t++,l++)if(n>0&&n<a.height&&a.map[l]==a.map[l-a.width]){let n=a.map[l],o=r.nodeAt(n).attrs;e.setNodeMarkup(i+n,void 0,(0,c.ob)(o,"rowspan",o.rowspan+1)),t+=o.colspan-1}else{let e=null==d?(0,s.e)(r.type.schema).cell:r.nodeAt(a.map[l+d*a.width]).type;o.push(e.createAndFill())}return e.insert(l,(0,s.e)(r.type.schema).row.create(null,o)),e}function m(e,t){if(!(0,c.aH)(e.selection))return!1;if(t){let n=u(e.selection);t(g(e.tr,n,n.top))}return!0}function x(e,t){if(!(0,c.aH)(e.selection))return!1;if(t){let n=u(e.selection);t(g(e.tr,n,n.bottom))}return!0}function f(e,t,n){if(!(0,c.aH)(e))return!1;let a=u(e);if(0==a.top&&a.bottom==a.map.height)return!1;for(let e=a.bottom-1;!function(e,t,n){let{map:a,table:i,tableStart:r}=t,l=0;for(let e=0;e<n;e++)l+=i.child(e).nodeSize;let o=l+i.child(n).nodeSize,s=e.mapping.maps.length;e.delete(l+r,o+r);for(let t=0,l=n*a.width;t<a.width;t++,l++){let o=a.map[l];if(n>0&&o==a.map[l-a.width]){let n=i.nodeAt(o).attrs;e.setNodeMarkup(e.mapping.slice(s).map(o+r),void 0,(0,c.ob)(n,"rowspan",n.rowspan-1)),t+=n.colspan-1}else if(n<a.width&&o==a.map[l+a.width]){let l=i.nodeAt(o),d=l.type.create((0,c.ob)(l.attrs,"rowspan",l.attrs.rowspan-1),l.content),u=a.positionAt(n+1,t,i);e.insert(e.mapping.slice(s).map(r+u),d),t+=l.attrs.colspan-1}}}(t,a,e),e!=a.top;e--)a.table=a.tableStart?t.doc.nodeAt(a.tableStart-1):t.doc,a.map=d.J.get(a.table);if(a.bottom===a.map.height){let e=a.tableStart+a.map.positionAt(a.top-1,0,a.table),n=t.doc.resolve(e),r=i.LN.near(n);t.setSelection(r)}return n&&n(t),!0}function b(e){let t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function v(e,t){let n=e.selection;if(!(n instanceof l.HT)||n.$anchorCell.pos==n.$headCell.pos)return!1;let i=u(e.selection),{map:r}=i;if(function(e,t){let{width:n,height:a,map:i}=e,r=t.top*n+t.left,l=r,o=(t.bottom-1)*n+t.left,s=r+(t.right-t.left-1);for(let e=t.top;e<t.bottom;e++){if(t.left>0&&i[l]==i[l-1]||t.right<n&&i[s]==i[s+1])return!0;l+=n,s+=n}for(let e=t.left;e<t.right;e++){if(t.top>0&&i[r]==i[r-n]||t.bottom<a&&i[o]==i[o+n])return!0;r++,o++}return!1}(r,i))return!1;if(t){let n=e.tr,o={},s=a.FK.empty,d,u;for(let e=i.top;e<i.bottom;e++)for(let t=i.left;t<i.right;t++){let a=r.map[e*r.width+t],l=i.table.nodeAt(a);if(!o[a])if(o[a]=!0,null==d)d=a,u=l;else{b(l)||(s=s.append(l.content));let e=n.mapping.map(a+i.tableStart);n.delete(e,e+l.nodeSize)}}if(n.setNodeMarkup(d+i.tableStart,void 0,(0,c.ob)((0,c.uH)(u.attrs,u.attrs.colspan,i.right-i.left-u.attrs.colspan),"rowspan",i.bottom-i.top)),s.size){let e=d+1+u.content.size,t=b(u)?d+1:e;n.replaceWith(t+i.tableStart,e+i.tableStart,s)}n.setSelection(new l.HT(n.doc.resolve(d+i.tableStart))),t(n)}return!0}function y(e,t){var n;let a=(0,s.e)(e.schema);return(n=e=>{let{node:t}=e;return a[t.type.spec.tableRole]},(e,t)=>{let a,i,r=e.selection;if(r instanceof l.HT){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;a=r.$anchorCell.nodeAfter,i=r.$anchorCell.pos}else{if(!(a=(0,c.HF)(r.$from)))return!1;i=(0,c.KW)(r.$from).pos}if(1==a.attrs.colspan&&1==a.attrs.rowspan)return!1;if(t){let o,s=a.attrs,d=[],p=s.colwidth;s.rowspan>1&&(s=(0,c.ob)(s,"rowspan",1)),s.colspan>1&&(s=(0,c.ob)(s,"colspan",1));let h=u(e.selection),g=e.tr;for(let e=0;e<h.right-h.left;e++)d.push(p?(0,c.ob)(s,"colwidth",p&&p[e]?[p[e]]:null):s);for(let e=h.top;e<h.bottom;e++){let t=h.map.positionAt(e,h.left,h.table);e==h.top&&(t+=a.nodeSize);for(let i=h.left,r=0;i<h.right;i++,r++)(i!=h.left||e!=h.top)&&g.insert(o=g.mapping.map(t+h.tableStart,1),n({node:a,row:e,col:i}).createAndFill(d[r]))}g.setNodeMarkup(i,n({node:a,row:h.top,col:h.left}),d[0]),r instanceof l.HT&&g.setSelection(new l.HT(g.doc.resolve(r.$anchorCell.pos),o&&g.doc.resolve(o))),t(g)}return!0})(e,t)}function w(e,t){return function(n,a){var i;if(!(0,c.aH)(n.selection))return!1;let r=(0,c.t6)(n.selection);if((null==(i=r.nodeAfter)?void 0:i.attrs[e])===t)return!1;if(a){let i=n.tr;n.selection instanceof l.HT?n.selection.forEachCell((n,a)=>{n.attrs[e]!==t&&i.setNodeMarkup(a,void 0,(0,c.ob)(n.attrs,e,t))}):i.setNodeMarkup(r.pos,void 0,(0,c.ob)(r.nodeAfter.attrs,e,t)),a(i)}return!0}}function C(e,t,n){let a=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1});for(let e=0;e<a.length;e++){let i=t.table.nodeAt(a[e]);if(i&&i.type!==n.header_cell)return!1}return!0}function A(e,t){if((t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic)return function(t,n){if(!(0,c.aH)(t.selection))return!1;if(n){let a=(0,s.e)(t.schema),i=u(t.selection),r=t.tr,l=i.map.cellsInRect("column"==e?new d.r(i.left,0,i.right,i.map.height):"row"==e?new d.r(0,i.top,i.map.width,i.bottom):i),o=l.map(e=>i.table.nodeAt(e));for(let e=0;e<l.length;e++)o[e].type==a.header_cell&&r.setNodeMarkup(i.tableStart+l[e],a.cell,o[e].attrs);if(0==r.steps.length)for(let e=0;e<l.length;e++)r.setNodeMarkup(i.tableStart+l[e],a.header_cell,o[e].attrs);n(r)}return!0};return function(t,n){if(!(0,c.aH)(t.selection))return!1;if(n){let a=(0,s.e)(t.schema),i=u(t.selection),r=t.tr,l=C("row",i,a),o=C("column",i,a),c=+!!("column"===e?l:"row"===e&&o),p="column"==e?new d.r(0,c,1,i.map.height):"row"==e?new d.r(c,0,i.map.width,1):i,h="column"==e?o?a.cell:a.header_cell:"row"==e?l?a.cell:a.header_cell:a.cell;i.map.cellsInRect(p).forEach(e=>{let t=e+i.tableStart,n=r.doc.nodeAt(t);n&&r.setNodeMarkup(t,h,n.attrs)}),n(r)}return!0}}let j=A("row",{useDeprecatedLogic:!0}),k=A("column",{useDeprecatedLogic:!0}),S=A("cell",{useDeprecatedLogic:!0});function I(e){return function(t,n){if(!(0,c.aH)(t.selection))return!1;let a=function(e,t){if(t<0){let t=e.nodeBefore;if(t)return e.pos-t.nodeSize;for(let t=e.index(-1)-1,n=e.before();t>=0;t--){let a=e.node(-1).child(t);if(a.childCount)return n-1-a.lastChild.nodeSize;n-=a.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;let t=e.node(-1);for(let n=e.indexAfter(-1),a=e.after();n<t.childCount;n++){let e=t.child(n);if(e.childCount)return a+1;a+=e.nodeSize}}}((0,c.t6)(t.selection),e);if(null==a)return!1;if(n){let e=t.doc.resolve(a);n(t.tr.setSelection(i.U3.between(e,(0,c.fx)(e))).scrollIntoView())}return!0}}function E(e,t,n){let a=e.$anchor;for(let e=a.depth;e>0;e--)if("table"==a.node(e).type.spec.tableRole){t.delete(a.before(e),a.after(e)).scrollIntoView();let i=(0,r.i)(t);return i&&t.setSelection(i),n&&n(t),!0}return!1}let R=(e,t,n)=>e instanceof l.HT&&!!(e.isSelectingAllCells()&&e.everyCell(b))&&E(e,t,n),L=(e,t,n)=>e instanceof l.HT&&!!e.isRowSelection()&&!!e.everyCell(b)&&f(e,t,n),D=(e,t,n)=>e instanceof l.HT&&!!e.isColSelection()&&!!e.everyCell(b)&&h(e,t,n)},96632:(e,t,n)=>{"use strict";n.d(t,{L:()=>v,g:()=>y});var a=n(6029),i=n(46898),r=n(90394),l=n(26385),o=n(48810),s=n(19564),d=n(77650),c=n(55729),u=n(58809),p=n(15342),h=n(11618),g=n(95465),m=n(43634),x=n(85235),f=n(70006),b=n(74471);let v=e=>{let{cardId:t}=e,n=(0,p.GV)(m.wC),a=(0,p.GV)(u.Jo),l=(0,f.Io)({cardId:t,docId:null==a?void 0:a.id,isPresentMode:n===x.w.SLIDE_VIEW}),o=(0,i.d)(),{onCopy:s}=(0,r.i)(l);return{onCopyLinkClick:(0,c.useCallback)(()=>{s(),o({title:d.Ru._({id:"BVYvMa"}),status:"success",duration:3e3,position:"top"})},[s,o])}},y=e=>{let{attrs:t}=e,n=(0,g.K)(),{onCopyLinkClick:i}=v({cardId:t.id});return(0,a.jsx)(b.I,{onClick:e=>{var t;if(e.target&&(null==(t=e.target)?void 0:t.closest('[data-testid="open-share"]')))return void e.preventDefault();i()},label:n?(0,a.jsx)(s.x6,{id:"F0YmUY"}):(0,a.jsxs)(l.B,{spacing:"0",children:[(0,a.jsx)(o.E,{children:(0,a.jsx)(s.x6,{id:"afMspw"})}),(0,a.jsx)(o.E,{fontSize:"xxs",color:"gray.400",children:(0,a.jsx)(s.x6,{id:"OpeWZK"})})]}),children:(0,a.jsx)(h.E,{isLocked:!n})})}},97256:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});var a=n(55729),i=n(22445);let r=()=>{let{isOpen:e,onClose:t,onOpen:n}=(0,i.E)({id:"card-margins-elements"}),[r,l]=(0,a.useState)();return{isCardMarginsModalOpen:e,onCloseCardMarginsModal:t,onOpenCardMarginsModal:n,positionToHighlight:r,setPositionToHighlight:l}}},97315:(e,t,n)=>{"use strict";n.d(t,{N:()=>p});var a=n(6029),i=n(24302),r=n(40452),l=n(26385),o=n(48810),s=n(29810),d=n(99492),c=n(48621),u=n(19564);let p=e=>{let{formatLabel:t,icon:n,rightIcon:p=d.a_I,accentColor:h,onClick:g,exportInProgress:m,exportInProgressNote:x,badge:f,customLabel:b,customInProgressMessage:v}=e,y=(0,i.dU)("gray.50","whiteAlpha.100"),w=(0,i.dU)("gray.200","gray.600"),C=(0,i.dU)("".concat(h,".100"),"".concat(h,".200")),A=h.endsWith("00")?h:C,j=(0,i.dU)("gray.300","gray.600");return(0,a.jsxs)(r.s,{alignItems:"stretch",overflow:"hidden",onClick:g,borderRadius:"md",border:"1px",borderColor:(0,i.dU)("gray.200","gray.600"),bgColor:m?w:y,cursor:m?"progress":void 0,disabled:m,as:"button",transitionProperty:"common",transitionDuration:"normal",_hover:m?{}:{boxShadow:"var(--chakra-shadows-md)",borderColor:"inherit",color:"inherit"},children:[(0,a.jsx)(r.s,{bgColor:m?j:A,filter:m?"grayscale(1)":void 0,width:14,minWidth:14,minH:14,alignItems:"center",justifyContent:"center",fontSize:"2xl",children:n}),(0,a.jsxs)(l.B,{alignItems:"flex-start",spacing:0,p:4,justifyContent:"center",children:[!m&&(0,a.jsxs)(o.E,{fontWeight:"medium",children:[b||(0,a.jsx)(u.x6,{id:"i3Tbgc",values:{formatLabel:t}})," ",f]}),m&&(0,a.jsxs)(o.E,{fontWeight:"medium",textAlign:"start",children:[v||(0,a.jsx)(u.x6,{id:"wRvCQ6",values:{formatLabel:t}})," ",x]})]}),(0,a.jsx)(s.h,{}),!m&&(0,a.jsx)(r.s,{alignItems:"center",ps:4,pe:6,children:(0,a.jsx)(c.g,{icon:p,size:"1x"})})]})}},97984:(e,t,n)=>{"use strict";n.d(t,{f:()=>o,r:()=>s});var a=n(22905),i=n(84548),r=n(30892),l=n(38934);let o=i.Ay.extend({name:"highlight",priority:l.y.Highlight,excludes:"textColor highlight",addAttributes:()=>({variant:{},hex:{}}),addCommands(){var e;return{...null==(e=this.parent)?void 0:e.call(this),setHighlightColor:e=>t=>{let{commands:n}=t;return n.setMark(this.name,{hex:e,variant:null})}}},parseHTML:()=>[{tag:"mark[class=highlight]"},{tag:"mark[highlight-color]",getAttrs(e){let t=e.getAttribute("highlight-color");return!!t&&{hex:t}}}],renderHTML(e){let{HTMLAttributes:t,mark:n}=e,i=n.attrs.hex&&(0,r.$p)(n.attrs.hex),l="var(".concat(i?"--highlight-color-dark":"--highlight-color-light",")"),o=["--highlight-color: ".concat(n.attrs.hex),"color: ".concat(l),"--link-color: ".concat(l),"--link-color-hover:".concat("var(".concat(i?"--highlight-link-color-hover-dark":"--highlight-link-color-hover-light",")"))].join("; ");return["mark",(0,a.KV)(this.options.HTMLAttributes,t,{class:"highlight",style:o})]},renderHTMLforAI(e){let{mark:t}=e;return["mark",{"highlight-color":t.attrs.hex}]}}).configure({multicolor:!0}),s=a.CU.create({name:"textColor",excludes:"highlight textColor",priority:l.y.TextColor,addAttributes:()=>({variant:{},hex:{}}),addCommands(){return{setTextColor:e=>t=>{let{commands:n}=t;return n.setMark(this.name,{hex:e,variant:null})}}},parseHTML:()=>[{tag:"span[class=textColor]"},{tag:"span[text-color]",getAttrs(e){let t=e.getAttribute("text-color");return!!t&&{hex:t}}}],renderHTML(e){let{HTMLAttributes:t,mark:n}=e;return["span",(0,a.KV)(t,{class:"textColor",style:n.attrs.hex?"--text-color: ".concat(n.attrs.hex):void 0})]},renderHTMLforAI(e){var t;let{mark:n}=e;return["span",{"text-color":null!=(t=n.attrs.hex)?t:n.attrs.variant}]}})},98071:(e,t,n)=>{"use strict";n.d(t,{JH:()=>u,Nu:()=>h,jh:()=>c,kB:()=>p});var a=n(77650),i=n(22905),r=n(21157),l=n.n(r),o=n(52762),s=n(33201),d=n(94922);let c=(e,t)=>{var n,a;let{background:i,fitType:r}=e,{allowFit:l}=(0,d.lH)(t);return l?r||((null==i||null==(a=i.image)||null==(n=a.meta)?void 0:n.has_transparency)?"fit":"fill"):"fill"},u=(e,t)=>{var n;let{allowFit:a}=(0,d.lH)(t);return a&&(null==(n=e.background)?void 0:n.type)===o.h.IMAGE},p=(e,t,n)=>{let a=(0,i.eL)(e.state.doc.resolve(t),s.jg);t&&(n?e.commands.updateAttributesAtPos(t,{background:{type:o.h.NONE}}):(null==a?void 0:a.pos)&&(e.commands.setCardLayout(a.pos,"blank"),e.commands.selectInsideCardBody(a.pos)))},h=e=>"blank"===e?a.Ru._({id:"6JcK6b"}):"behind"===e?a.Ru._({id:"SQOVlA"}):a.Ru._({id:"T8aKxO",values:{0:l()(e)}})},98088:(e,t,n)=>{"use strict";n.d(t,{p:()=>d,z:()=>s});var a=n(58495),i=n(63867),r=n(67200),l=n(77467);let o=new i.hs("UniqueMediaId"),s=()=>(0,a.Ak)(5),d=l.S.extend({name:"UniqueMediaId"}).configure({attributeName:"id",types:["image","embed","video","smartLayoutCell","mediaPlaceholder","cardImageItem"],initialValue:s,filterTransaction:r.kz,pluginKey:o})},98874:(e,t,n)=>{"use strict";n.d(t,{BT:()=>i,mw:()=>r,rO:()=>o,vG:()=>l});var a=n(77650);let i=25,r=15,l=10,o=()=>({sm:{targetColumns:4,label:()=>a.Ru._({id:"4Revpc"}),width:l},md:{targetColumns:3,label:()=>a.Ru._({id:"agPptk"}),width:r},lg:{targetColumns:2,label:()=>a.Ru._({id:"k7rCa/"}),width:20},xl:{targetColumns:1,label:()=>a.Ru._({id:"vp6Yr4"}),width:i}})},98968:(e,t,n)=>{"use strict";n.d(t,{HI:()=>S,IG:()=>v,Im:()=>w,NZ:()=>f,Pb:()=>g,hk:()=>L,jG:()=>I,ni:()=>b,qK:()=>x,tz:()=>j,w5:()=>R,wG:()=>A,yL:()=>y,yg:()=>C});var a=n(22905),i=n(94289);n(55729);var r=n(89703),l=n(17928),o=n(73014),s=n(15607),d=n(67864),c=n(47665),u=n(45943),p=n(36145),h=n(50861);let g=e=>"gallery"===e.type.name,m=e=>(0,a.eL)(e,g),x=e=>!!m(e),f=e=>{let{decorations:t}=e;return t.some(e=>e.spec.inGallery)},b=e=>{let{decorations:t}=e;return t.some(e=>"grid"===e.spec.layout)},v=e=>{var t;let{decorations:n}=e;return null==(t=n.find(e=>e.spec.thumbHeight))?void 0:t.spec.thumbHeight},y=e=>{var t;let{decorations:n}=e;return null==(t=n.find(e=>e.spec.thumbSpacing))?void 0:t.spec.thumbSpacing},w=e=>{let{decorations:t}=e;return t.some(e=>"logo"===e.spec.layout)},C=e=>{var t;let{decorations:n}=e,a=null==(t=n.find(e=>e.spec.children))?void 0:t.spec.children;return a?(0,s.F2)(a):[]},A=e=>{let t=(0,d.rV)(e.$from);t&&!(0,c.jg)(t.node)?l.LF.emit(l.DN.CREATE_COMMENT_FROM_SELECTION,{selectionPos:e.from,parentPos:t.pos,text:(0,o.Lo)(e.node)}):l.LF.emit(l.DN.CREATE_COMMENT_FROM_SELECTION,{selectionPos:e.from,parentPos:e.from,text:(0,o.Lo)(e.node)})},j=(e,t,n,a)=>{let i,r;if(n&&!k(n,e.state.schema))return null;let l=e.posAtCoords({left:t.clientX,top:t.clientY});if(!l)return null;let{doc:o}=e.state,{pos:d}=l,c=o.resolve(d),u=m(c);if(u&&u.node.childCount>0)d=l.pos,(i=(0,s.q0)(d,e))||d!=u.pos+u.node.nodeSize-1||(d-=1,i=(0,s.q0)(d,e)),r=u.node;else{d=l.inside;try{r=o.resolve(d).nodeAfter}catch(e){return null}if(!r||!(0,h.Bv)(r)||r==(null==n?void 0:n.content.firstChild)||a)return null;let t=c.parent;if(t&&!E(e.state.schema,t))return null;if("image"===r.type.name){var p;let t=e.nodeDOM(d);i=null==t||null==(p=t.querySelector("[data-node-image-testid]"))?void 0:p.getBoundingClientRect()}else i=(0,s.q0)(d,e)}if(!i)return null;let g=t.clientX-i.left,x=i.right-t.clientX,f=g>x?"right":"left";return("left"==f?g<0:x<0)&&!u?null:{pos:d,side:f,rect:i,node:r}},k=(e,t)=>e.content.size>0&&t.nodes.gallery.validContent(e.content),S=(e,t)=>{var n;let a=null==(n=e.dragging)?void 0:n.slice;if(!a){let e=[...t.dataTransfer.items];return e.length>0&&e.every(e=>e.type.startsWith("image/"))}return k(a,e.state.schema)},I=(e,t,n)=>{let a=(0,p.dM)(n,t);return(0,u.kf)(t)||k(t,e)||a&&a.length>0},E=(e,t)=>{let n=e.nodes[t.type.name];return!!n&&n.validContent(i.FK.fromJSON(e,[{type:"gallery",content:[]}]))},R=(e,t)=>"calc(".concat(.25*e,"em + ").concat(t,"em)"),L=(e,t)=>{try{var n;let a=e(),i=t.state.doc.nodeAt(a);if(!i)return;let l=null==(n=i.lastChild)?void 0:n.attrs.source,o=a+(null==i?void 0:i.nodeSize)-1;t.chain().insertContentAt(o,{type:"mediaPlaceholder",attrs:{source:l||"image.custom"}}).run(),setTimeout(()=>{t.commands.focus(),t.commands.setNodeSelection(o),(0,r.G)()})}catch(e){console.error("(caught) [GalleryView] addImage",e)}}},99923:(e,t,n)=>{"use strict";n.d(t,{R:()=>a,k:()=>i});let a="fromInnerEditor",i="fromOuterEditor"}}]);
//# sourceMappingURL=5129-f0f81bf7b5be3f0d.js.map