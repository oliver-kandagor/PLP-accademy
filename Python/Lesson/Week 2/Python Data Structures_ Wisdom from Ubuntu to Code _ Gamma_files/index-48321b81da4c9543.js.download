(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3332,4123],{1771:(e,t,i)=>{"use strict";i.d(t,{R:()=>o});var n=i(81278),s=i(55729),r=i(20746),l=i(65148);let o=()=>{let{pathname:e,isReady:t}=(0,n.useRouter)(),i=(0,s.useRef)(!1),[o,a]=(0,r.F)(l.E.lastHomeUrl,"/");(0,s.useEffect)(()=>{!i.current&&t&&(a("/inspiration"===e||"/templates"===e?e:"/"),i.current=!0)},[a,t,e])}},2087:(e,t,i)=>{"use strict";i.d(t,{A:()=>b});var n=i(6029),s=i(32844),r=i(59554),l=i(6743),o=i(26420),a=i(30928),d=i(62117),c=i(22832),x=i(49611),h=i(99492),u=i(48621),m=i(19564),p=i(56432),j=i(30645),g=i(42550);let f=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.x6,{id:"nwtY4N"})," ",(0,n.jsx)("span",{role:"img","aria-label":"sad face",children:"\uD83D\uDE15"})]}),b=e=>{let{errMessage:t=f,showDisclosure:i=!1}=e;return(0,n.jsx)(g.L,{"data-error-component":!0,children:(0,n.jsx)(p.Kp,{stackProps:{textAlign:"center"},children:(0,n.jsxs)(j.K,{title:(0,n.jsx)(m.x6,{id:"yCLOsA"}),message:(0,n.jsx)(m.x6,{id:"oDmq3g"}),children:[i&&(0,n.jsx)(s.n,{allowToggle:!0,w:"100%",children:(0,n.jsxs)(r.A,{children:[(0,n.jsx)("h2",{children:(0,n.jsxs)(l.J,{children:[(0,n.jsx)(o.a,{flex:"1",textAlign:"start",children:(0,n.jsx)(m.x6,{id:"K6HS5B"})}),(0,n.jsx)(a.Q,{})]})}),(0,n.jsx)(d.v,{overflowX:"auto",children:(0,n.jsx)(c.C,{colorScheme:"red",maxHeight:{base:24,md:60},overflowY:"auto",children:t})})]})}),(0,n.jsx)(x.$,{mt:"4",leftIcon:(0,n.jsx)(u.g,{fixedWidth:!0,icon:h.lLb}),variant:"solid",onClick:()=>{window.location.reload()},children:(0,n.jsx)(m.x6,{id:"C6f2hU"})})]})})})}},2443:(e,t,i)=>{"use strict";let n;i.r(t),i.d(t,{HomePage:()=>nQ,__N_SSG:()=>nK,default:()=>n$});var s=i(6029),r=i(55729),l=i(74158),o=i(6731),a=i(9052),d=i(32619),c=i(59724),x=i(87768),h=i(19564),u=i(82328),m=i(8909),p=i(27229),j=i(58959),g=i(26385),f=i(26420),b=i(80314),v=i(56570),y=i(69388),w=i(41781),k=i(99492),C=i(48621),S=i(99452),E=i.n(S),A=i(81278),I=i.n(A),T=i(24351),F=i(88586),D=i(68301),O=i(1079),R=i(96804),_=i(82927),z=i(40452),B=i(23293),M=i(48810),L=i(49611),N=i(74676),P=i(89942),U=i(68422),W=i(29608);let V=()=>{let{isOpen:e,onOpen:t,onClose:i}=(0,p.j)({id:"create-site-modal"}),n=(0,P.Fd)(),l=(0,D.u)("createSiteAi"),o=n&&(!(0,W.Xb)()||(0,W.Xb)()),{push:a}=(0,A.useRouter)(),[d,c]=(0,r.useState)(!1),x=(0,r.useCallback)(async()=>{c(!0),await a("/create/generate?ref=sites-dashboard"),c(!1)},[a]),{displayName:u,ariaLabel:m,icon:b}=U.mQ[U.n8.SITES];return(0,s.jsxs)(z.s,{flex:"1",mb:4*!(0,W.Xb)(),direction:"column",children:[(0,s.jsx)(f.a,{w:["100%","auto"],children:(0,s.jsx)(j.z,{h:"1.5em",children:(0,s.jsxs)(B.D,{size:"sm","data-testid":"sites-view-header",children:[(0,s.jsx)(C.g,{icon:b,"aria-label":m()})," ",(0,s.jsx)(M.E,{as:"span",ms:2,children:u})]})})}),o&&(0,s.jsxs)(z.s,{flex:"1",mb:4*!(0,W.Xb)(),direction:"column",children:[(0,s.jsxs)(g.B,{direction:{base:"column",lg:"row"},spacing:2,mt:4,children:[l&&(0,s.jsx)(L.$,{"data-testid":"create-from-aipartner-button",variant:"special",onClick:x,isLoading:d,leftIcon:(0,s.jsx)(C.g,{icon:k.QLR}),rightIcon:(0,s.jsx)(N.E,{textShadow:"none",children:"AI"}),children:(0,s.jsx)(h.x6,{id:"6/5iNu"})}),!(0,W.Xb)()&&(0,s.jsx)(L.$,{w:"auto","data-testid":"create-site-button",isDisabled:!n,variant:l?"plain":"solid",onClick:t,leftIcon:(0,s.jsx)(C.g,{icon:k.QLR}),children:(0,s.jsx)(h.x6,{id:"h3eRam"})})]}),(0,s.jsx)(R.B,{isOpen:e,onClose:i})]})]})};var H=i(36062),G=i(80074),Y=i(33787),J=i(29810),K=i(77650),Q=i(82203),$=i.n(Q),X=i(73867),q=i(74892),Z=i(46091),ee=i(44141),et=i(78140),ei=i(36999),en=i(16936),es=i(12514),er=i(41283),el=i(6760),eo=i(85595),ea=i(67909),ed=i(36071),ec=i(54731),ex=i(17920),eh=i(3674),eu=i(40691),em=i(64268),ep=i(51504),ej=i(26476),eg=i(16426),ef=i(91106),eb=i(88608);let ev=e=>{var t,i,n;let{site:r}=e,{isOpen:l,onOpen:o,onClose:a}=(0,p.j)({id:"site-menu-".concat(null==r?void 0:r.id)}),{isOpen:d,onOpen:c,onClose:x}=(0,p.j)({id:"site-menu-".concat(null==r?void 0:r.id)}),u=r&&(0,ee.jY)({site:r,path:"/"});return r?(0,s.jsxs)(et.W,{isLazy:!0,closeOnSelect:!1,children:[(0,s.jsx)(ei.I,{"data-dashboard-site-menu":!0,as:en.K,size:"xs",variant:"ghost",borderRadius:"full",onClick:o,icon:(0,s.jsx)(C.g,{fixedWidth:!0,icon:k.vHW}),color:"gray.400",_hover:{color:"gray.700",bg:"gray.200"},children:(0,s.jsx)(h.x6,{id:"7L01XJ"})}),l&&r&&(0,s.jsx)(es.Z,{children:(0,s.jsxs)(er.c,{maxW:"sm",zIndex:"overlay",children:[(0,s.jsxs)(f.a,{px:4,py:0,wordBreak:"break-word",children:[(0,s.jsx)(M.E,{children:null==r?void 0:r.name}),(0,s.jsx)(M.E,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,s.jsx)(h.x6,{id:"MXSt4t",values:{0:(0,eb.Yq)(null==r?void 0:r.createdTime,"MMMM do, yyyy")}})}),(null==r||null==(t=r.createdBy)?void 0:t.email)&&(null==r||null==(i=r.createdBy)?void 0:i.email)&&(0,s.jsx)(ef.Tz,{label:null==r||null==(n=r.createdBy)?void 0:n.email,children:(0,s.jsx)(M.E,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,s.jsx)(h.x6,{id:"t490IT",values:{0:r.createdBy.displayName}})})})]}),(null==r?void 0:r.currentDeployment)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(el.N,{}),(0,s.jsx)(eo.D,{onClick:c,icon:(0,s.jsx)(C.g,{fixedWidth:!0,icon:k.$3n}),children:(0,s.jsx)(h.x6,{id:"aKkjQq"})})]}),u&&(null==r?void 0:r.currentDeployment)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(el.N,{}),(0,s.jsx)(eo.D,{href:u,as:$(),target:"_blank",icon:(0,s.jsx)(C.g,{fixedWidth:!0,icon:k.fLi}),children:(0,s.jsx)(h.x6,{id:"OHFiKG"})})]})]})}),(0,s.jsx)(ey,{isOpen:d,onClose:x})]}):(0,s.jsx)(s.Fragment,{})},ey=e=>{let{isOpen:t,onClose:i}=e,n=(0,ef.lp)("Mod+A"),r=(0,ef.lp)("Mod+C"),l=(0,ef.lp)("Mod+V"),o=(0,ef.lp)("Shift+click");return(0,s.jsxs)(ea.aF,{blockScrollOnMount:!1,isOpen:t,onClose:i,size:"2xl",children:[(0,s.jsx)(ed.m,{}),(0,s.jsxs)(ec.$,{children:[(0,s.jsx)(ex.r,{children:(0,s.jsx)(h.x6,{id:"aKkjQq"})}),(0,s.jsx)(eh.s,{}),(0,s.jsx)(eu.c,{children:(0,s.jsxs)(g.B,{spacing:"3",children:[(0,s.jsx)(M.E,{children:(0,s.jsx)(h.x6,{id:"jMrUjv",components:{0:(0,s.jsx)("strong",{})}})}),(0,s.jsxs)(em.F,{children:[(0,s.jsx)(ep._,{}),(0,s.jsxs)(g.B,{spacing:"1",children:[(0,s.jsx)(M.E,{fontWeight:"700",children:(0,s.jsx)(h.x6,{id:"7L2CH/"})}),(0,s.jsx)(M.E,{children:(0,s.jsx)(h.x6,{id:"vQ3sVj",values:{selectMultipleCommand:o,pasteShortcut:l},components:{0:(0,s.jsx)(ej.u,{}),1:(0,s.jsx)("strong",{}),2:(0,s.jsx)(ej.u,{})}})})]})]}),(0,s.jsx)(Y._,{borderRadius:"md",src:"https://static.gamma.app/images/copy-cards-tutorial-7802f23d.gif"}),(0,s.jsx)(em.F,{colorScheme:"gray",fontSize:"sm",children:(0,s.jsx)(M.E,{fontSize:"sm",children:(0,s.jsx)(h.x6,{id:"KoiAlx",values:{selectAllShortcut:n,copyShortcut:r,pasteShortcut:l},components:{0:(0,s.jsx)(ej.u,{}),1:(0,s.jsx)(ej.u,{}),2:(0,s.jsx)(ej.u,{})}})})})]})}),(0,s.jsx)(eg.j,{children:(0,s.jsx)(L.$,{variant:"solid",onClick:i,children:(0,s.jsx)(h.x6,{id:"DPfwMq"})})})]})]})},ew=e=>"recent"===e||"favorites"===e,ek=e=>({all:{ready:!0,filter:{}},recent:{ready:!0,filter:{sortBy:{field:F.vY2.LastViewed,direction:F.UEL.Desc}}},private:{ready:!0,filter:{isPrivate:!0}},createdByYou:{ready:!!e,filter:{createdBy:null==e?void 0:e.id}},favorites:{ready:!0,filter:{sortBy:{field:F.vY2.Favorited,direction:F.UEL.Desc}}}}),eC=e=>{let{sortBy:t,filterBy:i,docUser:n,doc:r}=e;if("favorites"===i)return(0,s.jsx)(h.x6,{id:"8a9FIL",values:{0:(0,eb.Bo)(null==n?void 0:n.favorited)}});if("recent"===i)return(0,s.jsx)(h.x6,{id:"yJynx8",values:{0:(0,eb.Bo)(null==n?void 0:n.lastViewed)}});let l={[F.vY2.LastViewed]:(0,s.jsx)(h.x6,{id:"yJynx8",values:{0:(0,eb.Bo)(null==n?void 0:n.lastViewed)}}),[F.vY2.CreatedTime]:(0,s.jsx)(h.x6,{id:"oJFw5Q",values:{0:(0,eb.Bo)(null==r?void 0:r.createdTime)}}),[F.vY2.EditedTime]:(0,s.jsx)(h.x6,{id:"yxz5Og",values:{0:(0,eb.Bo)(null==r?void 0:r.editedTime)}})};return(null==l?void 0:l[t])||(0,s.jsx)(h.x6,{id:"yxz5Og",values:{0:(0,eb.Bo)(null==r?void 0:r.editedTime)}})};var eS=i(70006);let eE=e=>{var t;let{site:i,doc:n,sortBy:l,filterBy:o,isOffline:a}=e,{user:d}=(0,_.ur)(),c=(null==i?void 0:i.createdBy)||(null==n?void 0:n.createdBy),x=(null==i?void 0:i.previewUrl)||(null==n||null==(t=n.titleCard)?void 0:t.previewUrl),{docUser:u}=n||{},m=n&&eC({sortBy:l,docUser:u,filterBy:o,doc:n}),p=null==i?void 0:i.id,b=(null==n?void 0:n.id)?n.id:i&&"routes"in i?(0,ee.FX)(i):void 0,v=(0,ee.H3)((0,ee.yo)(null==i?void 0:i.domains))[0],w=(0,r.useMemo)(()=>b&&p&&(0,eS.pF)({docId:b}),[b,p]),S=(null==i?void 0:i.enabled)&&!(null==i?void 0:i.archived)&&!(null==n?void 0:n.archived)&&!a;return w?(0,s.jsxs)(H.Q,{as:y.E,bg:"white",borderRadius:"5px",shadow:"md",_focusWithin:{shadow:"outline",_hover:{shadow:"outline"}},cursor:"pointer",_hover:{shadow:"lg",bgColor:"gray.50"},transition:"box-shadow .2s ease",role:"group",className:"highlight-mask",children:[(0,s.jsx)(f.a,{pos:"absolute",top:-2,insetStart:2,insetEnd:2,bottom:"calc(66%)",border:"1px solid var(--chakra-colors-blackAlpha-300)",bg:"whiteAlpha.600",zIndex:0,borderRadius:"md"}),(0,s.jsx)(f.a,{pos:"absolute",top:-1,insetStart:1,insetEnd:1,bottom:"calc(66%)",bg:"whiteAlpha.900",border:"1px solid var(--chakra-colors-blackAlpha-400)",zIndex:0,borderRadius:"md"}),(0,s.jsxs)(z.s,{direction:"column",wordBreak:"break-word",alignContent:"space-between",height:"100%",children:[(0,s.jsx)(H.r,{href:w,as:$(),borderRadius:"md",children:(0,s.jsx)(G.g,{ratio:40/21,bgColor:"gray.50",children:(0,s.jsxs)(z.s,{borderBottomWidth:"1px",borderBottomColor:"gray.50",pos:"relative",overflow:"hidden",borderTopRadius:"md",children:[(0,s.jsx)(Y._,{src:x,fit:"cover",fallbackSrc:q.A.src}),(null==i?void 0:i.enabled)&&(0,s.jsx)(N.E,{pos:"absolute",size:"xs",bottom:2,insetStart:2,colorScheme:"blackAlpha",bg:"gray.50",color:"gray.600",textTransform:"none",children:(0,s.jsxs)(j.z,{spacing:1,children:[(0,s.jsx)(C.g,{fixedWidth:!0,icon:k.Ge5}),(0,s.jsx)(M.E,{children:(0,s.jsx)(h.x6,{id:"ebQKK7"})})]})})]})})}),(0,s.jsxs)(z.s,{p:3,position:"relative",direction:"column",justifyContent:"space-between",h:"100%",alignItems:"flex-start",children:[(0,s.jsx)(H.r,{href:w,as:$(),children:(0,s.jsxs)(g.B,{spacing:0,mb:2,children:[(0,s.jsx)(M.E,{noOfLines:2,children:null==i?void 0:i.name}),(0,s.jsxs)(j.z,{children:[(null==i?void 0:i.faviconUrl)&&(0,s.jsx)(Y._,{maxW:"16px",maxH:"16px",src:null==i?void 0:i.faviconUrl}),(0,s.jsx)(M.E,{noOfLines:1,color:"gray.500",fontSize:"xs",wordBreak:"break-all",children:null==v?void 0:v.name})]})]})}),(0,s.jsx)(z.s,{direction:"column",w:"100%",children:(0,s.jsxs)(z.s,{mt:2,align:"flex-start",w:"100%",justify:"space-between",children:[c&&(0,s.jsx)(X.S,{createdByYou:c.id===(null==d?void 0:d.id),createdByName:c.displayName||K.Ru._({id:"rtir7c"}),createdByProfileImageUrl:c.profileImageUrl,timestampDescription:m}),(0,s.jsx)(J.h,{}),S&&(0,s.jsx)(ev,{site:i})]})})]})]})]}):(0,s.jsx)(s.Fragment,{})},eA=(0,Z.A)(eE);var eI=i(75748);let eT=e=>t=>{let{isInOfflineMode:i}=(0,u.u)(),{offlineHeading:n,offlineDescription:r,...l}=t;return i?(0,s.jsx)(z.s,{h:"100%",w:"100%",direction:"column",justifyContent:"center",children:(0,s.jsx)(eI.r,{isConnected:!1,heading:n,description:r,size:"lg",bg:"none"})}):(0,s.jsx)(e,{...l})};var eF=i(26545);let eD={base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},eO=eT(e=>{let{isSidebarVisible:t,setIsSidebarVisible:i}=e,{currentWorkspace:n}=(0,_.ur)(),l=(0,D.u)("createSiteAi"),{push:o}=(0,A.useRouter)(),{isOpen:a,onOpen:d,onClose:c}=(0,p.j)({id:"create-site-modal"}),[x,u]=(0,r.useState)(!1),{data:m,loading:S,error:I}=(0,F._qT)({variables:{workspaceId:null==n?void 0:n.id},skip:!(null==n?void 0:n.id),fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),z=(0,r.useCallback)(async()=>{l?(u(!0),await o("/create/generate?ref=sites-dashboard"),u(!1)):d()},[l,d,o]),B=(null==m?void 0:m.sites)&&E()(null==m?void 0:m.sites,"updatedTime","desc");return!B||0!==B.length||S||I?(0,s.jsxs)(f.a,{w:"100%","data-testid":"sites-view-container",children:[(0,s.jsx)(eF.e,{isSidebarVisible:t,setIsSidebarVisible:i,children:(0,s.jsx)(V,{})}),(0,s.jsxs)(g.B,{children:[S&&(0,s.jsxs)(v.x,{templateColumns:eD,gap:6,children:[(0,s.jsx)(y.E,{as:w.E,borderRadius:"5px",height:"200px"}),(0,s.jsx)(y.E,{as:w.E,borderRadius:"5px",height:"200px"}),(0,s.jsx)(y.E,{as:w.E,borderRadius:"5px",height:"200px"})]}),!S&&!I&&(0,s.jsx)(v.x,{templateColumns:eD,gap:6,children:null==B?void 0:B.map(e=>(0,s.jsx)(eE,{site:e},e.id))})]}),(0,s.jsx)(R.B,{isOpen:a,onClose:c})]}):(0,s.jsxs)(j.z,{spacing:4,flex:1,h:"100%",maxW:"3xl",margin:"auto",children:[(0,s.jsx)(g.B,{align:"flex-start",justify:"center",spacing:6,flex:1,children:(0,s.jsx)(f.a,{alignSelf:"center",children:(0,s.jsx)(T.p,{title:(0,s.jsx)(h.x6,{id:"A18DXx"}),description:(0,s.jsx)(h.x6,{id:"49K0aF"}),primaryActionLabel:(0,s.jsx)(h.x6,{id:"JHMOcq"}),onPrimaryAction:z,primaryButtonProps:{leftIcon:(0,s.jsx)(C.g,{icon:k.QLR}),isLoading:x},secondaryActionLabel:(0,s.jsx)(h.x6,{id:"zwWKhA"}),secondaryButtonProps:{rightIcon:(0,s.jsx)(C.g,{icon:k.vMs}),as:b.N,href:O.C.CREATE_SITE,isExternal:!0}})})}),(0,s.jsx)(R.B,{isOpen:a,onClose:c})]})});var eR=i(41960),e_=i(29768),ez=i(92130),eB=i(96990),eM=i(21559),eL=i(20664),eN=i(72737),eP=i(98694);let eU=e=>'[data-doc-grid-item-id="'.concat(e,'"]'),eW=r.memo(e=>{let{user:t,currentWorkspace:i,currentChannelId:n,viewPreference:l}=e,o=(0,D.u)("screenshotsEnabled"),a=(0,r.useRef)(null),d=(0,r.useRef)(null),[c,x]=(0,r.useState)(null),h=(0,eM.u)().getMonitor();(0,r.useEffect)(()=>h.subscribeToOffsetChange(()=>{if(!h.getItem()||!a.current||!d.current)return;let e=h.getClientOffset();if(!e)return;let{x:t,y:i}=e;a.current.style.transform="translate(".concat(t,"px, ").concat(i,"px)")}),[h]),(0,r.useEffect)(()=>h.subscribeToStateChange(()=>{let e=h.getItemType(),t=h.getItem();if(e!==eP.v||null===t){x(null),a.current.style.transform="translate(0px, 0px)";return}let i=document.querySelector(eU(t.id));if(i){let e=i.getBoundingClientRect();d.current.style.width="".concat(e.width,"px"),d.current.style.height="".concat(e.height,"px")}x(t)}),[h]);let u=(0,r.useMemo)(()=>{var e,r,a,d,x;if(!c)return null;let h=(0,eN.PR)({doc:c,user:t,currentWorkspace:i,channelToExclude:n}),u={src:o?null==(e=c.titleCard)?void 0:e.previewUrl:q.A.src,fallbackSrc:q.A.src};return"list"===l?(0,s.jsx)(eR.X,{width:"100%",children:(0,s.jsxs)(e_.Tr,{children:[(0,s.jsx)(ez.Td,{}),(0,s.jsx)(ez.Td,{w:"50%",children:c.title||""}),(0,s.jsx)(ez.Td,{children:(0,s.jsx)(ef.Op,{tags:h,NextLink:$()})}),(0,s.jsx)(ez.Td,{color:"gray.600"}),(0,s.jsx)(ez.Td,{children:(0,s.jsxs)(j.z,{children:[(0,s.jsx)(eB.e,{shadow:"md",borderWidth:"1px",size:"xs",src:null==c||null==(d=c.createdBy)?void 0:d.profileImageUrl}),(0,s.jsx)(M.E,{children:null==c||null==(x=c.createdBy)?void 0:x.displayName})]})})]})}):(0,s.jsx)(eL.Dg,{id:"temp",title:c.title||"",thumbnailImageUrl:u,NextLink:z.s,createdTime:c.createdTime,href:"",editors:c.editors,tags:h,createdByName:(null==(r=c.createdBy)?void 0:r.displayName)||"",createdByProfileImageUrl:null==(a=c.createdBy)?void 0:a.profileImageUrl,createdByEmail:"",menuEnabled:!1})},[c,t,i,o,n,l]);return(0,s.jsx)(es.Z,{children:(0,s.jsx)(z.s,{ref:a,display:c?"block":"none",position:"fixed",pointerEvents:"none",zIndex:"overlay",left:0,top:0,children:(0,s.jsx)(z.s,{ref:d,transform:"scale(".concat(c?.5:1,")"),transition:"transform .2s ease",transformOrigin:"0 0",children:u})})})});eW.displayName="DocGridItemCustomDragLayer";var eV=i(51888);function eH(){return n||((n=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),n}let eG=(0,r.memo)(e=>{let{user:t,currentWorkspace:i,doc:n,currentChannelId:l,sortBy:o,filterBy:a,canDuplicate:d,canEditDoc:c,canManageDoc:x,createdByYou:h,isOffline:u,handleDuplicateDoc:m,handleFavoriteDoc:p,handleTrash:j,handlePermanentDelete:g,handleRestoreDoc:f,handleShareClick:b,handleRenameClick:v,handleRemoveFromChannel:y}=e,{id:w,title:k,createdTime:C,archived:S,titleCard:E,docUser:A,createdBy:I}=n,T=eC({sortBy:o,docUser:A,filterBy:a,doc:n}),F=(0,D.u)("screenshotsEnabled"),O=(0,eN.PR)({doc:n,user:t,currentWorkspace:i,channelToExclude:l}),R={src:F?null==E?void 0:E.previewUrl:q.A.src,fallbackSrc:q.A.src},_=(0,W.Xb)(),z=(0,D.u)("mobileSharePanel")&&_?x:c,B=!!l,M=!!n.site,[L,N,P]=(0,eV.i)({type:eP.v,item:()=>n,options:{dropEffect:"copy",doc:n},collect:e=>({isDragging:e.isDragging()})},[x,n]);return((0,r.useEffect)(()=>{P(eH())},[P]),M)?(0,s.jsx)(eA,{site:n.site,doc:n,filterBy:a,sortBy:o,isOffline:u}):(0,s.jsx)(eL.Dg,{ref:N,id:w,title:k||"",thumbnailImageUrl:R,NextLink:$(),href:(0,eS.LN)({docId:w}),createdByYou:h,createdTime:C,timestampDescription:T,createdByName:(null==I?void 0:I.displayName)||"",createdByProfileImageUrl:null==I?void 0:I.profileImageUrl,createdByEmail:(null==I?void 0:I.email)||"",isDuplicateEnabled:d,isShareEnabled:z,isRenameEnabled:c,isTrashAndRestoreEnabled:x,isTrashed:S,isFavorited:!!(null==A?void 0:A.favorited),isRemoveFromChannelEnabled:B,onDuplicate:()=>m(n),onFavorite:p(new Date,n),onUnfavorite:p(null,n),onTrash:()=>j(n.id),onPermanentDelete:g?()=>g(n):void 0,onRestore:()=>f(n.id),onShareClick:()=>b(n.id),onRename:()=>v(n),onRemoveFromChannel:()=>y(n,l),tags:O,menuEnabled:!u,isOffline:u},w)});eG.displayName="DocGridItemWrapper";var eY=i(10500),eJ=i(61204),eK=i(37930);let eQ=e=>{var t;let{sortBy:i,sortDirection:n,setSortBy:r,setSortDirection:l,size:o="sm",dateDisplayOption:a,setDateDisplayOption:d,options:c,showSortOrderToggle:x,disableSorting:u}=e;return(0,s.jsxs)(eJ.e,{variant:"ghost",colorScheme:"blackAlpha",size:o,ml:-3,children:[(0,s.jsxs)(et.W,{closeOnSelect:!1,children:[(0,s.jsx)(ei.I,{as:L.$,isDisabled:u,variant:"ghost",size:o,rightIcon:(0,s.jsx)(C.g,{icon:k.Jt$,"aria-label":"Open menu"}),fontWeight:"600",color:"gray.500",children:(null==(t=c.find(e=>e.key===a))?void 0:t.label)||"Date"}),(0,s.jsx)(es.Z,{children:(0,s.jsx)(er.c,{minWidth:"240px",children:(0,s.jsx)(eK.i,{fontSize:"sm",defaultValue:"alpha",title:K.Ru._({id:"IEY4J0"}),type:"radio",children:c.map(e=>{let t=a===e.key;return(0,s.jsx)(eo.D,{icon:t?(0,s.jsx)(eY.S,{}):(0,s.jsx)(f.a,{w:3}),value:e.key,onClick:()=>{d(e.key),r(e.key),l(F.UEL.Desc)},children:e.label},e.key)})})})})]}),x&&(0,s.jsx)(ef.Tz,{label:(0,s.jsx)(h.x6,{id:"TZml21"}),children:(0,s.jsx)(en.K,{color:"title"!==i?"gray.600":"gray.300",isDisabled:u,"aria-label":"sort",onClick:()=>{i!==F.vY2.Title?l(n===F.UEL.Asc?F.UEL.Desc:F.UEL.Asc):l(F.UEL.Desc),r(a)},icon:(0,s.jsx)(C.g,{icon:k.rLo})})})]})};var e$=i(96414),eX=i(42706),eq=i(59142),eZ=i(54920),e0=i(55597),e1=i(38944),e6=i(79958),e2=i(40162),e5=i(36529),e4=i(67604);let e3=e=>{var t,i;let{doc:n,dateDisplayOption:s}=e,r=null==n?void 0:n.updatedTime;s===F.vY2.LastViewed&&(r=null==n||null==(t=n.docUser)?void 0:t.lastViewed),s===F.vY2.Favorited&&(r=null==n||null==(i=n.docUser)?void 0:i.favorited),s===F.vY2.CreatedTime&&(r=null==n?void 0:n.createdTime);try{return"".concat((0,e5.A)(new Date,(0,e4.A)(r))," ago")}catch(e){return"--"}},e8=(0,Z.A)(e=>{var t,i,n;let{doc:r,dateDisplayOption:l}=e,o=(0,eS.LN)({docId:r.id}),a=e3({doc:r,dateDisplayOption:l}),{site:d}=r||{};return(0,s.jsxs)(e_.Tr,{_hover:{bg:"blackAlpha.50"},role:"group","data-doc-list-item-id":r.id,children:[(0,s.jsx)(ez.Td,{}),(0,s.jsx)(ez.Td,{minW:"280px",children:(0,s.jsxs)(j.z,{children:[(0,s.jsx)(b.N,{href:o,as:$(),_hover:{color:"var(--chakra-colors-trueblue-500) !important"},children:(null==d?void 0:d.name)||r.title}),(0,s.jsx)(N.E,{size:"xs",colorScheme:"blackAlpha",bg:"gray.50",color:"gray.600",textTransform:"none",children:(0,s.jsxs)(j.z,{spacing:1,children:[(0,s.jsx)(C.g,{fixedWidth:!0,icon:k.Ge5}),(0,s.jsx)(M.E,{children:(0,s.jsx)(h.x6,{id:"ebQKK7"})})]})}),(null==d?void 0:d.routes)&&(null==d||null==(t=d.routes)?void 0:t.length)>1&&(0,s.jsx)(N.E,{colorScheme:"blackAlpha",bg:"gray.50",color:"gray.600",children:(0,s.jsxs)(j.z,{spacing:1,children:[(0,s.jsx)(C.g,{fixedWidth:!0,icon:k.vGi}),(0,s.jsx)(M.E,{children:null==d?void 0:d.routes.length})]})})]})}),(0,s.jsx)(ez.Td,{zIndex:2,_groupHover:{opacity:1}}),(0,s.jsx)(ez.Td,{color:"gray.600",pe:-2,children:(0,s.jsx)(M.E,{children:a})}),(0,s.jsx)(ez.Td,{alignContent:"center",pe:-2,children:(0,s.jsxs)(j.z,{children:[(0,s.jsx)(eB.e,{shadow:"md",borderWidth:"1px",size:"xs",src:null==r||null==(i=r.createdBy)?void 0:i.profileImageUrl}),(0,s.jsx)(M.E,{children:null==r||null==(n=r.createdBy)?void 0:n.displayName})]})}),(0,s.jsx)(ez.Td,{isNumeric:!0,children:(0,s.jsx)(ev,{site:r.site})})]},r.id)}),e9=e=>{var t,i;let{doc:n,dateDisplayOption:s}=e,r=null==n?void 0:n.updatedTime;s===F.vY2.LastViewed&&(r=null==n||null==(t=n.docUser)?void 0:t.lastViewed),s===F.vY2.Favorited&&(r=null==n||null==(i=n.docUser)?void 0:i.favorited),s===F.vY2.CreatedTime&&(r=null==n?void 0:n.createdTime);try{return"".concat((0,e5.A)(new Date,(0,e4.A)(r))," ago")}catch(e){return"--"}},e7=e=>{var t,i,n;let{doc:l,handleShareClick:o,dateDisplayOption:a,tags:d,handleFavoriteDoc:c,user:x,menu:m,canManageDoc:p}=e,{isInOfflineMode:g}=(0,u.u)(),f=(0,eS.LN)({docId:l.id}),v=e9({doc:l,dateDisplayOption:a}),[y,w,k]=(0,eV.i)({type:eP.v,item:()=>l,options:{dropEffect:"copy",doc:l},collect:e=>({isDragging:e.isDragging()})},[p,l]);(0,r.useEffect)(()=>{k(eH())},[k]);let C=!!(null==l||null==(t=l.docUser)?void 0:t.favorited);return l.site?(0,s.jsx)(e8,{doc:l,dateDisplayOption:a}):(0,s.jsxs)(e_.Tr,{ref:w,_hover:{bg:"blackAlpha.50"},role:"group","data-doc-list-item-id":l.id,children:[(0,s.jsx)(ez.Td,{children:c&&(!g||C)&&(0,s.jsx)(eL.Zu,{isFavorited:C,onFavorite:c(new Date,l),onUnfavorite:c(null,l),disableInteractions:g})}),(0,s.jsx)(ez.Td,{minW:"280px",children:(0,s.jsx)(b.N,{as:$(),href:f,_hover:{color:"var(--chakra-colors-trueblue-500) !important"},children:l.title||""})}),(0,s.jsx)(ez.Td,{zIndex:2,_groupHover:{opacity:1},children:(0,s.jsxs)(e2.B,{_groupHover:{opacity:1},children:[(0,s.jsx)(ef.Op,{tags:d,NextLink:$(),overflowButtonLabel:K.Ru._({id:"K0UBDD"}),isDisabled:g}),!g&&(0,eN.U5)(l,x)?(0,s.jsxs)(L.$,{size:"xs",variant:"ghost",colorScheme:"blackAlpha",fontWeight:"500",_hover:{color:"gray.700",bg:"blackAlpha.50"},opacity:0,_groupHover:{opacity:1},transitionProperty:"none",onClick:()=>o(l.id),children:[(0,s.jsx)(h.x6,{id:"Z8lGw6"}),"…"]}):null]})}),(0,s.jsx)(ez.Td,{color:"gray.600",pe:-2,children:(0,s.jsx)(M.E,{children:v})}),(0,s.jsx)(ez.Td,{alignContent:"center",pe:-2,children:(0,s.jsxs)(j.z,{children:[(0,s.jsx)(eB.e,{shadow:"md",borderWidth:"1px",size:"xs",src:null==l||null==(i=l.createdBy)?void 0:i.profileImageUrl}),(0,s.jsx)(M.E,{children:null==l||null==(n=l.createdBy)?void 0:n.displayName})]})}),(0,s.jsx)(ez.Td,{isNumeric:!0,children:!g&&!!m&&m})]},l.id)},te=(e,t)=>{let i=ew(e),n=i?e1.CW:e1.Zv;return{displayOptions:n,showSortOrderToggle:!i||"recent"===e&&t===F.vY2.LastViewed||"favorites"===e&&t===F.vY2.Favorited,enableTitleSort:!i}},tt=e=>{let{user:t,currentWorkspace:i,userHasNoWorkspaces:n,docs:r,currentChannelId:l,dateDisplayOption:o,sortBy:a,sortDirection:d,setDateDisplayOption:c,setSortBy:x,setSortDirection:u,filterBy:m,isOffline:p,handleDuplicateDoc:j,handleFavoriteDoc:g,handleTrash:b,handlePermanentDelete:v,handleRestoreDoc:y,handleShareClick:w,handleRenameClick:k,handleRemoveFromChannel:S}=e,E=(0,_.IM)(),{displayOptions:A,showSortOrderToggle:I,enableTitleSort:T}=te(m,o);return(0,s.jsx)(e$.K,{pt:4,maxW:"100%",children:(0,s.jsxs)(eR.X,{colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",variant:"simple",children:[(0,s.jsx)(eX.d,{children:(0,s.jsxs)(e_.Tr,{color:"gray.700",children:[(0,s.jsx)(eq.Th,{w:4}),(0,s.jsxs)(eq.Th,{justifyContent:"space-between",minW:"280px",children:[T&&(0,s.jsx)(L.$,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{x(F.vY2.Title),u(d===F.UEL.Asc?F.UEL.Desc:F.UEL.Asc)},rightIcon:(0,s.jsx)(f.a,{color:a===F.vY2.Title?"gray.600":"gray.300",children:(0,s.jsx)(C.g,{icon:a===F.vY2.Title?d===F.UEL.Asc?e0.xBV:e0.S$_:e0.OM7})}),children:(0,s.jsx)(h.x6,{id:"MHrjPM"})}),!T&&(0,s.jsx)(h.x6,{id:"MHrjPM"})]}),(0,s.jsx)(eq.Th,{children:(0,s.jsx)(h.x6,{id:"HSh8u/"})}),(0,s.jsx)(eq.Th,{w:32,pr:-2,children:(0,s.jsx)(eQ,{size:"sm",sortBy:a,sortDirection:d,setSortBy:x,setSortDirection:u,options:A,showSortOrderToggle:I,exclude:[F.vY2.Title],dateDisplayOption:o,setDateDisplayOption:c,disableSorting:p})}),(0,s.jsx)(eq.Th,{w:32,children:(0,s.jsx)(h.x6,{id:"UE2beD"})}),(0,s.jsx)(eq.Th,{})]})}),(0,s.jsx)(eZ.N,{children:null==r?void 0:r.map(e=>{var r,a,d;let c=E.can("view",e)&&!n,x=E.can("manage",e)&&!n,h=E.can("edit",e)&&!n,u=(0,eN.PR)({doc:e,user:t,currentWorkspace:i,channelToExclude:l}),m=!!l;return(0,s.jsx)(e7,{canManageDoc:x,user:t,tags:u,doc:e,dateDisplayOption:o,handleFavoriteDoc:g,handleShareClick:w,menu:(0,s.jsx)(eL.MD,{href:(0,eS.LN)({docId:e.id}),title:(0,e6.B)(e.title),createdByName:(null==e||null==(r=e.createdBy)?void 0:r.displayName)||"",createdByEmail:(null==e||null==(a=e.createdBy)?void 0:a.email)||"",createdTime:e.createdTime,isDuplicateEnabled:c,isTrashAndRestoreEnabled:x,isRenameEnabled:h,isRemoveFromChannelEnabled:m,isShareEnabled:h,isTrashed:!!(null==e?void 0:e.archived),isFavorited:null==(d=e.docUser)?void 0:d.favorited,onDuplicate:()=>j(e),onFavorite:g(new Date,e),onUnfavorite:g(null,e),onTrash:()=>b(e.id),onPermanentDelete:v?()=>v(e):void 0,onRestore:()=>y(e.id),onShareClick:()=>w(e.id),onRename:()=>k(e),onRemoveFromChannel:()=>S(e,l)})},e.id)})})]})})};var ti=i(53996),tn=i(49309),ts=i(40556);let tr=e=>{let{onClose:t,doc:i}=e,{permanentlyDeleteDoc:n,isPermanentlyDeletingDoc:l}=(0,ts.I)({refetchQueries:["GetDocs","GetChannelDocActivity"]}),o=(0,r.useCallback)(()=>{n&&n(i.id).then(t)},[i.id,t,n]);return(0,s.jsxs)(ea.aF,{onClose:t,isOpen:!0,children:[(0,s.jsx)(ed.m,{}),(0,s.jsxs)(ec.$,{children:[(0,s.jsx)(ex.r,{children:(0,s.jsx)(h.x6,{id:"u85NBF"})}),(0,s.jsx)(eh.s,{isDisabled:l}),(0,s.jsx)(eu.c,{children:(0,s.jsxs)(g.B,{spacing:4,children:[(0,s.jsx)(M.E,{children:(0,s.jsx)(h.x6,{id:"dLUUOA",values:{0:i.title}})}),(0,s.jsx)(M.E,{color:"red.500",children:(0,s.jsx)(h.x6,{id:"2xOCJW"})})]})}),(0,s.jsx)(eg.j,{children:(0,s.jsxs)(eJ.e,{children:[(0,s.jsx)(L.$,{variant:"ghost",onClick:t,children:(0,s.jsx)(h.x6,{id:"dEgA5A"})}),(0,s.jsx)(L.$,{variant:"hazardous",onClick:o,isLoading:l,children:(0,s.jsx)(h.x6,{id:"0Lbaux"})})]})})]})]})};var tl=i(48561),to=i(11525),ta=i(18351),td=i(49405),tc=i(62927),tx=i(5291),th=i(25991),tu=i(15342);let tm=e=>{let{enabled:t,variables:i}=e,{data:n}=(0,F.JUt)({variables:i,skip:!t,fetchPolicy:"cache-only",nextFetchPolicy:"cache-only"}),s=(0,tu.GV)(th.XH);return{docs:(0,r.useMemo)(()=>((null==n?void 0:n.docs.edges.map(e=>e.node))||[]).filter(e=>s.includes(e.id)),[n,s]),loading:!1,pageInfo:{hasNextPage:!1,hasPreviousPage:!1,startCursor:null,endCursor:null},fetchMore:async()=>{},showPaginationControls:!1,activeDocs:void 0}},tp=e=>{var t,i;let{activeTab:n,currentChannelId:s,channelPreview:l,filterBy:o,sortBy:a,sortDirection:d,user:c,currentWorkspace:x}=e,{isInOfflineMode:h}=(0,F.utY)(),u=(0,tu.GV)(th.yy),m=(0,D.u)("channelActivity"),p={filter:{},ready:!0};s?p={filter:{channelId:s,...ek(c)[o].filter},ready:!0}:n===U.n8.ALL||n===U.n8.SHARED_WITH_YOU||n===U.n8.SITES?p=ek(c)[o]:n===U.n8.TRASH&&(p={filter:{archived:!0},ready:!0});let j={workspaceId:null==x?void 0:x.id,first:50,archived:!1,...p.filter,...{sortBy:{field:n===U.n8.TRASH?e1.Hd.includes(a)?F.vY2.EditedTime:a:"recent"===o?F.vY2.LastViewed:"favorites"===o?F.vY2.Favorited:a,direction:d}}},g=tm({enabled:u,variables:j}),f=!!(null==l?void 0:l.id),b=s||(null==l?void 0:l.id),{data:v,networkStatus:y,fetchMore:w}=(0,F.JUt)({variables:j,skip:!c||!p.ready||f||n===U.n8.SHARED_WITH_YOU,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),k=(0,tx.go)();(0,r.useEffect)(()=>{k(((null==v?void 0:v.docs.edges.map(e=>e.node))||[]).map(e=>e.id),new Date().toISOString())},[v,k]);let{data:C}=(0,F.EDe)({variables:{first:50,channelId:null==l?void 0:l.id},skip:!f}),{data:S,networkStatus:E,fetchMore:A}=(0,F.eLs)({variables:j,skip:n!==U.n8.SHARED_WITH_YOU,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),I=!m||!b,{data:T,subscribeToMore:O}=(0,F.S$W)({variables:{first:50,channelId:b},skip:I,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"});(0,r.useEffect)(()=>{if(O&&!I)return O({document:F.kPx,variables:{channelId:b},updateQuery:(e,t)=>{let{subscriptionData:i}=t;return i.data&&i.data.channelDocActivity?{channelDocActivity:{edges:i.data.channelDocActivity.slice(0,50).map(e=>({node:e})),pageInfo:e.channelDocActivity.pageInfo,__typename:"DocActivityConnection"}}:e},onError:e=>{}})},[b,O,I]);let R=f?null==C?void 0:C.previewChannelDocs:n===U.n8.SHARED_WITH_YOU?null==S?void 0:S.sharedDocs:null==v?void 0:v.docs,_=(null==T||null==(t=T.channelDocActivity)?void 0:t.edges)&&(null==T||null==(i=T.channelDocActivity)?void 0:i.edges.map(e=>e.node).filter(e=>e.editors&&e.editors.length>0||e.presenters&&e.presenters.length>0))||void 0,z=null==R?void 0:R.edges.map(e=>e.node).filter(e=>{var t;return!s||(null==e||null==(t=e.channels)?void 0:t.find(e=>e.id===s))}),B=null==v?void 0:v.docs.pageInfo,M=null==B?void 0:B.endCursor,L=w||A,N=(0,r.useCallback)(()=>L({variables:{after:M}}),[L,M]),P=[tc.p.loading,tc.p.setVariables].includes(y)||[tc.p.loading,tc.p.setVariables].includes(E),W=!P&&(null==B?void 0:B.hasNextPage)&&(null==B?void 0:B.endCursor);return h?g:{docs:z,loading:P,pageInfo:B,fetchMore:N,showPaginationControls:W,activeDocs:_}};var tj=i(6807),tg=i(65148);let tf=e=>{let{currentChannelId:t,activeTab:i}=e,[n,s]=(0,tj.M)(tg.E.viewPreferences,"grid"),[l,o]=(0,r.useState)(F.vY2.EditedTime),[a,d]=(0,r.useState)(F.UEL.Desc),[c,x]=(0,r.useState)(()=>t?"all":"recent"),[h,u]=(0,r.useState)(e1.eT);return(0,r.useEffect)(()=>{i===U.n8.ALL?x("recent"):x("all")},[t,i,x]),(0,r.useEffect)(()=>{"createdByYou"===c?(u(F.vY2.CreatedTime),o(F.vY2.CreatedTime)):"recent"===c?u(F.vY2.LastViewed):"favorites"===c?u(F.vY2.Favorited):(o(F.vY2.EditedTime),u(F.vY2.EditedTime))},[c,o,u]),{viewPreference:n,setViewPreference:s,sortBy:l,setSortBy:o,sortDirection:a,filterBy:c,setFilterBy:x,setSortDirection:d,dateDisplayOption:h,setDateDisplayOption:u}};var tb=i(99038);let tv=e=>{let{shared:t,trash:i}=e;return(0,s.jsx)(ti.o,{minH:"sm",pt:12,children:(0,s.jsx)(T.p,{title:(0,s.jsx)(h.x6,{id:"Fi5Y2s",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:tb.Ix}}),description:t?(0,s.jsx)(h.x6,{id:"RhQJH0",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:tb.Ix}}):i?(0,s.jsx)(h.x6,{id:"5o4MI2",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:tb.Ix}}):(0,s.jsx)(h.x6,{id:"a+m4bH",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:tb.Ix}}),primaryActionLabel:(0,s.jsx)(h.x6,{id:"4fP2xv",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:tb.Ix}}),primaryButtonProps:{as:$(),href:"/#".concat(e1.Jj)}})})};var ty=i(65100);let tw=[,,].fill(1),tk=[,,,,].fill(1),tC=e=>{let{viewPreference:t="grid"}=e;return"grid"===t?(0,s.jsx)(f.a,{width:"100%","data-testid":"docs-view-skeleton",children:(0,s.jsx)(v.x,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},gap:6,children:tw.map((e,t)=>(0,s.jsx)(y.E,{as:w.E,borderRadius:"5px",height:"240px"},t))})}):(0,s.jsx)(f.a,{width:"100%","data-testid":"docs-view-skeleton",children:(0,s.jsx)(e$.K,{pt:4,maxW:"100%",children:(0,s.jsx)(eR.X,{colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",variant:"simple",children:(0,s.jsx)(eZ.N,{children:tk.map((e,t)=>(0,s.jsx)(e_.Tr,{children:(0,s.jsx)(ez.Td,{as:w.E,height:"36px",mb:2})},t))})})})})};var tS=i(7761);let tE=()=>({all:{key:"all",label:(0,s.jsx)(h.x6,{id:"N40H+G"}),ariaLabel:K.Ru._({id:"N40H+G"}),icon:(0,s.jsx)(C.g,{icon:k.vGi,fixedWidth:!0})},offline:{key:"offline",label:(0,s.jsx)(h.x6,{id:"U6pRQr"}),ariaLabel:K.Ru._({id:"U6pRQr"}),icon:(0,s.jsx)(C.g,{icon:k.Jyj,fixedWidth:!0})},recent:{key:"recent",label:(0,s.jsx)(h.x6,{id:"AOvC3b"}),ariaLabel:K.Ru._({id:"AOvC3b"}),icon:(0,s.jsx)(C.g,{icon:k.a$,fixedWidth:!0})},private:{key:"private",label:(0,s.jsx)(h.x6,{id:"zwBp5t"}),ariaLabel:K.Ru._({id:"zwBp5t"}),icon:(0,s.jsx)(C.g,{icon:k.DW4,fixedWidth:!0})},createdByYou:{key:"createdByYou",label:(0,s.jsx)(h.x6,{id:"WZTg05"}),ariaLabel:K.Ru._({id:"WZTg05"}),icon:(0,s.jsx)(C.g,{icon:k.VFr,fixedWidth:!0})},favorites:{key:"favorites",label:(0,s.jsx)(h.x6,{id:"X9kySA"}),ariaLabel:K.Ru._({id:"X9kySA"}),icon:(0,s.jsx)(C.g,{icon:k.yy,fixedWidth:!0})}}),tA=["all","offline","recent","createdByYou","favorites"],tI=()=>tA.map(e=>({...tE()[e]})),tT=["all","offline","recent","createdByYou","favorites"],tF=()=>tT.map(e=>({...tE()[e]})),tD=["all","recent","favorites"],tO=()=>tD.map(e=>({...tE()[e]})),tR=(e,t)=>{let i={default:tI(),channel:tF(),shared:tO()}[t];return e?i.map(e=>({...e,isDisabled:"offline"!==e.key})):i.filter(e=>"offline"!==e.key)},t_=e=>{let{activeTab:t,currentChannelId:i,filterBy:n,setFilterBy:l}=e,{isInOfflineMode:o}=(0,u.u)(),a=tR(o,i?"channel":t===U.uL.SHARED_WITH_YOU?"shared":"default"),d=o?"offline":n,c=tE()[d],x=(0,r.useCallback)(e=>{o||l(e.key)},[o,l]);return(0,s.jsx)(tS.x,{selectedOption:c,setSelectedOption:x,options:a,dropdownButtonLeftIcon:(0,s.jsx)(C.g,{icon:k.mRM,fixedWidth:!0}),dropdownMenuTitle:K.Ru._({id:"MwX53Z"})})},tz=e=>{var t;let{filterBy:i,sortBy:n,sortDirection:r,setSortBy:l,setSortDirection:o,size:a="sm",disableSorting:d=!1}=e,c=ew(i),x=c?e1.CW:e1.Zv.concat({key:F.vY2.Title,label:K.Ru._({id:"MHrjPM"})});return(0,s.jsxs)(eJ.e,{variant:"ghost",size:a,zIndex:"2",children:[!(0,W.Xb)()&&!c&&(0,s.jsxs)(et.W,{closeOnSelect:!0,children:[(0,s.jsx)(ei.I,{as:L.$,variant:"ghost",size:a,rightIcon:(0,s.jsx)(C.g,{icon:k.Jt$,"aria-label":"Open menu"}),fontWeight:"600",color:"gray.600",isDisabled:d,children:(null==x||null==(t=x.find(e=>e.key===n))?void 0:t.label)||(0,s.jsx)(h.x6,{id:"acZeX2"})}),(0,s.jsx)(es.Z,{children:(0,s.jsx)(er.c,{minWidth:"240px",zIndex:"overlay",children:(0,s.jsx)(eK.i,{defaultValue:"alpha",title:K.Ru._({id:"/HgF9q"}),type:"radio",children:x.map(e=>{let t=n===e.key;return(0,s.jsx)(eo.D,{icon:t?(0,s.jsx)(eY.S,{}):(0,s.jsx)(f.a,{w:3}),value:e.key,onClick:()=>l(e.key),children:e.label},e.key)})})})})]}),(c||x.find(e=>e.key===n))&&(0,s.jsx)(ef.Tz,{label:(0,s.jsx)(h.x6,{id:"TZml21"}),children:(0,s.jsx)(en.K,{color:"gray.600","aria-label":"sort",isDisabled:d,onClick:()=>o(r===F.UEL.Asc?F.UEL.Desc:F.UEL.Asc),icon:(0,s.jsx)(C.g,{icon:k.rLo})})})]})},tB=e=>{let{activeTab:t,currentChannelId:i,filterBy:n,sortBy:r,sortDirection:l,viewPreference:o,setFilterBy:a,setSortBy:d,setSortDirection:c,setViewPreference:x,shouldShowCategoryFilters:h,shouldShowSortOptions:u,shouldShowViewToggle:m,shouldDisableSorting:p}=e;return h||u||m?(0,s.jsxs)(g.B,{direction:"row",alignItems:"center",children:[h&&(0,s.jsx)(t_,{activeTab:t,filterBy:n,setFilterBy:a,currentChannelId:i}),(0,s.jsx)(J.h,{}),(0,s.jsxs)(j.z,{alignItems:"center",children:[u&&(0,s.jsx)(tz,{filterBy:n,sortBy:r,sortDirection:l,setSortBy:d,setSortDirection:c,disableSorting:p}),m&&(0,s.jsx)(tM,{viewPreference:o,setViewPreference:x})]})]}):(0,s.jsx)(s.Fragment,{})},tM=e=>{let{viewPreference:t,setViewPreference:i}=e,n="list"===t;return(0,s.jsxs)(j.z,{spacing:0,bg:"gray.200",p:.5,borderRadius:"full",children:[(0,s.jsx)(L.$,{size:"sm","data-testid":"view-toggle-grid",variant:n?"ghost":"plain",color:n?"gray.600":"trueblue.500",onClick:()=>i("grid"),children:(0,s.jsxs)(j.z,{children:[(0,s.jsx)(C.g,{icon:k.Qyz}),(0,s.jsx)(M.E,{display:["none","none","none","none","block"],children:(0,s.jsx)(h.x6,{id:"CXDHcv"})})]})}),(0,s.jsx)(L.$,{size:"sm","data-testid":"view-toggle-list",variant:n?"plain":"ghost",color:n?"trueblue.500":"gray.600",onClick:()=>i("list"),children:(0,s.jsxs)(j.z,{children:[(0,s.jsx)(C.g,{icon:k.ckx}),(0,s.jsx)(M.E,{display:["none","none","none","none","block"],children:(0,s.jsx)(h.x6,{id:"2BBAbc"})})]})})]})};var tL=i(88571),tN=i(83550),tP=i(96500),tU=i(16491),tW=i(91938),tV=i(26899),tH=i(92699);let tG=e=>{let t=(0,D.u)("docImport"),i=(0,D.u)("pptImport");return t||i?(0,s.jsx)(tU.G_,{clientId:tW.$.GOOGLE_DRIVE_IMPORT_CLIENT_ID,children:(0,s.jsx)(tY,{...e})}):null},tY=e=>{let{handleImport:t,isDisabled:i,buttonProps:n}=e,{isOpen:r,onOpen:l,onClose:o}=(0,p.j)({id:"import-plain-modal"}),{push:a}=(0,A.useRouter)(),d=(0,D.u)("themeImportAi");return(0,s.jsxs)(et.W,{children:[(0,s.jsx)(ei.I,{as:L.$,onFocus:e=>e.preventDefault(),"data-testid":"import-doc-button",isDisabled:i,leftIcon:(0,s.jsx)(C.g,{icon:k.$MS}),rightIcon:(0,s.jsx)(C.g,{icon:k.Jt$}),sx:{span:{flexGrow:0}},...n,children:(0,s.jsx)(h.x6,{id:"l3s5ri"})}),(0,s.jsx)(es.Z,{children:(0,s.jsxs)(er.c,{maxW:"350px",zIndex:"tooltip",children:[(0,s.jsxs)(tN.r,{title:K.Ru._({id:"4b3oEV"}),children:[(0,s.jsx)(eo.D,{icon:(0,s.jsx)(C.g,{icon:e0.p7g,fixedWidth:!0}),onClick:()=>{a("/create/import?ref=home")},children:(0,s.jsxs)(j.z,{align:"flex-start",children:[(0,s.jsxs)(g.B,{spacing:0,children:[(0,s.jsx)(M.E,{children:(0,s.jsx)(h.x6,{id:"QIFgHt"})}),(0,s.jsx)(M.E,{fontSize:"xs",color:"gray.500",children:(0,s.jsx)(h.x6,{id:"viFd4B"})})]}),(0,s.jsx)(J.h,{}),(0,s.jsx)(N.E,{h:"fit-content",colorScheme:"trueblue",ms:2,children:(0,s.jsx)(h.x6,{id:"jsQZMk"})})]})}),(0,s.jsx)(eo.D,{icon:(0,s.jsx)(C.g,{icon:k.$MS,fixedWidth:!0}),onClick:l,children:(0,s.jsxs)(g.B,{spacing:0,children:[(0,s.jsx)(M.E,{children:(0,s.jsx)(h.x6,{id:"yCc/Nz"})}),(0,s.jsx)(M.E,{fontSize:"xs",color:"gray.500",children:(0,s.jsx)(h.x6,{id:"G3+qfy"})})]})})]}),d&&(0,s.jsx)(tN.r,{title:K.Ru._({id:"f8fH8W"}),children:(0,s.jsx)(eo.D,{icon:(0,s.jsx)(C.g,{icon:k.fyG,fixedWidth:!0}),onClick:async()=>{await a("#themes"),setTimeout(()=>{(0,tH.yJ)()},200)},children:(0,s.jsxs)(j.z,{align:"flex-start",children:[(0,s.jsxs)(g.B,{spacing:0,children:[(0,s.jsx)(M.E,{children:(0,s.jsx)(h.x6,{id:"NYdkQ8"})}),(0,s.jsx)(M.E,{fontSize:"xs",color:"gray.500",children:(0,s.jsx)(h.x6,{id:"uejFEJ"})})]}),(0,s.jsx)(J.h,{}),(0,s.jsx)(N.E,{h:"fit-content",colorScheme:"trueblue",ms:2,children:(0,s.jsx)(h.x6,{id:"jsQZMk"})})]})})})]})}),(0,s.jsxs)(ea.aF,{isOpen:r,onClose:o,size:"4xl",trapFocus:!1,closeOnOverlayClick:!1,children:[(0,s.jsx)(ed.m,{}),(0,s.jsxs)(ec.$,{children:[(0,s.jsx)(ex.r,{children:(0,s.jsxs)(j.z,{spacing:3,children:[(0,s.jsx)(C.g,{icon:k.$MS}),(0,s.jsx)(M.E,{children:(0,s.jsx)(h.x6,{id:"F6aY4g"})})]})}),(0,s.jsx)(tP.c,{}),(0,s.jsx)(eh.s,{}),(0,s.jsx)(eu.c,{py:4,px:{base:4,md:6},children:(0,s.jsx)(g.B,{spacing:4,align:"center",justify:"center",children:(0,s.jsx)(tV.J,{onImportComplete:t})})}),(0,s.jsx)(eg.j,{children:(0,s.jsx)(L.$,{variant:"solid",onClick:o,children:(0,s.jsx)(h.x6,{id:"dEgA5A"})})})]})]})]})};var tJ=i(87386),tK=i(22905),tQ=i(64072),t$=i(66607);let tX=(e,t,i)=>{var n;let s,r=(0,tQ.C)(),l=(0,tK.getSchema)(r),{slice:o}=(0,t$.S)(e,l,t,{preserveWhitespace:!1}),a=(null==(n=o.toJSON())?void 0:n.content)||[];if(a.every(e=>"card"===e.type))s=(0,tJ.createDocWithCards)(i,a);else{let e=a.filter(e=>l.nodes[e.type].isBlock)||[];s=(0,tJ.createDocWithCards)(i,[{type:"card",content:e}])}return console.debug("Parsing imported doc",{doc:s,slice:o,splitContent:a,html:e}),s};var tq=i(95889),tZ=i(8139);let t0=e=>{let{isDisabled:t,channelId:i}=e,{push:n}=(0,A.useRouter)(),l=i?"?channelId=".concat(i):"",o=(0,r.useCallback)(()=>n("/create".concat(l)),[n,l]);return(0,s.jsx)(L.$,{"data-testid":"create-from-ai-button",isDisabled:t,variant:"special",onClick:o,leftIcon:(0,s.jsx)(C.g,{icon:k.QLR}),rightIcon:(0,s.jsx)(N.E,{colorScheme:"trueblue",textShadow:"none",children:"AI"}),children:(0,s.jsx)(h.x6,{id:"BOqY23"})})};var t1=i(96833),t6=i(32805),t2=i(90010);let t5=e=>{let{createBlank:t,isDisabled:i}=e,n=(0,t2.Bi)(),l=(e,i)=>{t({docSettings:tZ.S9[i].docSettings(),format:e})};return(0,s.jsxs)(eJ.e,{isAttached:!0,children:[(0,s.jsx)(ef.Tz,{label:"gamma.new",placement:"top",openDelay:250,children:(0,s.jsx)(L.$,{"data-testid":"create-doc-button",isDisabled:i,variant:"plain",onClick:()=>l("deck","deck_default"),leftIcon:(0,s.jsx)(C.g,{icon:k.QLR}),flex:1,children:(0,s.jsx)(h.x6,{id:"exOjhh"})})}),(0,s.jsxs)(et.W,{placement:"bottom-end",children:[(0,s.jsx)(ei.I,{as:en.K,variant:"plain",icon:(0,s.jsx)(C.g,{fixedWidth:!0,icon:k.Jt$}),borderInlineStart:"none",isDisabled:i}),(0,s.jsx)(er.c,{maxH:"50vh",overflowY:"scroll",zIndex:"tooltip",children:n.map((e,t)=>{let i=t===n.length-1;return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(tN.r,{title:e.name(),children:(0,s.jsx)(t6.D,{docFormatCategory:e,onSelectStyleTemplate:t=>{l(e.formatType,t)}})}),!i&&(0,s.jsx)(el.N,{})]},t)})})]})]})},t4={GoogleDocs:"import_google_doc",GoogleSlides:"import_google_slides",DocxUpload:"import_docx",PptxUpload:"import_pptx",WebpageUrl:"import_webpage",PdfUpload:"import_pdf"},t3=e=>{let{currentWorkspace:t,description:i,ariaLabel:n,displayName:l,icon:o,showCreateButton:a,channel:d,isChannelPreview:c,isOffline:x}=e,u=(0,D.u)("aiWizard"),m=(0,tq.st)(),[p,{data:b,loading:v}]=(0,tL.m)(),y=v||!!((null==b?void 0:b.createDoc)||!t)||x,w=(0,r.useCallback)(e=>{p({...e,channelId:null==d?void 0:d.id,source:"blank"})},[null==d?void 0:d.id,p]),k=(0,r.useCallback)(async e=>{let{html:t,filename:i,source:n,src:s,latency:r}=e,l="GoogleDocs"===n||"DocxUpload"===n||"PdfUpload"===n,o=tX(t,{splitOnHeadings:l,splitOnDividers:!0,nested:l},"PptxUpload"===n||"GoogleSlides"===n?{format:tZ.S9.deck_traditional.formatType,settings:{...tZ.S9.deck_traditional.docSettings()}}:void 0);null==m||m.track(tq.VV.DOC_IMPORTED,{source:n,src:s,with_ai:!1,latency:r}),p({document:o,channelId:null==d?void 0:d.id,title:i,source:t4[n]})},[m,p,null==d?void 0:d.id]);return(0,s.jsxs)(z.s,{flex:"1",mb:4*!(0,W.Xb)(),direction:"column",children:[(0,s.jsxs)(f.a,{w:["100%","auto"],children:[(0,s.jsxs)(j.z,{h:"1.5em",children:[(0,s.jsxs)(B.D,{size:"sm","data-testid":"docs-view-header",children:[o&&(0,s.jsx)(C.g,{icon:o,"aria-label":n()})," ",(0,s.jsx)(M.E,{as:"span",ms:2,children:l})]}),(0,s.jsx)(J.h,{})]}),i&&(0,s.jsx)(M.E,{color:"gray.600",fontSize:"sm",children:i}),d&&(0,s.jsxs)(g.B,{direction:"row",alignItems:"center",mt:4,children:[(0,s.jsx)(ef.KZ,{overflowTooltipLabel:"See everyone",size:"xs",avatars:(null==d?void 0:d.members)||[],max:6}),(0,s.jsx)(M.E,{fontSize:"sm",ms:2,children:(0,s.jsx)(h.x6,{id:"pkIIls",values:{0:d.memberCount||0}})}),(0,s.jsx)(J.h,{display:{base:"flex",lg:"none"}}),!c&&d&&(0,s.jsx)(f.a,{justifyContent:{base:"flex-end",lg:"flex-start"},children:(0,s.jsx)(t1.S,{channel:d,workspaceId:null==t?void 0:t.id})})]})]}),a&&(0,s.jsxs)(g.B,{direction:{base:"column",lg:"row"},spacing:2,mt:4,children:[u&&(0,s.jsx)(t0,{isDisabled:y,channelId:null==d?void 0:d.id}),!(0,W.Xb)()&&(0,s.jsx)(t5,{isDisabled:y,createBlank:w}),a&&!(0,W.Xb)()&&(0,s.jsx)(tG,{handleImport:k,isDisabled:y})]})]})};var t8=i(2318);let t9=e=>{let{editors:t,user:i}=e,n=(0,t8.Hz)(t,null==i?void 0:i.id);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ef.KZ,{size:"xs",overflowTooltipLabel:K.Ru._({id:"25VyZX"}),shouldAnimate:!1,max:3,avatars:n.map(e=>{let{displayName:t,profileImageUrl:i,id:n}=e;return{name:t||"",id:n,profileImageUrl:i,color:"white"}})}),(0,s.jsx)(g.B,{spacing:0,children:(0,s.jsx)(M.E,{fontSize:"xs",color:"gray.500",children:(0,s.jsx)(h.x6,{id:"27Yldc",values:{0:n.length}})})})]})},t7=e=>{let{presenters:t,user:i}=e,n=(0,t8.Hz)(t,null==i?void 0:i.id);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ef.KZ,{overflowTooltipLabel:K.Ru._({id:"25VyZX"}),shouldAnimate:!1,size:"xs",max:3,avatars:n.map(e=>{let{displayName:t,profileImageUrl:i,id:n}=e;return{name:t||"",id:n,profileImageUrl:i,color:"white"}})}),(0,s.jsx)(g.B,{spacing:0,children:(0,s.jsx)(M.E,{fontSize:"xs",color:"gray.500",children:(0,s.jsx)(h.x6,{id:"u2htxq",values:{0:n.length}})})})]})},ie=e=>{let{activeDocs:t,filterBy:i}=e,n=(0,D.u)("screenshotsEnabled"),{user:r}=(0,_.ur)(),{favoriteDoc:l}=(0,ts.I)({refetchQueries:["GetDocs","GetChannelDocActivity"]});return(0,s.jsxs)(f.a,{bg:"blackAlpha.100",my:4,pt:2,borderRadius:"md",border:"1px solid #000",borderColor:"blackAlpha.100",children:[(0,s.jsxs)(M.E,{px:6,fontSize:"sm",fontWeight:"600",color:"gray.600",mt:2,children:[(0,s.jsx)(C.g,{icon:k.qAe})," ",(0,s.jsx)(h.x6,{id:"/sL1z7"})]}),(0,s.jsx)(v.x,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},gap:6,p:6,pt:3,children:null==t?void 0:t.map(e=>{var t;let{doc:i,editors:o,presenters:a}=e,{title:d,id:c,titleCard:x,createdTime:h}=i,u={src:n?null==x?void 0:x.previewUrl:q.A,fallbackSrc:q.A.src},m=a&&a.length>0,p=!m&&o&&o.length>0,g=(0,eS.LN)({docId:c}),f=(0,s.jsxs)(j.z,{px:2,py:1,bg:"green.100",borderRadius:"md",w:"100%",children:[p&&(0,s.jsx)(t9,{editors:o,user:r}),m&&(0,s.jsx)(t7,{presenters:a,user:r})]});return(0,s.jsx)(eL.Dg,{createdTime:h,title:d,NextLink:$(),href:g,id:c,thumbnailImageUrl:u,isFavorited:null==(t=i.docUser)?void 0:t.favorited,onFavorite:l(new Date,i),onUnfavorite:l(null,i),menuEnabled:!1,activity:f},c)})})]})},it=(0,r.memo)(e=>{let{activeTab:t,channel:i,isChannelPreview:n,activeDocs:r,sortDirection:l,sortBy:o,filterBy:a,viewPreference:d,setSortBy:c,setSortDirection:x,setViewPreference:h,setFilterBy:u,isOffline:m}=e,p=!(0,W.Xb)()&&t!==U.uL.TEMPLATES,j=!!(t===U.uL.ALL||t===U.uL.SHARED_WITH_YOU||i),{currentWorkspace:g}=(0,_.ur)(),{displayName:b,description:v,ariaLabel:y,icon:w,showCreateButton:k}=U.mQ[t],C=(null==i?void 0:i.name)||b;return(0,s.jsxs)(f.a,{w:"100%",mb:6,children:[(0,s.jsx)(t3,{displayName:C,ariaLabel:y,description:v,icon:w,showCreateButton:k&&!n,currentWorkspace:g,channel:i,isChannelPreview:n,isOffline:m}),r&&r.length>0&&(0,s.jsx)(ie,{activeDocs:r,filterBy:a}),(0,s.jsx)(tB,{activeTab:t,filterBy:a,sortBy:o,sortDirection:l,setViewPreference:h,setFilterBy:u,setSortBy:c,setSortDirection:x,viewPreference:d,shouldShowCategoryFilters:j,currentChannelId:(null==i?void 0:i.id)||null,shouldShowSortOptions:p&&"grid"===d,shouldShowViewToggle:p,shouldDisableSorting:m})]})});it.displayName="DocsViewTopbar";var ii=i(46898),is=i(83638),ir=i(38036),il=i(5091);let io=e=>{let{onClose:t,doc:i}=e,[n,{loading:l}]=(0,F.cGn)(),o=(0,ii.d)(),[a,d]=(0,r.useState)(()=>i.title),[c,x]=(0,r.useState)("Untitled"),[u,m]=(0,r.useState)(null),p=(0,r.useCallback)(e=>{d(e.target.value)},[]),j=(0,r.useRef)(null),{data:g}=(0,F.YDl)({variables:{docId:i.id,snapshotId:i.currentSnapshotId},skip:!(null==i?void 0:i.currentSnapshotId)||!(null==i?void 0:i.id)}),f=!!u;(0,r.useEffect)(()=>{(null==g?void 0:g.snapshot)&&x((null==g?void 0:g.snapshot)&&(0,tJ.getCardTitle)(g.snapshot.content.default.content[0].content[0])||K.Ru._({id:"wja8aL"}))},[null==g?void 0:g.snapshot]);let b=(0,r.useCallback)(()=>{let e=!!(a&&a.length);n({variables:{id:i.id,titleEdited:e,title:e?a:c}}).then(()=>{o({title:(0,s.jsx)(h.x6,{id:"ZYAPMn",values:{GAMMA_ARTIFACT_PROPER_NOUN:tb.TP,0:a.length>0?a:c}}),position:"top",status:"success",duration:5e3}),m(null),t()}).catch(e=>{console.error(e),m(e.message)})},[i.id,t,a,o,n,c]);return(0,s.jsxs)(ea.aF,{closeOnOverlayClick:!1,isOpen:!0,initialFocusRef:j,onClose:t,children:[(0,s.jsx)(ed.m,{}),(0,s.jsxs)(ec.$,{children:[(0,s.jsx)(ex.r,{children:(0,s.jsx)(h.x6,{id:"2wxgft"})}),(0,s.jsx)(eh.s,{}),(0,s.jsx)(eu.c,{children:(0,s.jsx)(z.s,{mt:4,w:"100%",direction:"column",children:(0,s.jsxs)(is.MJ,{isInvalid:f,children:[(0,s.jsx)(ir.p,{value:a,placeholder:c,ref:j,_placeholder:{opacity:1,color:"gray.300"},onKeyDown:e=>{"Enter"===e.key&&b()},onChange:p}),f&&(0,s.jsx)(il.Wt,{children:u})]})})}),(0,s.jsx)(eg.j,{children:(0,s.jsxs)(eJ.e,{children:[(0,s.jsx)(L.$,{variant:"ghost",onClick:t,children:(0,s.jsx)(h.x6,{id:"dEgA5A"})}),(0,s.jsx)(L.$,{isLoading:l,variant:"solid",onClick:b,children:(0,s.jsx)(h.x6,{id:"2wxgft"})})]})})]})]})},ia=e=>{let{userHasNoWorkspaces:t,isSidebarVisible:i,setIsSidebarVisible:n,currentChannelId:l,activeChannel:o,channelPreview:a,activeTab:d,isOffline:c}=e,{user:x,currentWorkspace:u}=(0,_.ur)(),[m,j]=(0,r.useState)(!1),[g,b]=(0,r.useState)(null),[v,y]=(0,r.useState)(null),{isOpen:w,onOpen:k,onClose:C}=(0,p.j)({id:"ConfirmPermanentlyDeleteModal"}),[S,E]=(0,r.useState)(null),[A,{data:I}]=(0,F.gto)({variables:{id:g},returnPartialData:!0,nextFetchPolicy:"cache-first"}),{favoriteDoc:T,trashDoc:D,restoreDoc:O}=(0,ts.I)({refetchQueries:["GetDocs","GetSharedDocs","GetChannelDocActivity"]}),R=(0,td.Z)(),{removeDocChannel:z}=(0,ta.k)(),B=(0,_.IM)(),{isSharePanelOpen:M,onSharePanelOpen:N,onSharePanelClose:P,view:W,setView:V}=(0,to.R)(),{isOpen:H,onOpen:G,onClose:Y}=(0,p.j)({id:"RenameDocModalDisclosure"}),{viewPreference:J,setViewPreference:K,sortBy:Q,setSortBy:$,sortDirection:X,filterBy:q,setFilterBy:Z,setSortDirection:ee,dateDisplayOption:et,setDateDisplayOption:ei}=tf({currentChannelId:l,activeTab:d}),{docs:en,loading:es,showPaginationControls:er,fetchMore:el,activeDocs:eo}=tp({filterBy:q,activeTab:d,currentChannelId:l,channelPreview:a,user:x,currentWorkspace:u,sortBy:Q,sortDirection:X});(0,r.useEffect)(()=>{g&&A({variables:{id:g}})},[g,A]);let ea=(0,r.useCallback)(e=>{y(e),k()},[k]),ed=(0,r.useCallback)(e=>{b(e),N()},[N]),ec=(0,r.useCallback)((e,t)=>{z(e,t)},[z]),ex=(0,r.useCallback)(e=>{R({docId:e.id,source:"dashboard_docs_view_duplicate"})},[R]),eh=(0,r.useCallback)(e=>{E(e),G()},[G]),eu=!es&&en&&(null==en?void 0:en.length)>0;return(0,s.jsxs)(f.a,{width:"100%",children:[!t&&(0,s.jsx)(ty.e,{isSidebarVisible:i,setIsSidebarVisible:n,children:(0,s.jsx)(it,{activeTab:d,channel:a||o,activeDocs:eo,isChannelPreview:!!a,sortDirection:X,sortBy:Q,filterBy:q,viewPreference:J,setSortBy:$,setSortDirection:ee,setViewPreference:K,setFilterBy:Z,isOffline:c})}),(0,s.jsxs)(f.a,{width:"100%","data-testid":"docs-view-container",children:[(0,s.jsx)(eW,{user:x,currentWorkspace:u,currentChannelId:l,viewPreference:J}),es&&(0,s.jsx)(tC,{viewPreference:J}),!es&&(null==en?void 0:en.length)===0&&(0,s.jsx)(tv,{shared:d===U.uL.SHARED_WITH_YOU,trash:d===U.uL.TRASH}),"list"===J&&eu&&(0,s.jsx)(tt,{dateDisplayOption:et,setDateDisplayOption:ei,user:x,currentWorkspace:u,userHasNoWorkspaces:t,filterBy:q,isOffline:c,docs:en,currentChannelId:l,sortBy:Q,sortDirection:X,setSortBy:$,setSortDirection:ee,handleDuplicateDoc:ex,handleFavoriteDoc:T,handleTrash:D,handlePermanentDelete:ea,handleRestoreDoc:O,handleShareClick:ed,handleRenameClick:eh,handleRemoveFromChannel:ec}),"grid"===J&&eu&&(0,s.jsx)(tn.S,{"data-testid":"docs-view-doc-grid",children:en.map(e=>{var i;let n=B.can("view",e)&&!t,r=B.can("edit",e)&&!t,o=B.can("manage",e)&&!t;return(0,s.jsx)(eG,{user:x,currentWorkspace:u,doc:e,currentChannelId:l,sortBy:Q,filterBy:q,canDuplicate:n,createdByYou:(null==e||null==(i=e.createdBy)?void 0:i.id)===(null==x?void 0:x.id),handleDuplicateDoc:ex,handleFavoriteDoc:T,handleTrash:D,handlePermanentDelete:ea,handleRenameClick:eh,handleRemoveFromChannel:ec,handleRestoreDoc:O,handleShareClick:ed,canEditDoc:r,canManageDoc:o,isOffline:c},e.id)})}),M&&(0,s.jsx)(tl._j,{doc:null==I?void 0:I.doc,isSharePanelOpen:M,onSharePanelClose:()=>{b(null),P()},onSharePanelOpen:N,view:W,setView:V,showSiteSettings:!1}),H&&(0,s.jsx)(io,{doc:S,onClose:Y}),er&&(0,s.jsx)(ti.o,{p:6,children:(0,s.jsx)(L.$,{isLoading:m,onClick:()=>{j(!0),el().finally(()=>{j(!1)})},size:"sm",children:(0,s.jsx)(h.x6,{id:"yQ2kGp"})})}),w&&v&&(0,s.jsx)(tr,{doc:v,onClose:C})]})]})};var id=i(83743);let ic=e=>{let[t]=(0,F.Ist)(),[i]=(0,F.Fbj)();return(0,r.useCallback)(n=>{let s=n.uploadFontFiles.filter(e=>("existing"===e.status||"created"===e.status)&&e.fontFile.sourceUrl).map(e=>{let{name:t,weight:i,isItalic:n,fileType:s,sourceUrl:r}=e.fontFile,l={name:t,weight:i,isItalic:n,fileType:s,sourceUrl:r};return"existing"===e.status&&e.fontFile.id&&(l.id=e.fontFile.id),l});if("edit"!==n.mode)return t({variables:{input:{name:n.fontName,fontFiles:s,workspaceId:e}},refetchQueries:["GetWorkspaceFonts"]});{let t=[{op:F._SX.Add,path:"/name",value:n.fontName},{op:F._SX.Replace,path:"/fontFiles",value:s}];return i({variables:{input:{id:n.fontId,workspaceId:e,data:t}},refetchQueries:["GetWorkspaceFonts"]})}},[t,e,i])},ix=e=>{let t=(0,ii.d)(),[i,{loading:n}]=(0,F.QDl)();return{archiveFontFn:(0,r.useCallback)(async(n,r)=>i({variables:{id:n,workspaceId:e},refetchQueries:["GetWorkspaceFonts"]}).then(e=>(t({title:(0,s.jsx)(h.x6,{id:"w+hpl4",values:{name:r}}),status:"success",duration:2e3,isClosable:!0,position:"top"}),e)),[i,e,t]),isArchiving:n}},ih=e=>{let{onClose:t,font:i,orgId:n}=e,{archiveFontFn:l,isArchiving:o}=ix(n),a=(0,r.useCallback)(()=>{l(i.id,i.name).then(t).catch(e=>{console.error("[FontDeleteModal] Error deleting font",e)})},[l,i.id,i.name,t]);return(0,s.jsxs)(ea.aF,{onClose:t,isOpen:!0,children:[(0,s.jsx)(ed.m,{}),(0,s.jsxs)(ec.$,{children:[(0,s.jsx)(ex.r,{children:(0,s.jsx)(h.x6,{id:"Tf88pC",values:{0:i.name}})}),(0,s.jsx)(eh.s,{isDisabled:o}),(0,s.jsx)(eu.c,{children:(0,s.jsxs)(g.B,{spacing:4,children:[(0,s.jsx)(M.E,{fontWeight:"bold",children:(0,s.jsx)(h.x6,{id:"GG34Oa"})}),(0,s.jsx)(M.E,{children:(0,s.jsx)(h.x6,{id:"0v/7qb"})}),(0,s.jsx)(M.E,{color:"red.500",children:(0,s.jsx)(h.x6,{id:"2xOCJW"})})]})}),(0,s.jsx)(eg.j,{children:(0,s.jsxs)(eJ.e,{children:[(0,s.jsx)(L.$,{variant:"ghost",onClick:t,children:(0,s.jsx)(h.x6,{id:"dEgA5A"})}),(0,s.jsx)(L.$,{variant:"hazardous",onClick:a,isLoading:o,children:(0,s.jsx)(h.x6,{id:"04FTaq"})})]})})]})]})},iu=e=>{let{children:t,...i}=e;return(0,s.jsx)(z.s,{border:"1px solid",borderColor:"gray.200",minH:36,maxH:36,minW:"100%",borderRadius:"lg",alignItems:"center",justifyContent:"center",transition:"all",transitionDuration:"normal",_hover:{background:"white",color:"trueblue.600",cursor:"pointer"},...i,children:t})};var im=i(57405),ip=i(74907),ij=i(22832);let ig=()=>(0,s.jsxs)(em.F,{status:"warning",children:[(0,s.jsx)(ep._,{}),(0,s.jsxs)(M.E,{children:[(0,s.jsxs)("strong",{children:[(0,s.jsx)(h.x6,{id:"S89SGJ"})," ",(0,s.jsx)("span",{role:"img","aria-label":"Crying emoji",children:"\uD83D\uDE22"}),"."]})," ",(0,s.jsx)(h.x6,{id:"5FjY+D",components:{0:(0,s.jsx)(ij.C,{colorScheme:"purple"}),1:(0,s.jsx)(ij.C,{colorScheme:"pink"})}})]})]});var ib=i(4192);let iv=e=>{let{fileExtension:t}=e;return(0,s.jsx)(ib.vw,{size:"sm",justifyContent:"center",background:t===F.AKY.Ttf?"deepocean.100":"pink.100",children:t.toUpperCase()})},iy=e=>{let{fontFamily:t,fontWeight:i,isItalic:n,headingText:r}=e;return(0,s.jsx)(B.D,{fontFamily:'"'.concat(t,'"'),noOfLines:1,lineHeight:"base",fontWeight:i,fontStyle:n?"italic":"normal",children:r||t})},iw=e=>{let t=[...e.reduce((e,t)=>{let i=e.findIndex(e=>e.isItalic===t.isItalic&&e.weight===t.weight);if(-1===i)return[...e,t];if(e[i].fileType===t.fileType)return e;let n={...t,fileTypes:[t.fileType,e[i].fileType]};return[...e.slice(0,i),n,...e.slice(i+1)]},[])];return t.sort((e,t)=>e.weight!==t.weight?e.weight-t.weight:e.isItalic!==t.isItalic?!1===e.isItalic?-1:1:0),t},ik=e=>{var t;let{font:i,onClose:n,onEditClick:l,onDeleteClick:o}=e,a=(0,r.useMemo)(()=>iw(i.fontFiles||[]),[i.fontFiles]);return(0,s.jsxs)(ea.aF,{isOpen:!0,onClose:n,size:"3xl",blockScrollOnMount:!1,children:[(0,s.jsx)(ed.m,{}),(0,s.jsxs)(ec.$,{children:[(0,s.jsx)(ex.r,{children:i.name}),(0,s.jsx)(eh.s,{}),(0,s.jsx)(tP.c,{mb:"4"}),(0,s.jsx)(eu.c,{children:(0,s.jsxs)(im.T,{mb:4,spacing:6,align:"stretch",children:[(null==(t=i.fontFiles)?void 0:t.length)===0&&(0,s.jsx)(ig,{}),a.map(e=>{var t,n;let r=!!(e.fileType===F.AKY.Otf||(null==(t=e.fileTypes)?void 0:t.includes(F.AKY.Otf))),l=!!(e.fileType===F.AKY.Ttf||(null==(n=e.fileTypes)?void 0:n.includes(F.AKY.Ttf)));return(0,s.jsx)(iC,{fontName:i.name,weight:e.weight,isItalic:e.isItalic,hasOTF:r,hasTTF:l},e.id)})]})}),(0,s.jsxs)(eg.j,{justifyContent:"space-between",children:[(0,s.jsx)(L.$,{variant:"hazardous",onClick:o,children:(0,s.jsx)(h.x6,{id:"cnGeoo"})}),(0,s.jsxs)(eJ.e,{children:[(0,s.jsx)(L.$,{variant:"plain",onClick:l,children:(0,s.jsx)(h.x6,{id:"ePK91l"})}),(0,s.jsx)(L.$,{variant:"solid",onClick:n,children:(0,s.jsx)(h.x6,{id:"DPfwMq"})})]})]})]})]})},iC=e=>{let{fontName:t,weight:i,isItalic:n,hasOTF:r,hasTTF:l}=e,o=(0,s.jsxs)(s.Fragment,{children:[(0,ip.w)()[i]," ",n?(0,s.jsx)(h.x6,{id:"pzutoc"}):""]}),a=(0,s.jsxs)(s.Fragment,{children:[t," ",o]}),d=(0,s.jsxs)(s.Fragment,{children:[i," - ",o]});return(0,s.jsxs)(z.s,{justify:"space-between",gap:"10px",children:[(0,s.jsxs)(g.B,{spacing:2,children:[(0,s.jsx)(M.E,{color:"gray.600",children:d}),(0,s.jsx)(iy,{fontFamily:t,fontWeight:i.toString(),isItalic:n,headingText:a})]}),(0,s.jsxs)(j.z,{align:"center",children:[l&&(0,s.jsx)(iv,{fileExtension:F.AKY.Ttf}),r&&(0,s.jsx)(iv,{fileExtension:F.AKY.Otf})]})]})};var iS=i(69413);let iE=e=>{let{font:t,onClick:i,onEditClick:n,onDeleteClick:r}=e,l=(0,iS.jI)((null==t?void 0:t.fontFiles)||[]),o=(0,iS.Eu)(t.fontFiles||[]),a=(0,iS.g9)(o,700)||700,d=(0,iS.Q3)(null==t?void 0:t.fontFiles);return(0,s.jsxs)(g.B,{children:[(0,s.jsx)(iu,{bg:"white",justifyContent:"flex-start",p:6,onClick:i,children:(0,s.jsxs)(g.B,{maxW:"100%",children:[(0,s.jsx)(iy,{fontWeight:a.toString(),isItalic:d,fontFamily:t.name,headingText:t.name}),(0,s.jsx)(h.x6,{id:"B2DVf/",values:{styleCount:l},components:{0:(0,s.jsx)(M.E,{color:"orange.600"}),1:(0,s.jsx)(f.a,{as:"span",mr:1}),2:(0,s.jsx)(C.g,{icon:e0.QJT})}})]})}),(0,s.jsxs)(z.s,{children:[(0,s.jsx)(M.E,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:t.name}),(0,s.jsx)(J.h,{}),(0,s.jsxs)(et.W,{children:[(0,s.jsx)(ei.I,{as:en.K,isRound:!0,size:"sm",variant:"ghost",icon:(0,s.jsx)(C.g,{icon:k.vHW}),"aria-label":K.Ru._({id:"eqqNgX"})}),(0,s.jsxs)(er.c,{children:[(0,s.jsx)(eo.D,{icon:(0,s.jsx)(C.g,{icon:k.MT7,fixedWidth:!0}),onClick:n,children:(0,s.jsx)(h.x6,{id:"ePK91l"})}),(0,s.jsx)(el.N,{}),(0,s.jsx)(eo.D,{color:"red.500",icon:(0,s.jsx)(C.g,{icon:k.yLS,fixedWidth:!0}),onClick:r,children:(0,s.jsx)(h.x6,{id:"cnGeoo"})})]})]})]})]})};var iA=i(58495),iI=i(66265);let iT=(e,t)=>{let i=0;return new Promise((n,s)=>{let r=()=>{let l=setTimeout(()=>{++i<t.maxRetries?r():s("timed out")},t.timeout);e().then(n).catch(s).finally(()=>{clearTimeout(l)})};r()})},iF={existingFont:null,mode:"create",fontId:void 0,hasUploadedFonts:!1,fontName:"",uploadFontFiles:[]};function iD(e,t){switch(t.type){case"NEW_FONT_UPLOAD":case"RESET_FONT_UPLOAD":return iF;case"EDIT_EXISTING_FONT":{let{font:e}=t.data;return{existingFont:e,mode:"edit",fontId:e.id,fontName:e.name,hasUploadedFonts:!0,uploadFontFiles:e.fontFiles.map(e=>({fontFile:e,uploadId:e.id,status:"existing",errorMessage:null}))}}case"EDIT_FONT_NAME":{let{fontName:i}=t.data;return{...e,fontName:i}}case"UPLOAD_FONT_FILE_UPLOAD_STARTED":{let{data:i}=t,n={fontFile:{id:i.uploadId,name:i.name,weight:i.weight,isItalic:i.isItalic,fileType:i.fileType},uploadId:i.uploadId,status:"uploading",errorMessage:null},s=e.fontName?e.fontName:i.familyName;return{...e,fontName:s,hasUploadedFonts:!0,uploadFontFiles:[...e.uploadFontFiles,n]}}case"UPLOAD_FONT_FILE_UPLOAD_ERROR":{let{uploadId:i,errorMessage:n}=t.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>i===e.uploadId?{...e,status:"error",errorMessage:n}:e)}}case"UPLOAD_FONT_FILE_UPLOAD_SUCCESS":{let{uploadId:i,sourceUrl:n}=t.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>{if(i===e.uploadId){let t={...e.fontFile,sourceUrl:n};return{...e,status:"created",errorMessage:null,fontFile:t}}return e})}}case"EDIT_UPLOAD_FONT_FILE_WEIGHT":{let{uploadId:i,weight:n}=t.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>e.uploadId===i?{...e,fontFile:{...e.fontFile,weight:n}}:e)}}case"EDIT_UPLOAD_FONT_FILE_STYLE":{let{uploadId:i,isItalic:n}=t.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>e.uploadId===i?{...e,fontFile:{...e.fontFile,isItalic:n}}:e)}}case"DELETE_UPLOAD_FONT_FILE":{let{uploadId:i}=t.data;return{...e,uploadFontFiles:e.uploadFontFiles.filter(e=>e.uploadId!==i)}}default:throw Error("Unhandled action type: ".concat(t))}}var iO=i(25223),iR=i(3276),i_=i(61491),iz=i(92843);let iB=e=>{let{fontFiles:t,fontWeight:i,dispatch:n}=e,[l,o]=(0,r.useState)(!1);if(!t)return null;let a=(0,s.jsxs)(s.Fragment,{children:[i," - ",(0,ip.w)()[i]]}),d=(0,iS.H9)(t),c=!!Object.keys(d).length;return(0,s.jsx)(e$.K,{children:(0,s.jsxs)(eR.X,{colorScheme:"blackAlpha",mb:8,borderRadius:"md",children:[(0,s.jsx)(eX.d,{children:(0,s.jsx)(ef.Tz,{placement:"top",isDisabled:!c,label:(0,s.jsx)(h.x6,{id:"KXcsLu"}),shouldWrapChildren:!0,children:(0,s.jsxs)(ef._x,{mb:"2",cursor:c?"help":void 0,color:c?"yellow.600":void 0,children:[c&&(0,s.jsx)(C.g,{icon:e0.QJT})," ",a]})})}),(0,s.jsx)(eZ.N,{children:t.map(e=>(0,s.jsx)(iM,{uploadFontFile:e,dispatch:n,duplicates:d,isHoveringOnADuplicate:l,setIsHoveringOnADuplicate:o},e.uploadId))})]})})},iM=e=>{let{uploadFontFile:t,duplicates:i,isHoveringOnADuplicate:n,setIsHoveringOnADuplicate:l,dispatch:o}=e,a=(0,ii.d)(),{fontFile:d,errorMessage:c,uploadId:x}=t,u=void 0===d.sourceUrl&&!c,m=i[x],p=(0,iS.G0)(Object.keys((0,ip.w)())),b=n&&m?"yellow.100":m?"yellow.50":"blackAlpha.50",v=(0,r.useCallback)(()=>{o({type:"DELETE_UPLOAD_FONT_FILE",data:{uploadId:x}}),a({title:(0,s.jsx)(h.x6,{id:"NHHKzo",values:{0:d.name}}),status:"info",duration:1e3,isClosable:!0,position:"top"})},[o,d.name,a,x]),y=m?d.isItalic?(0,s.jsx)(h.x6,{id:"yvnLC0",values:{0:d.weight}}):(0,s.jsx)(h.x6,{id:"QiSKej",values:{0:d.weight}}):"";return(0,s.jsxs)(e_.Tr,{minH:12,width:"100%",background:b,children:[(0,s.jsx)(ez.Td,{py:1,fontSize:"sm",textOverflow:"ellipsis",width:80,pl:0,children:(0,s.jsxs)(j.z,{ml:4,spacing:3,children:[(0,s.jsx)(iv,{fileExtension:d.fileType||F.AKY.Ttf}),(0,s.jsx)(ef.Tz,{placement:"right",label:y,children:(0,s.jsxs)(g.B,{width:"100%",pl:1,spacing:0,cursor:m?"help":"auto",onMouseOver:()=>{l(m)},onMouseOut:()=>{l(!1)},children:[(0,s.jsx)(ef.Tz,{label:(0,s.jsx)(h.x6,{id:"e3mFaa"}),placement:"top",isDisabled:!c,children:(0,s.jsxs)(M.E,{color:c?"red.600":void 0,children:[d.name," ",u?(0,s.jsx)(iR.y,{ml:1,size:"xs",color:"gray"}):c&&(0,s.jsx)(f.a,{as:"span",color:"red.600",children:(0,s.jsx)(C.g,{icon:e0.QJT})})]})}),m&&(0,s.jsx)(M.E,{fontSize:"xs",color:"yellow.700",children:(0,s.jsx)(h.x6,{id:"mAsucF"})})]})})]})}),(0,s.jsx)(ez.Td,{py:1,minW:12,children:(0,s.jsx)(ef.Tz,{"aria-label":K.Ru._({id:"+7pOZT"}),label:(0,s.jsx)(h.x6,{id:"+7pOZT"}),placement:"top",children:(0,s.jsx)(f.a,{children:(0,s.jsx)(i_.S,{size:"sm",isChecked:d.isItalic,onChange:e=>{o({type:"EDIT_UPLOAD_FONT_FILE_STYLE",data:{uploadId:x,isItalic:e.target.checked}})},children:(0,s.jsx)(M.E,{fontSize:"sm",children:(0,s.jsx)(h.x6,{id:"pzutoc"})})})})})}),(0,s.jsx)(ez.Td,{minW:"16",py:"1",pr:"2",children:(0,s.jsx)(iz.l,{bg:"revert",value:d.weight,size:"sm",onChange:e=>{o({type:"EDIT_UPLOAD_FONT_FILE_WEIGHT",data:{uploadId:x,weight:parseInt(e.target.value,10)}})},children:(0,s.jsx)("optgroup",{label:K.Ru._({id:"rgzUkd"}),children:p.map(e=>(0,s.jsxs)("option",{value:e,children:[e," - ",(0,ip.w)()[e]]},e))})})}),(0,s.jsx)(ez.Td,{py:"1",px:"0",children:(0,s.jsx)(ef.Tz,{placement:"top",label:(0,s.jsx)(h.x6,{id:"9cmpNe"}),children:(0,s.jsx)(en.K,{"aria-label":K.Ru._({id:"9cmpNe"}),colorScheme:"red",icon:(0,s.jsx)(C.g,{icon:k.yLS}),variant:"ghost",onClick:v})})})]})},iL=e=>{let{fontFiles:t,dispatch:i}=e,n=(0,r.useMemo)(()=>Object.fromEntries(Object.entries((0,iS.L_)(t)).map(e=>{let[t,i]=e,n=[...i];return n.sort((e,t)=>e.fontFile.fileType!==t.fontFile.fileType?e.fontFile.fileType===F.AKY.Ttf?-1:1:e.fontFile.isItalic!==t.fontFile.isItalic?!1===e.fontFile.isItalic?-1:1:0),[t,n]})),[t]);if(!t)return null;let l=(0,iS.G0)(Object.keys((0,ip.w)()));return(0,s.jsxs)(s.Fragment,{children:[0===t.length&&(0,s.jsx)(ig,{}),l.map(e=>{let t=n[e];return t?(0,s.jsx)(iB,{fontFiles:t,dispatch:i,fontWeight:e},e):null})]})},iN=e=>{let{fontName:t,fontFiles:i,dispatch:n,onFontFileUploadClick:l}=e,o=(0,r.useCallback)(e=>{n({type:"EDIT_FONT_NAME",data:{fontName:e.target.value}})},[n]),a=0===t.length;return(0,s.jsx)(eu.c,{children:(0,s.jsxs)(im.T,{align:"stretch",mb:"4",children:[(0,s.jsxs)(z.s,{justifyContent:"space-between",gap:6,children:[(0,s.jsxs)(is.MJ,{isInvalid:a,flex:2,children:[(0,s.jsx)(iO.l,{children:(0,s.jsx)(h.x6,{id:"5qk/OL"})}),(0,s.jsx)(ir.p,{type:"text",placeholder:K.Ru._({id:"NFz66a"}),value:t,onChange:o}),a&&(0,s.jsx)(il.Wt,{alignSelf:"flex-start",children:(0,s.jsx)(h.x6,{id:"YtAPjw"})})]}),(0,s.jsxs)(g.B,{mt:8,flex:1,children:[(0,s.jsx)(L.$,{leftIcon:(0,s.jsx)(C.g,{icon:k.MNJ}),onClick:l,children:(0,s.jsx)(h.x6,{id:"BLNAld"})}),(0,s.jsx)(M.E,{textAlign:"center",fontSize:"xs",color:"gray.600",children:(0,s.jsx)(h.x6,{id:"GYK/1H",values:{GAMMA_PROPER_NOUN:tb.On}})})]})]}),(0,s.jsx)(iL,{fontFiles:i,dispatch:n})]})})};var iP=i(51684);let iU=e=>{let{uploadTip:t,children:i}=e;return(0,s.jsxs)(im.T,{align:"stretch",children:[(0,s.jsx)(z.s,{width:"100%",alignItems:"center",justifyContent:"center",minH:32,userSelect:"none",background:"gray.50",borderRadius:"md",p:4,mb:1,children:(0,s.jsx)(g.B,{spacing:0,children:i})}),(0,s.jsx)(M.E,{color:"gray.600",fontSize:"sm",children:t})]})},iW=()=>(0,s.jsx)(em.F,{status:"warning",margin:"0 auto",maxW:412,lineHeight:"var(--chakra-lineHeights-base)",children:(0,s.jsx)(M.E,{fontSize:"xs",color:"yellow.800",children:(0,s.jsx)(h.x6,{id:"K0VJ2a",values:{GAMMA_PROPER_NOUN:tb.On},components:{0:(0,s.jsx)("strong",{}),1:(0,s.jsx)("strong",{})}})})}),iV=e=>{let{onFontFileUploadClick:t}=e;return(0,s.jsx)(eu.c,{children:(0,s.jsxs)(im.T,{mb:"4",spacing:"8",borderRadius:"md",children:[(0,s.jsxs)(B.D,{textAlign:"center",size:"md",fontWeight:"600",children:[(0,s.jsx)("span",{role:"img","aria-label":"idea",children:"\uD83D\uDCA1"})," ",(0,s.jsx)(h.x6,{id:"O70dt2"})]}),(0,s.jsxs)(id.r,{columns:{base:1,md:3},spacing:4,width:"100%",children:[(0,s.jsx)(iU,{uploadTip:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(h.x6,{id:"F/H43B",components:{0:(0,s.jsx)("strong",{})}})}),children:(0,s.jsx)(B.D,{size:"lg",children:"Inter"})}),(0,s.jsxs)(iU,{uploadTip:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(h.x6,{id:"b2oYEF",components:{0:(0,s.jsx)("strong",{})}})}),children:[(0,s.jsxs)(M.E,{children:["inter-",(0,s.jsx)("strong",{children:"regular"}),".ttf"," ",(0,s.jsx)(f.a,{color:"green.400",as:"span",children:(0,s.jsx)(C.g,{icon:iP.e68})})]}),(0,s.jsxs)(M.E,{children:["inter-",(0,s.jsx)("strong",{children:"italic"}),".ttf"," ",(0,s.jsx)(f.a,{color:"green.400",as:"span",children:(0,s.jsx)(C.g,{icon:iP.e68})})]}),(0,s.jsxs)(M.E,{children:["inter-",(0,s.jsx)("strong",{children:"bold"}),".ttf"," ",(0,s.jsx)(f.a,{color:"green.400",as:"span",children:(0,s.jsx)(C.g,{icon:iP.e68})})]})]}),(0,s.jsxs)(iU,{uploadTip:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(h.x6,{id:"xjFrIG",components:{0:(0,s.jsx)("strong",{}),1:(0,s.jsx)("strong",{})}})}),children:[(0,s.jsxs)(M.E,{children:[(0,s.jsx)(M.E,{color:"gray.600",as:"span",children:(0,s.jsx)(C.g,{icon:k.bLf})})," ","...-regular",(0,s.jsx)(ij.C,{colorScheme:"purple",children:".ttf"})]}),(0,s.jsxs)(M.E,{children:[(0,s.jsx)(M.E,{color:"gray.600",as:"span",children:(0,s.jsx)(C.g,{icon:k.bLf})})," ","...-regular",(0,s.jsx)(ij.C,{colorScheme:"pink",children:".otf"})]})]})]}),(0,s.jsxs)(im.T,{spacing:4,children:[(0,s.jsx)(L.$,{leftIcon:(0,s.jsx)(C.g,{icon:k.MNJ}),variant:"solid",onClick:t,children:(0,s.jsx)(h.x6,{id:"NQrqa1"})}),(0,s.jsx)(M.E,{textAlign:"center",fontSize:"xs",color:"gray.600",children:(0,s.jsx)(h.x6,{id:"GYK/1H",values:{GAMMA_PROPER_NOUN:tb.On}})}),(0,s.jsx)(iW,{})]})]})})};var iH=i(6766),iG=i(17074);let iY=e=>{let t=e.uploadFontFiles.every(e=>("created"===e.status||"existing"===e.status)&&e.fontFile.sourceUrl);return e.fontName&&t},iJ=e=>{let{onClose:t,orgId:i,font:n}=e,[l,o]=r.useReducer(iD,iF),a=(0,ii.d)();(0,r.useEffect)(()=>{n?o({type:"EDIT_EXISTING_FONT",data:{font:n}}):o({type:"NEW_FONT_UPLOAD"})},[o,n]);let[d,c]=(0,r.useState)(!1),x=iY(l),u=ic(i),m=(0,iS.M$)(l),p=(0,r.useCallback)(()=>{o({type:"RESET_FONT_UPLOAD"}),t()},[o,t]),j=(0,r.useCallback)(e=>{Promise.all(e.map(async e=>{let t=(0,iA.Ak)();try{let i=await (0,iS.J3)(e);o({type:"UPLOAD_FONT_FILE_UPLOAD_STARTED",data:{uploadId:t,fileType:(0,iS.yA)(e.name),name:e.name,...i}})}catch(i){let t=i instanceof iS.Cr;t||console.error("[FontUploadModal] There was an error parsing ".concat(e.name),e,i),a({title:(0,s.jsx)(h.x6,{id:"zr0u7y",values:{0:e.name}}),description:t?(0,s.jsx)(h.x6,{id:"zQ722b"}):(0,s.jsx)(h.x6,{id:"SuKrYu"}),status:"error",isClosable:!0,position:"top",duration:null});return}try{let n=await iT(()=>(0,iH.H)(i,e),{maxRetries:3,timeout:2e4});o({type:"UPLOAD_FONT_FILE_UPLOAD_SUCCESS",data:{uploadId:t,sourceUrl:n}})}catch(i){o({type:"UPLOAD_FONT_FILE_UPLOAD_ERROR",data:{uploadId:t,errorMessage:i instanceof Error?i.message:"There was an error uploading ".concat(e.name)}})}})).catch(e=>{console.error("[FontUploadModal] error while uploading font files",e)})},[o,i,a]),{onClick:g,inputElement:f}=(0,iG.c)({handleFilesCallback:j,multiple:!0,accept:iI.J4.join(",")}),b=(0,r.useCallback)(()=>{c(!0),u(l).then(()=>{"create"===l.mode?a({title:(0,s.jsx)(h.x6,{id:"MXSt4t",values:{0:l.fontName}}),status:"success",duration:1e3,isClosable:!0,position:"top"}):"edit"===l.mode&&a({title:(0,s.jsx)(h.x6,{id:"P2ieni",values:{0:l.fontName}}),status:"success",duration:2e3,isClosable:!0,position:"top"})}).catch(e=>{a({title:"edit"===l.mode?(0,s.jsx)(h.x6,{id:"K45zvU"}):(0,s.jsx)(h.x6,{id:"FL7N1y",values:{0:l.fontName}}),status:"error",duration:5e3,isClosable:!0,position:"top"}),console.error("[FontUploadModal] error ".concat("edit"===l.mode?"editing":"creating"," font"),e)}).finally(()=>{c(!1),t()})},[t,u,l,a]),v=(0,iS.jI)(l.uploadFontFiles.map(e=>e.fontFile));return(0,s.jsxs)(ea.aF,{isOpen:!0,closeOnOverlayClick:!1,onClose:p,size:"3xl",children:[(0,s.jsx)(ed.m,{}),(0,s.jsxs)(ec.$,{children:[(0,s.jsx)(ex.r,{children:l.hasUploadedFonts?l.fontName?l.fontName:(0,s.jsx)(h.x6,{id:"yT14LZ"}):(0,s.jsx)(h.x6,{id:"O7HGjV"})}),(0,s.jsx)(eh.s,{isDisabled:d}),(0,s.jsx)(tP.c,{mb:"4"}),f,l.hasUploadedFonts?(0,s.jsx)(iN,{fontFiles:l.uploadFontFiles,fontName:l.fontName,dispatch:o,onFontFileUploadClick:g}):(0,s.jsx)(iV,{onFontFileUploadClick:g}),(0,s.jsx)(tP.c,{mb:1}),(0,s.jsx)(eg.j,{children:l.hasUploadedFonts?(0,s.jsxs)(z.s,{flex:1,mb:"2",alignItems:"center",justifyContent:"space-between",children:[(0,s.jsx)(M.E,{children:(0,s.jsx)(h.x6,{id:"yDnXlV",values:{numOfStyles:v}})}),(0,s.jsxs)(eJ.e,{children:[(0,s.jsx)(L.$,{variant:"ghost",onClick:t,children:(0,s.jsx)(h.x6,{id:"dEgA5A"})}),(0,s.jsx)(L.$,{isDisabled:!x||!m,variant:"solid",onClick:b,isLoading:d,children:"edit"===l.mode?(0,s.jsx)(h.x6,{id:"tfDRzk"}):(0,s.jsx)(h.x6,{id:"N/mjN3"})})]})]}):(0,s.jsx)(L.$,{variant:"ghost",onClick:t,children:(0,s.jsx)(h.x6,{id:"dEgA5A"})})})]})]})};var iK=i(89528),iQ=i(84287),i$=i(90221);let iX=e=>{let{label:t,icon:i,onClick:n}=e,r=(0,P.ez)("custom_fonts");return(0,s.jsx)(iu,{bg:"gray.50",onClick:n,children:(0,s.jsxs)(g.B,{align:"center",children:[(0,s.jsx)(M.E,{fontSize:"x-large",children:i}),(0,s.jsx)(M.E,{children:t}),(0,s.jsx)(iK.Ch,{productFeature:"custom_fonts",canUseFeature:r})]})})};var iq=i(77364),iZ=i(51567),i0=i(2002),i1=i(53756),i6=i(20939),i2=i(68068),i5=i(60628),i4=i(8064);let i3=(0,r.memo)(e=>{let{selectedImageAttrs:t,setSelectedImageAttrs:i,finalFocusRef:n,isOpen:r,onClose:l}=e;return(0,s.jsxs)(i2._s,{isOpen:r,placement:"right",onClose:l,finalFocusRef:n,size:"lg",children:[(0,s.jsx)(ed.m,{}),(0,s.jsxs)(i5.z,{children:[(0,s.jsx)(eh.s,{}),(0,s.jsx)(ex.r,{children:(0,s.jsx)(M.E,{fontSize:"3xl",fontWeight:"bold",children:(0,s.jsx)(h.x6,{id:"O+LXs1"})})}),(0,s.jsx)(eu.c,{children:(0,s.jsx)(i4.o,{currentAttributes:t,updateAttributes:i,savedMediaContext:F.rWX.Dashboard,editType:"node",canShowEmptyState:!0,resetToPlaceholder:()=>{}})})]})]})});i3.displayName="AIImagesEditPanel";var i8=i(38420),i9=i(1139);let i7=e=>{var t;let{image:i,onClick:n,imageRef:r,isSelected:l,onMouseOver:o,onMouseDown:a}=e;return(0,s.jsxs)(y.E,{ref:r,_hover:{cursor:"pointer"},position:"relative",children:[(0,s.jsx)(Y._,{onMouseOver:o,onMouseDown:a,src:null==i||null==(t=i.attrs)?void 0:t.src,draggable:!1,w:"100%",h:"100%",objectFit:"cover",onClick:n,borderRadius:"md",filter:l?"brightness(0.6)":void 0,transition:"filter 0.2s"}),(0,s.jsx)(i9.z,{in:l,children:(0,s.jsx)(f.a,{pointerEvents:"none",color:"white",pos:"absolute",inset:0,borderRadius:"md",children:(0,s.jsx)(ti.o,{h:"100%",w:"100%",children:(0,s.jsx)(C.g,{icon:k.e68,size:"2xl"})})})})]})},ne=e=>{let{images:t,onImageClick:i,onImageMouseOver:n,onImageMouseDown:l,imageRef:o,loading:a,canFetchMore:d,fetchMore:c,isFetchingMore:x,selectedImages:u}=e,m=(0,r.useMemo)(()=>!t||a?{}:t.reduce((e,t)=>{let i=new Date(t.createdTime).toISOString().slice(0,7);return e[i]||(e[i]=[]),e[i].push(t),e},{}),[t,a]);return(0,s.jsxs)(z.s,{direction:"column",align:"stretch",children:[Object.entries(m).map(e=>{let[t,r]=e;return(0,s.jsxs)(z.s,{direction:"column",mb:4,children:[(0,s.jsx)(M.E,{fontSize:"lg",fontWeight:"semibold",me:4,children:(0,eb.Yq)(t,"MMM yyyy")}),(0,s.jsx)(i8.i,{columnsCountBreakPoints:{350:1,750:2,900:3,1200:4,1400:5},children:(0,s.jsx)(i8.A,{gutter:"0.5rem",children:r.map(e=>(0,s.jsx)(i7,{image:e,onClick:()=>i(e.attrs),onMouseOver:t=>n(t,e.id),onMouseDown:t=>l(t,e.id),imageRef:o,isSelected:u.has(e.id)},e.id))})})]},t)}),d&&(0,s.jsx)(L.$,{variant:"plain",onClick:c,mt:4,isLoading:x,children:(0,s.jsx)(h.x6,{id:"yQ2kGp"})})]})},nt=e=>{let{isDisabled:t,onClick:i}=e;return(0,s.jsx)(L.$,{isDisabled:t,variant:"special",onClick:i,leftIcon:(0,s.jsx)(C.g,{icon:k.QLR}),rightIcon:(0,s.jsx)(N.E,{textShadow:"none",children:(0,s.jsx)(h.x6,{id:"QaFhiw"})}),children:(0,s.jsx)(h.x6,{id:"u4O+RH"})})};var ni=i(32617);let nn=e=>{let{description:t,ariaLabel:i,displayName:n,icon:r,isDeletingMany:l,showCreateButton:o,onOpen:a,isSelectionMode:d,onEnterSelectionMode:c,onExitSelectionMode:x}=e,u=(0,ni.u)("aiImageBulkDelete");return(0,s.jsxs)(z.s,{flex:"1",mb:4*!(0,W.Xb)(),direction:"column",children:[(0,s.jsxs)(f.a,{w:["100%","auto"],children:[(0,s.jsxs)(j.z,{h:"1.5em",children:[(0,s.jsxs)(B.D,{size:"sm","data-testid":"ai-images-view-header",children:[r&&(0,s.jsx)(C.g,{icon:r,"aria-label":i()})," ",(0,s.jsx)(M.E,{as:"span",ms:2,children:n})]}),(0,s.jsx)(J.h,{})]}),t&&(0,s.jsx)(M.E,{color:"gray.600",fontSize:"sm",children:t})]}),o&&(0,s.jsxs)(g.B,{direction:{base:"column",lg:"row"},spacing:2,mt:4,children:[(0,s.jsx)(nt,{isDisabled:!1,onClick:a}),u&&(0,s.jsx)(L.$,{isLoading:l,leftIcon:d?void 0:(0,s.jsx)(C.g,{icon:k.QLR}),onClick:d?x:c,children:d?(0,s.jsx)(h.x6,{id:"dEgA5A"}):(0,s.jsx)(h.x6,{id:"rG3WVm"})})]})]})},ns=e=>1===e.buttons,nr=r.memo(()=>(0,s.jsxs)(f.a,{alignSelf:"flex-start",children:[(0,s.jsx)(im.T,{align:"stretch",spacing:4,width:"100%",children:(0,s.jsx)(w.E,{height:"24px",width:"130px",borderRadius:"sm",startColor:"gray.50",endColor:"gray.300",opacity:"25%"})}),(0,s.jsx)(J.h,{height:2}),(0,s.jsx)(id.r,{columns:{base:2,md:3},spacing:"0.5rem",children:[void 0,void 0,void 0].map((e,t)=>(0,s.jsx)(w.E,{height:{base:"125px",lg:"200px"},width:{base:"125px",lg:"200px"},borderRadius:"sm",startColor:"gray.50",endColor:"gray.300",opacity:"25%"},t))})]}));nr.displayName="AIImageHistorySkeleton";let nl=e=>{let{onCancel:t,numImages:i,onDelete:n,onUnselectAll:r,isDeletingMany:l}=e;return(0,s.jsx)(z.s,{position:"sticky",bottom:4,zIndex:1e3,justifyContent:"center",children:(0,s.jsxs)(z.s,{alignItems:"center",width:450,borderColor:"deepocean.100",borderStyle:"solid",borderWidth:"1px",borderRadius:56,justifyContent:"space-between",p:3,backgroundColor:"white",shadow:"md",margin:5,children:[(0,s.jsx)(M.E,{color:"deepocean.950",fontSize:"sm",fontWeight:"semibold",children:(0,s.jsx)(h.x6,{id:"PNGwbe",values:{numImages:i}})}),(0,s.jsxs)(g.B,{direction:["column","row"],alignItems:"center",children:[(0,s.jsx)(L.$,{size:"sm",onClick:r,isDisabled:0===i||l,children:(0,s.jsx)(h.x6,{id:"HlKgQk"})}),(0,s.jsx)(L.$,{size:"sm",variant:"hazardous",onClick:n,leftIcon:(0,s.jsx)(C.g,{icon:k.yLS}),isDisabled:0===i,isLoading:l,children:(0,s.jsx)(h.x6,{id:"cnGeoo"})}),(0,s.jsx)(iq.J,{onClick:t,size:"sm",isDisabled:l})]})]})})};var no=i(34906),na=i(40926),nd=i(3844);let nc=e=>{let{deck:t}=e,i=(0,na.OM)(t),n=(0,eS.LN)({docId:i,path:"example"});return(0,s.jsx)(eL.Dg,{title:t.title||"",menuEnabled:!0,href:n,id:i,createdTime:new Date().toISOString(),thumbnailImageUrl:{src:null==t?void 0:t.previewImageUrl,fallbackSrc:q.A.src},NextLink:$(),onFavorite:void 0,isTrashAndRestoreEnabled:!1,createdByName:(null==t?void 0:t.authorDisplayName)||"Gamma",createdByProfileImageUrl:(null==t?void 0:t.authorImageUrl)||nd.A.src,isDuplicateEnabled:!1},i)},nx=e=>{let{category:t}=e;if(!t)return(0,s.jsx)(s.Fragment,{});let i=t.decks;return(0,s.jsxs)(f.a,{mb:8,children:[(0,s.jsx)(no.B,{category:t}),(0,s.jsx)(eL.SW,{children:null==i?void 0:i.map(e=>(0,s.jsx)(nc,{deck:e},e.docId))})]},t.id)};var nh=i(30742),nu=i(30645);let nm="260px";var np=i(32263),nj=i(30034);let ng="template-preview-modal-body",nf=e=>{let{doc:t,theme:i,snapshotContent:n,setEditor:r}=e;return(0,s.jsxs)(z.s,{w:"100%",flex:1,direction:"column",className:"".concat(ng),align:"center",overflowY:"auto",overflowX:"auto",justifyContent:"flex-start",h:"100%",borderWidth:"1px",borderStyle:"solid",borderColor:"gray.200",css:{"--editor-width":"calc(100vw - ".concat(nm," - var(--chakra-sizes-32) - 2px)")},children:[(0,s.jsx)(nj.s,{}),(0,s.jsx)(np.bw,{animationsEnabled:!1,isStatic:!1,theme:i||void 0,initialContent:n,doc:t,docId:t.id,readOnly:!0,scrollingParentSelector:".".concat(ng),onCreate:e=>{let{editor:t}=e;return r(t)}},t.id)]})};var nb=i(27250);let nv=e=>{let{isChecked:t,setTheme:i,theme:n}=e;return(0,s.jsxs)(f.a,{as:H.Q,p:2,transition:"all 0.2s ease-in-out",bgColor:t?"deepocean.100":"white",textAlign:"start",tabIndex:0,borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_focus:{boxShadow:t?void 0:"outline"},outline:"none",onClick:()=>i(n),_hover:{bgColor:t?"deepocean.100":"deepocean.50"},"data-theme-id":n.id,"data-testid":t?"current-theme-preview":void 0,cursor:"pointer",children:[(0,s.jsx)(nb.q,{theme:n}),(0,s.jsxs)(g.B,{direction:"row",spacing:1,pt:1,children:[t&&(0,s.jsx)(eY.S,{w:3,h:"auto",me:1,color:"deepocean.700"}),(0,s.jsx)(M.E,{fontSize:"sm",noOfLines:1,"data-testid":"theme-name",color:t?"deepocean.700":void 0,children:n.name})]})]})},ny=e=>{let{heading:t,themes:i,currentTheme:n,setTheme:r}=e;return(0,s.jsxs)(g.B,{spacing:2,children:[(0,s.jsx)(ef._x,{children:t}),(0,s.jsx)(g.B,{spacing:4,p:1,pe:4,children:null==i?void 0:i.map((e,t)=>{let i=e.id===(null==n?void 0:n.id);return(0,s.jsx)(nv,{theme:e,setTheme:r,isChecked:i},t)})})]})},nw=e=>{let{templateTheme:t,setTheme:i,currentTheme:n,themes:r,onCloneClick:l,isCloneButtonDisabled:o}=e;return(0,s.jsxs)(z.s,{w:nm,ms:4,direction:"column",children:[(0,s.jsx)(f.a,{w:"100%",pb:8,children:(0,s.jsx)(L.$,{w:"100%",variant:"solid",size:"lg",onClick:l,isDisabled:o,children:(0,s.jsx)(h.x6,{id:"p6eI8J"})})}),(0,s.jsxs)(g.B,{spacing:6,overflowY:"auto",h:"100%",pb:8,children:[(0,s.jsx)(ny,{heading:(0,s.jsx)(h.x6,{id:"mdLv9o"}),themes:t?[t]:[],currentTheme:n,setTheme:i}),(0,s.jsx)(ny,{heading:(0,s.jsx)(h.x6,{id:"mvmJyu"}),themes:r||[],currentTheme:n,setTheme:i}),(0,s.jsx)(g.B,{spacing:4,p:1,pe:4,children:(0,s.jsx)(z.s,{alignItems:"center",justifyContent:"center",border:"1px solid",borderColor:"gray.200",borderRadius:"lg",background:"gray.50",minH:36,_hover:{background:"white",color:"trueblue.600",cursor:"pointer"},onClick:()=>l({openThemeEditor:!0}),children:(0,s.jsxs)(g.B,{textAlign:"center",children:[(0,s.jsx)(M.E,{fontSize:"xl",children:(0,s.jsx)(C.g,{icon:k.q_k})}),(0,s.jsx)(M.E,{children:(0,s.jsx)(h.x6,{id:"YHI6sk"})})]})})}),(0,s.jsx)(f.a,{px:2,py:4,children:(0,s.jsxs)(M.E,{textAlign:"center",fontSize:"sm",color:"gray.600",children:[(0,s.jsx)(h.x6,{id:"k0ByBj",values:{GAMMA_ARTIFACT_PROPER_NOUN:tb.TP}})," ",(0,s.jsx)("span",{role:"img","aria-label":"thumbs-up",children:"\uD83D\uDC4D"})]})})]})]})},nk=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ex.r,{children:(0,s.jsx)(w.E,{w:"80%",h:"48px"})}),(0,s.jsx)(eh.s,{}),(0,s.jsxs)(eu.c,{display:"flex",overflow:"hidden",children:[(0,s.jsx)(z.s,{flex:1,children:(0,s.jsx)(ti.o,{w:"100%",bg:"gray.50",children:(0,s.jsx)(iR.y,{})})}),(0,s.jsxs)(z.s,{w:nm,ms:4,direction:"column",children:[(0,s.jsx)(w.E,{w:"100%",h:"48px",mb:4}),(0,s.jsx)(w.E,{w:"50%",h:8,mb:4}),(0,s.jsx)(w.E,{w:"100%",h:36,mb:4}),(0,s.jsx)(w.E,{w:"100%",h:36,mb:4}),(0,s.jsx)(w.E,{w:"100%",h:36,mb:4})]})]}),(0,s.jsx)(eg.j,{children:(0,s.jsx)(w.E,{w:48,h:"42px"})})]}),nC=e=>{let{onClose:t,heading:i,errorMessage:n,onBackClick:r}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(ex.r,{children:[!!r&&(0,s.jsx)(en.K,{"aria-label":"Back",icon:(0,s.jsx)(nh.g,{}),variant:"ghost",onClick:r,me:2}),i]}),(0,s.jsx)(eh.s,{}),(0,s.jsx)(eu.c,{display:"flex",overflow:"hidden",className:"template-preview-modal-body",children:(0,s.jsx)(z.s,{direction:"column",justify:"center",align:"center",w:"100%",children:(0,s.jsx)(nu.K,{title:(0,s.jsx)(h.x6,{id:"zwZQVm"}),message:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.x6,{id:"u4Djqb"}),(0,s.jsx)("br",{}),!!n&&n]})})})}),(0,s.jsx)(eg.j,{children:(0,s.jsx)(L.$,{variant:"solid",onClick:t,children:(0,s.jsx)(h.x6,{id:"yz7wBu"})})})]})},nS=e=>{var t;let{previewDeck:i,onBackClick:n,forceChannelId:l,onClose:o}=e,[a,d]=(0,r.useState)(!1),c=(0,td.Z)(),x=(0,na.OM)(i);(0,tq.JQ)(e=>{e.track(tq.VV.DOC_VIEWED,{doc_id:x}),e.track(tq.VV.EXAMPLE_VIEWED,{doc_id:x})});let{data:h,loading:u,error:m}=(0,F.exD)({variables:{id:x},skip:!x,fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),{data:p}=(0,F.Snx)({variables:{workspaceId:null,archived:!1},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),j=(null==p?void 0:p.themes)||[],g=(0,tq.st)(),f=null==h?void 0:h.doc,b=null==f?void 0:f.theme,[v,y]=(0,r.useState)(b),w=(0,r.useRef)(!1),[k,C]=(0,r.useState)(),S=!i||u,E=m||m,A=null==f||null==(t=f.currentSnapshot)?void 0:t.content.default,I=[...j.filter(e=>e.id!==(null==b?void 0:b.id))];(0,r.useEffect)(()=>{b&&!w.current&&(y(b),w.current=!0)},[b]),(0,r.useEffect)(()=>{if(k){let e=null==v?void 0:v.config.accentBackgrounds;if(!e||0===e.length){A&&k.commands.setContent(A);return}k.commands.updateThemeAccentImages(e)}},[A,k,v]);let T=(0,r.useCallback)(e=>{y(e),null==g||g.track(tq.VV.IN_APP_TEMPLATE_THEME_CLICKED,{theme_id:e.id})},[g]),D=(0,r.useCallback)(e=>{let{openThemeEditor:t}=e;f&&A&&(d(!0),t&&(null==g||g.track(tq.VV.IN_APP_TEMPLATE_CREATE_THEME_CLICKED,{source_doc_id:f.id})),c({docId:f.id,initialContent:A,channelId:l,newWindow:!(0,W.sX)(),onSuccess:o,openThemeEditor:t,source:t?"template_modal_preview":"template_modal_preview_create_theme"}))},[f,A,c,l,g,o]);return S?(0,s.jsx)(nk,{}):!E&&i&&f&&A?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(ex.r,{children:[!!n&&(0,s.jsx)(en.K,{"aria-label":"Back",icon:(0,s.jsx)(nh.g,{}),variant:"ghost",onClick:n,me:2}),i.title]}),(0,s.jsx)(eh.s,{}),(0,s.jsxs)(eu.c,{display:"flex",overflow:"hidden",children:[(0,s.jsx)(nf,{doc:f,snapshotContent:A,theme:v,setEditor:C}),(0,s.jsx)(nw,{setTheme:T,currentTheme:v,templateTheme:b,themes:I,onCloneClick:D,isCloneButtonDisabled:a})]})]}):(E&&console.error("[TemplatePreview] Error loading template: ".concat(null==E?void 0:E.message)),(0,s.jsx)(nC,{onClose:o,onBackClick:n,heading:(null==i?void 0:i.title)?i.title:"Error loading template",errorMessage:null==E?void 0:E.message}))},nE=e=>{let{isOpen:t,onClose:i,forceDocId:n=null,forceChannelId:l=null,forceCategoryId:o=null}=e,a=(0,tu.GV)(d.Pg),[c,x]=(0,r.useState)(n),h=(0,na.eo)(a),u=null==h?void 0:h.find(e=>(0,na.OM)(e)===c);return(0,s.jsxs)(ea.aF,{isOpen:t,onClose:i,size:"full",returnFocusOnClose:!1,children:[(0,s.jsx)(ed.m,{}),(0,s.jsx)(ec.$,{borderRadius:"xl",m:6,minH:"calc(100vh - var(--chakra-sizes-12))",h:"calc(100vh - var(--chakra-sizes-12))",w:"calc(100vw - var(--chakra-sizes-12))",children:(0,s.jsx)(nS,{onBackClick:n?void 0:()=>x(null),previewDeck:u,forceChannelId:l,onClose:i})})]})},nA={transitionProperty:"common",transitionDuration:"normal",transform:"scale(.9)",opacity:0,_groupFocus:{opacity:1,transform:"scale(1)"},_groupHover:{opacity:1,transform:"scale(1)"},_focus:{opacity:1,shadow:"outline"}},nI=e=>{let{deck:t,onPreviewClick:i,forceChannelId:n=null,onCloseEnclosingModal:l}=e,{isOpen:o,onOpen:a,onClose:d}=(0,p.j)({id:"template-browser-modal"}),c=(0,na.OM)(t),x=(0,td.Z)(),[u,m]=(0,r.useState)(!1),{title:j,previewImageUrl:b}=t,v=i?()=>i(c):a,w=(0,r.useCallback)(()=>{if(!c)return void console.error("[TemplateGridItem] docIdToUse is required to clone");l||m(!0),x({docId:c,channelId:n,source:l?"template_modal_griditem":"template_dashboard_griditem",newWindow:!(0,W.sX)(),onSuccess:()=>{l?l():setTimeout(()=>{m(!1)},3e3)}})},[c,x,n,l]);return c?(0,s.jsxs)(y.E,{role:"group",position:"relative",children:[(0,s.jsxs)(g.B,{children:[(0,s.jsxs)(f.a,{tabIndex:0,role:"group",borderRadius:"5px",shadow:"md",_focus:{shadow:"outline"},_focusWithin:{shadow:"outline"},_hover:{shadow:"lg"},position:"relative",overflow:"hidden",transition:"box-shadow .2s ease",color:"white",onClick:e=>{var t,i;(null==(t=e.target)?void 0:t.closest('[data-target-name="use-template-button"]'))||(null==(i=e.target)?void 0:i.closest('[data-target-name="preview-button"]'))||v()},cursor:"pointer",children:[(0,s.jsx)(G.g,{ratio:40/21,bgColor:"gray.50",children:(0,s.jsx)(Y._,{src:b,fallbackSrc:q.A.src,fit:"cover"})}),(0,s.jsx)(z.s,{alignItems:"center",justifyContent:"center",position:"absolute",inset:0,zIndex:2,children:(0,s.jsxs)(g.B,{direction:"column",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(L.$,{...nA,size:"sm","data-target-name":"use-template-button",variant:"solid",onClick:w,isDisabled:u,children:(0,s.jsx)(h.x6,{id:"QNtP5M"})}),(0,s.jsx)(L.$,{"data-target-name":"preview-button",...nA,onClick:v,w:"fit-content",size:"xs",variant:"plain",textDecoration:"none !important",children:(0,s.jsx)(h.x6,{id:"rdUucN"})})]})}),(0,s.jsx)(f.a,{position:"absolute",inset:0,bg:"blackAlpha.300",zIndex:1,transitionProperty:"common",transitionDuration:"normal",opacity:0,_groupFocus:{opacity:1},_groupHover:{opacity:1}})]}),(0,s.jsx)(M.E,{fontSize:"md",children:j})]}),(0,s.jsx)(nE,{forceDocId:c,isOpen:o,onClose:d})]}):(console.error(["[TemplateGridItem] docIdToUse is not defined",t]),(0,s.jsx)(s.Fragment,{}))},nT=e=>{let{category:t}=e;if(!t)return(0,s.jsx)(s.Fragment,{});let i=t.decks;return(0,s.jsxs)(f.a,{mb:8,children:[(0,s.jsx)(no.B,{category:t}),(0,s.jsx)(eL.SW,{children:null==i?void 0:i.map(e=>(0,s.jsx)(nI,{deck:e},e.docId))})]},t.id)};var nF=i(79536),nD=i(95695),nO=i(91792),nR=i(41386),n_=i(49023),nz=i(1057);let nB=e=>{let{themes:t,type:i,globalFontsMap:n}=e,l=(0,r.useMemo)(()=>[...t].sort(nz._1),[t]),o=(0,r.useMemo)(()=>e=>{if("archived"!==i)return()=>{"custom"===i?(0,tH.vd)({theme:e}):"standard"===i&&(0,tH.L6)({theme:e})}},[i]);return(0,s.jsx)(g.B,{children:(0,s.jsx)(id.r,{columns:[1,2,2,3,5],spacing:6,children:l.map(e=>{let t=e.bodyFont&&!n[e.bodyFont]||e.headingFont&&!n[e.headingFont];return(0,s.jsx)(nF.e,{type:i,theme:e,isChecked:!1,hasCustomFonts:!!t,onThemeClicked:o(e),placeholderPadding:0},e.id)})})})},nM=eT(e=>{let{isSidebarVisible:t,setIsSidebarVisible:i}=e,{displayName:n,description:l,ariaLabel:o,icon:a,showCreateButton:d}=U.mQ[U.uL.IMAGES],{query:c}=(0,A.useRouter)();(0,iZ.o)("new");let[x,u]=(0,r.useState)(null),m=(0,r.useRef)(new Set),j=(0,ii.d)(),[g,v]=(0,r.useState)(new Set),y=(0,r.useCallback)(e=>{v(t=>{let i=new Set(t);return i.add(e),i})},[]),w=(0,r.useCallback)(e=>{v(t=>{let i=new Set(t);return i.delete(e),i})},[]),[,k]=(0,i6.Je)(),{isOpen:C,onOpen:S,onClose:E}=(0,p.j)(),I=(0,r.useCallback)(()=>{for(let e of m.current)j.close(e);m.current.clear(),k("gray.200"),S()},[S,k,j]),[D,O]=(0,r.useState)(),R=(0,r.useCallback)(()=>{k(void 0),v(new Set),O(void 0),E()},[E,k]),{isOpen:_,onOpen:B,onClose:L}=(0,p.j)(),N=(0,r.useRef)(null),{history:P,isLoading:W,loadMore:V,isLoadingMore:H,canLoadMore:G,deleteMany:Y,isDeletingMany:J}=(0,i1.X)({scope:"user",count:50,savedMediaContext:F.rWX.Dashboard}),Q=(0,r.useCallback)(e=>{C||(u(e),B())},[C,B]),$=(0,r.useCallback)((e,t)=>{C&&null!=D&&ns(e)&&("select"==D?y(t):w(t))},[C,D,y,w]),X=(0,r.useCallback)((e,t)=>{C&&(g.has(t)?(O("deselect"),w(t)):(O("select"),y(t)))},[C,y,g,w]);return(0,r.useEffect)(()=>{"true"===c.new&&B()},[c.new,B,c]),(0,s.jsxs)(z.s,{w:"100%",h:"100%",direction:"column",position:"relative",children:[(0,s.jsx)(eF.e,{isSidebarVisible:t,setIsSidebarVisible:i,children:(0,s.jsx)(nn,{isDeletingMany:J,displayName:n,ariaLabel:o,description:l,icon:a,showCreateButton:d&&(null==P?void 0:P.length)>0,onOpen:B,isSelectionMode:C,onEnterSelectionMode:I,onExitSelectionMode:R})}),(0,s.jsxs)(f.a,{flex:1,children:[W?(0,s.jsx)(nr,{}):(null==P?void 0:P.length)?(0,s.jsx)(ne,{images:null!=P?P:[],selectedImages:g,onImageClick:Q,onImageMouseOver:$,onImageMouseDown:X,imageRef:N,loading:W,canFetchMore:G,fetchMore:V,isFetchingMore:H}):(0,s.jsx)(im.T,{display:"flex",flexDirection:"column",alignItems:"center",margin:"auto",flex:1,h:"100%",maxW:"3xl",justifyContent:"center",children:(0,s.jsx)(f.a,{maxW:"360px",children:(0,s.jsx)(T.p,{title:i0.G.title,description:i0.G.description,children:(0,s.jsx)(nt,{isDisabled:!1,onClick:B})})})}),C&&(0,s.jsx)(nl,{numImages:g.size,isDeletingMany:J,onUnselectAll:()=>{v(new Set)},onCancel:R,onDelete:async()=>{let e=await Y(Array.from(g)),t=g.size;R();let i=j(e.success?{title:(0,s.jsx)(z.s,{children:(0,s.jsxs)(M.E,{children:[(0,s.jsx)(h.x6,{id:"EYWRYY",values:{numImages:t}}),(0,s.jsx)(b.N,{textDecoration:"underline",ms:1,onClick:()=>{e.undo(),j.close(i)},children:(0,s.jsx)(h.x6,{id:"9uI/rE"})})]})}),status:"success",isClosable:!0,duration:3e3,position:"top"}:{title:K.Ru._({id:"Y0UUjO",values:{numImages:t}}),status:"error",isClosable:!0,duration:2e3,position:"top"});m.current.add(i)}})]}),(0,s.jsx)(i3,{isOpen:_,onClose:()=>{u({}),L()},finalFocusRef:N,selectedImageAttrs:null!=x?x:{},setSelectedImageAttrs:u})]})}),nL=eT(e=>{let{isSidebarVisible:t,setIsSidebarVisible:i}=e,n=(0,tu.GV)(d.Pg),{isOpen:r,onOpen:l,onClose:o}=(0,p.j)({id:"template-browser-modal"});if((0,W.Xb)())return I().replace("/"),null;let{displayName:a,ariaLabel:c,icon:x}=U.mQ[U.n8.TEMPLATES];return(0,s.jsxs)(f.a,{w:"100%","data-testid":"templates-view-container",children:[(0,s.jsx)(eF.e,{isSidebarVisible:t,setIsSidebarVisible:i,children:(0,s.jsxs)(B.D,{size:"sm","data-testid":"templates-view-header",children:[x&&(0,s.jsx)(C.g,{icon:x,"aria-label":c()})," ",(0,s.jsx)(M.E,{as:"span",ms:2,children:a})]})}),n&&(null==n?void 0:n.length)>0&&(null==n?void 0:n.map(e=>(0,s.jsx)(nT,{category:e},e.id))),r&&(0,s.jsx)(nE,{isOpen:!0,onClose:o})]})}),nN=eT(e=>{let{isSidebarVisible:t,setIsSidebarVisible:i}=e,n=(0,tu.GV)(d.dB),{displayName:r,ariaLabel:l,description:o,icon:a}=U.mQ[U.n8.INSPIRATION];return(0,s.jsxs)(f.a,{w:"100%","data-testid":"inspiration-view-container",children:[(0,s.jsx)(eF.e,{isSidebarVisible:t,setIsSidebarVisible:i,children:(0,s.jsxs)(B.D,{size:"sm","data-testid":"inspiration-view-header",children:[a&&(0,s.jsx)(C.g,{icon:a,"aria-label":l()})," ",(0,s.jsx)(M.E,{as:"span",ms:2,children:r})]})}),n&&(null==n?void 0:n.length)>0&&(null==n?void 0:n.map(e=>(0,s.jsx)(nx,{category:e},e.id)))]})}),nP=eT(e=>{let{isSidebarVisible:t,setIsSidebarVisible:i}=e,[n,l]=(0,r.useState)("custom"),{currentWorkspace:o}=(0,_.ur)();(0,n_.t)();let{globalFontsMap:a}=(0,nO.II)(),d=(0,A.useRouter)(),{data:c,loading:x,called:u}=(0,F.Snx)({variables:{workspaceId:null==o?void 0:o.id,archived:!1},skip:!o}),{data:m}=(0,F.Snx)({variables:{workspaceId:null,archived:!1}}),[p,{data:j,loading:b}]=(0,F.Oc4)({variables:{workspaceId:null==o?void 0:o.id,archived:!0},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"});(0,r.useEffect)(()=>{"archived"===n&&o&&p()},[o,n,p]);let v=(null==j?void 0:j.themes)||[],S=(null==c?void 0:c.themes)||[],E=(null==m?void 0:m.themes)||[],I=!u||x||b,{displayName:O,description:R,ariaLabel:z,icon:N}=U.mQ[U.n8.THEMES],P=nD.K1.map(e=>({key:e,...(0,nD.k9)()[e]})),W="custom"===n?S:"archived"===n?v:E,V=(0,D.u)("themeImportAi")&&o,H=P.find(e=>e.key===n),G=0!==W.length;(0,nO.SZ)(d.query.themeId);let Y="custom"===n&&!G&&!I;return(0,s.jsxs)(f.a,{w:"100%","data-testid":"themes-view-container",children:[(0,s.jsx)(nj.s,{}),(0,s.jsxs)(eF.e,{isSidebarVisible:t,setIsSidebarVisible:i,children:[(0,s.jsxs)(B.D,{size:"sm",fontWeight:"600","data-testid":"themes-view-header",children:[N&&(0,s.jsx)(C.g,{icon:N,"aria-label":z()})," ",(0,s.jsx)(M.E,{as:"span",ms:2,children:O})]}),(0,s.jsx)(M.E,{fontSize:"md",mt:"2",color:"gray.600",children:R}),(0,s.jsx)(g.B,{direction:{base:"column",lg:"row"},spacing:2,my:4,children:(0,s.jsxs)(eJ.e,{size:"md",children:[o&&(0,s.jsx)(ef.Tz,{label:(0,s.jsx)(h.x6,{id:"LPcaN9"}),placement:"top",children:(0,s.jsx)(L.$,{variant:"solid",leftIcon:(0,s.jsx)(C.g,{icon:k.QLR}),onClick:tH._E,"data-testid":"new-theme-button",children:(0,s.jsx)(h.x6,{id:"FiwgR9"})})}),V&&(0,s.jsx)(ef.Tz,{label:(0,s.jsx)(h.x6,{id:"OPW4Wb"}),placement:"top",children:(0,s.jsx)(L.$,{variant:"plain",leftIcon:(0,s.jsx)(C.g,{icon:k.$MS}),onClick:tH.yJ,children:(0,s.jsx)(h.x6,{id:"/Zo0hK"})})})]})}),(0,s.jsx)(tS.x,{selectedOption:H,setSelectedOption:e=>l(e.key),options:P,dropdownButtonLeftIcon:(0,s.jsx)(C.g,{icon:k.mRM,fixedWidth:!0}),dropdownMenuTitle:K.Ru._({id:"MwX53Z"})})]}),I&&(0,s.jsx)(f.a,{width:"100%","data-testid":"themes-skeleton",children:(0,s.jsx)(id.r,{columns:[1,2,2,3,5],spacing:6,children:[1,2,3,4,5,6,7,8].map(e=>(0,s.jsx)(y.E,{as:w.E,borderRadius:"5px",height:"144px"},e))})}),!I&&G&&(0,s.jsx)(nB,{themes:W,type:n,globalFontsMap:a}),"archived"===n&&!G&&!I&&(0,s.jsx)(h.x6,{id:"IrP0/5"}),Y&&(0,s.jsx)(ti.o,{minH:"sm",pt:12,children:(0,s.jsx)(f.a,{maxW:"400px",children:(0,s.jsx)(T.p,{title:(0,s.jsx)(h.x6,{id:"aTESP9"}),description:(0,s.jsx)(h.x6,{id:"/2Z+bx"})})})}),(0,s.jsx)(nR.n,{})]})}),nU=eT(e=>{let{isSidebarVisible:t,setIsSidebarVisible:i}=e,{currentWorkspace:n}=(0,_.ur)(),{openUpsellModal:l}=(0,iQ.I)(),o=(0,P.ez)("custom_fonts"),[a,d]=(0,r.useState)(null),{data:c,error:x,loading:u}=(0,F.Ztt)({variables:{workspaceId:null==n?void 0:n.id,archived:!1},skip:!n}),{isOpen:m,onOpen:j,onClose:b}=(0,p.j)(),{isOpen:v,onOpen:y,onClose:w}=(0,p.j)(),{isOpen:S,onOpen:E,onClose:A}=(0,p.j)(),I=(0,r.useCallback)((e,t)=>()=>{if(!o)return void l({segmentEvent:tq.VV.GAMMA_PRO_UPSELL_CALLOUT_CUSTOM_FONTS});d(e),"edit"===t?j():(y(),b()),A()},[o,l,y,A,j,b]),T=(0,r.useCallback)(()=>{if(!o)return void l({segmentEvent:tq.VV.GAMMA_PRO_UPSELL_CALLOUT_CUSTOM_FONTS});d(null),j()},[o,l,j]),D=(0,r.useCallback)(e=>()=>{d(e),E()},[E]),{displayName:O,description:R,ariaLabel:z,icon:L}=U.mQ[U.n8.FONTS],N=((null==c?void 0:c.fonts)||[]).filter(e=>!e.archived),W=N.map(e=>({id:e.id,name:e.name,url:e.cssUrl})),V=N.length;return(0,s.jsxs)(f.a,{w:"100%","data-testid":"fonts-view-container",children:[(0,s.jsx)(i$.J,{fonts:W}),(0,s.jsxs)(eF.e,{isSidebarVisible:t,setIsSidebarVisible:i,children:[(0,s.jsxs)(B.D,{size:"sm","data-testid":"fonts-view-header",children:[L&&(0,s.jsx)(C.g,{icon:L,"aria-label":z()})," ",(0,s.jsx)(M.E,{as:"span",ms:2,children:O})]}),(0,s.jsx)(M.E,{fontSize:"md",mt:"2",mb:"6",color:"gray.600",children:R})]}),(0,s.jsxs)(g.B,{children:[(0,s.jsx)(M.E,{color:"gray.600",children:(0,s.jsx)(h.x6,{id:"GOR0mG",values:{numOfFonts:V}})}),(0,s.jsxs)(id.r,{columns:{base:1,md:2,xl:3,"2xl":4},spacing:6,children:[(0,s.jsx)(iX,{label:(0,s.jsx)(h.x6,{id:"O7HGjV"}),icon:(0,s.jsx)(C.g,{icon:k.MNJ}),onClick:T}),!u&&!x&&N.map(e=>(0,s.jsx)(iE,{font:e,onEditClick:I(e,"edit"),onDeleteClick:I(e,"delete"),onClick:D(e)},e.id))]})]}),m&&n&&(0,s.jsx)(iJ,{onClose:b,orgId:n.id,font:a}),v&&n&&a&&(0,s.jsx)(ih,{onClose:w,orgId:n.id,font:a}),S&&a&&(0,s.jsx)(ik,{onClose:A,onEditClick:I(a,"edit"),onDeleteClick:I(a,"delete"),font:a})]})}),nW=()=>{let{isInOfflineMode:e}=(0,u.u)(),{activeTab:t,userHasNoWorkspaces:i,currentChannelId:n,channelPreview:r,isSidebarVisible:l,setIsSidebarVisible:o,sitesEnabled:a,activeChannel:d}=(0,m.q)();switch(t){case"all":return(0,s.jsx)(ia,{activeTab:t,userHasNoWorkspaces:i,isSidebarVisible:l,setIsSidebarVisible:o,currentChannelId:n,activeChannel:d,channelPreview:r,isOffline:e});case"sites":if(a)return(0,s.jsx)(eO,{isSidebarVisible:l,setIsSidebarVisible:o,offlineHeading:(0,s.jsx)(h.x6,{id:"Dof5VE"}),offlineDescription:(0,s.jsx)(h.x6,{id:"u0EQli"})});case"images":return(0,s.jsx)(nM,{isSidebarVisible:l,setIsSidebarVisible:o,offlineHeading:(0,s.jsx)(h.x6,{id:"4v2FOG"}),offlineDescription:(0,s.jsx)(h.x6,{id:"x+pag6"})});case"templates":return(0,s.jsx)(nL,{isSidebarVisible:l,setIsSidebarVisible:o,offlineHeading:(0,s.jsx)(h.x6,{id:"YYsmce"}),offlineDescription:(0,s.jsx)(h.x6,{id:"lMx/ij"})});case"inspiration":return(0,s.jsx)(nN,{isSidebarVisible:l,setIsSidebarVisible:o,offlineHeading:(0,s.jsx)(h.x6,{id:"dkw/zY"}),offlineDescription:(0,s.jsx)(h.x6,{id:"8S3Eta"})});case"themes":return(0,s.jsx)(nP,{isSidebarVisible:l,setIsSidebarVisible:o,offlineHeading:(0,s.jsx)(h.x6,{id:"6P6zXk"}),offlineDescription:(0,s.jsx)(h.x6,{id:"TVO3Di"})});case"fonts":return(0,s.jsx)(nU,{isSidebarVisible:l,setIsSidebarVisible:o,offlineHeading:(0,s.jsx)(h.x6,{id:"lPCuxG"}),offlineDescription:(0,s.jsx)(h.x6,{id:"jD6dRp"})});default:return(0,s.jsx)(ia,{activeTab:t,userHasNoWorkspaces:i,isSidebarVisible:l,setIsSidebarVisible:o,currentChannelId:n,activeChannel:d,channelPreview:r,isOffline:e})}};var nV=i(95669),nH=i.n(nV);let nG=()=>(0,s.jsxs)(z.s,{"data-testid":"home",width:"100%",height:"100%",children:[(0,s.jsx)(nH(),{children:(0,s.jsx)("title",{children:"Gamma"})}),(0,s.jsxs)(z.s,{"data-testid":"doc-root-main",flex:"1",py:6,px:1,w:"100vw",bg:"gray.50",direction:"column",marginLeft:{base:"0"},minH:"var(--100vh)",transition:"margin .2s ease",children:[(0,s.jsx)(w.E,{height:"42px",w:"30%",mb:2}),(0,s.jsx)(w.E,{height:"24px",w:"100%",mb:2}),(0,s.jsx)(w.E,{height:"24px",w:"100%",mb:10}),(0,s.jsx)(z.s,{width:"100%",children:(0,s.jsx)(tC,{})})]})]});var nY=i(34989),nJ=i(11403),nK=!0;let nQ=e=>{let{templateCategories:t,inspirationCategories:i}=e,n=(0,nJ.En)(),o=(0,l.wA)();(0,r.useEffect)(()=>{o((0,d.pE)({templateCategories:t})),o((0,d.PZ)({inspirationCategories:i}))},[t,i,o]),(0,c.a)(!0),(0,x.l)();let h=(0,a.hh)();return n&&h?(0,s.jsx)(nW,{},"home-v2"):(0,s.jsx)(nG,{},"home-skeleton")},n$=(0,o.h)((0,nY.M)(nQ))},3844:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n={src:"/_next/static/media/gamma-logo-profile-image.73d64ea1.png",height:800,width:800,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAARVBMVEX////3/f+64P9Zb47H5v+l1v40VYGOyv/v9/zh8f5uh6d/kKgtSHHD1OjV3OMZMF4dK1tIZYufy/JPealwmsbE0uCXttYFpAwdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPklEQVR4nCXFRxKAMAwEsHVc1g4l9P8/lWHQRSDpJAn344yrOcwi+mMNtYw79ipIztq3FAhW1SnxsfaPqgReR38Br+Tzt/8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},4711:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n={src:"/_next/static/media/clouds1.9209e211.png",height:639,width:1186,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAM1BMVEVUapzq4d7/7+D/+ej67uz57+T///4xSbC3qM3Xz9rXv9Pr2dlRcsS/uNO/sdeNks1Kbrk1jFqpAAAAEXRSTlMBb0Mu/XkHFBbOyY9OwPTcnUujwrYAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAoSURBVHicY2BgYGBm5eZgYGBjYmVhYeHjYWDk5OTl5OIXYOBgZwdjAAyJAM3kJxnzAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:4}},6731:(e,t,i)=>{"use strict";let n;i.d(t,{h:()=>eN});var s=i(6029);i(11230),i(46967);var r=i(29329),l=i(19521),o=i(77650),a=i(95669),d=i.n(a),c=i(81278),x=i(55729),h=i(74158),u=i(91938),m=i(55452),p=i(88586),j=i(2087);let g=e=>{let t=["malformed","encoded","illegal"];return e.includes("URIError")&&e.split(" ").some(e=>t.includes(e))};class f extends x.Component{componentDidMount(){window.addEventListener("error",this.handleError),window.addEventListener("unhandledrejection",this.handleUnhandledRejection)}componentWillUnmount(){window.removeEventListener("error",this.handleError),window.removeEventListener("unhandledrejection",this.handleUnhandledRejection)}componentDidCatch(e,t){if("dev"===u.$.APPLICATION_ENVIRONMENT)throw e;m.Cp(e,{extra:{info:null==t?void 0:t.componentStack}})}static getDerivedStateFromError(e){return{hasError:!0,errMessage:e.message,shouldMountChildren:!1}}handleError(e){if("dev"===u.$.APPLICATION_ENVIRONMENT)throw Error("[ErrorBoundary]: ".concat(e.message))}handleUnhandledRejection(e){if(this.props.unhandledRejectionFilter(e)){var t;let i=(null==(t=e.reason)?void 0:t.message)||"";this.setState({hasError:!0,errMessage:i})}}render(){let e=!0===g(this.state.errMessage)?{opacity:"0.65",starOverlay:!1}:{};return(0,s.jsxs)(s.Fragment,{children:[this.state.hasError&&(0,s.jsx)(j.A,{pos:"absolute",top:0,...e,errMessage:""===this.state.errMessage?void 0:this.state.errMessage,showDisclosure:!0}),this.state.shouldMountChildren&&this.props.children]})}constructor(e){super(e),this.state={hasError:!1,errMessage:"",shouldMountChildren:!0},this.handleError=this.handleError.bind(this),this.handleUnhandledRejection=this.handleUnhandledRejection.bind(this)}}f.defaultProps={unhandledRejectionFilter:e=>{var t;return!!g((null==(t=e.reason)?void 0:t.message)||"")||e.reason instanceof p.Teu&&!1===document.hidden||e.reason instanceof p.cdx}};var b=i(8814),v=i(31615),y=i(17859),w=i(6308),k=i(9052),C=i(65905),S=i(29238),E=i(15342);let A=e=>{console.debug("%c[useApiRefetch] Refetching due to ".concat(e),"background-color: aqua"),(0,k.H4)().reFetchObservableQueries()},I=()=>{let e=(0,E.CU)(),t=(0,x.useRef)(!1),i=(0,x.useRef)(null),n=(0,x.useCallback)(e=>{i.current&&(clearTimeout(i.current),i.current=null),i.current=setTimeout(()=>{A(e),i.current=null},3e3)},[]),s=(0,x.useCallback)(()=>(0,S.mN)(e.getState()).backgrounded,[e]);(0,C.LQ)("online",(0,x.useCallback)(()=>{if(s()){t.current=!0;return}n("online")},[n,s])),(0,C.LQ)("wakeup",(0,x.useCallback)(()=>{if(s()){t.current=!0;return}n("wakeup")},[n,s])),(0,C.LQ)("foreground",(0,x.useCallback)(()=>{t.current&&(n("foreground"),t.current=!1)},[n]))},T=Number(new URLSearchParams(u.$.IS_CLIENT_SIDE?window.location.search:"").get("MAX_BACKGROUND_TIME_ALLOWED"))||432e5,F=()=>{let e=(0,x.useRef)(!1),t=(0,x.useCallback)(t=>{t.timeInBackground&&!e.current&&t.timeInBackground>T&&(e.current=!0,window.location.reload())},[]);(0,C.LQ)("foreground",t)},D=(0,x.memo)(()=>((0,C.yj)(),I(),F(),null));D.displayName="ConnectionMonitor";var O=i(7836),R=i(72751),_=i(68301),z=i(69768),B=i(19564),M=i(73247),L=i(41215);let N=e=>{let{children:t}=e;return(0,M.e)(),(0,L.Z)(),(0,s.jsx)(B.CY,{i18n:o.Ru,children:t})};var P=i(43728),U=i(3247),W=i(60149),V=i(88956),H=i(31061),G=i(3615),Y=i(55765),J=i.n(Y),K=i(25991);class Q{async enable(){try{await window.serwist.register()}catch(e){console.error("Error registering Serwist service worker:",e)}}async disable(){try{for(let e of(await navigator.serviceWorker.getRegistrations()))console.debug("offlineMode - [SerwistOfflineCache] Unregistering service worker:",e),await e.unregister()}catch(e){console.error("Error unregistering Serwist service worker:",e)}try{await this.clearCaches()}catch(e){console.error("Error clearing caches",e)}this.store.dispatch((0,K.Em)())}async debug(){let e=await window.caches.keys();return{cache:(await Promise.all(e.map(async e=>{let t=await window.caches.open(e).then(e=>e.matchAll());return[e,t]}))).reduce((e,t)=>(e[t[0]]=t[1],e),{})}}async gc(e){}async clearCaches(){try{if(!window.caches)return;for(let e of(await window.caches.keys()))await window.caches.delete(e);console.debug("offlineMode - [SerwistOfflineCache] Serwist caches cleared successfully")}catch(e){console.error("Error clearing caches",e)}}constructor(){this.store=(0,E.KA)()}}let $=J()(()=>new Q);var X=i(58859),q=i(34647),Z=i(12364),ee=i.n(Z),et=i(83817),ei=i.n(et);let en="offline-state-v1",es=e=>{let t=er(),i=null;t&&(console.debug("offlineMode - [setupOfflineManagerPersistence] LOADING PERSISTED STATE",t),e.dispatch((0,K.OA)(t)),i=t);let n=ee()(e=>{el(e)},500);return e.subscribe(()=>{let t=(0,K.uc)(e.getState());if(i!==t){if(ei()(i,t)){i=t;return}i=t,console.debug("offlineMode - [setupOfflineManagerPersistence] PERSISTING STATE",t),n(t)}})},er=()=>{try{let e=localStorage.getItem(en);return JSON.parse(e)}catch(e){return null}},el=async e=>{try{let t=JSON.stringify(e);localStorage.setItem(en,t)}catch(e){console.error("Error persisting state",e)}},eo=(0,q.B)();class ea{get enabled(){return(0,K.yy)(this.store.getState())}async init(){if(!eo)return void console.debug("offlineMode - [OfflineManager] Offline mode is not supported");this.cleanupFns.push(es(this.store)),await this.notifyCaches(this.enabled),console.debug("offlineMode - [OfflineManager] caches initialized",this.enabled),this.setupFeatureFlagSubscription(),this.setupConnectionListener(),console.debug("offlineMode - [OfflineManager] subscriptions initialized")}setupConnectionListener(){let e=V.l.on("offline",()=>{this.apolloOfflineCache.useOfflineCache()}),t=V.l.on("online",()=>{this.apolloOfflineCache.backOnline()});this.cleanupFns.push(t),this.cleanupFns.push(e)}setupFeatureFlagSubscription(){_.of.initializePromise.then(()=>{let e=_.of.get("offline");e!==this.enabled&&(e?this.enable():this.disable()),this.cleanupFns.push(_.of.subscribe("offline",e=>{e?this.enable():this.disable()}))})}async enable(){if(!eo)return void console.debug("offlineMode - [OfflineManager] Offline mode is not supported");if(this.enabled)return void console.warn("Offline mode already enabled");let{user:e,status:t}=await (0,H.m)({returnOfflineUser:!1});if("loggedIn"!==t)return void console.warn("[OfflineManager] Offline mode user not logged in");await this.notifyCaches(!0),this.store.dispatch((0,K.Es)({user:e,lastSynced:new Date().toISOString()}))}async disable(){return eo?this.enabled?void(await this.notifyCaches(!1),this.store.dispatch((0,K.lK)())):void console.warn("[OfflineManager] Offline mode already disabled"):void console.debug("offlineMode - [OfflineManager] Offline mode is not supported")}async notifyCaches(e){return Promise.all(e?this.caches.map(e=>e.enable()):this.caches.map(e=>e.disable()))}cleanup(){for(;this.cleanupFns.length>0;){var e;null==(e=this.cleanupFns.pop())||e()}}constructor(){this.store=(0,E.KA)(),this.serwistOfflineCache=$(),this.ydocOfflineCache=(0,X.f)(),this.apolloOfflineCache=(0,G.h)(),this.caches=[this.serwistOfflineCache,this.ydocOfflineCache,this.apolloOfflineCache],this.cleanupFns=[]}}let ed=async()=>{if(n)throw Error("OfflineManager already initialized");try{n=new ea,await n.init()}catch(e){console.error("Error initializing OfflineManager",e)}};window.getOfflineManagerState=()=>(0,E.KA)().getState().OfflineManager,window.getOfflineManager=()=>n;var ec=i(82927),ex=i(7092),eh=i(59190),eu=i(82891);let em="no_org_id",ep=e=>{let{children:t}=e;(0,eh.Iy)();let{user:i,anonymousUser:n,currentWorkspace:r,isUserLoading:l}=(0,ec.ur)();return(0,x.useEffect)(()=>{let e=(0,eu.g)();(0,ex.eZ)(e.get()),e.fetch().then(ex.eZ).catch(()=>{})},[]),(0,x.useEffect)(()=>{let e;if(!l){if(i){let{id:t,email:n}=i,s=!!n&&n.endsWith("@gamma.app");e={userId:t,isGammaUser:s,userOrgId:(null==r?void 0:r.id)||em,anonymousUser:!1,gammaUserFirstName:s?i.firstName:""}}else e={userId:"anonymous_user",isGammaUser:!1,userOrgId:em,anonymousUser:!0,gammaUserFirstName:""};(0,ex.eZ)(e)}},[l,i,n,r]),(0,s.jsx)(s.Fragment,{children:t})};var ej=i(1771),eg=i(95889),ef=i(21088),eb=i(33521),ev=i(56288),ey=i(29608),ew=i(23460),ek=i(75287),eC=i(85732);i(85465),i(98026),i(8262),i(98),i(1433),i(77741),i(62706),i(65613),i(87213);var eS=i(6772),eE=i.n(eS),eA=i(11403),eI=i(59392),eT=i(11390);let eF=()=>{window._vntQueue=window._vntQueue||[],window.VNT=window.VNT||{init:function(){window._vntQueue.push(["init",Array.prototype.slice.call(arguments)])},identify:function(){window._vntQueue.push(["identify",Array.prototype.slice.call(arguments)])}}},eD=async e=>{let{user:t,currentWorkspace:i,anonymousUser:n}=e;if(window.VNT)try{await eO({anonymousUser:n,user:t,currentWorkspace:i}),await eR({anonymousUser:n,user:t}),console.debug("[VANTARA] ✅ Init and identify complete")}catch(e){console.error("[VANTARA] ❌ Error initializing Vantara",e)}},eO=async e=>{let{anonymousUser:t,user:i,currentWorkspace:n}=e,s=window.VNT;if(s)try{var r;let e=(0,eI.m)(u.$.NEXT_PUBLIC_VERCEL_URL||"");await s.init(u.$.VANTARA_PRODUCT_ID,u.$.VANTARA_CLIENT_KEY,{environment:u.$.APPLICATION_ENVIRONMENT,...e?{version:e}:{},metadata:{isNewUser:!!(null==(r=i.settings)?void 0:r.needsEditorOnboarding),anonymousId:null==t?void 0:t.id,...n?{company:{id:n.id,name:n.name,plan:(0,eT.A4)(n)}}:{}}})}catch(e){console.error("[VANTARA] ❌ Error calling VNT.init",e)}},eR=async e=>{let{user:t,anonymousUser:i}=e,n=window.VNT;if(n)try{var s,r;let{id:e,email:l,displayName:o}=t,a={userId:e,email:l,name:o,metadata:{anonymousId:null==i?void 0:i.id,jobFunction:t.jobFunction,referrer:t.referrer,createdTime:t.createdTime,authProvider:t.authProvider,locale:null==(s=t.settings)?void 0:s.locale,goals:null==(r=t.settings)?void 0:r.goals}};await n.identify(a)}catch(e){console.error("[VANTARA] ❌ Error calling VNT.identify",e)}},e_=()=>{let{user:e,currentWorkspace:t,anonymousUser:i}=(0,ec.ur)(),{hasInitialized:n}=(0,_.FY)(),s=(0,_.u)("vantaraSnippet"),r=null==t?void 0:t.id,l=!!("OFF"!==s&&e&&r);(0,eA.Vg)(()=>{l&&e&&eD({user:e,currentWorkspace:t,anonymousUser:i})},[t,r,e,l,i,n],[r,l])},ez=()=>{e_();let e=!(0,ey.rA)()&&!(0,eC.NF)(),t=(0,eA.En)(),{hasInitialized:i}=(0,_.FY)(),n=(0,_.u)("vantaraSnippet"),r="OFF"!==n;return((0,x.useEffect)(()=>{r&&eF()},[r]),t&&e&&r&&i)?(0,s.jsx)(eE(),{id:"vantara-browser-api",src:n,async:!0,type:"module"}):null};l.$W.autoAddCss=!1;let eB=(0,E.KA)();ed();let eM=(0,p.fqS)({supportOfflineMode:!0}),eL=(0,p.fFM)();(0,ew.xy)(),U.WC.initialize(),(0,z.Wf)(),eg.zS.init(),(0,O.Lm)(),(0,O.Gu)(),(0,P.Ts)(),(0,R.li)(),(0,eb.P)("appMainBundleLoaded"),_.of.get("debugLogging")||(window.console.debug=()=>{});let eN=e=>function(t){return(0,s.jsx)(eP,{children:(0,s.jsx)(e,{...t})})},eP=e=>{let{children:t}=e,i=(0,c.useRouter)();(0,ej.R)(),(0,ek.E)(),(0,b.G)(),(0,x.useEffect)(()=>{let e=(e,t)=>{let{shallow:i}=t;console.debug("[GammaApp - handleRouteChange] App is changing to ".concat(e," ").concat(i?"with":"without"," shallow routing"))};return i.events.on("routeChangeStart",e),()=>{i.events.off("routeChangeStart",e)}},[i]);let n=(0,ev.dC)();return(0,s.jsx)(h.Kq,{store:eB,children:(0,s.jsx)(N,{children:(0,s.jsx)(w.Z,{children:(0,s.jsx)(f,{children:(0,s.jsx)(r.X,{client:eM,children:(0,s.jsxs)(p.N0f,{client:eL,children:[(0,s.jsx)(eU,{}),(0,s.jsx)(v.fH,{}),(0,s.jsx)(P.FM,{}),(0,s.jsx)(y.D,{}),(0,s.jsx)(D,{}),(0,s.jsxs)(ec.ac,{children:[(0,s.jsx)(ef.M7,{children:(0,s.jsxs)(_.Yy,{children:[(0,s.jsx)(ez,{}),(0,s.jsx)(W.K,{children:(0,s.jsx)(ep,{children:(0,s.jsx)(ev.gk,{value:n,children:t})})})]})}),(0,s.jsx)(_.zf,{})]})]})})})})})})},eU=()=>{let e=u.$.OG_IMAGE_URL_REBRAND,t=o.Ru._({id:"0v7kQB"}),i=u.$.APPLICATION_ENVIRONMENT;return(0,s.jsxs)(d(),{children:[(0,s.jsx)("title",{children:"Gamma"}),"production"!==i&&(0,s.jsx)("meta",{name:"robots",content:"noindex, nofollow"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, viewport-fit=cover"}),(0,s.jsx)("link",{rel:"manifest",href:"/manifest.json"}),"production"!==i?(0,s.jsx)("link",{rel:"shortcut icon",href:"staging"===i?"/icons/favicon_staging.jpg":"/icons/favicon_local.jpg"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("link",{rel:"icon",href:"https://static.gamma.app/favicons/favicon_light.ico",sizes:"32x32"}),(0,s.jsx)("link",{rel:"icon",type:"image/svg+xml",href:"https://static.gamma.app/favicons/favicon_dark.svg",media:"(prefers-color-scheme: dark)"}),(0,s.jsx)("link",{rel:"icon",type:"image/svg+xml",href:"https://static.gamma.app/favicons/favicon_light.svg",media:"(prefers-color-scheme: light)"}),(0,s.jsx)("link",{rel:"apple-touch-icon",href:"https://static.gamma.app/favicons/apple-touch-icon.png"})]}),(0,s.jsx)("meta",{content:t,name:"description"},"description"),(0,s.jsx)("meta",{content:"Gamma",property:"og:title"},"og:title"),(0,s.jsx)("meta",{content:t,property:"og:description"},"og:description"),(0,s.jsx)("meta",{content:e,property:"og:image"},"og:image"),(0,s.jsx)("meta",{content:"Gamma",property:"twitter:title"},"twitter:title"),(0,s.jsx)("meta",{content:t,property:"twitter:description"},"twitter:description"),(0,s.jsx)("meta",{content:e,property:"twitter:image"},"twitter:image"),(0,s.jsx)("meta",{property:"og:type",content:"website"},"og:type"),(0,s.jsx)("meta",{content:"summary_large_image",name:"twitter:card"},"twitter:card"),(0,s.jsx)("meta",{name:"google",content:"notranslate"}),(0,s.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900",rel:"stylesheet"}),(0,s.jsx)("link",{rel:"stylesheet",href:"https://use.typekit.net/tiw2cwq.css"}),!(0,ey.rA)()&&!(0,eC.NF)()&&(0,s.jsx)("script",{async:!0,src:"https://cdn.optimizely.com/js/20579410255.js"}),(0,s.jsx)("script",{src:"//cdn.iframe.ly/embed.js",async:!0,charSet:"utf-8"})]})}},6766:(e,t,i)=>{"use strict";i.d(t,{H:()=>d});var n=i(41352),s=i(81221),r=i(91938),l=i(87996),o=i(52297);let a=e=>{let t="",i=!1;if("transloadit"in e){let{failed:n,transloadit:s}=e;i=!!n.length,t=s[0].results[":original"][0].url}else{if(!("results"in e))return{sourceUrl:t,success:!1};t=e.results[":original"][0].url}return i?{sourceUrl:t,success:!1}:{sourceUrl:t,success:!0}},d=(e,t)=>{let i=new n.Ay({...l.ux,restrictions:{...l.ux.restrictions,allowedFileTypes:l.J4}});return i.use(s.Ay,{assemblyOptions:async()=>{let t=r.$.TRANSLOADIT_FILE_TEMPLATE_ID,{signature:i,expires:n}=await (0,o.N)(t);return{params:{auth:{key:r.$.TRANSLOADIT_AUTH_KEY,expires:n},template_id:t},fields:{orgId:e},signature:i}},waitForEncoding:!0}),new Promise((e,n)=>{i.on("complete",t=>{let{success:i,sourceUrl:s}=a(t);i?e(s):n("Could not get sourceUrl from upload result")}),i.on("transloadit:complete",t=>{let{success:i,sourceUrl:s}=a(t);i?e(s):n("Could not get sourceUrl from result")}),i.on("error",e=>{n(e)}),i.on("restriction-failed",(e,t)=>{console.error("[uploadFontFile] restriction failed on file",e,"error",t),n(t)}),i.addFile({name:t.name,type:t.type,data:t}),l.ux.autoProceed||i.upload()})}},8262:()=>{},11525:(e,t,i)=>{"use strict";i.d(t,{R:()=>r});var n=i(27229),s=i(55729);let r=()=>{let{isOpen:e,onOpen:t,onClose:i}=(0,n.j)({id:"sharePanelDisclosure"}),[r,l]=(0,s.useState)("invite");return{isSharePanelOpen:e,onSharePanelOpen:t,onSharePanelClose:(0,s.useCallback)(()=>{l("invite"),i()},[i]),view:r,setView:l}}},17703:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(2443)}])},20746:(e,t,i)=>{"use strict";i.d(t,{F:()=>r});var n=i(55729),s=i(68986);function r(e,t){let[i,r]=(0,n.useState)(()=>{try{let i=s.e.getItem(e);if(null===i)return t;return JSON.parse(i)}catch(e){return console.error("[useSessionStorage.getItem] Error getting sessionStorage item",e),t}});return[i,(0,n.useCallback)(t=>{try{s.e.setItem(e,JSON.stringify(t)),r(t)}catch(e){console.error("[useSessionStorage.setItem] Error setting sessionStorage item",e)}},[e])]}},23664:(e,t,i)=>{"use strict";i.d(t,{KX:()=>r,L8:()=>s,sx:()=>n});let n={content:"attr(data-placeholder)",position:"absolute",top:0,opacity:.25,pointerEvents:"none",left:0,width:"100%",color:"var(--heading-color)",lineClamp:1,textOverflow:"ellipsis",overflow:"hidden",boxOrient:"vertical",wordBreak:"break-all",height:"100%",whiteSpace:"nowrap"},s={...n,content:"attr(data-multiline-placeholder)",color:"inherit",position:"relative",lineClamp:0,whiteSpace:"normal",wordBreak:"normal"},r=e=>'"'.concat(e,'"')},30034:(e,t,i)=>{"use strict";i.d(t,{s:()=>N});var n=i(6029),s=i(65588),r=i(83004),l=i(55729),o=i(91792),a=i(61385),d=i(5872),c=i(43607);let x={fontSize:"var(--chakra-fontSizes-sm) !important",fontFamily:"var(--chakra-fonts-body), sans-serif !important",fontWeight:"500 !important",lineHeight:"1.5 !important",textTransform:"none",letterSpacing:"normal !important",textAlign:"start !important",margin:"0 !important",color:"var(--chakra-colors-gray-800) !important",background:"none !important",blockquote:{borderLeftWidth:"0px !important",borderLeftStyle:"solid !important",borderLeftColor:"transparent !important",padding:"0 !important",color:"var(--chakra-colors-gray-800) !important",fontStyle:"normal !important"},border:"0 none !important",padding:"0 !important",content:'""'},h={...x,color:"var(--chakra-colors-blue-500) !important","&:hover":{textDecoration:"underline"},cursor:"pointer"},u={"p,h1,h2,h3,h4,h5,h6, .title, .section-title":{...x,margin:0},a:h,"ul, ol":{marginLeft:"1.2em"},blockquote:{borderLeft:"3px solid var(--chakra-colors-gray-200)",paddingLeft:"0.5em"},color:"var(--chakra-colors-gray-800) !important",wordBreak:"break-word",lineHeight:"1.5 !important",letterSpacing:"normal !important",".mention":{bgColor:"trueblue.50",whiteSpace:"break-spaces"}},m={fontFamily:"var(--chakra-fonts-body) !important",fontWeight:"500","@media screen and (max-width: 30rem)":{".controls-wrapper":{}},"@media screen and (min-width: 30rem)":{".controls-wrapper":{paddingInlineStart:"var(--comment-padding)"},".controls-wrapper__gridLayout, .controls-wrapper__gallery":{paddingInlineStart:"calc(-1 * var(--grid-padding) + var(--comment-padding))"}},".comments-list":{".comments-sign-up":{a:{...x,...h,fontSize:"xs",color:"gray.500",fontWeight:"bold","&:hover":{color:"gray.500",textDecoration:"underline"}}},".comment":{".reactions-row ul":{marginInlineStart:"auto"},".comment-date":{fontSize:"var(--chakra-fontSizes-xs) !important",color:"var(--chakra-colors-gray-500) !important"},...u},".block-image":{"&.is-focused":{"img, .image, .placeholder":{boxShadow:"var(--chakra-shadows-outline)"}}},".block-target-html":{"p,h1,h2,h3,h4,h5,h6,blockquote,ol,ul,li, .title, .section-title":{...x,"::after":x},a:{...h},li:{margin:"0 !important",padding:"0 !important",listStyle:"none !important",p:{margin:0}},img:{maxWidth:"200px",maxHeight:"80px"}}},".comment-editor .ProseMirror":{...u,"\n      @media only screen and (max-device-width: 812px) and (-webkit-min-device-pixel-ratio: 2),\n      @media only screen and (max-device-width: 812px) and (-webkit-min-device-pixel-ratio: 3),\n      @media only screen and (max-device-width: 640px) and (-webkit-min-device-pixel-ratio: 4)\n    ":{fontSize:"16px  !important"},padding:"12px",borderRadius:"5px","&.focus-visible":{boxShadow:"0 0 0 2px rgb(49, 130, 206)"},"a.image-link":{pointerEvents:"none"}}};var p=i(9329),j=i(16419),g=i.n(j),f=i(76694);let b={".slash-menu-prompt":{containerType:"inline-size"},".slash-menu-placeholder-long":{display:"inline"},".slash-menu-placeholder-short":{display:"none"},".slash-menu-button-text":{display:"inline"},"@container (max-width: 450px)":{".slash-menu-prompt .slash-menu-button-text":{display:"none"},".slash-menu-prompt .slash-menu-placeholder-long":{display:"none"},".slash-menu-prompt .slash-menu-placeholder-short":{display:"inline"}}};var v=i(7915);function y(){let e=(0,p._)(["\n  0% {\n    box-shadow: ",";\n  }\n  7%,\n  60% {\n    box-shadow: var(--link-box-shadow);\n  }\n  100% {\n    box-shadow: ",";\n  }\n"]);return y=function(){return e},e}function w(){let e=(0,p._)(["\n  0% \n  100% {\n    box-shadow: ",";\n  }\n"]);return w=function(){return e},e}let k="0 0 0 0 rgba(0, 0, 0, 0.0)",C=(0,r.i7)(y(),k,k),S=(0,r.i7)(w(),k),E={"math-display":{fontSize:"1.125em",".katex":{whiteSpace:"normal"}},"math-inline":{"&.ProseMirror-selectednode":{marginY:"-0.25em"}},"math-display, math-inline":{"&.ProseMirror-selectednode":{boxShadow:"outline",borderRadius:"var(--box-border-radius)",backgroundColor:"gray.50",padding:".25em",marginX:"3px",".math-src":{color:"gray.600"}}}};var A=i(61651),I=i(77650),T=i(8266),F=i(23664);let D=e=>({".block-smartLayout":{'[data-node-view-content-outer="smartLayout"]':{display:"contents"},'[data-node-view-content-inner="smartLayout"]':{display:"contents"},"[data-selection-ring]":{outlineStyle:"none",outlineWidth:"1px",outlineColor:"var(--grid-outline-color)"},'[data-selection-ring="padded"]':{outlineOffset:"0.25em",".add-button":{m:"-0.25em"}},"&:not(.is-focused)":{"[data-content-empty=true] > [data-node-view-content]":{height:0,"[data-placeholder]::after, [data-multiline-placeholder]::after":{display:"none"}}},"&.is-focused":{"[data-content-empty=true]":{"[placeholder]::before":F.sx}},["&.is-focused, &:hover, &[".concat(v.y,"]")]:{".is-editable":{"[data-selection-ring]":{outlineStyle:"solid"},".add-button":{opacity:1}}}},".node-smartLayoutCell":{display:"contents","> [data-node-view-wrapper]":{display:"contents"},"--heading-placeholder":(0,F.KX)(I.Ru._({id:"HX5SVx"})),'[data-node-view-content-inner="smartLayoutCell"] > .first-block':{mt:[0,0]},'[data-node-view-content-inner="smartLayoutCell"] > .last-block':{mb:[0,0]},".slash-menu-prompt":{display:"none"},".block-heading, .block-title":{...(0,T.hQ)(e).tight},".block-paragraph":{...(0,T.xC)(e).tight}},".smart-layout-cell-not-emphasized > [data-content-reference], .smart-layout-cell-not-emphasized [data-smart-layout-emphasis]":{opacity:.5}});var O=i(39659),R=i(90026),_=i(63255);function z(){let e=(0,p._)(["\n  0% {\n    align-items: flex-start;\n    grid-template-rows: 0.2fr;\n    overflow: hidden;\n  }\n  99% {\n    align-items: flex-start;\n    overflow: hidden;\n  }\n  100% {\n    align-items: initial;\n    grid-template-rows: 1fr;\n    overflow: visible;\n  }\n"]);return z=function(){return e},e}let B=(0,r.i7)(z()),M=(e,t)=>({height:"100%",outlineWidth:"0px",lineHeight:"var(--line-height-body)",letterSpacing:"var(--letter-spacing-body)","&.is-focused":{".is-empty":{"[data-placeholder]":{_after:F.sx},"[data-multiline-placeholder]":{position:"relative",_after:F.L8,"> [data-node-view-content-inner]":{position:"absolute",width:"100%",minH:"1em"}}}},"--block-margin":(0,T.bd)(e),"--grid-border":"1px","--grid-padding":"1.22em",".block-card":{"&.expandable-node":{"&-selected .expandable-selected":{animation:"".concat(C," 3000ms ease-in-out forwards")},"&-reset .expandable-selected":{animation:"".concat(S)}}},".block":{my:"var(--block-margin)",fontFamily:"var(--body-font)",fontWeight:"var(--body-font-weight)",color:"var(--body-color)"},"&.is-nested":{display:"grid",animation:"".concat(B," ").concat(a.M2,"ms ease-out forwards")},"&.is-full-width":{".block.is-full-width":{width:"var(--full-width)",position:"relative",left:"50%",transform:"translateX(-50%)"}},'[data-node-view-content-inner="cardLayoutItem"], [data-node-view-content-inner="card"]':{"> .first-block":{mt:"0em"},"> .last-block":{mb:"0em"}},"a.link":{color:"var(--text-color, var(--link-color))",cursor:"pointer",fontWeight:"bold",textDecoration:"underline",'&[href=""]':{textDecorationStyle:"dashed"},"&:hover":{color:"var(--text-color, var(--link-color-hover))"},"&:active":{color:"var(--text-color, var(--link-color-hover))"}},".block-toggle":{"&.expandable-node":{"&-selected .toggle":{animation:"".concat(C," 3000ms ease-in-out forwards")},"&-reset .toggle":{animation:"".concat(S)}},'[data-open="false"]':{'[data-node-view-content-inner="toggle"]':{"> :not(:first-child)":{display:"none"}}}},...O.h.default,...R.H.default,..._.X0,...E,".block-codeBlock":{pre:{fontFamily:"mono",fontSize:T.$N.codeBlock,"@media print":{fontSize:g()(T.$N.codeBlock)},color:"var(--body-color)",background:"var(--neutral-background-color)",borderRadius:"var(--box-border-radius)",overflow:"hidden",code:{display:"block",padding:".75em 1em"}}},code:{backgroundColor:"var(--neutral-background-color)",color:"var(--body-color)",...O.w},".block-blockquote":{blockquote:{pl:"1.5em"}},".block-embed, .block-video":{"&.expandable-node":{"&-selected":{".embed-preview, .embed-viewer, .video-player":{animation:"".concat(C," 3000ms ease-in-out forwards")}},"&-reset":{".embed-preview, .embed-viewer, .video-player":{animation:"".concat(S)}}}},".block-image":{"&.expandable-node":{"&-selected":{"[data-selection-ring]":{animation:"".concat(C," 3000ms ease-in-out forwards")}},"&-reset ":{"[data-selection-ring]":{animation:"".concat(S)}}}},".block-contributors":{".contributors-list":{fontSize:"1.25em",fontWeight:"bold"}},".mention":{bgColor:"var(--accent-color-background-muted)",color:"var(--body-color)"},".block-gallery":{"&.gallery-layout-flex":{".add-image":{mb:"calc(0.75 * var(--grid-padding))"}},mx:"calc(-1 * var(--grid-padding))",my:"calc(-0.25 * var(--grid-padding))",".gallery":{px:"var(--grid-padding)",py:"calc(0.75 * var(--grid-padding))",border:"1px solid",borderColor:"transparent",borderRadius:"var(--box-border-radius)",["&.".concat(f.u)]:{border:"1px dashed var(--chakra-colors-trueblue-300) !important",backgroundColor:"var(--chakra-colors-trueblue-50) !important",".gallery-placeholder":{pointerEvents:"none"}}},"&.is-focused, &.is-empty":{".gallery":{backgroundColor:"".concat(t?A.N.DARK_BG:A.N.LIGHT_BG)}},["&.is-focused, &:hover, &[".concat(v.y,"]")]:{".add-image":{opacity:1}},"&.expandable-node":{"&-selected .gallery":{animation:"".concat(C," 3000ms ease-in-out forwards")},"&-reset .gallery":{animation:"".concat(S)}}},...b,...D(e),".block-gridLayout":{mx:"calc(-1 * var(--grid-padding))",".layout-content":{display:"contents","> div":{display:"contents"}},".grid-cell":{position:"relative",height:"100%",paddingX:"var(--grid-padding)",display:"flex",flexDirection:"column",outlineWidth:"1px",outlineStyle:"none",outlineColor:"var(--grid-outline-color)",".block-gallery":{my:"0"}},["&.is-focused, &:hover, &[".concat(v.y,"]")]:{".is-editable":{".grid-cell":{outlineStyle:"solid"}},".add-column":{opacity:1}}},".node-cardLayoutItem, .node-cardAccentLayoutItem":{position:"relative",display:"flex",flexDirection:"column",justifyContent:"stretch",minWidth:0,minHeight:0,"> [data-node-view-wrapper]":{position:"relative",height:"100%",width:"100%"}},".node-cardNotes":{display:"none"},".block-table":{table:{'[data-node-view-content-inner="table"]':{display:"contents",'[data-node-view-content-inner="tableRow"]':{display:"contents"},td:{verticalAlign:"top",".block-heading [data-placeholder]::before":{display:"none"}}}},td:{minWidth:"3em",paddingX:"1em",position:"relative",".block":{maxWidth:e?"75vw":void 0},"&:not(:first-of-type)":{borderInlineStart:"1px solid transparent"}},".selectedCell:after":{zIndex:2,position:"absolute",content:'""',left:0,right:0,top:0,bottom:0,backgroundColor:"trueblue.100",pointerEvents:"none",opacity:.4},"&.is-focused, &:hover":{"td:not(:first-of-type)":{borderInlineStart:"1px solid var(--grid-outline-color)"}}},".tippy-arrow":{borderLeftColor:"red"},".footnote-label":{textDecoration:"underline",textDecorationColor:"var(--link-color)",_hover:{bgColor:"var(--accent-color-background-muted)",color:"gray.700",borderRadius:"sm"}},".footnote":{color:"var(--link-color)",_hover:{_after:{bgColor:"var(--accent-color-background-muted)",color:"gray.700"}}},".node-emoji":{color:"initial"},".block-heading":{...(0,T.hQ)(e).default,".heading":{position:"relative"}},".block-title":{...(0,T.hQ)(e).default,".title":{position:"relative"}},".node-gridLayout, .node-calloutBox":{".block-heading, .block-title":{...(0,T.hQ)(e).compact},".block-paragraph":{...(0,T.xC)(e).compact}},".node-calloutBox":{".first-block":{mt:(0,T.hQ)(e).compact.mt}},".block-table td":{".block":{...(0,T.xC)(e).tight,"&.first-block":{mt:(0,T.xC)(e).tight.my}},".block-heading, .block-title":{...(0,T.hQ)(e).tight}},'[data-node-view-content-inner="card"]:not(:has(> .node-cardAccentLayoutItem)) [data-node-view-content-inner="cardLayoutItem"] > .first-block:not(.last-block)':{"&.block-heading, &.block-title":{"&:not(:has(+ .block-heading, + .block-title, + .node-gridLayout))":{mb:(0,T.hQ)(e).relaxed.mb}}},'[data-node-view-content-inner="cardLayoutItem"] > .first-block:not(.last-block)':{"&.block-paragraph":{...(0,T.xC)(e).compact,"+ .block-heading, + .block-title":{mt:(0,T.hQ)(e).compact.mt}},'&.block-heading:has([level="2"], [level="3"], [level="4"])':{mb:(0,T.hQ)(e).compact.mb,"+ .block-heading, + .block-title":{mt:(0,T.hQ)(e).compact.mt}}}});var L=i(65978);let N=(0,l.memo)(()=>{let e=(0,c.FX)(),t=(0,o.rd)();return(0,n.jsx)(r.mL,{styles:i=>{let n={[".".concat(a._P)]:M(e,t),[".".concat(L.V)]:m,[".".concat(d.S)]:d.E};if(n)return(0,s.A)(n)(i)}})});N.displayName="GlobalCardStyles"},31615:(e,t,i)=>{"use strict";i.d(t,{fH:()=>x,hw:()=>u,vj:()=>h});var n=i(6029),s=i(81278),r=i(6772),l=i.n(r),o=i(91938),a=i(11403),d=i(37028);let c=["/signin","/signup","/invitations/workspaces/[workspaceId]"],x=()=>{let e=(0,s.useRouter)().pathname;return!(0,a.En)()||c.includes(e)?null:(0,n.jsx)("style",{children:".grecaptcha-badge { visibility: hidden; }"})},h=()=>(0,n.jsx)(l(),{src:"https://www.google.com/recaptcha/enterprise.js?render=".concat(o.$.RECAPTCHA_SCORING_KEY),async:!0,defer:!0}),u=async e=>(await (0,d.f)(50,100)(()=>!!window.grecaptcha).catch(()=>{throw Error("Timed out waiting for grecaptcha")}),new Promise((t,i)=>{grecaptcha.enterprise.ready(async()=>{try{let i=await grecaptcha.enterprise.execute(o.$.RECAPTCHA_SCORING_KEY,{action:e});t(i)}catch(e){console.log(e),i(e)}})}))},32805:(e,t,i)=>{"use strict";i.d(t,{D:()=>p});var n=i(6029),s=i(10500),r=i(85595),l=i(58959),o=i(62176),a=i(48810),d=i(29810),c=i(48621),x=i(55729),h=i(8139),u=i(38390);let m={deck:"generationPreferredDeckStyle",document:"generationPreferredDocumentStyle",social:"generationPreferredSocialStyle"},p=e=>{let{onSelectStyleTemplate:t,docFormatCategory:i,selectedStyleTemplate:p}=e,{updateUserSettings:j}=(0,u.T)(),g=(0,x.useCallback)((e,t)=>{let i=m[e];i&&j({set:{[i]:t}})},[j]);return(0,n.jsx)(n.Fragment,{children:i.styleTemplates.map(e=>{let x=h.S9[e];return(0,n.jsx)(r.D,{id:e,role:"group",transition:"none",onClick:()=>{g(i.formatType,e),t(e)},children:(0,n.jsxs)(l.z,{py:"1.5",cursor:"pointer",spacing:"2",w:"100%",children:[p&&(0,n.jsx)(o.Z,{fontSize:"0.8em",opacity:+(p===e),children:(0,n.jsx)(s.S,{})}),(0,n.jsx)(c.g,{fixedWidth:!0,icon:x.icon}),(0,n.jsx)(a.E,{children:x.label()}),(0,n.jsx)(d.h,{}),(0,n.jsx)(a.E,{color:"gray.500",fontSize:"sm",children:x.cardDimensionsDesc()})]})},e)})})}},34906:(e,t,i)=>{"use strict";i.d(t,{B:()=>c});var n=i(6029),s=i(48810),r=i(40452),l=i(26385),o=i(23293),a=i(7178);let d={renderNode:{[i(3050).BLOCKS.PARAGRAPH]:function(e,t){return(0,n.jsx)(s.E,{color:"gray.600",children:t})}}},c=e=>{let{category:t}=e,i=t.description?(0,a.i)(t.description,d):null;return(0,n.jsx)(r.s,{direction:"row",alignItems:"flex-start",justify:"space-between",children:(0,n.jsxs)(l.B,{mb:6,children:[(0,n.jsx)(o.D,{size:"md",children:t.title}),i&&i]})})}},40556:(e,t,i)=>{"use strict";i.d(t,{I:()=>h});var n=i(6029),s=i(46898),r=i(48810),l=i(80314),o=i(19564),a=i(55729),d=i(88586),c=i(99038),x=i(82927);let h=e=>{let{refetchQueries:t}=e,{user:i}=(0,x.ur)(),h=(0,s.d)(),[u]=(0,d.fQ5)({refetchQueries:t}),[m,{loading:p}]=(0,d.UpM)({refetchQueries:t}),[j]=(0,d.u6W)({refetchQueries:t}),[g]=(0,d.D7K)({refetchQueries:t}),f=(0,a.useCallback)((e,t)=>()=>{if(!i||!t)return;let n={input:{docId:t.id,userId:null==i?void 0:i.id,favorited:e}};return g({variables:n,update:(e,i)=>{let{data:n}=i;e.writeFragment({id:"Doc:".concat(t.id),fragment:d.pfv,data:{docUser:null==n?void 0:n.updateDocUser}})},optimisticResponse:{updateDocUser:{...t.docUser,favorited:n.input.favorited,__typename:"DocUser"}}})},[g,i]),b=(0,a.useCallback)(e=>{let t={id:e};j({variables:t,optimisticResponse:{unarchiveDoc:{...t,archived:!1,__typename:"Doc"}}}).then(()=>{h({title:(0,n.jsx)(o.x6,{id:"nRyNMz"}),status:"success",duration:1e4,position:"top"})})},[j,h]),v=(0,a.useCallback)(e=>{let t={id:e};u({variables:t,optimisticResponse:{archiveDoc:{...t,archived:!0,__typename:"Doc"}}}).then(()=>{h({title:(0,n.jsxs)(r.E,{children:[(0,n.jsx)(o.x6,{id:"i3Wq9L",values:{GAMMA_ARTIFACT_PROPER_NOUN:c.TP}})," ",(0,n.jsx)(l.N,{textDecoration:"underline",onClick:()=>b(e),children:(0,n.jsx)(o.x6,{id:"9uI/rE"})})]}),status:"success",duration:3e3,position:"top",isClosable:!0})})},[u,b,h]);return{favoriteDoc:f,restoreDoc:b,trashDoc:v,permanentlyDeleteDoc:(0,a.useCallback)(e=>m({variables:{id:e},update:t=>{t.evict({id:t.identify({__typename:"Doc",id:e})}),t.gc()},optimisticResponse:{deleteDoc:e}}).then(()=>{h({title:(0,n.jsx)(o.x6,{id:"sOg7tZ",values:{GAMMA_ARTIFACT_PROPER_NOUN:c.TP}}),position:"top",status:"success",duration:3e3})}).catch(()=>{h({title:(0,n.jsx)(o.x6,{id:"SlfejT"}),description:(0,n.jsx)(o.x6,{id:"fWsBTs"}),status:"error",duration:3e3,position:"top",isClosable:!0})}),[m,h]),isPermanentlyDeletingDoc:p}}},40926:(e,t,i)=>{"use strict";i.d(t,{OM:()=>l,eo:()=>o});var n=i(19515),s=i.n(n),r=i(91938);i(74892);let l=e=>e?"production"!==r.$.APPLICATION_ENVIRONMENT?e.stagingDocId||"oltspxg8obq2nzc":e.docId:void console.warn("[getDocIdForEnv] Deck is undefined. This is unexpected."),o=e=>e&&s()(e.map(e=>e.decks))||[]},41386:(e,t,i)=>{"use strict";i.d(t,{n:()=>nG});var n=i(6029),s=i(67909),r=i(36071),l=i(54731),o=i(3674),a=i(91106),d=i(55729),c=i(69768),x=i(22445),h=i(15342),u=i(17920),m=i(40691),p=i(48810),j=i(16426),g=i(61204),f=i(49611),b=i(19564);let v=e=>{let{isOpen:t,onClose:i,onConfirm:a}=e;return(0,n.jsxs)(s.aF,{isOpen:t,onClose:i,children:[(0,n.jsx)(r.m,{}),(0,n.jsxs)(l.$,{children:[(0,n.jsx)(u.r,{children:(0,n.jsx)(b.x6,{id:"sCTlv5"})}),(0,n.jsx)(o.s,{}),(0,n.jsx)(m.c,{children:(0,n.jsx)(p.E,{children:(0,n.jsx)(b.x6,{id:"nvyKWT"})})}),(0,n.jsx)(j.j,{children:(0,n.jsxs)(g.e,{flexWrap:"wrap",gap:"3",justifyContent:"flex-end",spacing:"0",children:[(0,n.jsx)(f.$,{variant:"ghost",onClick:i,children:(0,n.jsx)(b.x6,{id:"4OjqAQ"})}),(0,n.jsx)(f.$,{variant:"hazardous",onClick:a,children:(0,n.jsx)(b.x6,{id:"a7JgI7"})})]})})]})]})};var y=i(91792),w=i(4950),k=i(91264),C=i(72386),S=i(70006),E=i(9620),A=i(40452),I=i(29810),T=i(26385),F=i(26420),D=i(33787),O=i(99492),R=i(48621),_=i(82927),z=i(58959),B=i(27828),M=i(45143);let L=e=>{let{children:t}=e,i=(0,M.h5)({base:"var(--chakra-sizes-sm)",lg:"var(--chakra-sizes-xl)",xl:"var(--chakra-sizes-2xl)","2xl":"var(--chakra-sizes-3xl)"})||"var(--chakra-sizes-md)";return(0,n.jsx)(A.s,{"data-config-pane":!0,direction:"column",height:"100%",w:i,children:t})},N=e=>{let{children:t}=e;return(0,n.jsx)(p.E,{textAlign:"center",w:"100%",fontSize:"lg",fontWeight:"semibold",children:t})},P=e=>{let{children:t,onClick:i,leftIcon:s}=e;return(0,n.jsx)(f.$,{position:"absolute",left:"2",top:"2.5",color:"gray.800",variant:"ghost",onClick:i,leftIcon:(0,n.jsx)(R.g,{icon:s}),children:t})},U=e=>{let{children:t}=e;return(0,n.jsx)(F.a,{children:(0,n.jsx)(z.z,{p:"4",minH:"14",w:"100%",alignItems:"center",justifyContent:"center",children:t})})},W=e=>{let{children:t,stackProps:i}=e;return(0,n.jsx)(F.a,{p:"4",borderTop:"1px solid",borderColor:"gray.200",children:(0,n.jsx)(z.z,{justifyContent:"space-between",position:"relative",...i,children:t})})},V=e=>{let{children:t}=e;return(0,n.jsx)(F.a,{flex:"1",p:4,w:"100%",overflowY:"auto",children:(0,n.jsx)(B.m,{maxW:"container.md",mx:"auto",children:t})})},H=e=>{let{children:t}=e;return(0,n.jsx)(A.s,{direction:"column",height:"100%",flex:1,minW:0,pos:"relative",children:t})};var G=i(34807),Y=i(3276),J=i(83004),K=i(95695),Q=i(42726),$=i(74127),X=i(71128);let q="theme-editor-root",Z=(0,d.memo)(e=>{let{theme:t,setEditor:i}=e,s=(0,d.useMemo)(()=>(0,Q.t)(),[]),r=(0,G.A)(K.H4),l=(0,G.A)(X.OA),o=t?(0,X.qh)(t,l):null,[a,c]=(0,d.useState)(!1);return((0,d.useEffect)(()=>{if(a)return;let e=setTimeout(()=>{c(!0)},500);return()=>clearTimeout(e)},[a]),a&&t)?(0,n.jsxs)(A.s,{className:q,css:{"--editor-width":"100%",...o?{"--doc-padding-left":"".concat(o.width+o.paddingX/2,"px")}:{},"--editor-font-size":r,"*":{transitionProperty:"color, background-color, border-color, fill, stroke",transitionDuration:"50ms",transitionTimingFunction:"ease-out"}},overflowY:"scroll",children:[(0,n.jsx)(J.mL,{styles:{"#doc-main":{display:"none"}}}),(0,n.jsx)(A.s,{w:"100%","data-testid":"custom-theme-preview-editor",className:"disable-card-size-animations",pointerEvents:"none",children:(0,n.jsx)($.u,{onCreate:e=>{null==i||i(e.editor)},initialContent:s,theme:t,scrollingParentSelector:".".concat(q),isInsideDrawer:!0,animationsEnabled:!1})})]}):(0,n.jsx)(A.s,{direction:"column",height:"100%",flex:1,minW:0,w:"100%",align:"center",justify:"center",bg:"gray.50",children:(0,n.jsx)(Y.y,{size:"sm"})})});Z.displayName="PreviewPaneEditor";var ee=i(7312);let et=e=>{let{children:t}=e;return(0,n.jsx)(z.z,{flex:1,spacing:0,h:"100%",divider:(0,n.jsx)(ee.G,{}),children:t})};var ei=i(46898),en=i(88586),es=i(95889);let er=e=>{let{onComplete:t,flow:i}=e,[s,{loading:r}]=(0,en.if9)(),[l,{loading:o}]=(0,en.p2Z)(),{currentWorkspace:a}=(0,_.ur)(),c=(0,es.st)(),x=(0,ei.d)(),u=(0,d.useCallback)(e=>{let{id:r,...l}=e;return s({variables:{input:l},update:(e,t)=>{let{data:i}=t;(null==i?void 0:i.createTheme)&&e.writeQuery({query:en.a83,variables:{workspaceId:a.id,archived:!1},data:{themes:[i.createTheme]}})},optimisticResponse:{createTheme:{__typename:"Theme",...e,archived:!1,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}).then(s=>{let{data:r}=s;if(null==r?void 0:r.createTheme){var l;null==c||c.track(es.VV.THEME_CREATED,{theme_id:null==r||null==(l=r.createTheme)?void 0:l.id,type:"new",flow:i}),null==t||t(r.createTheme)}return x({position:"top",title:(0,n.jsx)(b.x6,{id:"c1Vll8",values:{0:e.name}}),status:"success",duration:5e3,isClosable:!0}),w.R.emit("closeThemeConfiguration",{}),null==r?void 0:r.createTheme}).catch(e=>{if(e.graphQLErrors&&e.graphQLErrors.length>0&&"duplicate_theme_name"===e.graphQLErrors[0].code)return void x({position:"top",title:(0,n.jsx)(b.x6,{id:"9RJBro"}),status:"error",duration:5e3,isClosable:!0});x({position:"top",title:(0,n.jsx)(b.x6,{id:"y47vGS"}),status:"error",duration:5e3,isClosable:!0})})},[s,a,x,c,i,t]),m=(0,d.useCallback)(e=>{l({variables:{input:e},update:(e,t)=>{let{data:i}=t;(null==i?void 0:i.updateTheme)&&e.writeQuery({query:en.a83,variables:{workspaceId:a.id,archived:!1},data:{themes:[i.updateTheme]}})},optimisticResponse:{updateTheme:{__typename:"Theme",...e,archived:!1,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}).then(e=>{let{data:s}=e;if(null==s?void 0:s.updateTheme){var r;null==c||c.track(es.VV.THEME_UPDATED,{theme_id:null==s||null==(r=s.updateTheme)?void 0:r.id,flow:i}),null==t||t(s.updateTheme)}x({position:"top",title:(0,n.jsx)(b.x6,{id:"iZRx4V"}),status:"success",duration:5e3,isClosable:!0}),w.R.emit("closeThemeConfiguration",{})}).catch(e=>{if(e.graphQLErrors&&e.graphQLErrors.length>0&&"duplicate_theme_name"===e.graphQLErrors[0].code)return void x({position:"top",title:(0,n.jsx)(b.x6,{id:"9RJBro"}),status:"error",duration:5e3,isClosable:!0});x({position:"top",title:(0,n.jsx)(b.x6,{id:"y47vGS"}),status:"error",duration:5e3,isClosable:!0})})},[l,a,x,c,i,t]),p=(0,d.useCallback)(()=>{let e=(0,k.s0)(null==a?void 0:a.id)((0,h.KA)().getState());(null==e?void 0:e.id)==="new"?u(e):m(e)},[u,m,null==a?void 0:a.id]);return{createTheme:u,persistTheme:p,isThemeSaving:r||o}},el=e=>{let t=(0,h.jL)();(0,d.useEffect)(()=>(t((0,k.kD)({flow:e})),()=>{t((0,k.kD)({flow:null}))}),[t,e])};var eo=i(92699),ea=i(99038),ed=i(96500),ec=i(53996),ex=i(16491),eh=i(91938),eu=i(95918),em=i(96259),ep=i(69164);let ej=e=>{let t=(0,d.useCallback)(async(t,i)=>{var n;if(i.mimeType!==eu.M.GOOGLE_SLIDES)return;null==(n=e.onImportStarted)||n.call(e,i.id);let s=await (0,ep.m)({token:t,fileId:i.id,mimeType:eu.M.PPTX,filename:"".concat(i.name,".pptx")});e.onImportComplete(s)},[e]),{initiateGoogleImport:i}=(0,em.MB)({onSelect:t,pickers:{docs:!1,slides:!0}});return{initiateGoogleImport:i}};var eg=i(35816),ef=i(27695),eb=i(8859);let ev=()=>{let[e]=(0,en.oF7)();return(0,d.useCallback)(async t=>{var i,n;let{fileUrl:s,interactionId:r}=t;if(!s)throw Error("fileUrl is required");let l=await e({variables:{input:{workspaceId:(0,_.gx)(),fileUrl:s,interactionId:r}}});if(!(null==(i=l.data)?void 0:i.generateImportPptTheme))throw Error("Failed to generate theme");return null==(n=l.data)?void 0:n.generateImportPptTheme},[e])},ey=()=>{let e=(0,h.jL)(),t=(0,es.st)(),i=(0,ei.d)(),{fontsMap:s}=(0,y.II)(),r=ev(),l=(0,h.CU)(),o=(0,d.useRef)(null),a=(0,d.useRef)(0),c=(0,d.useCallback)(t=>{a.current=performance.now(),e((0,E.Gh)({fileId:t})),o.current=t},[e]),x=(0,d.useCallback)(async d=>{let c=(0,E.IX)(l.getState());if(o.current!==c||!c)return;let x=l.getState();e((0,E.pr)({inputFile:d}));try{let i=await r({fileUrl:d.fileUrl,interactionId:(0,E.f9)(x)});i&&(e((0,E.o6)({themeSuggestions:i.theme,thumbnails:i.thumbnails,fontsMap:s})),null==t||t.track(es.VV.THEME_IMPORTED,{source:"PptxUpload",latency:performance.now()-a.current,src:d.fileUrl,filename:d.filename}))}catch(t){e((0,E.QJ)()),console.error(t),i({title:(0,n.jsx)(b.x6,{id:"jK6rIX"}),description:t.message,status:"error",duration:null,isClosable:!0,position:"top"})}},[t,e,s,r,i,l]),u=(0,d.useCallback)(i=>{e((0,E.QJ)()),null==t||t.track(es.VV.THEME_IMPORT_FAILED,{source:"PptxUpload",latency:performance.now()-a.current,message:i.message})},[t,e]);(0,d.useCallback)(()=>{e((0,E.QJ)())},[e]);let{uppyInstance:m}=ek({onStarted:c,onComplete:x,onError:u});return(0,n.jsx)(ex.G_,{clientId:eh.$.GOOGLE_DRIVE_IMPORT_CLIENT_ID,children:(0,n.jsxs)(T.B,{children:[(0,n.jsx)(eb.j,{uppyInstance:m}),(0,n.jsxs)(F.a,{position:"relative",py:"3",children:[(0,n.jsx)(ed.c,{}),(0,n.jsx)(ec.R,{bg:"white",px:"4",children:(0,n.jsx)(p.E,{color:"gray.600",children:(0,n.jsx)(b.x6,{id:"BzEFor"})})})]}),(0,n.jsx)(ew,{uppyInstance:m})]})})},ew=e=>{let{uppyInstance:t}=e,[i,s]=(0,d.useState)(!1),{initiateGoogleImport:r}=ej({onImportStarted:(0,d.useCallback)(()=>{s(!0)},[]),onImportComplete:(0,d.useCallback)(async e=>{try{t.addFile({name:e.name,type:e.type,data:e}),await t.upload()}catch(e){}finally{s(!1)}},[t])});return(0,n.jsx)(f.$,{variant:"plain",color:"gray.700",onClick:r,isLoading:i,leftIcon:(0,n.jsx)(D._,{src:eg.A.src,boxSize:4,alt:"Google Drive"}),children:(0,n.jsx)(b.x6,{id:"5nN3Wd"})})},ek=e=>{let t=(0,ei.d)();return{uppyInstance:(0,d.useMemo)(()=>(0,ef.ib)().maxNumberOfFiles(1).maxFileSize(0xc800000).orgId((0,_.gx)()).templateId(eh.$.TRANSLOADIT_FILE_TEMPLATE_ID).allowedFileTypes([eu.M.PPTX]).onRestrictionFailed((e,i)=>{t({title:(0,n.jsx)(b.x6,{id:"SlfejT"}),description:(0,n.jsx)(b.x6,{id:"cHJvHu",values:{0:null==e?void 0:e.name}}),status:"error",duration:5e3,isClosable:!0,position:"top"})}).onError(t=>{var i;null==(i=e.onError)||i.call(e,t)}).onFileAdded(t=>{var i;null==(i=e.onStarted)||i.call(e,t.id)}).onTransloaditComplete(t=>{let i=t.results[":original"];if(!i){var n;null==(n=e.onError)||n.call(e,Error("No results for original file"));return}let s={fileUrl:i[0].url,filename:i[0].original_name};e.onComplete(s)}).build(),[])}},eC=(0,d.memo)(()=>(0,n.jsx)(B.m,{p:6,children:(0,n.jsxs)(T.B,{spacing:4,children:[(0,n.jsx)(p.E,{children:(0,n.jsx)(b.x6,{id:"aVYU1Z",values:{GAMMA_PROPER_NOUN:ea.On}})}),(0,n.jsx)(p.E,{fontSize:"sm",color:"gray.600",children:(0,n.jsx)(b.x6,{id:"fLNR+e"})}),(0,n.jsx)(ey,{})]})}));eC.displayName="InitialStep";var eS=i(58297),eE=i(64268),eA=i(83638),eI=i(25223),eT=i(38036),eF=i(80314),eD=i(78140),eO=i(36999),eR=i(41283),e_=i(37930),ez=i(48478),eB=i(6760),eM=i(404),eL=i(69413),eN=i(89528),eP=i(89942),eU=i(85443),eW=i(92382),eV=i(90221),eH=i(55597);let eG=e=>{let{label:t,description:i,labelColor:s="black",fontFamily:r,fontStyle:l="normal",fontWeight:o=400}=e,a=(0,n.jsxs)(z.z,{alignItems:"baseline",children:[(0,n.jsx)(F.a,{color:"yellow.400",children:(0,n.jsx)(R.g,{icon:eH.QJT})}),(0,n.jsx)(p.E,{textAlign:"start",color:s,fontWeight:o,fontSize:"lg",fontFamily:r,fontStyle:l,children:t})]});return i?(0,n.jsxs)(F.a,{children:[a,(0,n.jsx)(p.E,{fontSize:"xs",color:"gray.500",children:i})]}):a},eY=e=>{let{value:t,updateValue:i,onFontUploadClick:s,weight:r="regular",defaultFont:l,fonts:o,customFontsEnabled:c=!0,...x}=e,{workspaceFonts:h,globalFonts:u}=o,[m,j,g]=(0,d.useMemo)(()=>{let e=[...h,...u],i=e.find(e=>e.id===t);return[i,(0,eW.vt)(e,t),(0,eW.vt)(e,t,!1)]},[u,h,t]),v=c&&h.filter(e=>!e.archived||e.id===(null==m?void 0:m.id)).length>0,w=!1,k="normal",C="bold"===r?700:400;if(m&&null!==m.workspaceId){w=!0===m.archived;let e=[...m.fontFiles||[]];k=(0,eL.Q3)(e)?"italic":"normal";let t=(0,eL.Eu)(e);C=(0,eL.g9)(t,"bold"===r?700:400)||400}let{currentWorkspace:S}=(0,eU.u)(),{allThemeFonts:E}=(0,y.II)(),A=(0,eP.ez)("custom_fonts",S);return(0,n.jsxs)(eD.W,{matchWidth:!0,isLazy:!0,strategy:"fixed",children:[(0,n.jsx)(eO.I,{size:"lg",as:f.$,borderRadius:"md",rightIcon:(0,n.jsx)(R.g,{icon:O.Jt$,transform:"shrink-6"}),variant:"toolbar",px:4,h:10,w:"100%",border:"1px solid",borderColor:"gray.200",...x,children:c&&w?(0,n.jsx)(eG,{label:g||"",fontFamily:'"'.concat(j,'"'),labelColor:t?"gray.700":"gray.400",fontStyle:k,fontWeight:C}):(0,n.jsx)(p.E,{textAlign:"start",fontFamily:'"'.concat(j||l,'"'),fontWeight:C,color:t?"gray.700":"gray.400",fontStyle:k,children:g||(0,n.jsx)(b.x6,{id:"Ff/YaY",values:{defaultFont:l,GAMMA_PROPER_NOUN:ea.On}})})}),(0,n.jsxs)(eR.c,{maxH:"40vh",overflow:"auto",zIndex:"dropdown",children:[(0,n.jsx)(eV.J,{fonts:E}),(0,n.jsxs)(e_.i,{type:"radio",value:t||"",onChange:e=>i(e||void 0),children:[v&&(0,n.jsx)(a._x,{m:2,children:(0,n.jsx)(b.x6,{id:"syCKVA"})}),v&&h.map(e=>{var i;let s=e.id!==t,l=e.archived&&s,o=(null==(i=e.fontFiles)?void 0:i.length)===0&&s;if(!e.fontFiles||o||l)return null;let a=(0,eL.Q3)(e.fontFiles)?"italic":"normal";return w&&e.id===t?(0,n.jsx)(ez.k,{value:e.id,disabled:!0,children:(0,n.jsx)(eG,{fontFamily:e.name,label:e.name,fontStyle:a,description:(0,n.jsx)(b.x6,{id:"FZBl16"})})},e.id):(0,n.jsx)(ez.k,{value:e.id,children:(0,n.jsx)(p.E,{fontFamily:'"'.concat(e.name,'"'),fontSize:"lg",fontWeight:r,fontStyle:a,children:e.name})},e.id)}),v&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eB.N,{}),(0,n.jsx)(a._x,{m:2,children:(0,n.jsx)(b.x6,{id:"Z/0bkt"})})]}),(0,n.jsx)(ez.k,{value:"",children:(0,n.jsx)(p.E,{fontFamily:l,fontSize:"lg",fontWeight:r,color:"gray.400",children:(0,n.jsx)(b.x6,{id:"WWU1RA",values:{GAMMA_PROPER_NOUN:ea.On}})})}),u&&u.map(e=>(0,n.jsx)(ez.k,{value:e.id,children:(0,n.jsx)(p.E,{fontFamily:(0,eW.rO)(e.id)?'"'.concat(e.id,'"'):'"'.concat(e.name,'"'),fontSize:"lg",fontWeight:r,children:e.name})},e.id))]}),c&&(0,n.jsx)(eM.N,{label:(0,n.jsx)(b.x6,{id:"vNYIdl"}),leftIcon:(0,n.jsx)(R.g,{icon:O.MNJ,fixedWidth:!0}),badge:A?void 0:(0,n.jsx)(eN.zL,{product:"pro"}),onClick:s,isSticky:!0})]})]})};var eJ=i(74771),eK=i(74907);let eQ=e=>{var t,i,s;let{font:r,value:l,defaultWeight:o,updateValue:a,...c}=e,x=(0,d.useCallback)(e=>{let t=Number(e);Number.isNaN(t)||a(t)},[a]),h=(null==l?void 0:l.toString())||"",u=(0,eK.w)()[o],{weightOptions:m,isDeletedFontWeight:j}=(0,d.useMemo)(()=>{let e=(0,eW.yi)(r),t=void 0!==l&&!e.includes(l);return t&&l?{isDeletedFontWeight:t,weightOptions:[...e,l].sort((e,t)=>e-t)}:{isDeletedFontWeight:t,weightOptions:e}},[r,l]),g=r&&(null==r?void 0:r.workspaceId)!==null,v=g&&(null==(t=r.fontFiles)?void 0:t.length)===0,y=j&&g,w=(0,S.Zi)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(eD.W,{matchWidth:!0,isLazy:!0,strategy:"fixed",children:[(0,n.jsx)(eO.I,{size:"lg",as:f.$,borderRadius:"md",rightIcon:(0,n.jsx)(R.g,{icon:O.Jt$,transform:"shrink-6"}),variant:"toolbar",px:4,h:10,w:"100%",border:"1px solid",borderColor:"gray.200",isDisabled:m.length<=1,...c,children:j?(0,n.jsx)(eG,{label:v?(0,n.jsx)(b.x6,{id:"EqUVJs"}):null!=(i=(0,eK.w)()[h])?i:u,labelColor:l?"gray.700":"gray.400"}):(0,n.jsx)(p.E,{textAlign:"start",color:l?"gray.700":"gray.400",fontWeight:400,children:null!=(s=(0,eK.w)()[h])?s:u})}),(0,n.jsx)(eR.c,{maxH:"320px",overflow:"auto",zIndex:"dropdown",children:(0,n.jsx)(e_.i,{type:"radio",value:h,onChange:x,children:m.map(e=>{var t,i;return j&&l===e?(0,n.jsx)(ez.k,{value:e.toString(),disabled:!0,children:(0,n.jsx)(eG,{label:null!=(t=(0,eK.w)()[e])?t:u,description:y?(0,n.jsx)(b.x6,{id:"KFmni+"}):(0,n.jsx)(b.x6,{id:"mGTUJj"})})},e):(0,n.jsx)(ez.k,{value:e.toString(),children:(0,n.jsx)(p.E,{fontSize:"lg",children:null!=(i=(0,eK.w)()[e])?i:u})},e)})})})]}),y&&(0,n.jsx)(p.E,{fontSize:"xs",mt:1.5,children:(0,n.jsxs)(eF.N,{href:w,textDecoration:"underline",isExternal:!0,children:[(0,n.jsx)(b.x6,{id:"RUO69p"}),(0,n.jsx)(eJ.p,{ms:1})]})})]})};var e$=i(57405),eX=i(77650),eq=i(87996),eZ=i(59230),e0=i(21982),e1=i(43634),e6=i(80180),e2=i(60908);let e5=e=>{let{value:t,updateValue:i,onLogoUploadStart:s,onLogoUploadFail:r}=e,[l,o]=(0,d.useState)(null),[a,c]=(0,d.useState)(null),x=(0,h.GV)(e1.aQ),{currentWorkspace:u}=(0,_.ur)(),m=x||(null==u?void 0:u.id);return m?t||a?(0,n.jsxs)(e$.T,{align:"flex-start",spacing:4,children:[(0,n.jsxs)(F.a,{position:"relative",w:"100%",background:"gray.50",p:2,children:["placeholder"==a?(0,n.jsx)(e0.Pf,{w:"100%",height:"200px"}):(0,n.jsx)(D._,{w:"100%",src:t||a||void 0,alt:"",onMouseDown:e6.Fw}),l==eZ.A.Uploading&&(0,n.jsx)(e0.Td,{}),l==eZ.A.Error&&(0,n.jsx)(e0.Hy,{})]}),(0,n.jsx)(f.$,{onClick:()=>{i(null),o(null)},mt:2,w:"100%",children:(0,n.jsx)(b.x6,{id:"VlT9ID"})})]}):(0,n.jsx)(eq.Zc,{orgId:m,uploadType:"image",editType:"icon",dropHereText:eX.Ru._({id:"cmRkd1",values:{0:"%{browse}"}}),customHeight:"250px",customFontSize:"sm",onUploadStart:e=>{let{file:t,tempUrl:i}=e;o(eZ.A.Uploading),s&&s(),t.type&&(0,e2.aI)(t.type)?c("placeholder"):c(i)},onUploadSuccess:e=>{o(eZ.A.Done),i(e),c(null)},onUploadFailed:e=>{o(eZ.A.Error),r&&r()}}):null};var e4=i(26779),e3=i(62452),e8=i(16595),e9=i(56143);let e7=()=>{let e=(0,es.st)(),t=(0,h.GV)(E.f9),i=(0,d.useCallback)(i=>{null==e||e.track(es.VV.THEME_RATED,{rating:i,method:"import",interactionId:t})},[e,t]),s=(0,d.useCallback)((i,n,s)=>{null==e||e.track(es.VV.THEME_FEEDBACK,{feedback:n,tags:s,rating:i,method:"import",interactionId:t})},[e,t]);return(0,n.jsx)(e9.No,{feedbackTags:te,trackRating:i,trackFeedback:s})},te=[{key:"wrong-colors",label:(0,n.jsx)(b.x6,{id:"VqNHwM"})},{key:"wrong-fonts",label:(0,n.jsx)(b.x6,{id:"zwod6v"})},{key:"missing-logo",label:(0,n.jsx)(b.x6,{id:"HRiDli"})},{key:"not-enough-options",label:(0,n.jsx)(b.x6,{id:"XsRFrT"})},{key:"other",label:(0,n.jsx)(b.x6,{id:"/IX/7x"})}],tt=e=>{let{children:t}=e;return(0,n.jsx)(p.E,{fontSize:"md",fontWeight:"semibold",color:"gray.600",children:t})},ti="200px",tn=e=>{var t;let{color:i,isSelected:s,onClick:r}=e;return(0,n.jsx)(a.Tz,{label:(0,n.jsxs)(T.B,{spacing:"0",children:[(0,n.jsx)(p.E,{textAlign:"center",fontSize:"xs",color:"gray.200",children:(0,n.jsx)(b.x6,{id:"nyQWMb"})}),(0,n.jsx)(p.E,{textAlign:"center",children:null==(t=i.color)?void 0:t.toUpperCase()})]}),placement:"top",children:(0,n.jsx)(eS.j,{transitionProperty:"background",transitionDuration:"normal",size:"9",cursor:"pointer",_hover:{bg:s?"trueblue.200":"gray.50"},bg:s?"trueblue.200":"white",onClick:r,children:(0,n.jsx)(eS.j,{size:"7",bg:i.color,border:"1px solid",borderColor:s?"transparent":"gray.300"})})})},ts=e=>{let{logo:t,onClick:i,isSelected:s}=e;return(0,n.jsx)(F.a,{py:1,px:1,as:"button",borderRadius:"md",boxShadow:"sm",bg:"gray.50",onClick:i,cursor:s?"default":"pointer",border:"3px solid",borderColor:s?"trueblue.200":"transparent","aria-pressed":s,"aria-label":"Select logo ".concat(t.url),tabIndex:0,_hover:{border:"3px solid",borderColor:"trueblue.200"},children:(0,n.jsx)(D._,{src:t.url,maxHeight:"40px",draggable:!1,width:"auto",marginRight:"2"})},t.url)},tr=()=>{let{globalFonts:e,workspaceFonts:t,fontsMap:i}=(0,y.II)(),s=(0,h.GV)(E.ly),r=(0,h.jL)(),l=(0,d.useCallback)(e=>{r((0,E.qv)({name:e.target.value}))},[r]),o=(0,d.useCallback)(e=>{r((0,E.hi)({color:e}))},[r]),a=(0,d.useCallback)(e=>{r((0,E.fB)({color:e}))},[r]),c=(0,e3.VH)(s),x=(0,h.GV)(E.O5),u=(0,h.GV)(E.Ob),m=(0,e3.fQ)(s),j=(0,h.GV)(E.Yd),g=(0,h.GV)(E.wd),f=(0,e3.Lz)(s),v=(0,h.GV)(E.sY),w=(0,e3.Tn)(s),k=(0,e3.H7)(s),C=(0,h.GV)(E.OH),{suggestedBodyFont:D,suggestedHeadingFont:O}=(0,h.GV)(E.gi),R=i[s.bodyFont||K.z8.bodyFont]||i[K.z8.bodyFont],_=i[s.headingFont||K.z8.headingFont]||i[K.z8.headingFont],M=(0,h.GV)(E.Hs),L=(0,d.useCallback)(e=>{r((0,E.ds)({color:e}))},[r]),N=(0,d.useCallback)(()=>{let e=(0,S.Zi)();window.open(e,"_blank")},[]),P=(0,d.useCallback)(e=>{r((0,E.Fl)({font:e,fontsMap:i}))},[r,i]),U=(0,d.useCallback)(e=>{r((0,E.zs)({weight:e}))},[r]),W=(0,d.useCallback)(e=>{r((0,E.lc)({font:e,fontsMap:i}))},[r,i]),V=(0,d.useCallback)(e=>{r((0,E.lm)({weight:e}))},[r]),H=(0,d.useCallback)(e=>{r((0,E.jY)({color:e}))},[r]),G=(0,d.useCallback)(e=>{r((0,E.do)({color:e}))},[r]),Y=(0,d.useCallback)(e=>{r((0,E.uQ)({logo:e}))},[r]),J=(0,d.useMemo)(()=>({globalFonts:e,workspaceFonts:t}),[e,t]);return(0,n.jsxs)(B.m,{children:[(0,n.jsx)(T.B,{p:6,spacing:"5",pt:"0",w:"100%",children:(0,n.jsx)(eE.F,{colorScheme:"gray",children:(0,n.jsx)(p.E,{children:(0,n.jsx)(b.x6,{id:"ISK5qv",components:{0:(0,n.jsx)("span",{role:"img","aria-label":"thumbs up"})}})})})}),(0,n.jsxs)(T.B,{spacing:8,children:[(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(tt,{children:(0,n.jsx)(b.x6,{id:"HZ7fEu"})})}),(0,n.jsx)(eT.p,{type:"text",value:s.name,onChange:l})]}),(0,n.jsxs)(T.B,{spacing:2,children:[(0,n.jsx)(tt,{children:(0,n.jsx)(b.x6,{id:"1HfW/F"})}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"Udsgl4"})}),(0,n.jsxs)(A.s,{direction:"row",justify:"space-between",w:"100%",children:[(0,n.jsx)(F.a,{w:ti,children:(0,n.jsx)(e4.Wv,{theme:s,color:c,updateColor:L,palette:"none"})}),(0,n.jsx)(T.B,{direction:"row",spacing:0,ml:2,children:x.map(e=>(0,n.jsx)(tn,{color:e,isSelected:(0,e3.Gw)(c,e),onClick:()=>{L(e)}},e.color))})]})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"ihFuMH"})}),(0,n.jsxs)(A.s,{direction:"row",justify:"space-between",w:"100%",children:[(0,n.jsx)(F.a,{width:ti,children:(0,n.jsx)(e4.a9,{color:w,theme:s,updateColor:o,palette:"none"})}),(0,n.jsx)(T.B,{direction:"row",spacing:0,ml:2,children:u.map(e=>(0,n.jsx)(tn,{color:e,isSelected:(0,e3.Gw)(w,e),onClick:()=>{o(e)}},e.color))})]})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"ErggF8"})}),(0,n.jsxs)(A.s,{direction:"row",justify:"space-between",w:"100%",children:[(0,n.jsx)(F.a,{width:ti,children:(0,n.jsx)(e4.a9,{color:k,theme:s,updateColor:a,palette:"none"})}),(0,n.jsx)(T.B,{direction:"row",spacing:0,ml:2,children:C.map(e=>(0,n.jsx)(tn,{color:e,isSelected:(0,e3.Gw)(k,e),onClick:()=>{a(e)}},e.color))})]})]})]}),(0,n.jsxs)(T.B,{spacing:2,children:[(0,n.jsx)(tt,{children:(0,n.jsx)(b.x6,{id:"7OvVwW"})}),O&&O.suggested===s.headingFont&&O.suggested!==O.original&&(0,n.jsxs)(p.E,{fontSize:"xs",color:"gray.600",children:[(0,n.jsx)("span",{role:"img","aria-label":"warning",children:"⚠️"})," ","We substituted ",O.suggested," for"," ",O.original,". You can"," ",(0,n.jsx)(eF.N,{href:(0,S.Zi)(),isExternal:!0,children:"upload"})," ",O.original," later."]}),(0,n.jsx)(eY,{fonts:J,value:s.headingFont,updateValue:P,onFontUploadClick:N,weight:"bold",defaultFont:K.z8.headingFont,"data-testid":"theme-importer-heading-font-picker",my:0}),(0,n.jsx)(eQ,{font:_,value:s.headingFontWeight,defaultWeight:700,updateValue:U,my:0}),(0,n.jsxs)(z.z,{children:[(0,n.jsx)(F.a,{width:ti,children:(0,n.jsx)(e4.Wv,{color:f,theme:s,updateColor:G,palette:"accent"})}),(0,n.jsx)(I.h,{}),(0,n.jsx)(T.B,{direction:"row",spacing:0,ml:2,children:v.map(e=>(0,n.jsx)(tn,{color:e,isSelected:(0,e3.Gw)(f,e),onClick:()=>{G(e)}},e.color))})]})]}),(0,n.jsxs)(T.B,{spacing:2,children:[(0,n.jsx)(tt,{children:(0,n.jsx)(b.x6,{id:"B4QCf7"})}),D&&D.suggested===s.bodyFont&&D.suggested!==D.original&&(0,n.jsxs)(p.E,{fontSize:"xs",color:"gray.600",children:[(0,n.jsx)("span",{role:"img","aria-label":"warning",children:"⚠️"})," ","We substituted ",D.suggested," for"," ",D.original,". You can"," ",(0,n.jsx)(eF.N,{href:(0,S.Zi)(),isExternal:!0,children:"upload"})," ",D.original," later."]}),(0,n.jsx)(eY,{fonts:J,value:s.bodyFont,updateValue:W,onFontUploadClick:N,weight:"bold",defaultFont:K.z8.bodyFont,"data-testid":"theme-importer-body-font-picker",my:0}),(0,n.jsx)(eQ,{font:R,value:s.bodyFontWeight,defaultWeight:400,updateValue:V,my:0}),(0,n.jsxs)(z.z,{children:[(0,n.jsx)(F.a,{width:ti,children:(0,n.jsx)(e4.a9,{color:m,theme:s,updateColor:H,palette:"accent"})}),(0,n.jsx)(I.h,{}),(0,n.jsx)(T.B,{direction:"row",spacing:0,ml:2,children:j.map(e=>(0,n.jsx)(tn,{color:e,isSelected:(0,e3.Gw)(m,e),onClick:()=>{H(e)}},e.color))})]})]}),(0,n.jsxs)(T.B,{spacing:2,children:[(0,n.jsx)(tt,{children:(0,n.jsx)(b.x6,{id:"iG7KNr"})}),g.length>0&&(0,n.jsx)(z.z,{alignItems:"start",spacing:2,justifyContent:"start",role:"group","aria-label":"Logo selection",children:g.map(e=>(0,n.jsx)(ts,{logo:e,onClick:()=>Y(e),isSelected:M===e.url},e.url))}),(0,n.jsx)(F.a,{maxW:"min(100%, 300px)",children:(0,n.jsx)(e5,{value:M,onLogoUploadStart:()=>{r((0,E.QZ)())},updateValue:e=>{if(!e)return void r((0,E.Zw)());r((0,E.$k)({logoImage:(0,e8.yK)({result:e,isError:!1})}))},onLogoUploadFail:()=>{r((0,E.UY)())}})})]}),(0,n.jsx)(e7,{})]})]})};var tl=i(65092),to=i(91613),ta=i(78801),td=i(62070),tc=i(61461),tx=i(13271),th=i(77940),tu=i(90211);let tm=()=>[{title:(0,n.jsx)(b.x6,{id:"bGa3Fk"}),duration:1e3},{title:(0,n.jsx)(b.x6,{id:"a+mYi4"}),duration:1e3},{title:(0,n.jsx)(b.x6,{id:"Zc41Kf"}),duration:1e3},{title:(0,n.jsx)(b.x6,{id:"DaFziV"}),duration:null}],tp=()=>{let e=(0,h.GV)(E.Cq),t=tm(),[i,s]=(0,d.useState)(0);(0,d.useEffect)(()=>{"parsing"===e&&i<t.length-1&&setTimeout(()=>{s(i+1)},5e3)},[i,t.length,e]);let r=(0,h.jL)(),l=(0,ei.d)(),o=(0,d.useCallback)(()=>{r((0,E.QJ)()),l({title:(0,n.jsx)(b.x6,{id:"GfnBRU"}),status:"info",isClosable:!0,position:"top"})},[r,l]);return(0,n.jsxs)(T.B,{p:6,spacing:"8",pt:"0",children:[(0,n.jsx)(eE.F,{colorScheme:"gray",children:(0,n.jsx)(p.E,{children:(0,n.jsx)(b.x6,{id:"olO1VR"})})}),(0,n.jsx)(tl.C,{index:i,orientation:"vertical",height:"400px",gap:"0",children:t.map((e,t)=>(0,n.jsxs)(to.p,{children:[(0,n.jsxs)(z.z,{alignItems:"top",children:[(0,n.jsx)(ta.S,{children:(0,n.jsx)(td.x,{complete:(0,n.jsx)(tc.W,{}),incomplete:(0,n.jsx)(tx.Q,{}),active:(0,n.jsx)(tx.Q,{})})}),(0,n.jsx)(th.J,{style:{paddingTop:4},children:(0,n.jsxs)(z.z,{children:[(0,n.jsx)(p.E,{maxW:"100%",children:e.title})," ",i===t&&(0,n.jsx)(Y.y,{size:"sm",color:"trueblue.400"})]})})]}),(0,n.jsx)(tu.m,{})]},t))}),(0,n.jsx)(f.$,{onClick:o,variant:"hazardous",children:(0,n.jsx)(b.x6,{id:"dEgA5A"})})]})},tj=(0,d.memo)(e=>{let{onTabChange:t,currentTab:i}=e;return(0,n.jsxs)(g.e,{p:2,position:"absolute",top:"3",insetInlineStart:"50%",transform:"translateX(-50%)",zIndex:"sticky",bg:"white",size:"sm",variant:"ghost",borderRadius:"md",boxShadow:"md",children:[(0,n.jsx)(f.$,{borderRadius:"md",bg:"thumbnails"===i?"trueblue.50":"transparent",color:"thumbnails"===i?"trueblue.500":"gray.600",onClick:()=>{t("thumbnails")},children:(0,n.jsx)(b.x6,{id:"l3s5ri"})}),(0,n.jsx)(f.$,{borderRadius:"md",bg:"editor"===i?"trueblue.50":"transparent",color:"editor"===i?"trueblue.500":"gray.600",onClick:()=>{t("editor")},children:(0,n.jsx)(b.x6,{id:"FEr96N"})})]})});tj.displayName="PreviewTabSwitcher";let tg=()=>{let{currentWorkspace:e}=(0,_.ur)(),t=null==e?void 0:e.id,i=(0,h.jL)(),{createTheme:s,isThemeSaving:r}=er({flow:"import"});el("import");let l=(0,h.GV)(E.ly),o=(0,h.GV)(E.jp),c=(0,h.GV)(E.D6),x=(0,h.GV)(E.hB),u=(0,h.GV)((0,E.JH)(t)),[m,p]=(0,d.useState)("thumbnails");(0,d.useEffect)(()=>{"reviewStep"===x&&p("editor")},[x]),(0,d.useEffect)(()=>()=>{i((0,E.QJ)())},[i]);let j=!u.name,v=(0,d.useCallback)(async()=>{s(u)},[s,u]),y=(0,d.useCallback)(async()=>{let e=await s(u);e&&(0,eo.vd)({theme:e})},[s,u]),k=(0,d.useCallback)(()=>{p("thumbnails"),i((0,E.QJ)())},[i]);return(0,n.jsxs)(et,{children:[(0,n.jsx)(L,{children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(U,{children:["initialStep"===x&&(0,n.jsx)(P,{leftIcon:O.CeG,onClick:()=>{w.R.emit("setThemeConfigurationView",{view:"splash"})},children:(0,n.jsx)(b.x6,{id:"ydzS9x"})}),(0,n.jsx)(N,{children:(0,n.jsx)(b.x6,{id:"l3s5ri"})})]}),(0,n.jsxs)(V,{children:["initialStep"===x&&(0,n.jsx)(eC,{}),"uploadStep"===x&&(0,n.jsx)(tp,{}),"reviewStep"===x&&(0,n.jsx)(tr,{})]}),"reviewStep"===x&&(0,n.jsx)(W,{children:(0,n.jsxs)(A.s,{w:"100%",children:[(0,n.jsx)(f.$,{variant:"plain",onClick:k,leftIcon:(0,n.jsx)(R.g,{icon:O.U23}),children:(0,n.jsx)(b.x6,{id:"i88wdJ"})}),(0,n.jsx)(I.h,{}),(0,n.jsxs)(g.e,{children:[(0,n.jsx)(a.Tz,{label:(0,n.jsx)(b.x6,{id:"INxusr"}),isDisabled:!j,shouldWrapChildren:!0,children:(0,n.jsx)(f.$,{isLoading:r,variant:"plain",onClick:y,isDisabled:j||c,children:(0,n.jsx)(b.x6,{id:"ZSZK3s"})})}),(0,n.jsx)(a.Tz,{label:(0,n.jsx)(b.x6,{id:"INxusr"}),isDisabled:!j,shouldWrapChildren:!0,children:(0,n.jsx)(f.$,{isLoading:r,variant:"solid",onClick:v,rightIcon:(0,n.jsx)(R.g,{icon:O.e68}),isDisabled:j||c,children:(0,n.jsx)(b.x6,{id:"ul+W4g"})})})]})]})})]})}),(0,n.jsxs)(H,{children:["reviewStep"===x&&(0,n.jsx)(tj,{onTabChange:p,currentTab:m}),"initialStep"===x?(0,n.jsx)(A.s,{h:"100%",w:"100%"}):"thumbnails"===m&&o.length>0?(0,n.jsx)(T.B,{w:"100%",overflow:"auto",h:"100%",align:"center",children:o.map(e=>(0,n.jsx)(F.a,{children:(0,n.jsx)(D._,{src:e.url})},e.index))}):"editor"===m?(0,n.jsx)(Z,{theme:l}):null]})]})};var tf=i(23293);let tb=(0,d.memo)(e=>{let{onTabChange:t,currentTab:i}=e;return(0,n.jsxs)(g.e,{p:2,position:"absolute",top:"3",left:"50%",transform:"translateX(-50%)",zIndex:"sticky",bg:"white",size:"sm",variant:"ghost",borderRadius:"md",shadow:"md",children:[(0,n.jsx)(f.$,{borderRadius:"md",bg:"testerDoc"===i?"trueblue.50":"transparent",color:"testerDoc"===i?"trueblue.500":"gray.600",onClick:()=>{t("testerDoc")},"data-testid":"preview-tab-tester-doc",children:(0,n.jsx)(b.x6,{id:"ypSaiK"})}),(0,n.jsx)(f.$,{borderRadius:"md",bg:"currentDoc"===i?"trueblue.50":"transparent",color:"currentDoc"===i?"trueblue.500":"gray.600",onClick:()=>{t("currentDoc")},"data-testid":"preview-tab-current-doc",children:(0,n.jsx)(b.x6,{id:"VJUm9p"})})]})});tb.displayName="PreviewTabSwitcher";let tv=()=>{let e=(0,h.GV)(k.eo),t=(0,h.GV)(k.Sb),i=(0,d.useRef)(),[s,r]=(0,d.useState)("testerDoc"),l=(0,d.useCallback)(e=>{var n,s;r(e),"currentDoc"===e?t&&(null==(n=i.current)||n.commands.setContent(t)):null==(s=i.current)||s.commands.setContent((0,Q.t)())},[t]),o=(0,d.useCallback)(e=>{i.current=e},[]);return e?(0,n.jsxs)(n.Fragment,{children:[t&&(0,n.jsx)(tb,{onTabChange:l,currentTab:s}),(0,n.jsx)(Z,{theme:e,setEditor:o})]}):(0,n.jsx)(n.Fragment,{})},ty={colors:{name:(0,n.jsx)(b.x6,{id:"1HfW/F"}),description:(0,n.jsx)(b.x6,{id:"lsknHp"}),icon:O.fyG},fonts:{name:(0,n.jsx)(b.x6,{id:"I0oBSl"}),description:(0,n.jsx)(b.x6,{id:"0kBA53"}),icon:O.tiU},design:{name:(0,n.jsx)(b.x6,{id:"f8fH8W"}),description:(0,n.jsx)(b.x6,{id:"7dxcBr"}),icon:O.ffg},logo:{name:(0,n.jsx)(b.x6,{id:"iG7KNr"}),description:(0,n.jsx)(b.x6,{id:"pSG+r5"}),icon:O.Cyq},themeName:{name:(0,n.jsx)(b.x6,{id:"HZ7fEu"}),description:(0,n.jsx)(b.x6,{id:"JMXrv3"}),icon:O.SGM}},tw={base:"repeat(1, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(2, 1fr)",xl:"repeat(3, 1fr)"};var tk=i(40162),tC=i(4192),tS=i(56570),tE=i(43724),tA=i.n(tE),tI=i(30361),tT=i.n(tI),tF=i(88839),tD=i(52762),tO=i(30892),tR=i(26194),t_=i.n(tR),tz=i(831),tB=i.n(tz),tM=i(33612),tL=i.n(tM);let tN=e=>{let{theme:t,onSelect:i,onShuffle:s,isSelected:r=!1}=e,l=(0,e3.Ik)((0,e3.H7)(t)),o=(0,e3.Tn)(t).color,a=(0,e3.Sf)((0,e3.Lz)(t)),c=(0,e3.fQ)(t).color,x=(0,e3.Sf)((0,e3.jO)(t)),h=(0,e3.ND)(t,!1,!0),u=(0,d.useMemo)(()=>t_()(tB()(h,e3.$j),e=>-tL()((0,e3.Ik)(e)).getLuminance()),[h]);return(0,n.jsxs)(A.s,{position:"relative",align:"center",justify:"center",role:"group",children:[(0,n.jsx)(f.$,{variant:"ghost",h:"auto",p:2,flex:1,w:"100%",textAlign:"left",whiteSpace:"wrap",fontWeight:"500",onClick:i,borderWidth:"2px",borderColor:r?"trueblue.300":"transparent",bg:r?"trueblue.50":void 0,children:(0,n.jsx)(A.s,{bg:l,borderRadius:"md",boxShadow:"md",overflow:"hidden",flex:1,direction:"column",borderWidth:"1px",position:"relative",children:(0,n.jsxs)(A.s,{p:4,flex:1,children:[(0,n.jsx)(A.s,{p:4,bg:o,borderRadius:"md",boxShadow:"sm",flex:1,children:(0,n.jsxs)(T.B,{flex:1,spacing:1,children:[(0,n.jsx)(z.z,{opacity:.8,children:(0,n.jsx)(A.s,{w:"70%",h:1.5,css:a,borderRadius:"sm"})}),(0,n.jsx)(A.s,{h:1,opacity:.6,bg:c,borderRadius:"sm"}),(0,n.jsx)(A.s,{h:1,opacity:.6,bg:c,borderRadius:"sm"}),(0,n.jsx)(A.s,{h:2.5,opacity:.9,borderRadius:"full",w:"40px",align:"center",justify:"center",css:x,mt:1})]})}),(0,n.jsx)(z.z,{spacing:0,flex:1,w:"100%",position:"absolute",bottom:"-2",left:"0",opacity:0,transitionProperty:"opacity, bottom",transitionDuration:"normal",_groupHover:{opacity:1,bottom:0},children:u.map((e,t)=>(0,n.jsx)(A.s,{css:(0,e3.Sf)(e),flex:1,h:2},t))})]})})}),r&&(0,n.jsx)(f.$,{size:"xs",variant:"solid",position:"absolute",bottom:"5",right:"5",leftIcon:(0,n.jsx)(R.g,{icon:O.tW}),opacity:0,_groupHover:{opacity:1},onClick:s,children:(0,n.jsx)(b.x6,{id:"gH5Gbn"})})]})},tP=()=>({all:{label:(0,n.jsx)(b.x6,{id:"Zvbsrl"})},light:{label:(0,n.jsx)(b.x6,{id:"4kr8nm"})},dark:{label:(0,n.jsx)(b.x6,{id:"P9X6Mu"})},red:{label:(0,n.jsx)(b.x6,{id:"Ppz2lw"}),colors:["red.400","#DC143C","#B22222","#8B0000"]},orange:{label:(0,n.jsx)(b.x6,{id:"Td1Axu"}),colors:["orange.400","#FF8C00","#FF7F50","#FF6347"]},yellow:{label:(0,n.jsx)(b.x6,{id:"UHB0wN"}),colors:["yellow.400","#FFD700","#FFA500","#FF8C00"]},green:{label:(0,n.jsx)(b.x6,{id:"fyzS0F"}),colors:["green.400","#32CD32","#00FF00","#ADFF2F"]},blue:{label:(0,n.jsx)(b.x6,{id:"m1hucM"}),colors:["blue.400","#1E90FF","#00BFFF","#ADD8E6"]},purple:{label:(0,n.jsx)(b.x6,{id:"AI9Iqf"}),colors:["purple.400","#8A2BE2","#9370DB","#BA55D3"]},pink:{label:(0,n.jsx)(b.x6,{id:"aj7xux"}),colors:["pink.400","#FFB6C1","#FF69B4","#FF1493"]},neutral:{label:(0,n.jsx)(b.x6,{id:"z9uvvN"}),colors:["#D2BEA1","#808080","#C0C0C0","#D3D3D3"]},gray:{label:(0,n.jsx)(b.x6,{id:"HA64AU"}),colors:["gray.400","#A9A9A9","#C0C0C0","#D3D3D3"]},professional:{label:(0,n.jsx)(b.x6,{id:"wXRbPe"})},colorful:{label:(0,n.jsx)(b.x6,{id:"Drp0HH"})},futuristic:{label:(0,n.jsx)(b.x6,{id:"Uk8MFz"})},modern:{label:(0,n.jsx)(b.x6,{id:"kJB3k/"})}}),tU=()=>{var e;let t=(0,h.GV)(k.eo),i=(0,h.jL)(),[s,r]=(0,d.useState)("all"),{data:l}=(0,en.Snx)({variables:{workspaceId:null,archived:!1},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),o=null==l?void 0:l.themes,[a,c]=(0,d.useState)(t&&(null==(e=tA()(o,e=>tW(t,e)))?void 0:e.id)||null),x=(0,d.useMemo)(()=>Object.entries(tP()),[]),u=(0,d.useMemo)(()=>(null==o?void 0:o.filter(e=>{if(e.config.disableReadabilityAdjustment)return!1;if("all"===s)return!0;let{keywords:t}=e.config;return!!t&&(t.color.includes(s)||t.tone.includes(s))}))||[],[s,o]),m=(0,d.useCallback)(e=>{c(e.id);let t=(0,e3.j8)((0,e3.H7)(e))||{type:tD.h.NONE},n=(0,tF.M)(e),s={primaryColor:(0,e3.VH)(e),secondaryColors:(0,e3.gx)(e),cardColor:(0,e3.Tn)(e),headingColor:(0,e3.Lz)(e),bodyColor:(0,e3.fQ)(e),accentBackgrounds:e.config.accentBackgrounds,stylePrompt:e.config.stylePrompt,background:t,shapeColorScheme:"custom"===n.shapeColorScheme?"accent":n.shapeColorScheme};i((0,k._R)({config:s}))},[i]),j=(0,d.useCallback)(e=>{i((0,k._R)({config:tV(e)}))},[i]);if(!t)throw Error("Theme is undefined");return(0,n.jsxs)(T.B,{spacing:6,children:[(0,n.jsx)(tk.B,{children:x.map(e=>{let[t,{label:i,colors:l}]=e;return(0,n.jsx)(tC.vw,{onClick:()=>{r(t)},colorScheme:s===t?"trueblue":"gray",cursor:"pointer",children:(0,n.jsxs)(z.z,{spacing:2,children:[l?(0,n.jsx)(A.s,{boxSize:3,bg:l[0],borderRadius:"sm"}):null,(0,n.jsx)(p.E,{children:i})]})},t)})}),(0,n.jsx)(T.B,{children:(0,n.jsx)(tS.x,{templateColumns:tw,gap:3,children:u.map(e=>(0,n.jsx)(tN,{theme:e,onSelect:()=>{m(e)},onShuffle:()=>j(e),isSelected:a===e.id},e.id))})})]})},tW=(e,t)=>JSON.stringify((0,e3.ND)(e))===JSON.stringify((0,e3.ND)(t)),tV=e=>{let t=(0,e3.ND)(e),i=(0,e3.Tn)(e),n=t.map(e3.Ik).filter(e=>{let t=(0,tO.VU)(e);return t>.8||t<.2}).map(e3.Ik),s=tT()(n)||(0,e3.Ik)(i),r=(0,tO.$p)(s),l=(0,tO.VU)(s),o={type:"solid",color:s},a=t.filter(e=>(0,e3.$j)(e)!==(0,e3.$j)(o)),d=tT()(a),c=[d,{type:"solid",color:r?e3.kF:e3.Hs}],x=tT()(c),h={type:"solid",color:r?e3.Cs:e3.nI},u=[(0,e3.Ik)(d),(0,tO.Zt)(s,l>.1?-12:12)],m=tT()(u);return{headingColor:x,bodyColor:h,cardColor:o,primaryColor:d,background:(0,e3.j8)({type:"solid",color:m}),shapeColorScheme:tT()(["default","accent"])}};var tH=i(49146),tG=i(23908),tY=i(36693),tJ=i(20061),tK=i(3448);let tQ=e=>{let{defaultTab:t,customTab:i}=e;return(0,n.jsxs)(tH.t,{isFitted:!0,isLazy:!0,variant:"soft-rounded",size:"sm",children:[(0,n.jsxs)(tG.w,{children:[(0,n.jsx)(tY.o,{children:(0,n.jsxs)(z.z,{children:[(0,n.jsx)(R.g,{icon:O.qcK}),(0,n.jsx)(p.E,{children:(0,n.jsx)(b.x6,{id:"M0Q+0g"})})]})}),(0,n.jsx)(tY.o,{children:(0,n.jsxs)(z.z,{children:[(0,n.jsx)(R.g,{icon:O.MT7}),(0,n.jsx)(p.E,{children:(0,n.jsx)(b.x6,{id:"srRMnJ"})})]})})]}),(0,n.jsxs)(tJ.T,{children:[(0,n.jsx)(tK.K,{px:0,children:t}),(0,n.jsx)(tK.K,{px:0,children:i})]})]})};var t$=i(61491),tX=i(51504),tq=i(1057),tZ=i(66079),t0=i(62961),t1=i(59858);let t6=e=>(0,t1.S0)(e)&&(0,t1.R4)(e),t2=e=>{let{setBackground:t,background:i,defaultMessage:s,isDark:r,isValidSource:l,contextualTheme:o}=e,[a,c]=(0,d.useState)("default"),x=tZ.Fn[a],h=(0,d.useCallback)(e=>l?l(e)&&t6(e):t6(e),[l]),u=(0,d.useCallback)(e=>{t({...i,...e})},[i,t]);return(0,n.jsx)(t0.v,{isDark:r,isValidSource:h,defaultMessage:s,currentBackground:i,currentSource:x,updateCurrentBackground:u,setCurrentSourceKey:c,currentSourceKey:a,editType:"themeBackground",contextualTheme:o})},t5=()=>{let e=(0,h.GV)(k.eo),t=(0,h.jL)();if(!e)throw Error("Theme is undefined");let i=(0,e3.fQ)(e);return(0,n.jsx)(e4.a9,{dataTestId:"custom-theme-body-color-picker",theme:e,color:i||void 0,defaultColor:i,updateColor:e=>{t((0,k.jY)({color:e}))},palette:"accent"})},t4=()=>{let e=(0,h.GV)(k.eo),t=(0,h.jL)();if(!e)throw Error("Theme is undefined");let i=(0,e3.Lz)(e);return(0,n.jsx)(e4.tN,{dataTestId:"custom-theme-heading-color-picker",theme:e,color:i||void 0,defaultColor:i,updateColor:e=>{t((0,k.do)({color:e}))},palette:"accent"})},t3=(0,d.memo)(()=>{var e;let t=(0,h.jL)(),i=(0,h.GV)(k.eo),s="builder"===(0,h.GV)(k.yV),r=(0,d.useCallback)(e=>{var i,n;(null==e?void 0:e.type)===tD.h.IMAGE&&(null==(i=e.image)?void 0:i.uploadStatus)===eZ.A.Uploading?t((0,k.VT)({background:e})):(null==e?void 0:e.type)===tD.h.IMAGE&&(null==(n=e.image)?void 0:n.uploadStatus)===eZ.A.Error?t((0,k.Px)()):t((0,k.Co)({background:e}))},[t]),l={size:"md",fontWeight:"600"};if(!i)throw Error("Theme is undefined");let[o,...c]=(0,e3.CD)(i),x=(0,e3.Tn)(i),u=(0,tq.Ee)(i),m=(0,e3.Mw)(i);return(0,n.jsxs)(T.B,{spacing:7,children:[(0,n.jsxs)(T.B,{spacing:"3",children:[(0,n.jsxs)(tf.D,{...l,children:[(0,n.jsx)(b.x6,{id:"DNUgpN"})," ",(0,n.jsx)(a.qT,{label:(0,n.jsx)(b.x6,{id:"+GFtYe"})})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"Udsgl4"})}),(0,n.jsx)(e4.Wv,{dataTestId:"custom-theme-primary-color-picker",theme:i,color:o,updateColor:e=>{s?t((0,k.uL)({color:e})):t((0,k.ds)({color:e}))},palette:"none"})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"k7VWXk"})}),(0,n.jsx)(e4.oB,{theme:i,colors:c,updateColors:e=>{t((0,k.Kf)({colors:e}))},minColors:0,maxColors:8,palette:"none"})]})]}),(0,n.jsxs)(T.B,{spacing:"3",children:[(0,n.jsx)(tf.D,{...l,children:(0,n.jsx)(b.x6,{id:"xeiujy"})}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"v9mrgh"})}),(0,n.jsx)(t4,{})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"jx8uni"})}),(0,n.jsx)(t5,{})]})]}),(0,n.jsxs)(T.B,{spacing:3,children:[(0,n.jsx)(tf.D,{...l,children:"Accessibility"}),(0,n.jsx)(eA.MJ,{children:(0,n.jsx)(eE.F,{colorScheme:"gray",children:(0,n.jsx)(t$.S,{isChecked:!(null==(e=i.config)?void 0:e.disableReadabilityAdjustment),onChange:()=>t((0,k._w)()),children:(0,n.jsxs)(p.E,{fontSize:"sm",children:[(0,n.jsx)(b.x6,{id:"KmUJ3J"})," ",(0,n.jsx)(a.qT,{label:(0,n.jsx)(b.x6,{id:"J9NJr0",values:{GAMMA_PROPER_NOUN:ea.On}})})]})})})})]}),(0,n.jsxs)(T.B,{spacing:"3",children:[(0,n.jsx)(tf.D,{...l,children:"Background"}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"ihFuMH"})}),(0,n.jsx)(e4.a9,{dataTestId:"custom-theme-card-color-picker",theme:i,color:x,updateColor:e=>{t((0,k.hi)({color:e}))},defaultColor:{type:"solid",color:"#FFFFFF"},palette:"accent"})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"8rfGAV"})}),(0,n.jsx)(t2,{setBackground:r,background:u,defaultMessage:(0,n.jsxs)(eE.F,{fontSize:"xs",children:[(0,n.jsx)(tX._,{}),(0,n.jsx)(p.E,{children:(0,n.jsx)(b.x6,{id:"j+PsQe"})})]}),isDark:m,contextualTheme:i})]})]})]})});t3.displayName="CustomColorSettings";let t8=(0,d.memo)(()=>(0,n.jsx)(T.B,{spacing:6,children:(0,n.jsx)(tQ,{defaultTab:(0,n.jsx)(tU,{}),customTab:(0,n.jsx)(t3,{})})}));t8.displayName="ColorStep";var t9=i(95571);let t7={...K.AG,cardBorderColor:void 0},ie=e=>{let{isSelected:t=!1,onClick:i,theme:s,pack:r}=e,{title:l,description:o,knobs:a}=r,c=(0,e3.Ik)((0,e3.H7)(s))||"white",x=(0,d.useMemo)(()=>{let e={...t7,...a(s)};return(0,t9.tL)({cardColor:(0,e3.Tn)(s),config:e,theme:{...s,config:{...s.config,...e}}})},[s,a]);return(0,n.jsx)(f.$,{variant:"ghost",onClick:i,bg:t?"trueblue.50":"white",borderColor:t?"trueblue.400":"transparent",borderWidth:"2px",minH:"auto",h:"auto",minW:"auto",w:"100%",p:2,flex:1,color:"gray.800",textAlign:"left",whiteSpace:"normal",alignItems:"flex-start",css:x,children:(0,n.jsxs)(T.B,{flex:1,spacing:4,children:[(0,n.jsx)(A.s,{h:24,bg:c,borderRadius:"md",borderWidth:"1px",shadow:"inner",align:"center",justify:"center",p:5,children:(0,n.jsx)(A.s,{w:"100%",h:"100%",sx:{boxShadow:"var(--card-shadow)",backdropFilter:"var(--card-backdrop-filter)",backgroundColor:"var(--card-background-color)",borderRadius:"var(--card-border-radius)"}})}),(0,n.jsxs)(T.B,{spacing:1,children:[(0,n.jsx)(p.E,{fontSize:"md",children:l}),(0,n.jsx)(p.E,{fontWeight:"500",color:"gray.500",fontSize:"xs",children:o})]})]})})};var it=i(8099),ii=i(51684);let is=e=>{let{label:t,isSelected:i=!1,type:s="card",onClick:r=()=>{},sx:l={},children:o}=e;return(0,n.jsx)(a.Tz,{label:t?t():"",placement:"top",children:(0,n.jsx)(f.$,{h:"auto",p:0,variant:"ghost",onClick:r,children:(0,n.jsxs)(A.s,{h:"14",minH:"14",minW:"88px",position:"relative",overflow:"hidden",alignItems:"center",justifyContent:"center",borderRadius:"md",bg:i?"trueblue.200":"gray.200",border:"2px solid",borderColor:i?"trueblue.400":"gray.200",transitionProperty:"background-color, border-color",transitionDuration:"normal",_hover:{bg:i?void 0:"trueblue.100",borderColor:i?void 0:"trueblue.300"},children:["layout"===s&&(0,n.jsx)(T.B,{bg:"white",h:"100%",w:"100%",p:"2",children:(0,n.jsx)(z.z,{h:"100%",w:"100%",borderRadius:"md",alignItems:"stretch",spacing:"1",filter:"grayscale(1)",children:[void 0,void 0,void 0].map((e,t)=>(0,n.jsx)(A.s,{flex:"1",sx:l},t))})}),"card"===s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.a,{zIndex:"0",position:"relative",fontSize:"2xl",color:i?"trueblue.600":"gray.600",children:(0,n.jsx)(R.g,{icon:ii.Cyq})}),(0,n.jsx)(F.a,{zIndex:"10",bg:"white",position:"absolute",left:"-4",borderRadius:"md",bottom:"-4",h:"14",w:"100%",sx:l})]}),"button"===s&&(0,n.jsx)(f.$,{sx:l,p:4,size:"sm",variant:"plain",pointerEvents:"none",boxShadow:"none",border:"none",maxW:"100%",transform:"scale(0.8)",children:(0,n.jsx)(b.x6,{id:"hxBFty"})}),o]})})})},ir=e=>{let{label:t,isSelected:i=!1,type:s="radius",onClick:r=()=>{},sx:l={}}=e;return(0,n.jsx)(a.Tz,{label:t?t():"",placement:"top",children:(0,n.jsxs)(f.$,{p:"0",variant:"ghost",bg:i?"trueblue.100":"gray.200",border:"2px solid",borderColor:i?"trueblue.400":"gray.200",w:"12",h:"12",alignItems:"flex-start",overflow:"hidden",textAlign:"left",onClick:r,position:"relative",children:["radius"===s&&(0,n.jsx)(F.a,{zIndex:"10",bg:"white",h:"16",w:"16",position:"absolute",top:"3",right:"3",sx:l}),"shadow"===s&&(0,n.jsx)(F.a,{zIndex:"10",bg:"white",h:"16",w:"16",position:"absolute",bottom:"3",left:"3",borderRadius:"sm",sx:l}),"block-shadow"===s&&(0,n.jsx)(F.a,{w:"100%",h:"100%",bg:"white",children:(0,n.jsx)(F.a,{zIndex:"10",bg:"gray.50",h:"16",w:"16",position:"absolute",bottom:"3",left:"3",borderRadius:"sm",sx:l})}),"card"===s&&(0,n.jsxs)(A.s,{color:"gray.400",alignItems:"center",h:"100%",w:"100%",justifyContent:"center",position:"relative",children:[(0,n.jsx)(R.g,{icon:ii.Cyq}),(0,n.jsx)(F.a,{position:"absolute",bg:"white",zIndex:"10",top:"0",left:"0",bottom:"0",right:"0",sx:l})]})]})})},il=e=>{let{label:t,tooltip:i,isSelected:s,onClick:r}=e;return(0,n.jsx)(it.m,{label:i?i():"",placement:"top",children:(0,n.jsx)(f.$,{h:"auto",p:"3",variant:"ghost",bg:s?"trueblue.50":"gray.50",textAlign:"left",minW:"14",onClick:r,children:t&&(0,n.jsx)(p.E,{maxW:"100%",noOfLines:1,color:s?"trueblue.600":"gray.600",children:t})})})};var io=i(68093);let ia=()=>{let e=(0,h.jL)(),t=(0,h.GV)(k.eo);if(!t)throw Error("Theme is undefined");let i=(0,tF.M)(t),s="hard"===i.cardShadow;if(!("none"!==i.cardBorder||s))return null;let r=(0,e3.J1)(t),{config:l}=t;return(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:s?(0,n.jsx)(b.x6,{id:"Nz77Ud"}):(0,n.jsx)(b.x6,{id:"ITgjHB"})}),(0,n.jsx)(e4.a9,{theme:t,color:l.cardBorderColor,defaultColor:r,updateColor:t=>{e((0,k.rg)({color:t}))},palette:"accent"})]})};var id=i(13366),ic=i(98164);let ix=()=>{let e=(0,h.jL)(),t=(0,h.GV)(k.eo);if(!t)throw Error("Theme is undefined");let i=(0,e3.bh)(t),s=(0,tF.M)(t);return(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"QMdgje"})}),(0,n.jsxs)(e$.T,{spacing:2,align:"start",children:[";",(0,n.jsx)(id.z,{children:(0,n.jsx)(T.B,{children:Object.entries(K.Xt).map(i=>{let[r,l]=i,o=(0,e3.QD)(t,r);return(0,n.jsx)(ic.s,{isChecked:r===s.shapeColorScheme,onChange:()=>{e((0,k.BH)({shapeColorScheme:r}))},children:(0,n.jsxs)(z.z,{children:["custom"!==r&&(0,n.jsx)(eS.j,{size:"5",bg:(0,e3.Ik)(o)}),(0,n.jsx)(p.E,{fontSize:"sm",children:l.name()})]})},r)})})}),"custom"===s.shapeColorScheme&&(0,n.jsxs)(T.B,{w:"100%",children:[(0,n.jsx)(p.E,{fontSize:"sm",color:"gray.600",children:(0,n.jsx)(b.x6,{id:"U+j5it"})}),(0,n.jsx)(e4.oB,{theme:t,colors:i,updateColors:t=>{e((0,k.h)({colors:t}))},minColors:1,maxColors:10,solidOnly:!0,palette:"accent"})]})]})]})},ih=(0,d.memo)(()=>{let e=[{label:()=>eX.Ru._({id:"Ccpbzh"}),Component:(0,n.jsx)(iu,{})},{label:()=>eX.Ru._({id:"Uw3jqG"}),Component:(0,n.jsx)(im,{})},{label:()=>eX.Ru._({id:"0ZDH3e"}),Component:(0,n.jsx)(ip,{})}];return(0,n.jsxs)(tH.t,{variant:"soft-rounded",isFitted:!0,size:"sm",children:[(0,n.jsx)(tG.w,{children:e.map((e,t)=>(0,n.jsx)(tY.o,{"data-testid":"theme-config-tab-".concat(t),children:e.label()},t))}),(0,n.jsx)(tJ.T,{children:e.map((e,t)=>(0,n.jsx)(tK.K,{px:"0","data-testid":"theme-config-tab-panel-".concat(t),children:(0,n.jsx)(T.B,{spacing:4,children:e.Component})},t))})]})});ih.displayName="DesignSettings";let iu=(0,d.memo)(()=>{let e=(0,h.jL)(),t=(0,h.GV)(k.eo);if(!t)throw Error("Theme is undefined");let i=(0,tF.M)(t);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(eA.MJ,{children:[(0,n.jsxs)(eI.l,{children:[(0,n.jsx)(b.x6,{id:"aBxw8F"}),(0,n.jsx)(a.qT,{ml:1.5,label:(0,n.jsx)(b.x6,{id:"IUHTyS"})})]}),(0,n.jsx)(g.e,{p:.5,children:Object.entries(K.T5).map(t=>{let[s,r]=t;return(0,n.jsx)(ir,{label:r.name,type:"radius",isSelected:s===i.roundness,sx:r.previewSx,onClick:()=>{e((0,k.n4)({roundness:s}))}},s)})})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsxs)(eI.l,{children:[(0,n.jsx)(b.x6,{id:"n0Xbfn"}),(0,n.jsx)(a.qT,{ml:1.5,label:(0,n.jsx)(b.x6,{id:"bsqZlK"})})]}),(0,n.jsx)(g.e,{p:.5,children:Object.entries(K.Jm).map(t=>{let[s,r]=t;return r.deprecated&&s!==i.cardShadow?null:(0,n.jsx)(ir,{label:r.name,type:"shadow",isSelected:s===i.cardShadow||!i.cardShadow&&"default"===s,sx:r.previewSx,onClick:()=>{e((0,k.E0)({cardShadow:s}))}},s)})})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"XDmFR6"})}),(0,n.jsx)(g.e,{p:.5,isAttached:!0,children:Object.entries(K.ws).map(t=>{let[s,r]=t;return(0,n.jsx)(il,{tooltip:r.name,isSelected:s===i.cardBorder,label:r.icon,onClick:()=>{e((0,k.Cg)({cardBorder:s}))}},s)})})]}),(0,n.jsx)(ia,{}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"yu3Nvs"})}),(0,n.jsx)(g.e,{p:.5,children:Object.entries(K.Xg).map(t=>{let[s,r]=t;return(0,n.jsx)(is,{label:r.name,type:"card",isSelected:s===i.cardTransparency,sx:r.previewSx,onClick:()=>{e((0,k.SM)({cardTransparency:s}))}},s)})})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"ae2ouI"})}),(0,n.jsx)(g.e,{p:.5,flexWrap:"wrap",isAttached:!0,gap:2,children:Object.entries(io.e).map(t=>{let[s,r]=t;return(0,n.jsx)(is,{label:r.name,type:"layout-cut",isSelected:s===i.accentCut,onClick:()=>{e((0,k.m7)({accentCut:s}))},children:(0,n.jsxs)(z.z,{h:"100%",w:"100%",spacing:"0",bg:"white",children:[(0,n.jsx)(A.s,{flex:"2",h:"100%"}),(0,n.jsx)(A.s,{flex:"1",h:"100%",bg:"gray.200",color:"gray.500",alignItems:"center",justifyContent:"end",sx:r.maskStyles.right,p:2,children:(0,n.jsx)(R.g,{icon:eH.Cyq})})]})},s)})})]})]})});iu.displayName="CardsTab";let im=(0,d.memo)(()=>{let e=(0,h.jL)(),t=(0,h.GV)(k.eo);if(!t)throw Error("Theme is undefined");let i=(0,tF.M)(t);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ix,{}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"xQJpEa"})}),(0,n.jsx)(g.e,{p:.5,isAttached:!0,children:Object.entries(K.z0).map(t=>{let[s,r]=t;return(0,n.jsx)(il,{tooltip:r.name,isSelected:s===i.shapeFill,label:r.icon,onClick:()=>{e((0,k.Ow)({shapeFill:s})),"none"===s&&"none"===i.shapeBorder&&e((0,k.HC)({shapeBorder:"md"}))}},s)})})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:"Block border"}),(0,n.jsx)(g.e,{isAttached:!0,children:Object.entries(K.ws).map(t=>{let[s,r]=t;return(0,n.jsx)(il,{tooltip:r.name,isSelected:s===i.shapeBorder,label:r.icon,onClick:()=>{e((0,k.HC)({shapeBorder:s}))}},s)})})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:"Block shadow"}),(0,n.jsx)(g.e,{as:tk.B,children:Object.entries(K.kI).map(t=>{let[s,r]=t;return r.deprecated&&s!==i.shapeShadow?null:(0,n.jsx)(ir,{type:"block-shadow",label:r.name,isSelected:s===i.shapeShadow,sx:{border:"1px solid",borderColor:"gray.200",backgroundColor:"gray.50",...r.previewSx},onClick:()=>{e((0,k.pe)({shapeShadow:s}))}},s)})})]})]})});im.displayName="BlocksTab";let ip=(0,d.memo)(()=>{let e=(0,h.GV)(k.eo),t=(0,h.jL)();if(!e)throw Error("Theme is undefined");let i=(0,tF.M)(e),{config:s}=e,r=(0,e3.Jh)(e),l=(0,e3.jO)(e);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(eA.MJ,{children:[(0,n.jsxs)(eI.l,{children:[(0,n.jsx)(b.x6,{id:"Ptp9MF"})," ",(0,n.jsx)(a.qT,{label:(0,n.jsx)(b.x6,{id:"W3CvLD"})})]}),(0,n.jsx)(e4.tN,{theme:e,color:s.buttonColor,defaultColor:l,updateColor:e=>{t((0,k.$W)({color:e}))},palette:"accent"})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:"Button shape"}),(0,n.jsx)(g.e,{as:tk.B,children:Object.entries(K.OE).map(e=>{let[s,r]=e;return(0,n.jsx)(is,{type:"button",label:r.name,isSelected:s===i.buttonRoundness,sx:r.previewSx,onClick:()=>{t((0,k.L_)({roundness:s}))}},s)})})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsxs)(eI.l,{children:[(0,n.jsx)(b.x6,{id:"QfrKvi"})," ",(0,n.jsx)(a.qT,{label:(0,n.jsx)(b.x6,{id:"W3CvLD"})})]}),(0,n.jsx)(e4.a9,{theme:e,color:s.linkColor,defaultColor:r,updateColor:e=>{t((0,k.NN)({color:e}))},palette:"accent"})]})]})});ip.displayName="ButtonsLinksTab";let ij=()=>[{id:"default",title:(0,n.jsx)(b.x6,{id:"TJBHlP"}),description:(0,n.jsx)(b.x6,{id:"1GpX8B"}),knobs:()=>({})},{id:"flat",title:(0,n.jsx)(b.x6,{id:"F7cy8b"}),description:(0,n.jsx)(b.x6,{id:"SkGUtG"}),knobs:()=>({roundness:"sm",buttonRoundness:"sm",cardBorder:"none",cardShadow:"none",shapeFill:"solid",shapeBorder:"none",shapeShadow:"none"})},{id:"outline",title:(0,n.jsx)(b.x6,{id:"dD7NPy"}),description:(0,n.jsx)(b.x6,{id:"GYrLbt"}),knobs:e=>({shapeFill:"none",shapeBorder:"md",cardBorder:"md",roundness:"sm",buttonRoundness:"sm",cardBorderColor:(0,e3.HW)((0,e3.VH)(e))})},{id:"sharp",title:(0,n.jsx)(b.x6,{id:"MnUrtL"}),description:(0,n.jsx)(b.x6,{id:"Zcn2iz"}),knobs:()=>({shapeFill:"solid",shapeBorder:"sm",cardBorder:"sm",cardShadow:"none",roundness:"sm",buttonRoundness:"sm",accentCut:"diagonal"})},{id:"comic",title:(0,n.jsx)(b.x6,{id:"83V/SJ"}),description:(0,n.jsx)(b.x6,{id:"tW4rXv"}),knobs:e=>({roundness:"sm",buttonRoundness:"sm",cardBorder:"md",cardShadow:"hard",shapeFill:"solid",shapeBorder:"md",shapeShadow:"none",cardBorderColor:(0,e3.HW)((0,e3.VH)(e))})},{id:"glass",title:(0,n.jsx)(b.x6,{id:"f0936e"}),description:(0,n.jsx)(b.x6,{id:"yeVgz2"}),knobs:()=>({cardTransparency:"frosted",cardBorder:"none",cardShadow:"default",roundness:"sm",shapeFill:"solid",shapeShadow:"none",shapeBorder:"sm"})},{id:"rounded",title:(0,n.jsx)(b.x6,{id:"ieQgZ8"}),description:(0,n.jsx)(b.x6,{id:"ulXymN"}),knobs:()=>({roundness:"xl",buttonRoundness:"xl",shapeFill:"none",shapeBorder:"lg",cardBorder:"lg",cardShadow:"none",accentCut:"round"})},{id:"soft",title:(0,n.jsx)(b.x6,{id:"DT6auk"}),description:(0,n.jsx)(b.x6,{id:"UtUWAG"}),knobs:()=>({cardTransparency:"frosted",cardShadow:"default",roundness:"lg",cardBorder:"none",shapeShadow:"soft",shapeBorder:"none",shapeFill:"none",buttonRoundness:"xl",accentCut:"fade"})},{id:"capsule",title:(0,n.jsx)(b.x6,{id:"Q4Of8O"}),description:(0,n.jsx)(b.x6,{id:"vc8Frf"}),knobs:e=>({roundness:"xl",buttonRoundness:"xl",cardBorder:"md",cardShadow:"hard",shapeFill:"solid",shapeBorder:"sm",shapeShadow:"hard",cardBorderColor:(0,e3.HW)((0,e3.VH)(e)),accentCut:"wiggle"})}],ig=(0,d.memo)(()=>{let e=(0,h.GV)(k.eo),t=(0,h.jL)(),[i,s]=(0,d.useState)(null),r=(0,d.useCallback)(i=>{if(!e)throw Error("theme is undefined");s(i.id);let n=i.knobs(e);t((0,k._R)({config:{...t7,...n}}))},[t,e]);if(!e)throw Error("Theme is undefined");let l=ij();return(0,n.jsx)(T.B,{spacing:6,children:(0,n.jsx)(tQ,{defaultTab:(0,n.jsx)(T.B,{children:(0,n.jsx)(tS.x,{templateColumns:tw,gap:3,children:l.map(t=>(0,n.jsx)(ie,{theme:e,pack:t,isSelected:i===t.id,onClick:()=>r(t)},t.id))})}),customTab:(0,n.jsx)(ih,{})})})});ig.displayName="DesignStep";var ib=i(41781);let iv=e=>{let{isSelected:t=!1,onClick:i,heading:s,headingWeight:r,body:l,bodyWeight:o,theme:a}=e,d=(0,e3.Ik)((0,e3.Tn)(a)),c=(0,e3.VL)((0,e3.Lz)(a)),x=(0,e3.VL)((0,e3.fQ)(a));return(0,n.jsx)(f.$,{variant:"ghost",onClick:i,minH:"auto",h:"auto",minW:"auto",w:"100%",p:2,flex:1,color:"gray.800",textAlign:"left",whiteSpace:"normal",bg:t?"trueblue.50":"white",borderColor:t?"trueblue.400":"transparent",borderWidth:"2px",alignItems:"flex-start",children:(0,n.jsxs)(T.B,{flex:1,bg:d,borderRadius:"md",spacing:1,p:3,py:4,shadow:"sm",borderWidth:"1px",children:[(0,n.jsx)(p.E,{fontSize:"xl",fontWeight:r,fontFamily:s.id,css:c,noOfLines:1,children:s.name}),(0,n.jsx)(p.E,{fontWeight:o,fontFamily:l.id,css:x,fontSize:"md",children:l.name})]})})};var iy=i(32844),iw=i(59554),ik=i(6743),iC=i(30928),iS=i(62117),iE=i(72470),iA=i(77979),iI=i(84718),iT=i(16936),iF=i(50933),iD=i(33750),iO=i.n(iD),iR=i(17006),i_=i(11403);let iz=(0,d.memo)(()=>{let e=(0,h.jL)(),t=(0,h.GV)(k.eo),{fontsMap:i,globalFonts:s,workspaceFonts:r}=(0,y.II)(),l={globalFonts:s,workspaceFonts:r};if(!t)throw Error("Theme is undefined");let o=(0,d.useCallback)(n=>{let s=i[n],r=(0,eW.yi)(s),l=(0,eL.g9)(r,t.headingFontWeight||K.mI.heading)||K.mI.heading;e((0,k.CS)({font:n,weight:l,fontsMap:i}))},[e,i,t.headingFontWeight]),a=(0,d.useCallback)(n=>{let s=i[n],r=(0,eW.yi)(s),l=(0,eL.g9)(r,t.bodyFontWeight||K.mI.body)||K.mI.body;e((0,k.g6)({font:n,weight:l,fontsMap:i}))},[e,i,t.bodyFontWeight]),c=(0,d.useCallback)(t=>e((0,k.zs)({weight:t})),[e]),x=(0,d.useCallback)(t=>e((0,k.lm)({weight:t})),[e]),u=(0,d.useCallback)(()=>{let e=(0,S.Zi)();window.open(e,"_blank")},[]),m=i[t.headingFont||K.z8.headingFont]||i[K.z8.headingFont],j=i[t.bodyFont||K.z8.bodyFont]||i[K.z8.bodyFont],g=t.headingFontWeight||K.mI.heading,f=t.bodyFontWeight||K.mI.body;return(0,n.jsxs)(T.B,{children:[(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(p.E,{children:(0,n.jsx)(b.x6,{id:"PKjGhT"})})}),(0,n.jsxs)(e$.T,{spacing:2,align:"stretch",children:[(0,n.jsx)(eY,{fonts:l,value:t.headingFont,updateValue:o,onFontUploadClick:u,weight:"bold",defaultFont:K.z8.headingFont,"data-testid":"custom-theme-heading-font-picker",my:0}),(0,n.jsx)(eQ,{font:m,value:g,defaultWeight:700,updateValue:c,my:0}),(0,n.jsx)(t4,{}),(0,n.jsx)(iM,{children:(0,n.jsx)(iL,{variant:"heading"})})]})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(p.E,{children:(0,n.jsx)(b.x6,{id:"bGQplw"})})}),(0,n.jsxs)(e$.T,{spacing:2,align:"stretch",children:[(0,n.jsx)(eY,{fonts:l,value:t.bodyFont,updateValue:a,onFontUploadClick:u,weight:"normal",defaultFont:K.z8.bodyFont,"data-testid":"custom-theme-body-font-picker",my:0}),(0,n.jsx)(eQ,{font:j,value:f,defaultWeight:400,updateValue:x,my:0}),(0,n.jsx)(t5,{}),(0,n.jsx)(iM,{children:(0,n.jsx)(iL,{variant:"body"})})]})]}),(0,n.jsx)(eE.F,{mt:"4",colorScheme:"gray",children:(0,n.jsx)(p.E,{fontSize:"sm",children:(0,n.jsx)(b.x6,{id:"gXllrZ"})})})]})});iz.displayName="TypographySettings";let iB=[{name:()=>eX.Ru._({id:"EdQY6l"}),icon:O.tiU,key:"none"},{name:()=>eX.Ru._({id:"fVR7qN"}),icon:O.Jn3,key:"uppercase"}],iM=e=>{let{children:t}=e;return(0,n.jsx)(iy.n,{allowMultiple:!0,mt:0,mb:6,children:(0,n.jsxs)(iw.A,{border:"none",bg:"gray.50",borderRadius:"md",children:[(0,n.jsxs)(ik.J,{fontWeight:"500",ps:3,borderRadius:"md",children:[(0,n.jsx)(F.a,{as:"span",flex:"1",textAlign:"start",children:(0,n.jsx)(b.x6,{id:"sxkWRg"})}),(0,n.jsx)(iC.Q,{})]}),(0,n.jsx)(iS.v,{px:4,pb:2,children:t})]})})},iL=e=>{let{variant:t}=e,i=(0,h.GV)(k.eo),s=(0,h.jL)();if(!i)throw Error("Theme is undefined");let{letterSpacingHeading:r,letterSpacingBody:l,lineHeightHeading:o,lineHeightBody:c,fontSize:x,headingFontSize:u,headingTransform:m="none"}=i.config,p="heading"===t?r:l,j="heading"===t?o:c,f="heading"===t?iR.eL:iR.Uw,v="heading"===t?u:x,y=(0,d.useCallback)(e=>{"heading"===t?s((0,k.pG)({letterSpacing:e})):s((0,k.NS)({letterSpacing:e}))},[s,t]),w=(0,d.useCallback)(e=>{"heading"===t?s((0,k.h4)({lineHeight:e})):s((0,k.L7)({lineHeight:e}))},[s,t]),C=(0,d.useCallback)(e=>{"heading"===t?s((0,k.IA)({fontSize:e})):s((0,k.Gs)({fontSize:e}))},[s,t]),S=(0,d.useCallback)(e=>{s((0,k.Em)({transform:e}))},[s]);return(0,n.jsxs)(T.B,{py:2,minH:"100px",spacing:4,children:[(0,n.jsxs)(z.z,{children:[(0,n.jsxs)(F.a,{children:[(0,n.jsxs)(eI.l,{children:[(0,n.jsx)(b.x6,{id:"Wqh8xb"}),(0,n.jsx)(a.qT,{label:(0,n.jsx)(b.x6,{id:"d4Sact"}),ms:1.5})]}),(0,n.jsxs)(iE.M,{children:[(0,n.jsx)(iA.W,{pointerEvents:"none",color:"gray.600",children:(0,n.jsx)(R.g,{icon:O.$LH})}),(0,n.jsx)(iI.Q7,{min:1,max:2,step:.05,defaultValue:null!=j?j:"",onChange:(e,t)=>{""===e||isNaN(t)?w(void 0):w(iO()(t,1,2))},children:(0,n.jsx)(iI.OO,{bg:"white",ps:"var(--input-height)",pe:"var(--input-padding)",placeholder:f.toString(),textAlign:"end"})})]})]}),(0,n.jsxs)(F.a,{children:[(0,n.jsxs)(eI.l,{children:[(0,n.jsx)(b.x6,{id:"vhRvfF"}),(0,n.jsx)(a.qT,{label:(0,n.jsx)(b.x6,{id:"ov2xUH"}),ms:1.5})]}),(0,n.jsxs)(iE.M,{children:[(0,n.jsx)(iA.W,{pointerEvents:"none",color:"gray.600",children:(0,n.jsx)(R.g,{icon:O.myY})}),(0,n.jsx)(iI.Q7,{min:-10,max:10,step:1,defaultValue:p?100*p:"",onChange:(e,t)=>{""===e||isNaN(t)?y(void 0):y(iO()(t/100,-.1,.1))},children:(0,n.jsx)(iI.OO,{bg:"white",ps:"var(--input-height)",placeholder:"0",textAlign:"end"})}),(0,n.jsx)(iA.t,{pointerEvents:"none",color:"gray.600",children:"%"})]})]})]}),"body"!==t&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(F.a,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"A/6zEn"})}),(0,n.jsx)(g.e,{isAttached:!0,children:iB.map(e=>(0,n.jsx)(a.Tz,{label:e.name(),children:(0,n.jsx)(iT.K,{"aria-label":e.name(),icon:(0,n.jsx)(R.g,{icon:e.icon,fixedWidth:!0}),variant:m===e.key?"plainSelected":"plain",boxShadow:"none",onClick:()=>S(e.key)})},e.key))})]})}),(0,n.jsx)(iN,{value:v,setValue:C})]})},iN=e=>{let{value:t,setValue:i}=e,[s,r]=(0,d.useState)(!1),[l,o]=(0,d.useState)(t||1),c=(0,i_.lW)(i,300);return(0,n.jsxs)(F.a,{pb:"2",children:[(0,n.jsxs)(eI.l,{mb:"3",children:[(0,n.jsx)(b.x6,{id:"jIL7bk"})," ",(0,n.jsx)(a.qT,{label:(0,n.jsx)(b.x6,{id:"/qH3CQ"})})]}),(0,n.jsxs)(iF.Ap,{defaultValue:t,min:.75,max:1.25,step:.05,colorScheme:"trueblue",onChange:e=>{o(e),c(e)},onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[(0,n.jsx)(iF.hB,{children:(0,n.jsx)(iF.hJ,{})}),(0,n.jsx)(iF.d6,{value:1,h:"20px",w:"2px",bg:"gray.300",transform:"translateY(-50%) translateX(-50%)"}),(0,n.jsx)(a.Tz,{placement:"top",isOpen:s,label:"".concat(l.toFixed(2),"x"),shortcut:1===l?eX.Ru._({id:"ovBPCi"}):void 0,children:(0,n.jsx)(iF.OQ,{})})]})]})},iP=[{heading:{font:"Inter",weight:700,keywords:["sans-serif","bold"]},body:{font:"Inter",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"DM Sans",weight:600,keywords:["semi-bold","sans-serif"]},body:{font:"DM Sans",weight:400,keywords:["normal","sans-serif"]}},{heading:{font:"Overpass",weight:700,keywords:["sans-serif","bold"]},body:{font:"Overpass",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Barlow",weight:600,keywords:["narrow","semi-bold","sans-serif"]},body:{font:"Barlow",weight:400,keywords:["sans-serif","normal","narrow"]}},{heading:{font:"Nunito",weight:600,keywords:["semi-bold","fun","sans-serif","rounded"]},body:{font:"PT Sans",weight:400,keywords:["normal","sans-serif"]}},{heading:{font:"Lora",weight:400,keywords:["normal","serif"]},body:{font:"Source Sans 3",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Instrument Sans",weight:600,keywords:["semi-bold","sans-serif"]},body:{font:"Instrument Sans",weight:400,keywords:["normal","sans-serif"]}},{heading:{font:"Roboto Slab",weight:400,keywords:["serif","slab-serif","normal"]},body:{font:"Roboto",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Barlow",weight:700,keywords:["narrow","bold","sans-serif"]},body:{font:"Montserrat",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Libre Baskerville",weight:400,keywords:["serif","normal"]},body:{font:"DM Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Montserrat",weight:400,keywords:["normal","sans-serif"]},body:{font:"Heebo",weight:300,keywords:["light","sans-serif"]}},{heading:{font:"Prompt",weight:500,keywords:["sans-serif","bold"]},body:{font:"Mukta",weight:300,keywords:["sans-serif","light"]}},{heading:{font:"Inconsolata",weight:700,keywords:["monospace","serif","bold"]},body:{font:"Fira Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Fraunces",weight:500,keywords:["serif","fun","bold"]},body:{font:"Epilogue",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Gelasio",weight:400,keywords:["serif","normal"]},body:{font:"Lato",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Raleway",weight:400,keywords:["sans-serif","thin","normal"]},body:{font:"Roboto",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Kanit",weight:300,keywords:["sans-serif","thin","normal"]},body:{font:"Martel Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Corben",weight:400,keywords:["normal","serif","wide","fun"]},body:{font:"Nobile",weight:400,keywords:["sans-serif","normal","narrow"]}},{heading:{font:"Crimson Pro",weight:700,keywords:["serif","bold"]},body:{font:"Open Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Poppins",weight:300,keywords:["sans-serif","thin","normal"]},body:{font:"Roboto",weight:300,keywords:["thin","sans-serif","normal"]}},{heading:{font:"Red Hat Text",weight:400,keywords:["normal","sans-serif"]},body:{font:"Roboto",weight:300,keywords:["thin","sans-serif"]}},{heading:{font:"Gelasio",weight:400,keywords:["serif","normal"]},body:{font:"Gelasio",weight:400,keywords:["normal","serif"]}},{heading:{font:"Bitter",weight:500,keywords:["slab-serif","serif","normal"]},body:{font:"Open Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Syne",weight:700,keywords:["wide","sans-serif","fun","bold"]},body:{font:"Arimo",weight:400,keywords:["normal","sans-serif"]}},{heading:{font:"Roboto",weight:500,keywords:["sans-serif","narrow","semi-bold"]},body:{font:"Roboto",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Playfair Display",weight:700,keywords:["serif","bold"]},body:{font:"Open Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Quattrocento",weight:400,keywords:["thin","serif","normal"]},body:{font:"Quattrocento",weight:400,keywords:["serif","normal"]}},{heading:{font:"Montserrat",weight:700,keywords:["wide","bold","sans-serif"]},body:{font:"Source Sans 3",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Kanit",weight:400,keywords:["sans-serif","semi-bold","normal"]},body:{font:"Martel Sans",weight:300,keywords:["sans-serif","normal"]}},{heading:{font:"Lato",weight:700,keywords:["sans-serif","semi-bold","normal"]},body:{font:"Lato",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Fira Mono",weight:500,keywords:["narrow","monospace","semi-bold","normal"]},body:{font:"Fira Sans",weight:400,keywords:["sans-serif","narrow","normal"]}},{heading:{font:"Alexandria",weight:400,keywords:["wide","sans-serif","normal"]},body:{font:"Nobile",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Dela Gothic One",weight:400,keywords:["wide","bold","extrabold","sans-serif","fun"]},body:{font:"DM Sans",weight:400,keywords:["sans-serif","wide","normal"]}},{heading:{font:"Unbounded",weight:400,keywords:["normal","wide","sans-serif","fun"]},body:{font:"Cabin",weight:400,keywords:["wide","sans-serif"]}},{heading:{font:"Tomorrow",weight:600,keywords:["fun","bold","sans-serif"]},body:{font:"Tomorrow",weight:400,keywords:["fun","normal","sans-serif"]}},{heading:{font:"Roboto Mono",weight:500,keywords:["monospace","sans-serif","semi-bold"]},body:{font:"Roboto",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Syne",weight:700,keywords:["fun","semi-bold","bold","wide","fun"]},body:{font:"Overpass",weight:300,keywords:["normal","thin","sans-serif"]}},{heading:{font:"Syne",weight:800,keywords:["fun","wide","extrabold","bold","sans-serif"]},body:{font:"Syne",weight:400,keywords:["sans-serif","normal","wide"]}},{heading:{font:"Spline Sans",weight:700,keywords:["narrow","sans-serif","semi-bold"]},body:{font:"Barlow",weight:400,keywords:["narrow","sans-serif","normal"]}},{heading:{font:"Anton",weight:400,keywords:["narrow","sans-serif","bold","fun"]},body:{font:"Fira Sans",weight:400,keywords:["narrow","sans-serif","normal"]}},{heading:{font:"Unbounded",weight:700,keywords:["fun","bold","extrabold","wide","sans-serif"]},body:{font:"Open Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Sora",weight:500,keywords:["serif","semi-bold"]},body:{font:"Noto Sans TC",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Libre Baskerville",weight:400,keywords:["serif","thin","normal"]},body:{font:"Open Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"MuseoModerno",weight:500,keywords:["fun","sans-serif","semi-bold","bold"]},body:{font:"Source Sans 3",weight:400,keywords:["normal","sans-serif"]}},{heading:{font:"Merriweather",weight:700,keywords:["bold","serif"]},body:{font:"Open Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Alexandria",weight:600,keywords:["bold","wide","sans-serif"]},body:{font:"Sora",weight:300,keywords:["sans-serif","normal"]}},{heading:{font:"Patrick Hand",weight:400,keywords:["fun","handwriting","normal"]},body:{font:"Patrick Hand",weight:400,keywords:["fun","handwriting","normal"]}},{heading:{font:"Prata",weight:400,keywords:["serif","normal"]},body:{font:"Raleway",weight:400,keywords:["sans-serif","normal","fun"]}}],iU=()=>[{key:"all",label:(0,n.jsx)(b.x6,{id:"N40H+G"})},{key:"sans-serif",label:(0,n.jsx)(b.x6,{id:"cW+T4V"})},{key:"serif",label:(0,n.jsx)(b.x6,{id:"e5bnvv"})},{key:"monospace",label:(0,n.jsx)(b.x6,{id:"qJC2VT"})},{key:"fun",label:(0,n.jsx)(b.x6,{id:"rmN315"})},{key:"bold",label:(0,n.jsx)(b.x6,{id:"KmydK6"})},{key:"thin",label:(0,n.jsx)(b.x6,{id:"RGjFMI"})},{key:"wide",label:(0,n.jsx)(b.x6,{id:"I5S9ZE"})}],iW=(0,d.memo)(()=>{let{globalFonts:e}=(0,y.II)();return e.length?(0,n.jsx)(tQ,{defaultTab:(0,n.jsx)(iH,{}),customTab:(0,n.jsx)(iz,{})}):(0,n.jsx)(iV,{})});iW.displayName="FontsStep";let iV=(0,d.memo)(()=>(0,n.jsxs)(T.B,{spacing:4,children:[(0,n.jsxs)(z.z,{children:[(0,n.jsx)(ib.E,{height:7,flex:1}),(0,n.jsx)(ib.E,{height:7,flex:1})]}),(0,n.jsxs)(z.z,{children:[(0,n.jsx)(ib.E,{height:6,w:12}),(0,n.jsx)(ib.E,{height:6,w:12}),(0,n.jsx)(ib.E,{height:6,w:12})]}),(0,n.jsx)(tS.x,{mt:2,templateColumns:tw,gap:3,children:Array.from({length:4}).map((e,t)=>(0,n.jsx)(A.s,{px:2,children:(0,n.jsx)(ib.E,{mt:3,flex:1,height:20})},t))})]}));iV.displayName="FontsConfigSkeleton";let iH=(0,d.memo)(()=>{let{themeFontsMap:e,fontsMap:t}=(0,y.II)(),i=(0,h.jL)(),s=(0,h.GV)(k.eo),[r,l]=(0,d.useState)("all"),o=(0,d.useMemo)(()=>iP.filter(e=>"all"===r||null===r||e.heading.keywords.includes(r)),[r]),a=(0,d.useMemo)(()=>o.flatMap(t=>[e[t.heading.font],e[t.body.font]]).filter(Boolean),[o,e]),c=(0,d.useCallback)(e=>{i((0,k.BA)({fontPair:e,fontsMap:t}))},[i,t]),x=(0,d.useMemo)(()=>iU(),[]);if(!s)throw Error("Theme is undefined");return(0,n.jsxs)(T.B,{spacing:6,children:[(0,n.jsx)(tk.B,{children:x.map(e=>{let{key:t,label:i}=e;return(0,n.jsx)(tC.vw,{onClick:()=>{l(t)},colorScheme:r===t?"trueblue":"gray",cursor:"pointer",children:(0,n.jsx)(p.E,{children:i})},t)})}),(0,n.jsx)(tS.x,{templateColumns:tw,gap:3,children:o.map((t,i)=>{let r=s.headingFont===t.heading.font&&s.headingFontWeight===t.heading.weight&&s.bodyFont===t.body.font&&s.bodyFontWeight===t.body.weight,l=e[t.heading.font],o=e[t.body.font];return l&&o?(0,n.jsx)(iv,{isSelected:r,onClick:()=>c(t),heading:l,headingWeight:t.heading.weight,body:o,bodyWeight:t.body.weight,theme:s},i):null})}),(0,n.jsx)(eV.J,{fonts:a})]})});iH.displayName="FontsBuilderPicker";let iG=(0,d.memo)(()=>{let e=(0,h.jL)(),t=(0,h.GV)(k.$9);return(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"qy77B2"})}),(0,n.jsx)(F.a,{maxW:"min(100%, 300px)",children:(0,n.jsx)(e5,{value:t,onLogoUploadStart:()=>{e((0,k.QZ)())},updateValue:t=>{if(!t)return void e((0,k.Zw)());e((0,k.$k)({logoImage:(0,e8.yK)({result:t,isError:!1})}))},onLogoUploadFail:()=>{e((0,k.UY)())}})})]})});iG.displayName="LogoSettings";let iY=(0,d.memo)(()=>(0,n.jsx)(T.B,{spacing:6,alignItems:"center",children:(0,n.jsx)(F.a,{mx:"auto",maxW:"300px",children:(0,n.jsx)(iG,{})})}));iY.displayName="LogoStep";var iJ=i(73689),iK=i(73867),iQ=i(27250),i$=i(59557);let iX={position:"absolute",width:"104%",height:"104%",top:"-2%",left:"-2%",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundColor:"transparent",backgroundSize:"cover",transition:"all 0.1s ease-out"},iq=e=>{let{children:t}=e,i=(0,d.useRef)(null),s=(0,d.useRef)(null),r=(0,d.useRef)(null);return(0,d.useEffect)(()=>{let e=i.current,t=s.current,n=r.current;if(!e||!t||!n)return;let l=Array.from(n.children),o=l.length,a=i=>{let n=i.pageX,s=i.pageY,r=e.getBoundingClientRect(),a=e.clientWidth||e.offsetWidth||e.scrollWidth,d=e.clientHeight||e.offsetHeight||e.scrollHeight,c=.52-(n-r.left)/a,x=.52-(s-r.top)/d,h=s-r.top-d/2,u=n-r.left-a/2,m="rotateX(".concat((h-x)*.1,"deg) rotateY(").concat((c-u)*.07,"deg)"),p=180*Math.atan2(h,u)/Math.PI-90;p<0&&(p+=360),e.className.includes("over")&&(m+=" scale3d(1.07,1.07,1.07)"),e.style.transform=m,t.style.background="linear-gradient(".concat(p,"deg, rgba(255,255,255,").concat((s-r.top)/d*.4,") 0%,rgba(255,255,255,0) 80%)"),t.style.transform="translateX(".concat(c*o-.1,"px) translateY(").concat(x*o-.1,"px)"),l.forEach((e,t)=>{let i=o-t;e.style.transform="translateX(".concat(-(c*i*15),"px) translateY(").concat(-(x*i*15),"px)")})},d=()=>{e.className+=" over"},c=()=>{e.className=e.className.replace(" over",""),e.style.transform="",t.style.cssText="",l.forEach(e=>e.style.transform="")};return e.addEventListener("mousemove",a),e.addEventListener("mouseenter",d),e.addEventListener("mouseleave",c),()=>{e.removeEventListener("mousemove",a),e.removeEventListener("mouseenter",d),e.removeEventListener("mouseleave",c)}}),(0,n.jsx)(i$.A,{children:e=>{let{width:l,height:o}=e;return(0,n.jsxs)(A.s,{ref:i,style:{perspective:"1600px",height:o,width:l,margin:"0 auto"},borderRadius:"md",transitionProperty:"all",transitionDuration:"normal",transitionTimingFunction:"ease-out",sx:{"&:hover .threeDImage-shadow":{shadow:"0 45px 100px rgba(14, 21, 47, 0.4), 0 16px 40px rgba(14, 21, 47, 0.4)"}},children:[(0,n.jsx)(A.s,{ref:r,bg:"white",sx:{position:"relative",width:"100%",height:"100%",borderRadius:"5px",overflow:"hidden",transformStyle:"preserve-3d"},children:Array.isArray(t)?t.map((e,t)=>(0,n.jsx)(F.a,{sx:iX,"data-layer":t,pointerEvents:"none",children:e},t)):(0,n.jsx)(F.a,{sx:iX,"data-layer":0,pointerEvents:"none",children:t})}),(0,n.jsx)(F.a,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"5px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0) 60%)",pointerEvents:"none"},ref:s}),(0,n.jsx)(F.a,{sx:{position:"absolute",top:"5%",left:"5%",width:"90%",height:"90%",transition:"all 0.2s ease-out",boxShadow:"0 8px 30px rgba(14, 21, 47, 0.6)",zIndex:-1},className:"threeDImage-shadow"})]})}})};var iZ=i(9236);let i0=e=>{let{title:t,description:i,children:s}=e;return(0,n.jsxs)(T.B,{w:"100%",alignItems:"flex-start",children:[(0,n.jsxs)(T.B,{spacing:1,w:"100%",children:[(0,n.jsx)(p.E,{fontSize:"lg",fontWeight:"semibold",children:t}),(0,n.jsx)(p.E,{fontSize:"xs",color:"gray.600",children:i})]}),s]})},i1=(0,d.memo)(()=>{let{user:e}=(0,_.ur)(),t=(0,h.GV)(k.eo)||iZ.S,i=(0,e3.Ik)((0,e3.H7)(t)),s=(0,h.GV)(k.sv),r=(0,h.jL)(),l=(0,d.useRef)(null),o=(0,d.useCallback)(e=>{r((0,k.qv)({name:e.target.value}))},[r]);(0,d.useEffect)(()=>{l.current&&(l.current.focus(),l.current.select())},[]);let[a,c]=(0,d.useState)(!1),{reward:x}=(0,iJ.bS)("rewardId","confetti",{lifetime:200,angle:90,decay:.91,spread:90,startVelocity:45,elementCount:50,elementSize:10,colors:(0,e3.ND)(t).map(e3.Ik)});(0,d.useEffect)(()=>{let e=setTimeout(()=>{c(!0)},400),t=setTimeout(()=>{x()},550);return()=>{clearTimeout(t),clearTimeout(e)}},[]);let u="260px";return(0,n.jsxs)(T.B,{spacing:10,alignItems:"center",children:[(0,n.jsxs)(A.s,{pos:"relative",flex:1,direction:"column",w:"100%",children:[(0,n.jsx)(A.s,{h:u,align:"center",justify:"center",pos:"absolute",zIndex:0,w:"100%",children:(0,n.jsx)(A.s,{w:2,h:2,id:"rewardId"})}),(0,n.jsx)(F.a,{w:u,h:u,mx:"auto",bg:i,borderRadius:"md",borderWidth:"1px",opacity:+!!a,transform:"scale(".concat(a?1:.9,")"),transitionProperty:"common",transitionDuration:"slow",transitionTimingFunction:"cubic-bezier(0.68,-0.55,0.27,1.55)",children:(0,n.jsx)(iq,{children:(0,n.jsxs)(F.a,{bg:i,w:"100%",pos:"relative",p:12,pb:24,h:"100%",children:[(0,n.jsx)(iQ.q,{theme:t,transform:"scale(1.2)",position:"relative",bottom:"7",left:"-3.5",w:"200px",boxShadow:"none"}),(0,n.jsxs)(T.B,{pos:"absolute",bottom:0,left:5,bg:"white",w:"108%",mx:"-8%",p:"8%",borderTopWidth:"1px",color:"gray.800",children:[(0,n.jsx)(p.E,{noOfLines:1,children:s||(0,n.jsx)(b.x6,{id:"rzKWuu"})}),(0,n.jsx)(iK.S,{createdByYou:!0,createdByName:null==e?void 0:e.displayName,createdByProfileImageUrl:null==e?void 0:e.profileImageUrl,timestampDescription:"Just now"})]})]})})})]}),(0,n.jsx)(F.a,{maxW:"100%",mx:"0 auto",w:"500px",children:(0,n.jsx)(i0,{title:(0,n.jsx)(b.x6,{id:"HZ7fEu"}),children:(0,n.jsx)(eT.p,{mx:"auto",size:"lg",ref:l,value:s,onChange:o,placeholder:eX.Ru._({id:"HZ7fEu"})})})}),(0,n.jsx)(F.a,{maxW:"100%",mx:"0 auto",w:"500px",children:(0,n.jsx)(i6,{})})]})});i1.displayName="ThemeNameStep";let i6=()=>{let e=(0,es.st)(),t=(0,d.useCallback)(t=>{null==e||e.track(es.VV.THEME_RATED,{rating:t,method:"builder"})},[e]),i=(0,d.useCallback)((t,i,n)=>{null==e||e.track(es.VV.THEME_FEEDBACK,{feedback:i,tags:n,rating:t,method:"builder"})},[e]);return(0,n.jsx)(e9.No,{feedbackTags:i2,trackRating:t,trackFeedback:i})},i2=[{key:"wrong-colors",label:(0,n.jsx)(b.x6,{id:"6dn0qr"})},{key:"wrong-fonts",label:(0,n.jsx)(b.x6,{id:"fe43sX"})},{key:"wrong-design",label:(0,n.jsx)(b.x6,{id:"z3jUzS"})},{key:"missing-logo",label:(0,n.jsx)(b.x6,{id:"4Z/w7+"})},{key:"other",label:(0,n.jsx)(b.x6,{id:"aQyGJc"})}],i5={colors:t8,fonts:iW,design:ig,logo:iY,themeName:i1},i4=e=>{let{onContinueClick:t}=e;return(0,n.jsxs)(T.B,{spacing:"6",children:[(0,n.jsx)(D._,{src:"https://cdn.gamma.app/zc87vhr30n8uf3n/39bd9e9e4ae347a39de0f1d27da20a52/original/Frame-1-32.png"}),(0,n.jsx)(p.E,{fontSize:"lg",children:(0,n.jsx)(b.x6,{id:"oXq4Vi"})}),(0,n.jsx)(g.e,{justifyContent:"center",children:(0,n.jsx)(f.$,{minW:"250px",variant:"solid",onClick:t,rightIcon:(0,n.jsx)(R.g,{icon:O.dmS}),children:(0,n.jsx)(b.x6,{id:"EsKTam"})})})]})},i3=e=>{let{step:t,setStep:i}=e,s=(0,ei.d)();if("intro"===t)return(0,n.jsx)(i4,{onContinueClick:()=>{i("colors"),s({title:(0,n.jsx)(b.x6,{id:"okvzsv"}),position:"top",status:"success",duration:2e3,isClosable:!0})}});let r=ty[t],l=i5[t];return(0,n.jsxs)(T.B,{spacing:5,children:[(0,n.jsx)(p.E,{textAlign:"center",size:"md",color:"gray.600",children:r.description}),(0,n.jsx)(F.a,{children:(0,n.jsx)(l,{})})]})};var i8=i(1139);let i9=e=>{let{step:t,setStep:i}=e,s=Object.keys(ty).indexOf(t);return(0,n.jsx)(tl.C,{index:s,w:"260px",minW:"0",gap:"0",size:"md",children:Object.entries(ty).map((e,t)=>{let[s,{name:r,icon:l}]=e;return(0,n.jsx)(a.Tz,{label:r,children:(0,n.jsxs)(to.p,{gap:"0",children:[(0,n.jsx)(ta.S,{as:f.$,variant:"ghost",shadow:"none",size:"sm",onClick:()=>i(s),cursor:"pointer",borderWidth:"0px",bg:"white",sx:{"[data-status=incomplete] &":{color:"gray.600"}},children:(0,n.jsx)(td.x,{complete:(0,n.jsx)(R.g,{icon:l}),incomplete:(0,n.jsx)(R.g,{icon:l}),active:(0,n.jsx)(R.g,{icon:l})})}),(0,n.jsx)(tu.m,{mx:"0 !important"})]},t)},t)})})},i7=e=>{let{step:t,setStep:i,onFinishClick:s,errorMessage:r,isThemeSaving:l}=e,o=(0,d.useCallback)(()=>{let e=Object.keys(ty).indexOf(t)-1;i(Object.keys(ty)[e])},[t,i]),c=(0,d.useCallback)(()=>{let e=Object.keys(ty).indexOf(t)+1;i(Object.keys(ty)[e])},[t,i]),x="colors"===t,h="themeName"===t,u="colors"!==t,m={base:void 0,lg:"130px"};return(0,n.jsxs)(T.B,{direction:"row",justifyContent:x?"flex-end":"space-between",alignItems:"center",position:"relative",w:"100%",children:[(0,n.jsx)(i8.z,{in:u,children:(0,n.jsx)(iT.K,{variant:"outline","aria-label":eX.Ru._({id:"CKyk7Q"}),icon:(0,n.jsx)(R.g,{icon:O.Wzs}),onClick:o,pointerEvents:u?"auto":"none"})}),(0,n.jsx)(I.h,{}),(0,n.jsx)(i9,{step:t,setStep:i}),(0,n.jsx)(I.h,{}),h?(0,n.jsx)(a.Tz,{isDisabled:!r,label:r,shouldWrapChildren:!0,children:(0,n.jsx)(f.$,{onClick:s,variant:"solid",isLoading:l,isDisabled:!!r,rightIcon:(0,n.jsx)(R.g,{icon:O.e68}),minW:m,children:(0,n.jsx)(b.x6,{id:"JmZ/+d"})})}):(0,n.jsx)(f.$,{onClick:c,variant:"solid",rightIcon:(0,n.jsx)(R.g,{icon:O.XkK}),minW:m,children:(0,n.jsx)(b.x6,{id:"xGVfLh"})})]})},ne=e=>{let{onComplete:t,onExitClick:i}=e,[s,r]=(0,d.useState)("colors"),l=(0,h.GV)(k.sv),o=(0,h.GV)(k.D6);el("builder");let{persistTheme:a,isThemeSaving:c}=er({onComplete:t,flow:"builder"}),x=(0,d.useMemo)(()=>l?o?(0,n.jsx)(b.x6,{id:"0y5u1g"}):void 0:(0,n.jsx)(b.x6,{id:"OL7UgX"}),[l,o]),u=(0,d.useCallback)(()=>{l&&a()},[l,a]),m=ty[s];return(0,n.jsxs)(et,{children:[(0,n.jsx)(L,{children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(U,{children:[(0,n.jsx)(N,{children:"intro"===s?(0,n.jsx)(b.x6,{id:"pxh+PI"}):(0,n.jsxs)(z.z,{justifyContent:"center",color:"deepocean.950",children:[(0,n.jsx)(R.g,{icon:m.icon}),(0,n.jsx)(tf.D,{size:"md",fontWeight:"600",children:m.name})]})}),"colors"===s&&(0,n.jsx)(P,{onClick:()=>{i&&i()},leftIcon:O.CeG,children:(0,n.jsx)(b.x6,{id:"ydzS9x"})})]}),(0,n.jsx)(V,{children:(0,n.jsx)(i3,{step:s,setStep:r})}),"intro"!==s&&(0,n.jsx)(W,{children:(0,n.jsx)(i7,{step:s,setStep:r,errorMessage:x,isThemeSaving:c,onFinishClick:u})})]})}),(0,n.jsx)(H,{children:(0,n.jsx)(tv,{})})]})};var nt=i(94497),ni=i(68301);let nn=e=>({build:{label:(0,n.jsx)(b.x6,{id:"abydST"}),description:(0,n.jsx)(b.x6,{id:"n1Ux1f"}),imageComponent:(0,n.jsx)(A.s,{h:"100%",bg:"purple.200",w:"100%",align:"center",justify:"center",color:"purple.600",transitionProperty:"filter",transitionDuration:"normal",_groupHover:{filter:"brightness(1.1)"},children:(0,n.jsx)(R.g,{icon:eH.l8N,size:"5x"})})},import:{label:(0,n.jsx)(b.x6,{id:"F6aY4g"}),description:(0,n.jsx)(b.x6,{id:"G++9tI"}),imageComponent:(0,n.jsx)(A.s,{h:"100%",bg:e?"teal.200":"gray.200",w:"100%",align:"center",justify:"center",color:e?"teal.600":"gray.600",transitionProperty:"filter",transitionDuration:"normal",_groupHover:{filter:"brightness(1.1)"},children:(0,n.jsx)(R.g,{icon:eH.$MS,size:"5x"})}),isComingSoon:!e,isBeta:!0}}),ns=()=>{let e=nn((0,ni.u)("themeImportAi"));return(0,n.jsx)(F.a,{pt:"5vh",minH:"100vh",bg:"titanium.50",children:(0,n.jsx)(B.m,{maxW:"3xl",children:(0,n.jsxs)(T.B,{spacing:"8",children:[(0,n.jsx)(tf.D,{as:"h1",variant:"brand",fontWeight:"600",size:"2xl",textAlign:"center",letterSpacing:"tight",children:(0,n.jsx)(b.x6,{id:"FiwgR9"})}),(0,n.jsx)(T.B,{direction:"row",justify:"center",align:"center",alignItems:"stretch",spacing:"4",children:Object.entries(e).map(e=>{let[t,i]=e;return(0,n.jsx)(nt.V,{"data-testid":"splash-go-to-".concat(t),label:i.label,description:i.description,imageUrl:i.thumbnail,imageComponent:i.imageComponent,isComingSoon:i.isComingSoon,isBeta:i.isBeta,onClick:()=>{i.isComingSoon||w.R.emit("setThemeConfigurationView",{view:t})},ctaIcon:(0,n.jsx)(R.g,{icon:O.dmS}),ctaLabel:(0,n.jsx)(b.x6,{id:"xGVfLh"})},t)})}),(0,n.jsx)(p.E,{textAlign:"center",color:"gray.600",children:(0,n.jsx)(b.x6,{id:"ekvthG",components:{0:(0,n.jsx)(f.$,{"data-testid":"splash-go-to-editor",fontWeight:"600",variant:"link",color:"gray.900",textDecoration:"underline",onClick:()=>{w.R.emit("setThemeConfigurationView",{view:"editor"})}})}})})]})})})};var nr=i(74676),nl=i(36218),no=i(2241),na=i(83817),nd=i.n(na),nc=i(58495),nx=i(8266),nh=i(53587),nu=i(83743),nm=i(68364),np=i(45574);i(7929),i(1136);let nj=e=>{let{uploadedImages:t,setUploadedImages:i,setIsLoading:s}=e,r=(0,h.GV)(e1.aQ),{currentWorkspace:l}=(0,_.ur)(),{orgId:o,templateId:c}=(0,y.PJ)(r||(null==l?void 0:l.id),"themeBackground"),x=(0,ei.d)(),[u,m]=(0,d.useState)(0),[j,g]=(0,d.useState)(!1),f=(0,d.useCallback)(e=>{let{file:t,tempUrl:n}=e;s(!0);let r=n;t.type&&(0,e2.aI)(t.type)&&(r="HEIC_tempId_".concat((0,nc.Ak)())),i(e=>[...e,{tempUrl:r,name:t.name,src:null,showPlaceholder:!0,uploadStatus:eZ.A.Uploading}])},[s,i]),v=(0,d.useCallback)(e=>{i(t=>t.map(t=>t.name===e.name?{...t,tempUrl:null,...(0,np.yK)({result:e,isError:!1})}:t)),m(e=>e+1)},[i]);(0,d.useEffect)(()=>{s(!t.every(e=>"optimized"===e.uploadResultStep))},[s,t]);let w=(0,d.useCallback)(()=>{x({title:"Error uploading images, please try again",status:"error",duration:3e3,isClosable:!0}),m(e=>e+1)},[x]),k=(0,d.useMemo)(()=>{if(!o)throw Error("Tried uploading an image with no orgId");return eq.Fk.createUppyInstance(o,{onUploadStart:f,onUploadComplete:v,onUploadFailed:w},"themeBackground",50,"image",c)},[u,o,f,v,w,c]),C=()=>(0,n.jsxs)(F.a,{pos:"relative",w:"100%",h:"100%",children:[(0,n.jsx)(A.s,{pos:"absolute",inset:0,justify:"center",align:"center",zIndex:1,pointerEvents:"none",mt:-14,color:"gray.600",children:(0,n.jsx)(R.g,{icon:ii.vMo,size:"3x"})}),o&&(0,n.jsx)(nm.OX,{width:"100%",note:eX.Ru._({id:"7TtsoC"}),uppy:k,locale:{strings:{browse:eX.Ru._({id:"wZ9s+A"})}}})]});return t.length>0?(0,n.jsxs)(e$.T,{align:"flex-start",spacing:4,onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),g(!0)},children:[j&&(0,n.jsx)(C,{}),(0,n.jsx)(nu.r,{gap:2,columns:{base:2,"2xl":3},children:t.map(e=>{let{src:t,meta:s,name:r,tempUrl:l}=e||{},o=t?(0,e2.bI)(t,{width:500}):void 0;return(0,n.jsxs)(T.B,{spacing:1,position:"relative",role:"group",children:[(0,n.jsx)(D._,{src:o||l||"",alt:"",ignoreFallback:!0,borderRadius:"md"}),(0,n.jsx)(a.Tz,{label:(0,n.jsx)(b.x6,{id:"ZTnXof"}),placement:"top",children:(0,n.jsx)(iT.K,{"aria-label":eX.Ru._({id:"Rz0Yis"}),icon:(0,n.jsx)(R.g,{icon:O.yLS}),onClick:()=>{i(t=>t.filter(t=>t.name!==e.name))},isRound:!0,position:"absolute",top:1,right:1,size:"sm",color:"red.600",opacity:0,_hover:{color:"red.600"},_groupHover:{opacity:1}})}),s&&s.width&&s.height&&(0,n.jsxs)(p.E,{fontSize:"xs",children:[s.width,"\xd7",s.height,"px"]}),r&&(0,n.jsx)(p.E,{fontSize:"xs",lineHeight:4,children:r})]},e.tempUrl)})})]}):(0,n.jsx)(C,{})};var ng=i(49172);let nf=e=>e.backgroundType===tD.h.IMAGE,nb={...nx.cJ,accentId:void 0},nv=e=>{let{theme:t,accentImages:i,updateAccentImages:s}=e,[r,l]=(0,d.useState)(!1),[o,a]=(0,d.useState)(null),[c,x]=(0,d.useState)(null),h=o&&!!o.accentId,u=(0,ni.u)("bulkUploadAccentImages"),m=(0,d.useCallback)(()=>{x(nb),a(nb)},[]),p=(0,d.useCallback)(()=>{a(null),x(null)},[]),j=(0,d.useCallback)(e=>{let t=e||o;if(!t)return;let n={...t,source:nh.j,originalSource:t.source,accentId:(0,nc.Ak)()},r=i||[];if(h){let e=r.findIndex(e=>e.accentId===o.accentId);if(-1===e)return void console.warn("[AccentImagePicker] Could not find accent image to edit");s({accentBackgrounds:[...r.slice(0,e),n,...r.slice(e+1)]})}else s({accentBackgrounds:[...r,n]});p()},[i,o,h,p,s]),v=(0,d.useCallback)(e=>{s({accentBackgrounds:(i||[]).filter(t=>t.accentId!==e.accentId)})},[i,s]),y=(0,d.useCallback)(e=>{x({...e,source:e.originalSource}),a({...e,source:e.originalSource})},[]),w=(0,d.useCallback)(e=>{if(e.source===eq.ae.key||e.source===eq.Pl.key)return void j(e);if(e.source===eq.mx.key){var t,i,n,s;(null==(t=e.image)?void 0:t.uploadStatus)===eZ.A.Uploading?l(!0):(null==(i=e.image)?void 0:i.uploadStatus)===eZ.A.Done&&(null==(n=e.image)?void 0:n.uploadResultStep)==="optimized"?l(!1):(null==(s=e.image)?void 0:s.uploadStatus)===eZ.A.Error&&l(!1)}a(e)},[j]),k=(0,d.useMemo)(()=>!nd()(o,c),[o,c]),C=(0,e3.Mw)(t),[S,E]=(0,d.useState)([]),[A,I]=(0,d.useState)(!1),F=(0,d.useCallback)(()=>{E([]),I(!1)},[]),D=(0,d.useCallback)(()=>{s({accentBackgrounds:[...S.map(e=>({type:tD.h.IMAGE,source:nh.j,originalSource:"image.custom",image:e,accentId:(0,nc.Ak)()})),...i||[]]}),F()},[S,i,s,F]);return o?(0,n.jsxs)(T.B,{p:6,children:[(0,n.jsx)(t2,{setBackground:w,background:o,isValidSource:nf,defaultMessage:(0,n.jsxs)(eE.F,{children:[(0,n.jsx)(tX._,{}),(0,n.jsx)(b.x6,{id:"VPwqDS"})]}),isDark:C}),(0,n.jsxs)(g.e,{pt:6,display:"flex",children:[(0,n.jsx)(f.$,{variant:"ghost",onClick:p,children:(0,n.jsx)(b.x6,{id:"dEgA5A"})}),(0,n.jsx)(f.$,{variant:"solid",onClick:()=>j(),isLoading:r,isDisabled:!k,flex:1,children:h?(0,n.jsx)(b.x6,{id:"tfDRzk"}):(0,n.jsx)(b.x6,{id:"B6vyEa"})})]})]}):(0,n.jsxs)(T.B,{spacing:6,children:[(0,n.jsxs)(T.B,{spacing:3,children:[(0,n.jsx)(f.$,{leftIcon:(0,n.jsx)(R.g,{icon:O.QLR}),alignSelf:"flex-start",onClick:m,children:(0,n.jsx)(b.x6,{id:"5phU36"})}),u&&(0,n.jsx)(nj,{uploadedImages:S,setUploadedImages:E,setIsLoading:I}),i&&0!=i.length&&(0,n.jsx)(ng.A,{accentImages:i,isDark:C,handleDelete:v,handleItemClick:y,editType:"themeBackground"})]}),S.length>0&&(0,n.jsxs)(g.e,{display:"flex",w:"100%",bottom:0,left:0,bg:"white",py:3,px:6,borderTop:"1px",borderColor:"gray.300",children:[(0,n.jsx)(f.$,{variant:"ghost",onClick:F,children:(0,n.jsx)(b.x6,{id:"dEgA5A"})}),(0,n.jsx)(f.$,{variant:"solid",onClick:D,isLoading:A,flex:1,children:(0,n.jsx)(b.x6,{id:"elVIdl",values:{0:S.length}})})]})]})},ny=(0,d.memo)(()=>{let e=(0,h.jL)(),t=(0,h.GV)(k.eo);if(!t)throw Error("Theme is undefined");return(0,n.jsxs)(tH.t,{variant:"soft-rounded",isFitted:!0,size:"sm",children:[(0,n.jsxs)(tG.w,{children:[(0,n.jsx)(tY.o,{children:(0,n.jsx)(b.x6,{id:"O+LXs1"})}),(0,n.jsx)(tY.o,{children:(0,n.jsx)(b.x6,{id:"COXEr5"})})]}),(0,n.jsxs)(tJ.T,{children:[(0,n.jsx)(tK.K,{px:"0",children:(0,n.jsxs)(T.B,{children:[(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"Jvf2ff"})}),(0,n.jsx)(eA.eK,{mb:"4",children:(0,n.jsx)(b.x6,{id:"nM7mjF"})}),(0,n.jsx)(nl.T,{defaultValue:t.config.stylePrompt,onChange:t=>{e((0,k.jI)({stylePrompt:t.target.value}))}})]}),(0,n.jsxs)(T.B,{children:[(0,n.jsx)(p.E,{children:(0,n.jsx)(b.x6,{id:"voRH7M"})}),(0,n.jsx)(z.z,{alignItems:"flex-start",spacing:4,children:nw.map((e,t)=>(0,n.jsxs)(T.B,{flex:"1",children:[(0,n.jsx)(D._,{src:e.url,borderRadius:"md"}),(0,n.jsxs)(p.E,{fontSize:"xs",fontFamily:"monospace",children:[(0,n.jsxs)(no.B.span,{color:"gray.500",children:[e.prompt(),","]})," ",(0,n.jsx)(no.B.span,{fontWeight:"600",children:e.stylePrompt()})]})]},t))})]})]})}),(0,n.jsxs)(tK.K,{px:"0",children:[(0,n.jsx)(eA.MJ,{children:(0,n.jsx)(eA.eK,{mb:"4",children:(0,n.jsx)(b.x6,{id:"0imEek"})})}),(0,n.jsx)(nv,{accentImages:t.config.accentBackgrounds,updateAccentImages:t=>{let{accentBackgrounds:i}=t;return e((0,k.r4)({accentBackgrounds:i}))},theme:t})]})]})]})});ny.displayName="AccentImagesSettings";let nw=[{url:"/_next/static/media/golden-gate-bridge-photography.86a71fac.png",prompt:()=>eX.Ru._({id:"0dIaoJ"}),stylePrompt:()=>eX.Ru._({id:"A6PocU"})},{url:"/_next/static/media/golden-gate-bridge-illustration.c25343ad.png",prompt:()=>eX.Ru._({id:"0dIaoJ"}),stylePrompt:()=>eX.Ru._({id:"dannsm"})},{url:"/_next/static/media/golden-gate-bridge-claymation.0c82160a.png",prompt:()=>eX.Ru._({id:"0dIaoJ"}),stylePrompt:()=>eX.Ru._({id:"E72rOz"})}];var nk=i(5091),nC=i(91140);let nS=async(e,t,n)=>{try{let n=(await Promise.all([i.e(4266),i.e(451)]).then(i.bind(i,41729))).default,s=(await Promise.all([i.e(4266),i.e(5276)]).then(i.bind(i,13606))).default,r=n.parse(e),l=s.objectify(r);t(l)}catch(e){n(e.message)}},nE=async(e,t,n)=>{try{let n=(await Promise.all([i.e(4266),i.e(451)]).then(i.bind(i,41729))).default,s=(await Promise.all([i.e(4266),i.e(5276)]).then(i.bind(i,13606))).default;n().process(e,{parser:s}).then(e=>{let{css:i}=e;t(i)})}catch(e){n(e.message)}},nA=e=>{let{label:t,initialValue:s,updateValue:r,helperText:l}=e,[o,a]=(0,d.useState)(""),[c,x]=(0,d.useState)(null),[h,u]=(0,d.useState)(),m=(0,i_.lW)(nS,100);return((0,d.useEffect)(()=>{Promise.all([i.e(6171),i.e(6374),i.e(960)]).then(i.bind(i,30960)).then(e=>{u(e.css())})},[]),(0,i_.Vg)(()=>{x(null),s&&nE(s,a,x)},[s],[]),(0,i_.Vg)(()=>{x(null),m(o,r,x)},[o,r,m],[o]),h)?(0,n.jsxs)(eA.MJ,{isInvalid:!!c,children:[(0,n.jsx)(eI.l,{children:t}),c&&(0,n.jsx)(nk.Wt,{children:c}),l&&(0,n.jsx)(eA.eK,{children:l}),(0,n.jsx)(F.a,{border:"1px solid",borderColor:"gray.200",fontSize:"md",children:(0,n.jsx)(d.Suspense,{fallback:(0,n.jsx)("span",{}),children:(0,n.jsx)(nC.j,{value:o,height:"300px",extensions:[h],onChange:a})})})]}):null},nI=(0,d.memo)(()=>{var e,t,i,s,r;let l=(0,h.jL)(),o=(0,h.GV)(k.eo);if(!o)throw Error("Theme is undefined");return(0,n.jsxs)(T.B,{spacing:4,children:[(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"S0kLOH"})}),(0,n.jsx)(eT.p,{defaultValue:o.id,readOnly:!0})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"PPYsiY"})}),(0,n.jsx)(nl.T,{defaultValue:null==(t=o.config.keywords)||null==(e=t.color)?void 0:e.join(", "),onChange:e=>{l((0,k.RR)({colorKeywords:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}))}}),(0,n.jsx)(eA.eK,{children:(0,n.jsx)(b.x6,{id:"j3OJ2O"})})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"valYIJ"})}),(0,n.jsx)(nl.T,{defaultValue:null==(s=o.config.keywords)||null==(i=s.tone)?void 0:i.join(", "),onChange:e=>{l((0,k.oL)({toneKeywords:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}))}}),(0,n.jsx)(eA.eK,{children:(0,n.jsx)(b.x6,{id:"j3OJ2O"})})]}),(0,n.jsxs)(eA.MJ,{children:[(0,n.jsx)(eI.l,{children:(0,n.jsx)(b.x6,{id:"1hKEom"})}),(0,n.jsx)(iI.Q7,{defaultValue:o.priority,onChange:(e,t)=>{l((0,k.xu)({priority:Number.isNaN(t)?void 0:t}))},children:(0,n.jsx)(iI.OO,{})}),(0,n.jsx)(eA.eK,{children:(0,n.jsx)(b.x6,{id:"RyAyyY"})})]}),(0,n.jsx)(nA,{label:(0,n.jsx)(b.x6,{id:"3loch2"}),initialValue:null==(r=o.config)?void 0:r.contentStyles,updateValue:e=>l((0,k.gt)({contentStyles:e}))})]})});nI.displayName="AdvancedConfig";let nT={colors:t3,fonts:iz,logo:iG,design:ih,images:ny,advanced:nI},nF=[{id:"colors",testId:"colors",label:()=>eX.Ru._({id:"1HfW/F"}),icon:ii.l8N},{id:"fonts",testId:"fonts",label:()=>eX.Ru._({id:"I0oBSl"}),icon:ii.tiU},{id:"logo",testId:"logo",label:()=>eX.Ru._({id:"iG7KNr"}),icon:ii.r5G,description:()=>eX.Ru._({id:"lm6ARH"})},{id:"design",testId:"design",label:()=>eX.Ru._({id:"f8fH8W"}),description:()=>eX.Ru._({id:"7FMNYC"}),icon:ii.ffg},{id:"images",testId:"images",label:()=>eX.Ru._({id:"an5hVd"}),icon:ii.yvG},{id:"advanced",testId:"advanced",label:()=>eX.Ru._({id:"sxkWRg"}),description:()=>"Advanced settings that currently only ".concat(ea.On," employees can see."),icon:ii.BH7,isForGammaOnly:!0}],nD=(e,t)=>!!e.isForGammaOnly&&!t,nO=()=>{let{isGammaOrgUser:e}=(0,_.ur)(),[t,i]=(0,d.useState)(0),s=(0,M.h5)({base:!0,lg:!1,default:!1}),r=(0,d.useMemo)(()=>nF.filter(t=>!nD(t,e)),[e]),l=(0,d.useCallback)(e=>{i(e)},[]),o=nT[r[t].id];return(0,n.jsxs)(tH.t,{display:"flex",alignItems:"flex-start",flexDirection:s?"column":"row",variant:"soft-rounded",defaultIndex:0,w:"100%",flex:"1",isLazy:!0,index:t,onChange:l,children:[(0,n.jsx)(tG.w,{display:"flex",flexDirection:s?"row":"column",overflowX:"auto",position:"sticky",top:"0",p:"2",bg:"white",zIndex:"1",minW:s?"100%":"190px",alignItems:s?"flex-start":"stretch",gap:s?void 0:"1",w:s?"100%":void 0,children:r.map((e,t)=>(0,n.jsx)(tY.o,{"data-testid":"theme-config-tab-".concat(e.testId),justifyContent:"flex-start",whiteSpace:s?"nowrap":void 0,borderRadius:"md",_hover:{bg:"trueblue.50"},children:(0,n.jsxs)(z.z,{spacing:"2.5",fontSize:"sm",children:[(0,n.jsx)(F.a,{color:"trueblue.400",children:(0,n.jsx)(R.g,{icon:e.icon,fixedWidth:!0})}),(0,n.jsx)(p.E,{textAlign:"start",noOfLines:{base:void 0,md:1},whiteSpace:"no-wrap",children:e.label()}),e.isForGammaOnly&&(0,n.jsx)(nr.E,{colorScheme:"deepocean",fontSize:"xxs",children:"Employee Only"})]})},t))}),(0,n.jsx)(ed.c,{orientation:s?"horizontal":"vertical"}),(0,n.jsx)(tJ.T,{flex:1,minH:0,h:"100%",children:r.map((e,t)=>(0,n.jsxs)(tK.K,{bg:"white",p:{base:3,md:5},pb:{base:5,md:12},overflowY:"auto",h:"100%",maxH:"100%",as:T.B,w:"100%",spacing:{base:"4",md:"6"},children:[(0,n.jsxs)(T.B,{spacing:"1",children:[(0,n.jsx)(tf.D,{size:"md",color:"gray.700",fontWeight:"500",children:e.label()}),e.description&&(0,n.jsx)(p.E,{fontSize:"sm",color:"gray.600",children:e.description()})]}),(0,n.jsx)(o,{})]},t))})]})};var nR=i(56151),n_=i(30709),nz=i(85813),nB=i(99733),nM=i(898),nL=i(58809),nN=i(79958);let nP=e=>{let{value:t,onSave:i}=e;return(0,n.jsxs)(eA.MJ,{isInvalid:0===t.length,children:[(0,n.jsx)(nR.F,{defaultValue:t,placeholder:(0,C.Y)(),onSubmit:i,submitOnBlur:!0,color:"gray.700",isPreviewFocusable:!0,fontSize:"2xl",fontWeight:"500",children:(0,n.jsxs)(z.z,{spacing:"2",minHeight:10,minW:"10",children:[(0,n.jsx)(n_.l,{px:"1",bg:"gray.50",w:"100%","data-testid":"custom-theme-name-preview",_hover:{bg:"gray.200"}}),(0,n.jsx)(nz.j,{px:"1","data-testid":"custom-theme-name-input"}),(0,n.jsx)(nU,{})]})}),(0,n.jsx)(nk.Wt,{fontWeight:"500",pb:2,children:(0,n.jsx)(b.x6,{id:"iwj88Q"})})]})},nU=()=>{let{isEditing:e,getSubmitButtonProps:t,getCancelButtonProps:i,getEditButtonProps:s}=(0,nB._)();return e?(0,n.jsxs)(g.e,{justifyContent:"center",size:"sm",spacing:0,children:[(0,n.jsx)(a.Tz,{label:(0,n.jsx)(b.x6,{id:"dEgA5A"}),placement:"top",children:(0,n.jsx)(iT.K,{size:"md",colorScheme:"red",variant:"ghost","aria-label":eX.Ru._({id:"dEgA5A"}),icon:(0,n.jsx)(R.g,{icon:eH.yYc}),...i()})}),(0,n.jsx)(a.Tz,{label:(0,n.jsx)(b.x6,{id:"fNzdjk"}),placement:"top",children:(0,n.jsx)(iT.K,{size:"md",colorScheme:"green",variant:"ghost","aria-label":eX.Ru._({id:"fNzdjk"}),icon:(0,n.jsx)(R.g,{icon:eH.e68}),...t(),"data-testid":"save-theme-name-button"})})]}):(0,n.jsx)(A.s,{justifyContent:"center",children:(0,n.jsx)(a.Tz,{label:(0,n.jsx)(b.x6,{id:"+MxT3Q"}),placement:"top",children:(0,n.jsx)(F.a,{children:(0,n.jsx)(iT.K,{size:"md",variant:"ghost",colorScheme:"gray",color:"gray.400","aria-label":eX.Ru._({id:"+MxT3Q"}),icon:(0,n.jsx)(R.g,{icon:eH.hpd}),...s(),ref:null})})})})},nW=()=>{var e;let t=(0,h.GV)(k.TJ),[i,s]=(0,d.useState)(),r=(0,h.jL)(),l=(0,h.GV)(k.sv),o=(0,h.GV)(nL.Jo),{data:a,loading:c}=(0,en.eKT)({variables:{id:t},skip:!t||"new"===t}),x=(0,nN.B)(null==o?void 0:o.title);(0,d.useEffect)(()=>{!c&&a&&a.theme&&s(a.theme)},[c,a,s]);let u=(0,d.useCallback)(e=>{let t=e||(0,C.Y)();r((0,k.qv)({name:t}))},[r]);return(0,n.jsxs)(T.B,{spacing:"1.5",children:[(0,n.jsx)(nP,{value:l||(0,C.Y)(),onSave:u}),c?(0,n.jsx)(nM.r,{noOfLines:1,fontSize:"sm",maxW:"300px"}):(0,n.jsxs)(p.E,{color:"gray.600",fontSize:"sm",fontWeight:"normal",letterSpacing:"normal",children:[(null==i?void 0:i.createdBy)&&(0,n.jsx)(b.x6,{id:"qeNU2j",values:{0:i.createdBy.displayName}})," ",(null==i?void 0:i.docCount)&&(null==i?void 0:i.docCount)===1&&(null==i?void 0:i.id)===(null==o||null==(e=o.theme)?void 0:e.id)?(0,n.jsx)(b.x6,{id:"On+kRG",values:{docTitle:x,GAMMA_ARTIFACT_PROPER_NOUN:ea.TP},components:{0:(0,n.jsx)("strong",{})}}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(b.x6,{id:"eVRfvp",values:{GAMMA_ARTIFACT_PROPER_NOUN:ea.TP,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:ea.Ix,0:(null==i?void 0:i.docCount)||0},components:{0:(0,n.jsx)("strong",{}),1:(0,n.jsx)("strong",{})}})})]})]})},nV=()=>(0,n.jsx)(A.s,{direction:"row",h:"100%",maxH:"100%",overflow:"auto",w:"100%",children:(0,n.jsx)(A.s,{direction:"column",w:"100%",borderLeft:"1px solid",borderColor:"gray.200",position:"relative",children:(0,n.jsxs)(A.s,{flex:"1",position:"relative",h:"100%",flexDirection:"column",children:[(0,n.jsx)(A.s,{p:{base:3,md:5},alignItems:"stretch",flexDirection:"column",children:(0,n.jsx)(nW,{})}),(0,n.jsx)(ed.c,{}),(0,n.jsx)(A.s,{w:"100%",overflowY:"hidden",children:(0,n.jsx)(nO,{})})]})})});(0,d.memo)(e=>{let{onTabChange:t,currentTab:i}=e;return(0,n.jsxs)(g.e,{p:2,position:"absolute",top:"3",insetInlineStart:"50%",transform:"translateX(-50%)",zIndex:"sticky",bg:"white",size:"sm",variant:"ghost",borderRadius:"md",boxShadow:"md",children:[(0,n.jsx)(f.$,{borderRadius:"md",bg:"testerDoc"===i?"trueblue.50":"transparent",color:"testerDoc"===i?"trueblue.500":"gray.600",onClick:()=>{t("testerDoc")},"data-testid":"preview-tab-tester-doc",children:(0,n.jsx)(b.x6,{id:"ypSaiK"})}),(0,n.jsx)(f.$,{borderRadius:"md",bg:"currentDoc"===i?"trueblue.50":"transparent",color:"currentDoc"===i?"trueblue.500":"gray.600",onClick:()=>{t("currentDoc")},"data-testid":"preview-tab-current-doc",children:(0,n.jsx)(b.x6,{id:"VJUm9p"})})]})}).displayName="PreviewTabSwitcher";let nH=e=>{let{onCancelClick:t,onComplete:i}=e,s=(0,h.GV)(k.eo),r=(0,h.GV)(k.D6);el("editor");let{persistTheme:l,isThemeSaving:o}=er({onComplete:i,flow:"editor"}),c=(0,h.GV)(k.jE),x=(0,d.useCallback)(()=>{l()},[l]),u=(0,M.h5)({base:"md","2xl":"lg"});return s?(0,n.jsxs)(et,{children:[(0,n.jsx)(L,{children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(nV,{}),(0,n.jsx)(W,{children:(0,n.jsx)(A.s,{justifyContent:"flex-end",w:"100%","data-theme-editor-footer":!0,children:(0,n.jsxs)(g.e,{size:u,children:[(0,n.jsx)(f.$,{variant:"plain",onClick:t,children:(0,n.jsx)(b.x6,{id:"dEgA5A"})}),(0,n.jsx)(a.Tz,{isDisabled:!r,label:(0,n.jsx)(b.x6,{id:"yz1qqg"}),children:(0,n.jsx)(F.a,{display:"inline-flex",children:(0,n.jsx)(f.$,{variant:"solid",isLoading:o,isDisabled:!c,onClick:x,"data-testid":"custom-theme-save",children:(0,n.jsx)(b.x6,{id:"EsJdRp"})})})})]})})})]})}),(0,n.jsx)(H,{children:(0,n.jsx)(tv,{})})]}):(0,n.jsx)(n.Fragment,{})},nG=e=>{let{onThemeCreated:t,getCollaborativeEditorInstance:i}=e,u=(0,h.jL)(),{isOpen:m,onOpen:p,onClose:j}=(0,x.E)({id:"unsaved-changes"}),g=(0,d.useRef)(null);(0,y.II)();let[f,b]=(0,d.useState)(!1),[A,I]=(0,d.useState)("splash"),T=(0,d.useCallback)(()=>{I("splash"),u((0,k.y0)()),b(!1),j()},[u,j]),F=(0,d.useCallback)(()=>{j(),"themeBuilderExit"===g.current?(u((0,k.y0)()),w.R.emit("setThemeConfigurationView",{view:"splash"})):T()},[T,j,u]),D=(0,d.useCallback)(e=>{let{exitType:t}=e;g.current=t;let i=(0,h.KA)().getState();return"splash"===A?void T():"import"===A?void((0,E.dZ)(i)?p():T()):void((0,k.jE)(i)?p():T())},[T,p,A]),O=(0,d.useCallback)(e=>{if(b(!0),u((0,k.aG)()),e.baseTheme){let t=e.baseTheme;e.isNewFork&&(t={...e.baseTheme,id:"new",name:(0,C.Y)()}),u((0,k.Dm)({baseTheme:t})),u((0,k.p0)({originalTheme:t}))}if(null==i?void 0:i()){var t;u((0,k.eE)({json:null==(t=i())?void 0:t.getJSON()}))}I(e.view||"splash")},[u,i]);return((0,d.useEffect)(()=>{w.R.on("openThemeConfiguration",e=>{O(e)}),w.R.on("closeThemeConfiguration",()=>{b(!1),u((0,k.y0)())}),w.R.on("setThemeConfigurationView",e=>{let{view:t}=e;if(null==i?void 0:i()){var n;u((0,k.eE)({json:null==(n=i())?void 0:n.getJSON()}))}"splash"===t&&u((0,k.aG)()),I(t)})},[u,O,i]),(0,d.useEffect)(()=>{"true"===(0,S.sF)().openThemeEditor&&(O({view:"editor"}),(0,c.g5)({query:{...(0,S.sF)(),openThemeEditor:void 0},emitChange:!1}))},[O]),f)?(0,n.jsxs)(a.L8,{isDark:!1,children:[(0,n.jsxs)(s.aF,{returnFocusOnClose:!1,isOpen:f,trapFocus:!1,size:"full",onClose:()=>D({exitType:"genericExit"}),motionPreset:"slideInBottom",children:[(0,n.jsx)(r.m,{}),(0,n.jsxs)(l.$,{h:"calc(100% - 24px)",minH:"calc(100% - 24px)",flex:1,overflow:"hidden",mt:"24px",children:[(0,n.jsx)(o.s,{top:"3",insetEnd:"3",position:"absolute",zIndex:"100",bg:"gray.50"}),"splash"===A&&(0,n.jsx)(ns,{}),"import"===A&&(0,n.jsx)(tg,{}),"build"===A&&(0,n.jsx)(ne,{onComplete:t,onExitClick:()=>D({exitType:"themeBuilderExit"})}),"editor"===A&&(0,n.jsx)(nH,{onCancelClick:T,onComplete:t})]})]}),(0,n.jsx)(v,{isOpen:m,onClose:j,onConfirm:F})]}):(0,n.jsx)(n.Fragment,{})}},42550:(e,t,i)=>{"use strict";i.d(t,{L:()=>o});var n=i(6029),s=i(40452),r=i(83004),l=i(91106);let o=e=>{let{children:t,...i}=e;return(0,n.jsxs)(s.s,{w:"100%",h:"100%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",bg:"gradient.secondary-dark",...i,children:[(0,n.jsx)(l.lD,{height:"100%",sx:{maxHeight:"100vh",pointerEvents:"none"}}),(0,n.jsx)(r.mL,{styles:{"html, body":{height:"100%"}}}),t]})}},46967:(e,t,i)=>{"use strict";var n=i(77650),s=i(28066);n.Ru.locale||n.Ru.loadAndActivate({locale:"en",messages:s.messages})},56432:(e,t,i)=>{"use strict";i.d(t,{Kp:()=>v,hj:()=>f});var n=i(6029),s=i(40452),r=i(26385),l=i(80314),o=i(48810),a=i(23293),d=i(26420),c=i(83004),x=i(91106);i(55729);var h=i(88021),u=i(73110),m=i(66536),p=i(4711),j=i(87340),g=i(37219);let f=e=>{let{children:t,pageProps:i}=e;return(0,n.jsxs)(s.s,{h:"100%",w:"100vw",overflow:"hidden",display:"flex",justify:"center",align:"center",position:"relative",bg:"linear-gradient(to top, #FFF,rgb(198, 230, 250))",...i,children:[(0,n.jsx)(c.mL,{styles:{"html, body":{height:"100%"}}}),(0,n.jsx)(s.s,{flex:1,w:"100%",h:"100%",overflow:"auto",align:"center",justify:"center","data-centered-message-card-wrapper":!0,children:t}),(0,n.jsx)(s.s,{display:{base:"none",lg:"block"},position:"absolute",w:"35vw",maxW:"500px",h:"30vh",background:"url(".concat(j.A.src,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"bottom",bottom:"30%",insetEnd:"0%",opacity:.5,transform:"translateX(-20%)"}),(0,n.jsx)(s.s,{display:{base:"none",lg:"block"},position:"absolute",w:"35vw",maxW:"500px",h:"30vh",background:"url(".concat(p.A.src,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"bottom",bottom:"30%",insetStart:"0%",opacity:.5,transform:"translateX(20%)"})]})},b=()=>{let e=(0,u.O)();return(0,n.jsxs)(r.B,{direction:"row",justify:"space-between",alignItems:"center",children:[(0,n.jsx)(l.N,{href:(0,m.gt)(e).home,isExternal:!0,children:(0,n.jsx)(x.Fu,{w:"100px"})}),(0,n.jsx)(h.V,{buttonProps:{variant:"ghost"}})]})},v=e=>{let{lede:t,title:i,children:s,stackProps:l,showFooter:c=!1}=e;return(0,n.jsxs)(r.B,{bg:"white",padding:{base:6,md:8},zIndex:"2",borderRadius:{base:"none",md:"xl"},shadow:{base:"none",md:"lg"},maxW:"100%",w:{base:"100%",md:"500px"},spacing:8,m:{base:0,md:8},minH:{base:"100%",md:"auto"},...l,children:[(0,n.jsx)(b,{}),t&&("string"==typeof t?(0,n.jsx)(o.E,{fontSize:"sm",color:"gray.500",children:t}):t),i&&(0,n.jsx)(a.D,{size:"lg",children:i}),(0,n.jsx)(d.a,{flex:1,children:s}),c&&(0,n.jsx)(y,{})]})},y=()=>(0,n.jsx)(r.B,{mt:12,align:"center",children:(0,n.jsxs)(o.E,{color:"gray.300",fontSize:"xs",sx:{a:{color:"gray.400",_hover:{textDecoration:"underline"}}},children:[(0,n.jsx)(l.N,{href:g.er,children:"Terms of Service"})," •"," ",(0,n.jsx)(l.N,{href:g.WO,children:"Privacy Policy"})]})})},59724:(e,t,i)=>{"use strict";i.d(t,{a:()=>a});var n=i(81278),s=i(55729),r=i(20746),l=i(70006),o=i(65148);let a=e=>{let[t,i]=(0,r.F)(o.E.lastHomeUrl,"/"),a=(0,n.useRouter)();(0,s.useEffect)(()=>{let t=t=>{e&&(0,l.dD)(t)&&i(t)};return a.events.on("routeChangeStart",t),a.events.on("hashChangeStart",t),()=>{a.events.off("routeChangeStart",t),a.events.off("hashChangeStart",t)}},[a.events,i,e])};i(1771)},62706:()=>{},65613:()=>{},66536:(e,t,i)=>{"use strict";i.d(t,{K:()=>r,gt:()=>o,ug:()=>l});var n=i(91938),s=i(99767);let r=e=>"/templates/categories/".concat(e),l=e=>{let{id:t,slug:i,absolute:s=!1}=e;return t?"".concat(s?n.$.FRONTEND_URL:"","/templates/").concat(i?"".concat(i,"-"):"").concat(t):""},o=e=>"en"!==e&&e&&s.jF.includes(e)?{home:"/".concat(e),pricing:"/".concat(e,"/pricing")}:{home:"/",pricing:"/pricing"}},69413:(e,t,i)=>{"use strict";i.d(t,{Cr:()=>c,Eu:()=>b,G0:()=>f,H9:()=>j,J3:()=>x,L_:()=>g,M$:()=>m,Q3:()=>y,g9:()=>v,jI:()=>p,yA:()=>u});var n=i(83817),s=i.n(n),r=i(79784),l=i(88586);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=["italic","oblique"];for(let i of e)for(let e of t)if(-1!==i.toLowerCase().indexOf(e))return!0;return!1},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let t of e){if(d(t,["thin"]))return 100;if(d(t,["light","lite"],["extra","ultra","x"]))return 200;if(d(t,["light"]))return 300;if(d(t,["medium"]))return 500;if(d(t,["bold"],["demi","semi"]))return 600;if(d(t,["bold"],["extra","x"]))return 800;if(d(t,["bold"]))return 700;if(d(t,["black","heavy","ultra"]))return 900}return 400},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let n of t)if(0===i.length){if(-1!==e.toLowerCase().indexOf(n.toLowerCase()))return!0}else for(let t of i)if(-1!==e.toLowerCase().indexOf(n.toLowerCase())&&-1!==e.toLowerCase().indexOf(t.toLowerCase()))return!0;return!1};class c extends Error{}let x=async e=>new Promise((t,i)=>{let n=new FileReader;n.onload=e=>{var n,s,l,d,x,h,u,m,p,j,g,f,b,v,y,w,k,C,S;let E=null==(n=e.target)?void 0:n.result;try{let e=(0,r.qg)(E),i=null!=(w=null==(s=Object.values(null!=(y=null==(d=e.tables)||null==(l=d.name)?void 0:l.preferredSubfamily)?y:null==(h=e.tables)||null==(x=h.name)?void 0:x.fontSubfamily))?void 0:s[0])?w:"",n=null!=(k=null==(u=Object.values(null==(p=e.tables)||null==(m=p.name)?void 0:m.fullName))?void 0:u[0])?k:"",A=null!=(S=null==(j=Object.values(null!=(C=null==(f=e.tables)||null==(g=f.name)?void 0:g.preferredFamily)?C:null==(v=e.tables)||null==(b=v.name)?void 0:b.fontFamily))?void 0:j[0])?S:"";if(e.tables.fvar)throw new c;t({familyName:A,isItalic:o([i,n]),weight:a([i,n])})}catch(e){i(e)}},n.onerror=e=>{console.error("[parseFontFile] unable to read the font file, providing defaults",e),t({familyName:"",isItalic:!1,weight:400})},n.readAsArrayBuffer(e)}),h=e=>{let t=e.lastIndexOf(".");return -1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}},u=e=>{let{extension:t}=h(e);return t===l.AKY.Otf||t===l.AKY.Ttf?t:l.AKY.Ttf},m=e=>{let{existingFont:t}=e;if(!t)return!0;let i={fontName:t.name,fontId:t.id,fontFiles:t.fontFiles.map(e=>({id:e.id,name:e.name,weight:e.weight,isItalic:e.isItalic,fileType:e.fileType,sourceUrl:e.sourceUrl}))},n={fontName:e.fontName,fontId:e.fontId,fontFiles:e.uploadFontFiles.map(e=>({id:e.fontFile.id,name:e.fontFile.name,weight:e.fontFile.weight,isItalic:e.fontFile.isItalic,fileType:e.fontFile.fileType,sourceUrl:e.fontFile.sourceUrl}))};return!s()(i,n)},p=e=>Object.keys(e.reduce((e,t)=>{let i=[t.weight,t.isItalic].join("__");return{...e,[i]:!0}},{})).length,j=e=>Object.values(e.reduce((e,t)=>{let i=t.fontFile,n=[i.weight,i.isItalic,i.fileType].join("__");return e[n]=e[n]||[],e[n].push(t),e},{})).reduce((e,t)=>{if(t.length>1)for(let i of t)e[i.uploadId]=!0;return e},{}),g=e=>e.reduce((e,t)=>{let i=t.fontFile.weight;return{...e,[i]:[...e[i]||[],t]}},{}),f=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.sort((e,i)=>t?Number(e)-Number(i):Number(i)-Number(e))},b=e=>f(Array.from(new Set(e.map(e=>e.weight)))),v=(e,t)=>{if(void 0===t)return;if(t>e[e.length-1])return e[e.length-1];let i=1/0,n=-1;for(let s=0;s<e.length;s++){let r=Math.abs(t-e[s]);if(r<i)i=r,n=s;else break}return e[n]},y=e=>!!e&&0!==e.length&&-1===e.findIndex(e=>!e.isItalic)},70583:()=>{},71671:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n={src:"/_next/static/media/gamma-logomark.a54f294c.png",height:256,width:256,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAeFBMVEVMaXHcDvH2h29hMdDkZ4bhIPHJI93GMMmIA/7JAf/+lV3pHuDVB/fydXuyAP/8o0uHEfHCMckwAP9dBf/9fGz/qz31dX1oKdclAv//bXO2E/T7aH33XY2DHuT2kF75n01oEvewHfv+W7jWMeb/oWR6Dv/IUML7ZqU3nJtjAAAAIXRSTlMAvfS2i/soFHV1KXSOunTrc20qjs+SuYG+ifqS8uG3kPbVSKmjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAARUlEQVR4nAXBBQKAIAAAsRMRsLsTMP7/QzegmUIA3V5vp2qNsds67rbC+Dl8FmsovDyCwcXEkejP0qXoLPpuITWggjyBH5MtA9fdDIrUAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},74907:(e,t,i)=>{"use strict";i.d(t,{w:()=>r});var n=i(6029),s=i(19564);let r=()=>({100:(0,n.jsx)(s.x6,{id:"xKi1hd"}),200:(0,n.jsx)(s.x6,{id:"c7s0mT"}),300:(0,n.jsx)(s.x6,{id:"4domrp"}),400:(0,n.jsx)(s.x6,{id:"3CTvmZ"}),500:(0,n.jsx)(s.x6,{id:"uDtGuX"}),600:(0,n.jsx)(s.x6,{id:"U9FxnD"}),700:(0,n.jsx)(s.x6,{id:"gw5LiU"}),800:(0,n.jsx)(s.x6,{id:"4eWNFN"}),900:(0,n.jsx)(s.x6,{id:"Y4B02e"})})},77741:()=>{},87213:()=>{},87340:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});let n={src:"/_next/static/media/clouds2.b6ae5b45.png",height:639,width:1221,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAM1BMVEVMaXHt5N7/8N09Zrza0dusrNb26uk1XMiin8Xz59/YwNb//+a1qNPDu9RFbLmGj83/8u7+n/uqAAAAEHRSTlMAVzYyyhX6EgRtxR/dwoHeF7J08gAAAAlwSFlzAAALEwAACxMBAJqcGAAAAChJREFUeJwFwYkBACAIxLCq4IH//tOaQGROgLZe71mDc4dts0JIjuQfDu4A0ztn0lYAAAAASUVORK5CYII=",blurWidth:8,blurHeight:4}},88021:(e,t,i)=>{"use strict";i.d(t,{V:()=>d});var n=i(6029),s=i(55729),r=i(86740),l=i(73110),o=i(47880),a=i(91405);let d=e=>{let{buttonProps:t,showLabelOnMobile:i=!1}=e,d=(0,l.O)(),c=(0,s.useMemo)(()=>d,[]),[x,h]=(0,s.useState)(c);(0,o.O)(x);let u=(0,s.useCallback)(e=>{h(e),(0,a.Y)(e)},[]);return(0,n.jsx)(r.r,{selectedLocaleKey:d,onLocaleSelect:u,buttonProps:t,showLabelOnMobile:i})}},91140:(e,t,i)=>{"use strict";i.d(t,{j:()=>n});let n=i(55729).lazy(()=>Promise.all([i.e(6171),i.e(6374),i.e(5516),i.e(1707)]).then(i.bind(i,1707)).then(e=>({default:e.default})))},92843:(e,t,i)=>{"use strict";i.d(t,{l:()=>p});var n=i(6029),s=i(5858),r=i(9524),l=i(78015),o=i(72994),a=i(55729),d=i(21938),c=i(45460),x=i(2241);let h=(0,c.R)(function(e,t){let{children:i,placeholder:s,className:r,...l}=e;return(0,n.jsxs)(x.B.select,{...l,ref:t,className:(0,d.cx)("chakra-select",r),children:[s&&(0,n.jsx)("option",{value:"",children:s}),i]})});h.displayName="SelectField";var u=i(79056),m=i(8527);let p=(0,c.R)((e,t)=>{let i=(0,m.o)("Select",e),{rootProps:a,placeholder:d,icon:c,color:p,height:j,h:g,minH:b,minHeight:v,iconColor:y,iconSize:w,...k}=(0,s.M)(e),[C,S]=(0,l.l)(k,r.GF),E=(0,u.t)(S),A={paddingEnd:"2rem",...i.field,_focus:{zIndex:"unset",...i.field?._focus}};return(0,n.jsxs)(x.B.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:p},...C,...a,children:[(0,n.jsx)(h,{ref:t,height:g??j,minH:b??v,placeholder:d,...E,__css:A,children:e.children}),(0,n.jsx)(f,{"data-disabled":(0,o.s)(E.disabled),...(y||p)&&{color:y||p},__css:i.icon,...w&&{fontSize:w},children:c})]})});p.displayName="Select";let j=e=>(0,n.jsx)("svg",{viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),g=(0,x.B)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),f=e=>{let{children:t=(0,n.jsx)(j,{}),...i}=e,s=(0,a.cloneElement)(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return(0,n.jsx)(g,{...i,className:"chakra-select__icon-wrapper",children:(0,a.isValidElement)(t)?s:null})};f.displayName="SelectIcon"},98026:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[2359,9235,883,521,8635,6953,1293,8213,7508,4909,7963,394,5088,4624,8375,3868,4003,5095,9462,5484,4261,3588,2442,5129,9715,8066,7424,2726,6899,5499,3736,636,6593,8792],()=>t(17703)),_N_E=e.O()}]);
//# sourceMappingURL=index-48321b81da4c9543.js.map